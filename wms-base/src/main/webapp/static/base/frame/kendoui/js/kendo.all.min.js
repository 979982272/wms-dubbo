(function(a,b){b([],a)})(function(){(function(av,aE,v){var r=aE.kendo=aE.kendo||{cultures:{}},ac=av.extend,aP=av.each,b=av.isArray,z=av.proxy,au=av.noop,O=Math,U,j=aE.JSON||{},aG={},g=/%/,Q=/\{(\d+)(:[^\}]+)?\}/g,aJ=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,i=/^(\+|-?)\d+(\.?)\d*$/,ak="function",aH="string",N="number",B="object",ah="null",X="boolean",ag="undefined",ao={},T={},x=[].slice,d=aE.Globalize;r.version="2015.2.624";function aF(){}aF.extend=function(aU){var aV=function(){},aW,aT=this,aR=aU&&aU.init?aU.init:function(){aT.apply(this,arguments)},aS;aV.prototype=aT.prototype;aS=aR.fn=aR.prototype=new aV();for(aW in aU){if(aU[aW]!=null&&aU[aW].constructor===Object){aS[aW]=ac(true,{},aV.prototype[aW],aU[aW])}else{aS[aW]=aU[aW]}}aS.constructor=aR;aR.extend=aT.extend;return aR};aF.prototype._initOptions=function(aR){this.options=aN({},this.options,aR)};var ay=r.isFunction=function(aR){return typeof aR==="function"};var y=function(){this._defaultPrevented=true};var ar=function(){return this._defaultPrevented===true};var G=aF.extend({init:function(){this._events={}},bind:function(aX,aV,aW){var aY=this,aZ,aS=typeof aX===aH?[aX]:aX,aT,aU,a1,aR=typeof aV===ak,a0;if(aV===v){for(aZ in aX){aY.bind(aZ,aX[aZ])}return aY}for(aZ=0,aT=aS.length;aZ<aT;aZ++){aX=aS[aZ];a1=aR?aV:aV[aX];if(a1){if(aW){aU=a1;a1=function(){aY.unbind(aX,a1);aU.apply(aY,arguments)};a1.original=aU}a0=aY._events[aX]=aY._events[aX]||[];a0.push(a1)}}return aY},one:function(aS,aR){return this.bind(aS,aR,true)},first:function(aV,aU){var aW=this,aX,aR=typeof aV===aH?[aV]:aV,aS,aZ,aT=typeof aU===ak,aY;for(aX=0,aS=aR.length;aX<aS;aX++){aV=aR[aX];aZ=aT?aU:aU[aV];if(aZ){aY=aW._events[aV]=aW._events[aV]||[];aY.unshift(aZ)}}return aW},trigger:function(aS,aW){var aV=this,aT=aV._events[aS],aR,aU;if(aT){aW=aW||{};aW.sender=aV;aW._defaultPrevented=false;aW.preventDefault=y;aW.isDefaultPrevented=ar;aT=aT.slice();for(aR=0,aU=aT.length;aR<aU;aR++){aT[aR].call(aV,aW)}return aW._defaultPrevented===true}return false},unbind:function(aS,aU){var aV=this,aT=aV._events[aS],aR;if(aS===v){aV._events={}}else{if(aT){if(aU){for(aR=aT.length-1;aR>=0;aR--){if(aT[aR]===aU||aT[aR].original===aU){aT.splice(aR,1)}}}else{aV._events[aS]=[]}}}return aV}});function k(aR,aU){if(aU){return"'"+aR.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'"}else{var aT=aR.charAt(0),aS=aR.substring(1);if(aT==="="){return"+("+aS+")+"}else{if(aT===":"){return"+$kendoHtmlEncode("+aS+")+"}else{return";"+aR+";$kendoOutput+="}}}}var aM=/^\w+/,aA=/\$\{([^}]*)\}/g,o=/\\\}/g,L=/__CURLY__/g,f=/\\#/g,D=/__SHARP__/g,R=["","0","00","000","0000"];U={paramName:"data",useWithBlock:true,render:function(aT,aV){var aR,aU,aS="";for(aR=0,aU=aV.length;aR<aU;aR++){aS+=aT(aV[aR])}return aS},compile:function(a0,a1){var aS=ac({},this,a1),aV=aS.paramName,aT=aV.match(aM)[0],aX=aS.useWithBlock,aR="var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;",aY,aU,aZ;if(ay(a0)){return a0}aR+=aX?"with("+aV+"){":"";aR+="$kendoOutput=";aU=a0.replace(o,"__CURLY__").replace(aA,"#=$kendoHtmlEncode($1)#").replace(L,"}").replace(f,"__SHARP__").split("#");for(aZ=0;aZ<aU.length;aZ++){aR+=k(aU[aZ],aZ%2===0)}aR+=aX?";}":";";aR+="return $kendoOutput;";aR=aR.replace(D,"#");try{aY=new Function(aT,aR);aY._slotCount=Math.floor(aU.length/2);return aY}catch(aW){throw new Error(r.format("Invalid template:'{0}' Generated code:'{1}'",a0,aR))}}};function s(aS,aT,aR){aS=aS+"";aT=aT||2;aR=aT-aS.length;if(aR){return R[aT].substring(0,aR)+aS}return aS}(function(){var aY=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,aX,aR,aV={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},aT,aU={}.toString;if(typeof Date.prototype.toJSON!==ak){Date.prototype.toJSON=function(){var aZ=this;return isFinite(aZ.valueOf())?s(aZ.getUTCFullYear(),4)+"-"+s(aZ.getUTCMonth()+1)+"-"+s(aZ.getUTCDate())+"T"+s(aZ.getUTCHours())+":"+s(aZ.getUTCMinutes())+":"+s(aZ.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}function aS(aZ){aY.lastIndex=0;return aY.test(aZ)?'"'+aZ.replace(aY,function(a0){var a1=aV[a0];return typeof a1===aH?a1:"\\u"+("0000"+a0.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+aZ+'"'}function aW(a7,a4){var a1,a0,a8,aZ,a5=aX,a3,a6=a4[a7],a2;if(a6&&typeof a6===B&&typeof a6.toJSON===ak){a6=a6.toJSON(a7)}if(typeof aT===ak){a6=aT.call(a4,a7,a6)}a2=typeof a6;if(a2===aH){return aS(a6)}else{if(a2===N){return isFinite(a6)?String(a6):ah}else{if(a2===X||a2===ah){return String(a6)}else{if(a2===B){if(!a6){return ah}aX+=aR;a3=[];if(aU.apply(a6)==="[object Array]"){aZ=a6.length;for(a1=0;a1<aZ;a1++){a3[a1]=aW(a1,a6)||ah}a8=a3.length===0?"[]":aX?"[\n"+aX+a3.join(",\n"+aX)+"\n"+a5+"]":"["+a3.join(",")+"]";aX=a5;return a8}if(aT&&typeof aT===B){aZ=aT.length;for(a1=0;a1<aZ;a1++){if(typeof aT[a1]===aH){a0=aT[a1];a8=aW(a0,a6);if(a8){a3.push(aS(a0)+(aX?": ":":")+a8)}}}}else{for(a0 in a6){if(Object.hasOwnProperty.call(a6,a0)){a8=aW(a0,a6);if(a8){a3.push(aS(a0)+(aX?": ":":")+a8)}}}}a8=a3.length===0?"{}":aX?"{\n"+aX+a3.join(",\n"+aX)+"\n"+a5+"}":"{"+a3.join(",")+"}";aX=a5;return a8}}}}}if(typeof j.stringify!==ak){j.stringify=function(a2,a0,a1){var aZ;aX="";aR="";if(typeof a1===N){for(aZ=0;aZ<a1;aZ+=1){aR+=" "}}else{if(typeof a1===aH){aR=a1}}aT=a0;if(a0&&typeof a0!==ak&&(typeof a0!==B||typeof a0.length!==N)){throw new Error("JSON.stringify")}return aW("",{"":a2})}}})();(function(){var a4=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,a3=/^(n|c|p|e)(\d*)$/i,aV=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,aY=/\,/g,a9="",aU=".",a2=",",aS="#",a6="0",aR="??",a7="en-US",aX={}.toString;r.cultures["en-US"]={name:a7,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}};function aW(ba){if(ba){if(ba.numberFormat){return ba}if(typeof ba===aH){var bb=r.cultures;return bb[ba]||bb[ba.split("-")[0]]||null}return null}return null}function a0(ba){if(ba){ba=aW(ba)}return ba||r.cultures.current}function aT(ba){ba.groupSizes=ba.groupSize;ba.percent.groupSizes=ba.percent.groupSize;ba.currency.groupSizes=ba.currency.groupSize}r.culture=function(bc){var bb=r.cultures,ba;if(bc!==v){ba=aW(bc)||bb[a7];ba.calendar=ba.calendars.standard;bb.current=ba;if(d&&!d.load){aT(ba.numberFormat)}}else{return bb.current}};r.findCulture=aW;r.getCulture=a0;r.culture(a7);function a1(bc,be,bb){bb=a0(bb);var bd=bb.calendars.standard,bf=bd.days,ba=bd.months;be=bd.patterns[be]||be;return be.replace(a4,function(bi){var bj;var bg;var bh;if(bi==="d"){bg=bc.getDate()}else{if(bi==="dd"){bg=s(bc.getDate())}else{if(bi==="ddd"){bg=bf.namesAbbr[bc.getDay()]}else{if(bi==="dddd"){bg=bf.names[bc.getDay()]}else{if(bi==="M"){bg=bc.getMonth()+1}else{if(bi==="MM"){bg=s(bc.getMonth()+1)}else{if(bi==="MMM"){bg=ba.namesAbbr[bc.getMonth()]}else{if(bi==="MMMM"){bg=ba.names[bc.getMonth()]}else{if(bi==="yy"){bg=s(bc.getFullYear()%100)}else{if(bi==="yyyy"){bg=s(bc.getFullYear(),4)}else{if(bi==="h"){bg=bc.getHours()%12||12}else{if(bi==="hh"){bg=s(bc.getHours()%12||12)}else{if(bi==="H"){bg=bc.getHours()}else{if(bi==="HH"){bg=s(bc.getHours())}else{if(bi==="m"){bg=bc.getMinutes()}else{if(bi==="mm"){bg=s(bc.getMinutes())}else{if(bi==="s"){bg=bc.getSeconds()}else{if(bi==="ss"){bg=s(bc.getSeconds())}else{if(bi==="f"){bg=O.floor(bc.getMilliseconds()/100)}else{if(bi==="ff"){bg=bc.getMilliseconds();if(bg>99){bg=O.floor(bg/10)}bg=s(bg)}else{if(bi==="fff"){bg=s(bc.getMilliseconds(),3)}else{if(bi==="tt"){bg=bc.getHours()<12?bd.AM[0]:bd.PM[0]}else{if(bi==="zzz"){bj=bc.getTimezoneOffset();bh=bj<0;bg=O.abs(bj/60).toString().split(".")[0];bj=O.abs(bj)-(bg*60);bg=(bh?"+":"-")+s(bg);bg+=":"+s(bj)}else{if(bi==="zz"||bi==="z"){bg=bc.getTimezoneOffset()/60;bh=bg<0;bg=O.abs(bg).toString().split(".")[0];bg=(bh?"+":"-")+(bi==="zz"?s(bg):bg)}}}}}}}}}}}}}}}}}}}}}}}}return bg!==v?bg:bi.slice(1,bi.length-1)})}function aZ(bK,bs,bE){bE=a0(bE);var bJ=bE.numberFormat,bD=bJ.groupSize[0],br=bJ[a2],bI=bJ[aU],bG=bJ.decimals,bd=bJ.pattern[0],ba=[],bg,bb,by,bl,bu,bj=bK<0,bx,bh,bn,bo,bt=a9,bB=a9,bH,bk,bv,bF,bm,be,bf,bC,bA,bc,bz,bw,bq,bp=-1,bi;if(bK===v){return a9}if(!isFinite(bK)){return bK}if(!bs){return bE.name.length?bK.toLocaleString():bK.toString()}bu=a3.exec(bs);if(bu){bs=bu[1].toLowerCase();bb=bs==="c";by=bs==="p";if(bb||by){bJ=bb?bJ.currency:bJ.percent;bD=bJ.groupSize[0];br=bJ[a2];bI=bJ[aU];bG=bJ.decimals;bg=bJ.symbol;bd=bJ.pattern[bj?0:1]}bl=bu[2];if(bl){bG=+bl}if(bs==="e"){return bl?bK.toExponential(bG):bK.toExponential()}if(by){bK*=100}bK=a8(bK,bG);bj=bK<0;bK=bK.split(aU);bx=bK[0];bh=bK[1];if(bj){bx=bx.substring(1)}bB=bx;bn=bx.length;if(bn>=bD){bB=a9;for(bH=0;bH<bn;bH++){if(bH>0&&(bn-bH)%bD===0){bB+=br}bB+=bx.charAt(bH)}}if(bh){bB+=bI+bh}if(bs==="n"&&!bj){return bB}bK=a9;for(bH=0,bk=bd.length;bH<bk;bH++){bv=bd.charAt(bH);if(bv==="n"){bK+=bB}else{if(bv==="$"||bv==="%"){bK+=bg}else{bK+=bv}}}return bK}if(bj){bK=-bK}if(bs.indexOf("'")>-1||bs.indexOf('"')>-1||bs.indexOf("\\")>-1){bs=bs.replace(aV,function(bL){var bM=bL.charAt(0).replace("\\",""),bN=bL.slice(1).replace(bM,"");ba.push(bN);return aR})}bs=bs.split(";");if(bj&&bs[1]){bs=bs[1];bm=true}else{if(bK===0){bs=bs[2]||bs[0];if(bs.indexOf(aS)==-1&&bs.indexOf(a6)==-1){return bs}}else{bs=bs[0]}}bz=bs.indexOf("%");bw=bs.indexOf("$");by=bz!=-1;bb=bw!=-1;if(by){bK*=100}if(bb&&bs[bw-1]==="\\"){bs=bs.split("\\").join("");bb=false}if(bb||by){bJ=bb?bJ.currency:bJ.percent;bD=bJ.groupSize[0];br=bJ[a2];bI=bJ[aU];bG=bJ.decimals;bg=bJ.symbol}bF=bs.indexOf(a2)>-1;if(bF){bs=bs.replace(aY,a9)}be=bs.indexOf(aU);bk=bs.length;if(be!=-1){bh=bK.toString().split("e");if(bh[1]){bh=a8(bK,Math.abs(bh[1]))}else{bh=bh[0]}bh=bh.split(aU)[1]||a9;bC=bs.lastIndexOf(a6)-be;bf=bs.lastIndexOf(aS)-be;bA=bC>-1;bc=bf>-1;bH=bh.length;if(!bA&&!bc){bs=bs.substring(0,be)+bs.substring(be+1);bk=bs.length;be=-1;bH=0}if(bA&&bC>bf){bH=bC}else{if(bf>bC){if(bc&&bH>bf){bH=bf}else{if(bA&&bH<bC){bH=bC}}}}if(bH>-1){bK=a8(bK,bH)}}else{bK=a8(bK)}bf=bs.indexOf(aS);bq=bC=bs.indexOf(a6);if(bf==-1&&bC!=-1){bp=bC}else{if(bf!=-1&&bC==-1){bp=bf}else{bp=bf>bC?bC:bf}}bf=bs.lastIndexOf(aS);bC=bs.lastIndexOf(a6);if(bf==-1&&bC!=-1){bi=bC}else{if(bf!=-1&&bC==-1){bi=bf}else{bi=bf>bC?bf:bC}}if(bp==bk){bi=bp}if(bp!=-1){bB=bK.toString().split(aU);bx=bB[0];bh=bB[1]||a9;bn=bx.length;bo=bh.length;if(bj&&(bK*-1)>=0){bj=false}if(bF){if(bn===bD&&bn<be-bq){bx=br+bx}else{if(bn>bD){bB=a9;for(bH=0;bH<bn;bH++){if(bH>0&&(bn-bH)%bD===0){bB+=br}bB+=bx.charAt(bH)}bx=bB}}}bK=bs.substring(0,bp);if(bj&&!bm){bK+="-"}for(bH=bp;bH<bk;bH++){bv=bs.charAt(bH);if(be==-1){if(bi-bH<bn){bK+=bx;break}}else{if(bC!=-1&&bC<bH){bt=a9}if((be-bH)<=bn&&be-bH>-1){bK+=bx;bH=be}if(be===bH){bK+=(bh?bI:a9)+bh;bH+=bi-be+1;continue}}if(bv===a6){bK+=bv;bt=bv}else{if(bv===aS){bK+=bt}}}if(bi>=bp){bK+=bs.substring(bi+1)}if(bb||by){bB=a9;for(bH=0,bk=bK.length;bH<bk;bH++){bv=bK.charAt(bH);bB+=(bv==="$"||bv==="%")?bg:bv}bK=bB}bk=ba.length;if(bk){for(bH=0;bH<bk;bH++){bK=bK.replace(aR,ba[bH])}}}return bK}var a8=function(bb,ba){ba=ba||0;bb=bb.toString().split("e");bb=Math.round(+(bb[0]+"e"+(bb[1]?(+bb[1]+ba):ba)));bb=bb.toString().split("e");bb=+(bb[0]+"e"+(bb[1]?(+bb[1]-ba):-ba));return bb.toFixed(ba)};var a5=function(bc,ba,bb){if(ba){if(aX.call(bc)==="[object Date]"){return a1(bc,ba,bb)}else{if(typeof bc===N){return aZ(bc,ba,bb)}}}return bc!==v?bc:""};if(d&&!d.load){a5=function(bb,bc,ba){if(av.isPlainObject(ba)){ba=ba.name}return d.format(bb,bc,ba)}}r.format=function(ba){var bb=arguments;return ba.replace(Q,function(bd,bc,be){var bf=bb[parseInt(bc,10)+1];return a5(bf,be?be.substring(1):"")})};r._extractFormat=function(ba){if(ba.slice(0,3)==="{0:"){ba=ba.slice(3,ba.length-1)}return ba};r._activeElement=function(){try{return document.activeElement}catch(ba){return document.documentElement.activeElement}};r._round=a8;r.toString=a5})();(function(){var aY=/\u00A0/g,a5=/[eE][\-+]?[0-9]+/,a4=/[+|\-]\d{1,2}/,a1=/[+|\-]\d{1,2}:?\d{2}/,a6=/^\/Date\((.*?)\)\/$/,a7=/[+-]\d*/,a0=["G","g","d","F","D","y","m","T","t"],aZ={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},aX={}.toString;function a3(a9,ba,a8){return !(a9>=ba&&a9<=a8)}function aW(a8){return a8.charAt(0)}function a2(a8){return av.map(a8,aW)}function aU(a9,a8){if(!a8&&a9.getHours()===23){a9.setHours(a9.getHours()+2)}}function aS(ba){var a8=0,a9=ba.length,bb=[];for(;a8<a9;a8++){bb[a8]=(ba[a8]+"").toLowerCase()}return bb}function aT(ba){var a8={},a9;for(a9 in ba){a8[a9]=aS(ba[a9])}return a8}function aR(bs,bx,bz){if(!bs){return null}var br=function(bG){var bH=0;while(bx[bo]===bG){bH++;bo++}if(bH>0){bo-=1}return bH},bF=function(bI){var bH=aZ[bI]||new RegExp("^\\d{1,"+bI+"}"),bG=bs.substr(bE,bI).match(bH);if(bG){bG=bG[0];bE+=bG.length;return parseInt(bG,10)}return null},bh=function(bM,bH){var bI=0,bJ=bM.length,bG,bL,bK;for(;bI<bJ;bI++){bG=bM[bI];bL=bG.length;bK=bs.substr(bE,bL);if(bH){bK=bK.toLowerCase()}if(bK==bG){bE+=bL;return bI+1}}return null},bu=function(){var bG=false;if(bs.charAt(bE)===bx[bo]){bE++;bG=true}return bG},bn=bz.calendars.standard,bk=null,bD=null,bw=null,by=null,bt=null,bl=null,bi=null,bo=0,bE=0,bv=false,bB=new Date(),be=bn.twoDigitYearMax||2029,bp=bB.getFullYear(),bj,bd,bb,bA,bm,ba,a8,bq,bc,bC,bg,a9,bf;if(!bx){bx="d"}bA=bn.patterns[bx];if(bA){bx=bA}bx=bx.split("");bb=bx.length;for(;bo<bb;bo++){bj=bx[bo];if(bv){if(bj==="'"){bv=false}else{bu()}}else{if(bj==="d"){bd=br("d");if(!bn._lowerDays){bn._lowerDays=aT(bn.days)}if(bw!==null&&bd>2){continue}bw=bd<3?bF(2):bh(bn._lowerDays[bd==3?"namesAbbr":"names"],true);if(bw===null||a3(bw,1,31)){return null}}else{if(bj==="M"){bd=br("M");if(!bn._lowerMonths){bn._lowerMonths=aT(bn.months)}bD=bd<3?bF(2):bh(bn._lowerMonths[bd==3?"namesAbbr":"names"],true);if(bD===null||a3(bD,1,12)){return null}bD-=1}else{if(bj==="y"){bd=br("y");bk=bF(bd);if(bk===null){return null}if(bd==2){if(typeof be==="string"){be=bp+parseInt(be,10)}bk=(bp-bp%100)+bk;if(bk>be){bk-=100}}}else{if(bj==="h"){br("h");by=bF(2);if(by==12){by=0}if(by===null||a3(by,0,11)){return null}}else{if(bj==="H"){br("H");by=bF(2);if(by===null||a3(by,0,23)){return null}}else{if(bj==="m"){br("m");bt=bF(2);if(bt===null||a3(bt,0,59)){return null}}else{if(bj==="s"){br("s");bl=bF(2);if(bl===null||a3(bl,0,59)){return null}}else{if(bj==="f"){bd=br("f");bf=bs.substr(bE,bd).match(aZ[3]);bi=bF(bd);if(bi!==null){bf=bf[0].length;if(bf<3){bi*=Math.pow(10,(3-bf))}if(bd>3){bi=parseInt(bi.toString().substring(0,3),10)}}if(bi===null||a3(bi,0,999)){return null}}else{if(bj==="t"){bd=br("t");bq=bn.AM;bc=bn.PM;if(bd===1){bq=a2(bq);bc=a2(bc)}bm=bh(bc);if(!bm&&!bh(bq)){return null}}else{if(bj==="z"){ba=true;bd=br("z");if(bs.substr(bE,1)==="Z"){bu();continue}a8=bs.substr(bE,6).match(bd>2?a1:a4);if(!a8){return null}a8=a8[0].split(":");bC=a8[0];bg=a8[1];if(!bg&&bC.length>3){bE=bC.length-2;bg=bC.substring(bE);bC=bC.substring(0,bE)}bC=parseInt(bC,10);if(a3(bC,-12,13)){return null}if(bd>2){bg=parseInt(bg,10);if(isNaN(bg)||a3(bg,0,59)){return null}}}else{if(bj==="'"){bv=true;bu()}else{if(!bu()){return null}}}}}}}}}}}}}}a9=by!==null||bt!==null||bl||null;if(bk===null&&bD===null&&bw===null&&a9){bk=bp;bD=bB.getMonth();bw=bB.getDate()}else{if(bk===null){bk=bp}if(bw===null){bw=1}}if(bm&&by<12){by+=12}if(ba){if(bC){by+=-bC}if(bg){bt+=-bg}bs=new Date(Date.UTC(bk,bD,bw,by,bt,bl,bi))}else{bs=new Date(bk,bD,bw,by,bt,bl,bi);aU(bs,by)}if(bk<100){bs.setFullYear(bk)}if(bs.getDate()!==bw&&ba===v){return null}return bs}function aV(a9){var a8=a9.substr(0,1)==="-"?-1:1;a9=a9.substring(1);a9=(parseInt(a9.substr(0,2),10)*60)+parseInt(a9.substring(2),10);return a8*a9}r.parseDate=function(be,bd,bc){if(aX.call(be)==="[object Date]"){return be}var bf=0;var bb=null;var a8,a9;var bg;var ba;if(be&&be.indexOf("/D")===0){bb=a6.exec(be);if(bb){bb=bb[1];bg=a7.exec(bb.substring(1));bb=new Date(parseInt(bb,10));if(bg){bg=aV(bg[0]);bb=r.timezone.apply(bb,0);bb=r.timezone.convert(bb,0,-1*bg)}return bb}}bc=r.getCulture(bc);if(!bd){bd=[];a9=bc.calendar.patterns;a8=a0.length;for(;bf<a8;bf++){bd[bf]=a9[a0[bf]]}bf=0;bd=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fff","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"].concat(bd)}bd=b(bd)?bd:[bd];a8=bd.length;for(;bf<a8;bf++){bb=aR(be,bd[bf],bc);if(bb){return bb}}return bb};r.parseInt=function(ba,a9){var a8=r.parseFloat(ba,a9);if(a8){a8=a8|0}return a8};r.parseFloat=function(bi,bd,bh){if(!bi&&bi!==0){return null}if(typeof bi===N){return bi}bi=bi.toString();bd=r.getCulture(bd);var bc=bd.numberFormat,bf=bc.percent,bg=bc.currency,ba=bg.symbol,a9=bf.symbol,bb=bi.indexOf("-"),be,a8;if(a5.test(bi)){bi=parseFloat(bi.replace(bc["."],"."));if(isNaN(bi)){bi=null}return bi}if(bb>0){return null}else{bb=bb>-1}if(bi.indexOf(ba)>-1||(bh&&bh.toLowerCase().indexOf("c")>-1)){bc=bg;be=bc.pattern[0].replace("$",ba).split("n");if(bi.indexOf(be[0])>-1&&bi.indexOf(be[1])>-1){bi=bi.replace(be[0],"").replace(be[1],"");bb=true}}else{if(bi.indexOf(a9)>-1){a8=true;bc=bf;ba=a9}}bi=bi.replace("-","").replace(ba,"").replace(aY," ").split(bc[","].replace(aY," ")).join("").replace(bc["."],".");bi=parseFloat(bi);if(isNaN(bi)){bi=null}else{if(bb){bi*=-1}}if(bi&&a8){bi/=100}return bi};if(d&&!d.load){r.parseDate=function(a9,ba,a8){if(aX.call(a9)==="[object Date]"){return a9}return d.parseDate(a9,ba,a8)};r.parseFloat=function(a9,a8){if(typeof a9===N){return a9}if(a9===v||a9===null){return null}if(av.isPlainObject(a8)){a8=a8.name}a9=d.parseFloat(a9,a8);return isNaN(a9)?null:a9}}})();function A(aS){var aU=aS.css(r.support.transitions.css+"box-shadow")||aS.css("box-shadow"),aR=aU?aU.match(aJ)||[0,0,0,0,0]:[0,0,0,0,0],aT=O.max((+aR[3]),+(aR[4]||0));return{left:(-aR[1])+aT,right:(+aR[1])+aT,bottom:(+aR[2])+aT}}function q(aW,a1){var aX=aG.browser,a2,aY=aW.css("direction")=="rtl";if(!aW.parent().hasClass("k-animation-container")){var aU=A(aW),aS=aW[0].style.width,a0=aW[0].style.height,aV=g.test(aS),aZ=g.test(a0);if(aX.opera){aU.left=aU.right=aU.bottom=5}a2=aV||aZ;if(!aV&&(!a1||(a1&&aS))){aS=aW.outerWidth()}if(!aZ&&(!a1||(a1&&a0))){a0=aW.outerHeight()}aW.wrap(av("<div/>").addClass("k-animation-container").css({width:aS,height:a0,marginLeft:aU.left*(aY?1:-1),paddingLeft:aU.left,paddingRight:aU.right,paddingBottom:aU.bottom}));if(a2){aW.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}}else{var aR=aW.parent(".k-animation-container"),aT=aR[0].style;if(aR.is(":hidden")){aR.show()}a2=g.test(aT.width)||g.test(aT.height);if(!a2){aR.css({width:aW.outerWidth(),height:aW.outerHeight(),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})}}if(aX.msie&&O.floor(aX.version)<=7){aW.css({zoom:1});aW.children(".k-menu").width(aW.width())}return aW.parent()}function aN(aR){var aS=1,aT=arguments.length;for(aS=1;aS<aT;aS++){a(aR,arguments[aS])}return aR}function a(aZ,aR){var aW=r.data.ObservableArray,aT=r.data.LazyObservableArray,a1=r.data.DataSource,aV=r.data.HierarchicalDataSource,a0,aU,aS,aX,aY;for(a0 in aR){aU=aR[a0];aS=typeof aU;if(aS===B&&aU!==null){aX=aU.constructor}else{aX=null}if(aX&&aX!==Array&&aX!==aW&&aX!==aT&&aX!==a1&&aX!==aV){if(aU instanceof Date){aZ[a0]=new Date(aU.getTime())}else{if(ay(aU.clone)){aZ[a0]=aU.clone()}else{aY=aZ[a0];if(typeof(aY)===B){aZ[a0]=aY||{}}else{aZ[a0]={}}a(aZ[a0],aU)}}}else{if(aS!==ag){aZ[a0]=aU}}}return aZ}function V(aR,aU,aS){for(var aT in aU){if(aU.hasOwnProperty(aT)&&aU[aT].test(aR)){return aT}}return aS!==v?aS:aR}function t(aR){return aR.replace(/([a-z][A-Z])/g,function(aS){return aS.charAt(0)+"-"+aS.charAt(1).toLowerCase()})}function ai(aR){return aR.replace(/\-(\w)/g,function(aT,aS){return aS.toUpperCase()})}function h(aT,aS){var aU={},aR;if(document.defaultView&&document.defaultView.getComputedStyle){aR=document.defaultView.getComputedStyle(aT,"");if(aS){av.each(aS,function(aV,aW){aU[aW]=aR.getPropertyValue(aW)})}}else{aR=aT.currentStyle;if(aS){av.each(aS,function(aV,aW){aU[aW]=aR[ai(aW)]})}}if(!r.size(aU)){aU=aR}return aU}function e(aR){return h(aR,["overflow"]).overflow!="visible"}(function(){aG._scrollbar=v;aG.scrollbar=function(a0){if(!isNaN(aG._scrollbar)&&!a0){return aG._scrollbar}else{var a1=document.createElement("div"),aZ;a1.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block";a1.innerHTML="&nbsp;";document.body.appendChild(a1);aG._scrollbar=aZ=a1.offsetWidth-a1.scrollWidth;document.body.removeChild(a1);return aZ}};aG.isRtl=function(aZ){return av(aZ).closest(".k-rtl").length>0};var aU=document.createElement("table");try{aU.innerHTML="<tr><td></td></tr>";aG.tbodyInnerHtml=true}catch(aX){aG.tbodyInnerHtml=false}aG.touch="ontouchstart" in aE;aG.msPointers=aE.MSPointerEvent;aG.pointers=aE.PointerEvent;var aW=aG.transitions=false,aT=aG.transforms=false,aV="HTMLElement" in aE?HTMLElement.prototype:[];aG.hasHW3D=("WebKitCSSMatrix" in aE&&"m11" in new aE.WebKitCSSMatrix())||"MozPerspective" in document.documentElement.style||"msPerspective" in document.documentElement.style;aP(["Moz","webkit","O","ms"],function(){var a1=this.toString(),aZ=typeof aU.style[a1+"Transition"]===aH;if(aZ||typeof aU.style[a1+"Transform"]===aH){var a0=a1.toLowerCase();aT={css:(a0!="ms")?"-"+a0+"-":"",prefix:a1,event:(a0==="o"||a0==="webkit")?a0:""};if(aZ){aW=aT;aW.event=aW.event?aW.event+"TransitionEnd":"transitionend"}return false}});aU=null;aG.transforms=aT;aG.transitions=aW;aG.devicePixelRatio=aE.devicePixelRatio===v?1:aE.devicePixelRatio;try{aG.screenWidth=aE.outerWidth||aE.screen?aE.screen.availWidth:aE.innerWidth;aG.screenHeight=aE.outerHeight||aE.screen?aE.screen.availHeight:aE.innerHeight}catch(aX){aG.screenWidth=aE.screen.availWidth;aG.screenHeight=aE.screen.availHeight}aG.detectOS=function(aZ){var a2=false,a7,a4=[],a6=!/mobile safari/i.test(aZ),a5={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},a3={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},a0={tablet:/playbook|ipad|fire/i},a8={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(var a1 in a5){if(a5.hasOwnProperty(a1)){a4=aZ.match(a5[a1]);if(a4){if(a1=="windows"&&"plugins" in navigator){return false}a2={};a2.device=a1;a2.tablet=V(a1,a0,false);a2.browser=V(aZ,a8,"default");a2.name=V(a1,a3);a2[a2.name]=true;a2.majorVersion=a4[2];a2.minorVersion=a4[3].replace("_",".");a7=a2.minorVersion.replace(".","").substr(0,2);a2.flatVersion=a2.majorVersion+a7+(new Array(3-(a7.length<3?a7.length:2)).join("0"));a2.cordova=typeof aE.PhoneGap!==ag||typeof aE.cordova!==ag;a2.appMode=aE.navigator.standalone||(/file|local|wmapp/).test(aE.location.protocol)||a2.cordova;if(a2.android&&(aG.devicePixelRatio<1.5&&a2.flatVersion<400||a6)&&(aG.screenWidth>800||aG.screenHeight>800)){a2.tablet=a1}break}}}return a2};var aY=aG.mobileOS=aG.detectOS(navigator.userAgent);aG.wpDevicePixelRatio=aY.wp?screen.width/320:0;aG.kineticScrollNeeded=aY&&(aG.touch||aG.msPointers||aG.pointers);aG.hasNativeScrolling=false;if(aY.ios||(aY.android&&aY.majorVersion>2)||aY.wp){aG.hasNativeScrolling=aY}aG.mouseAndTouchPresent=aG.touch&&!(aG.mobileOS.ios||aG.mobileOS.android);aG.detectBrowser=function(a2){var a1=false,a0=[],aZ={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var a3 in aZ){if(aZ.hasOwnProperty(a3)){a0=a2.match(aZ[a3]);if(a0){a1={};a1[a3]=true;a1[a0[1].toLowerCase().split(" ")[0].split("/")[0]]=true;a1.version=parseInt(document.documentMode||a0[2],10);break}}}return a1};aG.browser=aG.detectBrowser(navigator.userAgent);aG.zoomLevel=function(){try{var aZ=aG.browser;var a0=0;var a2=document.documentElement;if(aZ.msie&&aZ.version==11&&a2.scrollHeight>a2.clientHeight&&!aG.touch){a0=aG.scrollbar()}return aG.touch?(a2.clientWidth/aE.innerWidth):aZ.msie&&aZ.version>=10?(((top||aE).document.documentElement.offsetWidth+a0)/(top||aE).innerWidth):1}catch(a1){return 1}};aG.cssBorderSpacing=typeof document.documentElement.style.borderSpacing!="undefined"&&!(aG.browser.msie&&aG.browser.version<8);(function(a2){var a0="",a1=av(document.documentElement),aZ=parseInt(a2.version,10);if(a2.msie){a0="ie"}else{if(a2.mozilla){a0="ff"}else{if(a2.safari){a0="safari"}else{if(a2.webkit){a0="webkit"}else{if(a2.opera){a0="opera"}}}}}if(a0){a0="k-"+a0+" k-"+a0+aZ}if(aG.mobileOS){a0+=" k-mobile"}a1.addClass(a0)})(aG.browser);aG.eventCapture=document.documentElement.addEventListener;var aR=document.createElement("input");aG.placeholder="placeholder" in aR;aG.propertyChangeEvent="onpropertychange" in aR;aG.input=(function(){var a1=["number","date","time","month","week","datetime","datetime-local"];var a3=a1.length;var a4="test";var a0={};var aZ=0;var a2;for(;aZ<a3;aZ++){a2=a1[aZ];aR.setAttribute("type",a2);aR.value=a4;a0[a2.replace("-","")]=aR.type!=="text"&&aR.value!==a4}return a0})();aR.style.cssText="float:left;";aG.cssFloat=!!aR.style.cssFloat;aR=null;aG.stableSort=(function(){var aZ=513;var a0=[{index:0,field:"b"}];for(var a1=1;a1<aZ;a1++){a0.push({index:a1,field:"a"})}a0.sort(function(a3,a2){return a3.field>a2.field?1:(a3.field<a2.field?-1:0)});return a0[0].index===1})();aG.matchesSelector=aV.webkitMatchesSelector||aV.mozMatchesSelector||aV.msMatchesSelector||aV.oMatchesSelector||aV.matchesSelector||aV.matches||function(aZ){var a0=document.querySelectorAll?(this.parentNode||document).querySelectorAll(aZ)||[]:av(aZ),a1=a0.length;while(a1--){if(a0[a1]==this){return true}}return false};aG.pushState=aE.history&&aE.history.pushState;var aS=document.documentMode;aG.hashChange=("onhashchange" in aE)&&!(aG.browser.msie&&(!aS||aS<=8))})();function I(aT){var aR=0,aS;for(aS in aT){if(aT.hasOwnProperty(aS)&&aS!="toJSON"){aR++}}return aR}function aC(aT,aU,aS){if(!aU){aU="offset"}var aR=aT[aU](),aV=aG.mobileOS;if(aG.browser.msie&&(aG.pointers||aG.msPointers)&&!aS){aR.top-=(aE.pageYOffset-document.documentElement.scrollTop);aR.left-=(aE.pageXOffset-document.documentElement.scrollLeft)}return aR}var ae={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}};function aD(aR){var aS={};aP((typeof aR==="string"?aR.split(" "):aR),function(aT){aS[aT]=this});return aS}function ax(aR){return new r.effects.Element(aR)}var ap={};av.extend(ap,{enabled:true,Element:function(aR){this.element=av(aR)},promise:function(aS,aR){if(!aS.is(":visible")){aS.css({display:aS.data("olddisplay")||"block"}).css("display")}if(aR.hide){aS.data("olddisplay",aS.css("display")).hide()}if(aR.init){aR.init()}if(aR.completeCallback){aR.completeCallback(aS)}aS.dequeue()},disable:function(){this.enabled=false;this.promise=this.promiseShim},enable:function(){this.enabled=true;this.promise=this.animatedPromise}});ap.promiseShim=ap.promise;function Z(aT,aU,aS,aR){if(typeof aT===aH){if(ay(aU)){aR=aU;aU=400;aS=false}if(ay(aS)){aR=aS;aS=false}if(typeof aU===X){aS=aU;aU=400}aT={effects:aT,duration:aU,reverse:aS,complete:aR}}return ac({effects:{},duration:400,reverse:false,init:au,teardown:au,hide:false},aT,{completeCallback:aT.complete,complete:au})}function W(aW,aV,aY,aU,aT){var aS=0,aX=aW.length,aR;for(;aS<aX;aS++){aR=av(aW[aS]);aR.queue(function(){ap.promise(aR,Z(aV,aY,aU,aT))})}return aW}function w(aT,aS,aR,aU){if(aS){aS=aS.split(" ");aP(aS,function(aV,aW){aT.toggleClass(aW,aU)})}return aT}if(!("kendoAnimate" in av.fn)){ac(av.fn,{kendoStop:function(aS,aR){return this.stop(aS,aR)},kendoAnimate:function(aT,aU,aS,aR){return W(this,aT,aU,aS,aR)},kendoAddClass:function(aS,aR){return r.toggleClass(this,aS,aR,true)},kendoRemoveClass:function(aS,aR){return r.toggleClass(this,aS,aR,false)},kendoToggleClass:function(aT,aS,aR){return r.toggleClass(this,aT,aS,aR)}})}var aa=/&/g,aL=/</g,az=/"/g,C=/'/g,ad=/>/g;function K(aR){return(""+aR).replace(aa,"&amp;").replace(aL,"&lt;").replace(ad,"&gt;").replace(az,"&quot;").replace(C,"&#39;")}var at=function(aR){return aR.target};if(aG.touch){at=function(aS){var aR="originalEvent" in aS?aS.originalEvent.changedTouches:"changedTouches" in aS?aS.changedTouches:null;return aR?document.elementFromPoint(aR[0].clientX,aR[0].clientY):aS.target};aP(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(aR,aS){av.fn[aS]=function(aT){return this.bind(aS,aT)}})}if(aG.touch){if(!aG.mobileOS){aG.mousedown="mousedown touchstart";aG.mouseup="mouseup touchend";aG.mousemove="mousemove touchmove";aG.mousecancel="mouseleave touchcancel";aG.click="click";aG.resize="resize"}else{aG.mousedown="touchstart";aG.mouseup="touchend";aG.mousemove="touchmove";aG.mousecancel="touchcancel";aG.click="touchend";aG.resize="orientationchange"}}else{if(aG.pointers){aG.mousemove="pointermove";aG.mousedown="pointerdown";aG.mouseup="pointerup";aG.mousecancel="pointercancel";aG.click="pointerup";aG.resize="orientationchange resize"}else{if(aG.msPointers){aG.mousemove="MSPointerMove";aG.mousedown="MSPointerDown";aG.mouseup="MSPointerUp";aG.mousecancel="MSPointerCancel";aG.click="MSPointerUp";aG.resize="orientationchange resize"}else{aG.mousemove="mousemove";aG.mousedown="mousedown";aG.mouseup="mouseup";aG.mousecancel="mouseleave";aG.click="click";aG.resize="resize"}}}var H=function(aT,aX){var aS=aX||"d",aU,aR,aW,aY,aV=1;for(aR=0,aW=aT.length;aR<aW;aR++){aY=aT[aR];if(aY!==""){aU=aY.indexOf("[");if(aU!==0){if(aU==-1){aY="."+aY}else{aV++;aY="."+aY.substring(0,aU)+" || {})"+aY.substring(aU)}}aV++;aS+=aY+((aR<aW-1)?" || {})":")")}}return new Array(aV).join("(")+aS},af=/^([a-z]+:)?\/\//i;ac(r,{ui:r.ui||{},fx:r.fx||ax,effects:r.effects||ap,mobile:r.mobile||{},data:r.data||{},dataviz:r.dataviz||{},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:r.support||aG,animate:r.animate||W,ns:"",attr:function(aR){return"data-"+r.ns+aR},getShadows:A,wrap:q,deepExtend:aN,getComputedStyles:h,isScrollable:e,size:I,toCamelCase:ai,toHyphens:t,getOffset:r.getOffset||aC,parseEffects:r.parseEffects||aD,toggleClass:r.toggleClass||w,directions:r.directions||ae,Observable:G,Class:aF,Template:U,template:z(U.compile,U),render:z(U.render,U),stringify:z(j.stringify,j),eventTarget:at,htmlEncode:K,isLocalUrl:function(aR){return aR&&!af.test(aR)},expr:function(aT,aR,aS){aT=aT||"";if(typeof aR==aH){aS=aR;aR=false}aS=aS||"d";if(aT&&aT.charAt(0)!=="["){aT="."+aT}if(aR){aT=aT.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"');aT=aT.replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'");aT=H(aT.split("."),aS);aT=aT.replace(/_\$DOT\$_/g,".")}else{aT=aS+aT}return aT},getter:function(aT,aS){var aR=aT+aS;return ao[aR]=ao[aR]||new Function("d","return "+r.expr(aT,aS))},setter:function(aR){return T[aR]=T[aR]||new Function("d,value",r.expr(aR)+"=value")},accessor:function(aR){return{get:r.getter(aR),set:r.setter(aR)}},guid:function(){var aT="",aR,aS;for(aR=0;aR<32;aR++){aS=O.random()*16|0;if(aR==8||aR==12||aR==16||aR==20){aT+="-"}aT+=(aR==12?4:(aR==16?(aS&3|8):aS)).toString(16)}return aT},roleSelector:function(aR){return aR.replace(/(\S+)/g,"["+r.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(aT){var aS=aT.split(" ");if(aS){for(var aR=0;aR<aS.length;aR++){if(aS[aR]!="view"){aS[aR]=aS[aR].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2")}}}return aS.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(aR){return(/^(label|input|textarea|select)$/i).test(aR.target.tagName)},logToConsole:function(aS){var aR=aE.console;if(!r.suppressLog&&typeof(aR)!="undefined"&&aR.log){aR.log(aS)}}});var l=G.extend({init:function(aS,aR){var aT=this;aT.element=r.jQuery(aS).handler(aT);aT.angular("init",aR);G.fn.init.call(aT);var aU=aR?aR.dataSource:null;if(aU){aR=ac({},aR,{dataSource:{}})}aR=aT.options=ac(true,{},aT.options,aR);if(aU){aR.dataSource=aU}if(!aT.element.attr(r.attr("role"))){aT.element.attr(r.attr("role"),(aR.name||"").toLowerCase())}aT.element.data("kendo"+aR.prefix+aR.name,aT);aT.bind(aT.events,aR)},events:[],options:{prefix:""},_hasBindingTarget:function(){return !!this.element[0].kendoBindingTarget},_tabindex:function(aU){aU=aU||this.wrapper;var aS=this.element,aR="tabindex",aT=aU.attr(aR)||aS.attr(aR);aS.removeAttr(aR);aU.attr(aR,!isNaN(aT)?aT:0)},setOptions:function(aR){this._setEvents(aR);av.extend(this.options,aR)},_setEvents:function(aS){var aU=this,aR=0,aT=aU.events.length,aV;for(;aR<aT;aR++){aV=aU.events[aR];if(aU.options[aV]&&aS[aV]){aU.unbind(aV,aU.options[aV])}}aU.bind(aU.events,aS)},resize:function(aT){var aS=this.getSize(),aR=this._size;if(aT||(aS.width>0||aS.height>0)&&(!aR||aS.width!==aR.width||aS.height!==aR.height)){this._size=aS;this._resize(aS,aT);this.trigger("resize",aS)}},getSize:function(){return r.dimensions(this.element)},size:function(aR){if(!aR){return this.getSize()}else{this.setSize(aR)}},setSize:av.noop,_resize:av.noop,destroy:function(){var aR=this;aR.element.removeData("kendo"+aR.options.prefix+aR.options.name);aR.element.removeData("handler");aR.unbind()},angular:function(){}});var c=l.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(aS){var aR=this;aR.angular(aS,function(){return{elements:aR.items(),data:av.map(aR.dataItems(),function(aT){return{dataItem:aT}})}})}});r.dimensions=function(aR,aS){var aT=aR[0];if(aS){aR.css(aS)}return{width:aT.offsetWidth,height:aT.offsetHeight}};r.notify=au;var M=/template$/i,E=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,aj=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]*\]$/,am=/([A-Z])/g;function aO(aR,aS){var aT;if(aS.indexOf("data")===0){aS=aS.substring(4);aS=aS.charAt(0).toLowerCase()+aS.substring(1)}aS=aS.replace(am,"-$1");aT=aR.getAttribute("data-"+r.ns+aS);if(aT===null){aT=v}else{if(aT==="null"){aT=null}else{if(aT==="true"){aT=true}else{if(aT==="false"){aT=false}else{if(i.test(aT)){aT=parseFloat(aT)}else{if(E.test(aT)&&!aj.test(aT)){aT=new Function("return ("+aT+")")()}}}}}}return aT}function an(aT,aS){var aR={},aU,aV;for(aU in aS){aV=aO(aT,aU);if(aV!==v){if(M.test(aU)){aV=r.template(av("#"+aV).html())}aR[aU]=aV}}return aR}r.initWidget=function(aX,a5,aZ){var a6,a0,aY,a3,aS,aW,a2,aR,aT,a1;if(!aZ){aZ=r.ui.roles}else{if(aZ.roles){aZ=aZ.roles}}aX=aX.nodeType?aX:aX[0];aW=aX.getAttribute("data-"+r.ns+"role");if(!aW){return}aT=aW.indexOf(".")===-1;if(aT){aY=aZ[aW]}else{aY=r.getter(aW)(aE)}var aV=av(aX).data(),aU=aY?"kendo"+aY.fn.options.prefix+aY.fn.options.name:"";if(aT){a1=new RegExp("^kendo.*"+aW+"$","i")}else{a1=new RegExp("^"+aU+"$","i")}for(var a4 in aV){if(a4.match(a1)){if(a4===aU){a6=aV[a4]}else{return aV[a4]}}}if(!aY){return}aR=aO(aX,"dataSource");a5=av.extend({},an(aX,aY.fn.options),a5);if(aR){if(typeof aR===aH){a5.dataSource=r.getter(aR)(aE)}else{a5.dataSource=aR}}for(a3=0,aS=aY.fn.events.length;a3<aS;a3++){a0=aY.fn.events[a3];a2=aO(aX,a0);if(a2!==v){a5[a0]=r.getter(a2)(aE)}}if(!a6){a6=new aY(aX,a5)}else{if(!av.isEmptyObject(a5)){a6.setOptions(a5)}}return a6};r.rolesFromNamespaces=function(aU){var aS=[],aR,aT;if(!aU[0]){aU=[r.ui,r.dataviz.ui]}for(aR=0,aT=aU.length;aR<aT;aR++){aS[aR]=aU[aR].roles}return ac.apply(null,[{}].concat(aS.reverse()))};r.init=function(aR){var aS=r.rolesFromNamespaces(x.call(arguments,1));av(aR).find("[data-"+r.ns+"role]").addBack().each(function(){r.initWidget(this,{},aS)})};r.destroy=function(aR){av(aR).find("[data-"+r.ns+"role]").addBack().each(function(){var aT=av(this).data();for(var aS in aT){if(aS.indexOf("kendo")===0&&typeof aT[aS].destroy===ak){aT[aS].destroy()}}})};function p(aS,aR){return av.contains(aS,aR)?-1:1}function aI(){var aR=av(this);return(av.inArray(aR.attr("data-"+r.ns+"role"),["slider","rangeslider"])>-1)||aR.is(":visible")}r.resize=function(aR,aT){var aS=av(aR).find("[data-"+r.ns+"role]").addBack().filter(aI);if(!aS.length){return}var aU=av.makeArray(aS);aU.sort(p);av.each(aU,function(){var aV=r.widgetInstance(av(this));if(aV){aV.resize(aT)}})};r.parseOptions=an;ac(r.ui,{Widget:l,DataBoundWidget:c,roles:{},progress:function(aS,aV){var aZ=aS.find(".k-loading-mask"),aX=r.support,aU=aX.browser,aW,aR,aT,aY;if(aV){if(!aZ.length){aW=aX.isRtl(aS);aR=aW?"right":"left";aY=aS.scrollLeft();aT=aU.webkit?(!aW?0:aS[0].scrollWidth-aS.width()-2*aY):0;aZ=av("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",aS.scrollTop()).css(aR,Math.abs(aY)+aT).prependTo(aS)}}else{if(aZ){aZ.remove()}}},plugin:function(aV,aT,aU){var aS=aV.fn.options.name,aR;aT=aT||r.ui;aU=aU||"";aT[aS]=aV;aT.roles[aS.toLowerCase()]=aV;aR="getKendo"+aU+aS;aS="kendo"+aU+aS;av.fn[aS]=function(aX){var aY=this,aW;if(typeof aX===aH){aW=x.call(arguments,1);this.each(function(){var a0=av.data(this,aS),a1,aZ;if(!a0){throw new Error(r.format("Cannot call method '{0}' of {1} before it is initialized",aX,aS))}a1=a0[aX];if(typeof a1!==ak){throw new Error(r.format("Cannot find method '{0}' of {1}",aX,aS))}aZ=a1.apply(a0,aW);if(aZ!==v){aY=aZ;return false}})}else{this.each(function(){new aV(this,aX)})}return aY};av.fn[aS].widget=aV;av.fn[aR]=function(){return this.data(aS)}}});var aw={bind:function(){return this},nullObject:true,options:{}};var aq=l.extend({init:function(aS,aR){l.fn.init.call(this,aS,aR);this.element.autoApplyNS();this.wrapper=this.element;this.element.addClass("km-widget")},destroy:function(){l.fn.destroy.call(this);this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var aR=this.element.closest(r.roleSelector("view splitview modalview drawer"));return r.widgetInstance(aR,r.mobile.ui)||aw},viewHasNativeScrolling:function(){var aR=this.view();return aR&&aR.options.useNativeScrolling},container:function(){var aR=this.element.closest(r.roleSelector("view layout modalview drawer splitview"));return r.widgetInstance(aR.eq(0),r.mobile.ui)||aw}});ac(r.mobile,{init:function(aR){r.init(aR,r.mobile.ui,r.ui,r.dataviz.ui)},appLevelNativeScrolling:function(){return r.mobile.application&&r.mobile.application.options&&r.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:aq,DataBoundWidget:c.extend(aq.prototype),roles:{},plugin:function(aR){r.ui.plugin(aR,r.mobile.ui,"Mobile")}}});aN(r.dataviz,{init:function(aR){r.init(aR,r.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(aR){r.ui.plugin(aR,r.dataviz.ui)}},roles:{}});r.touchScroller=function(aS,aR){return av(aS).map(function(aT,aU){aU=av(aU);if(aG.kineticScrollNeeded&&r.mobile.ui.Scroller&&!aU.data("kendoMobileScroller")){aU.kendoMobileScroller(aR);return aU.data("kendoMobileScroller")}else{return false}})[0]};r.preventDefault=function(aR){aR.preventDefault()};r.widgetInstance=function(aT,aW){var aY=aT.data(r.ns+"role"),aU=[],aS,aV;if(aY){if(aY==="content"){aY="scroller"}if(aW){if(aW[0]){for(aS=0,aV=aW.length;aS<aV;aS++){aU.push(aW[aS].roles[aY])}}else{aU.push(aW.roles[aY])}}else{aU=[r.ui.roles[aY],r.dataviz.ui.roles[aY],r.mobile.ui.roles[aY]]}if(aY.indexOf(".")>=0){aU=[r.getter(aY)(aE)]}for(aS=0,aV=aU.length;aS<aV;aS++){var aX=aU[aS];if(aX){var aR=aT.data("kendo"+aX.fn.options.prefix+aX.fn.options.name);if(aR){return aR}}}}};r.onResize=function(aS){var aR=aS;if(aG.mobileOS.android){aR=function(){setTimeout(aS,600)}}av(aE).on(aG.resize,aR);return aR};r.unbindResize=function(aR){av(aE).off(aG.resize,aR)};r.attrValue=function(aS,aR){return aS.data(r.ns+aR)};r.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};function aK(aS,aR){var aT=aS.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(aT)?!aS.disabled:"a"===aT?aS.href||aR:aR)&&u(aS)}function u(aR){return !av(aR).parents().addBack().filter(function(){return av.css(this,"visibility")==="hidden"||av.expr.filters.hidden(this)}).length}av.extend(av.expr[":"],{kendoFocusable:function(aS){var aR=av.attr(aS,"tabindex");return aK(aS,!isNaN(aR)&&aR>-1)}});var Y=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"];var n="label, input, [data-rel=external]";var al={setupMouseMute:function(){var aR=0,aU=Y.length,aS=document.documentElement;if(al.mouseTrap||!aG.eventCapture){return}al.mouseTrap=true;al.bustClick=false;al.captureMouse=false;var aT=function(aV){if(al.captureMouse){if(aV.type==="click"){if(al.bustClick&&!av(aV.target).is(n)){aV.preventDefault();aV.stopPropagation()}}else{aV.stopPropagation()}}};for(;aR<aU;aR++){aS.addEventListener(Y[aR],aT,true)}},muteMouse:function(aR){al.captureMouse=true;if(aR.data.bustClick){al.bustClick=true}clearTimeout(al.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(al.mouseTrapTimeoutID);al.mouseTrapTimeoutID=setTimeout(function(){al.captureMouse=false;al.bustClick=false},400)}};var F={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};if(aG.touch&&(aG.mobileOS.ios||aG.mobileOS.android)){F={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}}else{if(aG.pointers){F={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}}else{if(aG.msPointers){F={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}}}}if(aG.msPointers&&!("onmspointerenter" in aE)){av.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(aS,aR){av.event.special[aS]={delegateType:aR,bindType:aR,handle:function(aV){var aT,aX=this,aW=aV.relatedTarget,aU=aV.handleObj;if(!aW||(aW!==aX&&!av.contains(aX,aW))){aV.type=aU.origType;aT=aU.handler.apply(this,arguments);aV.type=aR}return aT}}})}var aB=function(aR){return(F[aR]||aR)},P=/([^ ]+)/g;r.applyEventMap=function(aR,aS){aR=aR.replace(P,aB);if(aS){aR=aR.replace(P,"$1."+aS)}return aR};var J=av.fn.on;function m(aR,aS){return new m.fn.init(aR,aS)}ac(true,m,av);m.fn=m.prototype=new av();m.fn.constructor=m;m.fn.init=function(aR,aS){if(aS&&aS instanceof av&&!(aS instanceof m)){aS=m(aS)}return av.fn.init.call(this,aR,aS,S)};m.fn.init.prototype=m.fn;var S=m(document);ac(m.fn,{handler:function(aR){this.data("handler",aR);return this},autoApplyNS:function(aR){this.data("kendoNS",aR||r.guid());return this},on:function(){var aX=this,aW=aX.data("kendoNS");if(arguments.length===1){return J.call(aX,arguments[0])}var aV=aX,aT=x.call(arguments);if(typeof aT[aT.length-1]===ag){aT.pop()}var aY=aT[aT.length-1],aU=r.applyEventMap(aT[0],aW);if(aG.mouseAndTouchPresent&&aU.search(/mouse|click/)>-1&&this[0]!==document.documentElement){al.setupMouseMute();var aR=aT.length===2?null:aT[1],aS=aU.indexOf("click")>-1&&aU.indexOf("touchend")>-1;J.call(this,{touchstart:al.muteMouse,touchend:al.unMuteMouse},aR,{bustClick:aS})}if(typeof aY===aH){aV=aX.data("handler");aY=aV[aY];aT[aT.length-1]=function(aZ){aY.call(aV,aZ)}}aT[0]=aU;J.apply(aX,aT);return aX},kendoDestroy:function(aR){aR=aR||this.data("kendoNS");if(aR){this.off("."+aR)}return this}});r.jQuery=m;r.eventMap=F;r.timezone=(function(){var aR={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};var a0={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};function aV(a8,a9){var a5;var ba;var bb;var a6=a9[3];var a7=a9[4];var a4=a9[5];var a3=a9[8];if(!a3){a9[8]=a3={}}if(a3[a8]){return a3[a8]}if(!isNaN(a7)){a5=new Date(Date.UTC(a8,aR[a6],a7,a4[0],a4[1],a4[2],0))}else{if(a7.indexOf("last")===0){a5=new Date(Date.UTC(a8,aR[a6]+1,1,a4[0]-24,a4[1],a4[2],0));ba=a0[a7.substr(4,3)];bb=a5.getUTCDay();a5.setUTCDate(a5.getUTCDate()+ba-bb-(ba>bb?7:0))}else{if(a7.indexOf(">=")>=0){a5=new Date(Date.UTC(a8,aR[a6],a7.substr(5),a4[0],a4[1],a4[2],0));ba=a0[a7.substr(0,3)];bb=a5.getUTCDay();a5.setUTCDate(a5.getUTCDate()+ba-bb+(ba<bb?7:0))}}}return a3[a8]=a5}function aY(a4,a9,a3){a9=a9[a3];if(!a9){var a7=a3.split(":");var a8=0;if(a7.length>1){a8=a7[0]*60+Number(a7[1])}return[-1000000,"max","-","Jan",1,[0,0,0],a8,"-"]}var a5=new Date(a4).getUTCFullYear();a9=jQuery.grep(a9,function(ba){var bc=ba[0];var bb=ba[1];return bc<=a5&&(bb>=a5||(bc==a5&&bb=="only")||bb=="max")});a9.push(a4);a9.sort(function(bb,ba){if(typeof bb!="number"){bb=Number(aV(a5,bb))}if(typeof ba!="number"){ba=Number(aV(a5,ba))}return bb-ba});var a6=a9[jQuery.inArray(a4,a9)-1]||a9[a9.length-1];return isNaN(a6)?a6:null}function aW(a6,a5,a8){var a7=a5[a8];if(typeof a7==="string"){a7=a5[a7]}if(!a7){throw new Error('Timezone "'+a8+'" is either incorrect, or kendo.timezones.min.js is not included.')}for(var a3=a7.length-1;a3>=0;a3--){var a9=a7[a3][3];if(a9&&a6>a9){break}}var a4=a7[a3+1];if(!a4){throw new Error('Timezone "'+a8+'" not found on '+a6+".")}return a4}function aU(a5,a4,a7,a6){if(typeof a5!=N){a5=Date.UTC(a5.getFullYear(),a5.getMonth(),a5.getDate(),a5.getHours(),a5.getMinutes(),a5.getSeconds(),a5.getMilliseconds())}var a3=aW(a5,a4,a6);return{zone:a3,rule:aY(a5,a7,a3[1])}}function aS(a4,a5){if(a5=="Etc/UTC"||a5=="Etc/GMT"){return 0}var a7=aU(a4,this.zones,this.rules,a5);var a3=a7.zone;var a6=a7.rule;return r.parseFloat(a6?a3[0]-a6[6]:a3[0])}function a2(a4,a5){var a8=aU(a4,this.zones,this.rules,a5);var a3=a8.zone;var a7=a8.rule;var a6=a3[2];if(a6.indexOf("/")>=0){return a6.split("/")[a7&&+a7[6]?1:0]}else{if(a6.indexOf("%s")>=0){return a6.replace("%s",(!a7||a7[7]=="-")?"":a7[7])}}return a6}function aX(a5,a4,a3){if(typeof a4==aH){a4=this.offset(a5,a4)}if(typeof a3==aH){a3=this.offset(a5,a3)}var a6=a5.getTimezoneOffset();a5=new Date(a5.getTime()+(a4-a3)*60000);var a7=a5.getTimezoneOffset();return new Date(a5.getTime()+(a7-a6)*60000)}function aZ(a3,a4){return this.convert(a3,a3.getTimezoneOffset(),a4)}function aT(a3,a4){return this.convert(a3,a4,a3.getTimezoneOffset())}function a1(a3){return this.apply(new Date(a3),"Etc/UTC")}return{zones:{},rules:{},offset:aS,convert:aX,apply:aZ,remove:aT,abbr:a2,toLocalDate:a1}})();r.date=(function(){var aW=60000,aX=86400000;function aV(a9,a8){if(a8===0&&a9.getHours()===23){a9.setHours(a9.getHours()+2);return true}return false}function aY(bb,a9,ba){var a8=bb.getHours();ba=ba||1;a9=((a9-bb.getDay())+(7*ba))%7;bb.setDate(bb.getDate()+a9);aV(bb,a8)}function aU(ba,a8,a9){ba=new Date(ba);aY(ba,a8,a9);return ba}function a4(a8){return new Date(a8.getFullYear(),a8.getMonth(),1)}function a7(a9){var ba=new Date(a9.getFullYear(),a9.getMonth()+1,0),bb=a4(a9),a8=Math.abs(ba.getTimezoneOffset()-bb.getTimezoneOffset());if(a8){ba.setHours(bb.getHours()+(a8/60))}return ba}function aT(a8){a8=new Date(a8.getFullYear(),a8.getMonth(),a8.getDate(),0,0,0);aV(a8,0);return a8}function aR(a8){return Date.UTC(a8.getFullYear(),a8.getMonth(),a8.getDate(),a8.getHours(),a8.getMinutes(),a8.getSeconds(),a8.getMilliseconds())}function a3(a8){return a8.getTime()-aT(a8)}function aS(bb,ba,a8){var a9=a3(ba),bc=a3(a8),bd;if(!bb||a9==bc){return true}if(ba>=a8){a8+=aX}bd=a3(bb);if(a9>bd){bd+=aX}if(bc<a9){bc+=aX}return bd>=a9&&bd<=bc}function a1(bb,ba,a8){var a9=ba.getTime(),bc=a8.getTime(),bd;if(a9>=bc){bc+=aX}bd=bb.getTime();return bd>=a9&&bd<=bc}function a6(a9,ba){var a8=a9.getHours();a9=new Date(a9);a5(a9,ba*aX);aV(a9,a8);return a9}function a5(a9,a8,ba){var bb=a9.getTimezoneOffset();var bc;a9.setTime(a9.getTime()+a8);if(!ba){bc=a9.getTimezoneOffset()-bb;a9.setTime(a9.getTime()+bc*aW)}}function a2(){return aT(new Date())}function a0(a8){return aT(a8).getTime()==a2().getTime()}function aZ(a8){var a9=new Date(1980,1,1,0,0,0);if(a8){a9.setHours(a8.getHours(),a8.getMinutes(),a8.getSeconds(),a8.getMilliseconds())}return a9}return{adjustDST:aV,dayOfWeek:aU,setDayOfWeek:aY,getDate:aT,isInDateRange:a1,isInTimeRange:aS,isToday:a0,nextDay:function(a8){return a6(a8,1)},previousDay:function(a8){return a6(a8,-1)},toUtcTime:aR,MS_PER_DAY:aX,MS_PER_HOUR:60*aW,MS_PER_MINUTE:aW,setTime:a5,addDays:a6,today:a2,toInvariantTime:aZ,firstDayOfMonth:a4,lastDayOfMonth:a7,getMilliseconds:a3}})();r.stripWhitespace=function(aS){if(document.createNodeIterator){var aT=document.createNodeIterator(aS,NodeFilter.SHOW_TEXT,function(aV){return aV.parentNode==aS?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},false);while(aT.nextNode()){if(aT.referenceNode&&!aT.referenceNode.textContent.trim()){aT.referenceNode.parentNode.removeChild(aT.referenceNode)}}}else{for(var aR=0;aR<aS.childNodes.length;aR++){var aU=aS.childNodes[aR];if(aU.nodeType==3&&!/\S/.test(aU.nodeValue)){aS.removeChild(aU);aR--}if(aU.nodeType==1){r.stripWhitespace(aU)}}}};var aQ=aE.requestAnimationFrame||aE.webkitRequestAnimationFrame||aE.mozRequestAnimationFrame||aE.oRequestAnimationFrame||aE.msRequestAnimationFrame||function(aR){setTimeout(aR,1000/60)};r.animationFrame=function(aR){aQ.call(aE,aR)};var ab=[];r.queueAnimation=function(aR){ab[ab.length]=aR;if(ab.length===1){r.runNextAnimation()}};r.runNextAnimation=function(){r.animationFrame(function(){if(ab[0]){ab.shift()();if(ab[0]){r.runNextAnimation()}}})};r.parseQueryStringParams=function(aS){var aW=aS.split("?")[1]||"",aU={},aV=aW.split(/&|=/),aT=aV.length,aR=0;for(;aR<aT;aR+=2){if(aV[aR]!==""){aU[decodeURIComponent(aV[aR])]=decodeURIComponent(aV[aR+1])}}return aU};r.elementUnderCursor=function(aR){if(typeof aR.x.client!="undefined"){return document.elementFromPoint(aR.x.client,aR.y.client)}};r.wheelDeltaY=function(aS){var aT=aS.originalEvent,aR=aT.wheelDeltaY,aU;if(aT.wheelDelta){if(aR===v||aR){aU=aT.wheelDelta}}else{if(aT.detail&&aT.axis===aT.VERTICAL_AXIS){aU=(-aT.detail)*10}}return aU};r.throttle=function(aU,aT){var aV;var aR=0;if(!aT||aT<=0){return aU}var aS=function(){var aZ=this;var aX=+new Date()-aR;var aY=arguments;function aW(){aU.apply(aZ,aY);aR=+new Date()}if(!aR){return aW()}if(aV){clearTimeout(aV)}if(aX>aT){aW()}else{aV=setTimeout(aW,aT-aX)}};aS.cancel=function(){clearTimeout(aV)};return aS};r.caret=function(aV,aS,aU){var aR;var aZ=aS!==v;if(aU===v){aU=aS}if(aV[0]){aV=aV[0]}if(aZ&&aV.disabled){return}try{if(aV.selectionStart!==v){if(aZ){aV.focus();aV.setSelectionRange(aS,aU)}else{aS=[aV.selectionStart,aV.selectionEnd]}}else{if(document.selection){if(av(aV).is(":visible")){aV.focus()}aR=aV.createTextRange();if(aZ){aR.collapse(true);aR.moveStart("character",aS);aR.moveEnd("character",aU-aS);aR.select()}else{var aT=aR.duplicate(),aX,aY;aR.moveToBookmark(document.selection.createRange().getBookmark());aT.setEndPoint("EndToStart",aR);aX=aT.text.length;aY=aX+aR.text.length;aS=[aX,aY]}}}}catch(aW){aS=[]}return aS};r.compileMobileDirective=function(aS,aT){var aR=aE.angular;aS.attr("data-"+r.ns+"role",aS[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-",""));aR.element(aS).injector().invoke(["$compile",function(aU){aU(aS)(aT);if(!/^\$(digest|apply)$/.test(aT.$$phase)){aT.$digest()}}]);return r.widgetInstance(aS,r.mobile.ui)};r.antiForgeryTokens=function(){var aS={},aR=av("meta[name=csrf-token],meta[name=_csrf]").attr("content"),aT=av("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");av("input[name^='__RequestVerificationToken']").each(function(){aS[this.name]=this.value});if(aT!==v&&aR!==v){aS[aT]=aR}return aS};r.cycleForm=function(aT){var aS=aT.find("input, .k-widget").first();var aU=aT.find("button, .k-button").last();function aR(aV){var aW=r.widgetInstance(aV);if(aW&&aW.focus){aW.focus()}else{aV.focus()}}aU.on("keydown",function(aV){if(aV.keyCode==r.keys.TAB&&!aV.shiftKey){aV.preventDefault();aR(aS)}});aS.on("keydown",function(aV){if(aV.keyCode==r.keys.TAB&&aV.shiftKey){aV.preventDefault();aR(aU)}})};(function(){function aT(aX,a3,aW,a2){var aZ=av("<form>").attr({action:aW,method:"POST",target:a2});var a0=r.antiForgeryTokens();a0.fileName=a3;var a1=aX.split(";base64,");a0.contentType=a1[0].replace("data:","");a0.base64=a1[1];for(var aY in a0){if(a0.hasOwnProperty(aY)){av("<input>").attr({value:a0[aY],name:aY,type:"hidden"}).appendTo(aZ)}}aZ.appendTo("body").submit().remove()}var aU=document.createElement("a");var aS="download" in aU;function aR(aY,a3){var aZ=aY;if(typeof aY=="string"){var a0=aY.split(";base64,");var a2=a0[0];var aX=atob(a0[1]);var a1=new Uint8Array(aX.length);for(var aW=0;aW<aX.length;aW++){a1[aW]=aX.charCodeAt(aW)}aZ=new Blob([a1.buffer],{type:a2})}navigator.msSaveBlob(aZ,a3)}function aV(aW,aY){if(aE.Blob&&aW instanceof Blob){aW=URL.createObjectURL(aW)}aU.download=aY;aU.href=aW;var aX=document.createEvent("MouseEvents");aX.initMouseEvent("click",true,false,aE,0,0,0,0,0,false,false,false,false,0,null);aU.dispatchEvent(aX)}r.saveAs=function(aW){var aX=aT;if(!aW.forceProxy){if(aS){aX=aV}else{if(navigator.msSaveBlob){aX=aR}}}aX(aW.dataURI,aW.fileName,aW.proxyURL,aW.proxyTarget)}})()})(jQuery,window);(function(e,f){var p=window.kendo,n="change",w="back",d="same",j=p.support,a=window.location,m=window.history,t=50,i=p.support.browser.msie,s=/^#*/,r=window.document;function h(z,x){if(!x){return z}if(z+"/"===x){z=x}var y=new RegExp("^"+x,"i");if(!y.test(z)){z=x+"/"+z}return a.protocol+"//"+(a.host+"/"+z).replace(/\/\/+/g,"/")}function v(x){return x?"#!":"#"}function k(y){var x=a.href;if(y==="#!"&&x.indexOf("#")>-1&&x.indexOf("#!")<0){return null}return x.split(y)[1]||""}function g(x,y){if(y.indexOf(x)===0){return(y.substr(x.length)).replace(/\/\//g,"/")}else{return y}}var o=p.Class.extend({back:function(){if(i){setTimeout(function(){m.back()})}else{m.back()}},forward:function(){if(i){setTimeout(function(){m.forward()})}else{m.forward()}},length:function(){return m.length},replaceLocation:function(x){a.replace(x)}});var l=o.extend({init:function(x){this.root=x},navigate:function(x){m.pushState({},r.title,h(x,this.root))},replace:function(x){m.replaceState({},r.title,h(x,this.root))},normalize:function(x){return g(this.root,x)},current:function(){var x=a.pathname;if(a.search){x+=a.search}return g(this.root,x)},change:function(x){e(window).bind("popstate.kendo",x)},stop:function(){e(window).unbind("popstate.kendo")},normalizeCurrent:function(y){var z,x=y.root,B=a.pathname,A=k(v(y.hashBang));if(x===B+"/"){z=x}if(x===B&&A){z=h(A.replace(s,""),x)}if(z){m.pushState({},r.title,z)}}});function q(x){return x.replace(/^(#)?/,"#")}function c(x){return x.replace(/^(#(!)?)?/,"#!")}var u=o.extend({init:function(x){this._id=p.guid();this.prefix=v(x);this.fix=x?c:q},navigate:function(x){a.hash=this.fix(x)},replace:function(x){this.replaceLocation(this.fix(x))},normalize:function(x){if(x.indexOf(this.prefix)<0){return x}else{return x.split(this.prefix)[1]}},change:function(x){if(j.hashChange){e(window).on("hashchange."+this._id,x)}else{this._interval=setInterval(x,t)}},stop:function(){e(window).off("hashchange."+this._id);clearInterval(this._interval)},current:function(){return k(this.prefix)},normalizeCurrent:function(y){var z=a.pathname,x=y.root;if(y.pushState&&x!==z){this.replaceLocation(x+this.prefix+g(x,z));return true}return false}});var b=p.Observable.extend({start:function(y){y=y||{};this.bind([n,w,d],y);if(this._started){return}this._started=true;y.root=y.root||"/";var x=this.createAdapter(y),z;if(x.normalizeCurrent(y)){return}z=x.current();e.extend(this,{adapter:x,root:y.root,historyLength:x.length(),current:z,locations:[z]});x.change(e.proxy(this,"_checkUrl"))},createAdapter:function(x){return j.pushState&&x.pushState?new l(x.root):new u(x.hashBang)},stop:function(){if(!this._started){return}this.adapter.stop();this.unbind(n);this._started=false},change:function(x){this.bind(n,x)},replace:function(y,x){this._navigate(y,x,function(z){z.replace(y);this.locations[this.locations.length-1]=this.current})},navigate:function(y,x){if(y==="#:back"){this.backCalled=true;this.adapter.back();return}this._navigate(y,x,function(z){z.navigate(y);this.locations.push(this.current)})},_navigate:function(A,y,z){var x=this.adapter;A=x.normalize(A);if(this.current===A||this.current===decodeURIComponent(A)){this.trigger(d);return}if(!y){if(this.trigger(n,{url:A})){return}}this.current=A;z.call(this,x);this.historyLength=x.length()},_checkUrl:function(){var x=this.adapter,D=x.current(),C=x.length(),z=this.historyLength===C,y=D===this.locations[this.locations.length-2]&&z,B=this.backCalled,A=this.current;if(D===null||this.current===D||this.current===decodeURIComponent(D)){return true}this.historyLength=C;this.backCalled=false;this.current=D;if(y&&this.trigger("back",{url:A,to:D})){x.forward();this.current=A;return}if(this.trigger(n,{url:D,backButtonPressed:!B})){if(y){x.forward()}else{x.back();this.historyLength--}this.current=A;return}if(y){this.locations.pop()}else{this.locations.push(D)}}});p.History=b;p.History.HistoryAdapter=o;p.History.HashAdapter=u;p.History.PushStateAdapter=l;p.absoluteURL=h;p.history=new b()})(window.kendo.jQuery);(function(){var l=window.kendo,k=l.history,m=l.Observable,o="init",c="routeMissing",h="change",d="back",n="same",b=/\((.*?)\)/g,q=/(\(\?)?:\w+/g,i=/\*\w+/g,g=/[\-{}\[\]+?.,\\\^$|#\s]/g;function f(s,r){return r?s:"([^/]+)"}function e(s,r){return new RegExp("^"+s.replace(g,"\\$&").replace(b,"(?:$1)?").replace(q,f).replace(i,"(.*?)")+"$",r?"i":"")}function p(r){return r.replace(/(\?.*)|(#.*)/g,"")}var j=l.Class.extend({init:function(s,t,r){if(!(s instanceof RegExp)){s=e(s,r)}this.route=s;this._callback=t},callback:function(s){var u,r=0,t,v=l.parseQueryStringParams(s);s=p(s);u=this.route.exec(s).slice(1);t=u.length;for(;r<t;r++){if(typeof u[r]!=="undefined"){u[r]=decodeURIComponent(u[r])}}u.push(v);this._callback.apply(null,u)},worksWith:function(r){if(this.route.test(p(r))){this.callback(r);return true}else{return false}}});var a=m.extend({init:function(r){if(!r){r={}}m.fn.init.call(this);this.routes=[];this.pushState=r.pushState;this.hashBang=r.hashBang;this.root=r.root;this.ignoreCase=r.ignoreCase!==false;this.bind([o,c,h,n],r)},destroy:function(){k.unbind(h,this._urlChangedProxy);k.unbind(n,this._sameProxy);k.unbind(d,this._backProxy);this.unbind()},start:function(){var v=this,u=function(){v._same()},t=function(w){v._back(w)},s=function(w){v._urlChanged(w)};k.start({same:u,change:s,back:t,pushState:v.pushState,hashBang:v.hashBang,root:v.root});var r={url:k.current||"/",preventDefault:$.noop};if(!v.trigger(o,r)){v._urlChanged(r)}this._urlChangedProxy=s;this._backProxy=t},route:function(r,s){this.routes.push(new j(r,s,this.ignoreCase))},navigate:function(s,r){l.history.navigate(s,r)},replace:function(s,r){l.history.replace(s,r)},_back:function(r){if(this.trigger(d,{url:r.url,to:r.to})){r.preventDefault()}},_same:function(r){this.trigger(n)},_urlChanged:function(w){var u=w.url;if(!u){u="/"}if(this.trigger(h,{url:w.url,params:l.parseQueryStringParams(w.url),backButtonPressed:w.backButtonPressed})){w.preventDefault();return}var r=0,s=this.routes,t,v=s.length;for(;r<v;r++){t=s[r];if(t.worksWith(u)){return}}if(this.trigger(c,{url:u,params:l.parseQueryStringParams(u),backButtonPressed:w.backButtonPressed})){w.preventDefault()}}});l.Router=a})();(function(e,c){var i=window.kendo,h=e.extend,f={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith"},g=h({},f,{contains:"contains"}),d={pageSize:e.noop,page:e.noop,filter:function(m,l,k){if(l){l=b(l,k);if(l){m.$filter=l}}},sort:function(m,k){var l=e.map(k,function(o){var n=o.field.replace(/\./g,"/");if(o.dir==="desc"){n+=" desc"}return n}).join(",");if(l){m.$orderby=l}},skip:function(l,k){if(k){l.$skip=k}},take:function(l,k){if(k){l.$top=k}}},a={read:{dataType:"jsonp"}};function b(l,k){var w=[],p=l.logic||"and",v,o,s,r,u,n,t,q,m=l.filters;for(v=0,o=m.length;v<o;v++){l=m[v];s=l.field;t=l.value;n=l.operator;if(l.filters){l=b(l,k)}else{q=l.ignoreCase;s=s.replace(/\./g,"/");l=f[n];if(k){l=g[n]}if(l&&t!==c){r=e.type(t);if(r==="string"){u="'{1}'";t=t.replace(/'/g,"''");if(q===true){s="tolower("+s+")"}}else{if(r==="date"){if(k){u="{1:yyyy-MM-ddTHH:mm:ss+00:00}"}else{u="datetime'{1:yyyy-MM-ddTHH:mm:ss}'"}}else{u="{1}"}}if(l.length>3){if(l!=="substringof"){u="{0}({2},"+u+")"}else{u="{0}("+u+",{2})";if(n==="doesnotcontain"){if(k){u="{0}({2},'{1}') eq -1";l="indexof"}else{u+=" eq false"}}}}else{u="{2} {0} "+u}l=i.format(u,l,t,s)}}w.push(l)}l=w.join(" "+p+" ");if(w.length>1){l="("+l+")"}return l}function j(l){for(var k in l){if(k.indexOf("@odata")===0){delete l[k]}}}h(true,i.data,{schemas:{odata:{type:"json",data:function(k){return k.d.results||[k.d]},total:"d.__count"}},transports:{odata:{read:{cache:true,dataType:"jsonp",jsonp:"$callback"},update:{cache:true,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:true,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:true,dataType:"json",type:"DELETE"},parameterMap:function(m,o,k){var q,p,n,l;m=m||{};o=o||"read";l=(this.options||a)[o];l=l?l.dataType:"json";if(o==="read"){q={$inlinecount:"allpages"};if(l!="json"){q.$format="json"}for(n in m){if(d[n]){d[n](q,m[n],k)}else{q[n]=m[n]}}}else{if(l!=="json"){throw new Error("Only json dataType can be used for "+o+" operation.")}if(o!=="destroy"){for(n in m){p=m[n];if(typeof p==="number"){m[n]=p+""}}q=i.stringify(m)}}return q}}}});h(true,i.data,{schemas:{"odata-v4":{type:"json",data:function(k){k=e.extend({},k);j(k);if(k.value){return k.value}return[k]},total:function(k){return k["@odata.count"]}}},transports:{"odata-v4":{read:{cache:true,dataType:"json"},update:{cache:true,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"PUT"},create:{cache:true,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"POST"},destroy:{cache:true,dataType:"json",type:"DELETE"},parameterMap:function(l,m){var k=i.data.transports.odata.parameterMap(l,m,true);if(m=="read"){k.$count=true;delete k.$inlinecount}return k}}}})})(window.kendo.jQuery);(function(d,c){var h=window.kendo,f=d.isArray,k=d.isPlainObject,b=d.map,j=d.each,g=d.extend,i=h.getter,a=h.Class;var e=a.extend({init:function(w){var r=this,t=w.total,q=w.model,o=w.parse,u=w.errors,v=w.serialize,p=w.data;if(q){if(k(q)){var n=w.modelBase||h.data.Model;if(q.fields){j(q.fields,function(y,x){if(k(x)&&x.field){if(!d.isFunction(x.field)){x=g(x,{field:r.getter(x.field)})}}else{x={field:r.getter(x)}}q.fields[y]=x})}var m=q.id;if(m){var l={};l[r.xpathToMember(m,true)]={field:r.getter(m)};q.fields=g(l,q.fields);q.id=r.xpathToMember(m)}q=n.define(q)}r.model=q}if(t){if(typeof t=="string"){t=r.getter(t);r.total=function(x){return parseInt(t(x),10)}}else{if(typeof t=="function"){r.total=t}}}if(u){if(typeof u=="string"){u=r.getter(u);r.errors=function(x){return u(x)||null}}else{if(typeof u=="function"){r.errors=u}}}if(p){if(typeof p=="string"){p=r.xpathToMember(p);r.data=function(z){var x=r.evaluate(z,p),y;x=f(x)?x:[x];if(r.model&&q.fields){y=new r.model();return b(x,function(B){if(B){var A={},C;for(C in q.fields){A[C]=y._parse(C,q.fields[C].field(B))}return A}})}return x}}else{if(typeof p=="function"){r.data=p}}}if(typeof o=="function"){var s=r.parse;r.parse=function(y){var x=o.call(r,y);return s.call(r,x)}}if(typeof v=="function"){r.serialize=v}},total:function(l){return this.data(l).length},errors:function(l){return l?l.errors:null},serialize:function(l){return l},parseDOM:function(r){var v={},t,n,p,s,q,m,o=r.attributes,l=o.length,u;for(u=0;u<l;u++){m=o[u];v["@"+m.nodeName]=m.nodeValue}for(n=r.firstChild;n;n=n.nextSibling){p=n.nodeType;if(p===3||p===4){v["#text"]=n.nodeValue}else{if(p===1){t=this.parseDOM(n);s=n.nodeName;q=v[s];if(f(q)){q.push(t)}else{if(q!==c){q=[q,t]}else{q=t}}v[s]=q}}}return v},evaluate:function(p,r){var n=r.split("."),s,m,o,q,l;while(s=n.shift()){p=p[s];if(f(p)){m=[];r=n.join(".");for(l=0,o=p.length;l<o;l++){q=this.evaluate(p[l],r);q=f(q)?q:[q];m.push.apply(m,q)}return m}}return p},parse:function(n){var o,m,l={};o=n.documentElement||d.parseXML(n).documentElement;m=this.parseDOM(o);l[o.nodeName]=m;return l},xpathToMember:function(m,l){if(!m){return""}m=m.replace(/^\//,"").replace(/\//g,".");if(m.indexOf("@")>=0){return m.replace(/\.?(@.*)/,l?"$1":'["$1"]')}if(m.indexOf("text()")>=0){return m.replace(/(\.?text\(\))/,l?"#text":'["#text"]')}return m},getter:function(l){return i(this.xpathToMember(l),true)}});d.extend(true,h.data,{XmlDataReader:e,readers:{xml:e}})})(window.kendo.jQuery);(function(aH,w){var ar=aH.extend,A=aH.proxy,H=aH.isPlainObject,aB=aH.isEmptyObject,a=aH.isArray,o=aH.grep,aK=aH.ajax,y,aZ=aH.each,aF=aH.noop,s=window.kendo,aL=s.isFunction,N=s.Observable,aQ=s.Class,aT="string",az="function",aJ="create",h="read",aR="update",D="destroy",J="change",P="sync",m="get",I="error",aI="requestStart",aD="progress",ad="requestEnd",af=[aJ,h,aR,D],ag=function(a0){return a0},Y=s.getter,am=s.stringify,aa=Math,e=[].push,ay=[].join,aO=[].pop,aC=[].splice,aj=[].shift,z=[].slice,aS=[].unshift,aA={}.toString,O=s.support.stableSort,aw=/^\/Date\((.*?)\)\/$/,ah=/(\r+|\n+)/g,aM=/(?=['\\])/g;var al=N.extend({init:function(a2,a0){var a1=this;a1.type=a0||ai;N.fn.init.call(a1);a1.length=a2.length;a1.wrapAll(a2,a1)},at:function(a0){return this[a0]},toJSON:function(){var a0,a2=this.length,a3,a1=new Array(a2);for(a0=0;a0<a2;a0++){a3=this[a0];if(a3 instanceof ai){a3=a3.toJSON()}a1[a0]=a3}return a1},parent:aF,wrapAll:function(a4,a5){var a3=this,a0,a2,a1=function(){return a3};a5=a5||[];for(a0=0,a2=a4.length;a0<a2;a0++){a5[a0]=a3.wrap(a4[a0],a1)}return a5},wrap:function(a0,a1){var a2=this,a3;if(a0!==null&&aA.call(a0)==="[object Object]"){a3=a0 instanceof a2.type||a0 instanceof E;if(!a3){a0=a0 instanceof ai?a0.toJSON():a0;a0=new a2.type(a0)}a0.parent=a1;a0.bind(J,function(a4){a2.trigger(J,{field:a4.field,node:a4.node,index:a4.index,items:a4.items||[this],action:a4.node?(a4.action||"itemloaded"):"itemchange"})})}return a0},push:function(){var a2=this.length,a1=this.wrapAll(arguments),a0;a0=e.apply(this,a1);this.trigger(J,{action:"add",index:a2,items:a1});return a0},slice:z,sort:[].sort,join:ay,pop:function(){var a1=this.length,a0=aO.apply(this);if(a1){this.trigger(J,{action:"remove",index:a1-1,items:[a0]})}return a0},splice:function(a3,a5,a6){var a2=this.wrapAll(z.call(arguments,2)),a1,a4,a0;a1=aC.apply(this,[a3,a5].concat(a2));if(a1.length){this.trigger(J,{action:"remove",index:a3,items:a1});for(a4=0,a0=a1.length;a4<a0;a4++){if(a1[a4]&&a1[a4].children){a1[a4].unbind(J)}}}if(a6){this.trigger(J,{action:"add",index:a3,items:a2})}return a1},shift:function(){var a1=this.length,a0=aj.apply(this);if(a1){this.trigger(J,{action:"remove",index:0,items:[a0]})}return a0},unshift:function(){var a1=this.wrapAll(arguments),a0;a0=aS.apply(this,a1);this.trigger(J,{action:"add",index:0,items:a1});return a0},indexOf:function(a3){var a2=this,a0,a1;for(a0=0,a1=a2.length;a0<a1;a0++){if(a2[a0]===a3){return a0}}return -1},forEach:function(a2){var a0=0,a1=this.length;for(;a0<a1;a0++){a2(this[a0],a0,this)}},map:function(a3){var a1=0,a0=[],a2=this.length;for(;a1<a2;a1++){a0[a1]=a3(this[a1],a1,this)}return a0},reduce:function(a4,a2){var a1=0,a0,a3=this.length;if(arguments.length==2){a0=arguments[1]}else{if(a1<a3){a0=this[a1++]}}for(;a1<a3;a1++){a0=a4(a0,this[a1],a1,this)}return a0},reduceRight:function(a3,a2){var a1=this.length-1,a0;if(arguments.length==2){a0=arguments[1]}else{if(a1>0){a0=this[a1--]}}for(;a1>=0;a1--){a0=a3(a0,this[a1],a1,this)}return a0},filter:function(a4){var a1=0,a0=[],a3,a2=this.length;for(;a1<a2;a1++){a3=this[a1];if(a4(a3,a1,this)){a0[a0.length]=a3}}return a0},find:function(a3){var a0=0,a2,a1=this.length;for(;a0<a1;a0++){a2=this[a0];if(a3(a2,a0,this)){return a2}}},every:function(a3){var a0=0,a2,a1=this.length;for(;a0<a1;a0++){a2=this[a0];if(!a3(a2,a0,this)){return false}}return true},some:function(a3){var a0=0,a2,a1=this.length;for(;a0<a1;a0++){a2=this[a0];if(a3(a2,a0,this)){return true}}return false},remove:function(a1){var a0=this.indexOf(a1);if(a0!==-1){this.splice(a0,1)}},empty:function(){this.splice(0,this.length)}});var ap=al.extend({init:function(a2,a1){N.fn.init.call(this);this.type=a1||ai;for(var a0=0;a0<a2.length;a0++){this[a0]=a2[a0]}this.length=a0;this._parent=A(function(){return this},this)},at:function(a0){var a1=this[a0];if(!(a1 instanceof this.type)){a1=this[a0]=this.wrap(a1,this._parent)}else{a1.parent=this._parent}return a1}});function ax(a0,a1,a3,a2){return function(a6){var a5={},a4;for(a4 in a6){a5[a4]=a6[a4]}if(a2){a5.field=a3+"."+a6.field}else{a5.field=a3}if(a1==J&&a0._notifyChange){a0._notifyChange(a5)}a0.trigger(a1,a5)}}var ai=N.extend({init:function(a2){var a1=this,a4,a3,a0=function(){return a1};N.fn.init.call(this);for(a3 in a2){a4=a2[a3];if(typeof a4==="object"&&a4&&!a4.getTime&&a3.charAt(0)!="_"){a4=a1.wrap(a4,a3,a0)}a1[a3]=a4}a1.uid=s.guid()},shouldSerialize:function(a0){return this.hasOwnProperty(a0)&&a0!=="_events"&&typeof this[a0]!==az&&a0!=="uid"},forEach:function(a1){for(var a0 in this){if(this.shouldSerialize(a0)){a1(this[a0],a0)}}},toJSON:function(){var a0={},a1,a2;for(a2 in this){if(this.shouldSerialize(a2)){a1=this[a2];if(a1 instanceof ai||a1 instanceof al){a1=a1.toJSON()}a0[a2]=a1}}return a0},get:function(a2){var a1=this,a0;a1.trigger(m,{field:a2});if(a2==="this"){a0=a1}else{a0=s.getter(a2,true)(a1)}return a0},_set:function(a4,a1){var a0=this;var a6=a4.indexOf(".")>=0;if(a6){var a5=a4.split("."),a3="";while(a5.length>1){a3+=a5.shift();var a2=s.getter(a3,true)(a0);if(a2 instanceof ai){a2.set(a5.join("."),a1);return a6}a3+="."}}s.setter(a4)(a0,a1);return a6},set:function(a3,a1){var a0=this,a4=a3.indexOf(".")>=0,a2=s.getter(a3,true)(a0);if(a2!==a1){if(!a0.trigger("set",{field:a3,value:a1})){if(!a4){a1=a0.wrap(a1,a3,function(){return a0})}if(!a0._set(a3,a1)||a3.indexOf("(")>=0||a3.indexOf("[")>=0){a0.trigger(J,{field:a3})}}}},parent:aF,wrap:function(a1,a6,a3){var a5=this,a2=aA.call(a1);if(a1!=null&&(a2==="[object Object]"||a2==="[object Array]")){var a0=a1 instanceof al;var a4=a1 instanceof r;if(a2==="[object Object]"&&!a4&&!a0){if(!(a1 instanceof ai)){a1=new ai(a1)}if(a1.parent()!=a3()){a1.bind(m,ax(a5,m,a6,true));a1.bind(J,ax(a5,J,a6,true))}}else{if(a2==="[object Array]"||a0||a4){if(!a0&&!a4){a1=new al(a1)}if(a1.parent()!=a3()){a1.bind(J,ax(a5,J,a6,false))}}}a1.parent=a3}return a1}});function aW(a0,a4){if(a0===a4){return true}var a3=aH.type(a0),a1=aH.type(a4),a2;if(a3!==a1){return false}if(a3==="date"){return a0.getTime()===a4.getTime()}if(a3!=="object"&&a3!=="array"){return false}for(a2 in a0){if(!aW(a0[a2],a4[a2])){return false}}return true}var W={number:function(a0){return s.parseFloat(a0)},date:function(a0){return s.parseDate(a0)},"boolean":function(a0){if(typeof a0===aT){return a0.toLowerCase()==="true"}return a0!=null?!!a0:a0},string:function(a0){return a0!=null?(a0+""):a0},"default":function(a0){return a0}};var aV={string:"",number:0,date:new Date(),"boolean":false,"default":""};function au(a2,a0){var a1,a3;for(a3 in a2){a1=a2[a3];if(H(a1)&&a1.field&&a1.field===a0){return a1}else{if(a1===a0){return a1}}}return null}var E=ai.extend({init:function(a3){var a2=this;if(!a3||aH.isEmptyObject(a3)){a3=aH.extend({},a2.defaults,a3);if(a2._initializers){for(var a0=0;a0<a2._initializers.length;a0++){var a1=a2._initializers[a0];a3[a1]=a2.defaults[a1]()}}}ai.fn.init.call(a2,a3);a2.dirty=false;if(a2.idField){a2.id=a2.get(a2.idField);if(a2.id===w){a2.id=a2._defaultId}}},shouldSerialize:function(a0){return ai.fn.shouldSerialize.call(this,a0)&&a0!=="uid"&&!(this.idField!=="id"&&a0==="id")&&a0!=="dirty"&&a0!=="_accessors"},_parse:function(a3,a2){var a1=this,a5=a3,a0=(a1.fields||{}),a4;a3=a0[a3];if(!a3){a3=au(a0,a5)}if(a3){a4=a3.parse;if(!a4&&a3.type){a4=W[a3.type.toLowerCase()]}}return a4?a4(a2):a2},_notifyChange:function(a1){var a0=a1.action;if(a0=="add"||a0=="remove"){this.dirty=true}},editable:function(a0){a0=(this.fields||{})[a0];return a0?a0.editable!==false:true},set:function(a3,a2,a1){var a0=this;if(a0.editable(a3)){a2=a0._parse(a3,a2);if(!aW(a2,a0.get(a3))){a0.dirty=true;ai.fn.set.call(a0,a3,a2,a1)}}},accept:function(a3){var a1=this,a0=function(){return a1},a4;for(a4 in a3){var a2=a3[a4];if(a4.charAt(0)!="_"){a2=a1.wrap(a3[a4],a4,a0)}a1._set(a4,a2)}if(a1.idField){a1.id=a1.get(a1.idField)}a1.dirty=false},isNew:function(){return this.id===this._defaultId}});E.define=function(a2,bd){if(bd===w){bd=a2;a2=E}var a6,a5=ar({defaults:{}},bd),a0,ba,a9,bc,bb,a3,a7={},a8,a1=a5.id,a4=[];if(a1){a5.idField=a1}if(a5.id){delete a5.id}if(a1){a5.defaults[a1]=a5._defaultId=""}if(aA.call(a5.fields)==="[object Array]"){for(bb=0,a3=a5.fields.length;bb<a3;bb++){ba=a5.fields[bb];if(typeof ba===aT){a7[ba]={}}else{if(ba.field){a7[ba.field]=ba}}}a5.fields=a7}for(a0 in a5.fields){ba=a5.fields[a0];a9=ba.type||"default";bc=null;a8=a0;a0=typeof(ba.field)===aT?ba.field:a0;if(!ba.nullable){bc=a5.defaults[a8!==a0?a8:a0]=ba.defaultValue!==w?ba.defaultValue:aV[a9.toLowerCase()];if(typeof bc==="function"){a4.push(a0)}}if(bd.id===a0){a5._defaultId=bc}a5.defaults[a8!==a0?a8:a0]=bc;ba.parse=ba.parse||W[a9]}if(a4.length>0){a5._initializers=a4}a6=a2.extend(a5);a6.define=function(be){return E.define(a6,be)};if(a5.fields){a6.fields=a5.fields;a6.idField=a5.idField}return a6};var M={selector:function(a0){return aL(a0)?a0:Y(a0)},compare:function(a1){var a0=this.selector(a1);return function(a3,a2){a3=a0(a3);a2=a0(a2);if(a3==null&&a2==null){return 0}if(a3==null){return -1}if(a2==null){return 1}if(a3.localeCompare){return a3.localeCompare(a2)}return a3>a2?1:(a3<a2?-1:0)}},create:function(a0){var a1=a0.compare||this.compare(a0.field);if(a0.dir=="desc"){return function(a3,a2){return a1(a2,a3,true)}}return a1},combine:function(a0){return function(a4,a3){var a2=a0[0](a4,a3),a1,a5;for(a1=1,a5=a0.length;a1<a5;a1++){a2=a2||a0[a1](a4,a3)}return a2}}};var aU=ar({},M,{asc:function(a1){var a0=this.selector(a1);return function(a3,a2){var a5=a0(a3);var a4=a0(a2);if(a5&&a5.getTime&&a4&&a4.getTime){a5=a5.getTime();a4=a4.getTime()}if(a5===a4){return a3.__position-a2.__position}if(a5==null){return -1}if(a4==null){return 1}if(a5.localeCompare){return a5.localeCompare(a4)}return a5>a4?1:-1}},desc:function(a1){var a0=this.selector(a1);return function(a3,a2){var a5=a0(a3);var a4=a0(a2);if(a5&&a5.getTime&&a4&&a4.getTime){a5=a5.getTime();a4=a4.getTime()}if(a5===a4){return a3.__position-a2.__position}if(a5==null){return 1}if(a4==null){return -1}if(a4.localeCompare){return a4.localeCompare(a5)}return a5<a4?1:-1}},create:function(a0){return this[a0.dir](a0.field)}});y=function(a4,a3){var a1,a2=a4.length,a0=new Array(a2);for(a1=0;a1<a2;a1++){a0[a1]=a3(a4[a1],a1,a4)}return a0};var x=(function(){function a1(a2){return a2.replace(aM,"\\").replace(ah,"")}function a0(a6,a3,a2,a5){var a4;if(a2!=null){if(typeof a2===aT){a2=a1(a2);a4=aw.exec(a2);if(a4){a2=new Date(+a4[1])}else{if(a5){a2="'"+a2.toLowerCase()+"'";a3="("+a3+" || '').toLowerCase()"}else{a2="'"+a2+"'"}}}if(a2.getTime){a3="("+a3+"?"+a3+".getTime():"+a3+")";a2=a2.getTime()}}return a3+" "+a6+" "+a2}return{quote:function(a2){if(a2&&a2.getTime){return"new Date("+a2.getTime()+")"}if(typeof a2=="string"){return"'"+a1(a2)+"'"}return""+a2},eq:function(a3,a2,a4){return a0("==",a3,a2,a4)},neq:function(a3,a2,a4){return a0("!=",a3,a2,a4)},gt:function(a3,a2,a4){return a0(">",a3,a2,a4)},gte:function(a3,a2,a4){return a0(">=",a3,a2,a4)},lt:function(a3,a2,a4){return a0("<",a3,a2,a4)},lte:function(a3,a2,a4){return a0("<=",a3,a2,a4)},startswith:function(a3,a2,a4){if(a4){a3="("+a3+" || '').toLowerCase()";if(a2){a2=a2.toLowerCase()}}if(a2){a2=a1(a2)}return a3+".lastIndexOf('"+a2+"', 0) == 0"},endswith:function(a3,a2,a4){if(a4){a3="("+a3+" || '').toLowerCase()";if(a2){a2=a2.toLowerCase()}}if(a2){a2=a1(a2)}return a3+".indexOf('"+a2+"', "+a3+".length - "+(a2||"").length+") >= 0"},contains:function(a3,a2,a4){if(a4){a3="("+a3+" || '').toLowerCase()";if(a2){a2=a2.toLowerCase()}}if(a2){a2=a1(a2)}return a3+".indexOf('"+a2+"') >= 0"},doesnotcontain:function(a3,a2,a4){if(a4){a3="("+a3+" || '').toLowerCase()";if(a2){a2=a2.toLowerCase()}}if(a2){a2=a1(a2)}return a3+".indexOf('"+a2+"') == -1"}}})();function ae(a0){this.data=a0||[]}ae.filterExpr=function(a8){var a7=[],a5={and:" && ",or:" || "},bb,a4,a1,ba,a0=[],a6=[],a9,a3,a2=a8.filters;for(bb=0,a4=a2.length;bb<a4;bb++){a1=a2[bb];a9=a1.field;a3=a1.operator;if(a1.filters){ba=ae.filterExpr(a1);a1=ba.expression.replace(/__o\[(\d+)\]/g,function(bd,bc){bc=+bc;return"__o["+(a6.length+bc)+"]"}).replace(/__f\[(\d+)\]/g,function(bd,bc){bc=+bc;return"__f["+(a0.length+bc)+"]"});a6.push.apply(a6,ba.operators);a0.push.apply(a0,ba.fields)}else{if(typeof a9===az){ba="__f["+a0.length+"](d)";a0.push(a9)}else{ba=s.expr(a9)}if(typeof a3===az){a1="__o["+a6.length+"]("+ba+", "+x.quote(a1.value)+")";a6.push(a3)}else{a1=x[(a3||"eq").toLowerCase()](ba,a1.value,a1.ignoreCase!==w?a1.ignoreCase:true)}}a7.push(a1)}return{expression:"("+a7.join(a5[a8.logic])+")",fields:a0,operators:a6}};function Q(a3,a0){if(a3){var a2=typeof a3===aT?{field:a3,dir:a0}:a3,a1=a(a2)?a2:(a2!==w?[a2]:[]);return o(a1,function(a4){return !!a4.dir})}}var av={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"};function aX(a5){var a0,a4,a2,a1,a3=a5.filters;if(a3){for(a0=0,a4=a3.length;a0<a4;a0++){a2=a3[a0];a1=a2.operator;if(a1&&typeof a1===aT){a2.operator=av[a1.toLowerCase()]||a1}aX(a2)}}}function aq(a0){if(a0&&!aB(a0)){if(a(a0)||!a0.filters){a0={logic:"and",filters:a(a0)?a0:[a0]}}aX(a0);return a0}}ae.normalizeFilter=aq;function ak(a0){return a(a0)?a0:[a0]}function u(a3,a0){var a2=typeof a3===aT?{field:a3,dir:a0}:a3,a1=a(a2)?a2:(a2!==w?[a2]:[]);return y(a1,function(a4){return{field:a4.field,dir:a4.dir||"asc",aggregates:a4.aggregates}})}ae.prototype={toArray:function(){return this.data},range:function(a0,a1){return new ae(this.data.slice(a0,a0+a1))},skip:function(a0){return new ae(this.data.slice(a0))},take:function(a0){return new ae(this.data.slice(0,a0))},select:function(a0){return new ae(y(this.data,a0))},order:function(a0,a1){var a2={dir:a1};if(a0){if(a0.compare){a2.compare=a0.compare}else{a2.field=a0}}return new ae(this.data.slice(0).sort(M.create(a2)))},orderBy:function(a0){return this.order(a0,"asc")},orderByDescending:function(a0){return this.order(a0,"desc")},sort:function(a6,a1,a4){var a0,a5,a3=Q(a6,a1),a2=[];a4=a4||M;if(a3.length){for(a0=0,a5=a3.length;a0<a5;a0++){a2.push(a4.create(a3[a0]))}return this.orderBy({compare:a4.combine(a2)})}return this},filter:function(a4){var a8,a6,a1,a7,a9,a3=this.data,a5,a2,ba=[],a0;a4=aq(a4);if(!a4||a4.filters.length===0){return this}a7=ae.filterExpr(a4);a5=a7.fields;a2=a7.operators;a9=a0=new Function("d, __f, __o","return "+a7.expression);if(a5.length||a2.length){a0=function(bb){return a9(bb,a5,a2)}}for(a8=0,a1=a3.length;a8<a1;a8++){a6=a3[a8];if(a0(a6)){ba.push(a6)}}return new ae(ba)},group:function(a1,a3){a1=u(a1||[]);a3=a3||this.data;var a2=this,a0=new ae(a2.data),a4;if(a1.length>0){a4=a1[0];a0=a0.groupBy(a4).select(function(a6){var a5=new ae(a3).filter([{field:a6.field,operator:"eq",value:a6.value,ignoreCase:false}]);return{field:a6.field,value:a6.value,items:a1.length>1?new ae(a6.items).group(a1.slice(1),a5.toArray()).toArray():a6.items,hasSubgroups:a1.length>1,aggregates:a5.aggregate(a4.aggregates)}})}return a0},groupBy:function(a0){if(aB(a0)||!this.data.length){return new ae([])}var a5=a0.field,a4=this._sortForGrouping(a5,a0.dir||"asc"),a2=s.accessor(a5),a9,a1=a2.get(a4[0],a5),a7={field:a5,value:a1,items:[]},a8,a6,a3,ba=[a7];for(a6=0,a3=a4.length;a6<a3;a6++){a9=a4[a6];a8=a2.get(a9,a5);if(!F(a1,a8)){a1=a8;a7={field:a5,value:a1,items:[]};ba.push(a7)}a7.items.push(a9)}return new ae(ba)},_sortForGrouping:function(a4,a1){var a0,a2,a3=this.data;if(!O){for(a0=0,a2=a3.length;a0<a2;a0++){a3[a0].__position=a0}a3=new ae(a3).sort(a4,a1,aU).toArray();for(a0=0,a2=a3.length;a0<a2;a0++){delete a3[a0].__position}return a3}return this.sort(a4,a1).toArray()},aggregate:function(a4){var a2,a1,a0={},a3={};if(a4&&a4.length){for(a2=0,a1=this.data.length;a2<a1;a2++){j(a0,a4,this.data[a2],a2,a1,a3)}}return a0}};function F(a1,a0){if(a1&&a1.getTime&&a0&&a0.getTime){return a1.getTime()===a0.getTime()}return a1===a0}function j(a2,a5,ba,a6,a1,a0){a5=a5||[];var a9,a3,a7,a4=a5.length;for(a9=0;a9<a4;a9++){a3=a5[a9];a7=a3.aggregate;var a8=a3.field;a2[a8]=a2[a8]||{};a0[a8]=a0[a8]||{};a0[a8][a7]=a0[a8][a7]||{};a2[a8][a7]=t[a7.toLowerCase()](a2[a8][a7],ba,s.accessor(a8),a6,a1,a0[a8][a7])}}var t={sum:function(a1,a2,a0){var a3=a0.get(a2);if(!Z(a1)){a1=a3}else{if(Z(a3)){a1+=a3}}return a1},count:function(a0){return(a0||0)+1},average:function(a1,a4,a0,a2,a3,a6){var a5=a0.get(a4);if(a6.count===w){a6.count=0}if(!Z(a1)){a1=a5}else{if(Z(a5)){a1+=a5}}if(Z(a5)){a6.count++}if(a2==a3-1&&Z(a1)){a1=a1/a6.count}return a1},max:function(a1,a2,a0){var a3=a0.get(a2);if(!Z(a1)&&!i(a1)){a1=a3}if(a1<a3&&(Z(a3)||i(a3))){a1=a3}return a1},min:function(a1,a2,a0){var a3=a0.get(a2);if(!Z(a1)&&!i(a1)){a1=a3}if(a1>a3&&(Z(a3)||i(a3))){a1=a3}return a1}};function Z(a0){return typeof a0==="number"&&!isNaN(a0)}function i(a0){return a0&&a0.getTime}function C(a3){var a1,a2=a3.length,a0=new Array(a2);for(a1=0;a1<a2;a1++){a0[a1]=a3[a1].toJSON()}return a0}ae.process=function(a2,a9){a9=a9||{};var a4=new ae(a2),a8=a9.group,a3=u(a8||[]).concat(Q(a9.sort||[])),a5,a6=a9.filterCallback,a0=a9.filter,a7=a9.skip,a1=a9.take;if(a0){a4=a4.filter(a0);if(a6){a4=a6(a4)}a5=a4.toArray().length}if(a3){a4=a4.sort(a3);if(a8){a2=a4.toArray()}}if(a7!==w&&a1!==w){a4=a4.range(a7,a1)}if(a8){a4=a4.group(a8,a2)}return{total:a5,data:a4.toArray()}};var ao=aQ.extend({init:function(a0){this.data=a0.data},read:function(a0){a0.success(this.data)},update:function(a0){a0.success(a0.data)},create:function(a0){a0.success(a0.data)},destroy:function(a0){a0.success(a0.data)}});var aY=aQ.extend({init:function(a1){var a2=this,a0;a1=a2.options=ar({},a2.options,a1);aZ(af,function(a3,a4){if(typeof a1[a4]===aT){a1[a4]={url:a1[a4]}}});a2.cache=a1.cache?U.create(a1.cache):{find:aF,add:aF};a0=a1.parameterMap;if(aL(a1.push)){a2.push=a1.push}if(!a2.push){a2.push=ag}a2.parameterMap=aL(a0)?a0:function(a4){var a3={};aZ(a4,function(a5,a6){if(a5 in a0){a5=a0[a5];if(H(a5)){a6=a5.value(a6);a5=a5.key}}a3[a5]=a6});return a3}},options:{parameterMap:ag},create:function(a0){return aK(this.setup(a0,aJ))},read:function(a3){var a4=this,a5,a2,a0,a1=a4.cache;a3=a4.setup(a3,h);a5=a3.success||aF;a2=a3.error||aF;a0=a1.find(a3.data);if(a0!==w){a5(a0)}else{a3.success=function(a6){a1.add(a3.data,a6);a5(a6)};aH.ajax(a3)}},update:function(a0){return aK(this.setup(a0,aR))},destroy:function(a0){return aK(this.setup(a0,D))},setup:function(a1,a2){a1=a1||{};var a4=this,a3,a0=a4.options[a2],a5=aL(a0.data)?a0.data(a1.data):a0.data;a1=ar(true,{},a0,a1);a3=ar(true,{},a5,a1.data);a1.data=a4.parameterMap(a3,a2);if(aL(a1.url)){a1.url=a1.url(a3)}return a1}});var U=aQ.extend({init:function(){this._store={}},add:function(a0,a1){if(a0!==w){this._store[am(a0)]=a1}},find:function(a0){return this._store[am(a0)]},clear:function(){this._store={}},remove:function(a0){delete this._store[am(a0)]}});U.create=function(a1){var a0={inmemory:function(){return new U()}};if(H(a1)&&aL(a1.find)){return a1}if(a1===true){return new U()}return a0[a1]()};function R(a2,a6,a1,a5,a9){var a3,a7,a4,a8,a0;for(a8=0,a0=a2.length;a8<a0;a8++){a3=a2[a8];for(a7 in a6){a4=a9[a7];if(a4&&a4!==a7){a3[a4]=a6[a7](a3);delete a3[a7]}}}}function v(a2,a6,a1,a5,a9){var a3,a7,a4,a8,a0;for(a8=0,a0=a2.length;a8<a0;a8++){a3=a2[a8];for(a7 in a6){a3[a7]=a1._parse(a7,a6[a7](a3));a4=a9[a7];if(a4&&a4!==a7){delete a3[a4]}}}}function S(a2,a5,a1,a4,a8){var a3,a6,a7,a0;for(a6=0,a0=a2.length;a6<a0;a6++){a3=a2[a6];a7=a4[a3.field];if(a7&&a7!=a3.field){a3.field=a7}a3.value=a1._parse(a3.field,a3.value);if(a3.hasSubgroups){S(a3.items,a5,a1,a4,a8)}else{v(a3.items,a5,a1,a4,a8)}}}function ab(a4,a1,a3,a2,a0,a5){return function(a6){a6=a4(a6);if(a6&&!aB(a2)){if(aA.call(a6)!=="[object Array]"&&!(a6 instanceof al)){a6=[a6]}a3(a6,a2,new a1(),a0,a5)}return a6||[]}}var X=aQ.extend({init:function(a4){var a9=this,a6,a2,a7,a1;a4=a4||{};for(a6 in a4){a2=a4[a6];a9[a6]=typeof a2===aT?Y(a2):a2}a1=a4.modelBase||E;if(H(a9.model)){a9.model=a7=a1.define(a9.model)}var a0=A(a9.data,a9);a9._dataAccessFunction=a0;if(a9.model){var a5=A(a9.groups,a9),a3=A(a9.serialize,a9),ba={},bb={},a8={},be={},bc=false,bd;a7=a9.model;if(a7.fields){aZ(a7.fields,function(bh,bg){var bf;bd=bh;if(H(bg)&&bg.field){bd=bg.field}else{if(typeof bg===aT){bd=bg}}if(H(bg)&&bg.from){bf=bg.from}bc=bc||(bf&&bf!==bh)||bd!==bh;bb[bh]=Y(bf||bd);a8[bh]=Y(bh);ba[bf||bd]=bh;be[bh]=bf||bd});if(!a4.serialize&&bc){a9.serialize=ab(a3,a7,R,a8,ba,be)}}a9._dataAccessFunction=a0;a9.data=ab(a0,a7,v,bb,ba,be);a9.groups=ab(a5,a7,S,bb,ba,be)}},errors:function(a0){return a0?a0.errors:null},parse:ag,data:ag,total:function(a0){return a0.length},groups:ag,aggregates:function(){return{}},serialize:function(a0){return a0}});function c(a7,a3,a5,a2){var a6,a0=0,a1;while(a3.length&&a2){a6=a3[a0];a1=a6.items;var a4=a1.length;if(a7&&a7.field===a6.field&&a7.value===a6.value){if(a7.hasSubgroups&&a7.items.length){c(a7.items[a7.items.length-1],a6.items,a5,a2)}else{a1=a1.slice(a5,a5+a2);a7.items=a7.items.concat(a1)}a3.splice(a0--,1)}else{if(a6.hasSubgroups&&a1.length){c(a6,a1,a5,a2);if(!a6.items.length){a3.splice(a0--,1)}}else{a1=a1.slice(a5,a5+a2);a6.items=a1;if(!a6.items.length){a3.splice(a0--,1)}}}if(a1.length===0){a5-=a4}else{a5=0;a2-=a1.length}if(++a0>=a3.length){break}}if(a0<a3.length){a3.splice(a0,a3.length-a0)}}function an(a5){var a1,a0=[],a4,a2,a3;for(a1=0,a4=a5.length;a1<a4;a1++){var a6=a5.at(a1);if(a6.hasSubgroups){a0=a0.concat(an(a6.items))}else{a2=a6.items;for(a3=0;a3<a2.length;a3++){a0.push(a2.at(a3))}}}return a0}function at(a4,a2){var a0,a3,a5,a1;if(a2){for(a0=0,a3=a4.length;a0<a3;a0++){a5=a4.at(a0);if(a5.hasSubgroups){at(a5.items,a2)}else{a5.items=new ap(a5.items,a2)}}}}function p(a3,a2){for(var a0=0,a1=a3.length;a0<a1;a0++){if(a3[a0].hasSubgroups){if(p(a3[a0].items,a2)){return true}}else{if(a2(a3[a0].items,a3[a0])){return true}}}}function d(a1,a3,a2,a4){for(var a0=0;a0<a1.length;a0++){if(a1[a0].data===a3){break}if(K(a1[a0].data,a2,a4)){break}}}function K(a1,a3,a4){for(var a0=0,a2=a1.length;a0<a2;a0++){if(a1[a0]&&a1[a0].hasSubgroups){return K(a1[a0].items,a3,a4)}else{if(a1[a0]===a3||a1[a0]===a4){a1[a0]=a4;return true}}}}function q(a5,a3,a0,a4,a2){for(var a7=0,a1=a5.length;a7<a1;a7++){var a8=a5[a7];if(!a8||a8 instanceof a4){continue}if(a8.hasSubgroups!==w&&!a2){q(a8.items,a3,a0,a4,a2)}else{for(var a6=0;a6<a3.length;a6++){if(a3[a6]===a8){a5[a7]=a3.at(a6);d(a0,a3,a8,a5[a7]);break}}}}}function L(a4,a2){var a0,a3;for(a0=0,a3=a4.length;a0<a3;a0++){var a1=a4.at(a0);if(a1.uid==a2.uid){a4.splice(a0,1);return a1}}}function aN(a1,a0){if(a0){return n(a1,function(a2){if(a2.uid){return a2.uid==a0.uid}return a2[a0.idField]===a0.id})}return -1}function aP(a1,a0){if(a0){return n(a1,function(a2){return a2.uid==a0.uid})}return -1}function n(a3,a1){var a0,a2;for(a0=0,a2=a3.length;a0<a2;a0++){if(a1(a3[a0])){return a0}}return -1}function B(a0,a1){if(a0&&!aB(a0)){var a2=a0[a1];var a3;if(H(a2)){a3=a2.from||a2.field||a1}else{a3=a0[a1]||a1}if(aL(a3)){return a1}return a3}return a1}function G(a5,a1){var a0,a2,a4={};for(var a3 in a5){if(a3!=="filters"){a4[a3]=a5[a3]}}if(a5.filters){a4.filters=[];for(a0=0,a2=a5.filters.length;a0<a2;a0++){a4.filters[a0]=G(a5.filters[a0],a1)}}else{a4.field=B(a1.fields,a4.field)}return a4}function T(a3,a2){var a1,a4,a0=[],a7,a6;for(a1=0,a4=a3.length;a1<a4;a1++){a7={};a6=a3[a1];for(var a5 in a6){a7[a5]=a6[a5]}a7.field=B(a2.fields,a7.field);if(a7.aggregates&&a(a7.aggregates)){a7.aggregates=T(a7.aggregates,a2)}a0.push(a7)}return a0}var r=N.extend({init:function(a1){var a3=this,a0,a4;if(a1){a4=a1.data}a1=a3.options=ar({},a3.options,a1);a3._map={};a3._prefetch={};a3._data=[];a3._pristineData=[];a3._ranges=[];a3._view=[];a3._pristineTotal=0;a3._destroyed=[];a3._pageSize=a1.pageSize;a3._page=a1.page||(a1.pageSize?1:w);a3._sort=Q(a1.sort);a3._filter=aq(a1.filter);a3._group=u(a1.group);a3._aggregate=a1.aggregate;a3._total=a1.total;a3._shouldDetachObservableParents=true;N.fn.init.call(a3);a3.transport=g.create(a1,a4,a3);if(aL(a3.transport.push)){a3.transport.push({pushCreate:A(a3._pushCreate,a3),pushUpdate:A(a3._pushUpdate,a3),pushDestroy:A(a3._pushDestroy,a3)})}if(a1.offlineStorage!=null){if(typeof a1.offlineStorage=="string"){var a2=a1.offlineStorage;a3._storage={getItem:function(){return JSON.parse(localStorage.getItem(a2))},setItem:function(a5){localStorage.setItem(a2,am(a3.reader.serialize(a5)))}}}else{a3._storage=a1.offlineStorage}}a3.reader=new s.data.readers[a1.schema.type||"json"](a1.schema);a0=a3.reader.model||{};a3._detachObservableParents();a3._data=a3._observe(a3._data);a3._online=true;a3.bind(["push",I,J,aI,P,ad,aD],a1)},options:{data:null,schema:{modelBase:E},offlineStorage:null,serverSorting:false,serverPaging:false,serverFiltering:false,serverGrouping:false,serverAggregates:false,batch:false},online:function(a0){if(a0!==w){if(this._online!=a0){this._online=a0;if(a0){return this.sync()}}return aH.Deferred().resolve().promise()}else{return this._online}},offlineData:function(a0){if(this.options.offlineStorage==null){return null}if(a0!==w){return this._storage.setItem(a0)}return this._storage.getItem()||{}},_isServerGrouped:function(){var a0=this.group()||[];return this.options.serverGrouping&&a0.length},_pushCreate:function(a0){this._push(a0,"pushCreate")},_pushUpdate:function(a0){this._push(a0,"pushUpdate")},_pushDestroy:function(a0){this._push(a0,"pushDestroy")},_push:function(a0,a1){var a2=this._readData(a0);if(!a2){a2=a0}this[a1](a2)},_flatData:function(a2,a1){if(a2){if(this._isServerGrouped()){return an(a2)}if(!a1){for(var a0=0;a0<a2.length;a0++){a2.at(a0)}}}return a2},parent:aF,get:function(a3){var a0,a1,a2=this._flatData(this._data);for(a0=0,a1=a2.length;a0<a1;a0++){if(a2[a0].id==a3){return a2[a0]}}},getByUid:function(a3){var a0,a1,a2=this._flatData(this._data);if(!a2){return}for(a0=0,a1=a2.length;a0<a1;a0++){if(a2[a0].uid==a3){return a2[a0]}}},indexOf:function(a0){return aP(this._data,a0)},at:function(a0){return this._data.at(a0)},data:function(a2){var a1=this;if(a2!==w){a1._detachObservableParents();a1._data=this._observe(a2);a1._pristineData=a2.slice(0);a1._storeData();a1._ranges=[];a1.trigger("reset");a1._addRange(a1._data);a1._total=a1._data.length;a1._pristineTotal=a1._total;a1._process(a1._data)}else{if(a1._data){for(var a0=0;a0<a1._data.length;a0++){a1._data.at(a0)}}return a1._data}},view:function(a0){if(a0===w){return this._view}else{this._view=this._observeView(a0)}},_observeView:function(a2){var a1=this;q(a2,a1._data,a1._ranges,a1.reader.model||ai,a1._isServerGrouped());var a0=new ap(a2,a1.reader.model);a0.parent=function(){return a1.parent()};return a0},flatView:function(){var a0=this.group()||[];if(a0.length){return an(this._view)}else{return this._view}},add:function(a0){return this.insert(this._data.length,a0)},_createNewModel:function(a0){if(this.reader.model){return new this.reader.model(a0)}if(a0 instanceof ai){return a0}return new ai(a0)},insert:function(a1,a0){if(!a0){a0=a1;a1=0}if(!(a0 instanceof E)){a0=this._createNewModel(a0)}if(this._isServerGrouped()){this._data.splice(a1,0,this._wrapInEmptyGroup(a0))}else{this._data.splice(a1,0,a0)}return a0},pushCreate:function(a3){if(!a(a3)){a3=[a3]}var a6=[];var a2=this.options.autoSync;this.options.autoSync=false;try{for(var a1=0;a1<a3.length;a1++){var a4=a3[a1];var a0=this.add(a4);a6.push(a0);var a5=a0.toJSON();if(this._isServerGrouped()){a5=this._wrapInEmptyGroup(a5)}this._pristineData.push(a5)}}finally{this.options.autoSync=a2}if(a6.length){this.trigger("push",{type:"create",items:a6})}},pushUpdate:function(a1){if(!a(a1)){a1=[a1]}var a5=[];for(var a0=0;a0<a1.length;a0++){var a3=a1[a0];var a2=this._createNewModel(a3);var a4=this.get(a2.id);if(a4){a5.push(a4);a4.accept(a3);a4.trigger(J);this._updatePristineForModel(a4,a3)}else{this.pushCreate(a3)}}if(a5.length){this.trigger("push",{type:"update",items:a5})}},pushDestroy:function(a0){var a1=this._removeItems(a0);if(a1.length){this.trigger("push",{type:"destroy",items:a1})}},_removeItems:function(a2){if(!a(a2)){a2=[a2]}var a5=[];var a1=this.options.autoSync;this.options.autoSync=false;try{for(var a0=0;a0<a2.length;a0++){var a4=a2[a0];var a3=this._createNewModel(a4);var a6=false;this._eachItem(this._data,function(a8){for(var a7=0;a7<a8.length;a7++){var a9=a8.at(a7);if(a9.id===a3.id){a5.push(a9);a8.splice(a7,1);a6=true;break}}});if(a6){this._removePristineForModel(a3);this._destroyed.pop()}}}finally{this.options.autoSync=a1}return a5},remove:function(a1){var a0,a3=this,a2=a3._isServerGrouped();this._eachItem(a3._data,function(a4){a0=L(a4,a1);if(a0&&a2){if(!a0.isNew||!a0.isNew()){a3._destroyed.push(a0)}return true}});this._removeModelFromRanges(a1);this._updateRangesLength();return a1},destroyed:function(){return this._destroyed},created:function(){var a1,a2,a0=[],a3=this._flatData(this._data);for(a1=0,a2=a3.length;a1<a2;a1++){if(a3[a1].isNew&&a3[a1].isNew()){a0.push(a3[a1])}}return a0},updated:function(){var a1,a2,a0=[],a3=this._flatData(this._data);for(a1=0,a2=a3.length;a1<a2;a1++){if((a3[a1].isNew&&!a3[a1].isNew())&&a3[a1].dirty){a0.push(a3[a1])}}return a0},sync:function(){var a4=this,a6,a0,a1=[],a3=[],a7=a4._destroyed,a2=a4._flatData(a4._data);var a8=aH.Deferred().resolve().promise();if(a4.online()){if(!a4.reader.model){return a8}a1=a4.created();a3=a4.updated();var a5=[];if(a4.options.batch&&a4.transport.submit){a5=a4._sendSubmit(a1,a3,a7)}else{a5.push.apply(a5,a4._send("create",a1));a5.push.apply(a5,a4._send("update",a3));a5.push.apply(a5,a4._send("destroy",a7))}a8=aH.when.apply(null,a5).then(function(){var a9,ba;for(a9=0,ba=arguments.length;a9<ba;a9++){a4._accept(arguments[a9])}a4._storeData(true);a4._change({action:"sync"});a4.trigger(P)})}else{a4._storeData(true);a4._change({action:"sync"})}return a8},cancelChanges:function(a0){var a1=this;if(a0 instanceof s.data.Model){a1._cancelModel(a0)}else{a1._destroyed=[];a1._detachObservableParents();a1._data=a1._observe(a1._pristineData);if(a1.options.serverPaging){a1._total=a1._pristineTotal}a1._ranges=[];a1._addRange(a1._data);a1._change()}},hasChanges:function(){var a0,a1,a2=this._flatData(this._data);if(this._destroyed.length){return true}for(a0=0,a1=a2.length;a0<a1;a0++){if((a2[a0].isNew&&a2[a0].isNew())||a2[a0].dirty){return true}}return false},_accept:function(a8){var a3=this,a0=a8.models,a2=a8.response,a5=0,a7=a3._isServerGrouped(),a6=a3._pristineData,a4=a8.type,a1;a3.trigger(ad,{response:a2,type:a4});if(a2&&!aB(a2)){a2=a3.reader.parse(a2);if(a3._handleCustomErrors(a2)){return}a2=a3.reader.data(a2);if(!a(a2)){a2=[a2]}}else{a2=aH.map(a0,function(a9){return a9.toJSON()})}if(a4==="destroy"){a3._destroyed=[]}for(a5=0,a1=a0.length;a5<a1;a5++){if(a4!=="destroy"){a0[a5].accept(a2[a5]);if(a4==="create"){a6.push(a7?a3._wrapInEmptyGroup(a0[a5]):a2[a5])}else{if(a4==="update"){a3._updatePristineForModel(a0[a5],a2[a5])}}}else{a3._removePristineForModel(a0[a5])}}},_updatePristineForModel:function(a1,a0){this._executeOnPristineForModel(a1,function(a3,a2){s.deepExtend(a2[a3],a0)})},_executeOnPristineForModel:function(a0,a1){this._eachPristineItem(function(a2){var a3=aN(a2,a0);if(a3>-1){a1(a3,a2);return true}})},_removePristineForModel:function(a0){this._executeOnPristineForModel(a0,function(a2,a1){a1.splice(a2,1)})},_readData:function(a1){var a0=!this._isServerGrouped()?this.reader.data:this.reader.groups;return a0.call(this.reader,a1)},_eachPristineItem:function(a0){this._eachItem(this._pristineData,a0)},_eachItem:function(a0,a1){if(a0&&a0.length){if(this._isServerGrouped()){p(a0,a1)}else{a1(a0)}}},_pristineForModel:function(a1){var a2,a0,a3=function(a4){a0=aN(a4,a1);if(a0>-1){a2=a4[a0];return true}};this._eachPristineItem(a3);return a2},_cancelModel:function(a0){var a1=this._pristineForModel(a0);this._eachItem(this._data,function(a3){var a2=aP(a3,a0);if(a2>=0){if(a1&&(!a0.isNew()||a1.__state__)){a3[a2].accept(a1)}else{a3.splice(a2,1)}}})},_submit:function(a0,a2){var a1=this;a1.trigger(aI,{type:"submit"});a1.transport.submit(ar({success:function(a3,a4){var a5=aH.grep(a0,function(a6){return a6.type==a4})[0];if(a5){a5.resolve({response:a3,models:a5.models,type:a4})}},error:function(a5,a4,a6){for(var a3=0;a3<a0.length;a3++){a0[a3].reject(a5)}a1.error(a5,a4,a6)}},a2))},_sendSubmit:function(a4,a0,a3){var a2=this,a1=[];if(a2.options.batch){if(a4.length){a1.push(aH.Deferred(function(a5){a5.type="create";a5.models=a4}))}if(a0.length){a1.push(aH.Deferred(function(a5){a5.type="update";a5.models=a0}))}if(a3.length){a1.push(aH.Deferred(function(a5){a5.type="destroy";a5.models=a3}))}a2._submit(a1,{data:{created:a2.reader.serialize(C(a4)),updated:a2.reader.serialize(C(a0)),destroyed:a2.reader.serialize(C(a3))}})}return a1},_promise:function(a2,a3,a0){var a1=this;return aH.Deferred(function(a4){a1.trigger(aI,{type:a0});a1.transport[a0].call(a1.transport,ar({success:function(a5){a4.resolve({response:a5,models:a3,type:a0})},error:function(a6,a5,a7){a4.reject(a6);a1.error(a6,a5,a7)}},a2))}).promise()},_send:function(a6,a4){var a3=this,a0,a2,a1=[],a5=a3.reader.serialize(C(a4));if(a3.options.batch){if(a4.length){a1.push(a3._promise({data:{models:a5}},a4,a6))}}else{for(a0=0,a2=a4.length;a0<a2;a0++){a1.push(a3._promise({data:a5[a0]},[a4[a0]],a6))}}return a1},read:function(a2){var a1=this,a3=a1._params(a2);var a0=aH.Deferred();a1._queueRequest(a3,function(){var a4=a1.trigger(aI,{type:"read"});if(!a4){a1.trigger(aD);a1._ranges=[];a1.trigger("reset");if(a1.online()){a1.transport.read({data:a3,success:function(a5){a1.success(a5,a3);a0.resolve()},error:function(){var a5=z.call(arguments);a1.error.apply(a1,a5);a0.reject.apply(a0,a5)}})}else{if(a1.options.offlineStorage!=null){a1.success(a1.offlineData(),a3);a0.resolve()}}}else{a1._dequeueRequest();a0.resolve(a4)}});return a0.promise()},_readAggregates:function(a0){return this.reader.aggregates(a0)},success:function(a4){var a6=this,ba=a6.options;a6.trigger(ad,{response:a4,type:"read"});if(a6.online()){a4=a6.reader.parse(a4);if(a6._handleCustomErrors(a4)){a6._dequeueRequest();return}a6._total=a6.reader.total(a4);if(a6._aggregate&&ba.serverAggregates){a6._aggregateResult=a6._readAggregates(a4)}a4=a6._readData(a4)}else{a4=a6._readData(a4);var a7=[];var a3={};var a5=a6.reader.model;var a2=a5?a5.idField:"id";var a8;for(a8=0;a8<this._destroyed.length;a8++){var a1=this._destroyed[a8][a2];a3[a1]=a1}for(a8=0;a8<a4.length;a8++){var a9=a4[a8];var a0=a9.__state__;if(a0=="destroy"){if(!a3[a9[a2]]){this._destroyed.push(this._createNewModel(a9))}}else{a7.push(a9)}}a4=a7;a6._total=a4.length}a6._pristineTotal=a6._total;a6._pristineData=a4.slice(0);a6._detachObservableParents();a6._data=a6._observe(a4);if(a6.options.offlineStorage!=null){a6._eachItem(a6._data,function(bc){for(var bb=0;bb<bc.length;bb++){var bd=bc.at(bb);if(bd.__state__=="update"){bd.dirty=true}}})}a6._storeData();a6._addRange(a6._data);a6._process(a6._data);a6._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents){for(var a0=0;a0<this._data.length;a0++){if(this._data[a0].parent){this._data[a0].parent=aF}}}},_storeData:function(a4){var a3=this._isServerGrouped();var a2=this.reader.model;function a1(bb){var ba=[];for(var a7=0;a7<bb.length;a7++){var a8=bb.at(a7);var a9=a8.toJSON();if(a3&&a8.items){a9.items=a1(a8.items)}else{a9.uid=a8.uid;if(a2){if(a8.isNew()){a9.__state__="create"}else{if(a8.dirty){a9.__state__="update"}}}}ba.push(a9)}return ba}if(this.options.offlineStorage!=null){var a6=a1(this._data);for(var a0=0;a0<this._destroyed.length;a0++){var a5=this._destroyed[a0].toJSON();a5.__state__="destroy";a6.push(a5)}this.offlineData(a6);if(a4){this._pristineData=a6}}},_addRange:function(a2){var a1=this,a3=a1._skip||0,a0=a3+a1._flatData(a2,true).length;a1._ranges.push({start:a3,end:a0,data:a2,timestamp:new Date().getTime()});a1._ranges.sort(function(a4,a5){return a4.start-a5.start})},error:function(a2,a0,a1){this._dequeueRequest();this.trigger(ad,{});this.trigger(I,{xhr:a2,status:a0,errorThrown:a1})},_params:function(a2){var a1=this,a0=ar({take:a1.take(),skip:a1.skip(),page:a1.page(),pageSize:a1.pageSize(),sort:a1._sort,filter:a1._filter,group:a1._group,aggregate:a1._aggregate},a2);if(!a1.options.serverPaging){delete a0.take;delete a0.skip;delete a0.page;delete a0.pageSize}if(!a1.options.serverGrouping){delete a0.group}else{if(a1.reader.model&&a0.group){a0.group=T(a0.group,a1.reader.model)}}if(!a1.options.serverFiltering){delete a0.filter}else{if(a1.reader.model&&a0.filter){a0.filter=G(a0.filter,a1.reader.model)}}if(!a1.options.serverSorting){delete a0.sort}else{if(a1.reader.model&&a0.sort){a0.sort=T(a0.sort,a1.reader.model)}}if(!a1.options.serverAggregates){delete a0.aggregate}else{if(a1.reader.model&&a0.aggregate){a0.aggregate=T(a0.aggregate,a1.reader.model)}}return a0},_queueRequest:function(a0,a2){var a1=this;if(!a1._requestInProgress){a1._requestInProgress=true;a1._pending=w;a2()}else{a1._pending={callback:A(a2,a1),options:a0}}},_dequeueRequest:function(){var a0=this;a0._requestInProgress=false;if(a0._pending){a0._queueRequest(a0._pending.options,a0._pending.callback)}},_handleCustomErrors:function(a0){if(this.reader.errors){var a1=this.reader.errors(a0);if(a1){this.trigger(I,{xhr:null,status:"customerror",errorThrown:"custom error",errors:a1});return true}}return false},_shouldWrap:function(a1){var a0=this.reader.model;if(a0&&a1.length){return !(a1[0] instanceof a0)}return false},_observe:function(a3){var a2=this,a0=a2.reader.model,a1=false;a2._shouldDetachObservableParents=true;if(a3 instanceof al){a2._shouldDetachObservableParents=false;if(a2._shouldWrap(a3)){a3.type=a2.reader.model;a3.wrapAll(a3,a3)}}else{var a4=a2.pageSize()&&!a2.options.serverPaging?ap:al;a3=new a4(a3,a2.reader.model);a3.parent=function(){return a2.parent()}}if(a2._isServerGrouped()){at(a3,a0)}if(a2._changeHandler&&a2._data&&a2._data instanceof al){a2._data.unbind(J,a2._changeHandler)}else{a2._changeHandler=A(a2._change,a2)}return a3.bind(J,a2._changeHandler)},_change:function(a5){var a3=this,a0,a2,a4=a5?a5.action:"";if(a4==="remove"){for(a0=0,a2=a5.items.length;a0<a2;a0++){if(!a5.items[a0].isNew||!a5.items[a0].isNew()){a3._destroyed.push(a5.items[a0])}}}if(a3.options.autoSync&&(a4==="add"||a4==="remove"||a4==="itemchange")){a3.sync()}else{var a1=parseInt(a3._total,10);if(!Z(a3._total)){a1=parseInt(a3._pristineTotal,10)}if(a4==="add"){a1+=a5.items.length}else{if(a4==="remove"){a1-=a5.items.length}else{if(a4!=="itemchange"&&a4!=="sync"&&!a3.options.serverPaging){a1=a3._pristineTotal}else{if(a4==="sync"){a1=a3._pristineTotal=parseInt(a3._total,10)}}}}a3._total=a1;a3._process(a3._data,a5)}},_calculateAggregates:function(a3,a0){a0=a0||{};var a2=new ae(a3),a4=a0.aggregate,a1=a0.filter;if(a1){a2=a2.filter(a1)}return a2.aggregate(a4)},_process:function(a3,a4){var a2=this,a1={},a0;if(a2.options.serverPaging!==true){a1.skip=a2._skip;a1.take=a2._take||a2._pageSize;if(a1.skip===w&&a2._page!==w&&a2._pageSize!==w){a1.skip=(a2._page-1)*a2._pageSize}}if(a2.options.serverSorting!==true){a1.sort=a2._sort}if(a2.options.serverFiltering!==true){a1.filter=a2._filter}if(a2.options.serverGrouping!==true){a1.group=a2._group}if(a2.options.serverAggregates!==true){a1.aggregate=a2._aggregate;a2._aggregateResult=a2._calculateAggregates(a3,a1)}a0=a2._queryProcess(a3,a1);a2.view(a0.data);if(a0.total!==w&&!a2.options.serverFiltering){a2._total=a0.total}a4=a4||{};a4.items=a4.items||a2._view;a2.trigger(J,a4)},_queryProcess:function(a1,a0){return ae.process(a1,a0)},_mergeState:function(a0){var a1=this;if(a0!==w){a1._pageSize=a0.pageSize;a1._page=a0.page;a1._sort=a0.sort;a1._filter=a0.filter;a1._group=a0.group;a1._aggregate=a0.aggregate;a1._skip=a0.skip;a1._take=a0.take;if(a1._skip===w){a1._skip=a1.skip();a0.skip=a1.skip()}if(a1._take===w&&a1._pageSize!==w){a1._take=a1._pageSize;a0.take=a1._take}if(a0.sort){a1._sort=a0.sort=Q(a0.sort)}if(a0.filter){a1._filter=a0.filter=aq(a0.filter)}if(a0.group){a1._group=a0.group=u(a0.group)}if(a0.aggregate){a1._aggregate=a0.aggregate=ak(a0.aggregate)}}return a0},query:function(a2){var a1;var a3=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates;if(a3||((this._data===w||this._data.length===0)&&!this._destroyed.length)){return this.read(this._mergeState(a2))}var a0=this.trigger(aI,{type:"read"});if(!a0){this.trigger(aD);a1=this._queryProcess(this._data,this._mergeState(a2));if(!this.options.serverFiltering){if(a1.total!==w){this._total=a1.total}else{this._total=this._data.length}}this._aggregateResult=this._calculateAggregates(this._data,a2);this.view(a1.data);this.trigger(ad,{type:"read"});this.trigger(J,{items:a1.data})}return aH.Deferred().resolve(a0).promise()},fetch:function(a2){var a1=this;var a0=function(a3){if(a3!==true&&aL(a2)){a2.call(a1)}};return this._query().then(a0)},_query:function(a0){var a1=this;return a1.query(ar({},{page:a1.page(),pageSize:a1.pageSize(),sort:a1.sort(),filter:a1.filter(),group:a1.group(),aggregate:a1.aggregate()},a0))},next:function(a0){var a2=this,a3=a2.page(),a1=a2.total();a0=a0||{};if(!a3||(a1&&a3+1>a2.totalPages())){return}a2._skip=a3*a2.take();a3+=1;a0.page=a3;a2._query(a0);return a3},prev:function(a0){var a1=this,a2=a1.page();a0=a0||{};if(!a2||a2===1){return}a1._skip=a1._skip-a1.take();a2-=1;a0.page=a2;a1._query(a0);return a2},page:function(a2){var a1=this,a0;if(a2!==w){a2=aa.max(aa.min(aa.max(a2,1),a1.totalPages()),1);a1._query({page:a2});return}a0=a1.skip();return a0!==w?aa.round((a0||0)/(a1.take()||1))+1:w},pageSize:function(a1){var a0=this;if(a1!==w){a0._query({pageSize:a1,page:1});return}return a0.take()},sort:function(a1){var a0=this;if(a1!==w){a0._query({sort:a1});return}return a0._sort},filter:function(a1){var a0=this;if(a1===w){return a0._filter}a0._query({filter:a1,page:1});a0.trigger("reset")},group:function(a1){var a0=this;if(a1!==w){a0._query({group:a1});return}return a0._group},total:function(){return parseInt(this._total||0,10)},aggregate:function(a1){var a0=this;if(a1!==w){a0._query({aggregate:a1});return}return a0._aggregate},aggregates:function(){var a0=this._aggregateResult;if(aB(a0)){a0=this._emptyAggregates(this.aggregate())}return a0},_emptyAggregates:function(a3){var a1={};if(!aB(a3)){var a2={};if(!a(a3)){a3=[a3]}for(var a0=0;a0<a3.length;a0++){a2[a3[a0].aggregate]=0;a1[a3[a0].field]=a2}}return a1},_wrapInEmptyGroup:function(a2){var a1=this.group(),a3,a5,a0,a4;for(a0=a1.length-1,a4=0;a0>=a4;a0--){a5=a1[a0];a3={value:a2.get(a5.field),field:a5.field,items:a3?[a3]:[a2],hasSubgroups:!!a3,aggregates:this._emptyAggregates(a5.aggregates)}}return a3},totalPages:function(){var a1=this,a0=a1.pageSize()||a1.total();return aa.ceil((a1.total()||0)/a0)},inRange:function(a3,a1){var a2=this,a0=aa.min(a3+a1,a2.total());if(!a2.options.serverPaging&&a2._data.length>0){return true}return a2._findRange(a3,a0).length>0},lastRange:function(){var a0=this._ranges;return a0[a0.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var a0=this._ranges;return a0.length&&a0[0].data.length&&a0[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=false},_timeStamp:function(){return new Date().getTime()},range:function(a7,a1){this._currentRequestTimeStamp=this._timeStamp();this._skipRequestsInProgress=true;a7=aa.min(a7||0,this.total());var a5=this,a6=aa.max(aa.floor(a7/a1),0)*a1,a9=aa.min(a6+a1,a5.total()),a2;a2=a5._findRange(a7,aa.min(a7+a1,a5.total()));if(a2.length){a5._pending=w;a5._skip=a7>a5.skip()?aa.min(a9,(a5.totalPages()-1)*a5.take()):a6;a5._take=a1;var a0=a5.options.serverPaging;var a3=a5.options.serverSorting;var a8=a5.options.serverFiltering;var a4=a5.options.serverAggregates;try{a5.options.serverPaging=true;if(!a5._isServerGrouped()&&!(a5.group()&&a5.group().length)){a5.options.serverSorting=true}a5.options.serverFiltering=true;a5.options.serverPaging=true;a5.options.serverAggregates=true;if(a0){a5._detachObservableParents();a5._data=a2=a5._observe(a2)}a5._process(a2)}finally{a5.options.serverPaging=a0;a5.options.serverSorting=a3;a5.options.serverFiltering=a8;a5.options.serverAggregates=a4}return}if(a1!==w){if(!a5._rangeExists(a6,a9)){a5.prefetch(a6,a1,function(){if(a7>a6&&a9<a5.total()&&!a5._rangeExists(a9,aa.min(a9+a1,a5.total()))){a5.prefetch(a9,a1,function(){a5.range(a7,a1)})}else{a5.range(a7,a1)}})}else{if(a6<a7){a5.prefetch(a9,a1,function(){a5.range(a7,a1)})}}}},_findRange:function(a8,a6){var bc=this,a3=bc._ranges,be,bi=[],bd,a9,a7,a2,bg,bf,a0,a5=bc.options,ba=a5.serverSorting||a5.serverPaging||a5.serverFiltering||a5.serverGrouping||a5.serverAggregates,a1,bb,a4;for(bd=0,a4=a3.length;bd<a4;bd++){be=a3[bd];if(a8>=be.start&&a8<=be.end){bb=0;for(a9=bd;a9<a4;a9++){be=a3[a9];a1=bc._flatData(be.data,true);if(a1.length&&a8+bb>=be.start){bg=be.data;bf=be.end;if(!ba){var bh=u(bc.group()||[]).concat(Q(bc.sort()||[]));a0=bc._queryProcess(be.data,{sort:bh,filter:bc.filter()});a1=bg=a0.data;if(a0.total!==w){bf=a0.total}}a7=0;if(a8+bb>be.start){a7=(a8+bb)-be.start}a2=a1.length;if(bf>a6){a2=a2-(bf-a6)}bb+=a2-a7;bi=bc._mergeGroups(bi,bg,a7,a2);if(a6<=be.end&&bb==a6-a8){return bi}}}break}}return[]},_mergeGroups:function(a4,a1,a3,a2){if(this._isServerGrouped()){var a0=a1.toJSON(),a5;if(a4.length){a5=a4[a4.length-1]}c(a5,a0,a3,a2);return a4.concat(a0)}return a4.concat(a1.slice(a3,a2))},skip:function(){var a0=this;if(a0._skip===w){return(a0._page!==w?(a0._page-1)*(a0.take()||1):w)}return a0._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(a2,a0,a5,a4){var a1=this;var a3=a1._timeStamp();return function(bb){var ba=false,a8={start:a2,end:a0,data:[],timestamp:a1._timeStamp()},a6,a9,a7;a1._dequeueRequest();a1.trigger(ad,{response:bb,type:"read"});bb=a1.reader.parse(bb);a7=a1._readData(bb);if(a7.length){for(a6=0,a9=a1._ranges.length;a6<a9;a6++){if(a1._ranges[a6].start===a2){ba=true;a8=a1._ranges[a6];break}}if(!ba){a1._ranges.push(a8)}}a8.data=a1._observe(a7);a8.end=a8.start+a1._flatData(a8.data,true).length;a1._ranges.sort(function(bc,bd){return bc.start-bd.start});a1._total=a1.reader.total(bb);if(a4||(a3>=a1._currentRequestTimeStamp||!a1._skipRequestsInProgress)){if(a5&&a7.length){a5()}else{a1.trigger(J,{})}}}},prefetch:function(a4,a1,a5){var a3=this,a2=aa.min(a4+a1,a3.total()),a0={take:a1,skip:a4,page:a4/a1+1,pageSize:a1,sort:a3._sort,filter:a3._filter,group:a3._group,aggregate:a3._aggregate};if(!a3._rangeExists(a4,a2)){clearTimeout(a3._timeout);a3._timeout=setTimeout(function(){a3._queueRequest(a0,function(){if(!a3.trigger(aI,{type:"read"})){a3.transport.read({data:a3._params(a0),success:a3._prefetchSuccessHandler(a4,a2,a5),error:function(){var a6=z.call(arguments);a3.error.apply(a3,a6)}})}else{a3._dequeueRequest()}})},100)}else{if(a5){a5()}}},_multiplePrefetch:function(a4,a1,a5){var a3=this,a2=aa.min(a4+a1,a3.total()),a0={take:a1,skip:a4,page:a4/a1+1,pageSize:a1,sort:a3._sort,filter:a3._filter,group:a3._group,aggregate:a3._aggregate};if(!a3._rangeExists(a4,a2)){if(!a3.trigger(aI,{type:"read"})){a3.transport.read({data:a3._params(a0),success:a3._prefetchSuccessHandler(a4,a2,a5,true)})}}else{if(a5){a5()}}},_rangeExists:function(a5,a2){var a4=this,a1=a4._ranges,a0,a3;for(a0=0,a3=a1.length;a0<a3;a0++){if(a1[a0].start<=a5&&a1[a0].end>=a2){return true}}return false},_removeModelFromRanges:function(a3){var a1,a5,a2;for(var a0=0,a4=this._ranges.length;a0<a4;a0++){a2=this._ranges[a0];this._eachItem(a2.data,function(a6){a1=L(a6,a3);if(a1){a5=true}});if(a5){break}}},_updateRangesLength:function(){var a1=0,a2,a4;for(var a0=0,a3=this._ranges.length;a0<a3;a0++){a2=this._ranges[a0];a2.start=a2.start-a1;a4=this._flatData(a2.data,true).length;a1=a2.end-a4;a2.end=a2.start+a4}}});var g={};g.create=function(a0,a2,a3){var a4,a1=a0.transport;if(a1){a1.read=typeof a1.read===aT?{url:a1.read}:a1.read;if(a3){a1.dataSource=a3}if(a0.type){s.data.transports=s.data.transports||{};s.data.schemas=s.data.schemas||{};if(s.data.transports[a0.type]&&!H(s.data.transports[a0.type])){a4=new s.data.transports[a0.type](ar(a1,{data:a2}))}else{a1=ar(true,{},s.data.transports[a0.type],a1)}a0.schema=ar(true,{},s.data.schemas[a0.type],a0.schema)}if(!a4){a4=aL(a1.read)?a1:new aY(a1)}}else{a4=new ao({data:a0.data||[]})}return a4};r.create=function(a9){if(a(a9)||a9 instanceof al){a9={data:a9}}var a0=a9||{},a2=a0.data,a4=a0.fields,a8=a0.table,a6=a0.select,a7,a1,a3={},a5;if(!a2&&a4&&!a0.transport){if(a8){a2=f(a8,a4)}else{if(a6){a2=l(a6,a4);if(a0.group===w&&a2[0]&&a2[0].optgroup!==w){a0.group="optgroup"}}}}if(s.data.Model&&a4&&(!a0.schema||!a0.schema.model)){for(a7=0,a1=a4.length;a7<a1;a7++){a5=a4[a7];if(a5.type){a3[a5.field]=a5}}if(!aB(a3)){a0.schema=ar(true,a0.schema,{model:{fields:a3}})}}a0.data=a2;a6=null;a0.select=null;a8=null;a0.table=null;return a0 instanceof r?a0:new r(a0)};function l(a8,a7){a8=aH(a8)[0];var bb=a8.options;var a2=a7[0];var a3=a7[1];var a4=[];var ba,a1;var a0;var a6;var a5;var a9;for(ba=0,a1=bb.length;ba<a1;ba++){a5={};a6=bb[ba];a0=a6.parentNode;if(a0===a8){a0=null}if(a6.disabled||(a0&&a0.disabled)){continue}if(a0){a5.optgroup=a0.label}a5[a2.field]=a6.text;a9=a6.attributes.value;if(a9&&a9.specified){a9=a6.value}else{a9=a6.text}a5[a3.field]=a9;a4.push(a5)}return a4}function f(bb,a5){var a2=aH(bb)[0].tBodies[0],bc=a2?a2.rows:[],a6,a0,a9,a8=a5.length,a1=[],ba,a3,a7,a4;for(a6=0,a0=bc.length;a6<a0;a6++){a3={};a4=true;ba=bc[a6].cells;for(a9=0;a9<a8;a9++){a7=ba[a9];if(a7.nodeName.toLowerCase()!=="th"){a4=false;a3[a5[a9].field]=a7.innerHTML}}if(!a4){a1.push(a3)}}return a1}var aG=E.define({idField:"id",init:function(a4){var a3=this,a0=a3.hasChildren||a4&&a4.hasChildren,a2="items",a1={};s.data.Model.fn.init.call(a3,a4);if(typeof a3.children===aT){a2=a3.children}a1={schema:{data:a2,model:{hasChildren:a0,id:a3.idField,fields:a3.fields}}};if(typeof a3.children!==aT){ar(a1,a3.children)}a1.data=a4;if(!a0){a0=a1.schema.data}if(typeof a0===aT){a0=s.getter(a0)}if(aL(a0)){a3.hasChildren=!!a0.call(a3,a3)}a3._childrenOptions=a1;if(a3.hasChildren){a3._initChildren()}a3._loaded=!!(a4&&(a4[a2]||a4._loaded))},_initChildren:function(){var a2=this;var a1,a3,a0;if(!(a2.children instanceof ac)){a1=a2.children=new ac(a2._childrenOptions);a3=a1.transport;a0=a3.parameterMap;a3.parameterMap=function(a5,a4){a5[a2.idField||"id"]=a2.id;if(a0){a5=a0(a5,a4)}return a5};a1.parent=function(){return a2};a1.bind(J,function(a4){a4.node=a4.node||a2;a2.trigger(J,a4)});a1.bind(I,function(a4){var a5=a2.parent();if(a5){a4.node=a4.node||a2;a5.trigger(I,a4)}});a2._updateChildrenField()}},append:function(a0){this._initChildren();this.loaded(true);this.children.add(a0)},hasChildren:false,level:function(){var a0=this.parentNode(),a1=0;while(a0&&a0.parentNode){a1++;a0=a0.parentNode?a0.parentNode():null}return a1},_updateChildrenField:function(){var a0=this._childrenOptions.schema.data;this[a0||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=true;this._updateChildrenField()},load:function(){var a0={};var a3="_query";var a1,a2;if(this.hasChildren){this._initChildren();a1=this.children;a0[this.idField||"id"]=this.id;if(!this._loaded){a1._data=w;a3="read"}a1.one(J,A(this._childrenLoaded,this));a2=a1[a3](a0)}else{this.loaded(true)}return a2||aH.Deferred().resolve().promise()},parentNode:function(){var a0=this.parent();return a0.parent()},loaded:function(a0){if(a0!==w){this._loaded=a0}else{return this._loaded}},shouldSerialize:function(a0){return E.fn.shouldSerialize.call(this,a0)&&a0!=="children"&&a0!=="_loaded"&&a0!=="hasChildren"&&a0!=="_childrenOptions"}});function V(a0){return function(){var a2=this._data,a1=r.fn[a0].apply(this,z.call(arguments));if(this._data!=a2){this._attachBubbleHandlers()}return a1}}var ac=r.extend({init:function(a0){var a1=aG.define({children:a0});r.fn.init.call(this,ar(true,{},{schema:{modelBase:a1,model:a1}},a0));this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var a0=this;a0._data.bind(I,function(a1){a0.trigger(I,a1)})},remove:function(a2){var a1=a2.parentNode(),a3=this,a0;if(a1&&a1._initChildren){a3=a1.children}a0=r.fn.remove.call(a3,a2);if(a1&&!a3.data().length){a1.hasChildren=false}return a0},success:V("success"),data:V("data"),insert:function(a2,a1){var a0=this.parent();if(a0&&a0._initChildren){a0.hasChildren=true;a0._initChildren()}return r.fn.insert.call(this,a2,a1)},_find:function(a6,a5){var a0,a3,a2,a4,a1;a2=r.fn[a6].call(this,a5);if(a2){return a2}a4=this._flatData(this._data);if(!a4){return}for(a0=0,a3=a4.length;a0<a3;a0++){a1=a4[a0].children;if(!(a1 instanceof ac)){continue}a2=a1[a6](a5);if(a2){return a2}}},get:function(a0){return this._find("get",a0)},getByUid:function(a0){return this._find("getByUid",a0)}});function b(a9,a8){var bc=aH(a9).children(),be,a3,a5=[],a6,a4=a8[0].field,a7=a8[1]&&a8[1].field,bb=a8[2]&&a8[2].field,bg=a8[3]&&a8[3].field,bf,a1,bd,ba,a2;function a0(bi,bh){return bi.filter(bh).add(bi.find(bh))}for(be=0,a3=bc.length;be<a3;be++){a6={_loaded:true};bf=bc.eq(be);bd=bf[0].firstChild;a2=bf.children();a9=a2.filter("ul");a2=a2.filter(":not(ul)");a1=bf.attr("data-id");if(a1){a6.id=a1}if(bd){a6[a4]=bd.nodeType==3?bd.nodeValue:a2.text()}if(a7){a6[a7]=a0(a2,"a").attr("href")}if(bg){a6[bg]=a0(a2,"img").attr("src")}if(bb){ba=a0(a2,".k-sprite").prop("className");a6[bb]=ba&&aH.trim(ba.replace("k-sprite",""))}if(a9.length){a6.items=b(a9.eq(0),a8)}if(bf.attr("data-hasChildren")=="true"){a6.hasChildren=true}a5.push(a6)}return a5}ac.create=function(a1){a1=a1&&a1.push?{data:a1}:a1;var a4=a1||{},a3=a4.data,a0=a4.fields,a2=a4.list;if(a3&&a3._dataSource){return a3._dataSource}if(!a3&&a0&&!a4.transport){if(a2){a3=b(a2,a0)}}a4.data=a3;return a4 instanceof ac?a4:new ac(a4)};var aE=s.Observable.extend({init:function(a2,a3,a1){s.Observable.fn.init.call(this);this._prefetching=false;this.dataSource=a2;this.prefetch=!a1;var a0=this;a2.bind("change",function(){a0._change()});a2.bind("reset",function(){a0._reset()});this._syncWithDataSource();this.setViewSize(a3)},setViewSize:function(a0){this.viewSize=a0;this._recalculate()},at:function(a2){var a1=this.pageSize,a3,a0=true,a4;if(a2>=this.total()){this.trigger("endreached",{index:a2});return null}if(!this.useRanges){return this.dataSource.view()[a2]}if(this.useRanges){if(a2<this.dataOffset||a2>=this.skip+a1){a0=this.range(Math.floor(a2/a1)*a1)}if(a2===this.prefetchThreshold){this._prefetch()}if(a2===this.midPageThreshold){this.range(this.nextMidRange,true)}else{if(a2===this.nextPageThreshold){this.range(this.nextFullRange)}else{if(a2===this.pullBackThreshold){if(this.offset===this.skip){this.range(this.previousMidRange)}else{this.range(this.previousFullRange)}}}}if(a0){return this.dataSource.at(a2-this.dataOffset)}else{this.trigger("endreached",{index:a2});return null}}},indexOf:function(a0){return this.dataSource.data().indexOf(a0)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var a1=this,a0=a1.pageSize,a3=a1.skip-a1.viewSize+a0,a2=aa.max(aa.floor(a3/a0),0)*a0;this.offset=a3;this.dataSource.prefetch(a2,a0,function(){a1._goToRange(a3,true)})},range:function(a4,a5){if(this.offset===a4){return true}var a1=this,a0=this.pageSize,a2=aa.max(aa.floor(a4/a0),0)*a0,a3=this.dataSource;if(a5){a2+=a0}if(a3.inRange(a4,a0)){this.offset=a4;this._recalculate();this._goToRange(a4);return true}else{if(this.prefetch){a3.prefetch(a2,a0,function(){a1.offset=a4;a1._recalculate();a1._goToRange(a4,true)});return false}}return true},syncDataSource:function(){var a0=this.offset;this.offset=null;this.range(a0)},destroy:function(){this.unbind()},_prefetch:function(){var a1=this,a0=this.pageSize,a3=this.skip+a0,a2=this.dataSource;if(!a2.inRange(a3,a0)&&!this._prefetching&&this.prefetch){this._prefetching=true;this.trigger("prefetching",{skip:a3,take:a0});a2.prefetch(a3,a0,function(){a1._prefetching=false;a1.trigger("prefetched",{skip:a3,take:a0})})}},_goToRange:function(a0,a1){if(this.offset!==a0){return}this.dataOffset=a0;this._expanding=a1;this.dataSource.range(a0,this.pageSize);this.dataSource.enableRequestsInProgress()},_reset:function(){this._syncPending=true},_change:function(){var a0=this.dataSource;this.length=this.useRanges?a0.lastRange().end:a0.view().length;if(this._syncPending){this._syncWithDataSource();this._recalculate();this._syncPending=false;this.trigger("reset",{offset:this.offset})}this.trigger("resize");if(this._expanding){this.trigger("expand")}delete this._expanding},_syncWithDataSource:function(){var a0=this.dataSource;this._firstItemUid=a0.firstItemUid();this.dataOffset=this.offset=a0.skip()||0;this.pageSize=a0.pageSize();this.useRanges=a0.options.serverPaging},_recalculate:function(){var a0=this.pageSize,a2=this.offset,a3=this.viewSize,a1=Math.ceil(a2/a0)*a0;this.skip=a1;this.midPageThreshold=a1+a0-1;this.nextPageThreshold=a1+a3-1;this.prefetchThreshold=a1+Math.floor(a0/3*2);this.pullBackThreshold=this.offset-1;this.nextMidRange=a1+a0-a3;this.nextFullRange=a1;this.previousMidRange=a2-a3;this.previousFullRange=a1-a0}});var k=s.Observable.extend({init:function(a2,a0){var a1=this;s.Observable.fn.init.call(a1);this.dataSource=a2;this.batchSize=a0;this._total=0;this.buffer=new aE(a2,a0*3);this.buffer.bind({endreached:function(a3){a1.trigger("endreached",{index:a3.index})},prefetching:function(a3){a1.trigger("prefetching",{skip:a3.skip,take:a3.take})},prefetched:function(a3){a1.trigger("prefetched",{skip:a3.skip,take:a3.take})},reset:function(){a1._total=0;a1.trigger("reset")},resize:function(){a1._total=Math.ceil(this.length/a1.batchSize);a1.trigger("resize",{total:a1.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(a3){var a1=this.buffer,a6=a3*this.batchSize,a2=this.batchSize,a0=[],a5;if(a1.offset>a6){a1.at(a1.offset-1)}for(var a4=0;a4<a2;a4++){a5=a1.at(a6+a4);if(a5===null){break}a0.push(a5)}return a0},total:function(){return this._total},destroy:function(){this.buffer.destroy();this.unbind()}});ar(true,s.data,{readers:{json:X},Query:ae,DataSource:r,HierarchicalDataSource:ac,Node:aG,ObservableObject:ai,ObservableArray:al,LazyObservableArray:ap,LocalTransport:ao,RemoteTransport:aY,Cache:U,DataReader:X,Model:E,Buffer:aE,BatchBuffer:k})})(window.kendo.jQuery);(function(C,o){var D=window.kendo,f=D.support.browser,h=D.Observable,r=D.data.ObservableObject,u=D.data.ObservableArray,i={}.toString,n={},s=Array.prototype.slice,b=D.Class,N=C.proxy,O="value",c="source",d="events",a="checked",p="css",E=true,B="change";(function(){var P=document.createElement("a");try{delete P.test}catch(Q){E=false}})();var k=h.extend({init:function(P,R){var Q=this;h.fn.init.call(Q);Q.source=P[0];Q.parents=P;Q.path=R;Q.dependencies={};Q.dependencies[R]=true;Q.observable=Q.source instanceof h;Q._access=function(S){Q.dependencies[S.field]=true};if(Q.observable){Q._change=function(S){Q.change(S)};Q.source.bind(B,Q._change)}},_parents:function(){var P=this.parents;var R=this.get();if(R&&typeof R.parent=="function"){var Q=R.parent();if(C.inArray(Q,P)<0){P=[Q].concat(P)}}return P},change:function(T){var P,Q,S=T.field,R=this;if(R.path==="this"){R.trigger(B,T)}else{for(P in R.dependencies){if(P.indexOf(S)===0){Q=P.charAt(S.length);if(!Q||Q==="."||Q==="["){R.trigger(B,T);break}}}}},start:function(P){P.bind("get",this._access)},stop:function(P){P.unbind("get",this._access)},get:function(){var R=this,S=R.source,Q=0,T=R.path,P=S;if(!R.observable){return P}R.start(R.source);P=S.get(T);while(P===o&&S){S=R.parents[++Q];if(S instanceof r){P=S.get(T)}}if(P===o){S=R.source;while(P===o&&S){S=S.parent();if(S instanceof r){P=S.get(T)}}}if(typeof P==="function"){Q=T.lastIndexOf(".");if(Q>0){S=S.get(T.substring(0,Q))}R.start(S);if(S!==R.source){P=P.call(S,R.source)}else{P=P.call(S)}R.stop(S)}if(S&&S!==R.source){R.currentSource=S;S.unbind(B,R._change).bind(B,R._change)}R.stop(R.source);return P},set:function(Q){var P=this.currentSource||this.source;var R=D.getter(this.path)(P);if(typeof R==="function"){if(P!==this.source){R.call(P,this.source,Q)}else{R.call(P,Q)}}else{P.set(this.path,Q)}},destroy:function(){if(this.observable){this.source.unbind(B,this._change);if(this.currentSource){this.currentSource.unbind(B,this._change)}}this.unbind()}});var K=k.extend({get:function(){var R=this.source,S=this.path,P=0,Q;Q=R.get(S);while(!Q&&R){R=this.parents[++P];if(R instanceof r){Q=R.get(S)}}return N(Q,R)}});var A=k.extend({init:function(R,S,P){var Q=this;k.fn.init.call(Q,R,S);Q.template=P},render:function(Q){var P;this.start(this.source);P=D.render(this.template,Q);this.stop(this.source);return P}});var G=b.extend({init:function(Q,R,P){this.element=Q;this.bindings=R;this.options=P},bind:function(R,Q){var P=this;R=Q?R[Q]:R;R.bind(B,function(S){P.refresh(Q||S)});P.refresh(Q)},destroy:function(){}});var w=G.extend({dataType:function(){var P=this.element.getAttribute("data-type")||this.element.type||"text";return P.toLowerCase()},parsedValue:function(){return this._parseValue(this.element.value,this.dataType())},_parseValue:function(Q,P){if(P=="date"){Q=D.parseDate(Q,"yyyy-MM-dd")}else{if(P=="datetime-local"){Q=D.parseDate(Q,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"])}else{if(P=="number"){Q=D.parseFloat(Q)}else{if(P=="boolean"){Q=Q.toLowerCase();if(D.parseFloat(Q)!==null){Q=Boolean(D.parseFloat(Q))}else{Q=(Q.toLowerCase()==="true")}}}}}return Q}});n.attr=G.extend({refresh:function(P){this.element.setAttribute(P,this.bindings.attr[P].get())}});n.css=G.extend({init:function(Q,R,P){G.fn.init.call(this,Q,R,P);this.classes={}},refresh:function(R){var Q=C(this.element),S=this.bindings.css[R],P=this.classes[R]=S.get();if(P){Q.addClass(R)}else{Q.removeClass(R)}}});n.style=G.extend({refresh:function(P){this.element.style[P]=this.bindings.style[P].get()||""}});n.enabled=G.extend({refresh:function(){if(this.bindings.enabled.get()){this.element.removeAttribute("disabled")}else{this.element.setAttribute("disabled","disabled")}}});n.readonly=G.extend({refresh:function(){if(this.bindings.readonly.get()){this.element.setAttribute("readonly","readonly")}else{this.element.removeAttribute("readonly")}}});n.disabled=G.extend({refresh:function(){if(this.bindings.disabled.get()){this.element.setAttribute("disabled","disabled")}else{this.element.removeAttribute("disabled")}}});n.events=G.extend({init:function(Q,R,P){G.fn.init.call(this,Q,R,P);this.handlers={}},refresh:function(Q){var P=C(this.element),S=this.bindings.events[Q],R=this.handlers[Q];if(R){P.off(Q,R)}R=this.handlers[Q]=S.get();P.on(Q,S.source,R)},destroy:function(){var P=C(this.element),Q;for(Q in this.handlers){P.off(Q,this.handlers[Q])}}});n.text=G.extend({refresh:function(){var P=this.bindings.text.get();var Q=this.element.getAttribute("data-format")||"";if(P==null){P=""}C(this.element).text(D.toString(P,Q))}});n.visible=G.extend({refresh:function(){if(this.bindings.visible.get()){this.element.style.display=""}else{this.element.style.display="none"}}});n.invisible=G.extend({refresh:function(){if(!this.bindings.invisible.get()){this.element.style.display=""}else{this.element.style.display="none"}}});n.html=G.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}});n.value=w.extend({init:function(Q,R,P){w.fn.init.call(this,Q,R,P);this._change=N(this.change,this);this.eventName=P.valueUpdate||B;C(this.element).on(this.eventName,this._change);this._initChange=false},change:function(){this._initChange=this.eventName!=B;this.bindings[O].set(this.parsedValue());this._initChange=false},refresh:function(){if(!this._initChange){var Q=this.bindings[O].get();if(Q==null){Q=""}var P=this.dataType();if(P=="date"){Q=D.toString(Q,"yyyy-MM-dd")}else{if(P=="datetime-local"){Q=D.toString(Q,"yyyy-MM-ddTHH:mm:ss")}}this.element.value=Q}this._initChange=false},destroy:function(){C(this.element).off(this.eventName,this._change)}});n.source=G.extend({init:function(Q,S,P){G.fn.init.call(this,Q,S,P);var R=this.bindings.source.get();if(R instanceof D.data.DataSource&&P.autoBind!==false){R.fetch()}},refresh:function(R){var P=this,Q=P.bindings.source.get();if(Q instanceof u||Q instanceof D.data.DataSource){R=R||{};if(R.action=="add"){P.add(R.index,R.items)}else{if(R.action=="remove"){P.remove(R.index,R.items)}else{if(R.action!="itemchange"){P.render()}}}}else{P.render()}},container:function(){var P=this.element;if(P.nodeName.toLowerCase()=="table"){if(!P.tBodies[0]){P.appendChild(document.createElement("tbody"))}P=P.tBodies[0]}return P},template:function(){var P=this.options,Q=P.template,R=this.container().nodeName.toLowerCase();if(!Q){if(R=="select"){if(P.valueField||P.textField){Q=D.format('<option value="#:{0}#">#:{1}#</option>',P.valueField||P.textField,P.textField||P.valueField)}else{Q="<option>#:data#</option>"}}else{if(R=="tbody"){Q="<tr><td>#:data#</td></tr>"}else{if(R=="ul"||R=="ol"){Q="<li>#:data#</li>"}else{Q="#:data#"}}}Q=D.template(Q)}return Q},add:function(T,U){var S=this.container(),W,X,Q,P,V=S.cloneNode(false),R=S.children[T];C(V).html(D.render(this.template(),U));if(V.children.length){W=this.bindings.source._parents();for(X=0,Q=U.length;X<Q;X++){P=V.children[0];S.insertBefore(P,R||null);x(P,U[X],this.options.roles,[U[X]].concat(W))}}},remove:function(R,Q){var P,S=this.container();for(P=0;P<Q.length;P++){var T=S.children[R];e(T);S.removeChild(T)}},render:function(){var U=this.bindings.source.get(),Q,P,T,R=this.container(),S=this.template();if(U instanceof D.data.DataSource){U=U.view()}if(!(U instanceof u)&&i.call(U)!=="[object Array]"){U=[U]}if(this.bindings.template){m(R);C(R).html(this.bindings.template.render(U));if(R.children.length){Q=this.bindings.source._parents();for(P=0,T=U.length;P<T;P++){x(R.children[P],U[P],this.options.roles,[U[P]].concat(Q))}}}else{C(R).html(D.render(S,U))}}});n.input={checked:w.extend({init:function(Q,R,P){w.fn.init.call(this,Q,R,P);this._change=N(this.change,this);C(this.element).change(this._change)},change:function(){var R=this.element;var T=this.value();if(R.type=="radio"){T=this.parsedValue();this.bindings[a].set(T)}else{if(R.type=="checkbox"){var S=this.bindings[a].get();var P;if(S instanceof u){T=this.parsedValue();if(T instanceof Date){for(var Q=0;Q<S.length;Q++){if(S[Q] instanceof Date&&+S[Q]===+T){P=Q;break}}}else{P=S.indexOf(T)}if(P>-1){S.splice(P,1)}else{S.push(T)}}else{this.bindings[a].set(T)}}}},refresh:function(){var U=this.bindings[a].get(),T=U,S=this.dataType(),R=this.element;if(R.type=="checkbox"){if(T instanceof u){var P=-1;U=this.parsedValue();if(U instanceof Date){for(var Q=0;Q<T.length;Q++){if(T[Q] instanceof Date&&+T[Q]===+U){P=Q;break}}}else{P=T.indexOf(U)}R.checked=(P>=0)}else{R.checked=T}}else{if(R.type=="radio"&&U!=null){if(S=="date"){U=D.toString(U,"yyyy-MM-dd")}else{if(S=="datetime-local"){U=D.toString(U,"yyyy-MM-ddTHH:mm:ss")}}if(R.value===U.toString()){R.checked=true}}}},value:function(){var P=this.element,Q=P.value;if(P.type=="checkbox"){Q=P.checked}return Q},destroy:function(){C(this.element).off(B,this._change)}})};n.select={source:n.source.extend({refresh:function(R){var P=this,Q=P.bindings.source.get();if(Q instanceof u||Q instanceof D.data.DataSource){R=R||{};if(R.action=="add"){P.add(R.index,R.items)}else{if(R.action=="remove"){P.remove(R.index,R.items)}else{if(R.action=="itemchange"||R.action===o){P.render();if(P.bindings.value){if(P.bindings.value){P.element.value=z(P.bindings.value.get(),C(P.element).data("valueField"))}}}}}}else{P.render()}}}),value:w.extend({init:function(Q,R,P){w.fn.init.call(this,Q,R,P);this._change=N(this.change,this);C(this.element).change(this._change)},parsedValue:function(){var R=this.dataType();var Q=[];var U,S,P,T;for(P=0,T=this.element.options.length;P<T;P++){S=this.element.options[P];if(S.selected){U=S.attributes.value;if(U&&U.specified){U=S.value}else{U=S.text}Q.push(this._parseValue(U,R))}}return Q},change:function(){var Z=[],S=this.element,P,W=this.options.valueField||this.options.textField,Q=this.options.valuePrimitive,U,V,Y,X,R;Z=this.parsedValue();if(W){P=this.bindings.source.get();if(P instanceof D.data.DataSource){P=P.view()}for(V=0;V<Z.length;V++){for(X=0,R=P.length;X<R;X++){var T=Q?(this._parseValue(Z[V],this.dataType())===P[X].get(W)):(this._parseValue(P[X].get(W),this.dataType()).toString()===Z[V]);if(T){Z[V]=P[X];break}}}}Y=this.bindings[O].get();if(Y instanceof u){Y.splice.apply(Y,[0,Y.length].concat(Z))}else{if(!Q&&(Y instanceof r||Y===null||Y===o||!W)){this.bindings[O].set(Z[0])}else{this.bindings[O].set(Z[0].get(W))}}},refresh:function(){var R,Q=this.element,Z=Q.options,P=this.options.valuePrimitive,W=this.bindings[O].get(),X=W,V=this.options.valueField||this.options.textField,Y=false,S=this.dataType(),U;if(!(X instanceof u)){X=new u([W])}Q.selectedIndex=-1;for(var T=0;T<X.length;T++){W=X[T];if(V&&W instanceof r){W=W.get(V)}if(S=="date"){W=D.toString(X[T],"yyyy-MM-dd")}else{if(S=="datetime-local"){W=D.toString(X[T],"yyyy-MM-ddTHH:mm:ss")}}for(R=0;R<Z.length;R++){U=Z[R].value;if(U===""&&W!==""){U=Z[R].text}if(W!=null&&U==W.toString()){Z[R].selected=true;Y=true}}}},destroy:function(){C(this.element).off(B,this._change)}})};function H(P,R,Q){return G.extend({init:function(U,V,S){var T=this;G.fn.init.call(T,U.element[0],V,S);T.widget=U;T._dataBinding=N(T.dataBinding,T);T._dataBound=N(T.dataBound,T);T._itemChange=N(T.itemChange,T)},itemChange:function(S){x(S.item[0],S.data,this._ns(S.ns),[S.data].concat(this.bindings[P]._parents()))},dataBinding:function(W){var S,U,V=this.widget,T=W.removedItems||V.items();for(S=0,U=T.length;S<U;S++){e(T[S])}},_ns:function(T){T=T||D.ui;var S=[D.ui,D.dataviz.ui,D.mobile.ui];S.splice(C.inArray(T,S),1);S.unshift(T);return D.rolesFromNamespaces(S)},dataBound:function(W){var ab,T,V=this.widget,X=W.addedItems||V.items(),S=V[R],Y,Z,U=S.group()||[],aa=D.data.HierarchicalDataSource;if(aa&&S instanceof aa){return}if(X.length){Y=W.addedDataItems||S.flatView();Z=this.bindings[P]._parents();for(ab=0,T=Y.length;ab<T;ab++){x(X[ab],Y[ab],this._ns(W.ns),[Y[ab]].concat(Z))}}},refresh:function(V){var S=this,U,T=S.widget;V=V||{};if(!V.action){S.destroy();T.bind("dataBinding",S._dataBinding);T.bind("dataBound",S._dataBound);T.bind("itemChange",S._itemChange);U=S.bindings[P].get();if(T[R] instanceof D.data.DataSource&&T[R]!=U){if(U instanceof D.data.DataSource){T[Q](U)}else{if(U&&U._dataSource){T[Q](U._dataSource)}else{T[R].data(U);if(S.bindings.value&&(T instanceof D.ui.Select||T instanceof D.ui.MultiSelect)){T.value(z(S.bindings.value.get(),T.options.dataValueField))}}}}}},destroy:function(){var S=this.widget;S.unbind("dataBinding",this._dataBinding);S.unbind("dataBound",this._dataBound);S.unbind("itemChange",this._itemChange)}})}n.widget={events:G.extend({init:function(Q,R,P){G.fn.init.call(this,Q.element[0],R,P);this.widget=Q;this.handlers={}},refresh:function(P){var R=this.bindings.events[P],Q=this.handlers[P];if(Q){this.widget.unbind(P,Q)}Q=R.get();this.handlers[P]=function(S){S.data=R.source;Q(S);if(S.data===R.source){delete S.data}};this.widget.bind(P,this.handlers[P])},destroy:function(){var P;for(P in this.handlers){this.widget.unbind(P,this.handlers[P])}}}),checked:G.extend({init:function(Q,R,P){G.fn.init.call(this,Q.element[0],R,P);this.widget=Q;this._change=N(this.change,this);this.widget.bind(B,this._change)},change:function(){this.bindings[a].set(this.value())},refresh:function(){this.widget.check(this.bindings[a].get()===true)},value:function(){var P=this.element,Q=P.value;if(Q=="on"||Q=="off"){Q=P.checked}return Q},destroy:function(){this.widget.unbind(B,this._change)}}),visible:G.extend({init:function(Q,R,P){G.fn.init.call(this,Q.element[0],R,P);this.widget=Q},refresh:function(){var P=this.bindings.visible.get();this.widget.wrapper[0].style.display=P?"":"none"}}),invisible:G.extend({init:function(Q,R,P){G.fn.init.call(this,Q.element[0],R,P);this.widget=Q},refresh:function(){var P=this.bindings.invisible.get();this.widget.wrapper[0].style.display=P?"none":""}}),enabled:G.extend({init:function(Q,R,P){G.fn.init.call(this,Q.element[0],R,P);this.widget=Q},refresh:function(){if(this.widget.enable){this.widget.enable(this.bindings.enabled.get())}}}),disabled:G.extend({init:function(Q,R,P){G.fn.init.call(this,Q.element[0],R,P);this.widget=Q},refresh:function(){if(this.widget.enable){this.widget.enable(!this.bindings.disabled.get())}}}),source:H("source","dataSource","setDataSource"),value:G.extend({init:function(R,S,P){G.fn.init.call(this,R.element[0],S,P);this.widget=R;this._change=C.proxy(this.change,this);this.widget.first(B,this._change);var Q=this.bindings.value.get();this._valueIsObservableObject=!P.valuePrimitive&&(Q==null||Q instanceof r);this._valueIsObservableArray=Q instanceof u;this._initChange=false},change:function(){var W=this.widget.value(),T=this.options.dataValueField||this.options.dataTextField,R=i.call(W)==="[object Array]",X=this._valueIsObservableObject,S,Y,Z=[],aa,V,U,Q,P;this._initChange=true;if(T){if(this.bindings.source){P=this.bindings.source.get()}if(W===""&&(X||this.options.valuePrimitive)){W=null}else{if(!P||P instanceof D.data.DataSource){P=this.widget.dataSource.view()}if(R){Y=W.length;Z=W.slice(0)}for(U=0,Q=P.length;U<Q;U++){aa=P[U];V=aa.get(T);if(R){for(S=0;S<Y;S++){if(V==Z[S]){Z[S]=aa;break}}}else{if(V==W){W=X?aa:V;break}}}if(Z[0]){if(this._valueIsObservableArray){W=Z}else{if(X||!T){W=Z[0]}else{W=Z[0].get(T)}}}}}this.bindings.value.set(W);this._initChange=false},refresh:function(){if(!this._initChange){var R=this.widget;var X=R.options;var Q=X.dataTextField;var W=X.dataValueField||Q;var S=this.bindings.value.get();var V=X.text||"";var T=0,P;var U=[];if(S===o){S=null}if(W){if(S instanceof u){for(P=S.length;T<P;T++){U[T]=S[T].get(W)}S=U}else{if(S instanceof r){V=S.get(Q);S=S.get(W)}}}if(X.autoBind===false&&!X.cascadeFrom&&R.listView&&!R.listView.isBound()){if(Q===W&&!V){V=S}if(!V&&S&&X.valuePrimitive){R.value(S)}else{R._preselect(S,V)}}else{R.value(S)}}this._initChange=false},destroy:function(){this.widget.unbind(B,this._change)}}),gantt:{dependencies:H("dependencies","dependencies","setDependenciesDataSource")},multiselect:{value:G.extend({init:function(Q,R,P){G.fn.init.call(this,Q.element[0],R,P);this.widget=Q;this._change=C.proxy(this.change,this);this.widget.first(B,this._change);this._initChange=false},change:function(){var X=this,aa=X.bindings[O].get(),P=X.options.valuePrimitive,ac=P?X.widget.value():X.widget.dataItems();var Z=this.options.dataValueField||this.options.dataTextField;ac=ac.slice(0);X._initChange=true;if(aa instanceof u){var W=[];var T=ac.length;var V=0,U=0;var S=aa[V];var Y=false;var R;var Q;var ab;while(S!==o){ab=false;for(U=0;U<T;U++){if(P){Y=ac[U]==S}else{Q=ac[U];Q=Q.get?Q.get(Z):Q;Y=Q==(S.get?S.get(Z):S)}if(Y){ac.splice(U,1);T-=1;ab=true;break}}if(!ab){W.push(S);y(aa,V,1);R=V}else{V+=1}S=aa[V]}y(aa,aa.length,0,ac);if(W.length){aa.trigger("change",{action:"remove",items:W,index:R})}if(ac.length){aa.trigger("change",{action:"add",items:ac,index:aa.length-1})}}else{X.bindings[O].set(ac)}X._initChange=false},refresh:function(){if(!this._initChange){var X=this.options,R=this.widget,T=X.dataValueField||X.dataTextField,U=this.bindings.value.get(),Q=U,V=0,P,W=[],S;if(U===o){U=null}if(T){if(U instanceof u){for(P=U.length;V<P;V++){S=U[V];W[V]=S.get?S.get(T):S}U=W}else{if(U instanceof r){U=U.get(T)}}}if(X.autoBind===false&&X.valuePrimitive!==true&&!R.listView.isBound()){R._preselect(Q,U)}else{R.value(U)}}},destroy:function(){this.widget.unbind(B,this._change)}})},scheduler:{source:H("source","dataSource","setDataSource").extend({dataBound:function(V){var P;var R;var U=this.widget;var T=V.addedItems||U.items();var S,Q;if(T.length){S=V.addedDataItems||U.dataItems();Q=this.bindings.source._parents();for(P=0,R=S.length;P<R;P++){x(T[P],S[P],this._ns(V.ns),[S[P]].concat(Q))}}}})}};var y=function(U,W,S,X){X=X||[];S=S||0;var T=X.length;var R=U.length;var Q=[].slice.call(U,W+S);var P=Q.length;var V;if(T){T=W+T;V=0;for(;W<T;W++){U[W]=X[V];V++}U.length=T}else{if(S){U.length=W;S+=W;while(W<S){delete U[--S]}}}if(P){P=W+P;V=0;for(;W<P;W++){U[W]=Q[V];V++}U.length=P}W=U.length;while(W<R){delete U[W];W++}};var F=b.extend({init:function(Q,P){this.target=Q;this.options=P;this.toDestroy=[]},bind:function(S){var U,V,R,W,T,Q,X=this instanceof g,P=this.binders();for(U in S){if(U==O){V=true}else{if(U==c){R=true}else{if(U==d&&!X){W=true}else{if(U==a){T=true}else{if(U==p){Q=true}else{this.applyBinding(U,S,P)}}}}}}if(R){this.applyBinding(c,S,P)}if(V){this.applyBinding(O,S,P)}if(T){this.applyBinding(a,S,P)}if(W&&!X){this.applyBinding(d,S,P)}if(Q&&!X){this.applyBinding(p,S,P)}},binders:function(){return n[this.target.nodeName.toLowerCase()]||{}},applyBinding:function(R,V,T){var Q=T[R]||n[R],P=this.toDestroy,S,U=V[R];if(Q){Q=new Q(this.target,V,this.options);P.push(Q);if(U instanceof k){Q.bind(U);P.push(U)}else{for(S in U){Q.bind(U,S);P.push(U[S])}}}else{if(R!=="template"){throw new Error("The "+R+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")}}},destroy:function(){var P,R,Q=this.toDestroy;for(P=0,R=Q.length;P<R;P++){Q[P].destroy()}}});var g=F.extend({binders:function(){return n.widget[this.target.options.name.toLowerCase()]||{}},applyBinding:function(R,V,T){var Q=T[R]||n.widget[R],P=this.toDestroy,S,U=V[R];if(Q){Q=new Q(this.target,V,this.target.options);P.push(Q);if(U instanceof k){Q.bind(U);P.push(U)}else{for(S in U){Q.bind(U,S);P.push(U[S])}}}else{throw new Error("The "+R+" binding is not supported by the "+this.target.options.name+" widget")}}});function l(P,Q){var R=D.initWidget(P,{},Q);if(R){return new g(R)}}var L=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,I=/\s/g;function M(S){var X={},V,P,Q,R,W,U,T;T=S.match(L);for(V=0,P=T.length;V<P;V++){Q=T[V];R=Q.indexOf(":");W=Q.substring(0,R);U=Q.substring(R+1);if(U.charAt(0)=="{"){U=M(U)}X[W]=U}return X}function t(T,R,Q){var S,P={};for(S in T){P[S]=new Q(R,T[S])}return P}function x(U,P,V,Y){var T=U.getAttribute("data-"+D.ns+"role"),Z,X=U.getAttribute("data-"+D.ns+"bind"),S=U.children,R=[],aa=true,Q,ab={},W;Y=Y||[P];if(T||X){J(U)}if(T){W=l(U,V)}if(X){X=M(X.replace(I,""));if(!W){ab=D.parseOptions(U,{textField:"",valueField:"",template:"",valueUpdate:B,valuePrimitive:false,autoBind:true});ab.roles=V;W=new F(U,ab)}W.source=P;Q=t(X,Y,k);if(ab.template){Q.template=new A(Y,"",ab.template)}if(Q.click){X.events=X.events||{};X.events.click=X.click;Q.click.destroy();delete Q.click}if(Q.source){aa=false}if(X.attr){Q.attr=t(X.attr,Y,k)}if(X.style){Q.style=t(X.style,Y,k)}if(X.events){Q.events=t(X.events,Y,K)}if(X.css){Q.css=t(X.css,Y,k)}W.bind(Q)}if(W){U.kendoBindingTarget=W}if(aa&&S){for(Z=0;Z<S.length;Z++){R[Z]=S[Z]}for(Z=0;Z<R.length;Z++){x(R[Z],P,V,Y)}}}function j(U,Q){var P,T,S,R=D.rolesFromNamespaces([].slice.call(arguments,2));Q=D.observable(Q);U=C(U);for(P=0,T=U.length;P<T;P++){S=U[P];if(S.nodeType===1){x(S,Q,R)}}}function J(P){var Q=P.kendoBindingTarget;if(Q){Q.destroy();if(E){delete P.kendoBindingTarget}else{if(P.removeAttribute){P.removeAttribute("kendoBindingTarget")}else{P.kendoBindingTarget=null}}}}function e(P){J(P);m(P)}function m(R){var Q=R.children;if(Q){for(var P=0,S=Q.length;P<S;P++){e(Q[P])}}}function v(R){var P,Q;R=C(R);for(P=0,Q=R.length;P<Q;P++){e(R[P])}}function q(R,Q){var P=R.element,S=P[0].kendoBindingTarget;if(S){j(P,S.source,Q)}}function z(U,R){var Q=[];var P=0;var T;var S;if(!R){return U}if(U instanceof u){for(T=U.length;P<T;P++){S=U[P];Q[P]=S.get?S.get(R):S[R]}U=Q}else{if(U instanceof r){U=U.get(R)}}return U}D.unbind=v;D.bind=j;D.data.binders=n;D.data.Binder=G;D.notify=q;D.observable=function(P){if(!(P instanceof r)){P=new r(P)}return P};D.observableHierarchy=function(R){var Q=D.data.HierarchicalDataSource.create(R);function P(U){var T,S;for(T=0;T<U.length;T++){U[T]._initChildren();S=U[T].children;S.fetch();U[T].items=S.data();P(U[T].items)}}Q.fetch();P(Q.data());Q._data._dataSource=Q;return Q._data}})(window.kendo.jQuery);(function(R,q){var V=window.kendo,B=V.effects,ad=R.each,p=R.extend,ah=R.proxy,ab=V.support,f=ab.browser,J=ab.transforms,l=ab.transitions,n={scale:0,scalex:0,scaley:0,scale3d:0},h={translate:0,translatex:0,translatey:0,translate3d:0},N=(typeof document.documentElement.style.zoom!=="undefined")&&!J,M=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,al=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,F=/translatex?$/i,X=/(zoom|fade|expand)(\w+)/,a=/(zoom|fade|expand)/,r=/[xy]$/i,Y=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],U=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],an={rotate:"deg",scale:"",skew:"px",translate:"px"},W=J.css,ai=Math.round,v="",am="px",Z="none",P="auto",i="width",Q="height",ag="hidden",A="origin",H="abortId",ac="overflow",z="translate",aa="position",af="completeCallback",ak=W+"transition",aj=W+"transform",ap=W+"backface-visibility",x=W+"perspective",ao="1500px",k="perspective("+ao+")",j=ab.mobileOS&&ab.mobileOS.majorVersion==7,m={left:{reverse:"right",property:"left",transition:"translatex",vertical:false,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:false,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:true,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:true,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};V.directions=m;p(R.fn,{kendoStop:function(ar,aq){if(l){return B.stopQueue(this,ar||false,aq||false)}else{return this.stop(ar,aq)}}});if(J&&!l){ad(U,function(aq,ar){R.fn[ar]=function(av){if(typeof av=="undefined"){return C(this,ar)}else{var au=R(this)[0],at=ar+"("+av+an[ar.replace(r,"")]+")";if(au.style.cssText.indexOf(aj)==-1){R(this).css(aj,at)}else{au.style.cssText=au.style.cssText.replace(new RegExp(ar+"\\(.*?\\)","i"),at)}}return this};R.fx.step[ar]=function(at){R(at.elem)[ar](at.now)}});var E=R.fx.prototype.cur;R.fx.prototype.cur=function(){if(U.indexOf(this.prop)!=-1){return parseFloat(R(this.elem)[this.prop]())}return E.apply(this,arguments)}}V.toggleClass=function(at,ar,aq,au){if(ar){ar=ar.split(" ");if(l){aq=p({exclusive:"all",duration:400,ease:"ease-out"},aq);at.css(ak,aq.exclusive+" "+aq.duration+"ms "+aq.ease);setTimeout(function(){at.css(ak,"").css(Q)},aq.duration)}ad(ar,function(av,aw){at.toggleClass(aw,au)})}return at};V.parseEffects=function(aq,at){var ar={};if(typeof aq==="string"){ad(aq.split(" "),function(au,ay){var ax=!a.test(ay),av=ay.replace(X,function(aC,aB,aD){return aB+":"+aD.toLowerCase()}),aw=av.split(":"),aA=aw[1],az={};if(aw.length>1){az.direction=(at&&ax?m[aA].reverse:aA)}ar[aw[0]]=az})}else{ad(aq,function(au){var av=this.direction;if(av&&at&&!a.test(au)){this.direction=m[av].reverse}ar[au]=this})}return ar};function ae(aq){return parseInt(aq,10)}function g(aq,ar){return ae(aq.css(ar))}function G(at){var ar=[];for(var aq in at){ar.push(aq)}return ar}function b(ar){for(var aq in ar){if(Y.indexOf(aq)!=-1&&U.indexOf(aq)==-1){delete ar[aq]}}return ar}function o(au,at){var aw=[],av={},aq,ar,ax,ay;for(ar in at){aq=ar.toLowerCase();ay=J&&Y.indexOf(aq)!=-1;if(!ab.hasHW3D&&ay&&U.indexOf(aq)==-1){delete at[ar]}else{ax=at[ar];if(ay){aw.push(ar+"("+ax+")")}else{av[ar]=ax}}}if(aw.length){av[aj]=aw.join(" ")}return av}if(l){p(B,{transition:function(ar,aw,az){var av,at=0,ay=ar.data("keys")||[],aq;az=p({duration:200,ease:"ease-out",complete:null,exclusive:"all"},az);var au=false;var ax=function(){if(!au){au=true;if(aq){clearTimeout(aq);aq=null}ar.removeData(H).dequeue().css(ak,"").css(ak);az.complete.call(ar)}};az.duration=R.fx?R.fx.speeds[az.duration]||az.duration:az.duration;av=o(ar,aw);R.merge(ay,G(av));ar.data("keys",R.unique(ay)).height();ar.css(ak,az.exclusive+" "+az.duration+"ms "+az.ease).css(ak);ar.css(av).css(aj);if(l.event){ar.one(l.event,ax);if(az.duration!==0){at=500}}aq=setTimeout(ax,az.duration+at);ar.data(H,aq);ar.data(af,ax)},stopQueue:function(at,av,ar){var au,aq=at.data("keys"),ax=(!ar&&aq),aw=at.data(af);if(ax){au=V.getComputedStyles(at[0],aq)}if(aw){aw()}if(ax){at.css(au)}return at.removeData("keys").stop(av)}})}function C(at,av){if(J){var ar=at.css(aj);if(ar==Z){return av=="scale"?1:0}var aq=ar.match(new RegExp(av+"\\s*\\(([\\d\\w\\.]+)")),au=0;if(aq){au=ae(aq[1])}else{aq=ar.match(M)||[0,0,0,0,0];av=av.toLowerCase();if(F.test(av)){au=parseFloat(aq[3]/aq[2])}else{if(av=="translatey"){au=parseFloat(aq[4]/aq[2])}else{if(av=="scale"){au=parseFloat(aq[2])}else{if(av=="rotate"){au=parseFloat(Math.atan2(aq[2],aq[1]))}}}}}return au}else{return parseFloat(at.css(av))}}var D=V.Class.extend({init:function(ar,aq){var at=this;at.element=ar;at.effects=[];at.options=aq;at.restore=[]},run:function(at){var az=this,aE,aC,aq,av=at.length,ay=az.element,aF=az.options,aD=R.Deferred(),ar={},ax={},aA,au,aw;az.effects=at;aD.then(R.proxy(az,"complete"));ay.data("animating",true);for(aC=0;aC<av;aC++){aE=at[aC];aE.setReverse(aF.reverse);aE.setOptions(aF);az.addRestoreProperties(aE.restore);aE.prepare(ar,ax);au=aE.children();for(aq=0,aw=au.length;aq<aw;aq++){au[aq].duration(aF.duration).run()}}for(var aB in aF.effects){p(ax,aF.effects[aB].properties)}if(!ay.is(":visible")){p(ar,{display:ay.data("olddisplay")||"block"})}if(J&&!aF.reset){aA=ay.data("targetTransform");if(aA){ar=p(aA,ar)}}ar=o(ay,ar);if(J&&!l){ar=b(ar)}ay.css(ar).css(aj);for(aC=0;aC<av;aC++){at[aC].setup()}if(aF.init){aF.init()}ay.data("targetTransform",ax);B.animate(ay,ax,p({},aF,{complete:aD.resolve}));return aD.promise()},stop:function(){R(this.element).kendoStop(true,true)},addRestoreProperties:function(at){var ar=this.element,av,aq=0,au=at.length;for(;aq<au;aq++){av=at[aq];this.restore.push(av);if(!ar.data(av)){ar.data(av,ar.css(av))}}},restoreCallback:function(){var ar=this.element;for(var aq=0,at=this.restore.length;aq<at;aq++){var au=this.restore[aq];ar.css(au,ar.data(au))}},complete:function(){var aw=this,aq=0,at=aw.element,ar=aw.options,av=aw.effects,au=av.length;at.removeData("animating").dequeue();if(ar.hide){at.data("olddisplay",at.css("display")).hide()}this.restoreCallback();if(N&&!J){setTimeout(R.proxy(this,"restoreCallback"),0)}for(;aq<au;aq++){av[aq].teardown()}if(ar.completeCallback){ar.completeCallback(at)}}});B.promise=function(av,ar){var ay=[],ax,au=new D(av,ar),at=V.parseEffects(ar.effects),aw;ar.effects=at;for(var aq in at){ax=B[I(aq)];if(ax){aw=new ax(av,at[aq].direction);ay.push(aw)}}if(ay[0]){au.run(ay)}else{if(!av.is(":visible")){av.css({display:av.data("olddisplay")||"block"}).css("display")}if(ar.init){ar.init()}av.dequeue();au.complete()}};p(B,{animate:function(au,ar,aq){var at=aq.transition!==false;delete aq.transition;if(l&&"transition" in B&&at){B.transition(au,ar,aq)}else{if(J){au.animate(b(ar),{queue:false,show:false,hide:false,duration:aq.duration,complete:aq.complete})}else{au.each(function(){var aw=R(this),av={};ad(Y,function(aE,aD){var az,aG=ar?ar[aD]+" ":null;if(aG){var aF=ar;if(aD in n&&ar[aD]!==q){az=aG.match(al);if(J){p(aF,{scale:+az[0]})}}else{if(aD in h&&ar[aD]!==q){var aC=aw.css(aa),ax=(aC=="absolute"||aC=="fixed");if(!aw.data(z)){if(ax){aw.data(z,{top:g(aw,"top")||0,left:g(aw,"left")||0,bottom:g(aw,"bottom"),right:g(aw,"right")})}else{aw.data(z,{top:g(aw,"marginTop")||0,left:g(aw,"marginLeft")||0})}}var aB=aw.data(z);az=aG.match(al);if(az){var aA=aD==z+"y"?+null:+az[1],ay=aD==z+"y"?+az[1]:+az[2];if(ax){if(!isNaN(aB.right)){if(!isNaN(aA)){p(aF,{right:aB.right-aA})}}else{if(!isNaN(aA)){p(aF,{left:aB.left+aA})}}if(!isNaN(aB.bottom)){if(!isNaN(ay)){p(aF,{bottom:aB.bottom-ay})}}else{if(!isNaN(ay)){p(aF,{top:aB.top+ay})}}}else{if(!isNaN(aA)){p(aF,{marginLeft:aB.left+aA})}if(!isNaN(ay)){p(aF,{marginTop:aB.top+ay})}}}}}if(!J&&aD!="scale"&&aD in aF){delete aF[aD]}if(aF){p(av,aF)}}});if(f.msie){delete av.scale}aw.animate(av,{queue:false,show:false,hide:false,duration:aq.duration,complete:aq.complete})})}}}});B.animatedPromise=B.promise;var s=V.Class.extend({init:function(aq,at){var ar=this;ar.element=aq;ar._direction=at;ar.options={};ar._additionalEffects=[];if(!ar.restore){ar.restore=[]}},reverse:function(){this._reverse=true;return this.run()},play:function(){this._reverse=false;return this.run()},add:function(aq){this._additionalEffects.push(aq);return this},direction:function(aq){this._direction=aq;return this},duration:function(aq){this._duration=aq;return this},compositeRun:function(){var at=this,aq=new D(at.element,{reverse:at._reverse,duration:at._duration}),ar=at._additionalEffects.concat([at]);return aq.run(ar)},run:function(){if(this._additionalEffects&&this._additionalEffects[0]){return this.compositeRun()}var ax=this,aw=ax.element,aB=0,az=ax.restore,at=az.length,aA,aC=R.Deferred(),aq={},av={},ay,ar=ax.children(),au=ar.length;aC.then(R.proxy(ax,"_complete"));aw.data("animating",true);for(aB=0;aB<at;aB++){aA=az[aB];if(!aw.data(aA)){aw.data(aA,aw.css(aA))}}for(aB=0;aB<au;aB++){ar[aB].duration(ax._duration).run()}ax.prepare(aq,av);if(!aw.is(":visible")){p(aq,{display:aw.data("olddisplay")||"block"})}if(J){ay=aw.data("targetTransform");if(ay){aq=p(ay,aq)}}aq=o(aw,aq);if(J&&!l){aq=b(aq)}aw.css(aq).css(aj);ax.setup();aw.data("targetTransform",av);B.animate(aw,av,{duration:ax._duration,complete:aC.resolve});return aC.promise()},stop:function(){var aq=0,ar=this.children(),at=ar.length;for(aq=0;aq<at;aq++){ar[aq].stop()}R(this.element).kendoStop(true,true);return this},restoreCallback:function(){var ar=this.element;for(var aq=0,at=this.restore.length;aq<at;aq++){var au=this.restore[aq];ar.css(au,ar.data(au))}},_complete:function(){var ar=this,aq=ar.element;aq.removeData("animating").dequeue();ar.restoreCallback();if(ar.shouldHide()){aq.data("olddisplay",aq.css("display")).hide()}if(N&&!J){setTimeout(R.proxy(ar,"restoreCallback"),0)}ar.teardown()},setOptions:function(aq){p(true,this.options,aq)},children:function(){return[]},shouldHide:R.noop,setup:R.noop,prepare:R.noop,teardown:R.noop,directions:[],setReverse:function(aq){this._reverse=aq;return this}});function I(aq){return aq.charAt(0).toUpperCase()+aq.substring(1)}function e(aq,ar){var at=s.extend(ar),au=at.prototype.directions;B[I(aq)]=at;B.Element.prototype[aq]=function(ay,ax,aw,av){return new at(this.element,ay,ax,aw,av)};ad(au,function(av,aw){B.Element.prototype[aq+I(aw)]=function(az,ay,ax){return new at(this.element,aw,az,ay,ax)}})}var L=["left","right","up","down"],K=["in","out"];e("slideIn",{directions:L,divisor:function(aq){this.options.divisor=aq;return this},prepare:function(aq,at){var ax=this,av,aw=ax.element,az=m[ax._direction],au=-az.modifier*(az.vertical?aw.outerHeight():aw.outerWidth()),ar=au/(ax.options&&ax.options.divisor||1)+am,ay="0px";if(ax._reverse){av=aq;aq=at;at=av}if(J){aq[az.transition]=ar;at[az.transition]=ay}else{aq[az.property]=ar;at[az.property]=ay}}});e("tile",{directions:L,init:function(aq,at,ar){s.prototype.init.call(this,aq,at);this.options={previous:ar}},previousDivisor:function(aq){this.options.previousDivisor=aq;return this},children:function(){var av=this,ar=av._reverse,au=av.options.previous,aw=av.options.previousDivisor||1,aq=av._direction;var at=[V.fx(av.element).slideIn(aq).setReverse(ar)];if(au){at.push(V.fx(au).slideIn(m[aq].reverse).divisor(aw).setReverse(!ar))}return at}});function d(ar,au,at,aq){e(ar,{directions:K,startValue:function(av){this._startValue=av;return this},endValue:function(av){this._endValue=av;return this},shouldHide:function(){return this._shouldHide},prepare:function(aC,aw){var aA=this,ay,av,az=this._direction==="out",ax=aA.element.data(au),aB=!(isNaN(ax)||ax==at);if(aB){ay=ax}else{if(typeof this._startValue!=="undefined"){ay=this._startValue}else{ay=az?at:aq}}if(typeof this._endValue!=="undefined"){av=this._endValue}else{av=az?aq:at}if(this._reverse){aC[au]=av;aw[au]=ay}else{aC[au]=ay;aw[au]=av}aA._shouldHide=aw[au]===aq}})}d("fade","opacity",1,0);d("zoom","scale",1,0.01);e("slideMargin",{prepare:function(aq,at){var aw=this,av=aw.element,az=aw.options,ay=av.data(A),au=az.offset,ar,ax=aw._reverse;if(!ax&&ay===null){av.data(A,parseFloat(av.css("margin-"+az.axis)))}ar=(av.data(A)||0);at["margin-"+az.axis]=!ax?ar+au:ar}});e("slideTo",{prepare:function(ax,aq){var av=this,au=av.element,at=av.options,aw=at.offset.split(","),ar=av._reverse;if(J){aq.translatex=!ar?aw[0]:0;aq.translatey=!ar?aw[1]:0}else{aq.left=!ar?aw[0]:0;aq.top=!ar?aw[1]:0}au.css("left")}});e("expand",{directions:["horizontal","vertical"],restore:[ac],prepare:function(aq,au){var aw=this,av=aw.element,aB=aw.options,ax=aw._reverse,ay=aw._direction==="vertical"?Q:i,aA=av[0].style[ay],at=av.data(ay),ar=parseFloat(at||aA),az=ai(av.css(ay,P)[ay]());aq.overflow=ag;ar=(aB&&aB.reset)?az||ar:ar||az;au[ay]=(ax?0:ar)+am;aq[ay]=(ax?ar:0)+am;if(at===q){av.data(ay,aA)}},shouldHide:function(){return this._reverse},teardown:function(){var at=this,aq=at.element,au=at._direction==="vertical"?Q:i,ar=aq.data(au);if(ar==P||ar===v){setTimeout(function(){aq.css(au,P).css(au)},0)}}});var T={position:"absolute",marginLeft:0,marginTop:0,scale:1};e("transfer",{init:function(aq,ar){this.element=aq;this.options={target:ar};this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(aq,av){var ay=this,ax=ay.element,ar=B.box(ax),az=B.box(ay.options.target),au=C(ax,"scale"),at=B.fillScale(az,ar),aw=B.transformOrigin(az,ar);p(aq,T);av.scale=1;ax.css(aj,"scale(1)").css(aj);ax.css(aj,"scale("+au+")");aq.top=ar.top;aq.left=ar.left;aq.transformOrigin=aw.x+am+" "+aw.y+am;if(ay._reverse){aq.scale=at}else{av.scale=at}}});var y={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"};var u={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};function S(aq,au){var ar=V.directions[au].vertical,at=(aq[ar?Q:i]()/2)+"px";return y[au].replace("$size",at)}e("turningPage",{directions:L,init:function(ar,at,aq){s.prototype.init.call(this,ar,at);this._container=aq},prepare:function(aw,aq){var au=this,ar=au._reverse,av=ar?m[au._direction].reverse:au._direction,at=u[av];aw.zIndex=1;if(au._clipInHalf){aw.clip=S(au._container,V.directions[av].reverse)}aw[ap]=ag;aq[aj]=k+(ar?at.start:at.end);aw[aj]=k+(ar?at.end:at.start)},setup:function(){this._container.append(this.element)},face:function(aq){this._face=aq;return this},shouldHide:function(){var ar=this,aq=ar._reverse,at=ar._face;return(aq&&!at)||(!aq&&at)},clipInHalf:function(aq){this._clipInHalf=aq;return this},temporary:function(){this.element.addClass("temp-page");return this}});e("staticPage",{directions:L,init:function(ar,at,aq){s.prototype.init.call(this,ar,at);this._container=aq},restore:["clip"],prepare:function(au,aq){var ar=this,at=ar._reverse?m[ar._direction].reverse:ar._direction;au.clip=S(ar._container,at);au.opacity=0.999;aq.opacity=1},shouldHide:function(){var ar=this,aq=ar._reverse,at=ar._face;return(aq&&!at)||(!aq&&at)},face:function(aq){this._face=aq;return this}});e("pageturn",{directions:["horizontal","vertical"],init:function(ar,au,at,aq){s.prototype.init.call(this,ar,au);this.options={};this.options.face=at;this.options.back=aq},children:function(){var at=this,az=at.options,av=at._direction==="horizontal"?"left":"top",aq=V.directions[av].reverse,au=at._reverse,aw,ay=az.face.clone(true).removeAttr("id"),ax=az.back.clone(true).removeAttr("id"),ar=at.element;if(au){aw=av;av=aq;aq=aw}return[V.fx(az.face).staticPage(av,ar).face(true).setReverse(au),V.fx(az.back).staticPage(aq,ar).setReverse(au),V.fx(ay).turningPage(av,ar).face(true).clipInHalf(true).temporary().setReverse(au),V.fx(ax).turningPage(aq,ar).clipInHalf(true).temporary().setReverse(au)]},prepare:function(ar,aq){ar[x]=ao;ar.transformStyle="preserve-3d";ar.opacity=0.999;aq.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}});e("flip",{directions:["horizontal","vertical"],init:function(ar,au,at,aq){s.prototype.init.call(this,ar,au);this.options={};this.options.face=at;this.options.back=aq},children:function(){var aw=this,au=aw.options,ax=aw._direction==="horizontal"?"left":"top",ar=V.directions[ax].reverse,at=aw._reverse,aq,av=aw.element;if(at){aq=ax;ax=ar;ar=aq}return[V.fx(au.face).turningPage(ax,av).face(true).setReverse(at),V.fx(au.back).turningPage(ar,av).setReverse(at)]},prepare:function(aq){aq[x]=ao;aq.transformStyle="preserve-3d"}});var w=!ab.mobileOS.android;var c=".km-touch-scrollbar, .km-actionsheet-wrapper";e("replace",{_before:R.noop,_after:R.noop,init:function(aq,at,ar){s.prototype.init.call(this,aq);this._previous=R(at);this._transitionClass=ar},duration:function(){throw new Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule")},beforeTransition:function(aq){this._before=aq;return this},afterTransition:function(aq){this._after=aq;return this},_both:function(){return R().add(this._element).add(this._previous)},_containerClass:function(){var aq=this._direction,ar="k-fx k-fx-start k-fx-"+this._transitionClass;if(aq){ar+=" k-fx-"+aq}if(this._reverse){ar+=" k-fx-reverse"}return ar},complete:function(ar){if(!this.deferred||(ar&&R(ar.target).is(c))){return}var aq=this.container;aq.removeClass("k-fx-end").removeClass(this._containerClass()).off(l.event,this.completeProxy);this._previous.hide().removeClass("k-fx-current");this.element.removeClass("k-fx-next");if(w){aq.css(ac,"")}if(!this.isAbsolute){this._both().css(aa,"")}this.deferred.resolve();delete this.deferred},run:function(){if(this._additionalEffects&&this._additionalEffects[0]){return this.compositeRun()}var ay=this,au=ay.element,ax=ay._previous,aq=au.parents().filter(ax.parents()).first(),aw=ay._both(),ar=R.Deferred(),av=au.css(aa),at;if(!aq.length){aq=au.parent()}this.container=aq;this.deferred=ar;this.isAbsolute=av=="absolute";if(!this.isAbsolute){aw.css(aa,"absolute")}if(w){at=aq.css(ac);aq.css(ac,"hidden")}if(!l){this.complete()}else{au.addClass("k-fx-hidden");aq.addClass(this._containerClass());this.completeProxy=R.proxy(this,"complete");aq.on(l.event,this.completeProxy);V.animationFrame(function(){au.removeClass("k-fx-hidden").addClass("k-fx-next");ax.css("display","").addClass("k-fx-current");ay._before(ax,au);V.animationFrame(function(){aq.removeClass("k-fx-start").addClass("k-fx-end");ay._after(ax,au)})})}return ar.promise()},stop:function(){this.complete()}});var t=V.Class.extend({init:function(){var aq=this;aq._tickProxy=ah(aq._tick,aq);aq._started=false},tick:R.noop,done:R.noop,onEnd:R.noop,onCancel:R.noop,start:function(){if(!this.enabled()){return}if(!this.done()){this._started=true;V.animationFrame(this._tickProxy)}else{this.onEnd()}},enabled:function(){return true},cancel:function(){this._started=false;this.onCancel()},_tick:function(){var aq=this;if(!aq._started){return}aq.tick();if(!aq.done()){V.animationFrame(aq._tickProxy)}else{aq._started=false;aq.onEnd()}}});var O=t.extend({init:function(aq){var ar=this;p(ar,aq);t.fn.init.call(ar)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,(new Date())-this.startDate)},moveTo:function(aq){var ar=this,at=ar.movable;ar.initial=at[ar.axis];ar.delta=aq.location-ar.initial;ar.duration=typeof aq.duration=="number"?aq.duration:300;ar.tick=ar._easeProxy(aq.ease);ar.startDate=new Date();ar.start()},_easeProxy:function(ar){var aq=this;return function(){aq.movable.moveAxis(aq.axis,ar(aq.timePassed(),aq.initial,aq.delta,aq.duration))}}});p(O,{easeOutExpo:function(ar,aq,au,at){return(ar==at)?aq+au:au*(-Math.pow(2,-10*ar/at)+1)+aq},easeOutBack:function(ar,aq,av,au,at){at=1.70158;return av*((ar=ar/au-1)*ar*((at+1)*ar+at)+1)+aq}});B.Animation=t;B.Transition=O;B.createEffect=e;B.box=function(ar){ar=R(ar);var aq=ar.offset();aq.width=ar.outerWidth();aq.height=ar.outerHeight();return aq};B.transformOrigin=function(ar,at){var aq=(ar.left-at.left)*at.width/(at.width-ar.width),au=(ar.top-at.top)*at.height/(at.height-ar.height);return{x:isNaN(aq)?0:aq,y:isNaN(au)?0:au}};B.fillScale=function(aq,ar){return Math.min(aq.width/ar.width,aq.height/ar.height)};B.fitScale=function(aq,ar){return Math.max(aq.width/ar.width,aq.height/ar.height)}})(window.kendo.jQuery);(function(f,g){var m=window.kendo,k=m.Observable,j="SCRIPT",c="init",e="show",p="hide",q="transitionStart",d="transitionEnd",r="attach",t="detach",i=/unrecognized expression/;var n=k.extend({init:function(w,u){var v=this;u=u||{};k.fn.init.call(v);v.content=w;v.id=m.guid();v.tagName=u.tagName||"div";v.model=u.model;v._wrap=u.wrap!==false;this._evalTemplate=u.evalTemplate||false;v._fragments={};v.bind([c,e,p,q,d],u)},render:function(u){var v=this,w=!v.element;if(w){v.element=v._createElement()}if(u){f(u).append(v.element)}if(w){m.bind(v.element,v.model);v.trigger(c)}if(u){v._eachFragment(r);v.trigger(e)}return v.element},clone:function(u){return new a(this)},triggerBeforeShow:function(){return true},triggerBeforeHide:function(){return true},showStart:function(){this.element.css("display","")},showEnd:function(){},hideEnd:function(){this.hide()},beforeTransition:function(u){this.trigger(q,{type:u})},afterTransition:function(u){this.trigger(d,{type:u})},hide:function(){this._eachFragment(t);this.element.detach();this.trigger(p)},destroy:function(){var u=this.element;if(u){m.unbind(u);m.destroy(u);u.remove()}},fragments:function(u){f.extend(this._fragments,u)},_eachFragment:function(u){for(var v in this._fragments){this._fragments[v][u](this,v)}},_createElement:function(){var x=this,z="<"+x.tagName+" />",v,w;try{w=f(document.getElementById(x.content)||x.content);if(w[0].tagName===j){w=w.html()}}catch(y){if(i.test(y.message)){w=x.content}}if(typeof w==="string"){w=w.replace(/^\s+|\s+$/g,"");if(x._evalTemplate){w=m.template(w)(x.model||{})}v=f(z).append(w);if(!x._wrap){v=v.contents()}}else{v=w;if(x._evalTemplate){var u=f(m.template(f("<div />").append(v.clone(true)).html())(x.model||{}));if(f.contains(document,v[0])){v.replaceWith(u)}v=u}if(x._wrap){v=v.wrapAll(z).parent()}}return v}});var a=m.Class.extend({init:function(u){f.extend(this,{element:u.element.clone(true),transition:u.transition,id:u.id});u.element.parent().append(this.element)},hideEnd:function(){this.element.remove()},beforeTransition:f.noop,afterTransition:f.noop});var o=n.extend({init:function(v,u){n.fn.init.call(this,v,u);this.containers={}},container:function(u){var v=this.containers[u];if(!v){v=this._createContainer(u);this.containers[u]=v}return v},showIn:function(u,v,w){this.container(u).show(v,w)},_createContainer:function(u){var w=this.render(),x=w.find(u),v;if(!x.length&&w.is(u)){if(w.is(u)){x=w}else{throw new Error("can't find a container with the specified "+u+" selector")}}v=new l(x);v.bind("accepted",function(y){y.view.render(x)});return v}});var b=n.extend({attach:function(u,v){u.element.find(v).replaceWith(this.render())},detach:function(){}});var h=/^(\w+)(:(\w+))?( (\w+))?$/;function s(v){if(!v){return{}}var u=v.match(h)||[];return{type:u[1],direction:u[3],reverse:u[5]==="reverse"}}var l=k.extend({init:function(u){k.fn.init.call(this);this.container=u;this.history=[];this.view=null;this.running=false},after:function(){this.running=false;this.trigger("complete",{view:this.view});this.trigger("after")},end:function(){this.view.showEnd();this.previous.hideEnd();this.after()},show:function(D,C,u){if(!D.triggerBeforeShow()||(this.view&&!this.view.triggerBeforeHide())){this.trigger("after");return false}u=u||D.id;var z=this,A=(D===z.view)?D.clone():z.view,B=z.history,v=B[B.length-2]||{},x=v.id===u,y=C||(x?B[B.length-1].transition:D.transition),w=s(y);if(z.running){z.effect.stop()}if(y==="none"){y=null}z.trigger("accepted",{view:D});z.view=D;z.previous=A;z.running=true;if(!x){B.push({id:u,transition:y})}else{B.pop()}if(!A){D.showStart();D.showEnd();z.after();return true}if(!y||!m.effects.enabled){D.showStart();z.end()}else{D.element.addClass("k-fx-hidden");D.showStart();if(x&&!C){w.reverse=!w.reverse}z.effect=m.fx(D.element).replace(A.element,w.type).beforeTransition(function(){D.beforeTransition("show");A.beforeTransition("hide")}).afterTransition(function(){D.afterTransition("show");A.afterTransition("hide")}).direction(w.direction).setReverse(w.reverse);z.effect.run().then(function(){z.end()})}return true}});m.ViewContainer=l;m.Fragment=b;m.Layout=o;m.View=n;m.ViewClone=a})(window.kendo.jQuery);(function(h){function g(){this.node=null}g.prototype={remove:function(){this.node.parentNode.removeChild(this.node)},attr:{}};function k(){}k.prototype={nodeName:"#null",attr:{style:{}},children:[],remove:function(){}};var i=new k();function b(n,l,m){this.nodeName=n;this.attr=l||{};this.children=m||[]}b.prototype=new g();b.prototype.appendTo=function(n){var o=document.createElement(this.nodeName);var m=this.children;for(var l=0;l<m.length;l++){m[l].render(o,i)}n.appendChild(o);return o};b.prototype.render=function(p,o){var r;if(o.nodeName!==this.nodeName){o.remove();r=this.appendTo(p)}else{r=o.node;var l;var n=this.children;var q=n.length;var m=o.children;var s=m.length;if(Math.abs(s-q)>2){this.render({appendChild:function(t){p.replaceChild(t,o.node)}},i);return}for(l=0;l<q;l++){n[l].render(r,m[l]||i)}for(l=q;l<s;l++){m[l].remove()}}this.node=r;this.syncAttributes(o.attr);this.removeAttributes(o.attr)};b.prototype.syncAttributes=function(m){var l=this.attr;for(var n in l){var p=l[n];var o=m[n];if(n==="style"){this.setStyle(p,o)}else{if(p!==o){this.setAttribute(n,p,o)}}}};b.prototype.setStyle=function(m,o){var n=this.node;var l;if(o){for(l in m){if(m[l]!==o[l]){n.style[l]=m[l]}}}else{for(l in m){n.style[l]=m[l]}}};b.prototype.removeStyle=function(n){var m=this.attr.style||{};var o=this.node;for(var l in n){if(m[l]===undefined){o.style[l]=""}}};b.prototype.removeAttributes=function(m){var l=this.attr;for(var n in m){if(n==="style"){this.removeStyle(m.style)}else{if(l[n]===undefined){this.removeAttribute(n)}}}};b.prototype.removeAttribute=function(l){var m=this.node;if(l==="style"){m.style.cssText=""}else{if(l==="className"){m.className=""}else{m.removeAttribute(l)}}};b.prototype.setAttribute=function(l,o,n){var m=this.node;if(m[l]!==undefined){m[l]=o}else{m.setAttribute(l,o)}};function a(l){this.nodeValue=l}a.prototype=new g();a.prototype.nodeName="#text";a.prototype.render=function(m,l){var n;if(l.nodeName!==this.nodeName){l.remove();n=document.createTextNode(this.nodeValue);m.appendChild(n)}else{n=l.node;if(this.nodeValue!==l.nodeValue){n.nodeValue=this.nodeValue}}this.node=n};function f(l){this.html=l}f.prototype={nodeName:"#html",attr:{},remove:function(){for(var l=0;l<this.nodes.length;l++){this.nodes[l].parentNode.removeChild(this.nodes[l])}},render:function(m,l){if(l.nodeName!==this.nodeName||l.html!==this.html){l.remove();var n=m.lastChild;m.insertAdjacentHTML("beforeend",this.html);this.nodes=[];for(var o=n?n.nextSibling:m.firstChild;o;o=o.nextSibling){this.nodes.push(o)}}else{this.nodes=l.nodes.slice(0)}}};function e(l){return new f(l)}function d(n,l,m){return new b(n,l,m)}function j(l){return new a(l)}function c(l){this.root=l;this.children=[]}c.prototype={html:e,element:d,text:j,render:function(n){var m=this.children;var l;var o;for(l=0,o=n.length;l<o;l++){n[l].render(this.root,m[l]||i)}for(l=o;l<m.length;l++){m[l].remove()}this.children=n}};h.dom={html:e,text:j,element:d,Tree:c}})(window.kendo);(function(d,m){var k='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>';var c=m.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>${creator}</dc:creator><cp:lastModifiedBy>${lastModifiedBy}</cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">${created}</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">${modified}</dcterms:modified></cp:coreProperties>');var j=m.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>${sheets.length}</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="${sheets.length}" baseType="lpstr"># for (var idx = 0; idx < sheets.length; idx++) { ## if (sheets[idx].options.title) { #<vt:lpstr>${sheets[idx].options.title}</vt:lpstr># } else { #<vt:lpstr>Sheet${idx+1}</vt:lpstr># } ## } #</vt:vector></TitlesOfParts><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>14.0300</AppVersion></Properties>');var n=m.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="xml" ContentType="application/xml" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/># for (var idx = 1; idx <= count; idx++) { #<Override PartName="/xl/worksheets/sheet${idx}.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /># } #<Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml" /><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" /></Types>');var i=m.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="9303" /><workbookPr defaultThemeVersion="124226" /><bookViews><workbookView xWindow="240" yWindow="45" windowWidth="18195" windowHeight="7995" /></bookViews><sheets># for (var idx = 0; idx < sheets.length; idx++) { ## if (sheets[idx].options.title) { #<sheet name="${sheets[idx].options.title}" sheetId="${idx+1}" r:id="rId${idx+1}" /># } else { #<sheet name="Sheet${idx+1}" sheetId="${idx+1}" r:id="rId${idx+1}" /># } ## } #</sheets># if (definedNames.length) { #<definedNames> # for (var di = 0; di < definedNames.length; di++) { #<definedName name="_xlnm._FilterDatabase" hidden="1" localSheetId="${definedNames[di].localSheetId}">${definedNames[di].name}!$${definedNames[di].from}:$${definedNames[di].to}</definedName> # } #</definedNames># } #<calcPr calcId="145621" /></workbook>');var r=m.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" mc:Ignorable="x14ac"><dimension ref="A1" /><sheetViews><sheetView #if(index==0) {# tabSelected="1" #}# workbookViewId="0"># if (freezePane) { #<pane state="frozen"# if (freezePane.colSplit) { # xSplit="${freezePane.colSplit}"# } ## if (freezePane.rowSplit) { # ySplit="${freezePane.rowSplit}"# } # topLeftCell="${String.fromCharCode(65 + (freezePane.colSplit || 0))}${(freezePane.rowSplit || 0)+1}"/># } #</sheetView></sheetViews><sheetFormatPr defaultRowHeight="15" x14ac:dyDescent="0.25" /># if (columns) { #<cols># for (var ci = 0; ci < columns.length; ci++) { ## var column = columns[ci]; ## if (column.width) { #<col min="${ci+1}" max="${ci+1}" customWidth="1"# if (column.autoWidth) { # width="${((column.width*7+5)/7*256)/256}" bestFit="1"# } else { # width="${(((column.width)/7)*100+0.5)/100}" # } #/># } ## } #</cols># } #<sheetData># for (var ri = 0; ri < data.length; ri++) { ## var row = data[ri]; #<row r="#=ri + 1#"># for (var ci = 0; ci < row.data.length; ci++) { ## var cell = row.data[ci];#<c r="#=cell.ref#"# if (cell.style) { # s="#=cell.style#" # } ## if (cell.type) { # t="#=cell.type#"# } #># if (cell.value != null) { #<v>${cell.value}</v># } #</c># } #</row># } #</sheetData># if (filter) { #<autoFilter ref="${filter.from}:${filter.to}"/># } ## if (mergeCells.length) { #<mergeCells count="${mergeCells.length}"># for (var ci = 0; ci < mergeCells.length; ci++) { #<mergeCell ref="${mergeCells[ci]}"/># } #</mergeCells># } #<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" /></worksheet>');var a=m.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"># for (var idx = 1; idx <= count; idx++) { #<Relationship Id="rId${idx}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet${idx}.xml" /># } #<Relationship Id="rId${count+1}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml" /><Relationship Id="rId${count+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" /></Relationships>');var l=m.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${count}" uniqueCount="${uniqueCount}"># for (var index in indexes) { #<si><t>${index.substring(1)}</t></si># } #</sst>');var s=m.template('<?xml version="1.0" encoding="UTF-8"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="${formats.length}"># for (var fi = 0; fi < formats.length; fi++) { ## var format = formats[fi]; #<numFmt formatCode="${format.format}" numFmtId="${165+fi}" /># } #</numFmts><fonts count="${fonts.length+1}" x14ac:knownFonts="1"><font><sz val="11" /><color theme="1" /><name val="Calibri" /><family val="2" /><scheme val="minor" /></font># for (var fi = 0; fi < fonts.length; fi++) { ## var font = fonts[fi]; #<font># if (font.bold) { #<b/># } ## if (font.italic) { #<i/># } ## if (font.underline) { #<u/># } ## if (font.color) { #<color rgb="${font.color}" /># } else { #<color theme="1" /># } ## if (font.fontSize) { #<sz val="${font.fontSize}" /># } else { #<sz val="11" /># } ## if (font.fontName) { #<name val="${font.fontName}" /># } else { #<name val="Calibri" /><scheme val="minor" /># } #<family val="2" /></font># } #</fonts><fills count="${fills.length+1}"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill># for (var fi = 0; fi < fills.length; fi++) { ## var fill = fills[fi]; ## if (fill.background) { #<fill><patternFill patternType="solid"><fgColor rgb="${fill.background}"/></patternFill></fill># } ## } #</fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellXfs count="${styles.length+1}"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/># for (var si = 0; si < styles.length; si++) { ## var style = styles[si]; #<xf xfid="0"# if (style.fontId) { # fontId="${style.fontId}" applyFont="1"# } ## if (style.fillId) { # fillId="${style.fillId}" applyFill="1"# } ## if (style.numFmtId) { # numFmtId="${style.numFmtId}" applyNumberFormat="1"# } ## if (style.hAlign || style.vAlign || style.wrap) { # applyAlignment="1"# } #># if (style.hAlign || style.vAlign || style.wrap) { #<alignment# if (style.hAlign) { # horizontal="${style.hAlign}"# } ## if (style.vAlign) { # vertical="${style.vAlign}"# } ## if (style.wrap) { # wrapText="1"# } #/># } #</xf># } #</cellXfs><dxfs count="0" /><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleMedium9" /></styleSheet>');function o(u){var v=Math.floor(u/26)-1;return(v>=0?o(v):"")+String.fromCharCode(65+(u%26))}function g(v,u){return o(u)+(v+1)}function p(v,u){return o(u)+"$"+(v+1)}function e(u){return((u.freezePane||{}).rowSplit||1)-1}var b=m.timezone.remove(new Date(1900,0,0),"Etc/UTC");var f=m.Class.extend({init:function(v,u,w){this.options=v;this._strings=u;this._styles=w;this._mergeCells=[]},toXML:function(u){var z=this.options.rows||[];var x=this.options.filter;var w={};this._maxCellIndex=0;var y=[];for(var v=0;v<z.length;v++){y.push(this._row(z,w,z[v],v))}return r({freezePane:this.options.freezePane,columns:this.options.columns,data:y,index:u,mergeCells:this._mergeCells,filter:x?{from:g(e(this.options),x.from),to:g(e(this.options),x.to)}:null})},_row:function(D,x,C,y){if(this._cellIndex&&this._cellIndex>this._maxCellIndex){this._maxCellIndex=this._cellIndex}this._cellIndex=0;var A;var w=[];var B=C.cells;for(var z=0,u=B.length;z<u;z++){A=this._cell(B[z],x,y);if(A){w.push.apply(w,A)}}var v;while(this._cellIndex<this._maxCellIndex){v=x[this._cellIndex];if(v){v.rowSpan-=1}w.push({ref:g(y,this._cellIndex)});this._cellIndex++}return{data:w}},_lookupString:function(w){var v="$"+w;var u=this._strings.indexes[v];if(u!==undefined){w=u}else{w=this._strings.indexes[v]=this._strings.uniqueCount;this._strings.uniqueCount++}this._strings.count++;return w},_lookupStyle:function(w){var v=m.stringify(w);if(v=="{}"){return 0}var u=d.inArray(v,this._styles);if(u<0){u=this._styles.push(v)-1}return u+1},_cell:function(A,C,F){if(!A){this._cellIndex++;return}var G=A.value;var v={bold:A.bold,color:A.color,background:A.background,italic:A.italic,underline:A.underline,fontName:A.fontName,fontSize:A.fontSize,format:A.format,hAlign:A.hAlign,vAlign:A.vAlign,wrap:A.wrap};var x=this.options.columns||[];var w=x[this._cellIndex];if(w&&w.autoWidth){w.width=Math.max(w.width||0,(""+G).length)}var E=typeof G;if(E==="string"){G=this._lookupString(G);E="s"}else{if(E==="number"){E="n"}else{if(E==="boolean"){E="b";G=+G}else{if(G&&G.getTime){E=null;G=(m.timezone.remove(G,"Etc/UTC")-b)/m.date.MS_PER_DAY+1;if(!v.format){v.format="mm-dd-yy"}}else{E=null;G=""}}}}v=this._lookupStyle(v);var H=[];var u,z;var y=C[this._cellIndex]||{};while(y.rowSpan>1){y.rowSpan-=1;u=y.colSpan;while(u>0){H.push({ref:g(F,this._cellIndex)});u--;this._cellIndex++}y=C[this._cellIndex]||{}}z=g(F,this._cellIndex);H.push({value:G,type:E,style:v,ref:z});var B=A.colSpan||1;var D=A.rowSpan||1;if(B>1||D>1){if(D>1){C[this._cellIndex]={colSpan:B,rowSpan:D}}for(var I=1;I<B;I++){this._cellIndex++;H.push({ref:g(F,this._cellIndex)})}this._mergeCells.push(z+":"+g(F+D-1,this._cellIndex))}this._cellIndex++;return H}});var t={General:0,"0":1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49,"[$-404]e/m/d":27,"m/d/yy":30,t0:59,"t0.00":60,"t#,##0":61,"t#,##0.00":62,"t0%":67,"t0.00%":68,"t# ?/?":69,"t# ??/??":70};function h(u){if(u.length<6){u=u.replace(/(\w)/g,function(w,v){return v+v})}u=u.substring(1).toUpperCase();if(u.length<8){u="FF"+u}return u}var q=m.Class.extend({init:function(u){this.options=u||{};this._strings={indexes:{},count:0,uniqueCount:0};this._styles=[];this._sheets=d.map(this.options.sheets||[],d.proxy(function(v){return new f(v,this._strings,this._styles)},this))},toDataURL:function(){if(typeof JSZip==="undefined"){throw new Error("JSZip not found. Check http://docs.telerik.com/kendo-ui/framework/excel/introduction#requirements for more details.")}var v=new JSZip();var x=v.folder("docProps");x.file("core.xml",c({creator:this.options.creator||"Kendo UI",lastModifiedBy:this.options.creator||"Kendo UI",created:this.options.date||new Date().toJSON(),modified:this.options.date||new Date().toJSON()}));var G=this._sheets.length;x.file("app.xml",j({sheets:this._sheets}));var B=v.folder("_rels");B.file(".rels",k);var z=v.folder("xl");var y=z.folder("_rels");y.file("workbook.xml.rels",a({count:G}));z.file("workbook.xml",i({sheets:this._sheets,definedNames:d.map(this._sheets,function(K,J){var I=K.options;var L=I.filter;if(L){return{localSheetId:J,name:(I.title||"Sheet"+(J+1)),from:p(e(I),L.from),to:p(e(I),L.to)}}})}));var w=z.folder("worksheets");var u=new Date();for(var F=0;F<G;F++){w.file(m.format("sheet{0}.xml",F+1),this._sheets[F].toXML(F))}var H=d.map(this._styles,d.parseJSON);var E=function(I){return I.underline||I.bold||I.italic||I.color||I.fontName||I.fontSize};var D=d.map(H,function(I){if(I.color){I.color=h(I.color)}if(E(I)){return I}});var C=d.map(H,function(I){if(I.format&&t[I.format]===undefined){return I}});var A=d.map(H,function(I){if(I.background){I.background=h(I.background);return I}});z.file("styles.xml",s({fonts:D,fills:A,formats:C,styles:d.map(H,function(J){var I={};if(E(J)){I.fontId=d.inArray(J,D)+1}if(J.background){I.fillId=d.inArray(J,A)+2}I.hAlign=J.hAlign;I.vAlign=J.vAlign;I.wrap=J.wrap;if(J.format){if(t[J.format]!==undefined){I.numFmtId=t[J.format]}else{I.numFmtId=165+d.inArray(J,C)}}return I})}));z.file("sharedStrings.xml",l(this._strings));v.file("[Content_Types].xml",n({count:G}));return"data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,"+v.generate({compression:"DEFLATE"})}});m.ooxml={Workbook:q,Worksheet:f}})(kendo.jQuery,kendo);(function(a,b){b.ExcelExporter=b.Class.extend({init:function(c){c.columns=this._trimColumns(c.columns||[]);this.allColumns=a.map(this._leafColumns(c.columns||[]),this._prepareColumn);this.columns=a.grep(this.allColumns,function(f){return !f.hidden});this.options=c;var e=c.dataSource;if(e instanceof b.data.DataSource){this.dataSource=new e.constructor(a.extend({},e.options,{page:c.allPages?0:e.page(),filter:e.filter(),pageSize:c.allPages?e.total():e.pageSize(),sort:e.sort(),group:e.group(),aggregate:e.aggregate()}));var d=e.data();if(d.length>0){this.dataSource._data=d}}else{this.dataSource=b.data.DataSource.create(e)}},_trimColumns:function(c){var d=this;return a.grep(c,function(f){var e=!(!f.field);if(!e&&f.columns){e=d._trimColumns(f.columns).length>0}return e})},_leafColumns:function(e){var d=[];for(var c=0;c<e.length;c++){if(!e[c].columns){d.push(e[c]);continue}d=d.concat(this._leafColumns(e[c].columns))}return d},workbook:function(){return a.Deferred(a.proxy(function(c){this.dataSource.fetch().then(a.proxy(function(){var d={sheets:[{columns:this._columns(),rows:this._rows(),freezePane:this._freezePane(),filter:this._filter()}]};c.resolve(d,this.dataSource.view())},this))},this)).promise()},_prepareColumn:function(d){if(!d.field){return}var e=function(f){return f.get(d.field)};var c=null;if(d.values){c={};a.each(d.values,function(f){c[this.value]=this.text});e=function(f){return c[f.get(d.field)]}}return a.extend({},d,{value:e,values:c,groupHeaderTemplate:b.template(d.groupHeaderTemplate||"${title}: ${value}"),groupFooterTemplate:d.groupFooterTemplate?b.template(d.groupFooterTemplate):null,footerTemplate:d.footerTemplate?b.template(d.footerTemplate):null})},_filter:function(){if(!this.options.filterable){return null}var c=this._depth();return{from:c,to:c+this.columns.length-1}},_dataRow:function(c,d,g){if(this._hierarchical()){d=this.dataSource.level(c)+1}var m=[];for(var l=0;l<d;l++){m[l]={background:"#dfdfdf",color:"#333"}}if(g&&c.items){var f=a.grep(this.allColumns,function(p){return p.field==c.field})[0];var h=f&&f.title?f.title:c.field;var k=f?f.groupHeaderTemplate:null;var i=h+": "+c.value;var j=a.extend({title:h,field:c.field,value:f&&f.values?f.values[c.value]:c.value,aggregates:c.aggregates},c.aggregates[c.field]);if(k){i=k(j)}m.push({value:i,background:"#dfdfdf",color:"#333",colSpan:this.columns.length+g-d});var o=this._dataRows(c.items,d+1);o.unshift({type:"group-header",cells:m});return o.concat(this._footer(c))}else{var e=[];for(var n=0;n<this.columns.length;n++){e[n]=this._cell(c,this.columns[n])}if(this._hierarchical()){e[0].colSpan=g-d+1}return[{type:"data",cells:m.concat(e)}]}},_dataRows:function(c,g){var f=this._depth();var e=[];for(var d=0;d<c.length;d++){e.push.apply(e,this._dataRow(c[d],g,f))}return e},_footer:function(d){var e=[];var f=false;var c=a.map(this.columns,a.proxy(function(g){if(g.groupFooterTemplate){f=true;return{background:"#dfdfdf",color:"#333",value:g.groupFooterTemplate(a.extend({},this.dataSource.aggregates(),d.aggregates,d.aggregates[g.field]))}}else{return{background:"#dfdfdf",color:"#333"}}},this));if(f){e.push({type:"group-footer",cells:a.map(new Array(this.dataSource.group().length),function(){return{background:"#dfdfdf",color:"#333"}}).concat(c)})}return e},_isColumnVisible:function(c){return this._visibleColumns([c]).length>0&&(c.field||c.columns)},_visibleColumns:function(c){var d=this;return a.grep(c,function(f){var e=!f.hidden;if(e&&f.columns){e=d._visibleColumns(f.columns).length>0}return e})},_headerRow:function(e,c){var d=a.map(e.cells,function(f){return{background:"#7a7a7a",color:"#fff",value:f.title,colSpan:f.colSpan>1?f.colSpan:1,rowSpan:e.rowSpan>1&&!f.colSpan?e.rowSpan:1}});if(this._hierarchical()){d[0].colSpan=this._depth()+1}return{type:"header",cells:a.map(new Array(c.length),function(){return{background:"#7a7a7a",color:"#fff"}}).concat(d)}},_prependHeaderRows:function(f){var d=this.dataSource.group();var e=[{rowSpan:1,cells:[],index:0}];this._prepareHeaderRows(e,this.options.columns);for(var c=e.length-1;c>=0;c--){f.unshift(this._headerRow(e[c],d))}},_prepareHeaderRows:function(k,e,c,i){var j=i||k[k.length-1];var f=k[j.index+1];var l=0;var d;var h;for(var g=0;g<e.length;g++){d=e[g];if(this._isColumnVisible(d)){h={title:d.title||d.field,colSpan:0};j.cells.push(h);if(d.columns&&d.columns.length){if(!f){f={rowSpan:0,cells:[],index:k.length};k.push(f)}h.colSpan=this._trimColumns(this._visibleColumns(d.columns)).length;this._prepareHeaderRows(k,d.columns,h,f);l+=h.colSpan-1;j.rowSpan=k.length-j.index}}}if(c){c.colSpan+=l}},_rows:function(){var c=this.dataSource.group();var e=this._dataRows(this.dataSource.view(),0);if(this.columns.length){this._prependHeaderRows(e);var f=false;var d=a.map(this.columns,a.proxy(function(g){if(g.footerTemplate){f=true;var h=this.dataSource.aggregates();return{background:"#dfdfdf",color:"#333",value:g.footerTemplate(a.extend({},h,h[g.field]))}}else{return{background:"#dfdfdf",color:"#333"}}},this));if(f){e.push({type:"footer",cells:a.map(new Array(c.length),function(){return{background:"#dfdfdf",color:"#333"}}).concat(d)})}}return e},_headerDepth:function(g){var e=1;var d=0;for(var c=0;c<g.length;c++){if(g[c].columns){var f=this._headerDepth(g[c].columns);if(f>d){d=f}}}return e+d},_freezePane:function(){var d=this._visibleColumns(this.options.columns||[]);var c=this._trimColumns(this._leafColumns(a.grep(d,function(e){return e.locked}))).length;return{rowSplit:this._headerDepth(d),colSplit:c?c+this.dataSource.group().length:0}},_cell:function(c,d){return{value:d.value(c)}},_hierarchical:function(){return this.options.hierarchy&&this.dataSource.level},_depth:function(){var f=this.dataSource;var e=0;var c,d,g;if(this._hierarchical()){c=f.view();for(d=0;d<c.length;d++){g=f.level(c[d]);if(g>e){e=g}}e++}else{e=f.group().length}return e},_columns:function(){var d=this._depth();var c=a.map(new Array(d),function(){return{width:20}});return c.concat(a.map(this.columns,function(e){return{width:parseInt(e.width,10),autoWidth:e.width?false:true}}))}});b.ExcelMixin={extend:function(c){c.events.push("excelExport");c.options.excel=a.extend(c.options.excel,this.options);c.saveAsExcel=this.saveAsExcel},options:{proxyURL:"",allPages:false,filterable:false,fileName:"Export.xlsx"},saveAsExcel:function(){var d=this.options.excel||{};var c=new b.ExcelExporter({columns:this.columns,dataSource:this.dataSource,allPages:d.allPages,filterable:d.filterable,hierarchy:d.hierarchy});c.workbook().then(a.proxy(function(f,g){if(!this.trigger("excelExport",{workbook:f,data:g})){var e=new b.ooxml.Workbook(f);b.saveAs({dataURI:e.toDataURL(),fileName:f.fileName||d.fileName,proxyURL:d.proxyURL,forceProxy:d.forceProxy})}},this))}}})(kendo.jQuery,kendo);(function(a){var b=kendo.data.RemoteTransport.extend({init:function(d){var c=d&&d.signalr?d.signalr:{};var f=c.promise;if(!f){throw new Error('The "promise" option must be set.')}if(typeof f.done!="function"||typeof f.fail!="function"){throw new Error('The "promise" option must be a Promise.')}this.promise=f;var e=c.hub;if(!e){throw new Error('The "hub" option must be set.')}if(typeof e.on!="function"||typeof e.invoke!="function"){throw new Error('The "hub" option is not a valid SignalR hub proxy.')}this.hub=e;kendo.data.RemoteTransport.fn.init.call(this,d)},push:function(d){var c=this.options.signalr.client||{};if(c.create){this.hub.on(c.create,d.pushCreate)}if(c.update){this.hub.on(c.update,d.pushUpdate)}if(c.destroy){this.hub.on(c.destroy,d.pushDestroy)}},_crud:function(d,f){var e=this.hub;var h=this.options.signalr.server;if(!h||!h[f]){throw new Error(kendo.format('The "server.{0}" option must be set.',f))}var c=[h[f]];var g=this.parameterMap(d.data,f);if(!a.isEmptyObject(g)){c.push(g)}this.promise.done(function(){e.invoke.apply(e,c).done(d.success).fail(d.error)})},read:function(c){this._crud(c,"read")},create:function(c){this._crud(c,"create")},update:function(c){this._crud(c,"update")},destroy:function(c){this._crud(c,"destroy")}});a.extend(true,kendo.data,{transports:{signalr:b}})})(window.kendo.jQuery);(function(e,l,j){var a=function(t){var p=this,o=a.formats,s,r,u,q,n;if(arguments.length===1){t=p.resolveColor(t);for(q=0;q<o.length;q++){s=o[q].re;r=o[q].process;u=s.exec(t);if(u){n=r(u);p.r=n[0];p.g=n[1];p.b=n[2]}}}else{p.r=arguments[0];p.g=arguments[1];p.b=arguments[2]}p.r=p.normalizeByte(p.r);p.g=p.normalizeByte(p.g);p.b=p.normalizeByte(p.b)};a.prototype={toHex:function(){var n=this,q=n.padDigit,p=n.r.toString(16),o=n.g.toString(16),i=n.b.toString(16);return"#"+q(p)+q(o)+q(i)},resolveColor:function(i){i=i||"black";if(i.charAt(0)=="#"){i=i.substr(1,6)}i=i.replace(/ /g,"");i=i.toLowerCase();i=a.namedColors[i]||i;return i},normalizeByte:function(i){return(i<0||isNaN(i))?0:((i>255)?255:i)},padDigit:function(i){return(i.length===1)?"0"+i:i},brightness:function(o){var n=this,i=Math.round;n.r=i(n.normalizeByte(n.r*o));n.g=i(n.normalizeByte(n.g*o));n.b=i(n.normalizeByte(n.b*o));return n},percBrightness:function(){var i=this;return Math.sqrt(0.241*i.r*i.r+0.691*i.g*i.g+0.068*i.b*i.b)}};a.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(i){return[j(i[1],10),j(i[2],10),j(i[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(i){return[j(i[1],16),j(i[2],16),j(i[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(i){return[j(i[1]+i[1],16),j(i[2]+i[2],16),j(i[3]+i[3],16)]}}];a.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};var h=["transparent"];for(var f in a.namedColors){if(a.namedColors.hasOwnProperty(f)){h.push(f)}}h=new RegExp("^("+h.join("|")+")(\\W|$)","i");function m(o,n){var i,p;if(o==null||o=="none"){return null}if(o instanceof d){return o}o=o.toLowerCase();if((i=h.exec(o))){if(i[1]=="transparent"){o=new g(1,1,1,0)}else{o=m(a.namedColors[i[1]],n)}o.match=[i[1]];return o}if((i=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(o))){p=new k(j(i[1],16),j(i[2],16),j(i[3],16),1)}else{if((i=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(o))){p=new k(j(i[1]+i[1],16),j(i[2]+i[2],16),j(i[3]+i[3],16),1)}else{if((i=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(o))){p=new k(j(i[1],10),j(i[2],10),j(i[3],10),1)}else{if((i=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(o))){p=new k(j(i[1],10),j(i[2],10),j(i[3],10),l(i[4]))}else{if((i=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(o))){p=new g(l(i[1])/100,l(i[2])/100,l(i[3])/100,1)}else{if((i=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(o))){p=new g(l(i[1])/100,l(i[2])/100,l(i[3])/100,l(i[4]))}}}}}}if(p){p.match=i}else{if(!n){throw new Error("Cannot parse color: "+o)}}return p}function c(p,i,o){if(!o){o="0"}p=p.toString(16);while(i>p.length){p="0"+p}return p}var d=kendo.Class.extend({toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var i=this.toBytes();return"rgba("+i.r+", "+i.g+", "+i.b+", "+l((+this.a).toFixed(3))+")"},toDisplay:function(){if(kendo.support.browser.msie&&kendo.support.browser.version<9){return this.toCss()}return this.toCssRgba()},equals:function(i){return i===this||i!==null&&this.toCssRgba()==m(i).toCssRgba()},diff:function(i){if(i==null){return NaN}var n=this.toBytes();i=i.toBytes();return Math.sqrt(Math.pow((n.r-i.r)*0.3,2)+Math.pow((n.g-i.g)*0.59,2)+Math.pow((n.b-i.b)*0.11,2))},clone:function(){var i=this.toBytes();if(i===this){i=new k(i.r,i.g,i.b,i.a)}return i}});var g=d.extend({init:function(p,o,i,n){this.r=p;this.g=o;this.b=i;this.a=n},toHSV:function(){var n,t,u,o,x,w;var i=this.r,p=this.g,q=this.b;n=Math.min(i,p,q);t=Math.max(i,p,q);w=t;u=t-n;if(u===0){return new b(0,0,w,this.a)}if(t!==0){x=u/t;if(i==t){o=(p-q)/u}else{if(p==t){o=2+(q-i)/u}else{o=4+(i-p)/u}}o*=60;if(o<0){o+=360}}else{x=0;o=-1}return new b(o,x,w,this.a)},toBytes:function(){return new k(this.r*255,this.g*255,this.b*255,this.a)}});var k=g.extend({init:function(p,o,i,n){this.r=Math.round(p);this.g=Math.round(o);this.b=Math.round(i);this.a=n},toRGB:function(){return new g(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHex:function(){return c(this.r,2)+c(this.g,2)+c(this.b,2)},toBytes:function(){return this}});var b=d.extend({init:function(p,o,n,i){this.h=p;this.s=o;this.v=n;this.a=i},toRGB:function(){var x=this.h,D=this.s,B=this.v;var w,n,y,A,z,u,o,C;if(D===0){n=y=A=B}else{x/=60;w=Math.floor(x);z=x-w;u=B*(1-D);o=B*(1-D*z);C=B*(1-D*(1-z));switch(w){case 0:n=B;y=C;A=u;break;case 1:n=o;y=B;A=u;break;case 2:n=u;y=B;A=C;break;case 3:n=u;y=o;A=B;break;case 4:n=C;y=u;A=B;break;default:n=B;y=u;A=o;break}}return new g(n,y,A,this.a)},toBytes:function(){return this.toRGB().toBytes()}});a.fromBytes=function(p,o,i,n){return new k(p,o,i,n!=null?n:1)};a.fromRGB=function(p,o,i,n){return new g(p,o,i,n!=null?n:1)};a.fromHSV=function(p,o,n,i){return new b(p,o,n,i!=null?i:1)};kendo.Color=a;kendo.parseColor=m})(window.kendo.jQuery,parseFloat,parseInt);(function(z){var v=Math,E=window.kendo,G=E.deepExtend,g=E.dataviz;var y=v.PI/180,c=Number.MAX_VALUE,P=-Number.MAX_VALUE,B="undefined",O=z.inArray,K=[].push,C=[].pop,p=[].splice,t=[].shift,j=[].slice,w=[].unshift;function L(S){return typeof S!==B}function N(U,S){var T=u(S);return v.round(U*T)/T}function u(S){if(S){return v.pow(10,S)}else{return 1}}function l(U,T,S){return v.max(v.min(U,S),T)}function e(S){return S*y}function n(S){return S/y}function R(S){return typeof S==="number"&&!isNaN(S)}function d(T,S){return L(T)?T:S}function x(S){return S*S}function Q(S){var U=[];for(var T in S){U.push(T+S[T])}return U.sort().join("")}function D(U){var T=2166136261;for(var S=0;S<U.length;++S){T+=(T<<1)+(T<<4)+(T<<7)+(T<<8)+(T<<24);T^=U.charCodeAt(S)}return T>>>0}function o(S){return D(Q(S))}var I=Date.now;if(!I){I=function(){return new Date().getTime()}}function r(T){var W=T.length,V,U=c,S=P;for(V=0;V<W;V++){S=v.max(S,T[V]);U=v.min(U,T[V])}return{min:U,max:S}}function q(S){return r(S).min}function a(S){return r(S).max}function i(S){return h(S).min}function M(S){return h(S).max}function h(T){var V=c,S=P;for(var U=0,W=T.length;U<W;U++){var X=T[U];if(X!==null&&isFinite(X)){V=v.min(V,X);S=v.max(S,X)}}return{min:V===c?undefined:V,max:S===P?undefined:S}}function k(S){if(S){return S[S.length-1]}}function H(T,S){T.push.apply(T,S);return T}function b(S){return E.template(S,{useWithBlock:false,paramName:"d"})}function F(S,T){return(L(T)&&T!==null)?" "+S+"='"+T+"' ":""}function A(T){var S="";for(var U=0;U<T.length;U++){S+=F(T[U][0],T[U][1])}return S}function f(T){var S="";for(var U=0;U<T.length;U++){var V=T[U][1];if(L(V)){S+=T[U][0]+":"+V+";"}}if(S!==""){return S}}function s(S){if(typeof S!=="string"){S+="px"}return S}function J(V){var S=[];if(V){var U=E.toHyphens(V).split("-");for(var T=0;T<U.length;T++){S.push("k-pos-"+U[T])}}return S.join(" ")}function m(S){return S===""||S===null||S==="none"||S==="transparent"||!L(S)}G(E,{util:{MAX_NUM:c,MIN_NUM:P,append:H,arrayLimits:r,arrayMin:q,arrayMax:a,defined:L,deg:n,hashKey:D,hashObject:o,isNumber:R,isTransparent:m,last:k,limitValue:l,now:I,objectKey:Q,round:N,rad:e,renderAttr:F,renderAllAttr:A,renderPos:J,renderSize:s,renderStyle:f,renderTemplate:b,sparseArrayLimits:h,sparseArrayMin:i,sparseArrayMax:M,sqr:x,valueOrDefault:d}});E.dataviz.util=E.util})(window.kendo.jQuery);(function(e){var g=window.kendo,c=g.deepExtend,d=String.fromCharCode;var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function a(k){var h="";var r,p,n,q,o,m,l;var j=0;k=f(k);while(j<k.length){r=k.charCodeAt(j++);p=k.charCodeAt(j++);n=k.charCodeAt(j++);q=r>>2;o=((r&3)<<4)|(p>>4);m=((p&15)<<2)|(n>>6);l=n&63;if(isNaN(p)){m=l=64}else{if(isNaN(n)){l=64}}h=h+b.charAt(q)+b.charAt(o)+b.charAt(m)+b.charAt(l)}return h}function f(j){var h="";for(var k=0;k<j.length;k++){var l=j.charCodeAt(k);if(l<128){h+=d(l)}else{if(l<2048){h+=d(192|(l>>>6));h+=d(128|(l&63))}else{if(l<65536){h+=d(224|(l>>>12));h+=d(128|(l>>>6&63));h+=d(128|(l&63))}}}}return h}c(g.util,{encodeBase64:a,encodeUTF8:f})})(window.kendo.jQuery);(function(e){var c=Math,f=window.kendo,a=f.deepExtend,b=e.inArray;var d={observers:function(){this._observers=this._observers||[];return this._observers},addObserver:function(g){if(!this._observers){this._observers=[g]}else{this._observers.push(g)}return this},removeObserver:function(h){var i=this.observers();var g=b(h,i);if(g!=-1){i.splice(g,1)}return this},trigger:function(i,j){var k=this._observers;var h;var g;if(k&&!this._suspended){for(g=0;g<k.length;g++){h=k[g];if(h[i]){h[i](j)}}}return this},optionsChange:function(g){this.trigger("optionsChange",g)},geometryChange:function(g){this.trigger("geometryChange",g)},suspend:function(){this._suspended=(this._suspended||0)+1;return this},resume:function(){this._suspended=c.max((this._suspended||0)-1,0);return this},_observerField:function(h,g){if(this[h]){this[h].removeObserver(this)}this[h]=g;g.addObserver(this)}};a(f,{mixins:{ObserversMixin:d}})})(window.kendo.jQuery);(function(j){var f=Math,g=f.pow,A=j.inArray,s=window.kendo,y=s.Class,o=s.deepExtend,k=s.mixins.ObserversMixin,a=s.util,d=a.defined,D=a.rad,q=a.deg,C=a.round;var G=f.PI/2,c=a.MIN_NUM,h=a.MAX_NUM;var E=y.extend({init:function(H,I){this.x=H||0;this.y=I||0},equals:function(H){return H&&H.x===this.x&&H.y===this.y},clone:function(){return new E(this.x,this.y)},rotate:function(I,H){return this.transform(p().rotate(I,H))},translate:function(H,I){this.x+=H;this.y+=I;this.geometryChange();return this},translateWith:function(H){return this.translate(H.x,H.y)},move:function(H,I){this.x=this.y=0;return this.translate(H,I)},scale:function(I,H){if(!d(H)){H=I}this.x*=I;this.y*=H;this.geometryChange();return this},scaleCopy:function(I,H){return this.clone().scale(I,H)},transform:function(I){var J=n(I),H=this.x,K=this.y;this.x=J.a*H+J.c*K+J.e;this.y=J.b*H+J.d*K+J.f;this.geometryChange();return this},transformCopy:function(I){var H=this.clone();if(I){H.transform(I)}return H},distanceTo:function(H){var J=this.x-H.x;var I=this.y-H.y;return f.sqrt(J*J+I*I)},round:function(H){this.x=C(this.x,H);this.y=C(this.y,H);this.geometryChange();return this},toArray:function(J){var I=d(J);var H=I?C(this.x,J):this.x;var K=I?C(this.y,J):this.y;return[H,K]}});e(E.fn,["x","y"]);o(E.fn,k);E.fn.toString=function(I,J){var H=this.x,K=this.y;if(d(I)){H=C(H,I);K=C(K,I)}J=J||" ";return H+J+K};E.create=function(I,H){if(d(I)){if(I instanceof E){return I}else{if(arguments.length===1&&I.length===2){return new E(I[0],I[1])}else{return new E(I,H)}}}};E.min=function(){var H=a.MAX_NUM;var K=a.MAX_NUM;for(var I=0;I<arguments.length;I++){var J=arguments[I];H=f.min(J.x,H);K=f.min(J.y,K)}return new E(H,K)};E.max=function(M,L){var K=a.MIN_NUM;var I=a.MIN_NUM;for(var H=0;H<arguments.length;H++){var J=arguments[H];K=f.max(J.x,K);I=f.max(J.y,I)}return new E(K,I)};E.minPoint=function(){return new E(c,c)};E.maxPoint=function(){return new E(h,h)};E.ZERO=new E(0,0);var z=y.extend({init:function(I,H){this.width=I||0;this.height=H||0},equals:function(H){return H&&H.width===this.width&&H.height===this.height},clone:function(){return new z(this.width,this.height)},toArray:function(K){var J=d(K);var I=J?C(this.width,K):this.width;var H=J?C(this.height,K):this.height;return[I,H]}});e(z.fn,["width","height"]);o(z.fn,k);z.create=function(I,H){if(d(I)){if(I instanceof z){return I}else{if(arguments.length===1&&I.length===2){return new z(I[0],I[1])}else{return new z(I,H)}}}};z.ZERO=new z(0,0);var m=y.extend({init:function(H,I){this.setOrigin(H||new E());this.setSize(I||new z())},clone:function(){return new m(this.origin.clone(),this.size.clone())},equals:function(H){return H&&H.origin.equals(this.origin)&&H.size.equals(this.size)},setOrigin:function(H){this._observerField("origin",E.create(H));this.geometryChange();return this},getOrigin:function(){return this.origin},setSize:function(H){this._observerField("size",z.create(H));this.geometryChange();return this},getSize:function(){return this.size},width:function(){return this.size.width},height:function(){return this.size.height},topLeft:function(){return this.origin.clone()},bottomRight:function(){return this.origin.clone().translate(this.width(),this.height())},topRight:function(){return this.origin.clone().translate(this.width(),0)},bottomLeft:function(){return this.origin.clone().translate(0,this.height())},center:function(){return this.origin.clone().translate(this.width()/2,this.height()/2)},bbox:function(I){var H=this.topLeft().transformCopy(I);var K=this.topRight().transformCopy(I);var J=this.bottomRight().transformCopy(I);var L=this.bottomLeft().transformCopy(I);return m.fromPoints(H,K,J,L)},transformCopy:function(H){return m.fromPoints(this.topLeft().transform(H),this.bottomRight().transform(H))}});o(m.fn,k);m.fromPoints=function(){var J=E.min.apply(this,arguments);var I=E.max.apply(this,arguments);var H=new z(I.x-J.x,I.y-J.y);return new m(J,H)};m.union=function(I,H){return m.fromPoints(E.min(I.topLeft(),H.topLeft()),E.max(I.bottomRight(),H.bottomRight()))};m.intersect=function(I,H){I={left:I.topLeft().x,top:I.topLeft().y,right:I.bottomRight().x,bottom:I.bottomRight().y};H={left:H.topLeft().x,top:H.topLeft().y,right:H.bottomRight().x,bottom:H.bottomRight().y};if(I.left<=H.right&&H.left<=I.right&&I.top<=H.bottom&&H.top<=I.bottom){return m.fromPoints(new E(f.max(I.left,H.left),f.max(I.top,H.top)),new E(f.min(I.right,H.right),f.min(I.bottom,H.bottom)))}};var v=y.extend({init:function(I,H){this.setCenter(I||new E());this.setRadius(H||0)},setCenter:function(H){this._observerField("center",E.create(H));this.geometryChange();return this},getCenter:function(){return this.center},equals:function(H){return H&&H.center.equals(this.center)&&H.radius===this.radius},clone:function(){return new v(this.center.clone(),this.radius)},pointAt:function(H){return this._pointAt(D(H))},bbox:function(J){var H=E.maxPoint();var I=E.minPoint();var O=F(this.center,this.radius,this.radius,J);for(var K=0;K<4;K++){var N=this._pointAt(O.x+K*G).transformCopy(J);var M=this._pointAt(O.y+K*G).transformCopy(J);var L=new E(N.x,M.y);H=E.min(H,L);I=E.max(I,L)}return m.fromPoints(H,I)},_pointAt:function(I){var J=this.center;var H=this.radius;return new E(J.x-H*f.cos(I),J.y-H*f.sin(I))}});e(v.fn,["radius"]);o(v.fn,k);var u=y.extend({init:function(H,I){this.setCenter(H||new E());I=I||{};this.radiusX=I.radiusX;this.radiusY=I.radiusY||I.radiusX;this.startAngle=I.startAngle;this.endAngle=I.endAngle;this.anticlockwise=I.anticlockwise||false},clone:function(){return new u(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})},setCenter:function(H){this._observerField("center",E.create(H));this.geometryChange();return this},getCenter:function(){return this.center},MAX_INTERVAL:45,pointAt:function(J){var H=this.center;var I=D(J);return new E(H.x+this.radiusX*f.cos(I),H.y+this.radiusY*f.sin(I))},curvePoints:function(){var Q=this.startAngle;var M=this.endAngle;var N=this.anticlockwise?-1:1;var L=[this.pointAt(Q)];var O=Q;var J=this._arcInterval();var S=J.endAngle-J.startAngle;var H=f.ceil(S/this.MAX_INTERVAL);var I=S/H;for(var P=1;P<=H;P++){var K=O+N*I;var R=this._intervalCurvePoints(O,K);L.push(R.cp1,R.cp2,R.p2);O=K}return L},bbox:function(V){var J=this;var M=J._arcInterval();var S=M.startAngle;var N=M.endAngle;var O=F(this.center,this.radiusX,this.radiusY,V);var K=q(O.x);var H=q(O.y);var W=J.pointAt(S).transformCopy(V);var T=J.pointAt(N).transformCopy(V);var U=E.min(W,T);var Q=E.max(W,T);var L=x(K,S);var I=x(H,S);while(L<N||I<N){var R;if(L<N){R=J.pointAt(L).transformCopy(V);L+=90}var P;if(I<N){P=J.pointAt(I).transformCopy(V);I+=90}W=new E(R.x,P.y);U=E.min(U,W);Q=E.max(Q,W)}return m.fromPoints(U,Q)},_arcInterval:function(){var I=this.startAngle;var H=this.endAngle;var K=this.anticlockwise;if(K){var J=I;I=H;H=J}if(I>H||(K&&I===H)){H+=360}return{startAngle:I,endAngle:H}},_intervalCurvePoints:function(N,J){var H=this;var P=H.pointAt(N);var O=H.pointAt(J);var M=H._derivativeAt(N);var I=H._derivativeAt(J);var Q=(D(J)-D(N))/3;var L=new E(P.x+Q*M.x,P.y+Q*M.y);var K=new E(O.x-Q*I.x,O.y-Q*I.y);return{p1:P,cp1:L,cp2:K,p2:O}},_derivativeAt:function(J){var H=this;var I=D(J);return new E(-H.radiusX*f.sin(I),H.radiusY*f.cos(I))}});e(u.fn,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]);o(u.fn,k);u.fromPoints=function(N,I,M,K,L,J){var H=l(N.x,N.y,I.x,I.y,M,K,L,J);return new u(H.center,{startAngle:H.startAngle,endAngle:H.endAngle,radiusX:M,radiusY:K,anticlockwise:J===0})};var t=y.extend({init:function(I,H,M,L,K,J){this.a=I||0;this.b=H||0;this.c=M||0;this.d=L||0;this.e=K||0;this.f=J||0},multiplyCopy:function(H){return new t(this.a*H.a+this.c*H.b,this.b*H.a+this.d*H.b,this.a*H.c+this.c*H.d,this.b*H.c+this.d*H.d,this.a*H.e+this.c*H.f+this.e,this.b*H.e+this.d*H.f+this.f)},invert:function(){var I=this.a,H=this.b;var N=this.c,M=this.d;var L=this.e,K=this.f;var J=I*M-H*N;if(J===0){return null}return new t(M/J,-H/J,-N/J,I/J,(N*K-M*L)/J,(H*L-I*K)/J)},clone:function(){return new t(this.a,this.b,this.c,this.d,this.e,this.f)},equals:function(H){if(!H){return false}return this.a===H.a&&this.b===H.b&&this.c===H.c&&this.d===H.d&&this.e===H.e&&this.f===H.f},round:function(H){this.a=C(this.a,H);this.b=C(this.b,H);this.c=C(this.c,H);this.d=C(this.d,H);this.e=C(this.e,H);this.f=C(this.f,H);return this},toArray:function(I){var H=[this.a,this.b,this.c,this.d,this.e,this.f];if(d(I)){for(var J=0;J<H.length;J++){H[J]=C(H[J],I)}}return H}});t.fn.toString=function(H,I){return this.toArray(H).join(I||",")};t.translate=function(H,I){return new t(1,0,0,1,H,I)};t.unit=function(){return new t(1,0,0,1,0,0)};t.rotate=function(J,I,K){var H=new t();H.a=f.cos(D(J));H.b=f.sin(D(J));H.c=-H.b;H.d=H.a;H.e=(I-I*H.a+K*H.b)||0;H.f=(K-K*H.a-I*H.b)||0;return H};t.scale=function(I,H){return new t(I,0,0,H,0,0)};t.IDENTITY=t.unit();var B=y.extend({init:function(H){this._matrix=H||t.unit()},clone:function(){return new B(this._matrix.clone())},equals:function(H){return H&&H._matrix.equals(this._matrix)},_optionsChange:function(){this.optionsChange({field:"transform",value:this})},translate:function(H,I){this._matrix=this._matrix.multiplyCopy(t.translate(H,I));this._optionsChange();return this},scale:function(J,I,H){if(!d(I)){I=J}if(H){H=E.create(H);this._matrix=this._matrix.multiplyCopy(t.translate(H.x,H.y))}this._matrix=this._matrix.multiplyCopy(t.scale(J,I));if(H){this._matrix=this._matrix.multiplyCopy(t.translate(-H.x,-H.y))}this._optionsChange();return this},rotate:function(I,H){H=E.create(H)||E.ZERO;this._matrix=this._matrix.multiplyCopy(t.rotate(I,H.x,H.y));this._optionsChange();return this},multiply:function(I){var H=n(I);this._matrix=this._matrix.multiplyCopy(H);this._optionsChange();return this},matrix:function(){return this._matrix}});o(B.fn,k);function p(H){if(H===null){return null}if(H instanceof B){return H}return new B(H)}function n(H){if(H&&s.isFunction(H.matrix)){return H.matrix()}return H}function F(H,M,L,I){var K=0,J=0;if(I){K=f.atan2(I.c*L,I.a*M);if(I.b!==0){J=f.atan2(I.d*L,I.b*M)}}return{x:K,y:J}}function x(H,I){while(H<I){H+=90}return H}function e(K,H){for(var J=0;J<H.length;J++){var I=H[J];var L=I.charAt(0).toUpperCase()+I.substring(1,I.length);K["set"+L]=w(I);K["get"+L]=r(I)}}function w(H){return function(I){if(this[H]!==I){this[H]=I;this.geometryChange()}return this}}function r(H){return function(){return this[H]}}function b(K,H,I){if(K>H){H+=360}var J=f.abs(H-K);if(!I){J=360-J}return J}function i(I,O,M,L,H,N){var K=C((H-I)/M,3);var J=C((N-O)/L,3);return C(q(f.atan2(J,K)))}function l(Y,J,X,H,Q,P,ae,W){var K,I;var T,ad;var af,ac,aa,ag;if(J!==H){var S=X-Y;var ab=H-J;var Z=g(Q,2),M=g(P,2);var V=(M*S*(Y+X)+Z*ab*(J+H))/(2*Z*ab);var R=V-H;var U=-(S*M)/(Z*ab);af=1/Z+g(U,2)/M;ac=2*((U*R)/M-X/Z);aa=g(X,2)/Z+g(R,2)/M-1;ag=f.sqrt(g(ac,2)-4*af*aa);K=(-ac-ag)/(2*af);I=V+U*K;T=(-ac+ag)/(2*af);ad=V+U*T}else{if(Y!==X){ac=-2*H;aa=g(((X-Y)*P)/(2*Q),2)+g(H,2)-g(P,2);ag=f.sqrt(g(ac,2)-4*aa);K=T=(Y+X)/2;I=(-ac-ag)/2;ad=(-ac+ag)/2}else{return false}}var O=i(K,I,Q,P,Y,J);var L=i(K,I,Q,P,X,H);var N=b(O,L,W);if((ae&&N<=180)||(!ae&&N>180)){K=T;I=ad;O=i(K,I,Q,P,Y,J);L=i(K,I,Q,P,X,H)}return{center:new E(K,I),startAngle:O,endAngle:L}}o(s,{geometry:{Arc:u,Circle:v,Matrix:t,Point:E,Rect:m,Size:z,Transformation:B,transform:p,toMatrix:n}});s.dataviz.geometry=s.geometry})(window.kendo.jQuery);(function(f){var l=document,n=f.noop,b=Object.prototype.toString,j=window.kendo,a=j.Class,k=j.ui.Widget,c=j.deepExtend,g=j.util,d=g.defined;var h=k.extend({init:function(p,o){this.options=c({},this.options,o);k.fn.init.call(this,p,this.options);this._click=this._handler("click");this._mouseenter=this._handler("mouseenter");this._mouseleave=this._handler("mouseleave");this._visual=new j.drawing.Group();if(this.options.width){this.element.css("width",this.options.width)}if(this.options.height){this.element.css("height",this.options.height)}},options:{name:"Surface"},events:["click","mouseenter","mouseleave","resize"],draw:function(o){this._visual.children.push(o)},clear:function(){this._visual.children=[]},destroy:function(){this._visual=null;k.fn.destroy.call(this)},exportVisual:function(){return this._visual},getSize:function(){return{width:this.element.width(),height:this.element.height()}},setSize:function(o){this.element.css({width:o.width,height:o.height});this._size=o;this._resize()},eventTarget:function(q){var o=f(q.touch?q.touch.initialTouch:q.target);var p;while(!p&&o.length>0){p=o[0]._kendoNode;if(o.is(this.element)||o.length===0){break}o=o.parent()}if(p){return p.srcElement}},_resize:n,_handler:function(p){var o=this;return function(r){var q=o.eventTarget(r);if(q){o.trigger(p,{element:q,originalEvent:r})}}}});j.ui.plugin(h);h.create=function(p,o){return i.current.create(p,o)};var m=a.extend({init:function(o){this.childNodes=[];this.parent=null;if(o){this.srcElement=o;this.observe()}},destroy:function(){if(this.srcElement){this.srcElement.removeObserver(this)}var p=this.childNodes;for(var o=0;o<p.length;o++){this.childNodes[o].destroy()}this.parent=null},load:n,observe:function(){if(this.srcElement){this.srcElement.addObserver(this)}},append:function(o){this.childNodes.push(o);o.parent=this},insertAt:function(o,p){this.childNodes.splice(p,0,o);o.parent=this},remove:function(p,r){var o=p+r;for(var q=p;q<o;q++){this.childNodes[q].removeSelf()}this.childNodes.splice(p,r)},removeSelf:function(){this.clear();this.destroy()},clear:function(){this.remove(0,this.childNodes.length)},invalidate:function(){if(this.parent){this.parent.invalidate()}},geometryChange:function(){this.invalidate()},optionsChange:function(){this.invalidate()},childrenChange:function(o){if(o.action==="add"){this.load(o.items,o.index)}else{if(o.action==="remove"){this.remove(o.index,o.items.length)}}this.invalidate()}});var e=a.extend({init:function(o,p){var q,r;this.prefix=p||"";for(q in o){r=o[q];r=this._wrap(r,q);this[q]=r}},get:function(o){return j.getter(o,true)(this)},set:function(q,o){var p=j.getter(q,true)(this);if(p!==o){var r=this._set(q,this._wrap(o,q));if(!r){this.optionsChange({field:this.prefix+q,value:o})}}},_set:function(s,o){var t=s.indexOf(".")>=0;if(t){var r=s.split("."),q="",p;while(r.length>1){q+=r.shift();p=j.getter(q,true)(this);if(!p){p=new e({},q+".");p.addObserver(this);this[q]=p}if(p instanceof e){p.set(r.join("."),o);return t}q+="."}}this._clear(s);j.setter(s)(this,o);return t},_clear:function(p){var o=j.getter(p,true)(this);if(o&&o.removeObserver){o.removeObserver(this)}},_wrap:function(o,q){var p=b.call(o);if(o!==null&&d(o)&&p==="[object Object]"){if(!(o instanceof e)&&!(o instanceof a)){o=new e(o,this.prefix+q+".")}o.addObserver(this)}return o}});c(e.fn,j.mixins.ObserversMixin);var i=function(){this._items=[]};i.prototype={register:function(q,r,o){var p=this._items,t=p[0],s={name:q,type:r,order:o};if(!t||o<t.order){p.unshift(s)}else{p.push(s)}},create:function(s,q){var o=this._items,p=o[0];if(q&&q.type){var t=q.type.toLowerCase();for(var r=0;r<o.length;r++){if(o[r].name===t){p=o[r];break}}}if(p){return new p.type(s,q)}j.logToConsole("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG, VML and Canvas. User agent: "+navigator.userAgent+"\n- The Kendo UI scripts are not fully loaded")}};i.current=new i();c(j,{drawing:{DASH_ARRAYS:{dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},Color:j.Color,BaseNode:m,OptionsStore:e,Surface:h,SurfaceFactory:i}});j.dataviz.drawing=j.drawing})(window.kendo.jQuery);(function(e){var g=window.kendo,a=g.deepExtend,f=g.util.defined;var b="gradient";var c={extend:function(h){h.fill=this.fill;h.stroke=this.stroke},fill:function(h,j){var i=this.options;if(f(h)){if(h&&h.nodeType!=b){var k={color:h};if(f(j)){k.opacity=j}i.set("fill",k)}else{i.set("fill",h)}return this}else{return i.get("fill")}},stroke:function(h,j,i){if(f(h)){this.options.set("stroke.color",h);if(f(j)){this.options.set("stroke.width",j)}if(f(i)){this.options.set("stroke.opacity",i)}return this}else{return this.options.get("stroke")}}};var d={extend:function(i,h){i.traverse=function(m){var k=this[h];for(var j=0;j<k.length;j++){var l=k[j];if(l.traverse){l.traverse(m)}else{m(l)}}return this}}};a(g.drawing,{mixins:{Paintable:c,Traversable:d}})})(window.kendo.jQuery);(function(e){var k=document,i=window.kendo,a=i.Class,c=i.deepExtend,g=i.util,d=g.defined;var f=1;var h=a.extend({init:function(l){this._size=l;this._length=0;this._map={}},put:function(l,n){var p=this,o=p._map,m={key:l,value:n};o[l]=m;if(!p._head){p._head=p._tail=m}else{p._tail.newer=m;m.older=p._tail;p._tail=m}if(p._length>=p._size){o[p._head.key]=null;p._head=p._head.newer;p._head.older=null}else{p._length++}},get:function(l){var n=this,m=n._map[l];if(m){if(m===n._head&&m!==n._tail){n._head=m.newer;n._head.older=null}if(m!==n._tail){if(m.older){m.older.newer=m.newer;m.newer.older=m.older}m.older=n._tail;m.newer=null;n._tail.newer=m;n._tail=m}return m.value}}});var j=a.extend({init:function(){this._cache=new h(1000)},measure:function(t,l){var o=g.objectKey(l),q=g.hashKey(t+o),m=this._cache.get(q);if(m){return m}var u={width:0,height:0,baseline:0};var p=this._measureBox,n=this._baselineMarker.cloneNode(false);for(var s in l){var r=l[s];if(d(r)){p.style[s]=r}}e(p).text(t);p.appendChild(n);k.body.appendChild(p);if((t+"").length){u.width=p.offsetWidth-f;u.height=p.offsetHeight;u.baseline=n.offsetTop+f}this._cache.put(q,u);p.parentNode.removeChild(p);return u}});j.fn._baselineMarker=e("<div class='k-baseline-marker' style='display: inline-block; vertical-align: baseline;width: "+f+"px; height: "+f+"px;overflow: hidden;' />")[0];j.fn._measureBox=e("<div style='position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space:nowrap !important;' />")[0];j.current=new j();function b(m,l){return j.current.measure(m,l)}c(i.drawing,{util:{TextMetrics:j,LRUCache:h,measureText:b}})})(window.kendo.jQuery);(function(af){var t=window.kendo,ap=t.Class,ax=t.deepExtend,H=t.geometry,f=H.Point,y=H.Rect,L=H.Size,I=H.Matrix,ag=H.toMatrix,j=t.drawing,Q=j.OptionsStore,F=Math,ak=F.pow,ah=t.util,D=ah.append,an=ah.arrayLimits,i=ah.defined,J=ah.last,e=ah.valueOrDefault,h=t.mixins.ObserversMixin,v=af.inArray,d=[].push,ao=[].pop,aa=[].splice,P=[].shift,x=[].slice,aq=[].unshift,u=1,Z="start",aj="end",a="horizontal";var T=ap.extend({nodeType:"Element",init:function(g){this._initOptions(g)},_initOptions:function(ay){ay=ay||{};var g=ay.transform;var az=ay.clip;if(g){ay.transform=H.transform(g)}if(az&&!az.id){az.id=b()}this.options=new Q(ay);this.options.addObserver(this)},transform:function(g){if(i(g)){this.options.set("transform",H.transform(g))}else{return this.options.get("transform")}},parentTransform:function(){var ay=this,aA,g,az;while(ay.parent){ay=ay.parent;aA=ay.transform();if(aA){az=aA.matrix().multiplyCopy(az||I.unit())}}if(az){return H.transform(az)}},currentTransform:function(g){var az=this.transform(),aB=ag(az),aA,ay;if(!i(g)){g=this.parentTransform()}aA=ag(g);if(aB&&aA){ay=aA.multiplyCopy(aB)}else{ay=aB||aA}if(ay){return H.transform(ay)}},visible:function(g){if(i(g)){this.options.set("visible",g);return this}else{return this.options.get("visible")!==false}},clip:function(ay){var g=this.options;if(i(ay)){if(ay&&!ay.id){ay.id=b()}g.set("clip",ay);return this}else{return g.get("clip")}},opacity:function(g){if(i(g)){this.options.set("opacity",g);return this}else{return e(this.options.get("opacity"),1)}},clippedBBox:function(az){var ay=this._clippedBBox(az);if(ay){var g=this.clip();return g?y.intersect(ay,g.bbox(az)):ay}},_clippedBBox:function(g){return this.bbox(g)}});ax(T.fn,h);var N=ap.extend({init:function(g){g=g||[];this.length=0;this._splice(0,g.length,g)},elements:function(g){if(g){this._splice(0,this.length,g);this._change();return this}else{return this.slice(0)}},push:function(){var ay=arguments;var g=d.apply(this,ay);this._add(ay);return g},slice:x,pop:function(){var ay=this.length;var g=ao.apply(this);if(ay){this._remove([g])}return g},splice:function(ay,az){var aA=x.call(arguments,2);var g=this._splice(ay,az,aA);this._change();return g},shift:function(){var ay=this.length;var g=P.apply(this);if(ay){this._remove([g])}return g},unshift:function(){var ay=arguments;var g=aq.apply(this,ay);this._add(ay);return g},indexOf:function(ay){var aA=this;var g;var az;for(g=0,az=aA.length;g<az;g++){if(aA[g]===ay){return g}}return -1},_splice:function(ay,az,aA){var g=aa.apply(this,[ay,az].concat(aA));this._clearObserver(g);this._setObserver(aA);return g},_add:function(g){this._setObserver(g);this._change()},_remove:function(g){this._clearObserver(g);this._change()},_setObserver:function(ay){for(var g=0;g<ay.length;g++){ay[g].addObserver(this)}},_clearObserver:function(ay){for(var g=0;g<ay.length;g++){ay[g].removeObserver(this)}},_change:function(){}});ax(N.fn,h);var K=T.extend({nodeType:"Group",init:function(g){T.fn.init.call(this,g);this.children=[]},childrenChange:function(az,g,ay){this.trigger("childrenChange",{action:az,items:g,index:ay})},append:function(){D(this.children,arguments);this._reparent(arguments,this);this.childrenChange("add",arguments);return this},insertAt:function(ay,g){this.children.splice(g,0,ay);ay.parent=this;this.childrenChange("add",[ay],g);return this},remove:function(ay){var g=v(ay,this.children);if(g>=0){this.children.splice(g,1);ay.parent=null;this.childrenChange("remove",[ay],g)}return this},removeAt:function(g){if(0<=g&&g<this.children.length){var ay=this.children[g];this.children.splice(g,1);ay.parent=null;this.childrenChange("remove",[ay],g)}return this},clear:function(){var g=this.children;this.children=[];this._reparent(g,null);this.childrenChange("remove",g,0);return this},bbox:function(g){return ab(this.children,true,this.currentTransform(g))},rawBBox:function(){return ab(this.children,false)},_clippedBBox:function(g){return A(this.children,this.currentTransform(g))},currentTransform:function(g){return T.fn.currentTransform.call(this,g)||null},_reparent:function(aA,az){for(var g=0;g<aA.length;g++){var aB=aA[g];var ay=aB.parent;if(ay&&ay!=this&&ay.remove){ay.remove(aB)}aB.parent=az}}});j.mixins.Traversable.extend(K.fn,"children");var au=T.extend({nodeType:"Text",init:function(az,g,ay){T.fn.init.call(this,ay);this.content(az);this.position(g||new H.Point());if(!this.options.font){this.options.font="12px sans-serif"}if(!i(this.options.fill)){this.fill("#000")}},content:function(g){if(i(g)){this.options.set("content",g);return this}else{return this.options.get("content")}},measure:function(){var g=j.util.measureText(this.content(),{font:this.options.get("font")});return g},rect:function(){var g=this.measure();var ay=this.position().clone();return new H.Rect(ay,[g.width,g.height])},bbox:function(ay){var g=ag(this.currentTransform(ay));return this.rect().bbox(g)},rawBBox:function(){return this.rect().bbox()}});j.mixins.Paintable.extend(au.fn);O(au.fn,["position"]);var M=T.extend({nodeType:"Circle",init:function(ay,g){T.fn.init.call(this,g);this.geometry(ay||new H.Circle());if(!i(this.options.stroke)){this.stroke("#000")}},bbox:function(az){var g=ag(this.currentTransform(az));var ay=this._geometry.bbox(g);var aA=this.options.get("stroke.width");if(aA){r(ay,aA/2)}return ay},rawBBox:function(){return this._geometry.bbox()}});j.mixins.Paintable.extend(M.fn);al(M.fn,["geometry"]);var at=T.extend({nodeType:"Arc",init:function(ay,g){T.fn.init.call(this,g);this.geometry(ay||new H.Arc());if(!i(this.options.stroke)){this.stroke("#000")}},bbox:function(az){var g=ag(this.currentTransform(az));var ay=this.geometry().bbox(g);var aA=this.options.get("stroke.width");if(aA){r(ay,aA/2)}return ay},rawBBox:function(){return this.geometry().bbox()},toPath:function(){var ay=new V();var az=this.geometry().curvePoints();if(az.length>0){ay.moveTo(az[0].x,az[0].y);for(var g=1;g<az.length;g+=3){ay.curveTo(az[g],az[g+1],az[g+2])}}return ay}});j.mixins.Paintable.extend(at.fn);al(at.fn,["geometry"]);var G=N.extend({_change:function(){this.geometryChange()}});var ad=ap.extend({init:function(g,az,ay){this.anchor(g||new f());this.controlIn(az);this.controlOut(ay)},bboxTo:function(az,g){var aA;var ay=this.anchor().transformCopy(g);var aB=az.anchor().transformCopy(g);if(this.controlOut()&&az.controlIn()){aA=this._curveBoundingBox(ay,this.controlOut().transformCopy(g),az.controlIn().transformCopy(g),aB)}else{aA=this._lineBoundingBox(ay,aB)}return aA},_lineBoundingBox:function(ay,g){return y.fromPoints(ay,g)},_curveBoundingBox:function(aE,az,ay,aB){var aD=[aE,az,ay,aB],aC=this._curveExtremesFor(aD,"x"),aA=this._curveExtremesFor(aD,"y"),g=an([aC.min,aC.max,aE.x,aB.x]),aF=an([aA.min,aA.max,aE.y,aB.y]);return y.fromPoints(new f(g.min,aF.min),new f(g.max,aF.max))},_curveExtremesFor:function(g,ay){var az=this._curveExtremes(g[0][ay],g[1][ay],g[2][ay],g[3][ay]);return{min:this._calculateCurveAt(az.min,ay,g),max:this._calculateCurveAt(az.max,ay,g)}},_calculateCurveAt:function(g,aA,ay){var az=1-g;return ak(az,3)*ay[0][aA]+3*ak(az,2)*g*ay[1][aA]+3*ak(g,2)*az*ay[2][aA]+ak(g,3)*ay[3][aA]},_curveExtremes:function(az,ay,g,aI){var aG=az-3*ay+3*g-aI;var aF=-2*(az-2*ay+g);var aD=az-ay;var aH=F.sqrt(aF*aF-4*aG*aD);var aC=0;var aB=1;if(aG===0){if(aF!==0){aC=aB=-aD/aF}}else{if(!isNaN(aH)){aC=(-aF+aH)/(2*aG);aB=(-aF-aH)/(2*aG)}}var aA=F.max(F.min(aC,aB),0);if(aA<0||aA>1){aA=0}var aE=F.min(F.max(aC,aB),1);if(aE>1||aE<0){aE=1}return{min:aA,max:aE}}});O(ad.fn,["anchor","controlIn","controlOut"]);ax(ad.fn,h);var V=T.extend({nodeType:"Path",init:function(g){T.fn.init.call(this,g);this.segments=new G();this.segments.addObserver(this);if(!i(this.options.stroke)){this.stroke("#000");if(!i(this.options.stroke.lineJoin)){this.options.set("stroke.lineJoin","miter")}}},moveTo:function(g,ay){this.suspend();this.segments.elements([]);this.resume();this.lineTo(g,ay);return this},lineTo:function(ay,aA){var g=i(aA)?new f(ay,aA):ay,az=new ad(g);this.segments.push(az);return this},curveTo:function(az,aB,g){if(this.segments.length>0){var ay=J(this.segments);var aA=new ad(g,aB);this.suspend();ay.controlOut(az);this.resume();this.segments.push(aA)}return this},arc:function(aF,aC,aB,ay,aD){if(this.segments.length>0){var aG=J(this.segments);var aE=aG.anchor();var aA=ah.rad(aF);var g=new f(aE.x-aB*F.cos(aA),aE.y-ay*F.sin(aA));var az=new H.Arc(g,{startAngle:aF,endAngle:aC,radiusX:aB,radiusY:ay,anticlockwise:aD});this._addArcSegments(az)}return this},arcTo:function(ay,aE,aC,aD,az){if(this.segments.length>0){var g=J(this.segments);var aA=g.anchor();var aB=H.Arc.fromPoints(aA,ay,aE,aC,aD,az);this._addArcSegments(aB)}return this},_addArcSegments:function(ay){this.suspend();var az=ay.curvePoints();for(var g=1;g<az.length;g+=3){this.curveTo(az[g],az[g+1],az[g+2])}this.resume();this.geometryChange()},close:function(){this.options.closed=true;this.geometryChange();return this},bbox:function(az){var ay=ag(this.currentTransform(az));var g=this._bbox(ay);var aA=this.options.get("stroke.width");if(aA){r(g,aA/2)}return g},rawBBox:function(){return this._bbox()},_bbox:function(g){var aB=this.segments;var aD=aB.length;var aA;if(aD===1){var az=aB[0].anchor().transformCopy(g);aA=new y(az,L.ZERO)}else{if(aD>0){for(var aC=1;aC<aD;aC++){var ay=aB[aC-1].bboxTo(aB[aC],g);if(aA){aA=y.union(aA,ay)}else{aA=ay}}}}return aA}});j.mixins.Paintable.extend(V.fn);V.fromRect=function(ay,g){return new V(g).moveTo(ay.topLeft()).lineTo(ay.topRight()).lineTo(ay.bottomRight()).lineTo(ay.bottomLeft()).close()};V.fromPoints=function(az,g){if(az){var aB=new V(g);for(var ay=0;ay<az.length;ay++){var aA=f.create(az[ay]);if(aA){if(ay===0){aB.moveTo(aA)}else{aB.lineTo(aA)}}}return aB}};V.fromArc=function(az,g){var aA=new V(g);var ay=az.startAngle;var aB=az.pointAt(ay);aA.moveTo(aB.x,aB.y);aA.arc(ay,az.endAngle,az.radiusX,az.radiusY,az.anticlockwise);return aA};var C=T.extend({nodeType:"MultiPath",init:function(g){T.fn.init.call(this,g);this.paths=new G();this.paths.addObserver(this);if(!i(this.options.stroke)){this.stroke("#000")}},moveTo:function(g,az){var ay=new V();ay.moveTo(g,az);this.paths.push(ay);return this},lineTo:function(g,ay){if(this.paths.length>0){J(this.paths).lineTo(g,ay)}return this},curveTo:function(ay,az,g){if(this.paths.length>0){J(this.paths).curveTo(ay,az,g)}return this},arc:function(ay,g,aB,aA,az){if(this.paths.length>0){J(this.paths).arc(ay,g,aB,aA,az)}return this},arcTo:function(g,aB,az,aA,ay){if(this.paths.length>0){J(this.paths).arcTo(g,aB,az,aA,ay)}return this},close:function(){if(this.paths.length>0){J(this.paths).close()}return this},bbox:function(g){return ab(this.paths,true,this.currentTransform(g))},rawBBox:function(){return ab(this.paths,false)},_clippedBBox:function(g){return A(this.paths,this.currentTransform(g))}});j.mixins.Paintable.extend(C.fn);var ae=T.extend({nodeType:"Image",init:function(az,ay,g){T.fn.init.call(this,g);this.src(az);this.rect(ay||new H.Rect())},src:function(g){if(i(g)){this.options.set("src",g);return this}else{return this.options.get("src")}},bbox:function(ay){var g=ag(this.currentTransform(ay));return this._rect.bbox(g)},rawBBox:function(){return this._rect.bbox()}});al(ae.fn,["rect"]);var B=ap.extend({init:function(az,g,ay){this.options=new Q({offset:az,color:g,opacity:i(ay)?ay:1});this.options.addObserver(this)}});am(B.fn,["offset","color","opacity"]);ax(B.fn,h);B.create=function(g){if(i(g)){var ay;if(g instanceof B){ay=g}else{if(g.length>1){ay=new B(g[0],g[1],g[2])}else{ay=new B(g.offset,g.color,g.opacity)}}return ay}};var ai=N.extend({_change:function(){this.optionsChange({field:"stops"})}});var n=ap.extend({nodeType:"gradient",init:function(g){this.stops=new ai(this._createStops(g.stops));this.stops.addObserver(this);this._userSpace=g.userSpace;this.id=b()},userSpace:function(g){if(i(g)){this._userSpace=g;this.optionsChange();return this}else{return this._userSpace}},_createStops:function(az){var ay=[];var g;az=az||[];for(g=0;g<az.length;g++){ay.push(B.create(az[g]))}return ay},addStop:function(az,g,ay){this.stops.push(new B(az,g,ay))},removeStop:function(ay){var g=this.stops.indexOf(ay);if(g>=0){this.stops.splice(g,1)}}});ax(n.fn,h,{optionsChange:function(g){this.trigger("optionsChange",{field:"gradient"+(g?"."+g.field:""),value:this})},geometryChange:function(){this.optionsChange()}});var c=n.extend({init:function(g){g=g||{};n.fn.init.call(this,g);this.start(g.start||new f());this.end(g.end||new f(1,0))}});O(c.fn,["start","end"]);var l=n.extend({init:function(g){g=g||{};n.fn.init.call(this,g);this.center(g.center||new f());this._radius=i(g.radius)?g.radius:1;this._fallbackFill=g.fallbackFill},radius:function(g){if(i(g)){this._radius=g;this.geometryChange();return this}else{return this._radius}},fallbackFill:function(g){if(i(g)){this._fallbackFill=g;this.optionsChange();return this}else{return this._fallbackFill}}});O(l.fn,["center"]);var R=K.extend({init:function(ay,g){K.fn.init.call(this,t.deepExtend({},this._defaults,g));this._rect=ay;this._fieldMap={}},_defaults:{alignContent:Z,justifyContent:Z,alignItems:Z,spacing:0,orientation:a,lineSpacing:0,wrap:true},rect:function(g){if(g){this._rect=g;return this}else{return this._rect}},_initMap:function(){var g=this.options;var ay=this._fieldMap;if(g.orientation==a){ay.sizeField="width";ay.groupsSizeField="height";ay.groupAxis="x";ay.groupsAxis="y"}else{ay.sizeField="height";ay.groupsSizeField="width";ay.groupAxis="y";ay.groupsAxis="x"}},reflow:function(){if(!this._rect||this.children.length===0){return}this._initMap();if(this.options.transform){this.transform(null)}var aE=this.options;var aF=this._fieldMap;var aA=this._rect;var aK=this._initGroups();var aS=aK.groups;var aJ=aK.groupsSize;var az=aF.sizeField;var aD=aF.groupsSizeField;var aR=aF.groupAxis;var aT=aF.groupsAxis;var aB=ar(aJ,aA,aE.alignContent,aT,aD);var aU=new f();var aV=new f();var aQ=new H.Size();var aM,ay,aC,aI,aG;for(var aL=0;aL<aS.length;aL++){aI=aS[aL];aU[aR]=aM=ar(aI.size,aA,aE.justifyContent,aR,az);aU[aT]=aB;aQ[az]=aI.size;aQ[aD]=aI.lineSize;aG=new y(aU,aQ);for(var aP=0;aP<aI.bboxes.length;aP++){aC=aI.elements[aP];ay=aI.bboxes[aP];aV[aR]=aM;aV[aT]=ar(ay.size[aD],aG,aE.alignItems,aT,aD);S(aV,ay,aC);aM+=ay.size[az]+aE.spacing}aB+=aI.lineSize+aE.lineSpacing}if(!aE.wrap&&aI.size>aA.size[az]){var aW=aA.size[az]/aG.size[az];var aH=aG.topLeft().scale(aW,aW);var aO=aG.size[aD]*aW;var g=ar(aO,aA,aE.alignContent,aT,aD);var aN=H.transform();if(aR==="x"){aN.translate(aA.origin.x-aH.x,g-aH.y)}else{aN.translate(g-aH.x,aA.origin.y-aH.y)}aN.scale(aW,aW);this.transform(aN)}},_initGroups:function(){var aH=this.options;var ay=this.children;var aB=aH.lineSpacing;var aC=this._fieldMap.sizeField;var aF=-aB;var az=[];var aE=this._newGroup();var g=function(){az.push(aE);aF+=aE.lineSize+aB};var aG,aA;for(var aD=0;aD<ay.length;aD++){aA=ay[aD];aG=ay[aD].clippedBBox();if(aA.visible()&&aG){if(aH.wrap&&aE.size+aG.size[aC]+aH.spacing>this._rect.size[aC]){if(aE.bboxes.length===0){this._addToGroup(aE,aG,aA);g();aE=this._newGroup()}else{g();aE=this._newGroup();this._addToGroup(aE,aG,aA)}}else{this._addToGroup(aE,aG,aA)}}}if(aE.bboxes.length){g()}return{groups:az,groupsSize:aF}},_addToGroup:function(ay,az,g){ay.size+=az.size[this._fieldMap.sizeField]+this.options.spacing;ay.lineSize=Math.max(az.size[this._fieldMap.groupsSizeField],ay.lineSize);ay.bboxes.push(az);ay.elements.push(g)},_newGroup:function(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}}});function ab(aD,g,aB){var ay;for(var aA=0;aA<aD.length;aA++){var az=aD[aA];if(az.visible()){var aC=g?az.bbox(aB):az.rawBBox();if(aC){if(ay){ay=y.union(ay,aC)}else{ay=aC}}}}return ay}function A(aC,aA){var g;for(var az=0;az<aC.length;az++){var ay=aC[az];if(ay.visible()){var aB=ay.clippedBBox(aA);if(aB){if(g){g=y.union(g,aB)}else{g=aB}}}}return g}function r(g,ay){g.origin.x-=ay;g.origin.y-=ay;g.size.width+=ay*2;g.size.height+=ay*2}function al(ay,az){for(var g=0;g<az.length;g++){ay[az[g]]=U(az[g])}}function U(g){var ay="_"+g;return function(az){if(i(az)){this._observerField(ay,az);this.geometryChange();return this}else{return this[ay]}}}function O(ay,az){for(var g=0;g<az.length;g++){ay[az[g]]=ac(az[g])}}function ac(g){var ay="_"+g;return function(az){if(i(az)){this._observerField(ay,f.create(az));this.geometryChange();return this}else{return this[ay]}}}function am(ay,az){for(var g=0;g<az.length;g++){ay[az[g]]=Y(az[g])}}function Y(g){return function(ay){if(i(ay)){this.options.set(g,ay);return this}else{return this.options.get(g)}}}function b(){return"kdef"+u++}function av(ay,g,az){z(ay,g,az,"x","width")}function E(ay,g,az){z(ay,g,az,"y","height")}function W(g){aw(X(g),"x","y","width")}function m(g){aw(X(g),"y","x","height")}function s(ay,g){return q(ay,g,"x","y","width")}function k(ay,g){return q(ay,g,"y","x","height")}function q(g,aE,az,aB,aC){var aI=[];var ay=w(g,aE,aC);var aG=aE.origin.clone();var aH;var aA;var aD;var aF;for(aF=0;aF<ay.length;aF++){aD=ay[aF];aH=aD[0];aG[aB]=aH.bbox.origin[aB];S(aG,aH.bbox,aH.element);aH.bbox.origin[az]=aG[az];aw(aD,az,aB,aC);aI.push([]);for(aA=0;aA<aD.length;aA++){aI[aF].push(aD[aA].element)}}return aI}function o(az,aB){var aD=az.clippedBBox();var g=aD.size;var aA=aB.size;if(aA.width<g.width||aA.height<g.height){var aC=F.min(aA.width/g.width,aA.height/g.height);var ay=az.transform()||H.transform();ay.scale(aC,aC);az.transform(ay)}}function w(g,aB,aA){var aE=aB.size[aA];var aF=0;var ay=[];var aC=[];var az;var aI;var aG;var aH=function(){aC.push({element:az,bbox:aG})};for(var aD=0;aD<g.length;aD++){az=g[aD];aG=az.clippedBBox();if(aG){aI=aG.size[aA];if(aF+aI>aE){if(aC.length){ay.push(aC);aC=[];aH();aF=aI}else{aH();ay.push(aC);aC=[];aF=0}}else{aH();aF+=aI}}}if(aC.length){ay.push(aC)}return ay}function X(az){var aA=[];var ay;var aB;for(var g=0;g<az.length;g++){ay=az[g];aB=ay.clippedBBox();if(aB){aA.push({element:ay,bbox:aB})}}return aA}function aw(g,ay,az,aC){if(g.length>1){var aB=g[0].bbox;var aE=new f();var aA;var aF;for(var aD=1;aD<g.length;aD++){aA=g[aD].element;aF=g[aD].bbox;aE[ay]=aB.origin[ay]+aB.size[aC];aE[az]=aF.origin[az];S(aE,aF,aA);aF.origin[ay]=aE[ay];aB=aF}}}function z(g,aC,aA,az,aB){var aF,ay,aE;aA=aA||"start";for(var aD=0;aD<g.length;aD++){aF=g[aD].clippedBBox();if(aF){aE=aF.origin.clone();aE[az]=ar(aF.size[aB],aC,aA,az,aB);S(aE,aF,g[aD])}}}function ar(g,az,aC,ay,aB){var aA;if(aC==Z){aA=az.origin[ay]}else{if(aC==aj){aA=az.origin[ay]+az.size[aB]-g}else{aA=az.origin[ay]+(az.size[aB]-g)/2}}return aA}function p(g,aB,aA){var ay=aA.transform()||H.transform();var az=ay.matrix();az.e+=g;az.f+=aB;aA.transform(ay)}function S(g,az,ay){p(g.x-az.origin.x,g.y-az.origin.y,ay)}ax(j,{align:av,Arc:at,Circle:M,Element:T,ElementsArray:N,fit:o,Gradient:n,GradientStop:B,Group:K,Image:ae,Layout:R,LinearGradient:c,MultiPath:C,Path:V,RadialGradient:l,Segment:ad,stack:W,Text:au,vAlign:E,vStack:m,vWrap:k,wrap:s})})(window.kendo.jQuery);(function(d){var o=window.kendo,u=o.drawing,e=o.geometry,q=o.Class,t=e.Point,m=o.deepExtend,p=d.trim,a=o.util,n=a.deg,j=a.last,s=a.round;var r=/([a-z]{1})([^a-z]*)(z)?/gi,f=/[,\s]?(-?(?:\d+\.)?\d+)/g,v="m",b="z";var c=q.extend({parse:function(z,x){var B=this;var y=new u.MultiPath(x);var w=new t();var A;z.replace(r,function(C,D,H,I){var G=D.toLowerCase();var E=G===D;var F=i(p(H));if(G===v){if(E){w.x+=F[0];w.y+=F[1]}else{w.x=F[0];w.y=F[1]}y.moveTo(w.x,w.y);if(F.length>2){G="l";F.splice(0,2)}}if(l[G]){l[G](y,{parameters:F,position:w,isRelative:E,previousCommand:A});if(I&&I.toLowerCase()===b){y.close()}}else{if(G!==v){throw new Error("Error while parsing SVG path. Unsupported command: "+G)}}A=G});return y}});var l={l:function(B,y){var A=y.parameters;var x=y.position;for(var z=0;z<A.length;z+=2){var w=new t(A[z],A[z+1]);if(y.isRelative){w.translateWith(x)}B.lineTo(w.x,w.y);x.x=w.x;x.y=w.y}},c:function(D,y){var B=y.parameters;var x=y.position;var A,C,w;for(var z=0;z<B.length;z+=6){A=new t(B[z],B[z+1]);C=new t(B[z+2],B[z+3]);w=new t(B[z+4],B[z+5]);if(y.isRelative){C.translateWith(x);A.translateWith(x);w.translateWith(x)}D.curveTo(A,C,w);x.x=w.x;x.y=w.y}},v:function(y,w){var x=w.isRelative?0:w.position.x;h(w.parameters,true,x);this.l(y,w)},h:function(y,w){var x=w.isRelative?0:w.position.y;h(w.parameters,false,x);this.l(y,w)},a:function(E,F){var D=F.parameters;var B=F.position;for(var A=0;A<D.length;A+=7){var x=D[A];var w=D[A+1];var y=D[A+3];var z=D[A+4];var C=new t(D[A+5],D[A+6]);if(F.isRelative){C.translateWith(B)}E.arcTo(C,x,w,y,z);B.x=C.x;B.y=C.y}},s:function(E,F){var D=F.parameters;var x=F.position;var y=F.previousCommand;var A,B,z,C;if(y=="s"||y=="c"){C=j(j(E.paths).segments).controlIn()}for(var w=0;w<D.length;w+=4){z=new t(D[w],D[w+1]);B=new t(D[w+2],D[w+3]);if(F.isRelative){z.translateWith(x);B.translateWith(x)}if(C){A=k(C,x)}else{A=x.clone()}C=z;E.curveTo(A,z,B);x.x=B.x;x.y=B.y}},q:function(D,z){var C=z.parameters;var x=z.position;var w,B,y;for(var A=0;A<C.length;A+=4){y=new t(C[A],C[A+1]);B=new t(C[A+2],C[A+3]);if(z.isRelative){y.translateWith(x);B.translateWith(x)}w=g(x,y,B);D.curveTo(w.controlOut,w.controlIn,B);x.x=B.x;x.y=B.y}},t:function(E,F){var D=F.parameters;var x=F.position;var y=F.previousCommand;var A,z,C;if(y=="q"||y=="t"){var B=j(j(E.paths).segments);z=B.controlIn().clone().translateWith(x.scaleCopy(-1/3)).scale(3/2)}for(var w=0;w<D.length;w+=2){C=new t(D[w],D[w+1]);if(F.isRelative){C.translateWith(x)}if(z){z=k(z,x)}else{z=x.clone()}A=g(x,z,C);E.curveTo(A.controlOut,A.controlIn,C);x.x=C.x;x.y=C.y}}};function i(x){var w=[];x.replace(f,function(y,z){w.push(parseFloat(z))});return w}function h(x,A,z){var y=A?0:1;for(var w=0;w<x.length;w+=2){x.splice(w+y,0,z)}}function k(x,w){if(x&&w){return w.scaleCopy(2).translate(-x.x,-x.y)}}function g(w,x,z){var y=1/3;x=x.clone().scale(2/3);return{controlOut:x.clone().translateWith(w.scaleCopy(y)),controlIn:x.translateWith(z.scaleCopy(y))}}c.current=new c();u.Path.parse=function(x,w){return c.current.parse(x,w)};m(u,{PathParser:c})})(window.kendo.jQuery);(function(z){var i=document,D=window.kendo,K=D.deepExtend,W=D.geometry,Z=D.drawing,y=Z.BaseNode,j=D.util,P=j.defined,o=j.isTransparent,H=j.renderAttr,C=j.renderAllAttr,w=j.renderSize,c=j.renderTemplate,V=z.inArray;var aa="butt",L=Z.DASH_ARRAYS,l="gradient",J="none",G=".kendo",p="solid",b=" ",x="square",h="http://www.w3.org/2000/svg",X="transform",B="undefined";var E=Z.Surface.extend({init:function(g,d){Z.Surface.fn.init.call(this,g,d);this._root=new I(this.options);e(this.element[0],this._template(this));this._rootElement=this.element[0].firstElementChild;Q(this._rootElement);this._root.attachTo(this._rootElement);this.element.on("click"+G,this._click);this.element.on("mouseover"+G,this._mouseenter);this.element.on("mouseout"+G,this._mouseleave);this.resize()},type:"svg",destroy:function(){if(this._root){this._root.destroy();this._root=null;this._rootElement=null;this.element.off(G)}Z.Surface.fn.destroy.call(this)},translate:function(g){var d=D.format("{0} {1} {2} {3}",Math.round(g.x),Math.round(g.y),this._size.width,this._size.height);this._offset=g;this._rootElement.setAttribute("viewBox",d)},draw:function(d){Z.Surface.fn.draw.call(this,d);this._root.load([d])},clear:function(){Z.Surface.fn.clear.call(this);this._root.clear()},svg:function(){return"<?xml version='1.0' ?>"+this._template(this)},exportVisual:function(){var g=this._visual;var ac=this._offset;if(ac){var d=new Z.Group();d.children.push(g);d.transform(W.transform().translate(-ac.x,-ac.y));g=d}return g},_resize:function(){if(this._offset){this.translate(this._offset)}},_template:c("<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='"+h+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>#= d._root.render() #</svg>")});var t=y.extend({init:function(d){y.fn.init.call(this,d);this.definitions={}},destroy:function(){if(this.element){this.element._kendoNode=null;this.element=null}this.clearDefinitions();y.fn.destroy.call(this)},load:function(ag,ah){var af=this,ae=af.element,ad,d,ac,g;for(g=0;g<ag.length;g++){d=ag[g];ac=d.children;ad=new T[d.nodeType](d);if(P(ah)){af.insertAt(ad,ah)}else{af.append(ad)}ad.createDefinitions();if(ac&&ac.length>0){ad.load(ac)}if(ae){ad.attachTo(ae,ah)}}},root:function(){var d=this;while(d.parent){d=d.parent}return d},attachTo:function(ac,ad){var d=i.createElement("div");e(d,"<svg xmlns='"+h+"' version='1.1'>"+this.render()+"</svg>");var g=d.firstChild.firstChild;if(g){if(P(ad)){ac.insertBefore(g,ac.childNodes[ad]||null)}else{ac.appendChild(g)}this.setElement(g)}},setElement:function(ad){var d=this.childNodes,g,ac;if(this.element){this.element._kendoNode=null}this.element=ad;this.element._kendoNode=this;for(ac=0;ac<d.length;ac++){g=ad.childNodes[ac];d[ac].setElement(g)}},clear:function(){this.clearDefinitions();if(this.element){this.element.innerHTML=""}var g=this.childNodes;for(var d=0;d<g.length;d++){g[d].destroy()}this.childNodes=[]},removeSelf:function(){if(this.element){var d=this.element.parentNode;if(d){d.removeChild(this.element)}this.element=null}y.fn.removeSelf.call(this)},template:c("#= d.renderChildren() #"),render:function(){return this.template(this)},renderChildren:function(){var g=this.childNodes,d="",ac;for(ac=0;ac<g.length;ac++){d+=g[ac].render()}return d},optionsChange:function(ac){var g=ac.field;var d=ac.value;if(g==="visible"){this.css("display",d?"":J)}else{if(a[g]&&k(g,d)){this.updateDefinition(g,d)}else{if(g==="opacity"){this.attr("opacity",d)}}}y.fn.optionsChange.call(this,ac)},attr:function(d,g){if(this.element){this.element.setAttribute(d,g)}},allAttr:function(d){for(var g=0;g<d.length;g++){this.attr(d[g][0],d[g][1])}},css:function(d,g){if(this.element){this.element.style[d]=g}},allCss:function(g){for(var d=0;d<g.length;d++){this.css(g[d][0],g[d][1])}},removeAttr:function(d){if(this.element){this.element.removeAttribute(d)}},mapTransform:function(g){var d=[];if(g){d.push([X,"matrix("+g.matrix().toString(6)+")"])}return d},renderTransform:function(){return C(this.mapTransform(this.srcElement.transform()))},transformChange:function(d){if(d){this.allAttr(this.mapTransform(d))}else{this.removeAttr(X)}},mapStyle:function(){var d=this.srcElement.options;var g=[["cursor",d.cursor]];if(d.visible===false){g.push(["display",J])}return g},renderStyle:function(){return H("style",j.renderStyle(this.mapStyle()))},renderOpacity:function(){return H("opacity",this.srcElement.options.opacity)},createDefinitions:function(){var d=this.srcElement;var ad=this.definitions;var ac,af,g,ae;if(d){g=d.options;for(af in a){ac=g.get(af);if(ac&&k(af,ac)){ad[af]=ac;ae=true}}if(ae){this.definitionChange({action:"add",definitions:ad})}}},definitionChange:function(d){if(this.parent){this.parent.definitionChange(d)}},updateDefinition:function(ad,ae){var ac=this.definitions;var af=ac[ad];var d=a[ad];var g={};if(af){g[ad]=af;this.definitionChange({action:"remove",definitions:g});delete ac[ad]}if(!ae){if(af){this.removeAttr(d)}}else{g[ad]=ae;this.definitionChange({action:"add",definitions:g});ac[ad]=ae;this.attr(d,S(ae.id))}},clearDefinitions:function(){var d=this.definitions;var g;for(g in d){this.definitionChange({action:"remove",definitions:d});this.definitions={};break}},renderDefinitions:function(){return C(this.mapDefinitions())},mapDefinitions:function(){var g=this.definitions;var d=[];var ac;for(ac in g){d.push([a[ac],S(g[ac].id)])}return d}});var I=t.extend({init:function(d){t.fn.init.call(this);this.options=d;this.defs=new O()},attachTo:function(d){this.element=d;this.defs.attachTo(d.firstElementChild)},clear:function(){y.fn.clear.call(this)},template:c("#=d.defs.render()##= d.renderChildren() #"),definitionChange:function(d){this.defs.definitionChange(d)}});var O=t.extend({init:function(){t.fn.init.call(this);this.definitionMap={}},attachTo:function(d){this.element=d},template:c("<defs>#= d.renderChildren()#</defs>"),definitionChange:function(ac){var d=ac.definitions;var g=ac.action;if(g=="add"){this.addDefinitions(d)}else{if(g=="remove"){this.removeDefinitions(d)}}},createDefinition:function(g,ac){var d;if(g=="clip"){d=v}else{if(g=="fill"){if(ac instanceof Z.LinearGradient){d=Y}else{if(ac instanceof Z.RadialGradient){d=U}}}}return new d(ac)},addDefinitions:function(d){for(var g in d){this.addDefinition(g,d[g])}},addDefinition:function(ac,d){var ae=this.definitionMap;var ag=d.id;var g=this.element;var ad,af;af=ae[ag];if(!af){ad=this.createDefinition(ac,d);ae[ag]={element:ad,count:1};this.append(ad);if(g){ad.attachTo(this.element)}}else{af.count++}},removeDefinitions:function(d){for(var g in d){this.removeDefinition(d[g])}},removeDefinition:function(d){var g=this.definitionMap;var ad=d.id;var ac;ac=g[ad];if(ac){ac.count--;if(ac.count===0){this.remove(V(ac.element,this.childNodes),1);delete g[ad]}}}});var v=t.extend({init:function(d){t.fn.init.call(this);this.srcElement=d;this.id=d.id;this.load([d])},template:c("<clipPath id='#=d.id#'>#= d.renderChildren()#</clipPath>")});var F=t.extend({template:c("<g#= d.renderTransform() + d.renderStyle() + d.renderOpacity() + d.renderDefinitions()#>#= d.renderChildren() #</g>"),optionsChange:function(d){if(d.field==X){this.transformChange(d.value)}t.fn.optionsChange.call(this,d)}});var n=t.extend({geometryChange:function(){this.attr("d",this.renderData());this.invalidate()},optionsChange:function(g){switch(g.field){case"fill":if(g.value){this.allAttr(this.mapFill(g.value))}else{this.removeAttr("fill")}break;case"fill.color":this.allAttr(this.mapFill({color:g.value}));break;case"stroke":if(g.value){this.allAttr(this.mapStroke(g.value))}else{this.removeAttr("stroke")}break;case X:this.transformChange(g.value);break;default:var d=this.attributeMap[g.field];if(d){this.attr(d,g.value)}break}t.fn.optionsChange.call(this,g)},attributeMap:{"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},content:function(d){if(this.element){this.element.textContent=this.srcElement.content()}},renderData:function(){return this.printPath(this.srcElement)},printPath:function(ah){var ac=ah.segments,ae=ac.length;if(ae>0){var ag=[],d,af,g,ad;for(ad=1;ad<ae;ad++){af=this.segmentType(ac[ad-1],ac[ad]);if(af!==g){g=af;ag.push(af)}if(af==="L"){ag.push(this.printPoints(ac[ad].anchor()))}else{ag.push(this.printPoints(ac[ad-1].controlOut(),ac[ad].controlIn(),ac[ad].anchor()))}}d="M"+this.printPoints(ac[0].anchor())+b+ag.join(b);if(ah.options.closed){d+="Z"}return d}},printPoints:function(){var ac=arguments,ad=ac.length,g,d=[];for(g=0;g<ad;g++){d.push(ac[g].toString(3))}return d.join(b)},segmentType:function(d,g){return d.controlOut()&&g.controlIn()?"C":"L"},mapStroke:function(g){var d=[];if(g&&!o(g.color)){d.push(["stroke",g.color]);d.push(["stroke-width",g.width]);d.push(["stroke-linecap",this.renderLinecap(g)]);d.push(["stroke-linejoin",g.lineJoin]);if(P(g.opacity)){d.push(["stroke-opacity",g.opacity])}if(P(g.dashType)){d.push(["stroke-dasharray",this.renderDashType(g)])}}else{d.push(["stroke",J])}return d},renderStroke:function(){return C(this.mapStroke(this.srcElement.options.stroke))},renderDashType:function(af){var ae=af.width||1,g=af.dashType;if(g&&g!=p){var ac=L[g.toLowerCase()],d=[],ad;for(ad=0;ad<ac.length;ad++){d.push(ac[ad]*ae)}return d.join(" ")}},renderLinecap:function(g){var d=g.dashType,ac=g.lineCap;return(d&&d!=p)?aa:ac},mapFill:function(g){var d=[];if(!(g&&g.nodeType==l)){if(g&&!o(g.color)){d.push(["fill",g.color]);if(P(g.opacity)){d.push(["fill-opacity",g.opacity])}}else{d.push(["fill",J])}}return d},renderFill:function(){return C(this.mapFill(this.srcElement.options.fill))},template:c("<path #= d.renderStyle() # #= d.renderOpacity() # #= kendo.util.renderAttr('d', d.renderData()) # #= d.renderStroke() # #= d.renderFill() # #= d.renderDefinitions() # #= d.renderTransform() #></path>")});var q=n.extend({renderData:function(){return this.printPath(this.srcElement.toPath())}});var m=n.extend({renderData:function(){var ac=this.srcElement.paths;if(ac.length>0){var d=[],g;for(g=0;g<ac.length;g++){d.push(this.printPath(ac[g]))}return d.join(" ")}}});var r=n.extend({geometryChange:function(){var d=this.center();this.attr("cx",d.x);this.attr("cy",d.y);this.attr("r",this.radius());this.invalidate()},center:function(){return this.srcElement.geometry().center},radius:function(){return this.srcElement.geometry().radius},template:c("<circle #= d.renderStyle() # #= d.renderOpacity() # cx='#= d.center().x #' cy='#= d.center().y #' r='#= d.radius() #' #= d.renderStroke() # #= d.renderFill() # #= d.renderDefinitions() # #= d.renderTransform() # ></circle>")});var u=n.extend({geometryChange:function(){var d=this.pos();this.attr("x",d.x);this.attr("y",d.y);this.invalidate()},optionsChange:function(d){if(d.field==="font"){this.attr("style",j.renderStyle(this.mapStyle()));this.geometryChange()}else{if(d.field==="content"){n.fn.content.call(this,this.srcElement.content())}}n.fn.optionsChange.call(this,d)},mapStyle:function(){var g=n.fn.mapStyle.call(this);var d=this.srcElement.options.font;g.push(["font",D.htmlEncode(d)]);return g},pos:function(){var g=this.srcElement.position();var d=this.srcElement.measure();return g.clone().setY(g.y+d.baseline)},content:function(){var g=this.srcElement.content();var d=this.root().options;if(d&&d.encodeText){g=s(g);g=D.htmlEncode(g)}return g},template:c("<text #= d.renderStyle() # #= d.renderOpacity() # x='#= this.pos().x #' y='#= this.pos().y #' #= d.renderStroke() # #= d.renderTransform() # #= d.renderDefinitions() # #= d.renderFill() #>#= d.content() #</text>")});var R=n.extend({geometryChange:function(){this.allAttr(this.mapPosition());this.invalidate()},optionsChange:function(d){if(d.field==="src"){this.allAttr(this.mapSource())}n.fn.optionsChange.call(this,d)},mapPosition:function(){var g=this.srcElement.rect();var d=g.topLeft();return[["x",d.x],["y",d.y],["width",g.width()+"px"],["height",g.height()+"px"]]},renderPosition:function(){return C(this.mapPosition())},mapSource:function(){return[["xlink:href",this.srcElement.src()]]},renderSource:function(){return C(this.mapSource())},template:c("<image preserveAspectRatio='none' #= d.renderStyle() # #= d.renderTransform()# #= d.renderOpacity() # #= d.renderPosition() # #= d.renderSource() # #= d.renderDefinitions()#></image>")});var A=t.extend({template:c("<stop #=d.renderOffset()# #=d.renderStyle()# />"),renderOffset:function(){return H("offset",this.srcElement.offset())},mapStyle:function(){var d=this.srcElement;return[["stop-color",d.color()],["stop-opacity",d.opacity()]]},optionsChange:function(d){if(d.field=="offset"){this.attr(d.field,d.value)}else{if(d.field=="color"||d.field=="opacity"){this.css("stop-"+d.field,d.value)}}}});var N=t.extend({init:function(d){t.fn.init.call(this,d);this.id=d.id;this.loadStops()},loadStops:function(){var g=this.srcElement;var ae=g.stops;var ad=this.element;var ac;var d;for(d=0;d<ae.length;d++){ac=new A(ae[d]);this.append(ac);if(ad){ac.attachTo(ad)}}},optionsChange:function(d){if(d.field=="gradient.stops"){y.fn.clear.call(this);this.loadStops()}else{if(d.field==l){this.allAttr(this.mapCoordinates())}}},renderCoordinates:function(){return C(this.mapCoordinates())},mapSpace:function(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}});var Y=N.extend({template:c("<linearGradient id='#=d.id#' #=d.renderCoordinates()#>#= d.renderChildren()#</linearGradient>"),mapCoordinates:function(){var g=this.srcElement;var ad=g.start();var d=g.end();var ac=[["x1",ad.x],["y1",ad.y],["x2",d.x],["y2",d.y],this.mapSpace()];return ac}});var U=N.extend({template:c("<radialGradient id='#=d.id#' #=d.renderCoordinates()#>#= d.renderChildren()#</radialGradient>"),mapCoordinates:function(){var ac=this.srcElement;var g=ac.center();var d=ac.radius();var ad=[["cx",g.x],["cy",g.y],["r",d],this.mapSpace()];return ad}});var T={Group:F,Text:u,Path:n,MultiPath:m,Circle:r,Arc:q,Image:R};var e=function(d,g){d.innerHTML=g};(function(){var ac="<svg xmlns='"+h+"'></svg>",d=i.createElement("div"),g=typeof DOMParser!=B;d.innerHTML=ac;if(g&&d.firstChild.namespaceURI!=h){e=function(ad,af){var ah=new DOMParser(),ag=ah.parseFromString(af,"text/xml"),ae=i.adoptNode(ag.documentElement);ad.innerHTML="";ad.appendChild(ae)}}})();function Q(g){var d;try{d=g.getScreenCTM?g.getScreenCTM():null}catch(af){}if(d){var ae=-d.e%1,ad=-d.f%1,ac=g.style;if(ae!==0||ad!==0){ac.left=ae+"px";ac.top=ad+"px"}}}function f(){var ad=document.getElementsByTagName("base")[0],g="",d=document.location.href,ac=d.indexOf("#");if(ad&&!D.support.browser.msie){if(ac!==-1){d=d.substring(0,ac)}g=d}return g}function S(d){return"url("+f()+"#"+d+")"}function M(ae){var d=new I({encodeText:true});var af=ae.clippedBBox();if(af){var ac=af.getOrigin();var ad=new Z.Group();ad.transform(W.transform().translate(-ac.x,-ac.y));ad.children.push(ae);ae=ad}d.load([ae]);var g="<?xml version='1.0' ?><svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='"+h+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+d.render()+"</svg>";d.destroy();return g}function ab(ac,g){var d=M(ac);if(!g||!g.raw){d="data:image/svg+xml;base64,"+j.encodeBase64(d)}return z.Deferred().resolve(d).promise()}function k(d,g){return d=="clip"||(d=="fill"&&(!g||g.nodeType==l))}function s(g){if(!g||!g.indexOf||g.indexOf("&")<0){return g}else{var d=s._element;d.innerHTML=g;return d.textContent||d.innerText}}s._element=document.createElement("span");var a={clip:"clip-path",fill:"fill"};D.support.svg=(function(){return i.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")})();if(D.support.svg){Z.SurfaceFactory.current.register("svg",E,10)}K(Z,{exportSVG:ab,svg:{ArcNode:q,CircleNode:r,ClipNode:v,DefinitionNode:O,GradientStopNode:A,GroupNode:F,ImageNode:R,LinearGradientNode:Y,MultiPathNode:m,Node:t,PathNode:n,RadialGradientNode:U,RootNode:I,Surface:E,TextNode:u,_exportGroup:M}})})(window.kendo.jQuery);(function(h){var f=h.noop,G=document,v=window.kendo,q=v.deepExtend,c=v.util,e=c.defined,n=c.isTransparent,o=c.renderTemplate,r=c.valueOrDefault,B=v.geometry,C=v.drawing,b=C.BaseNode;var x="butt",k=C.DASH_ARRAYS,z=1000/60,l="none",m="solid";var A=C.Surface.extend({init:function(H,g){C.Surface.fn.init.call(this,H,g);this.element[0].innerHTML=this._template(this);var d=this.element[0].firstElementChild;d.width=h(H).width();d.height=h(H).height();this._rootElement=d;this._root=new E(d)},destroy:function(){C.Surface.fn.destroy.call(this);if(this._root){this._root.destroy();this._root=null}},type:"canvas",draw:function(d){C.Surface.fn.draw.call(this,d);this._root.load([d],undefined,this.options.cors)},clear:function(){C.Surface.fn.clear.call(this);this._root.clear()},image:function(){var g=this._root;var d=this._rootElement;var H=[];g.traverse(function(J){if(J.loading){H.push(J.loading)}});var I=h.Deferred();h.when.apply(h,H).done(function(){g._invalidate();try{var J=d.toDataURL();I.resolve(J)}catch(K){I.reject(K)}}).fail(function(J){I.reject(J)});return I.promise()},_resize:function(){this._rootElement.width=this._size.width;this._rootElement.height=this._size.height;this._root.invalidate()},_template:o("<canvas style='width: 100%; height: 100%;'></canvas>")});var F=b.extend({init:function(d){b.fn.init.call(this,d);if(d){this.initClip()}},initClip:function(){var d=this.srcElement.clip();if(d){this.clip=d;d.addObserver(this)}},clear:function(){if(this.srcElement){this.srcElement.removeObserver(this)}this.clearClip();b.fn.clear.call(this)},clearClip:function(){if(this.clip){this.clip.removeObserver(this);delete this.clip}},setClip:function(d){if(this.clip){d.beginPath();s.fn.renderPoints(d,this.clip);d.clip()}},optionsChange:function(d){if(d.field=="clip"){this.clearClip();this.initClip()}b.fn.optionsChange.call(this,d)},setTransform:function(d){if(this.srcElement){var g=this.srcElement.transform();if(g){d.transform.apply(d,g.matrix().toArray(6))}}},load:function(K,M,L){var J=this,I,d,H,g;for(g=0;g<K.length;g++){d=K[g];H=d.children;I=new a[d.nodeType](d,L);if(H&&H.length>0){I.load(H,M,L)}if(e(M)){J.insertAt(I,M)}else{J.append(I)}}J.invalidate()},setOpacity:function(d){if(this.srcElement){var g=this.srcElement.opacity();if(e(g)){this.globalAlpha(d,g)}}},globalAlpha:function(d,g){if(g&&d.globalAlpha){g*=d.globalAlpha}d.globalAlpha=g},visible:function(){var d=this.srcElement;return !d||(d&&d.options.visible!==false)}});var j=F.extend({renderTo:function(d){if(!this.visible()){return}d.save();this.setTransform(d);this.setClip(d);this.setOpacity(d);var H=this.childNodes;for(var g=0;g<H.length;g++){var I=H[g];if(I.visible()){I.renderTo(d)}}d.restore()}});C.mixins.Traversable.extend(j.fn,"childNodes");var E=j.extend({init:function(d){j.fn.init.call(this);this.canvas=d;this.ctx=d.getContext("2d");this.invalidate=v.throttle(h.proxy(this._invalidate,this),z)},destroy:function(){j.fn.destroy.call(this);this.canvas=null;this.ctx=null},_invalidate:function(){if(!this.ctx){return}this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);this.renderTo(this.ctx)}});C.mixins.Traversable.extend(E.fn,"childNodes");var s=F.extend({renderTo:function(d){d.save();this.setTransform(d);this.setClip(d);this.setOpacity(d);d.beginPath();this.renderPoints(d,this.srcElement);this.setLineDash(d);this.setLineCap(d);this.setLineJoin(d);this.setFill(d);this.setStroke(d);d.restore()},setFill:function(d){var H=this.srcElement.options.fill;var g=false;if(H){if(H.nodeType=="gradient"){this.setGradientFill(d,H);g=true}else{if(!n(H.color)){d.fillStyle=H.color;d.save();this.globalAlpha(d,H.opacity);d.fill();d.restore();g=true}}}return g},setGradientFill:function(H,J){var K=this.srcElement.rawBBox();var I;if(J instanceof C.LinearGradient){var L=J.start();var g=J.end();I=H.createLinearGradient(L.x,L.y,g.x,g.y)}else{if(J instanceof C.RadialGradient){var d=J.center();I=H.createRadialGradient(d.x,d.y,0,d.x,d.y,J.radius())}}t(I,J.stops);H.save();if(!J.userSpace()){H.transform(K.width(),0,0,K.height(),K.origin.x,K.origin.y)}H.fillStyle=I;H.fill();H.restore()},setStroke:function(d){var g=this.srcElement.options.stroke;if(g&&!n(g.color)&&g.width>0){d.strokeStyle=g.color;d.lineWidth=r(g.width,1);d.save();this.globalAlpha(d,g.opacity);d.stroke();d.restore();return true}},dashType:function(){var d=this.srcElement.options.stroke;if(d&&d.dashType){return d.dashType.toLowerCase()}},setLineDash:function(g){var d=this.dashType();if(d&&d!=m){var H=k[d];if(g.setLineDash){g.setLineDash(H)}else{g.mozDash=H;g.webkitLineDash=H}}},setLineCap:function(g){var d=this.dashType();var H=this.srcElement.options.stroke;if(d&&d!==m){g.lineCap=x}else{if(H&&H.lineCap){g.lineCap=H.lineCap}}},setLineJoin:function(d){var g=this.srcElement.options.stroke;if(g&&g.lineJoin){d.lineJoin=g.lineJoin}},renderPoints:function(M,N){var I=N.segments;if(I.length===0){return}var d=I[0];var H=d.anchor();M.moveTo(H.x,H.y);for(var g=1;g<I.length;g++){d=I[g];H=d.anchor();var L=I[g-1];var K=L.controlOut();var J=d.controlIn();if(K&&J){M.bezierCurveTo(K.x,K.y,J.x,J.y,H.x,H.y)}else{M.lineTo(H.x,H.y)}}if(N.options.closed){M.closePath()}}});var p=s.extend({renderPoints:function(d){var H=this.srcElement.paths;for(var g=0;g<H.length;g++){s.fn.renderPoints(d,H[g])}}});var D=s.extend({renderPoints:function(d){var H=this.srcElement.geometry();var I=H.center;var g=H.radius;d.arc(I.x,I.y,g,0,Math.PI*2)}});var i=s.extend({renderPoints:function(d){var g=this.srcElement.toPath();s.fn.renderPoints.call(this,d,g)}});var y=s.extend({renderTo:function(d){var H=this.srcElement;var I=H.position();var g=H.measure();d.save();this.setTransform(d);this.setClip(d);this.setOpacity(d);d.beginPath();d.font=H.options.font;if(this.setFill(d)){d.fillText(H.content(),I.x,I.y+g.baseline)}if(this.setStroke(d)){this.setLineDash(d);d.strokeText(H.content(),I.x,I.y+g.baseline)}d.restore()}});var w=s.extend({init:function(d,I){s.fn.init.call(this,d);this.onLoad=h.proxy(this.onLoad,this);this.onError=h.proxy(this.onError,this);this.loading=h.Deferred();var g=this.img=new Image();if(I&&!(/^data:/i.test(d.src()))){g.crossOrigin=I}var H=g.src=d.src();if(g.complete){this.onLoad()}else{g.onload=this.onLoad;g.onerror=this.onError}},renderTo:function(d){if(this.loading.state()==="resolved"){d.save();this.setTransform(d);this.setClip(d);this.drawImage(d);d.restore()}},optionsChange:function(d){if(d.field==="src"){this.loading=h.Deferred();this.img.src=this.srcElement.src()}else{s.fn.optionsChange.call(this,d)}},onLoad:function(){this.loading.resolve();this.invalidate()},onError:function(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))},drawImage:function(d){var H=this.srcElement.rect();var g=H.topLeft();d.drawImage(this.img,g.x,g.y,H.width(),H.height())}});function u(K,O){var H={width:"800px",height:"600px",cors:"Anonymous"};var L=K.clippedBBox();if(L){var J=L.getOrigin();var I=new C.Group();I.transform(B.transform().translate(-J.x,-J.y));I.children.push(K);K=I;var N=L.getSize();H.width=N.width+"px";H.height=N.height+"px"}O=q(H,O);var d=h("<div />").css({display:"none",width:O.width,height:O.height}).appendTo(document.body);var g=new A(d,O);g.draw(K);var M=g.image();M.always(function(){g.destroy();d.remove()});return M}var a={Group:j,Text:y,Path:s,MultiPath:p,Circle:D,Arc:i,Image:w};function t(J,I){var g,H,d;for(d=0;d<I.length;d++){H=I[d];g=v.parseColor(H.color());g.a*=H.opacity();J.addColorStop(H.offset(),g.toCssRgba())}}v.support.canvas=(function(){return !!G.createElement("canvas").getContext})();if(v.support.canvas){C.SurfaceFactory.current.register("canvas",A,20)}q(v.drawing,{exportImage:u,canvas:{ArcNode:i,CircleNode:D,GroupNode:j,ImageNode:w,MultiPathNode:p,Node:F,PathNode:s,RootNode:E,Surface:A,TextNode:y}})})(window.kendo.jQuery);(function(P){var h=document,I=Math,z=I.atan2,F=I.ceil,Y=I.sqrt,R=window.kendo,Z=R.deepExtend,aj=P.noop,al=R.drawing,N=al.BaseNode,ak=R.geometry,B=ak.toMatrix,m=R.Color,i=R.util,t=i.isTransparent,ac=i.defined,s=i.deg,b=i.renderTemplate,ae=i.round,e=i.valueOrDefault;var X="none",V=".kendo",a=100,T=a*a,n="gradient",K=4;var S=al.Surface.extend({init:function(g,d){al.Surface.fn.init.call(this,g,d);C();this.element.empty();this._root=new W();this._root.attachTo(this.element[0]);this.element.on("click"+V,this._click);this.element.on("mouseover"+V,this._mouseenter);this.element.on("mouseout"+V,this._mouseleave)},type:"vml",destroy:function(){if(this._root){this._root.destroy();this._root=null;this.element.off(V)}al.Surface.fn.destroy.call(this)},draw:function(d){al.Surface.fn.draw.call(this,d);this._root.load([d],undefined,null)},clear:function(){al.Surface.fn.clear.call(this);this._root.clear()}});var D=N.extend({init:function(d){N.fn.init.call(this,d);this.createElement();this.attachReference()},observe:aj,destroy:function(){if(this.element){this.element._kendoNode=null;this.element=null}N.fn.destroy.call(this)},clear:function(){if(this.element){this.element.innerHTML=""}var g=this.childNodes;for(var d=0;d<g.length;d++){g[d].destroy()}this.childNodes=[]},removeSelf:function(){if(this.element){this.element.parentNode.removeChild(this.element);this.element=null}N.fn.removeSelf.call(this)},createElement:function(){this.element=h.createElement("div")},attachReference:function(){this.element._kendoNode=this},load:function(g,au,ao,aq){aq=e(aq,1);if(this.srcElement){aq*=e(this.srcElement.options.opacity,1)}for(var ap=0;ap<g.length;ap++){var at=g[ap];var an=at.children;var am=at.currentTransform(ao);var ar=aq*e(at.options.opacity,1);var d=new ah[at.nodeType](at,am,ar);if(an&&an.length>0){d.load(an,au,am,aq)}if(ac(au)){this.insertAt(d,au)}else{this.append(d)}d.attachTo(this.element,au)}},attachTo:function(d,g){if(ac(g)){d.insertBefore(this.element,d.children[g]||null)}else{d.appendChild(this.element)}},optionsChange:function(d){if(d.field=="visible"){this.css("display",d.value!==false?"":X)}},setStyle:function(){this.allCss(this.mapStyle())},mapStyle:function(){var d=[];if(this.srcElement&&this.srcElement.options.visible===false){d.push(["display",X])}return d},mapOpacityTo:function(g,am){var d=e(this.opacity,1);d*=e(am,1);g.push(["opacity",d])},attr:function(d,g){if(this.element){this.element[d]=g}},allAttr:function(d){for(var g=0;g<d.length;g++){this.attr(d[g][0],d[g][1])}},css:function(d,g){if(this.element){this.element.style[d]=g}},allCss:function(g){for(var d=0;d<g.length;d++){this.css(g[d][0],g[d][1])}}});var W=D.extend({createElement:function(){D.fn.createElement.call(this);this.allCss([["width","100%"],["height","100%"],["position","relative"],["visibility","visible"]])},attachReference:aj});var ag=R.Class.extend({init:function(d,g){this.srcElement=d;this.observer=g;d.addObserver(this)},geometryChange:function(){this.observer.optionsChange({field:"clip",value:this.srcElement})},clear:function(){this.srcElement.removeObserver(this)}});var af=D.extend({init:function(d){D.fn.init.call(this,d);if(d){this.initClip()}},observe:function(){N.fn.observe.call(this)},mapStyle:function(){var d=D.fn.mapStyle.call(this);if(this.srcElement&&this.srcElement.clip()){d.push(["clip",this.clipRect()])}return d},optionsChange:function(d){if(d.field=="clip"){this.clearClip();this.initClip();this.setClip()}D.fn.optionsChange.call(this,d)},clear:function(){this.clearClip();D.fn.clear.call(this)},initClip:function(){if(this.srcElement.clip()){this.clip=new ag(this.srcElement.clip(),this);this.clip.observer=this}},clearClip:function(){if(this.clip){this.clip.clear();this.clip=null;this.css("clip",this.clipRect())}},setClip:function(){if(this.clip){this.css("clip",this.clipRect())}},clipRect:function(){var g=H;var an=this.srcElement.clip();if(an){var ao=this.clipBBox(an);var am=ao.topLeft();var d=ao.bottomRight();g=R.format("rect({0}px {1}px {2}px {3}px)",am.y,d.x,d.y,am.x)}return g},clipBBox:function(am){var g=this.srcElement.rawBBox().topLeft();var d=am.rawBBox();d.origin.translate(-g.x,-g.y);return d}});var U=af.extend({createElement:function(){D.fn.createElement.call(this);this.setStyle()},attachTo:function(d,g){this.css("display",X);D.fn.attachTo.call(this,d,g);if(this.srcElement.options.visible!==false){this.css("display","")}},_attachTo:function(d){var g=document.createDocumentFragment();g.appendChild(this.element);d.appendChild(g)},mapStyle:function(){var d=af.fn.mapStyle.call(this);d.push(["position","absolute"]);d.push(["white-space","nowrap"]);return d},optionsChange:function(d){if(d.field==="transform"){this.refreshTransform()}if(d.field==="opacity"){this.refreshOpacity()}af.fn.optionsChange.call(this,d)},refreshTransform:function(d){var an=this.srcElement.currentTransform(d),am=this.childNodes,ao=am.length,g;this.setClip();for(g=0;g<ao;g++){am[g].refreshTransform(an)}},currentOpacity:function(){var d=e(this.srcElement.options.opacity,1);if(this.parent&&this.parent.currentOpacity){d*=this.parent.currentOpacity()}return d},refreshOpacity:function(){var am=this.childNodes,an=am.length,g;var d=this.currentOpacity();for(g=0;g<an;g++){am[g].refreshOpacity(d)}},initClip:function(){af.fn.initClip.call(this);if(this.clip){var d=this.clip.srcElement.bbox(this.srcElement.currentTransform());if(d){this.css("width",d.width()+d.origin.x);this.css("height",d.height()+d.origin.y)}}},clipBBox:function(d){return d.bbox(this.srcElement.currentTransform())},clearClip:function(){af.fn.clearClip.call(this)}});var ai=D.extend({init:function(d,g){this.opacity=g;D.fn.init.call(this,d)},createElement:function(){this.element=x("stroke");this.setOpacity()},optionsChange:function(d){if(d.field.indexOf("stroke")===0){this.setStroke()}},refreshOpacity:function(d){this.opacity=d;this.setStroke()},setStroke:function(){this.allAttr(this.mapStroke())},setOpacity:function(){this.setStroke()},mapStroke:function(){var g=this.srcElement.options.stroke;var d=[];if(g&&!t(g.color)&&g.width!==0){d.push(["on","true"]);d.push(["color",g.color]);d.push(["weight",(g.width||1)+"px"]);this.mapOpacityTo(d,g.opacity);if(ac(g.dashType)){d.push(["dashstyle",g.dashType])}if(ac(g.lineJoin)){d.push(["joinstyle",g.lineJoin])}if(ac(g.lineCap)){var am=g.lineCap.toLowerCase();if(am==="butt"){am=am==="butt"?"flat":am}d.push(["endcap",am])}}else{d.push(["on","false"])}return d}});var w=D.extend({init:function(d,am,g){this.opacity=g;D.fn.init.call(this,d)},createElement:function(){this.element=x("fill");this.setFill()},optionsChange:function(d){if(Q(d.field)){this.setFill()}},refreshOpacity:function(d){this.opacity=d;this.setOpacity()},setFill:function(){this.allAttr(this.mapFill())},setOpacity:function(){this.setFill()},attr:function(g,an){var am=this.element;if(am){var d=g.split(".");while(d.length>1){am=am[d.shift()]}am[d[0]]=an}},mapFill:function(){var g=this.srcElement.fill();var d=[["on","false"]];if(g){if(g.nodeType==n){d=this.mapGradient(g)}else{if(!t(g.color)){d=this.mapFillColor(g)}}}return d},mapFillColor:function(g){var d=[["on","true"],["color",g.color]];this.mapOpacityTo(d,g.opacity);return d},mapGradient:function(an){var g=this.srcElement.options;var am=g.fallbackFill||(an.fallbackFill&&an.fallbackFill());var d;if(an instanceof al.LinearGradient){d=this.mapLinearGradient(an)}else{if(an instanceof al.RadialGradient&&an.supportVML){d=this.mapRadialGradient(an)}else{if(am){d=this.mapFillColor(am)}else{d=[["on","false"]]}}}return d},mapLinearGradient:function(an){var ap=an.start();var d=an.end();var am=an.stops;var ao=i.deg(z(d.y-ap.y,d.x-ap.x));var g=[["on","true"],["type",n],["focus",0],["method","none"],["angle",270-ao]];this.addColors(g);return g},mapRadialGradient:function(ao){var aq=this.srcElement.rawBBox();var d=ao.center();var am=ao.stops;var ap=(d.x-aq.origin.x)/aq.width();var an=(d.y-aq.origin.y)/aq.height();var g=[["on","true"],["type","gradienttitle"],["focus","100%"],["focusposition",ap+" "+an],["method","none"]];this.addColors(g);return g},addColors:function(at){var av=this.srcElement.options;var ao=e(this.opacity,1);var am=[];var au=av.fill.stops;var an=av.baseColor;var d=this.element.colors?"colors.value":"colors";var g=A(an,au[0],ao);var ar=A(an,au[au.length-1],ao);var ap;for(var aq=0;aq<au.length;aq++){ap=au[aq];am.push(I.round(ap.offset()*100)+"% "+A(an,ap,ao))}at.push([d,am.join(",")],["color",g],["color2",ar])}});var l=D.extend({init:function(d,g){this.transform=g;D.fn.init.call(this,d)},createElement:function(){this.element=x("skew");this.setTransform()},optionsChange:function(d){if(d.field==="transform"){this.refresh(this.srcElement.currentTransform())}},refresh:function(d){this.transform=d;this.setTransform()},transformOrigin:function(){return"-0.5,-0.5"},setTransform:function(){this.allAttr(this.mapTransform())},mapTransform:function(){var ap=this.transform;var ao=[],am,g,ar,aq,an=B(ap);if(an){an.round(K);ao.push(["on","true"],["matrix",[an.a,an.c,an.b,an.d,0,0].join(",")],["offset",an.e+"px,"+an.f+"px"],["origin",this.transformOrigin()])}else{ao.push(["on","false"])}return ao}});var v=af.extend({init:function(d,am,g){this.fill=this.createFillNode(d,am,g);this.stroke=new ai(d,g);this.transform=this.createTransformNode(d,am);af.fn.init.call(this,d)},attachTo:function(d,g){this.fill.attachTo(this.element);this.stroke.attachTo(this.element);this.transform.attachTo(this.element);D.fn.attachTo.call(this,d,g)},createFillNode:function(d,am,g){return new w(d,am,g)},createTransformNode:function(d,g){return new l(d,g)},createElement:function(){this.element=x("shape");this.setCoordsize();this.setStyle()},optionsChange:function(d){if(Q(d.field)){this.fill.optionsChange(d)}else{if(d.field.indexOf("stroke")===0){this.stroke.optionsChange(d)}else{if(d.field==="transform"){this.transform.optionsChange(d)}else{if(d.field==="opacity"){this.fill.setOpacity();this.stroke.setOpacity()}}}}af.fn.optionsChange.call(this,d)},refreshTransform:function(d){this.transform.refresh(this.srcElement.currentTransform(d))},refreshOpacity:function(d){d*=e(this.srcElement.options.opacity,1);this.fill.refreshOpacity(d);this.stroke.refreshOpacity(d)},mapStyle:function(g,d){var am=af.fn.mapStyle.call(this);if(!g||!d){g=d=a}am.push(["position","absolute"],["width",g+"px"],["height",d+"px"]);var an=this.srcElement.options.cursor;if(an){am.push(["cursor",an])}return am},setCoordsize:function(){this.allAttr([["coordorigin","0 0"],["coordsize",T+" "+T]])}});var j=D.extend({createElement:function(){this.element=x("path");this.setPathData()},geometryChange:function(){this.setPathData()},setPathData:function(){this.attr("v",this.renderData())},renderData:function(){return L(this.srcElement)}});var r=v.extend({init:function(d,am,g){this.pathData=this.createDataNode(d);v.fn.init.call(this,d,am,g)},attachTo:function(d,g){this.pathData.attachTo(this.element);v.fn.attachTo.call(this,d,g)},createDataNode:function(d){return new j(d)},geometryChange:function(){this.pathData.geometryChange();v.fn.geometryChange.call(this)}});var O=j.extend({renderData:function(){var an=this.srcElement.paths;if(an.length>0){var d=[],am,g;for(am=0;am<an.length;am++){g=am<an.length-1;d.push(L(an[am],g))}return d.join(" ")}}});var o=r.extend({createDataNode:function(d){return new O(d)}});var M=l.extend({transformOrigin:function(){var an=this.srcElement.geometry().bbox(),d=an.center(),am=-F(d.x)/F(an.width()),g=-F(d.y)/F(an.height());return am+","+g}});var u=v.extend({createElement:function(){this.element=x("oval");this.setStyle()},createTransformNode:function(d,g){return new M(d,g)},geometryChange:function(){v.fn.geometryChange.call(this);this.setStyle();this.refreshTransform()},mapStyle:function(){var ao=this.srcElement.geometry();var g=ao.radius;var d=ao.center;var am=F(g*2);var an=v.fn.mapStyle.call(this,am,am);an.push(["left",F(d.x-g)+"px"],["top",F(d.y-g)+"px"]);return an}});var J=j.extend({renderData:function(){return L(this.srcElement.toPath())}});var q=r.extend({createDataNode:function(d){return new J(d)}});var G=j.extend({createElement:function(){j.fn.createElement.call(this);this.attr("textpathok",true)},renderData:function(){var g=this.srcElement.rect();var d=g.center();return"m "+y([new ak.Point(g.topLeft().x,d.y)])+" l "+y([new ak.Point(g.bottomRight().x,d.y)])}});var f=D.extend({createElement:function(){this.element=x("textpath");this.attr("on",true);this.attr("fitpath",false);this.setStyle();this.setString()},optionsChange:function(d){if(d.field==="content"){this.setString()}else{this.setStyle()}D.fn.optionsChange.call(this,d)},mapStyle:function(){return[["font",this.srcElement.options.font]]},setString:function(){this.attr("string",this.srcElement.content())}});var E=r.extend({init:function(d,am,g){this.path=new f(d);r.fn.init.call(this,d,am,g)},createDataNode:function(d){return new G(d)},attachTo:function(d,g){this.path.attachTo(this.element);r.fn.attachTo.call(this,d,g)},optionsChange:function(d){if(d.field==="font"||d.field==="content"){this.path.optionsChange(d);this.pathData.geometryChange(d)}r.fn.optionsChange.call(this,d)}});var ab=j.extend({renderData:function(){var d=this.srcElement.rect();var g=new al.Path().moveTo(d.topLeft()).lineTo(d.topRight()).lineTo(d.bottomRight()).lineTo(d.bottomLeft()).close();return L(g)}});var c=l.extend({init:function(d,am,g){this.opacity=g;l.fn.init.call(this,d,am)},createElement:function(){this.element=x("fill");this.attr("type","frame");this.attr("rotate",true);this.setOpacity();this.setSrc();this.setTransform()},optionsChange:function(d){if(d.field==="src"){this.setSrc()}l.fn.optionsChange.call(this,d)},geometryChange:function(){this.refresh()},refreshOpacity:function(d){this.opacity=d;this.setOpacity()},setOpacity:function(){var d=[];this.mapOpacityTo(d,this.srcElement.options.opacity);this.allAttr(d)},setSrc:function(){this.attr("src",this.srcElement.src())},mapTransform:function(){var aq=this.srcElement;var an=aq.rawBBox();var at=an.center();var ar=a/2;var au=a;var aA;var aw;var am=an.width()/au;var aB=an.height()/au;var ap=0;var ao=this.transform;if(ao){var az=B(ao);var ax=Y(az.a*az.a+az.b*az.b);var av=Y(az.c*az.c+az.d*az.d);am*=ax;aB*=av;var g=s(z(az.b,az.d));var aC=s(z(-az.c,az.a));ap=(g+aC)/2;if(ap!==0){var d=aq.bbox().center();aA=(d.x-ar)/au;aw=(d.y-ar)/au}else{aA=(at.x*ax+az.e-ar)/au;aw=(at.y*av+az.f-ar)/au}}else{aA=(at.x-ar)/au;aw=(at.y-ar)/au}am=ae(am,K);aB=ae(aB,K);aA=ae(aA,K);aw=ae(aw,K);ap=ae(ap,K);return[["size",am+","+aB],["position",aA+","+aw],["angle",ap]]}});var ad=r.extend({createFillNode:function(d,am,g){return new c(d,am,g)},createDataNode:function(d){return new ab(d)},optionsChange:function(d){if(d.field==="src"||d.field==="transform"){this.fill.optionsChange(d)}r.fn.optionsChange.call(this,d)},geometryChange:function(){this.fill.geometryChange();r.fn.geometryChange.call(this)},refreshTransform:function(d){r.fn.refreshTransform.call(this,d);this.fill.refresh(this.srcElement.currentTransform(d))}});var ah={Group:U,Text:E,Path:r,MultiPath:o,Circle:u,Arc:q,Image:ad};function C(){if(h.namespaces&&!h.namespaces.kvml){h.namespaces.add("kvml","urn:schemas-microsoft-com:vml");var d=h.styleSheets.length>30?h.styleSheets[0]:h.createStyleSheet();d.addRule(".kvml","behavior:url(#default#VML)")}}function x(g){var d=h.createElement("kvml:"+g);d.className="kvml";return d}function y(am){var an=am.length;var d=[];for(var g=0;g<an;g++){d.push(am[g].scaleCopy(a).toString(0,","))}return d.join(" ")}function L(at,ao){var ap=at.segments,d=ap.length;if(d>0){var am=[],g,ar,aq,an;for(an=1;an<d;an++){ar=aa(ap[an-1],ap[an]);if(ar!==aq){aq=ar;am.push(ar)}if(ar==="l"){am.push(y([ap[an].anchor()]))}else{am.push(y([ap[an-1].controlOut(),ap[an].controlIn(),ap[an].anchor()]))}}g="m "+y([ap[0].anchor()])+" "+am.join(" ");if(at.options.closed){g+=" x"}if(ao!==true){g+=" e"}return g}}function aa(d,g){return d.controlOut()&&g.controlIn()?"c":"l"}function Q(d){return d.indexOf("fill")===0||d.indexOf(n)===0}function A(ao,an,am){var g=am*e(an.opacity(),1);var d;if(ao){d=p(ao,an.color(),g)}else{d=p(an.color(),"#fff",1-g)}return d}function p(ap,am,aq){var at=new m(ap),ar=new m(am),ao=k(at.r,ar.r,aq),an=k(at.g,ar.g,aq),d=k(at.b,ar.b,aq);return new m(ao,an,d).toHex()}function k(g,d,am){return I.round(am*d+(1-am)*g)}R.support.vml=(function(){var d=R.support.browser;return d.msie&&d.version<9})();var H="inherit";if(R.support.browser.msie&&R.support.browser.version<8){H="rect(auto auto auto auto)"}if(R.support.vml){al.SurfaceFactory.current.register("vml",S,30)}Z(al,{vml:{ArcDataNode:J,ArcNode:q,CircleTransformNode:M,CircleNode:u,FillNode:w,GroupNode:U,ImageNode:ad,ImageFillNode:c,ImagePathDataNode:ab,MultiPathDataNode:O,MultiPathNode:o,Node:D,PathDataNode:j,PathNode:r,RootNode:W,StrokeNode:ai,Surface:S,TextNode:E,TextPathNode:f,TextPathDataNode:G,TransformNode:l}})})(window.kendo.jQuery);(function(S,x,F){var r=kendo.drawing;var ao=kendo.geometry;var u=Array.prototype.slice;var g=kendo.support.browser;var d="KENDO-PSEUDO-ELEMENT";var X={};var T={};T._root=T;var G=r.Text.extend({nodeType:"Text",init:function(ar,aq,ap){r.Text.fn.init.call(this,ar,aq.getOrigin(),ap);this._pdfRect=aq},rect:function(){return this._pdfRect},rawBBox:function(){return this._pdfRect}});function al(ar,aq){if(!aq){aq={}}var av=S.Deferred();ar=S(ar)[0];if(!ar){return av.reject("No element to export")}if(typeof window.getComputedStyle!="function"){throw new Error("window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.")}if(kendo.pdf){kendo.pdf.defineFont(z(ar.ownerDocument))}function ap(aw){var ax=new r.Group();var ay=aw.getBoundingClientRect();e(ax,[1,0,0,1,-ay.left,-ay.top]);T._clipbox=false;T._matrix=ao.Matrix.unit();T._stackingContext={element:aw,group:ax};S(aw).addClass("k-pdf-export");s(aw,ax);S(aw).removeClass("k-pdf-export");return ax}L(ar,function(){var ax=aq&&aq.forcePageBreak;var aA=aq&&aq.paperSize&&aq.paperSize!="auto";var az=aA&&kendo.pdf.getPaperOptions(function(aD,aE){return aD in aq?aq[aD]:aE});var aw=aA&&az.paperSize[0];var ay=aA&&az.paperSize[1];var aB=aq.margin&&az.margin;if(ax||ay){if(!aB){aB={left:0,top:0,right:0,bottom:0}}var aC=new r.Group({pdf:{multiPage:true,paperSize:aA?az.paperSize:"auto"}});au(function(aE){if(aq.progress){var aD=false,aG=0;(function aF(){if(aG<aE.pages.length){aC.append(ap(aE.pages[aG]));aq.progress({pageNum:++aG,totalPages:aE.pages.length,cancel:function(){aD=true}});if(!aD){setTimeout(aF)}else{aE.container.parentNode.removeChild(aE.container)}}else{aE.container.parentNode.removeChild(aE.container);av.resolve(aC)}})()}else{aE.pages.forEach(function(aH){aC.append(ap(aH))});aE.container.parentNode.removeChild(aE.container);av.resolve(aC)}},ar,ax,aw?aw-aB.left-aB.right:null,ay?ay-aB.top-aB.bottom:null,aB,aq)}else{av.resolve(ap(ar))}});function at(aw){if(aw!=null){if(typeof aw=="string"){aw=kendo.template(aw.replace(/^\s+|\s+$/g,""))}if(typeof aw=="function"){return function(ay){var ax=aw(ay);if(ax){return S(ax)[0]}}}return function(){return S(aw).clone()[0]}}}function au(aC,ay,aD,aM,aF,aJ,aA){var aN=at(aA.template);var aP=ay.ownerDocument;var aH=[];var aK=S(ay).clone(true,true)[0];var aI=aP.createElement("KENDO-PDF-DOCUMENT");var aL=0;S(aI).css({display:"block",position:"absolute",boxSizing:"content-box",left:"-10000px",top:"-10000px"});if(aM){S(aI).css({width:aM,paddingLeft:aJ.left,paddingRight:aJ.right});S(aK).css({overflow:"hidden"})}aI.appendChild(aK);ay.parentNode.insertBefore(aI,ay);if(aA.beforePageBreak){setTimeout(function(){aA.beforePageBreak(aI,az)},15)}else{setTimeout(az,15)}function az(){if(aD!="-"||aF){aO(aK)}var aS=ax();aK.parentNode.insertBefore(aS,aK);aS.appendChild(aK);if(aN){var aR=aH.length;aH.forEach(function(aV,aT){var aU=aN({element:aV,pageNum:aT+1,totalPages:aH.length});if(aU){aV.appendChild(aU);L(aU,function(){if(--aR===0){aQ()}})}})}else{aQ()}function aQ(){setTimeout(function(){aC({pages:aH,container:aI})},10)}}function aO(aW){var aQ=v(aW);var aY=x(ag(aQ,"padding-bottom"));var aS=x(ag(aQ,"border-bottom-width"));var aX=aL;aL+=aY+aS;var aV=true;for(var aT=aW.firstChild;aT;aT=aT.nextSibling){if(aT.nodeType==1){aV=false;var aR=S(aT);if(aR.is(aD)){aB(aT);continue}if(!aF){aO(aT);continue}if(!/^(?:static|relative)$/.test(ag(v(aT),"position"))){continue}var aU=aE(aT);if(aU==1){aB(aT)}else{if(aU){if(aR.data("kendoChart")||/^(?:img|tr|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(aT.tagName)){aB(aT)}else{aO(aT)}}else{aO(aT)}}}else{if(aT.nodeType==3&&aF){aG(aT,aV);aV=false}}}aL=aX}function aw(aQ){var aR=aQ.parentNode,aS=aR.firstChild;if(aQ===aS){return true}if(aQ===aR.children[0]){if(aS.nodeType==7||aS.nodeType==8){return true}if(aS.nodeType==3){return !/\S/.test(aS.data)}}return false}function aB(aR){if(aR.nodeType==1&&aR!==aK&&aw(aR)){return aB(aR.parentNode)}var aS=ax();var aQ=aP.createRange();aQ.setStartBefore(aK);aQ.setEndBefore(aR);aS.appendChild(aQ.extractContents());aK.parentNode.insertBefore(aS,aK)}function ax(){var aQ=aP.createElement("KENDO-PDF-PAGE");S(aQ).css({display:"block",boxSizing:"content-box",width:aM||"auto",padding:(aJ.top+"px "+aJ.right+"px "+aJ.bottom+"px "+aJ.left+"px"),position:"relative",height:aF||"auto",overflow:aF||aM?"hidden":"visible",clear:"both"});if(aA&&aA.pageClassName){aQ.className=aA.pageClassName}aH.push(aQ);return aQ}function aE(aQ){var aR=aQ.getBoundingClientRect();if(aR.width===0||aR.height===0){return 0}var aT=aK.getBoundingClientRect().top;var aS=aF-aL;return(aR.height>aS)?3:(aR.top-aT>aS)?1:(aR.bottom-aT>aS)?2:0}function aG(aV,aR){if(!/\S/.test(aV.data)){return}var aQ=aV.data.length;var aS=aP.createRange();aS.selectNodeContents(aV);var aX=aE(aS);if(!aX){return}var aT=aV;if(aX==1){if(aR){aB(aV.parentNode)}else{aB(aV)}}else{(function aU(aZ,a0,aY){aS.setEnd(aV,a0);if(aZ==a0||a0==aY){return a0}if(aE(aS)){return aU(aZ,(aZ+a0)>>1,a0)}else{return aU(a0,(a0+aY)>>1,aY)}})(0,aQ>>1,aQ);if(!/\S/.test(aS.toString())&&aR){aB(aV.parentNode)}else{aT=aV.splitText(aS.endOffset);var aW=ax();aS.setStartBefore(aK);aW.appendChild(aS.extractContents());aK.parentNode.insertBefore(aW,aK)}}aG(aT)}}return av.promise()}r.drawDOM=al;al.getFontFaces=z;var k=(function(){var aB=/^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\s*)\(/;var aA=/^((-webkit-|-moz-|-o-|-ms-)?radial-gradient\s*)\(/;var at=/^([-0-9.]+%)/;var au=/^([-0-9.]+px)/;var aq=/^(left|right|top|bottom|to|center)\W/;var aD=/^([-0-9.]+(deg|grad|rad|turn))/;var aC=/^(\s+)/;var ap=/^(\()/;var aw=/^(\))/;var av=/^(,)/;var aE=/^(url)\(/;var ar=/^(.*?)\)/;var az={},ay={};function ax(aH){var aM=aH;if(p(az,aM)){return az[aM]}function aG(){var aN=aC.exec(aH);if(aN){aH=aH.substr(aN[1].length)}}function aL(aO){aG();var aN=aO.exec(aH);if(aN){aH=aH.substr(aN[1].length);return aN[1]}}function aK(){var aN=kendo.parseColor(aH,true);var aP,aO;if(aN){aH=aH.substr(aN.match[0].length);aN=aN.toRGB();if(!(aP=aL(au))){aO=aL(at)}return{color:aN,length:aP,percent:aO}}}function aJ(aP){var aN;var aQ,aO;var aV=[];var aR=false;if(aL(ap)){aN=aL(aD);if(aN){aN=c(aN);aL(av)}else{aQ=aL(aq);if(aQ=="to"){aQ=aL(aq)}else{if(aQ&&/^-/.test(aP)){aR=true}}aO=aL(aq);aL(av)}if(/-moz-/.test(aP)&&aN==null&&aQ==null){var aU=aL(at),aT=aL(at);aR=true;if(aU=="0%"){aQ="left"}else{if(aU=="100%"){aQ="right"}}if(aT=="0%"){aO="top"}else{if(aT=="100%"){aO="bottom"}}aL(av)}while(aH&&!aL(aw)){var aS=aK();if(!aS){break}aV.push(aS);aL(av)}return{type:"linear",angle:aN,to:aQ&&aO?aQ+" "+aO:aQ?aQ:aO?aO:null,stops:aV,reverse:aR}}}function aI(){if(aL(ap)){var aN=aL(ar);aN=aN.replace(/^['"]+|["']+$/g,"");aL(aw);return{type:"url",url:aN}}}var aF;if((aF=aL(aB))){aF=aJ(aF)}else{if((aF=aL(aE))){aF=aI()}}return(az[aM]=aF||{type:"none"})}return function(aF){if(p(ay,aF)){return ay[aF]}return(ay[aF]=U(aF).map(ax))}})();var U=(function(){var ap={};return function(aA,au){if(!au){au=/^\s*,\s*/}var aw=aA+au;if(p(ap,aw)){return ap[aw]}var av=[];var aB=0,az=0;var ax=0;var ay=false;var at;function aq(aC){return(at=aC.exec(aA.substr(az)))}function ar(aC){return aC.replace(/^\s+|\s+$/g,"")}while(az<aA.length){if(!ay&&aq(/^[\(\[\{]/)){ax++;az++}else{if(!ay&&aq(/^[\)\]\}]/)){ax--;az++}else{if(!ay&&aq(/^[\"\']/)){ay=at[0];az++}else{if(ay=="'"&&aq(/^\\\'/)){az+=2}else{if(ay=='"'&&aq(/^\\\"/)){az+=2}else{if(ay=="'"&&aq(/^\'/)){ay=false;az++}else{if(ay=='"'&&aq(/^\"/)){ay=false;az++}else{if(aq(au)){if(!ay&&!ax&&az>aB){av.push(ar(aA.substring(aB,az)));aB=az+at[0].length}az+=at[0].length}else{az++}}}}}}}}}if(aB<az){av.push(ar(aA.substring(aB,az)))}return(ap[aw]=av)}})();var f=(function(){var ap={};return function(at){var ar=ap[at];if(!ar){var aq;if((aq=/url\((['"]?)([^'")]*?)\1\)\s+format\((['"]?)truetype\3\)/.exec(at))){ar=ap[at]=aq[2]}else{if((aq=/url\((['"]?)([^'")]*?\.ttf)\1\)/.exec(at))){ar=ap[at]=aq[2]}}}return ar}})();function z(au){if(au==null){au=document}var ar={};for(var at=0;at<au.styleSheets.length;++at){aq(au.styleSheets[at])}return ar;function aq(ay){if(ay){var az=null;try{az=ay.cssRules}catch(ax){}if(az){av(ay,az)}}}function aw(ay){var az=ag(ay.style,"src");if(az){return U(az).reduce(function(aA,aC){var aB=f(aC);if(aB){aA.push(aB)}return aA},[])}else{var ax=f(ay.cssText);return ax?[ax]:[]}}function av(aE,aF){for(var aB=0;aB<aF.length;++aB){var ay=aF[aB];switch(ay.type){case 3:aq(ay.styleSheet);break;case 5:var az=ay.style;var aA=U(ag(az,"font-family"));var aD=/^(400|bold)$/i.test(ag(az,"font-weight"));var aC="italic"==ag(az,"font-style");var ax=aw(ay);if(ax.length>0){ap(aE,aA,aD,aC,ax[0])}}}}function ap(aB,aA,az,ax,ay){if(!(/^data:/i.test(ay))){if(!(/^[^\/:]+:\/\//.test(ay)||/^\//.test(ay))){ay=String(aB.href).replace(/[^\/]*$/,"")+ay}}aA.forEach(function(aC){aC=aC.replace(/^(['"]?)(.*?)\1$/,"$2");if(az){aC+="|bold"}if(ax){aC+="|italic"}ar[aC]=ay})}}function p(aq,ap){return Object.prototype.hasOwnProperty.call(aq,ap)}function I(ap){ap="_counter_"+ap;return T[ap]}function N(aq){var ap=[],ar=T;aq="_counter_"+aq;while(ar){if(p(ar,aq)){ap.push(ar[aq])}ar=Object.getPrototypeOf(ar)}return ap.reverse()}function E(ap,ar){var aq=T;ap="_counter_"+ap;while(aq&&!p(aq,ap)){aq=Object.getPrototypeOf(aq)}if(!aq){aq=T._root}aq[ap]=(aq[ap]||0)+(ar==null?1:ar)}function M(ap,aq){ap="_counter_"+ap;T[ap]=aq==null?0:aq}function A(ap,au,at){for(var ar=0;ar<ap.length;){var aq=ap[ar++];var av=x(ap[ar]);if(isNaN(av)){au(aq,at)}else{au(aq,av);++ar}}}function q(ar,aq){var ap=kendo.parseColor(ar);if(ap){ap=ap.toRGB();if(aq){ap=ap.toCssRgba()}else{if(ap.a===0){ap=null}}}return ap}function L(ap,aw){var av=[];function au(ax){if(!X[ax]){X[ax]=true;av.push(ax)}}(function at(ax){if(/^img$/i.test(ax.tagName)){au(ax.src)}k(ag(v(ax),"background-image")).forEach(function(ay){if(ay.type=="url"){au(ay.url)}});u.call(ax.children).forEach(at)})(ap);var ar=av.length;function aq(){if(--ar<=0){aw()}}if(ar===0){aq()}av.forEach(function(ay){var ax=X[ay]=new Image();if(!(/^data:/i.test(ay))){ax.crossOrigin="Anonymous"}ax.src=ay;if(ax.complete){aq()}else{ax.onload=aq;ax.onerror=function(){X[ay]=null;aq()}}})}function W(at){var aq={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1000:"m"};var ap=[1000,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1];var ar="";while(at>0){if(at<ap[0]){ap.shift()}else{ar+=aq[ap[0]];at-=ap[0]}}return ar}function ae(ar){var ap="";do{var aq=ar%26;ap=String.fromCharCode(97+aq)+ap;ar=F.floor(ar/26)}while(ar>0);return ap}function aa(ar,at,au){T=Object.create(T);T[ar.tagName.toLowerCase()]={element:ar,style:at};var aq=ag(at,"text-decoration");if(aq&&aq!="none"){var ap=ag(at,"color");aq.split(/\s+/g).forEach(function(av){if(!T[av]){T[av]=ap}})}if(ak(at)){T._stackingContext={element:ar,group:au}}}function ad(){T=Object.getPrototypeOf(T)}function ab(aq){if(T._clipbox!=null){var ap=aq.bbox(T._matrix);if(T._clipbox){T._clipbox=ao.Rect.intersect(T._clipbox,ap)}else{T._clipbox=ap}}}function J(){var ap=T._clipbox;if(ap==null){return true}if(ap){return ap.width()===0||ap.height()===0}}function ak(ap){function aq(ar){return ag(ap,ar)}if(aq("transform")!="none"||(aq("position")!="static"&&aq("z-index")!="auto")||(aq("opacity")<1)){return true}}function v(ap,aq){return window.getComputedStyle(ap,aq||null)}function ag(ap,aq){return ap.getPropertyValue(aq)||(g.webkit&&ap.getPropertyValue("-webkit-"+aq))||(g.mozilla&&ap.getPropertyValue("-moz-"+aq))||(g.opera&&ap.getPropertyValue("-o-"+aq))||(g.msie&&ap.getPropertyValue("-ms-"+aq))}function a(aq,at,ar,ap){aq.setProperty(at,ar,ap);if(g.webkit){aq.setProperty("-webkit-"+at,ar,ap)}else{if(g.mozilla){aq.setProperty("-moz-"+at,ar,ap)}else{if(g.opera){aq.setProperty("-o-"+at,ar,ap)}else{if(g.msie){aq.setProperty("-ms-"+at,ar,ap);at="ms"+at.replace(/(^|-)([a-z])/g,function(au,aw,av){return aw+av.toUpperCase()});aq[at]=ar}}}}}function D(aq){if(g.msie){var ap=aq.getClientRects();if(ap.length==2&&ap[1].width===0){return ap[0]}}return aq.getBoundingClientRect()}function af(aq,ap){ap="border-"+ap;return{width:x(ag(aq,ap+"-width")),style:ag(aq,ap+"-style"),color:q(ag(aq,ap+"-color"),true)}}function Q(aq,at){var ar=aq.style.cssText;var ap=at();aq.style.cssText=ar;return ap}function Z(aq,ap){var ar=ag(aq,"border-"+ap+"-radius").split(/\s+/g).map(x);if(ar.length==1){ar.push(ar[0])}return aj({x:ar[0],y:ar[1]})}function ah(ap){var aq=ap.getBoundingClientRect();aq=t(aq,"border-*-width",ap);aq=t(aq,"padding-*",ap);return aq}function t(au,ax,ar){var at,ap,aq,av,aw;if(typeof ax=="string"){at=v(ar);ap=x(ag(at,ax.replace("*","top")));aq=x(ag(at,ax.replace("*","right")));av=x(ag(at,ax.replace("*","bottom")));aw=x(ag(at,ax.replace("*","left")))}else{if(typeof ax=="number"){ap=aq=av=aw=ax}}return{top:au.top+ap,right:au.right-aq,bottom:au.bottom-av,left:au.left+aw,width:au.right-au.left-aq-aw,height:au.bottom-au.top-av-ap}}function P(at){var ar=ag(at,"transform");if(ar=="none"){return null}var aq=/^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(ar);if(aq){var ap=ag(at,"transform-origin");aq=aq[1].split(/\s*,\s*/g).map(x);ap=ap.split(/\s+/g).map(x);return{matrix:aq,origin:ap}}}function h(ap){return((180*ap)/F.PI)%360}function c(aq){var ap=x(aq);if(/grad$/.test(aq)){return F.PI*ap/200}else{if(/rad$/.test(aq)){return ap}else{if(/turn$/.test(aq)){return F.PI*ap*2}else{if(/deg$/.test(aq)){return F.PI*ap/180}}}}}function e(aq,ap){ap=new ao.Matrix(ap[0],ap[1],ap[2],ap[3],ap[4],ap[5]);aq.transform(ap);return ap}function K(ap,aq){ap.clip(aq)}function m(au,ap,av,aq){var at=new ao.Arc([ap,av],aq).curvePoints(),ar=1;while(ar<at.length){au.curveTo(at[ar++],at[ar++],at[ar++])}}function aj(ap){if(ap.x<=0||ap.y<=0){ap.x=ap.y=0}return ap}function o(au,aq,aD,at,av){var aC=F.max(0,aq.x),aA=F.max(0,aq.y);var ar=F.max(0,aD.x),ap=F.max(0,aD.y);var aB=F.max(0,at.x),az=F.max(0,at.y);var ay=F.max(0,av.x),ax=F.max(0,av.y);var aw=F.min(au.width/(aC+ar),au.height/(ap+az),au.width/(aB+ay),au.height/(ax+aA));if(aw<1){aC*=aw;aA*=aw;ar*=aw;ap*=aw;aB*=aw;az*=aw;ay*=aw;ax*=aw}return{tl:{x:aC,y:aA},tr:{x:ar,y:ap},br:{x:aB,y:az},bl:{x:ay,y:ax}}}function w(aw,ax,aA){var aq=v(aw);var at=Z(aq,"top-left");var aF=Z(aq,"top-right");var ay=Z(aq,"bottom-left");var au=Z(aq,"bottom-right");if(aA=="padding"||aA=="content"){var aC=af(aq,"top");var aD=af(aq,"right");var az=af(aq,"bottom");var ar=af(aq,"left");at.x-=ar.width;at.y-=aC.width;aF.x-=aD.width;aF.y-=aC.width;au.x-=aD.width;au.y-=az.width;ay.x-=ar.width;ay.y-=az.width;if(aA=="content"){var aE=x(ag(aq,"padding-top"));var ap=x(ag(aq,"padding-right"));var aB=x(ag(aq,"padding-bottom"));var av=x(ag(aq,"padding-left"));at.x-=av;at.y-=aE;aF.x-=ap;aF.y-=aE;au.x-=ap;au.y-=aB;ay.x-=av;ay.y-=aB}}if(typeof aA=="number"){at.x-=aA;at.y-=aA;aF.x-=aA;aF.y-=aA;au.x-=aA;au.y-=aA;ay.x-=aA;ay.y-=aA}return B(ax,at,aF,au,ay)}function B(au,ay,aw,az,ap){var at=o(au,ay,aw,az,ap);var ar=at.tl;var aA=at.tr;var aq=at.br;var av=at.bl;var ax=new r.Path({fill:null,stroke:null});ax.moveTo(au.left,au.top+ar.y);if(ar.x){m(ax,au.left+ar.x,au.top+ar.y,{startAngle:-180,endAngle:-90,radiusX:ar.x,radiusY:ar.y})}ax.lineTo(au.right-aA.x,au.top);if(aA.x){m(ax,au.right-aA.x,au.top+aA.y,{startAngle:-90,endAngle:0,radiusX:aA.x,radiusY:aA.y})}ax.lineTo(au.right,au.bottom-aq.y);if(aq.x){m(ax,au.right-aq.x,au.bottom-aq.y,{startAngle:0,endAngle:90,radiusX:aq.x,radiusY:aq.y})}ax.lineTo(au.left+av.x,au.bottom);if(av.x){m(ax,au.left+av.x,au.bottom-av.y,{startAngle:90,endAngle:180,radiusX:av.x,radiusY:av.y})}return ax.close()}function i(ar,ap){var aq=x(ar)+"";switch(ap){case"decimal-leading-zero":if(aq.length<2){aq="0"+aq}return aq;case"lower-roman":return W(ar);case"upper-roman":return W(ar).toUpperCase();case"lower-latin":case"lower-alpha":return ae(ar-1);case"upper-latin":case"upper-alpha":return ae(ar-1).toUpperCase();default:return aq}}function b(at,au){function av(aw,ax,ay){if(!ay){return i(I(aw)||0,ax)}ay=ay.replace(/^\s*(["'])(.*)\1\s*$/,"$2");return N(aw).map(function(az){return i(az,ax)}).join(ay)}var ar=U(au,/^\s+/);var aq=[],ap;ar.forEach(function(ax){var aw;if((ap=/^\s*(["'])(.*)\1\s*$/.exec(ax))){aq.push(ap[2].replace(/\\([0-9a-f]{4})/gi,function(ay,az){return String.fromCharCode(parseInt(az,16))}))}else{if((ap=/^\s*counter\((.*?)\)\s*$/.exec(ax))){aw=U(ap[1]);aq.push(av(aw[0],aw[1]))}else{if((ap=/^\s*counters\((.*?)\)\s*$/.exec(ax))){aw=U(ap[1]);aq.push(av(aw[0],aw[2],aw[1]))}else{if((ap=/^\s*attr\((.*?)\)\s*$/.exec(ax))){aq.push(at.getAttribute(ap[1])||"")}else{aq.push(ax)}}}}});return aq.join("")}function an(ar){if(ar.cssText){return ar.cssText}var ap=[];for(var aq=0;aq<ar.length;++aq){ap.push(ar[aq]+": "+ag(ar,ar[aq]))}return ap.join(";\n")}function n(aq,at){if(aq.tagName==d){O(aq,at);return}var ap=[];function ar(ax,av){var aw=v(aq,ax);if(aw.content&&aw.content!="normal"&&aw.content!="none"&&aw.width!="0px"){var au=aq.ownerDocument.createElement(d);au.style.cssText=an(aw);au.textContent=b(aq,aw.content);aq.insertBefore(au,av);if(ax==":before"&&!(/absolute|fixed/.test(ag(au.style,"position")))){au.style.marginLeft=x(ag(au.style,"margin-left"))-au.offsetWidth+"px"}ap.push(au)}}ar(":before",aq.firstChild);ar(":after",null);O(aq,at);ap.forEach(function(au){aq.removeChild(au)})}function O(aq,aC){var aK=v(aq);var aG=af(aK,"top");var aO=af(aK,"right");var aA=af(aK,"bottom");var ar=af(aK,"left");var av=Z(aK,"top-left");var ax=Z(aK,"top-right");var ay=Z(aK,"bottom-left");var aB=Z(aK,"bottom-right");var aI=ag(aK,"direction");var au=ag(aK,"background-color");au=q(au);var ap=k(ag(aK,"background-image"));var aM=U(ag(aK,"background-repeat"));var aH=U(ag(aK,"background-position"));var aD=U(ag(aK,"background-origin"));var aN=U(ag(aK,"background-size"));if(g.msie&&g.version<10){aH=U(aq.currentStyle.backgroundPosition)}var aE=t(aq.getBoundingClientRect(),"border-*-width",aq);(function(){var aT=ag(aK,"clip");var aU=/^\s*rect\((.*)\)\s*$/.exec(aT);if(aU){var aY=aU[1].split(/[ ,]+/g);var aX=aY[0]=="auto"?aE.top:x(aY[0])+aE.top;var aZ=aY[1]=="auto"?aE.right:x(aY[1])+aE.left;var aR=aY[2]=="auto"?aE.bottom:x(aY[2])+aE.top;var aS=aY[3]=="auto"?aE.left:x(aY[3])+aE.left;var aV=new r.Group();var aW=new r.Path().moveTo(aS,aX).lineTo(aZ,aX).lineTo(aZ,aR).lineTo(aS,aR).close();K(aV,aW);aC.append(aV);aC=aV;ab(aW)}})();var aw=aq.getClientRects();if(aw.length==1){aw=[aq.getBoundingClientRect()]}aw=aQ(aw);for(var aJ=0;aJ<aw.length;++aJ){at(aw[aJ],aJ===0,aJ==aw.length-1)}if(aw.length>0&&ag(aK,"display")=="list-item"){aL(aw[0])}(function(){function aR(){var aT=w(aq,aE,"padding");var aS=new r.Group();K(aS,aT);aC.append(aS);aC=aS;ab(aT)}if(Y(aq)){aR()}else{if(/^(hidden|auto|scroll)/.test(ag(aK,"overflow"))){aR()}else{if(/^(hidden|auto|scroll)/.test(ag(aK,"overflow-x"))){aR()}else{if(/^(hidden|auto|scroll)/.test(ag(aK,"overflow-y"))){aR()}}}}})();if(!H(aq,aC)){R(aq,aC)}return aC;function aQ(aV){if(/^td$/i.test(aq.tagName)){var aW=T.table;if(aW&&ag(aW.style,"border-collapse")=="collapse"){var aU=af(aW.style,"left").width;var aR=af(aW.style,"top").width;if(aU===0&&aR===0){return aV}var aX=aW.element.getBoundingClientRect();var aT=aW.element.rows[0].cells[0];var aS=aT.getBoundingClientRect();if(aS.top==aX.top||aS.left==aX.left){return u.call(aV).map(function(aY){return{left:aY.left+aU,top:aY.top+aR,right:aY.right+aU,bottom:aY.bottom+aR,height:aY.height,width:aY.width}})}}}return aV}function az(aU,aX,aR,a0,aY,aZ,aW,aT){if(aR<=0){return}var a1,aS=new r.Group();e(aS,aT);aC.append(aS);aj(aZ);aj(aW);a1=new r.Path({fill:{color:aU},stroke:null});aS.append(a1);a1.moveTo(aZ.x?F.max(aZ.x,a0):0,0).lineTo(aX-(aW.x?F.max(aW.x,aY):0),0).lineTo(aX-F.max(aW.x,aY),aR).lineTo(F.max(aZ.x,a0),aR).close();if(aZ.x){aV(a0,aZ,[-1,0,0,1,aZ.x,0])}if(aW.x){aV(aY,aW,[1,0,0,1,aX-aW.x,0])}function aV(a5,a4,a3){var a7=F.PI/2*a5/(a5+aR);var a2={x:a4.x-a5,y:a4.y-aR};var a6=new r.Path({fill:{color:aU},stroke:null}).moveTo(0,0);e(a6,a3);m(a6,0,a4.y,{startAngle:-90,endAngle:-h(a7),radiusX:a4.x,radiusY:a4.y});if(a2.x>0&&a2.y>0){a6.lineTo(a2.x*F.cos(a7),a4.y-a2.y*F.sin(a7));m(a6,0,a4.y,{startAngle:-h(a7),endAngle:-90,radiusX:a2.x,radiusY:a2.y,anticlockwise:true})}else{if(a2.x>0){a6.lineTo(a2.x,aR).lineTo(0,aR)}else{a6.lineTo(a2.x,aR).lineTo(a2.x,0)}}aS.append(a6.close())}}function aF(aT){var aS=new r.Group();K(aS,B(aT,av,ax,aB,ay));aC.append(aS);if(aq.tagName=="A"&&aq.href&&!/^#?$/.test(S(aq).attr("href"))){aS._pdfLink={url:aq.href,top:aT.top,right:aT.right,bottom:aT.bottom,left:aT.left}}if(au){var aU=new r.Path({fill:{color:au.toCssRgba()},stroke:null});aU.moveTo(aT.left,aT.top).lineTo(aT.right,aT.top).lineTo(aT.right,aT.bottom).lineTo(aT.left,aT.bottom).close();aS.append(aU)}for(var aR=ap.length;--aR>=0;){aP(aS,aT,ap[aR],aM[aR%aM.length],aH[aR%aH.length],aD[aR%aD.length],aN[aR%aN.length])}}function aP(aZ,aW,aR,aU,aT,aS,aY){if(!aR||(aR=="none")){return}if(aR.type=="url"){if(/^url\(\"data:image\/svg/i.test(aR.url)){return}var aV=X[aR.url];if(aV&&aV.width>0&&aV.height>0){aX(aZ,aW,aV.width,aV.height,function(a1,a0){a1.append(new r.Image(aR.url,a0))})}}else{if(aR.type=="linear"){aX(aZ,aW,aW.width,aW.height,V(aR))}else{return}}function aX(a9,a2,ba,a0,a4){var a1=ba/a0;var a7=a2;if(aS=="content-box"){a7=t(a7,"border-*-width",aq);a7=t(a7,"padding-*",aq)}else{if(aS=="padding-box"){a7=t(a7,"border-*-width",aq)}}if(!/^\s*auto(\s+auto)?\s*$/.test(aY)){var bd=aY.split(/\s+/g);if(/%$/.test(bd[0])){ba=a7.width*x(bd[0])/100}else{ba=x(bd[0])}if(bd.length==1||bd[1]=="auto"){a0=ba/a1}else{if(/%$/.test(bd[1])){a0=a7.height*x(bd[1])/100}else{a0=x(bd[1])}}}var a6=(aT+"").split(/\s+/);if(a6.length==1){a6[1]="50%"}if(/%$/.test(a6[0])){a6[0]=x(a6[0])/100*(a7.width-ba)}else{a6[0]=x(a6[0])}if(/%$/.test(a6[1])){a6[1]=x(a6[1])/100*(a7.height-a0)}else{a6[1]=x(a6[1])}var a5=new ao.Rect([a7.left+a6[0],a7.top+a6[1]],[ba,a0]);function bc(){while(a5.origin.x>a2.left){a5.origin.x-=ba}}function bb(){while(a5.origin.y>a2.top){a5.origin.y-=a0}}function a3(){while(a5.origin.x<a2.right){a4(a9,a5.clone());a5.origin.x+=ba}}if(aU=="no-repeat"){a4(a9,a5)}else{if(aU=="repeat-x"){bc();a3()}else{if(aU=="repeat-y"){bb();while(a5.origin.y<a2.bottom){a4(a9,a5.clone());a5.origin.y+=a0}}else{if(aU=="repeat"){bc();bb();var a8=a5.origin.clone();while(a5.origin.y<a2.bottom){a5.origin.x=a8.x;a3();a5.origin.y+=a0}}}}}}}function aL(aU){var aS=ag(aK,"list-style-type");if(aS=="none"){return}var aV=ag(aK,"list-style-image");var aW=ag(aK,"list-style-position");function aR(aX){Q(aq,function(){aq.style.position="relative";var aY=aq.ownerDocument.createElement(d);aY.style.position="absolute";aY.style.boxSizing="border-box";if(aW=="outside"){aY.style.width="6em";aY.style.left="-6.8em";aY.style.textAlign="right"}else{aY.style.left="0px"}aX(aY);aq.insertBefore(aY,aq.firstChild);s(aY,aC);aq.removeChild(aY)})}function aT(aZ){var aX=aq.parentNode.children;for(var aY=0;aY<aX.length;++aY){if(aX[aY]===aq){return aZ(aY,aX.length)}}}switch(aS){case"circle":case"disc":case"square":aR(function(aX){aX.style.fontSize="60%";aX.style.lineHeight="200%";aX.style.paddingRight="0.5em";aX.style.fontFamily="DejaVu Serif";aX.innerHTML={disc:"\u25cf",circle:"\u25ef",square:"\u25a0"}[aS]});break;case"decimal":case"decimal-leading-zero":aR(function(aX){aT(function(aZ,aY){++aZ;if(aS=="decimal-leading-zero"&&(aZ+"").length<2){aZ="0"+aZ}aX.innerHTML=aZ+"."})});break;case"lower-roman":case"upper-roman":aR(function(aX){aT(function(aZ,aY){aZ=W(aZ+1);if(aS=="upper-roman"){aZ=aZ.toUpperCase()}aX.innerHTML=aZ+"."})});break;case"lower-latin":case"lower-alpha":case"upper-latin":case"upper-alpha":aR(function(aX){aT(function(aZ,aY){aZ=ae(aZ);if(/^upper/i.test(aS)){aZ=aZ.toUpperCase()}aX.innerHTML=aZ+"."})});break}}function at(aY,aU,aW){if(aY.width===0||aY.height===0){return}aF(aY);var a2=(ar.width>0&&((aU&&aI=="ltr")||(aW&&aI=="rtl")));var aT=(aO.width>0&&((aW&&aI=="ltr")||(aU&&aI=="rtl")));if(aG.width===0&&ar.width===0&&aO.width===0&&aA.width===0){return}if(true){if(aG.color==aO.color&&aG.color==aA.color&&aG.color==ar.color){if(aG.width==aO.width&&aG.width==aA.width&&aG.width==ar.width){if(a2&&aT){aY=t(aY,aG.width/2);var a1=w(aq,aY,aG.width/2);a1.options.stroke={color:aG.color,width:aG.width};aC.append(a1);return}}}if(av.x===0&&ax.x===0&&aB.x===0&&ay.x===0){if(aG.width<2&&ar.width<2&&aO.width<2&&aA.width<2){if(aG.width>0){aC.append(new r.Path({stroke:{width:aG.width,color:aG.color}}).moveTo(aY.left,aY.top+aG.width/2).lineTo(aY.right,aY.top+aG.width/2))}if(aA.width>0){aC.append(new r.Path({stroke:{width:aA.width,color:aA.color}}).moveTo(aY.left,aY.bottom-aA.width/2).lineTo(aY.right,aY.bottom-aA.width/2))}if(a2){aC.append(new r.Path({stroke:{width:ar.width,color:ar.color}}).moveTo(aY.left+ar.width/2,aY.top).lineTo(aY.left+ar.width/2,aY.bottom))}if(aT){aC.append(new r.Path({stroke:{width:aO.width,color:aO.color}}).moveTo(aY.right-aO.width/2,aY.top).lineTo(aY.right-aO.width/2,aY.bottom))}return}}}var aX=o(aY,av,ax,aB,ay);var aS=aX.tl;var a0=aX.tr;var aR=aX.br;var aZ=aX.bl;az(aG.color,aY.width,aG.width,ar.width,aO.width,aS,a0,[1,0,0,1,aY.left,aY.top]);az(aA.color,aY.width,aA.width,aO.width,ar.width,aR,aZ,[-1,0,0,-1,aY.right,aY.bottom]);function aV(a3){return{x:a3.y,y:a3.x}}az(ar.color,aY.height,ar.width,aA.width,aG.width,aV(aZ),aV(aS),[0,-1,1,0,aY.left,aY.bottom]);az(aO.color,aY.height,aO.width,aG.width,aA.width,aV(a0),aV(aR),[0,1,-1,0,aY.right,aY.top])}}function V(ap){return function(ay,ar){var aC=ar.width(),aB=ar.height(),av=ar.topLeft();switch(ap.type){case"linear":var aF=ap.angle!=null?ap.angle:F.PI;switch(ap.to){case"top":aF=0;break;case"left":aF=-F.PI/2;break;case"bottom":aF=F.PI;break;case"right":aF=F.PI/2;break;case"top left":case"left top":aF=-F.atan2(aB,aC);break;case"top right":case"right top":aF=F.atan2(aB,aC);break;case"bottom left":case"left bottom":aF=F.PI+F.atan2(aB,aC);break;case"bottom right":case"right bottom":aF=F.PI-F.atan2(aB,aC);break}if(ap.reverse){aF-=F.PI}aF%=2*F.PI;if(aF<0){aF+=2*F.PI}var aD=F.abs(aC*F.sin(aF))+F.abs(aB*F.cos(aF));var aH=F.atan(aC*F.tan(aF)/aB);var aq=F.sin(aH),at=F.cos(aH);var aE=F.abs(aq)+F.abs(at);var aA=aE/2*aq;var az=aE/2*at;if(aF>F.PI/2&&aF<=3*F.PI/2){aA=-aA;az=-az}var aI=[],aG=0;var ax=ap.stops.map(function(aL,aK){var aM=aL.percent;if(aM){aM=x(aM)/100}else{if(aL.length){aM=x(aL.length)/aD}else{if(aK===0){aM=0}else{if(aK==ap.stops.length-1){aM=1}}}}var aJ={color:aL.color.toCssRgba(),offset:aM};if(aM!=null){aG=aM;aI.forEach(function(aP,aO){var aN=aP.stop;aN.offset=aP.left+(aG-aP.left)*(aO+1)/(aI.length+1)});aI=[]}else{aI.push({left:aG,stop:aJ})}return aJ});var aw=[0.5-aA,0.5+az];var au=[0.5+aA,0.5-az];ay.append(r.Path.fromRect(ar).stroke(null).fill(new r.LinearGradient({start:aw,end:au,stops:ax,userSpace:false})));break;case"radial":if(window.console&&window.console.log){window.console.log("Radial gradients are not yet supported in HTML renderer")}break}}}function H(ap,au){if(ap.getAttribute(kendo.attr("role"))){var at=kendo.widgetInstance(S(ap));if(at&&(at.exportDOMVisual||at.exportVisual)){var ar;if(at.exportDOMVisual){ar=at.exportDOMVisual()}else{ar=at.exportVisual()}if(!ar){return false}var aq=new r.Group();aq.children.push(ar);var av=ap.getBoundingClientRect();aq.transform(ao.transform().translate(av.left,av.top));au.append(aq);return true}}}function C(aq,ap,av){var at=ah(aq);var ar=new ao.Rect([at.left,at.top],[at.width,at.height]);var au=new r.Image(ap,ar);K(au,w(aq,at,"content"));av.append(au)}function y(ar,aq){var ap=v(ar);var ax=v(aq);var au=x(ag(ap,"z-index"));var at=x(ag(ax,"z-index"));var aw=ag(ap,"position");var av=ag(ax,"position");if(isNaN(au)&&isNaN(at)){if((/static|absolute/.test(aw))&&(/static|absolute/.test(av))){return 0}if(aw=="static"){return -1}if(av=="static"){return 1}return 0}if(isNaN(au)){return at===0?0:at>0?-1:1}if(isNaN(at)){return au===0?0:au>0?1:-1}return x(au)-x(at)}function Y(ap){return/^(?:textarea|select|input)$/i.test(ap.tagName)}function j(ap){if(ap.selectedOptions&&ap.selectedOptions.length>0){return ap.selectedOptions[0]}return ap.options[ap.selectedIndex]}function l(ar,ax){var ap=ar.tagName.toLowerCase();var aw=ar.parentNode;var av=ar.ownerDocument;var au=av.createElement(d);var at;au.style.cssText=an(v(ar));au.style.display="inline-block";if(ap=="input"){au.style.whiteSpace="pre"}if(ap=="select"||ap=="textarea"){au.style.overflow="auto"}if(ap=="select"){if(ar.multiple){for(var aq=0;aq<ar.options.length;++aq){at=av.createElement(d);at.style.cssText=an(v(ar.options[aq]));at.style.display="block";at.textContent=ar.options[aq].textContent;au.appendChild(at)}}else{at=j(ar);if(at){au.textContent=at.textContent}}}else{au.textContent=ar.value}aw.insertBefore(au,ar);au.scrollLeft=ar.scrollLeft;au.scrollTop=ar.scrollTop;R(au,ax);aw.removeChild(au)}function R(at,aB){if(T._stackingContext.element===at){T._stackingContext.group=aB}switch(at.tagName.toLowerCase()){case"img":C(at,at.src,aB);break;case"canvas":try{C(at,at.toDataURL("image/png"),aB)}catch(az){}break;case"textarea":case"input":case"select":l(at,aB);break;default:var ap=[],aA=[],ay=[],ar=[];for(var au=at.firstChild;au;au=au.nextSibling){switch(au.nodeType){case 3:if(/\S/.test(au.data)){ai(at,au,aB)}break;case 1:var aq=v(au);var ax=ag(aq,"display");var aw=ag(aq,"float");var av=ag(aq,"position");if(av!="static"){ar.push(au)}else{if(ax!="inline"){if(aw!="none"){aA.push(au)}else{ap.push(au)}}else{ay.push(au)}}break}}ap.sort(y).forEach(function(aC){s(aC,aB)});aA.sort(y).forEach(function(aC){s(aC,aB)});ay.sort(y).forEach(function(aC){s(aC,aB)});ar.sort(y).forEach(function(aC){s(aC,aB)})}}function ai(aq,aE,aw){if(J()){return}var aI=v(aq);if(x(ag(aI,"text-indent"))<-500){return}var aA=aE.data;var av=0;var au=aA.search(/\S\s*$/)+1;if(!au){return}var ar=ag(aI,"font-size");var at=ag(aI,"line-height");var aC=[ag(aI,"font-style"),ag(aI,"font-variant"),ag(aI,"font-weight"),ar,ag(aI,"font-family")].join(" ");ar=x(ar);at=x(at);if(ar===0){return}var aF=ag(aI,"color");var aB=aq.ownerDocument.createRange();var aG=ag(aI,"text-align");var ay=aG=="justify";var ap=ag(aI,"white-space");var aH=aq.getBoundingClientRect().width/ar*5;if(aH===0){aH=500}while(!ax()){}return;function ax(){var aR=av;var aO,aQ=aA.substr(av).search(/\S/);av+=aQ;if(aQ<0||av>=au){return true}aB.setStart(aE,av);aB.setEnd(aE,av+1);aO=aB.getBoundingClientRect();var aS=false;if(ay){aQ=aA.substr(av).search(/\s/);if(aQ>=0){aB.setEnd(aE,av+aQ);var aJ=aB.getBoundingClientRect();if(aJ.bottom==aO.bottom){aO=aJ;aS=true;av+=aQ}}}if(!aS){aQ=(function aK(aU,aW,aT){aB.setEnd(aE,aW);var aV=D(aB);if(aV.bottom!=aO.bottom&&aU<aW){return aK(aU,(aU+aW)>>1,aW)}else{if(aV.right!=aO.right){aO=aV;if(aW<aT){return aK(aW,(aW+aT)>>1,aT)}else{return aW}}else{return aW}}})(av,F.min(au,av+aH),au);if(aQ==av){return true}av=aQ;aQ=aB.toString().search(/\s+$/);if(aQ===0){return}if(aQ>0){aB.setEnd(aE,aB.startOffset+aQ);aO=aB.getBoundingClientRect()}}if(g.msie){aO=aB.getClientRects()[0]}var aP=aB.toString();if(!/^(?:pre|pre-wrap)$/i.test(ap)){aP=aP.replace(/\s+/g," ")}else{if(/\t/.test(aP)){var aN=0;for(aQ=aR;aQ<aB.startOffset;++aQ){var aL=aA.charCodeAt(aQ);if(aL==9){aN+=8-aN%8}else{if(aL==10||aL==13){aN=0}else{aN++}}}while((aQ=aP.search("\t"))>=0){var aM="        ".substr(0,8-(aN+aQ)%8);aP=aP.substr(0,aQ)+aM+aP.substr(aQ+1)}}}aD(aP,aO)}function aD(aN,aK){if(g.msie&&!isNaN(at)){var aJ=r.util.measureText(aN,{font:aC});var aL=(aK.top+aK.bottom-aJ.height)/2;aK={top:aL,right:aK.right,bottom:aL+aJ.height,left:aK.left,height:aJ.height,width:aK.right-aK.left}}var aM=new G(aN,new ao.Rect([aK.left,aK.top],[aK.width,aK.height]),{font:aC,fill:{color:aF}});aw.append(aM);az(aK)}function az(aK){aJ(T.underline,aK.bottom);aJ(T["line-through"],aK.bottom-aK.height/2.7);aJ(T.overline,aK.top);function aJ(aL,aO){if(aL){var aM=ar/12;var aN=new r.Path({stroke:{width:aM,color:aL}});aO-=aM;aN.moveTo(aK.left,aO).lineTo(aK.right,aO);aw.append(aN)}}}}function am(at,ay,aw){var ar;if(aw!="auto"){ar=T._stackingContext.group;aw=x(aw)}else{ar=ay;aw=0}var ax=ar.children;for(var au=0;au<ax.length;++au){if(ax[au]._dom_zIndex!=null&&ax[au]._dom_zIndex>aw){break}}var av=new r.Group();ar.insertAt(av,au);av._dom_zIndex=aw;if(ar!==ay){if(T._clipbox){var aq=T._matrix.invert();var ap=T._clipbox.transformCopy(aq);K(av,r.Path.fromRect(ap))}}return av}function s(at,aq){var ap=v(at);var av=ag(ap,"counter-reset");if(av){A(U(av,/^\s+/),M,0)}var aw=ag(ap,"counter-increment");if(aw){A(U(aw,/^\s+/),E,1)}if(/^(style|script|link|meta|iframe|svg|col|colgroup)$/i.test(at.tagName)){return}if(T._clipbox==null){return}var au=x(ag(ap,"opacity"));var ar=ag(ap,"visibility");var ax=ag(ap,"display");if(au===0||ar=="hidden"||ax=="none"){return}var ay=P(ap);var aA;var az=ag(ap,"z-index");if((ay||au<1)&&az=="auto"){az=0}aA=am(at,aq,az);if(au<1){aA.opacity(au*aA.opacity())}aa(at,ap,aA);if(!ay){n(at,aA)}else{Q(at,function(){a(at.style,"transform","none","important");a(at.style,"transition","none","important");if(ag(ap,"position")=="static"){a(at.style,"position","relative","important")}var aD=at.getBoundingClientRect();var aC=aD.left+ay.origin[0];var aE=aD.top+ay.origin[1];var aB=[1,0,0,1,-aC,-aE];aB=ac(aB,ay.matrix);aB=ac(aB,[1,0,0,1,aC,aE]);aB=e(aA,aB);T._matrix=T._matrix.multiplyCopy(aB);n(at,aA)})}ad()}function ac(aD,aB){var at=aD[0],aC=aD[1],ax=aD[2],ar=aD[3],aA=aD[4],aw=aD[5];var aq=aB[0],az=aB[1],av=aB[2],ap=aB[3],ay=aB[4],au=aB[5];return[at*aq+aC*av,at*az+aC*ap,ax*aq+ar*av,ax*az+ar*ap,aA*aq+aw*av+ay,aA*az+aw*ap+au]}})(window.kendo.jQuery,parseFloat,Math);(function(e,b){var j=document,k=e.noop,h=window.kendo,a=h.Class,f=h.util,c=h.animationFrame,d=h.deepExtend;var g=a.extend({init:function(m,l){var n=this;n.options=d({},n.options,l);n.element=m},options:{duration:500,easing:"swing"},setup:k,step:k,play:function(){var o=this,m=o.options,r=e.easing[m.easing],p=m.duration,l=m.delay||0,q=f.now()+l,n=q+p;if(p===0){o.step(1);o.abort()}else{setTimeout(function(){var s=function(){if(o._stopped){return}var u=f.now();var v=f.limitValue(u-q,0,p);var w=v/p;var t=r(w,v,0,1,p);o.step(t);if(u<n){c(s)}else{o.abort()}};s()},l)}},abort:function(){this._stopped=true},destroy:function(){this.abort()}});var i=function(){this._items=[]};i.prototype={register:function(l,m){this._items.push({name:l,type:m})},create:function(p,n){var l=this._items;var m;if(n&&n.type){var q=n.type.toLowerCase();for(var o=0;o<l.length;o++){if(l[o].name.toLowerCase()===q){m=l[o];break}}}if(m){return new m.type(p,n)}}};i.current=new i();g.create=function(n,m,l){return i.current.create(n,m,l)};d(h.drawing,{Animation:g,AnimationFactory:i})})(window.kendo.jQuery,Math);(function(g,h){var r=window.kendo,f=r.ui.Widget,w=".kendoValidator",x="k-invalid-msg",s=new RegExp(x,"i"),y="k-invalid",z="k-valid",n=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,B=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,e=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",c=":checkbox:not([disabled],[readonly])",A="[type=number],[type=range]",b="blur",j="name",m="form",a="novalidate",u=g.proxy,t=function(D,C){if(typeof C==="string"){C=new RegExp("^(?:"+C+")$")}return C.test(D)},d=function(D,C,F){var E=D.val();if(D.filter(C).length&&E!==""){return t(E,F)}return true},i=function(C,D){if(C.length){return C[0].attributes[D]!=null}return false};if(!r.ui.validator){r.ui.validator={rules:{},messages:{}}}function v(E){var D=r.ui.validator.ruleResolvers||{},F={},C;for(C in D){g.extend(true,F,D[C].resolve(E))}return F}function q(C){return C.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}function o(C){C=(C+"").split(".");if(C.length>1){return C[1].length}return 0}function p(C){if(g.parseHTML){return g(g.parseHTML(C))}return g(C)}function l(H,I){var G=g(),E,D;for(var C=0,F=H.length;C<F;C++){E=H[C];if(s.test(E.className)){D=E.getAttribute(r.attr("for"));if(D===I){G=G.add(E)}}}return G}var k=f.extend({init:function(E,D){var G=this,C=v(E),F="["+r.attr("validate")+"!=false]";D=D||{};D.rules=g.extend({},r.ui.validator.rules,C.rules,D.rules);D.messages=g.extend({},r.ui.validator.messages,C.messages,D.messages);f.fn.init.call(G,E,D);G._errorTemplate=r.template(G.options.errorTemplate);if(G.element.is(m)){G.element.attr(a,a)}G._inputSelector=e+F;G._checkboxSelector=c+F;G._errors={};G._attachEvents();G._isValidated=false},events:["validate","change"],options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> </span> #=message#</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date",dateCompare:"End date should be greater than or equal to the start date"},rules:{required:function(C){var E=C.filter("[type=checkbox]").length&&!C.is(":checked"),D=C.val();return !(i(C,"required")&&(D===""||!D||E))},pattern:function(C){if(C.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&C.val()!==""){return t(C.val(),C.attr("pattern"))}return true},min:function(C){if(C.filter(A+",["+r.attr("type")+"=number]").filter("[min]").length&&C.val()!==""){var D=parseFloat(C.attr("min"))||0,E=r.parseFloat(C.val());return D<=E}return true},max:function(D){if(D.filter(A+",["+r.attr("type")+"=number]").filter("[max]").length&&D.val()!==""){var C=parseFloat(D.attr("max"))||0,E=r.parseFloat(D.val());return C>=E}return true},step:function(E){if(E.filter(A+",["+r.attr("type")+"=number]").filter("[step]").length&&E.val()!==""){var F=parseFloat(E.attr("min"))||0,G=parseFloat(E.attr("step"))||1,H=parseFloat(E.val()),C=o(G),D;if(C){D=Math.pow(10,C);return((Math.floor((H-F)*D))%(G*D))/Math.pow(100,C)===0}return((H-F)%G)===0}return true},email:function(C){return d(C,"[type=email],["+r.attr("type")+"=email]",n)},url:function(C){return d(C,"[type=url],["+r.attr("type")+"=url]",B)},date:function(C){if(C.filter("[type^=date],["+r.attr("type")+"=date]").length&&C.val()!==""){return r.parseDate(C.val(),C.attr(r.attr("format")))!==null}return true}},validateOnBlur:true},destroy:function(){f.fn.destroy.call(this);this.element.off(w)},value:function(){if(!this._isValidated){return false}return this.errors().length===0},_submit:function(C){if(!this.validate()){C.stopPropagation();C.stopImmediatePropagation();C.preventDefault();return false}return true},_checkElement:function(C){var D=this.value();this.validateInput(C);if(this.value()!==D){this.trigger("change")}},_attachEvents:function(){var C=this;if(C.element.is(m)){C.element.on("submit"+w,u(C._submit,C))}if(C.options.validateOnBlur){if(!C.element.is(e)){C.element.on(b+w,C._inputSelector,function(){C._checkElement(g(this))});C.element.on("click"+w,C._checkboxSelector,function(){C._checkElement(g(this))})}else{C.element.on(b+w,function(){C._checkElement(C.element)});if(C.element.is(c)){C.element.on("click"+w,function(){C._checkElement(C.element)})}}}},validate:function(){var E;var D;var C=false;var F;var H=this.value();this._errors={};if(!this.element.is(e)){var G=false;E=this.element.find(this._inputSelector);for(D=0,F=E.length;D<F;D++){if(!this.validateInput(E.eq(D))){G=true}}C=!G}else{C=this.validateInput(this.element)}this.trigger("validate",{valid:C});if(H!==C){this.trigger("change")}return C},validateInput:function(J){J=g(J);this._isValidated=true;var E=this,K=E._errorTemplate,M=E._checkValidity(J),C=M.valid,F="."+x,L=(J.attr(j)||""),G=E._findMessageContainer(L).add(J.next(F).filter(function(){var N=g(this);if(N.filter("["+r.attr("for")+"]").length){return N.attr(r.attr("for"))===L}return true})).hide(),H;J.removeAttr("aria-invalid");if(!C){H=E._extractMessage(J,M.key);E._errors[L]=H;var D=p(K({message:q(H)}));var I=G.attr("id");E._decorateMessageContainer(D,L);if(I){D.attr("id",I)}if(!G.replaceWith(D).length){D.insertAfter(J)}D.show();J.attr("aria-invalid",true)}else{delete E._errors[L]}J.toggleClass(y,!C);J.toggleClass(z,C);return C},hideMessages:function(){var E=this,D="."+x,C=E.element;if(!C.is(e)){C.find(D).hide()}else{C.next(D).hide()}},_findMessageContainer:function(H){var D=r.ui.validator.messageLocators,E,G=g();for(var C=0,F=this.element.length;C<F;C++){G=G.add(l(this.element[C].getElementsByTagName("*"),H))}for(E in D){G=G.add(D[E].locate(this.element,H))}return G},_decorateMessageContainer:function(D,F){var C=r.ui.validator.messageLocators,E;D.addClass(x).attr(r.attr("for"),F||"");for(E in C){C[E].decorate(D,F)}D.attr("role","alert")},_extractMessage:function(D,C){var F=this,E=F.options.messages[C],G=D.attr(j);E=r.isFunction(E)?E(D):E;return r.format(D.attr(r.attr(C+"-msg"))||D.attr("validationMessage")||D.attr("title")||E||"",G,D.attr(C))},_checkValidity:function(C){var E=this.options.rules,D;for(D in E){if(!E[D].call(this,C)){return{valid:false,key:D}}}return{valid:true}},errors:function(){var D=[],E=this._errors,C;for(C in E){D.push(E[C])}return D}});r.ui.plugin(k)})(window.kendo.jQuery);(function(h,l){var t=window.kendo,o=t.support,v=window.document,A=t.Class,p=t.Observable,b=h.now,E=h.extend,c=o.mobileOS,u=c&&c.android,s=800,w=o.browser.msie?5:0,i="press",D="hold",d="select",B="start",H="move",k="end",f="cancel",F="tap",n="release",q="gesturestart",a="gesturechange",g="gestureend",C="gesturetap";var G={api:0,touch:0,mouse:9,pointer:9};var j=(!o.touch||o.mouseAndTouchPresent);function z(P,O){var L=P.x.location,N=P.y.location,K=O.x.location,M=O.y.location,J=L-K,I=N-M;return{center:{x:(L+K)/2,y:(N+M)/2},distance:Math.sqrt(J*J+I*I)}}function y(O){var N=[],J=O.originalEvent,M=O.currentTarget,I=0,L,K,P;if(O.api){N.push({id:2,event:O,target:O.target,currentTarget:O.target,location:O,type:"api"})}else{if(O.type.match(/touch/)){K=J?J.changedTouches:[];for(L=K.length;I<L;I++){P=K[I];N.push({location:P,event:O,target:P.target,currentTarget:M,id:P.identifier,type:"touch"})}}else{if(o.pointers||o.msPointers){N.push({location:J,event:O,target:O.target,currentTarget:M,id:J.pointerId,type:"pointer"})}else{N.push({id:1,event:O,target:O.target,currentTarget:M,location:O,type:"mouse"})}}}return N}var m=A.extend({init:function(J,I){var K=this;K.axis=J;K._updateLocationData(I);K.startLocation=K.location;K.velocity=K.delta=0;K.timeStamp=b()},move:function(I){var K=this,M=I["page"+K.axis],J=b(),L=(J-K.timeStamp)||1;if(!M&&u){return}K.delta=M-K.location;K._updateLocationData(I);K.initialDelta=M-K.startLocation;K.velocity=K.delta/L;K.timeStamp=J},_updateLocationData:function(I){var K=this,J=K.axis;K.location=I["page"+J];K.client=I["client"+J];K.screen=I["screen"+J]}});var r=A.extend({init:function(J,K,I){E(this,{x:new m("X",I.location),y:new m("Y",I.location),type:I.type,threshold:J.threshold||G[I.type],userEvents:J,target:K,currentTarget:I.currentTarget,initialTouch:I.target,id:I.id,pressEvent:I,_moved:false,_finished:false})},press:function(){this._holdTimeout=setTimeout(h.proxy(this,"_hold"),this.userEvents.minHold);this._trigger(i,this.pressEvent)},_hold:function(){this._trigger(D,this.pressEvent)},move:function(I){var J=this;if(J._finished){return}J.x.move(I.location);J.y.move(I.location);if(!J._moved){if(J._withinIgnoreThreshold()){return}if(!e.current||e.current===J.userEvents){J._start(I)}else{return J.dispose()}}if(!J._finished){J._trigger(H,I)}},end:function(I){var J=this;J.endTime=b();if(J._finished){return}J._finished=true;J._trigger(n,I);if(J._moved){J._trigger(k,I)}else{J._trigger(F,I)}clearTimeout(J._holdTimeout);J.dispose()},dispose:function(){var I=this.userEvents,J=I.touches;this._finished=true;this.pressEvent=null;clearTimeout(this._holdTimeout);J.splice(h.inArray(this,J),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(I){clearTimeout(this._holdTimeout);this.startTime=b();this._moved=true;this._trigger(B,I)},_trigger:function(J,K){var L=this,I=K.event,M={touch:L,x:L.x,y:L.y,target:L.target,event:I};if(L.userEvents.notify(J,M)){I.preventDefault()}},_withinIgnoreThreshold:function(){var J=this.x.initialDelta,I=this.y.initialDelta;return Math.sqrt(J*J+I*I)<=this.threshold}});function x(L){var K=t.eventMap.up.split(" "),I=0,J=K.length;for(;I<J;I++){L(K[I])}}var e=p.extend({init:function(J,I){var M=this,L,K=t.guid();I=I||{};L=M.filter=I.filter;M.threshold=I.threshold||w;M.minHold=I.minHold||s;M.touches=[];M._maxTouches=I.multiTouch?2:1;M.allowSelection=I.allowSelection;M.captureUpIfMoved=I.captureUpIfMoved;M.eventNS=K;J=h(J).handler(M);p.fn.init.call(M);E(M,{element:J,surface:I.global&&j?h(v.documentElement):h(I.surface||J),stopPropagation:I.stopPropagation,pressed:false});M.surface.handler(M).on(t.applyEventMap("move",K),"_move").on(t.applyEventMap("up cancel",K),"_end");J.on(t.applyEventMap("down",K),L,"_start");if(o.pointers||o.msPointers){J.css("-ms-touch-action","pinch-zoom double-tap-zoom")}if(I.preventDragEvent){J.on(t.applyEventMap("dragstart",K),t.preventDefault)}J.on(t.applyEventMap("mousedown",K),L,{root:J},"_select");if(M.captureUpIfMoved&&o.eventCapture){var O=M.surface[0],N=h.proxy(M.preventIfMoving,M);x(function(P){O.addEventListener(P,N,true)})}M.bind([i,D,F,B,H,k,n,f,q,a,g,C,d],I)},preventIfMoving:function(I){if(this._isMoved()){I.preventDefault()}},destroy:function(){var I=this;if(I._destroyed){return}I._destroyed=true;if(I.captureUpIfMoved&&o.eventCapture){var J=I.surface[0];x(function(K){J.removeEventListener(K,I.preventIfMoving)})}I.element.kendoDestroy(I.eventNS);I.surface.kendoDestroy(I.eventNS);I.element.removeData("handler");I.surface.removeData("handler");I._disposeAll();I.unbind();delete I.surface;delete I.element;delete I.currentTarget},capture:function(){e.current=this},cancel:function(){this._disposeAll();this.trigger(f)},notify:function(I,K){var J=this,L=J.touches;if(this._isMultiTouch()){switch(I){case H:I=a;break;case k:I=g;break;case F:I=C;break}E(K,{touches:L},z(L[0],L[1]))}return this.trigger(I,E(K,{type:I}))},press:function(I,K,J){this._apiCall("_start",I,K,J)},move:function(I,J){this._apiCall("_move",I,J)},end:function(I,J){this._apiCall("_end",I,J)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){var I=this.touches;while(I.length>0){I.pop().dispose()}},_isMoved:function(){return h.grep(this.touches,function(I){return I.isMoved()}).length},_select:function(I){if(!this.allowSelection||this.trigger(d,{event:I})){I.preventDefault()}},_start:function(O){var N=this,Q=0,I=N.filter,P,M=y(O),J=M.length,L,K=O.which;if((K&&K>1)||(N._maxTouchesReached())){return}e.current=null;N.currentTarget=O.currentTarget;if(N.stopPropagation){O.stopPropagation()}for(;Q<J;Q++){if(N._maxTouchesReached()){break}L=M[Q];if(I){P=h(L.currentTarget)}else{P=N.element}if(!P.length){continue}L=new r(N,P,L);N.touches.push(L);L.press();if(N._isMultiTouch()){N.notify("gesturestart",{})}}},_move:function(I){this._eachTouch("move",I)},_end:function(I){this._eachTouch("end",I)},_eachTouch:function(Q,O){var N=this,J={},M=y(O),K=N.touches,R,L,P,I;for(R=0;R<K.length;R++){L=K[R];J[L.id]=L}for(R=0;R<M.length;R++){P=M[R];I=J[P.id];if(I){I[Q](P)}}},_apiCall:function(J,I,L,K){this[J]({api:true,pageX:I,pageY:L,clientX:I,clientY:L,target:h(K||this.element)[0],stopPropagation:h.noop,preventDefault:h.noop})}});e.defaultThreshold=function(I){w=I};e.minHold=function(I){s=I};t.getTouches=y;t.touchDelta=z;t.UserEvents=e})(window.kendo.jQuery);(function(D,p){var E=window.kendo,J=E.support,i=window.document,R=D(window),a=E.Class,j=E.ui.Widget,h=E.Observable,O=E.UserEvents,Q=D.proxy,o=D.extend,q=E.getOffset,r={},X={},e={},y,I=E.elementUnderCursor,U="keyup",C="change",L="dragstart",S="hold",v="drag",H="dragend",b="dragcancel",G="hintDestroyed",m="dragenter",u="dragleave",M="drop";function B(Y,aa){try{return D.contains(Y,aa)||Y==aa}catch(Z){return false}}function A(Y,Z){return parseInt(Y.css(Z),10)||0}function P(Z,Y){return Math.min(Math.max(Z,Y.min),Y.max)}function g(Z,aa){var ad=q(Z),Y=ad.left+A(Z,"borderLeftWidth")+A(Z,"paddingLeft"),ae=ad.top+A(Z,"borderTopWidth")+A(Z,"paddingTop"),ac=Y+Z.width()-aa.outerWidth(true),ab=ae+Z.height()-aa.outerHeight(true);return{x:{min:Y,max:ac},y:{min:ae,max:ab}}}function t(af,Z,aa){var ae,ac,ab=0,ad=Z&&Z.length,Y=aa&&aa.length;while(af&&af.parentNode){for(ab=0;ab<ad;ab++){ae=Z[ab];if(ae.element[0]===af){return{target:ae,targetElement:af}}}for(ab=0;ab<Y;ab++){ac=aa[ab];if(D.contains(ac.element[0],af)&&J.matchesSelector.call(af,ac.options.filter)){return{target:ac,targetElement:af}}}af=af.parentNode}return p}var T=h.extend({init:function(Z,Y){var aa=this,ab=Z[0];aa.capture=false;if(ab.addEventListener){D.each(E.eventMap.down.split(" "),function(){ab.addEventListener(this,Q(aa._press,aa),true)});D.each(E.eventMap.up.split(" "),function(){ab.addEventListener(this,Q(aa._release,aa),true)})}else{D.each(E.eventMap.down.split(" "),function(){ab.attachEvent(this,Q(aa._press,aa))});D.each(E.eventMap.up.split(" "),function(){ab.attachEvent(this,Q(aa._release,aa))})}h.fn.init.call(aa);aa.bind(["press","release"],Y||{})},captureNext:function(){this.capture=true},cancelCapture:function(){this.capture=false},_press:function(Z){var Y=this;Y.trigger("press");if(Y.capture){Z.preventDefault()}},_release:function(Z){var Y=this;Y.trigger("release");if(Y.capture){Z.preventDefault();Y.cancelCapture()}}});var x=h.extend({init:function(Y){var Z=this;h.fn.init.call(Z);Z.forcedEnabled=false;D.extend(Z,Y);Z.scale=1;if(Z.horizontal){Z.measure="offsetWidth";Z.scrollSize="scrollWidth";Z.axis="x"}else{Z.measure="offsetHeight";Z.scrollSize="scrollHeight";Z.axis="y"}},makeVirtual:function(){D.extend(this,{virtual:true,forcedEnabled:true,_virtualMin:0,_virtualMax:0})},virtualSize:function(Z,Y){if(this._virtualMin!==Z||this._virtualMax!==Y){this._virtualMin=Z;this._virtualMax=Y;this.update()}},outOfBounds:function(Y){return Y>this.max||Y<this.min},forceEnabled:function(){this.forcedEnabled=true},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(Y){this.scale=Y},update:function(Y){var ac=this,ab=ac.virtual?ac._virtualMax:ac.getTotal(),aa=ab*ac.scale,Z=ac.getSize();if(ab===0&&!ac.forcedEnabled){return}ac.max=ac.virtual?-ac._virtualMin:0;ac.size=Z;ac.total=aa;ac.min=Math.min(ac.max,Z-aa);ac.minScale=Z/ab;ac.centerOffset=(aa-Z)/2;ac.enabled=ac.forcedEnabled||(aa>Z);if(!Y){ac.trigger(C,ac)}}});var N=h.extend({init:function(Y){var Z=this;h.fn.init.call(Z);Z.x=new x(o({horizontal:true},Y));Z.y=new x(o({horizontal:false},Y));Z.container=Y.container;Z.forcedMinScale=Y.minScale;Z.maxScale=Y.maxScale||100;Z.bind(C,Y)},rescale:function(Y){this.x.rescale(Y);this.y.rescale(Y);this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var Y=this;Y.x.update();Y.y.update();Y.enabled=Y.x.enabled||Y.y.enabled;Y.minScale=Y.forcedMinScale||Math.min(Y.x.minScale,Y.y.minScale);Y.fitScale=Math.max(Y.x.minScale,Y.y.minScale);Y.trigger(C)}});var V=h.extend({init:function(Y){var Z=this;o(Z,Y);h.fn.init.call(Z)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(ad){var aa=this,ac=aa.dimension,Z=aa.axis,ab=aa.movable,Y=ab[Z]+ad;if(!ac.enabled){return}if((Y<ac.min&&ad<0)||(Y>ac.max&&ad>0)){ad*=aa.resistance}ab.translateAxis(Z,ad);aa.trigger(C,aa)}});var F=a.extend({init:function(Z){var ab=this,Y,ad,aa,ac;o(ab,{elastic:true},Z);aa=ab.elastic?0.5:0;ac=ab.movable;ab.x=Y=new V({axis:"x",dimension:ab.dimensions.x,resistance:aa,movable:ac});ab.y=ad=new V({axis:"y",dimension:ab.dimensions.y,resistance:aa,movable:ac});ab.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(ae){ab.gesture=ae;ab.offset=ab.dimensions.container.offset()},gesturechange:function(al){var af=ab.gesture,ai=af.center,ag=al.center,am=al.distance/af.distance,ah=ab.dimensions.minScale,ae=ab.dimensions.maxScale,an;if(ac.scale<=ah&&am<1){am+=(1-am)*0.8}if(ac.scale*am>=ae){am=ae/ac.scale}var ak=ac.x+ab.offset.left,aj=ac.y+ab.offset.top;an={x:(ak-ai.x)*am+ag.x-ak,y:(aj-ai.y)*am+ag.y-aj};ac.scaleWith(am);Y.dragMove(an.x);ad.dragMove(an.y);ab.dimensions.rescale(ac.scale);ab.gesture=al;al.preventDefault()},move:function(ae){if(ae.event.target.tagName.match(/textarea|input/i)){return}if(Y.dimension.enabled||ad.dimension.enabled){Y.dragMove(ae.x.delta);ad.dragMove(ae.y.delta);ae.preventDefault()}else{ae.touch.skip()}},end:function(ae){ae.preventDefault()}})}});var K=J.transitions.prefix+"Transform",f;if(J.hasHW3D){f=function(Y,aa,Z){return"translate3d("+Y+"px,"+aa+"px,0) scale("+Z+")"}}else{f=function(Y,aa,Z){return"translate("+Y+"px,"+aa+"px) scale("+Z+")"}}var s=h.extend({init:function(Y){var Z=this;h.fn.init.call(Z);Z.element=D(Y);Z.element[0].style.webkitTransformOrigin="left top";Z.x=0;Z.y=0;Z.scale=1;Z._saveCoordinates(f(Z.x,Z.y,Z.scale))},translateAxis:function(Y,Z){this[Y]+=Z;this.refresh()},scaleTo:function(Y){this.scale=Y;this.refresh()},scaleWith:function(Y){this.scale*=Y;this.refresh()},translate:function(Y){this.x+=Y.x;this.y+=Y.y;this.refresh()},moveAxis:function(Y,Z){this[Y]=Z;this.refresh()},moveTo:function(Y){o(this,Y);this.refresh()},refresh:function(){var Z=this,Y=Z.x,ab=Z.y,aa;if(Z.round){Y=Math.round(Y);ab=Math.round(ab)}aa=f(Y,ab,Z.scale);if(aa!=Z.coordinates){if(E.support.browser.msie&&E.support.browser.version<10){Z.element[0].style.position="absolute";Z.element[0].style.left=Z.x+"px";Z.element[0].style.top=Z.y+"px"}else{Z.element[0].style[K]=aa}Z._saveCoordinates(aa);Z.trigger(C)}},_saveCoordinates:function(Y){this.coordinates=Y}});function z(ab,aa){var ac=aa.options.group,Y=ab[ac],Z;j.fn.destroy.call(aa);if(Y.length>1){for(Z=0;Z<Y.length;Z++){if(Y[Z]==aa){Y.splice(Z,1);break}}}else{Y.length=0;delete ab[ac]}}var k=j.extend({init:function(Z,Y){var aa=this;j.fn.init.call(aa,Z,Y);var ab=aa.options.group;if(!(ab in X)){X[ab]=[aa]}else{X[ab].push(aa)}},events:[m,u,M],options:{name:"DropTarget",group:"default"},destroy:function(){z(X,this)},_trigger:function(Z,ab){var aa=this,Y=r[aa.options.group];if(Y){return aa.trigger(Z,o({},ab.event,{draggable:Y,dropTarget:ab.dropTarget}))}},_over:function(Y){this._trigger(m,Y)},_out:function(Y){this._trigger(u,Y)},_drop:function(aa){var Z=this,Y=r[Z.options.group];if(Y){Y.dropped=!Z._trigger(M,aa)}}});k.destroyGroup=function(aa){var Z=X[aa]||e[aa],Y;if(Z){for(Y=0;Y<Z.length;Y++){j.fn.destroy.call(Z[Y])}Z.length=0;delete X[aa];delete e[aa]}};k._cache=X;var d=k.extend({init:function(Z,Y){var aa=this;j.fn.init.call(aa,Z,Y);var ab=aa.options.group;if(!(ab in e)){e[ab]=[aa]}else{e[ab].push(aa)}},destroy:function(){z(e,this)},options:{name:"DropTargetArea",group:"default",filter:null}});var n=j.extend({init:function(Z,Y){var aa=this;j.fn.init.call(aa,Z,Y);aa._activated=false;aa.userEvents=new O(aa.element,{global:true,allowSelection:true,filter:aa.options.filter,threshold:aa.options.distance,start:Q(aa._start,aa),hold:Q(aa._hold,aa),move:Q(aa._drag,aa),end:Q(aa._end,aa),cancel:Q(aa._cancel,aa),select:Q(aa._select,aa)});aa._afterEndHandler=Q(aa._afterEnd,aa);aa._captureEscape=Q(aa._captureEscape,aa)},events:[S,L,v,H,b,G],options:{name:"Draggable",distance:(E.support.touch?0:5),group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:false,autoScroll:false,dropped:false},cancelHold:function(){this._activated=false},_captureEscape:function(Z){var Y=this;if(Z.keyCode===E.keys.ESC){Y._trigger(b,{event:Z});Y.userEvents.cancel()}},_updateHint:function(ad){var ac=this,ae,aa=ac.options,Z=ac.boundaries,ab=aa.axis,Y=ac.options.cursorOffset;if(Y){ae={left:ad.x.location+Y.left,top:ad.y.location+Y.top}}else{ac.hintOffset.left+=ad.x.delta;ac.hintOffset.top+=ad.y.delta;ae=D.extend({},ac.hintOffset)}if(Z){ae.top=P(ae.top,Z.y);ae.left=P(ae.left,Z.x)}if(ab==="x"){delete ae.top}else{if(ab==="y"){delete ae.left}}ac.hint.css(ae)},_shouldIgnoreTarget:function(Z){var Y=this.options.ignore;return Y&&D(Z).is(Y)},_select:function(Y){if(!this._shouldIgnoreTarget(Y.event.target)){Y.preventDefault()}},_start:function(ab){var aa=this,Z=aa.options,Y=Z.container,ad=Z.hint;if(this._shouldIgnoreTarget(ab.touch.initialTouch)||(Z.holdToDrag&&!aa._activated)){aa.userEvents.cancel();return}aa.currentTarget=ab.target;aa.currentTargetOffset=q(aa.currentTarget);if(ad){if(aa.hint){aa.hint.stop(true,true).remove()}aa.hint=E.isFunction(ad)?D(ad.call(aa,aa.currentTarget)):ad;var ac=q(aa.currentTarget);aa.hintOffset=ac;aa.hint.css({position:"absolute",zIndex:20000,left:ac.left,top:ac.top}).appendTo(i.body);aa.angular("compile",function(){aa.hint.removeAttr("ng-repeat");var ae=D(ab.target);while(!ae.data("$$kendoScope")&&ae.length){ae=ae.parent()}return{elements:aa.hint.get(),scopeFrom:ae.data("$$kendoScope")}})}r[Z.group]=aa;aa.dropped=false;if(Y){aa.boundaries=g(Y,aa.hint)}if(aa._trigger(L,ab)){aa.userEvents.cancel();aa._afterEnd()}aa.userEvents.capture();D(i).on(U,aa._captureEscape)},_hold:function(Y){this.currentTarget=Y.target;if(this._trigger(S,Y)){this.userEvents.cancel()}else{this._activated=true}},_drag:function(ab){var Z=this;ab.preventDefault();var aa=this._elementUnderCursor(ab);Z._withDropTarget(aa,function(ad,ac){if(!ad){if(y){y._trigger(u,o(ab,{dropTarget:D(y.targetElement)}));y=null}return}if(y){if(ac===y.targetElement){return}y._trigger(u,o(ab,{dropTarget:D(y.targetElement)}))}ad._trigger(m,o(ab,{dropTarget:D(ac)}));y=o(ad,{targetElement:ac})});Z._trigger(v,o(ab,{dropTarget:y,elementUnderCursor:aa}));if(this.options.autoScroll){if(this._cursorElement!==aa){this._scrollableParent=l(aa);this._cursorElement=aa}if(this._scrollableParent[0]){var Y=c(ab.x.location,ab.y.location,W(this._scrollableParent));this._scrollCompenstation=D.extend({},this.hintOffset);this._scrollVelocity=Y;if(Y.y===0&&Y.x===0){clearInterval(this._scrollInterval);this._scrollInterval=null}else{if(!this._scrollInterval){this._scrollInterval=setInterval(D.proxy(this,"_autoScroll"),50)}}}}if(Z.hint){Z._updateHint(ab)}},_autoScroll:function(){var ag=this._scrollableParent[0],ab=this._scrollVelocity,aa=this._scrollCompenstation;if(!ag){return}var ad,Y;var Z=ag===i.body;if(Z){ad=i.body.offsetHeight>R.height();Y=i.body.offsetWidth>R.width()}else{ad=ag.offsetHeight<=ag.scrollHeight;Y=ag.offsetWidth<=ag.scrollWidth}var af=ag.scrollTop+ab.y;var ah=ad&&af>0&&af<ag.scrollHeight;var ac=ag.scrollLeft+ab.x;var ae=Y&&ac>0&&ac<ag.scrollWidth;if(ah){ag.scrollTop+=ab.y}if(ae){ag.scrollLeft+=ab.x}if(Z&&(ae||ah)){if(ah){aa.top+=ab.y}if(ae){aa.left+=ab.x}this.hint.css(aa)}},_end:function(Y){this._withDropTarget(this._elementUnderCursor(Y),function(aa,Z){if(aa){aa._drop(o({},Y,{dropTarget:D(Z)}));y=null}});this._trigger(H,Y);this._cancel(Y.event)},_cancel:function(){var Y=this;Y._scrollableParent=null;clearInterval(this._scrollInterval);Y._activated=false;if(Y.hint&&!Y.dropped){setTimeout(function(){Y.hint.stop(true,true).animate(Y.currentTargetOffset,"fast",Y._afterEndHandler)},0)}else{Y._afterEnd()}},_trigger:function(Y,aa){var Z=this;return Z.trigger(Y,o({},aa.event,{x:aa.x,y:aa.y,currentTarget:Z.currentTarget,initialTarget:aa.touch?aa.touch.initialTouch:null,dropTarget:aa.dropTarget,elementUnderCursor:aa.elementUnderCursor}))},_elementUnderCursor:function(Z){var Y=I(Z),aa=this.hint;if(aa&&B(aa[0],Y)){aa.hide();Y=I(Z);if(!Y){Y=I(Z)}aa.show()}return Y},_withDropTarget:function(ab,ad){var Y,ac=this.options.group,Z=X[ac],aa=e[ac];if(Z&&Z.length||aa&&aa.length){Y=t(ab,Z,aa);if(Y){ad(Y.target,Y.targetElement)}else{ad()}}},destroy:function(){var Y=this;j.fn.destroy.call(Y);Y._afterEnd();Y.userEvents.destroy();this._scrollableParent=null;this._cursorElement=null;clearInterval(this._scrollInterval);Y.currentTarget=null},_afterEnd:function(){var Y=this;if(Y.hint){Y.hint.remove()}delete r[Y.options.group];Y.trigger("destroy");Y.trigger(G);D(i).off(U,Y._captureEscape)}});E.ui.plugin(k);E.ui.plugin(d);E.ui.plugin(n);E.TapCapture=T;E.containerBoundaries=g;o(E.ui,{Pane:F,PaneDimensions:N,Movable:s});function W(Z){var Y=i.body,ac,ab,aa;if(Z[0]===Y){ab=Y.scrollTop;aa=Y.scrollLeft;return{top:ab,left:aa,bottom:ab+R.height(),right:aa+R.width()}}else{ac=Z.offset();ac.bottom=ac.top+Z.height();ac.right=ac.left+Z.width();return ac}}function w(Y){return Y===i.body||Y===i.documentElement||Y===i}function l(Y){if(!Y||w(Y)){return D(i.body)}var Z=D(Y)[0];while(!E.isScrollable(Z)&&!w(Z)){Z=Z.parentNode}return D(Z)}function c(Z,Y,ab){var aa={x:0,y:0};var ac=50;if(Z-ab.left<ac){aa.x=-(ac-(Z-ab.left))}else{if(ab.right-Z<ac){aa.x=ac-(ab.right-Z)}}if(Y-ab.top<ac){aa.y=-(ac-(Y-ab.top))}else{if(ab.bottom-Y<ac){aa.y=ac-(ab.bottom-Y)}}return aa}E.ui.Draggable.utils={autoScrollVelocity:c,scrollableViewPort:W,findScrollableParent:l}})(window.kendo.jQuery);(function(h,i){var w=window.kendo,c=w.mobile,d=w.effects,v=c.ui,z=h.proxy,C=h.extend,b=v.Widget,A=w.Class,y=w.ui.Movable,D=w.ui.Pane,o=w.ui.PaneDimensions,g=d.Transition,H=d.Animation,u=Math.abs,G=500,x=0.7,F=0.96,k=10,E=55,q=0.5,I=5,a="km-scroller-release",f="km-scroller-refresh",e="pull",r="change",n="resize",s="scroll",m=2;var l=H.extend({init:function(J){var K=this;H.fn.init.call(K);C(K,J);K.userEvents.bind("gestureend",z(K.start,K));K.tapCapture.bind("press",z(K.cancel,K))},enabled:function(){return this.movable.scale<this.dimensions.minScale},done:function(){return this.dimensions.minScale-this.movable.scale<0.01},tick:function(){var J=this.movable;J.scaleWith(1.1);this.dimensions.rescale(J.scale)},onEnd:function(){var J=this.movable;J.scaleTo(this.dimensions.minScale);this.dimensions.rescale(J.scale)}});var t=H.extend({init:function(J){var K=this;H.fn.init.call(K);C(K,J,{transition:new g({axis:J.axis,movable:J.movable,onEnd:function(){K._end()}})});K.tapCapture.bind("press",function(){K.cancel()});K.userEvents.bind("end",z(K.start,K));K.userEvents.bind("gestureend",z(K.start,K));K.userEvents.bind("tap",z(K.onEnd,K))},onCancel:function(){this.transition.cancel()},freeze:function(J){var K=this;K.cancel();K._moveTo(J)},onEnd:function(){var J=this;if(J.paneAxis.outOfBounds()){J._snapBack()}else{J._end()}},done:function(){return u(this.velocity)<1},start:function(L){var K=this,J;if(!K.dimension.enabled){return}if(K.paneAxis.outOfBounds()){K._snapBack()}else{J=L.touch.id===m?0:L.touch[K.axis].velocity;K.velocity=Math.max(Math.min(J*K.velocityMultiplier,E),-E);K.tapCapture.captureNext();H.fn.start.call(K)}},tick:function(){var K=this,M=K.dimension,L=K.paneAxis.outOfBounds()?q:K.friction,N=(K.velocity*=L),J=K.movable[K.axis]+N;if(!K.elastic&&M.outOfBounds(J)){J=Math.max(Math.min(J,M.max),M.min);K.velocity=0}K.movable.moveAxis(K.axis,J)},_end:function(){this.tapCapture.cancelCapture();this.end()},_snapBack:function(){var J=this,L=J.dimension,K=J.movable[J.axis]>L.max?L.max:L.min;J._moveTo(K)},_moveTo:function(J){this.transition.moveTo({location:J,duration:G,ease:g.easeOutExpo})}});var j=H.extend({init:function(J){var K=this;w.effects.Animation.fn.init.call(this);C(K,J,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates();this.moveTo(this.origin)},done:function(){return u(this.offset.y)<I&&u(this.offset.x)<I},onEnd:function(){this.moveTo(this.destination);if(this.callback){this.callback.call()}},setCoordinates:function(K,J){this.offset={};this.origin=K;this.destination=J},setCallback:function(J){if(J&&w.isFunction(J)){this.callback=J}else{J=i}},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4};this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}});var p=A.extend({init:function(K){var M=this,J=K.axis==="x",L=h('<div class="km-touch-scrollbar km-'+(J?"horizontal":"vertical")+'-scrollbar" />');C(M,K,{element:L,elementSize:0,movable:new y(L),scrollMovable:K.movable,alwaysVisible:K.alwaysVisible,size:J?"width":"height"});M.scrollMovable.bind(r,z(M.refresh,M));M.container.append(L);if(K.alwaysVisible){M.show()}},refresh:function(){var O=this,N=O.axis,Q=O.dimension,M=Q.size,K=O.scrollMovable,P=M/Q.total,J=Math.round(-K[N]*P),L=Math.round(M*P);if(P>=1){this.element.css("display","none")}else{this.element.css("display","")}if(J+L>M){L=M-J}else{if(J<0){L+=J;J=0}}if(O.elementSize!=L){O.element.css(O.size,L+"px");O.elementSize=L}O.movable.moveAxis(N,J)},show:function(){this.element.css({opacity:x,visibility:"visible"})},hide:function(){if(!this.alwaysVisible){this.element.css({opacity:0})}}});var B=b.extend({init:function(N,T){var P=this;b.fn.init.call(P,N,T);N=P.element;P._native=P.options.useNative&&w.support.hasNativeScrolling;if(P._native){N.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>');C(P,{scrollElement:N,fixedContainer:N.children().first()});return}N.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var U=N.children().eq(1),S=new w.TapCapture(N),R=new y(U),J=new o({element:U,container:N,forcedEnabled:P.options.zoom}),O=this.options.avoidScrolling,Q=new w.UserEvents(N,{allowSelection:true,preventDragEvent:true,captureUpIfMoved:true,multiTouch:P.options.zoom,start:function(aa){J.refresh();var X=u(aa.x.velocity),V=u(aa.y.velocity),Z=X*2>=V,W=h.contains(P.fixedContainer[0],aa.event.target),Y=V*2>=X;if(!W&&!O(aa)&&P.enabled&&(J.x.enabled&&Z||J.y.enabled&&Y)){Q.capture()}else{Q.cancel()}}}),L=new D({movable:R,dimensions:J,userEvents:Q,elastic:P.options.elastic}),K=new l({movable:R,dimensions:J,userEvents:Q,tapCapture:S}),M=new j({moveTo:function(V){P.scrollTo(V.x,V.y)}});R.bind(r,function(){P.scrollTop=-R.y;P.scrollLeft=-R.x;P.trigger(s,{scrollTop:P.scrollTop,scrollLeft:P.scrollLeft})});if(P.options.mousewheelScrolling){N.on("DOMMouseScroll mousewheel",z(this,"_wheelScroll"))}C(P,{movable:R,dimensions:J,zoomSnapBack:K,animatedScroller:M,userEvents:Q,pane:L,tapCapture:S,pulled:false,enabled:true,scrollElement:U,scrollTop:0,scrollLeft:0,fixedContainer:N.children().first()});P._initAxis("x");P._initAxis("y");P._wheelEnd=function(){P._wheel=false;P.userEvents.end(0,P._wheelY)};J.refresh();if(P.options.pullToRefresh){P._initPullToRefresh()}},_wheelScroll:function(J){if(!this._wheel){this._wheel=true;this._wheelY=0;this.userEvents.press(0,this._wheelY)}clearTimeout(this._wheelTimeout);this._wheelTimeout=setTimeout(this._wheelEnd,50);var K=w.wheelDeltaY(J);if(K){this._wheelY+=K;this.userEvents.move(0,this._wheelY)}J.preventDefault()},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(K,J){this.dimensions.y.virtualSize(K,J)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:false,pullOffset:140,visibleScrollHints:false,elastic:true,useNative:false,mousewheelScrolling:true,avoidScrolling:function(){return false},pullToRefresh:false,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}},events:[e,s,n],_resize:function(){if(!this._native){this.contentResized()}},setOptions:function(J){var K=this;b.fn.setOptions.call(K,J);if(J.pullToRefresh){K._initPullToRefresh()}},reset:function(){if(this._native){this.scrollElement.scrollTop(0)}else{this.movable.moveTo({x:0,y:0});this._scale(1)}},contentResized:function(){this.dimensions.refresh();if(this.pane.x.outOfBounds()){this.movable.moveAxis("x",this.dimensions.x.min)}if(this.pane.y.outOfBounds()){this.movable.moveAxis("y",this.dimensions.y.min)}},zoomOut:function(){var J=this.dimensions;J.refresh();this._scale(J.fitScale);this.movable.moveTo(J.centerCoordinates())},enable:function(){this.enabled=true},disable:function(){this.enabled=false},scrollTo:function(J,K){if(this._native){this.scrollElement.scrollLeft(u(J));this.scrollElement.scrollTop(u(K))}else{this.dimensions.refresh();this.movable.moveTo({x:J,y:K})}},animatedScrollTo:function(J,N,M){var L,K;if(this._native){this.scrollTo(J,N)}else{L={x:this.movable.x,y:this.movable.y};K={x:J,y:N};this.animatedScroller.setCoordinates(L,K);this.animatedScroller.setCallback(M);this.animatedScroller.start()}},pullHandled:function(){var J=this;J.refreshHint.removeClass(f);J.hintContainer.html(J.pullTemplate({}));J.yinertia.onEnd();J.xinertia.onEnd();J.userEvents.cancel()},destroy:function(){b.fn.destroy.call(this);if(this.userEvents){this.userEvents.destroy()}},_scale:function(J){this.dimensions.rescale(J);this.movable.scaleTo(J)},_initPullToRefresh:function(){var J=this;J.dimensions.y.forceEnabled();J.pullTemplate=w.template(J.options.messages.pullTemplate);J.releaseTemplate=w.template(J.options.messages.releaseTemplate);J.refreshTemplate=w.template(J.options.messages.refreshTemplate);J.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+J.pullTemplate({})+"</span></span>");J.refreshHint=J.scrollElement.children().first();J.hintContainer=J.refreshHint.children(".km-template");J.pane.y.bind("change",z(J._paneChange,J));J.userEvents.bind("end",z(J._dragEnd,J))},_dragEnd:function(){var J=this;if(!J.pulled){return}J.pulled=false;J.refreshHint.removeClass(a).addClass(f);J.hintContainer.html(J.refreshTemplate({}));J.yinertia.freeze(J.options.pullOffset/2);J.trigger("pull")},_paneChange:function(){var J=this;if(J.movable.y/q>J.options.pullOffset){if(!J.pulled){J.pulled=true;J.refreshHint.removeClass(f).addClass(a);J.hintContainer.html(J.releaseTemplate({}))}}else{if(J.pulled){J.pulled=false;J.refreshHint.removeClass(a);J.hintContainer.html(J.pullTemplate({}))}}},_initAxis:function(J){var M=this,P=M.movable,O=M.dimensions[J],N=M.tapCapture,L=M.pane[J],K=new p({axis:J,movable:P,dimension:O,container:M.element,alwaysVisible:M.options.visibleScrollHints});O.bind(r,function(){K.refresh()});L.bind(r,function(){K.show()});M[J+"inertia"]=new t({axis:J,paneAxis:L,movable:P,tapCapture:N,userEvents:M.userEvents,dimension:O,elastic:M.options.elastic,friction:M.options.friction||F,velocityMultiplier:M.options.velocityMultiplier||k,end:function(){K.hide();M.trigger("scrollEnd",{axis:J,scrollTop:M.scrollTop,scrollLeft:M.scrollLeft})}})}});v.plugin(B)})(window.kendo.jQuery);(function(e,a){var h=window.kendo,m=h.ui.Widget,i=e.proxy,j=false,b=".kendoGroupable",f="change",c=h.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}"><a href="\\#" class="k-link"><span class="k-icon k-si-arrow-${(data.dir || "asc") == "asc" ? "n" : "s"}">(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})</span>${data.title ? data.title: data.field}</a><a class="k-button k-button-icon k-button-bare"><span class="k-icon k-group-delete"></span></a></div>',{useWithBlock:false}),d=function(o){return e('<div class="k-header k-drag-clue" />').css({width:o.width(),paddingLeft:o.css("paddingLeft"),paddingRight:o.css("paddingRight"),lineHeight:o.height()+"px",paddingTop:o.css("paddingTop"),paddingBottom:o.css("paddingBottom")}).html(o.attr(h.attr("title"))||o.attr(h.attr("field"))).prepend('<span class="k-icon k-drag-status k-denied" />')},l=e('<div class="k-grouping-dropclue"/>'),n=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g;function g(o){return o.position().top+3}var k=m.extend({init:function(r,v){var s=this,t,u=h.guid(),q=i(s._intializePositions,s),w,p,o=s._dropCuePositions=[];m.fn.init.call(s,r,v);j=h.support.isRtl(r);p=j?"right":"left";s.draggable=w=s.options.draggable||new h.ui.Draggable(s.element,{filter:s.options.draggableElements,hint:d,group:u});s.groupContainer=e(s.options.groupContainer,s.element).kendoDropTarget({group:w.options.group,dragenter:function(x){if(s._canDrag(x.draggable.currentTarget)){x.draggable.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add");l.css("top",g(s.groupContainer)).css(p,0).appendTo(s.groupContainer)}},dragleave:function(x){x.draggable.hint.find(".k-drag-status").removeClass("k-add").addClass("k-denied");l.remove()},drop:function(D){var A=D.draggable.currentTarget,C=A.attr(h.attr("field")),E=A.attr(h.attr("title")),B=s.indicator(C),z=s._dropCuePositions,y=z[z.length-1],x;if(!A.hasClass("k-group-indicator")&&!s._canDrag(A)){return}if(y){x=s._dropCuePosition(h.getOffset(l).left+parseInt(y.element.css("marginLeft"),10)*(j?-1:1)+parseInt(y.element.css("marginRight"),10));if(x&&s._canDrop(e(B),x.element,x.left)){if(x.before){x.element.before(B||s.buildIndicator(C,E))}else{x.element.after(B||s.buildIndicator(C,E))}s._change()}}else{s.groupContainer.append(s.buildIndicator(C,E));s._change()}}}).kendoDraggable({filter:"div.k-group-indicator",hint:d,group:w.options.group,dragcancel:i(s._dragCancel,s),dragstart:function(B){var x=B.currentTarget,z=parseInt(x.css("marginLeft"),10),y=x.position(),A=j?y.left-z:y.left+x.outerWidth();q();l.css({top:g(s.groupContainer),left:A}).appendTo(s.groupContainer);this.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add")},dragend:function(){s._dragEnd(this)},drag:i(s._drag,s)}).on("click"+b,".k-button",function(x){x.preventDefault();s._removeIndicator(e(this).parent())}).on("click"+b,".k-link",function(z){var y=e(this).parent(),x=s.buildIndicator(y.attr(h.attr("field")),y.attr(h.attr("title")),y.attr(h.attr("dir"))=="asc"?"desc":"asc");y.before(x).remove();s._change();z.preventDefault()});w.bind(["dragend","dragcancel","dragstart","drag"],{dragend:function(){s._dragEnd(this)},dragcancel:i(s._dragCancel,s),dragstart:function(A){var x,y,z;if(!s.options.allowDrag&&!s._canDrag(A.currentTarget)){A.preventDefault();return}q();if(o.length){x=o[o.length-1].element;y=parseInt(x.css("marginRight"),10);z=x.position().left+x.outerWidth()+y}else{z=0}},drag:i(s._drag,s)});s.dataSource=s.options.dataSource;if(s.dataSource&&s._refreshHandler){s.dataSource.unbind(f,s._refreshHandler)}else{s._refreshHandler=i(s.refresh,s)}if(s.dataSource){s.dataSource.bind("change",s._refreshHandler);s.refresh()}},refresh:function(){var o=this,p=o.dataSource;if(o.groupContainer){o.groupContainer.empty().append(e.map(p.group()||[],function(s){var t=s.field;var q=h.attr("field");var r=o.element.find(o.options.filter).filter(function(){return e(this).attr(q)===t});return o.buildIndicator(s.field,r.attr(h.attr("title")),s.dir)}).join(""))}o._invalidateGroupContainer()},destroy:function(){var o=this;m.fn.destroy.call(o);o.groupContainer.off(b);if(o.groupContainer.data("kendoDropTarget")){o.groupContainer.data("kendoDropTarget").destroy()}if(o.groupContainer.data("kendoDraggable")){o.groupContainer.data("kendoDraggable").destroy()}if(!o.options.draggable){o.draggable.destroy()}if(o.dataSource&&o._refreshHandler){o.dataSource.unbind("change",o._refreshHandler);o._refreshHandler=null}o.groupContainer=o.element=o.draggable=null},options:{name:"Groupable",filter:"th",draggableElements:"th",messages:{empty:"Drag a column header and drop it here to group by that column"}},indicator:function(p){var o=e(".k-group-indicator",this.groupContainer);return e.grep(o,function(q){return e(q).attr(h.attr("field"))===p})[0]},buildIndicator:function(p,q,o){return c({field:p.replace(/"/g,"'"),dir:o,title:q,ns:h.ns})},descriptors:function(){var q=this,t=e(".k-group-indicator",q.groupContainer),u,s,r,o,p;u=q.element.find(q.options.filter).map(function(){var v=e(this),w=v.attr(h.attr("aggregates")),x=v.attr(h.attr("field"));if(w&&w!==""){s=w.split(",");w=[];for(o=0,p=s.length;o<p;o++){w.push({field:x,aggregate:s[o]})}}return w}).toArray();return e.map(t,function(v){v=e(v);r=v.attr(h.attr("field"));return{field:r,dir:v.attr(h.attr("dir")),aggregates:u||[]}})},_removeIndicator:function(o){var p=this;o.remove();p._invalidateGroupContainer();p._change()},_change:function(){var o=this;if(o.dataSource){o.dataSource.group(o.descriptors())}},_dropCuePosition:function(p){var q=this._dropCuePositions;if(!l.is(":visible")||q.length===0){return}p=Math.ceil(p);var o=q[q.length-1],u=o.left,r=o.right,t=parseInt(o.element.css("marginLeft"),10),s=parseInt(o.element.css("marginRight"),10);if(p>=r&&!j||p<u&&j){p={left:o.element.position().left+(!j?o.element.outerWidth()+s:-t),element:o.element,before:false}}else{p=e.grep(q,function(v){return(v.left<=p&&p<=v.right)||(j&&p>v.right)})[0];if(p){p={left:j?p.element.position().left+p.element.outerWidth()+s:p.element.position().left-t,element:p.element,before:true}}}return p},_drag:function(p){var o=this._dropCuePosition(p.x.location);if(o){l.css({left:o.left,right:"auto"})}},_canDrag:function(o){var p=o.attr(h.attr("field"));return o.attr(h.attr("groupable"))!="false"&&p&&(o.hasClass("k-group-indicator")||!this.indicator(p))},_canDrop:function(r,s,p){var q=r.next(),o=r[0]!==s[0]&&(!q[0]||s[0]!==q[0]||(!j&&p>q.position().left||j&&p<q.position().left));return o},_dragEnd:function(o){var q=this,r=o.currentTarget.attr(h.attr("field")),p=q.indicator(r);if(o!==q.options.draggable&&!o.dropped&&p){q._removeIndicator(e(p))}q._dragCancel()},_dragCancel:function(){l.remove();this._dropCuePositions=[]},_intializePositions:function(){var o=this,q=e(".k-group-indicator",o.groupContainer),p;o._dropCuePositions=e.map(q,function(r){r=e(r);p=h.getOffset(r).left;return{left:parseInt(p,10),right:parseInt(p+r.outerWidth(),10),element:r}})},_invalidateGroupContainer:function(){var o=this.groupContainer;if(o&&o.is(":empty")){o.html(this.options.messages.empty)}}});h.ui.plugin(k)})(window.kendo.jQuery);(function(c,b){var f=window.kendo,i=f.getOffset,g=f.ui.Widget,d="change",e="k-reorderable";function a(k,j){k=c(k);if(j){k.find(".k-drag-status").removeClass("k-add").addClass("k-denied")}else{k.find(".k-drag-status").removeClass("k-denied").addClass("k-add")}}var h=g.extend({init:function(l,k){var m=this,j,n=f.guid()+"-reorderable";g.fn.init.call(m,l,k);l=m.element.addClass(e);k=m.options;m.draggable=j=k.draggable||new f.ui.Draggable(l,{group:n,filter:k.filter,hint:k.hint});m.reorderDropCue=c('<div class="k-reorder-cue"><div class="k-icon k-i-arrow-s"></div><div class="k-icon k-i-arrow-n"></div></div>');l.find(j.options.filter).kendoDropTarget({group:j.options.group,dragenter:function(q){if(!m._draggable){return}var s=this.element,r;var o=!m._dropTargetAllowed(s)||m._isLastDraggable();a(q.draggable.hint,o);if(!o){r=i(s);var p=r.left;if(k.inSameContainer&&!k.inSameContainer({source:s,target:m._draggable,sourceIndex:m._index(s),targetIndex:m._index(m._draggable)})){m._dropTarget=s}else{if(m._index(s)>m._index(m._draggable)){p+=s.outerWidth()}}m.reorderDropCue.css({height:s.outerHeight(),top:r.top,left:p}).appendTo(document.body)}},dragleave:function(o){a(o.draggable.hint,true);m.reorderDropCue.remove();m._dropTarget=null},drop:function(){m._dropTarget=null;if(!m._draggable){return}var q=this.element;var o=m._draggable;var p=false;if(m._dropTargetAllowed(q)&&!m._isLastDraggable()){m.trigger(d,{element:m._draggable,target:q,oldIndex:m._index(o),newIndex:m._index(q),position:i(m.reorderDropCue).left>i(q).left?"after":"before"})}}});j.bind(["dragcancel","dragend","dragstart","drag"],{dragcancel:function(){m.reorderDropCue.remove();m._draggable=null;m._elements=null},dragend:function(){m.reorderDropCue.remove();m._draggable=null;m._elements=null},dragstart:function(o){m._draggable=o.currentTarget;m._elements=m.element.find(m.draggable.options.filter)},drag:function(q){if(!m._dropTarget||this.hint.find(".k-drag-status").hasClass("k-denied")){return}var p=i(m._dropTarget).left;var o=m._dropTarget.outerWidth();if(q.pageX>p+o/2){m.reorderDropCue.css({left:p+o})}else{m.reorderDropCue.css({left:p})}}})},options:{name:"Reorderable",filter:"*"},events:[d],_isLastDraggable:function(){var n=this.options.inSameContainer,j=this._draggable[0],m=this._elements.get(),l=false,k;if(!n){return false}while(!l&&m.length>0){k=m.pop();l=j!==k&&n({source:j,target:k,sourceIndex:this._index(j),targetIndex:this._index(k)})}return !l},_dropTargetAllowed:function(m){var l=this.options.inSameContainer,k=this.options.dragOverContainers,j=this._draggable;if(j[0]===m[0]){return false}if(!l||!k){return true}if(l({source:j,target:m,sourceIndex:this._index(j),targetIndex:this._index(m)})){return true}return k(this._index(j),this._index(m))},_index:function(j){return this._elements.index(j)},destroy:function(){var j=this;g.fn.destroy.call(j);j.element.find(j.draggable.options.filter).each(function(){var k=c(this);if(k.data("kendoDropTarget")){k.data("kendoDropTarget").destroy()}});if(j.draggable){j.draggable.destroy();j.draggable.element=j.draggable=null}j.elements=j.reorderDropCue=j._elements=j._draggable=null}});f.ui.plugin(h)})(window.kendo.jQuery);(function(g,e){var j=window.kendo,l=j.ui,m=l.Widget,k=g.proxy,b=j.isFunction,i=g.extend,d="horizontal",f="vertical",n="start",a="resize",h="resizeend";var c=m.extend({init:function(p,o){var q=this;m.fn.init.call(q,p,o);q.orientation=q.options.orientation.toLowerCase()!=f?d:f;q._positionMouse=q.orientation==d?"x":"y";q._position=q.orientation==d?"left":"top";q._sizingDom=q.orientation==d?"outerWidth":"outerHeight";q.draggable=new l.Draggable(p,{distance:1,filter:o.handle,drag:k(q._resize,q),dragcancel:k(q._cancel,q),dragstart:k(q._start,q),dragend:k(q._stop,q)});q.userEvents=q.draggable.userEvents},events:[a,h,n],options:{name:"Resizable",orientation:d},resize:function(){},_max:function(r){var q=this,o=q.hint?q.hint[q._sizingDom]():0,p=q.options.max;return b(p)?p(r):p!==e?(q._initialElementPosition+p)-o:p},_min:function(q){var p=this,o=p.options.min;return b(o)?o(q):o!==e?p._initialElementPosition+o:o},_start:function(q){var p=this,r=p.options.hint,o=g(q.currentTarget);p._initialElementPosition=o.position()[p._position];p._initialMousePosition=q[p._positionMouse].startLocation;if(r){p.hint=b(r)?g(r(o)):r;p.hint.css({position:"absolute"}).css(p._position,p._initialElementPosition).appendTo(p.element)}p.trigger(n,q);p._maxPosition=p._max(q);p._minPosition=p._min(q);g(document.body).css("cursor",o.css("cursor"))},_resize:function(r){var p=this,s=p._maxPosition,t=p._minPosition,q=p._initialElementPosition+(r[p._positionMouse].location-p._initialMousePosition),o;o=t!==e?Math.max(t,q):q;p.position=o=s!==e?Math.min(s,o):o;if(p.hint){p.hint.toggleClass(p.options.invalidClass||"",o==s||o==t).css(p._position,o)}p.resizing=true;p.trigger(a,i(r,{position:o}))},_stop:function(p){var o=this;if(o.hint){o.hint.remove()}o.resizing=false;o.trigger(h,i(p,{position:o.position}));g(document.body).css("cursor","")},_cancel:function(p){var o=this;if(o.hint){o.position=e;o.hint.css(o._position,o._initialElementPosition);o._stop(p)}},destroy:function(){var o=this;m.fn.destroy.call(o);if(o.draggable){o.draggable.destroy()}},press:function(q){if(!q){return}var o=q.position(),p=this;p.userEvents.press(o.left,o.top,q[0]);p.targetPosition=o;p.target=q},move:function(s){var q=this,p=q._position,o=q.targetPosition,r=q.position;if(r===e){r=o[p]}o[p]=r+s;q.userEvents.move(o.left,o.top)},end:function(){this.userEvents.end();this.target=this.position=e}});j.ui.plugin(c)})(window.kendo.jQuery);(function(d,f){var l=window.kendo,a=l.ui.Widget,o="start",s="beforeMove",r="move",e="end",i="change",c="cancel",g="sort",n="remove",h="receive",j=">*",p=-1;function q(t,v){try{return d.contains(t,v)||t==v}catch(u){return false}}function m(t){return t.clone()}function k(t){return t.clone().removeAttr("id").css("visibility","hidden")}var b=a.extend({init:function(u,t){var v=this;a.fn.init.call(v,u,t);if(!v.options.placeholder){v.options.placeholder=k}if(!v.options.hint){v.options.hint=m}v._draggable=v._createDraggable()},events:[o,s,r,e,i,c],options:{name:"Sortable",hint:null,placeholder:null,filter:j,holdToDrag:false,disabled:null,container:null,connectWith:null,handler:null,cursorOffset:null,axis:null,ignore:null,autoScroll:false,cursor:"auto"},destroy:function(){this._draggable.destroy();a.fn.destroy.call(this)},_createDraggable:function(){var v=this,u=v.element,t=v.options;return new l.ui.Draggable(u,{filter:t.filter,hint:l.isFunction(t.hint)?t.hint:d(t.hint),holdToDrag:t.holdToDrag,container:t.container?d(t.container):null,cursorOffset:t.cursorOffset,axis:t.axis,ignore:t.ignore,autoScroll:t.autoScroll,dragstart:d.proxy(v._dragstart,v),dragcancel:d.proxy(v._dragcancel,v),drag:d.proxy(v._drag,v),dragend:d.proxy(v._dragend,v)})},_dragstart:function(y){var t=this.draggedElement=y.currentTarget,x=y.target||l.elementUnderCursor(y),w=this.options.disabled,v=this.options.handler,u=this.options.placeholder,z=this.placeholder=l.isFunction(u)?d(u.call(this,t)):d(u);if(w&&t.is(w)){y.preventDefault()}else{if(v&&!d(y.initialTarget).is(v)){y.preventDefault()}else{if(this.trigger(o,{item:t,draggableEvent:y})){y.preventDefault()}else{t.css("display","none");t.before(z);this._setCursor()}}}},_dragcancel:function(t){this._cancel();this.trigger(c,{item:this.draggedElement});this._resetCursor()},_drag:function(x){var z=this.draggedElement,y=this._findTarget(x),A,t={left:x.x.location,top:x.y.location},w,v={x:x.x.delta,y:x.y.delta},B,E,C,u=this.options.axis,D={item:z,list:this,draggableEvent:x};if(u==="x"||u==="y"){this._movementByAxis(u,t,v[u],D);return}if(y){A=this._getElementCenter(y.element);w={left:Math.round(t.left-A.left),top:Math.round(t.top-A.top)};d.extend(D,{target:y.element});if(y.appendToBottom){this._movePlaceholder(y,null,D);return}if(y.appendAfterHidden){this._movePlaceholder(y,"next",D)}if(this._isFloating(y.element)){if(v.x<0&&w.left<0){B="prev"}else{if(v.x>0&&w.left>0){B="next"}}}else{if(v.y<0&&w.top<0){B="prev"}else{if(v.y>0&&w.top>0){B="next"}}}if(B){C=(B==="prev")?jQuery.fn.prev:jQuery.fn.next;E=C.call(y.element);while(E.length&&!E.is(":visible")){E=C.call(E)}if(E[0]!=this.placeholder[0]){this._movePlaceholder(y,B,D)}}}},_dragend:function(v){var z=this.placeholder,w=this.draggedElement,t=this.indexOf(w),x=this.indexOf(z),y=this.options.connectWith,u,C,A,B;this._resetCursor();A={action:g,item:w,oldIndex:t,newIndex:x,draggableEvent:v};if(x>=0){C=this.trigger(e,A)}else{u=z.parents(y).getKendoSortable();A.action=n;B=d.extend({},A,{action:h,oldIndex:p,newIndex:u.indexOf(z)});C=!(!this.trigger(e,A)&&!u.trigger(e,B))}if(C||x===t){this._cancel();return}z.replaceWith(w);w.show();this._draggable.dropped=true;A={action:this.indexOf(w)!=p?g:n,item:w,oldIndex:t,newIndex:this.indexOf(w),draggableEvent:v};this.trigger(i,A);if(u){B=d.extend({},A,{action:h,oldIndex:p,newIndex:u.indexOf(w)});u.trigger(i,B)}},_findTarget:function(x){var u=this._findElementUnderCursor(x),t,w=this.options.connectWith,v;if(d.contains(this.element[0],u)){t=this.items();v=t.filter(u)[0]||t.has(u)[0];return v?{element:d(v),sortable:this}:null}else{if(this.element[0]==u&&this._isEmpty()){return{element:this.element,sortable:this,appendToBottom:true}}else{if(this.element[0]==u&&this._isLastHidden()){v=this.items().eq(0);return{element:v,sortable:this,appendAfterHidden:true}}else{if(w){return this._searchConnectedTargets(u,x)}}}}},_findElementUnderCursor:function(y){var u=l.elementUnderCursor(y),t=y.sender,x=this.options.disabled,w=this.options.filter,v=this.items();if(q(t.hint[0],u)){t.hint.hide();u=l.elementUnderCursor(y);if(!u){u=l.elementUnderCursor(y)}t.hint.show()}return u},_searchConnectedTargets:function(w,z){var y=d(this.options.connectWith),u,t,x;for(var v=0;v<y.length;v++){u=y.eq(v).getKendoSortable();if(d.contains(y[v],w)){if(u){t=u.items();x=t.filter(w)[0]||t.has(w)[0];if(x){u.placeholder=this.placeholder;return{element:d(x),sortable:u}}else{return null}}}else{if(y[v]==w){if(u&&u._isEmpty()){return{element:y.eq(v),sortable:u,appendToBottom:true}}else{if(this._isCursorAfterLast(u,z)){x=u.items().last();return{element:x,sortable:u}}}}}}},_isCursorAfterLast:function(y,w){var v=y.items().last(),t={left:w.x.location,top:w.y.location},u,x;u=l.getOffset(v);u.top+=v.outerHeight();u.left+=v.outerWidth();if(this._isFloating(v)){x=u.left-t.left}else{x=u.top-t.top}return x<0?true:false},_movementByAxis:function(w,v,z,x){var u=(w==="x")?v.left:v.top,y=(z<0)?this.placeholder.prev():this.placeholder.next(),t;if(y.length&&!y.is(":visible")){y=(z<0)?y.prev():y.next()}d.extend(x,{target:y});t=this._getElementCenter(y);if(t){t=(w==="x")?t.left:t.top}if(y.length&&z<0&&u-t<0){this._movePlaceholder({element:y,sortable:this},"prev",x)}else{if(y.length&&z>0&&u-t>0){this._movePlaceholder({element:y,sortable:this},"next",x)}}},_movePlaceholder:function(v,u,t){var w=this.placeholder;if(!v.sortable.trigger(s,t)){if(!u){v.element.append(w)}else{if(u==="prev"){v.element.before(w)}else{if(u==="next"){v.element.after(w)}}}v.sortable.trigger(r,t)}},_setCursor:function(){var u=this.options.cursor,t;if(u&&u!=="auto"){t=d(document.body);this._originalCursorType=t.css("cursor");t.css({cursor:u});if(!this._cursorStylesheet){this._cursorStylesheet=d("<style>* { cursor: "+u+" !important; }</style>")}this._cursorStylesheet.appendTo(t)}},_resetCursor:function(){if(this._originalCursorType){d(document.body).css("cursor",this._originalCursorType);this._originalCursorType=null;this._cursorStylesheet.remove()}},_getElementCenter:function(u){var t=u.length?l.getOffset(u):null;if(t){t.top+=u.outerHeight()/2;t.left+=u.outerWidth()/2}return t},_isFloating:function(t){return(/left|right/).test(t.css("float"))||(/inline|table-cell/).test(t.css("display"))},_cancel:function(){this.draggedElement.show();this.placeholder.remove()},_items:function(){var u=this.options.filter,t;if(u){t=this.element.find(u)}else{t=this.element.children()}return t},indexOf:function(v){var u=this._items(),w=this.placeholder,t=this.draggedElement;if(w&&v[0]==w[0]){return u.not(t).index(v)}else{return u.not(w).index(v)}},items:function(){var u=this.placeholder,t=this._items();if(u){t=t.not(u)}return t},_isEmpty:function(){return !this.items().length},_isLastHidden:function(){return this.items().length===1&&this.items().is(":hidden")}});l.ui.plugin(b)})(window.kendo.jQuery);(function(c,f){var n=window.kendo,b=n.ui.Widget,p=c.proxy,k=Math.abs,r=Array.prototype.shift,o="aria-selected",d="k-state-selected",g="k-state-selecting",m="k-selectable",j="change",q=".kendoSelectable",i="k-state-unselecting",a="input,a,textarea,.k-multiselect-wrap,select,button,a.k-button>.k-icon,button.k-button>.k-icon,span.k-icon.k-i-expand,span.k-icon.k-i-collapse",h=n.support.browser.msie,l=false;(function(t){(function(){t('<div class="parent"><span /></div>').on("click",">*",function(){l=true}).find("span").click().end().off()})()})(c);var s=b.extend({init:function(v,u){var w=this,t;b.fn.init.call(w,v,u);w._marquee=c("<div class='k-marquee'><div class='k-marquee-color'></div></div>");w._lastActive=null;w.element.addClass(m);w.relatedTarget=w.options.relatedTarget;t=w.options.multiple;if(this.options.aria&&t){w.element.attr("aria-multiselectable",true)}w.userEvents=new n.UserEvents(w.element,{global:true,allowSelection:true,filter:(!l?"."+m+" ":"")+w.options.filter,tap:p(w._tap,w)});if(t){w.userEvents.bind("start",p(w._start,w)).bind("move",p(w._move,w)).bind("end",p(w._end,w)).bind("select",p(w._select,w))}},events:[j],options:{name:"Selectable",filter:">*",multiple:false,relatedTarget:c.noop},_isElement:function(x){var w=this.element;var u,v=w.length,t=false;x=x[0];for(u=0;u<v;u++){if(w[u]===x){t=true;break}}return t},_tap:function(x){var y=c(x.target),w=this,u=x.event.ctrlKey||x.event.metaKey,B=w.options.multiple,z=B&&x.event.shiftKey,v,A=x.event.which,t=x.event.button;if(!w._isElement(y.closest("."+m))||A&&A==3||t&&t==2){return}if(!this._allowSelection(x.event.target)){return}v=y.hasClass(d);if(!B||!u){w.clear()}y=y.add(w.relatedTarget(y));if(z){w.selectRange(w._firstSelectee(),y)}else{if(v&&u){w._unselect(y);w._notify(j)}else{w.value(y)}w._lastActive=w._downTarget=y}},_start:function(x){var v=this,w=c(x.target),u=w.hasClass(d),t,y=x.event.ctrlKey||x.event.metaKey;if(!this._allowSelection(x.event.target)){return}v._downTarget=w;if(!v._isElement(w.closest("."+m))){v.userEvents.cancel();return}if(v.options.useAllItems){v._items=v.element.find(v.options.filter)}else{t=w.closest(v.element);v._items=t.find(v.options.filter)}x.sender.capture();v._marquee.appendTo(document.body).css({left:x.x.client+1,top:x.y.client+1,width:0,height:0});if(!y){v.clear()}w=w.add(v.relatedTarget(w));if(u){v._selectElement(w,true);if(y){w.addClass(i)}}},_move:function(v){var u=this,t={left:v.x.startLocation>v.x.location?v.x.location:v.x.startLocation,top:v.y.startLocation>v.y.location?v.y.location:v.y.startLocation,width:k(v.x.initialDelta),height:k(v.y.initialDelta)};u._marquee.css(t);u._invalidateSelectables(t,(v.event.ctrlKey||v.event.metaKey));v.preventDefault()},_end:function(){var t=this;t._marquee.remove();t._unselect(t.element.find(t.options.filter+"."+i)).removeClass(i);var u=t.element.find(t.options.filter+"."+g);u=u.add(t.relatedTarget(u));t.value(u);t._lastActive=t._downTarget;t._items=null},_invalidateSelectables:function(u,A){var t,x,z=this._downTarget[0],v=this._items,y,w;for(t=0,x=v.length;t<x;t++){w=v.eq(t);y=w.add(this.relatedTarget(w));if(e(w,u)){if(w.hasClass(d)){if(A&&z!==w[0]){y.removeClass(d).addClass(i)}}else{if(!w.hasClass(g)&&!w.hasClass(i)){y.addClass(g)}}}else{if(w.hasClass(g)){y.removeClass(g)}else{if(A&&w.hasClass(i)){y.removeClass(i).addClass(d)}}}}},value:function(v){var u=this,t=p(u._selectElement,u);if(v){v.each(function(){t(this)});u._notify(j);return}return u.element.find(u.options.filter+"."+d)},_firstSelectee:function(){var u=this,t;if(u._lastActive!==null){return u._lastActive}t=u.value();return t.length>0?t[0]:u.element.find(u.options.filter)[0]},_selectElement:function(u,w){var v=c(u),t=!w&&this._notify("select",{element:u});v.removeClass(g);if(!t){v.addClass(d);if(this.options.aria){v.attr(o,true)}}},_notify:function(u,t){t=t||{};return this.trigger(u,t)},_unselect:function(t){t.removeClass(d);if(this.options.aria){t.attr(o,false)}return t},_select:function(t){if(this._allowSelection(t.event.target)){if(!h||(h&&!c(n._activeElement()).is(a))){t.preventDefault()}}},_allowSelection:function(t){if(c(t).is(a)){this.userEvents.cancel();this._downTarget=null;return false}return true},resetTouchEvents:function(){this.userEvents.cancel()},clear:function(){var t=this.element.find(this.options.filter+"."+d);this._unselect(t)},selectRange:function(y,u){var x=this,t,w,v;x.clear();if(x.element.length>1){v=x.options.continuousItems()}if(!v||!v.length){v=x.element.find(x.options.filter)}y=c.inArray(c(y)[0],v);u=c.inArray(c(u)[0],v);if(y>u){w=y;y=u;u=w}if(!x.options.useAllItems){u+=x.element.length-1}for(t=y;t<=u;t++){x._selectElement(v[t])}x._notify(j)},destroy:function(){var t=this;b.fn.destroy.call(t);t.element.off(q);t.userEvents.destroy();t._marquee=t._lastActive=t.element=t.userEvents=null}});s.parseOptions=function(u){var t=typeof u==="string"&&u.toLowerCase();return{multiple:t&&t.indexOf("multiple")>-1,cell:t&&t.indexOf("cell")>-1}};function e(w,t){if(!w.is(":visible")){return false}var x=n.getOffset(w),v=t.left+t.width,u=t.top+t.height;x.right=x.left+w.outerWidth();x.bottom=x.top+w.outerHeight();return !(x.left>v||x.right<t.left||x.top>u||x.bottom<t.top)}n.ui.plugin(s)})(window.kendo.jQuery);(function(e,c){var h=window.kendo,l=h.ui.Widget,j=e.proxy,p=h.keys,i="click",o="k-button",n="k-button-icon",a="k-button-icontext",b=".kendoButton",g="disabled",k="k-state-disabled",m="k-state-focused",d="k-state-selected";var f=l.extend({init:function(r,q){var s=this;l.fn.init.call(s,r,q);r=s.wrapper=s.element;q=s.options;r.addClass(o).attr("role","button");q.enable=q.enable&&!r.attr(g);s.enable(q.enable);s._tabindex();s._graphics();r.on(i+b,j(s._click,s)).on("focus"+b,j(s._focus,s)).on("blur"+b,j(s._blur,s)).on("keydown"+b,j(s._keydown,s)).on("keyup"+b,j(s._keyup,s));h.notify(s)},destroy:function(){var q=this;q.wrapper.off(b);l.fn.destroy.call(q)},events:[i],options:{name:"Button",icon:"",spriteCssClass:"",imageUrl:"",enable:true},_isNativeButton:function(){return this.element.prop("tagName").toLowerCase()=="button"},_click:function(q){if(this.options.enable){if(this.trigger(i,{event:q})){q.preventDefault()}}},_focus:function(){if(this.options.enable){this.element.addClass(m)}},_blur:function(){this.element.removeClass(m)},_keydown:function(r){var q=this;if(!q._isNativeButton()){if(r.keyCode==p.ENTER||r.keyCode==p.SPACEBAR){if(r.keyCode==p.SPACEBAR){r.preventDefault();if(q.options.enable){q.element.addClass(d)}}q._click(r)}}},_keyup:function(){this.element.removeClass(d)},_graphics:function(){var u=this,s=u.element,y=u.options,v=y.icon,q=y.spriteCssClass,x=y.imageUrl,w,t,r;if(q||x||v){r=true;s.contents().not("span.k-sprite").not("span.k-icon").not("img.k-image").each(function(z,A){if(A.nodeType==1||A.nodeType==3&&e.trim(A.nodeValue).length>0){r=false}});if(r){s.addClass(n)}else{s.addClass(a)}}if(v){w=s.children("span.k-icon").first();if(!w[0]){w=e('<span class="k-icon"></span>').prependTo(s)}w.addClass("k-i-"+v)}else{if(q){w=s.children("span.k-sprite").first();if(!w[0]){w=e('<span class="k-sprite"></span>').prependTo(s)}w.addClass(q)}else{if(x){t=s.children("img.k-image").first();if(!t[0]){t=e('<img alt="icon" class="k-image" />').prependTo(s)}t.attr("src",x)}}}},enable:function(q){var t=this,r=t.element;if(q===c){q=true}q=!!q;t.options.enable=q;r.toggleClass(k,!q).attr("aria-disabled",!q).attr(g,!q);try{r.blur()}catch(s){}}});h.ui.plugin(f)})(window.kendo.jQuery);(function(d,f){var l=window.kendo,k=l.ui,b=k.Widget,q=d.proxy,u=".k-i-seek-w",p=".k-i-seek-e",w=".k-i-arrow-w",x=".k-i-arrow-e",j="change",r=".kendoPager",e="click",c="keydown",s="disabled",v=l.template('<a href="\\#" title="#=text#" class="k-link k-pager-nav #= wrapClassName #"><span class="k-icon #= className #">#=text#</span></a>');function a(A,y,C,z,B){return A({idx:y,text:C,ns:l.ns,numeric:z,title:B||""})}function t(y,A,z){return v({className:y.substring(1),text:A,wrapClassName:z||""})}function h(z,y,B,A){z.find(y).parent().attr(l.attr("page"),B).attr("tabindex",-1).toggleClass("k-state-disabled",A)}function g(y,z){h(y,u,1,z<=1)}function m(y,z){h(y,w,Math.max(1,z-1),z<=1)}function n(y,A,z){h(y,x,Math.min(z,A+1),A>=z)}function i(y,A,z){h(y,p,z,A>=z)}var o=b.extend({init:function(A,z){var C=this,D,B;b.fn.init.call(C,A,z);z=C.options;C.dataSource=l.data.DataSource.create(z.dataSource);C.linkTemplate=l.template(C.options.linkTemplate);C.selectTemplate=l.template(C.options.selectTemplate);C.currentPageTemplate=l.template(C.options.currentPageTemplate);D=C.page();B=C.totalPages();C._refreshHandler=q(C.refresh,C);C.dataSource.bind(j,C._refreshHandler);if(z.previousNext){if(!C.element.find(u).length){C.element.append(t(u,z.messages.first,"k-pager-first"));g(C.element,D,B)}if(!C.element.find(w).length){C.element.append(t(w,z.messages.previous));m(C.element,D,B)}}if(z.numeric){C.list=C.element.find(".k-pager-numbers");if(!C.list.length){C.list=d('<ul class="k-pager-numbers k-reset" />').appendTo(C.element)}}if(z.input){if(!C.element.find(".k-pager-input").length){C.element.append('<span class="k-pager-input k-label">'+z.messages.page+'<input class="k-textbox">'+l.format(z.messages.of,B)+"</span>")}C.element.on(c+r,".k-pager-input input",q(C._keydown,C))}if(z.previousNext){if(!C.element.find(x).length){C.element.append(t(x,z.messages.next));n(C.element,D,B)}if(!C.element.find(p).length){C.element.append(t(p,z.messages.last,"k-pager-last"));i(C.element,D,B)}}if(z.pageSizes){if(!C.element.find(".k-pager-sizes").length){var y=z.pageSizes.length?z.pageSizes:["all",5,10,20];var E=d.map(y,function(F){if(F.toLowerCase&&F.toLowerCase()==="all"){return"<option value='all'>"+z.messages.allPages+"</option>"}return"<option>"+F+"</option>"});d('<span class="k-pager-sizes k-label"><select/>'+z.messages.itemsPerPage+"</span>").appendTo(C.element).find("select").html(E.join("")).end().appendTo(C.element)}C.element.find(".k-pager-sizes select").val(C.pageSize());if(l.ui.DropDownList){C.element.find(".k-pager-sizes select").show().kendoDropDownList()}C.element.on(j+r,".k-pager-sizes select",q(C._change,C))}if(z.refresh){if(!C.element.find(".k-pager-refresh").length){C.element.append('<a href="#" class="k-pager-refresh k-link" title="'+z.messages.refresh+'"><span class="k-icon k-i-refresh">'+z.messages.refresh+"</span></a>")}C.element.on(e+r,".k-pager-refresh",q(C._refreshClick,C))}if(z.info){if(!C.element.find(".k-pager-info").length){C.element.append('<span class="k-pager-info k-label" />')}}C.element.on(e+r,"a",q(C._click,C)).addClass("k-pager-wrap k-widget");C.element.on(e+r,".k-current-page",q(C._toggleActive,C));if(z.autoBind){C.refresh()}l.notify(C)},destroy:function(){var y=this;b.fn.destroy.call(y);y.element.off(r);y.dataSource.unbind(j,y._refreshHandler);y._refreshHandler=null;l.destroy(y.element);y.element=y.list=null},events:[j],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',currentPageTemplate:'<li class="k-current-page"><span class="k-link k-pager-nav">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#" #if (title !== "") {# title="#=title#" #}#>#=text#</a></li>',buttonCount:10,autoBind:true,numeric:true,info:true,input:false,previousNext:true,pageSizes:false,refresh:false,messages:{allPages:"All",display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh",morePages:"More pages"}},setDataSource:function(z){var y=this;y.dataSource.unbind(j,y._refreshHandler);y.dataSource=y.options.dataSource=z;z.bind(j,y._refreshHandler);if(y.options.autoBind){z.fetch()}},refresh:function(I){var H=this,M,D,z=1,F,J=H.page(),E="",O=H.options,K=H.pageSize(),L=H.dataSource.total(),G=H.totalPages(),y=H.linkTemplate,A=O.buttonCount;if(I&&I.action=="itemchange"){return}if(O.numeric){if(J>A){F=(J%A);z=(F===0)?(J-A)+1:(J-F)+1}D=Math.min((z+A)-1,G);if(z>1){E+=a(y,z-1,"...",false,O.messages.morePages)}for(M=z;M<=D;M++){E+=a(M==J?H.selectTemplate:y,M,M,true)}if(D<G){E+=a(y,M,"...",false,O.messages.morePages)}if(E===""){E=H.selectTemplate({text:0})}E=this.currentPageTemplate({text:J})+E;H.list.removeClass("k-state-expanded").html(E)}if(O.info){if(L>0){E=l.format(O.messages.display,(J-1)*K+1,Math.min(J*K,L),L)}else{E=O.messages.empty}H.element.find(".k-pager-info").html(E)}if(O.input){H.element.find(".k-pager-input").html(H.options.messages.page+'<input class="k-textbox">'+l.format(O.messages.of,G)).find("input").val(J).attr(s,L<1).toggleClass("k-state-disabled",L<1)}if(O.previousNext){g(H.element,J,G);m(H.element,J,G);n(H.element,J,G);i(H.element,J,G)}if(O.pageSizes){var C=H.element.find(".k-pager-sizes option[value='all']").length>0;var B=C&&K===this.dataSource.total();var N=K;if(B){K="all";N=O.messages.allPages}H.element.find(".k-pager-sizes select").val(K).filter("["+l.attr("role")+"=dropdownlist]").kendoDropDownList("value",K).kendoDropDownList("text",N)}},_keydown:function(A){if(A.keyCode===l.keys.ENTER){var y=this.element.find(".k-pager-input").find("input"),z=parseInt(y.val(),10);if(isNaN(z)||z<1||z>this.totalPages()){z=this.page()}y.val(z);this.page(z)}},_refreshClick:function(y){y.preventDefault();this.dataSource.read()},_change:function(A){var z=A.currentTarget.value;var y=parseInt(z,10);var B=this.dataSource;if(!isNaN(y)){B.pageSize(y)}else{if(z=="all"){B.pageSize(B.total())}}},_toggleActive:function(y){this.list.toggleClass("k-state-expanded")},_click:function(z){var y=d(z.currentTarget);z.preventDefault();if(!y.is(".k-state-disabled")){this.page(y.attr(l.attr("page")))}},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/this.pageSize())},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(y){if(y!==f){this.dataSource.page(y);this.trigger(j,{index:y})}else{if(this.dataSource.total()>0){return this.dataSource.page()}else{return 0}}}});k.plugin(o)})(window.kendo.jQuery);(function(v,f){var w=window.kendo,C=w.ui,a=C.Widget,E=w.support,g=w.getOffset,c=w._activeElement,H="open",J="close",F="deactivate",e="activate",r="center",p="left",L="right",x="top",s="bottom",A="absolute",I="hidden",G="body",i="location",D="position",N="visible",l="effects",m="k-state-active",q="k-state-border",n=/k-state-border-(\w+)/,b=".k-picker-wrap, .k-dropdown-wrap, .k-link",B="down",M=v(document.documentElement),j=v(window),k="scroll",o="resize scroll",z=E.transitions.css,K=z+"transform",d=v.extend,y=".kendoPopup",u=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];function t(O,P){return O===P||v.contains(O,P)}var h=a.extend({init:function(Q,P){var R=this,O;P=P||{};if(P.isRtl){P.origin=P.origin||s+" "+L;P.position=P.position||x+" "+L}a.fn.init.call(R,Q,P);Q=R.element;P=R.options;R.collisions=P.collision?P.collision.split(" "):[];R.downEvent=w.applyEventMap(B,w.guid());if(R.collisions.length===1){R.collisions.push(R.collisions[0])}O=v(R.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])");P.appendTo=v(v(P.appendTo)[0]||O[0]||G);R.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!P.isRtl).css({position:A}).appendTo(P.appendTo).on("mouseenter"+y,function(){R._hovered=true}).on("mouseleave"+y,function(){R._hovered=false});R.wrapper=v();if(P.animation===false){P.animation={open:{effects:{}},close:{hide:true,effects:{}}}}d(P.animation.open,{complete:function(){R.wrapper.css({overflow:N});R._activated=true;R._trigger(e)}});d(P.animation.close,{complete:function(){R._animationClose()}});R._mousedownProxy=function(S){R._mousedown(S)};R._resizeProxy=function(S){R._resize(S)};if(P.toggleTarget){v(P.toggleTarget).on(P.toggleEvent+y,v.proxy(R.toggle,R))}},events:[H,e,J,F],options:{name:"Popup",toggleEvent:"click",origin:s+" "+p,position:x+" "+p,anchor:G,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:true,autosize:false,modal:false,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:true,duration:200},close:{duration:100,hide:true}}},_animationClose:function(){var R=this,Q=R.options;R.wrapper.hide();var O=R.wrapper.data(i),P=v(Q.anchor),T,S;if(O){R.wrapper.css(O)}if(Q.anchor!=G){T=((P.attr("class")||"").match(n)||["","down"])[1];S=q+"-"+T;P.removeClass(S).children(b).removeClass(m).removeClass(S);R.element.removeClass(q+"-"+w.directions[T].reverse)}R._closing=false;R._trigger(F)},destroy:function(){var R=this,O=R.options,P=R.element.off(y),Q;a.fn.destroy.call(R);if(O.toggleTarget){v(O.toggleTarget).off(y)}if(!O.modal){M.unbind(R.downEvent,R._mousedownProxy);R._scrollableParents().unbind(k,R._resizeProxy);j.unbind(o,R._resizeProxy)}w.destroy(R.element.children());P.removeData();if(O.appendTo[0]===document.body){Q=P.parent(".k-animation-container");if(Q[0]){Q.remove()}else{P.remove()}}},open:function(Y,W){var V=this,S={isFixed:!isNaN(parseInt(W,10)),x:Y,y:W},U=V.element,Z=V.options,X="down",R,P,T=v(Z.anchor),O=U[0]&&U.hasClass("km-widget");if(!V.visible()){if(Z.copyAnchorStyles){if(O&&u[0]=="font-size"){u.shift()}U.css(w.getComputedStyles(T[0],u))}if(U.data("animating")||V._trigger(H)){return}V._activated=false;if(!Z.modal){M.unbind(V.downEvent,V._mousedownProxy).bind(V.downEvent,V._mousedownProxy);if(!(E.mobileOS.ios||E.mobileOS.android)){V._scrollableParents().unbind(k,V._resizeProxy).bind(k,V._resizeProxy);j.unbind(o,V._resizeProxy).bind(o,V._resizeProxy)}}V.wrapper=P=w.wrap(U,Z.autosize).css({overflow:I,display:"block",position:A});if(E.mobileOS.android){P.css(K,"translatez(0)")}P.css(D);if(v(Z.appendTo)[0]==document.body){P.css(x,"-10000px")}R=d(true,{},Z.animation.open);V.flipped=V._position(S);R.effects=w.parseEffects(R.effects,V.flipped);X=R.effects.slideIn?R.effects.slideIn.direction:X;if(Z.anchor!=G){var Q=q+"-"+X;U.addClass(q+"-"+w.directions[X].reverse);T.addClass(Q).children(b).addClass(m).addClass(Q)}U.data(l,R.effects).kendoStop(true).kendoAnimate(R)}},position:function(){if(this.visible()){this._position()}},toggle:function(){var O=this;O[O.visible()?J:H]()},visible:function(){return this.element.is(":"+N)},close:function(U){var R=this,P=R.options,Q,T,O,S;if(R.visible()){Q=(R.wrapper[0]?R.wrapper:w.wrap(R.element).hide());if(R._closing||R._trigger(J)){return}R.element.find(".k-popup").each(function(){var W=v(this),V=W.data("kendoPopup");if(V){V.close(U)}});M.unbind(R.downEvent,R._mousedownProxy);R._scrollableParents().unbind(k,R._resizeProxy);j.unbind(o,R._resizeProxy);if(U){T={hide:true,effects:{}}}else{T=d(true,{},P.animation.close);O=R.element.data(l);S=T.effects;if(!S&&!w.size(S)&&O&&w.size(O)){T.effects=O;T.reverse=true}R._closing=true}R.element.kendoStop(true);Q.css({overflow:I});R.element.kendoAnimate(T)}},_trigger:function(O){return this.trigger(O,{type:O})},_resize:function(P){var O=this;if(P.type==="resize"){clearTimeout(O._resizeTimeout);O._resizeTimeout=setTimeout(function(){O._position();O._resizeTimeout=null},50)}else{if(!O._hovered||(O._activated&&O.element.hasClass("k-list-container"))){O.close()}}},_mousedown:function(T){var S=this,P=S.element[0],W=S.options,R=v(W.anchor)[0],V=W.toggleTarget,U=w.eventTarget(T),Q=v(U).closest(".k-popup"),O=Q.parent().parent(".km-shim").length;Q=Q[0];if(!O&&Q&&Q!==S.element[0]){return}if(v(T.target).closest("a").data("rel")==="popover"){return}if(!t(P,U)&&!t(R,U)&&!(V&&t(v(V)[0],U))){S.close()}},_fit:function(O,R,P){var Q=0;if(O+R>P){Q=P-(O+R)}if(O<0){Q=-O}return Q},_flip:function(U,T,Q,P,S,O,V){var R=0;V=V||T;if(O!==S&&O!==r&&S!==r){if(U+V>P){R+=-(Q+T)}if(U+R<0){R+=Q+T}}return R},_scrollableParents:function(){return v(this.options.anchor).parentsUntil("body").filter(function(O,P){return w.isScrollable(P)})},_position:function(Z){var af=this,R=af.element,ac=af.wrapper,W=af.options,ao=v(W.viewport),an=ao.offset(),ae=v(W.anchor),P=W.origin.toLowerCase().split(" "),ag=W.position.toLowerCase().split(" "),X=af.collisions,aj=E.zoomLevel(),Q,aq,S,ai=10002,ap=!!((ao[0]==window)&&window.innerWidth&&(aj<=1.02)),ah=0,V=document.documentElement,U,al,T;al=ap?window.innerWidth:ao.width();T=ap?window.innerHeight:ao.height();if(ap&&V.scrollHeight-V.clientHeight>0){al-=w.support.scrollbar()}Q=ae.parents().filter(ac.siblings());if(Q[0]){S=Math.max(Number(Q.css("zIndex")),0);if(S){ai=S+10}else{aq=ae.parentsUntil(Q);for(U=aq.length;ah<U;ah++){S=Number(v(aq[ah]).css("zIndex"));if(S&&ai<S){ai=S+10}}}}ac.css("zIndex",ai);if(Z&&Z.isFixed){ac.css({left:Z.x,top:Z.y})}else{ac.css(af._align(P,ag))}var ad=g(ac,D,ae[0]===ac.offsetParent()[0]),ab=g(ac),am=ae.offsetParent().parent(".k-animation-container,.k-popup,.k-group");if(am.length){ad=g(ac,D,true);ab=g(ac)}if(ao[0]===window){ab.top-=(window.pageYOffset||document.documentElement.scrollTop||0);ab.left-=(window.pageXOffset||document.documentElement.scrollLeft||0)}else{ab.top-=an.top;ab.left-=an.left}if(!af.wrapper.data(i)){ac.data(i,d({},ad))}var aa=d({},ab),O=d({},ad),Y=W.adjustSize;if(X[0]==="fit"){O.top+=af._fit(aa.top,ac.outerHeight()+Y.height,T/aj)}if(X[1]==="fit"){O.left+=af._fit(aa.left,ac.outerWidth()+Y.width,al/aj)}var ak=d({},O);if(X[0]==="flip"){O.top+=af._flip(aa.top,R.outerHeight(),ae.outerHeight(),T/aj,P[0],ag[0],ac.outerHeight())}if(X[1]==="flip"){O.left+=af._flip(aa.left,R.outerWidth(),ae.outerWidth(),al/aj,P[1],ag[1],ac.outerWidth())}R.css(D,A);ac.css(O);return(O.left!=ak.left||O.top!=ak.top)},_align:function(af,ag){var U=this,Q=U.wrapper,T=v(U.options.anchor),V=af[0],ae=af[1],Y=ag[0],P=ag[1],Z=g(T),S=v(U.options.appendTo),ab,aa=Q.outerWidth(),X=Q.outerHeight(),O=T.outerWidth(),ad=T.outerHeight(),W=Z.top,R=Z.left,ac=Math.round;if(S[0]!=document.body){ab=g(S);W-=ab.top;R-=ab.left}if(V===s){W+=ad}if(V===r){W+=ac(ad/2)}if(Y===s){W-=X}if(Y===r){W-=ac(X/2)}if(ae===L){R+=O}if(ae===r){R+=ac(O/2)}if(P===L){R-=aa}if(P===r){R-=ac(aa/2)}return{top:W,left:R}}});C.plugin(h)})(window.kendo.jQuery);(function(g,i){var q=window.kendo,b=q.ui.Widget,u=g.proxy,x=g.extend,a=window.setTimeout,h="click",f="show",w="hide",t="k-notification",c=".k-notification-wrap .k-i-close",d="info",y="success",l="warning",j="error",r="top",o="left",m="bottom",n="right",e="up",v=".kendoNotification",k='<div class="k-widget k-notification"></div>',p='<div class="k-notification-wrap"><span class="k-icon k-i-note">#=typeIcon#</span>#=content#<span class="k-icon k-i-close">Hide</span></div>';var s=b.extend({init:function(A,z){var B=this;b.fn.init.call(B,A,z);z=B.options;if(!z.appendTo||!g(z.appendTo).is(A)){B.element.hide()}B._compileTemplates(z.templates);B._guid="_"+q.guid();B._isRtl=q.support.isRtl(A);B._compileStacking(z.stacking,z.position.top);q.notify(B)},events:[f,w],options:{name:"Notification",position:{pinned:true,top:null,left:null,bottom:20,right:20},stacking:"default",hideOnClick:true,button:false,allowHideAfter:0,autoHideAfter:5000,appendTo:null,width:null,height:null,templates:[],animation:{open:{effects:"fade:in",duration:300},close:{effects:"fade:out",duration:600,hide:true}}},_compileTemplates:function(z){var A=this;var B=q.template;A._compiled={};g.each(z,function(C,D){A._compiled[D.type]=B(D.template||g("#"+D.templateId).html())});A._defaultCompiled=B(p)},_getCompiled:function(z){var A=this;var B=A._defaultCompiled;return z?A._compiled[z]||B:B},_compileStacking:function(C,E){var D=this,B={paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},A,z;switch(C){case"down":A=m+" "+o;z=r+" "+o;delete B.paddingBottom;break;case n:A=r+" "+n;z=r+" "+o;delete B.paddingRight;break;case o:A=r+" "+o;z=r+" "+n;delete B.paddingLeft;break;case e:A=r+" "+o;z=m+" "+o;delete B.paddingTop;break;default:if(E!==null){A=m+" "+o;z=r+" "+o;delete B.paddingBottom}else{A=r+" "+o;z=m+" "+o;delete B.paddingTop}break}D._popupOrigin=A;D._popupPosition=z;D._popupPaddings=B},_attachPopupEvents:function(A,z){var C=this,F=A.allowHideAfter,B=!isNaN(F)&&F>0,E;function D(G){G.on(h+v,function(){z.close()})}if(A.hideOnClick){z.bind("activate",function(G){if(B){a(function(){D(z.element)},F)}else{D(z.element)}})}else{if(A.button){E=z.element.find(c);if(B){a(function(){D(E)},F)}else{D(E)}}}},_showPopup:function(A,J){var F=this,z=J.autoHideAfter,I=J.position.left,H=J.position.top,G=J.allowHideAfter,B,D,E,C;D=g("."+F._guid).last();B=new q.ui.Popup(A,{anchor:D[0]?D:document.body,origin:F._popupOrigin,position:F._popupPosition,animation:J.animation,modal:true,collision:"",isRtl:F._isRtl,close:function(K){F._triggerHide(this.element)},deactivate:function(K){K.sender.element.off(v);K.sender.element.find(c).off(v);K.sender.destroy()}});F._attachPopupEvents(J,B);if(D[0]){B.open()}else{if(I===null){I=g(window).width()-A.width()-J.position.right}if(H===null){H=g(window).height()-A.height()-J.position.bottom}B.open(I,H)}B.wrapper.addClass(F._guid).css(x({margin:0},F._popupPaddings));if(J.position.pinned){B.wrapper.css("position","fixed");if(D[0]){F._togglePin(B.wrapper,true)}}else{if(!D[0]){F._togglePin(B.wrapper,false)}}if(z>0){a(function(){B.close()},z)}},_togglePin:function(C,A){var B=g(window),z=A?-1:1;C.css({top:parseInt(C.css(r),10)+z*B.scrollTop(),left:parseInt(C.css(o),10)+z*B.scrollLeft()})},_attachStaticEvents:function(z,E){var B=this,D=z.allowHideAfter,A=!isNaN(D)&&D>0;function C(F){F.on(h+v,u(B._hideStatic,B,E))}if(z.hideOnClick){if(A){a(function(){C(E)},D)}else{C(E)}}else{if(z.button){if(A){a(function(){C(E.find(c))},D)}else{C(E.find(c))}}}},_showStatic:function(F,z){var B=this,A=z.autoHideAfter,D=z.animation,E=z.stacking==e||z.stacking==o?"prependTo":"appendTo",C;F.addClass(B._guid)[E](z.appendTo).hide().kendoAnimate(D.open||false);B._attachStaticEvents(z,F);if(A>0){a(function(){B._hideStatic(F)},A)}},_hideStatic:function(z){z.kendoAnimate(x(this.options.animation.close||false,{complete:function(){z.off(v).find(c).off(v);z.remove()}}));this._triggerHide(z)},_triggerHide:function(z){this.trigger(w,{element:z});this.angular("cleanup",function(){return{elements:z}})},show:function(E,C){var D=this,B=D.options,G=g(k),A,F,z;if(!C){C=d}if(E!==null&&E!==i&&E!==""){if(q.isFunction(E)){E=E()}F={typeIcon:C,content:""};if(g.isPlainObject(E)){A=x(F,E)}else{A=x(F,{content:E})}G.addClass(t+"-"+C).toggleClass(t+"-button",B.button).attr("data-role","alert").css({width:B.width,height:B.height}).append(D._getCompiled(C)(A));D.angular("compile",function(){return{elements:G,data:[{dataItem:A}]}});if(g(B.appendTo)[0]){D._showStatic(G,B)}else{D._showPopup(G,B)}D.trigger(f,{element:G})}return D},info:function(z){return this.show(z,d)},success:function(z){return this.show(z,y)},warning:function(z){return this.show(z,l)},error:function(z){return this.show(z,j)},hide:function(){var z=this,A=z.getNotifications();if(z.options.appendTo){A.each(function(B,C){z._hideStatic(g(C))})}else{A.each(function(B,D){var C=g(D).data("kendoPopup");if(C){C.close()}})}return z},getNotifications:function(){var A=this,z=g("."+A._guid);if(A.options.appendTo){return z}else{return z.children("."+t)}},setOptions:function(B){var A=this,z;b.fn.setOptions.call(A,B);z=A.options;if(B.templates!==i){A._compileTemplates(z.templates)}if(B.stacking!==i||B.position!==i){A._compileStacking(z.stacking,z.position.top)}},destroy:function(){b.fn.destroy.call(this);this.getNotifications().off(v).find(c).off(v)}});q.ui.plugin(s)})(window.kendo.jQuery);(function(g,i){var u=window.kendo,b=u.ui.Widget,j=u.ui.Popup,a=u.isFunction,t=g.isPlainObject,B=g.extend,w=g.proxy,h=g(document),v=u.isLocalUrl,d="_tt_active",e="aria-describedby",f="show",z="hide",k="error",r="contentLoad",C="requestStart",D="k-content-frame",s='<div role="tooltip" class="k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#">#if (!autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close</a></div> #}#<div class="k-tooltip-content"></div>#if (callout){ #<div class="k-callout k-callout-#=dir#"></div>#}#</div>',m=u.template("<iframe frameborder='0' class='"+D+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),y=".kendoTooltip",q={bottom:{origin:"bottom center",position:"top center"},top:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"},center:{position:"center center",origin:"center center"}},F={top:"bottom",bottom:"top",left:"right",right:"left",center:"center"},l={bottom:"n",top:"s",left:"e",right:"w",center:"n"},n={horizontal:{offset:"top",size:"outerHeight"},vertical:{offset:"left",size:"outerWidth"}},p=function(G){return G.target.data(u.ns+"title")};function o(G){while(G.length){A(G);G=G.parent()}}function A(G){var H=G.data(u.ns+"title");if(H){G.attr("title",H);G.removeData(u.ns+"title")}}function E(G){var H=G.attr("title");if(H){G.data(u.ns+"title",H);G.attr("title","")}}function c(G){while(G.length&&!G.is("body")){E(G);G=G.parent()}}var x=b.extend({init:function(H,G){var J=this,I;b.fn.init.call(J,H,G);I=J.options.position.match(/left|right/)?"horizontal":"vertical";J.dimensions=n[I];J._documentKeyDownHandler=w(J._documentKeyDown,J);J.element.on(J.options.showOn+y,J.options.filter,w(J._showOn,J)).on("mouseenter"+y,J.options.filter,w(J._mouseenter,J));if(this.options.autoHide){J.element.on("mouseleave"+y,J.options.filter,w(J._mouseleave,J))}},options:{name:"Tooltip",filter:"",content:p,showAfter:100,callout:true,position:"bottom",showOn:"mouseenter",autoHide:true,width:null,height:null,animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:40,hide:true}}},events:[f,z,r,k,C],_mouseenter:function(G){c(g(G.currentTarget))},_showOn:function(I){var G=this;var H=g(I.currentTarget);if(G.options.showOn&&G.options.showOn.match(/click|focus/)){G._show(H)}else{clearTimeout(G.timeout);G.timeout=setTimeout(function(){G._show(H)},G.options.showAfter)}},_appendContent:function(L){var J=this,K=J.options.content,H=J.content,G=J.options.iframe,I;if(t(K)&&K.url){if(!("iframe" in J.options)){G=!v(K.url)}J.trigger(C,{options:K,target:L});if(!G){H.empty();u.ui.progress(H,true);J._ajaxRequest(K)}else{H.hide();I=H.find("."+D)[0];if(I){I.src=K.url||I.src}else{H.html(m({content:K}))}H.find("."+D).off("load"+y).on("load"+y,function(){J.trigger(r);H.show()})}}else{if(K&&a(K)){K=K({sender:this,target:L});H.html(K||"")}else{H.html(K)}}J.angular("compile",function(){return{elements:H}})},_ajaxRequest:function(G){var H=this;jQuery.ajax(B({type:"GET",dataType:"html",cache:false,error:function(J,I){u.ui.progress(H.content,false);H.trigger(k,{status:I,xhr:J})},success:w(function(I){u.ui.progress(H.content,false);H.content.html(I);H.trigger(r)},H)},G))},_documentKeyDown:function(G){if(G.keyCode===u.keys.ESC){this.hide()}},refresh:function(){var H=this,G=H.popup;if(G&&G.options.anchor){H._appendContent(G.options.anchor)}},hide:function(){if(this.popup){this.popup.close()}},show:function(G){G=G||this.element;c(G);this._show(G)},_show:function(I){var G=this,H=G.target();if(!G.popup){G._initPopup()}if(H&&H[0]!=I[0]){G.popup.close();G.popup.element.kendoStop(true,true)}if(!H||H[0]!=I[0]){G._appendContent(I);G.popup.options.anchor=I}G.popup.one("deactivate",function(){o(I);I.removeAttr(e);this.element.removeAttr("id").attr("aria-hidden",true);h.off("keydown"+y,G._documentKeyDownHandler)});G.popup.open()},_initPopup:function(){var H=this,G=H.options,I=g(u.template(s)({callout:G.callout&&G.position!=="center",dir:l[G.position],autoHide:G.autoHide}));H.popup=new j(I,B({activate:function(){var J=this.options.anchor,K=J[0].id||H.element[0].id;if(K){J.attr(e,K+d);this.element.attr("id",K+d)}if(G.callout){H._positionCallout()}this.element.removeAttr("aria-hidden");h.on("keydown"+y,H._documentKeyDownHandler);H.trigger(f)},close:function(){H.trigger(z)},copyAnchorStyles:false,animation:G.animation},q[G.position]));I.css({width:G.width,height:G.height});H.content=I.find(".k-tooltip-content");H.arrow=I.find(".k-callout");if(G.autoHide){I.on("mouseleave"+y,w(H._mouseleave,H))}else{I.on("click"+y,".k-tooltip-button",w(H._closeButtonClick,H))}},_closeButtonClick:function(G){G.preventDefault();this.hide()},_mouseleave:function(J){if(this.popup){var H=g(J.currentTarget),K=H.offset(),I=J.pageX,G=J.pageY;K.right=K.left+H.outerWidth();K.bottom=K.top+H.outerHeight();if(I>K.left&&I<K.right&&G>K.top&&G<K.bottom){return}this.popup.close()}else{o(g(J.currentTarget))}clearTimeout(this.timeout)},_positionCallout:function(){var N=this,M=N.options.position,G=N.dimensions,K=G.offset,I=N.popup,L=I.options.anchor,J=g(L).offset(),P=parseInt(N.arrow.css("border-top-width"),10),H=g(I.element).offset(),Q=l[I.flipped?F[M]:M],O=J[K]-H[K]+(g(L)[G.size]()/2)-P;N.arrow.removeClass("k-callout-n k-callout-s k-callout-w k-callout-e").addClass("k-callout-"+Q).css(K,O)},target:function(){if(this.popup){return this.popup.options.anchor}return null},destroy:function(){var G=this.popup;if(G){G.element.off(y);G.destroy()}this.element.off(y);h.off("keydown"+y,this._documentKeyDownHandler);b.fn.destroy.call(this)}});u.ui.plugin(x)})(window.kendo.jQuery);(function(y,j){var z=window.kendo,B=z.ui,e=B.Widget,u=z.keys,C=z.support,o=z.htmlEncode,f=z._activeElement,n=z.data.ObservableArray,s="id",r="li",x="change",k="character",A="k-state-focused",m="k-state-hover",q="k-loading",D="open",G="close",p="select",v="selected",F="requestStart",h="requestEnd",d="width",i=y.extend,E=y.proxy,t=y.isArray,c=C.browser,I=c.msie&&c.version<9,J=/"/g,a={ComboBox:"DropDownList",DropDownList:"ComboBox"};var l=z.ui.DataBoundWidget.extend({init:function(L,K){var N=this,M=N.ns,O;e.fn.init.call(N,L,K);L=N.element;K=N.options;N._isSelect=L.is(p);if(N._isSelect&&N.element[0].length){if(!K.dataSource){K.dataTextField=K.dataTextField||"text";K.dataValueField=K.dataValueField||"value"}}N.ul=y('<ul unselectable="on" class="k-list k-reset"/>').attr({tabIndex:-1,"aria-hidden":true});N.list=y("<div class='k-list-container'/>").append(N.ul).on("mousedown"+M,E(N._listMousedown,N));O=L.attr(s);if(O){N.list.attr(s,O+"-list");N.ul.attr(s,O+"_listbox")}N._header();N._accessors();N._initValue()},options:{valuePrimitive:false,headerTemplate:""},setOptions:function(K){e.fn.setOptions.call(this,K);if(K&&K.enable!==j){K.enabled=K.enable}},focus:function(){this._focused.focus()},readonly:function(K){this._editable({readonly:K===j?true:K,disable:false})},enable:function(K){this._editable({readonly:false,disable:!(K=K===j?true:K)})},_listOptions:function(L){var K=this.options;L=L||{};L={height:L.height||K.height,dataValueField:L.dataValueField||K.dataValueField,dataTextField:L.dataTextField||K.dataTextField,groupTemplate:L.groupTemplate||K.groupTemplate,fixedGroupTemplate:L.fixedGroupTemplate||K.fixedGroupTemplate,template:L.template||K.template};if(!L.template){L.template="#:"+z.expr(L.dataTextField,"data")+"#"}return L},_initList:function(){var O=this;var M=O.options;var Q=M.virtual;var L=!!Q;var P=M.value;var K=E(O._listBound,O);var N={autoBind:false,selectable:true,dataSource:O.dataSource,click:E(O._click,O),change:E(O._listChange,O),activate:E(O._activateItem,O),deactivate:E(O._deactivateItem,O),dataBinding:function(){O.trigger("dataBinding");O._angularItems("cleanup")},dataBound:K,listBound:K,selectedItemChange:E(O._listChange,O)};N=y.extend(O._listOptions(),N,typeof Q==="object"?Q:{});if(!L){O.listView=new z.ui.StaticList(O.ul,N)}else{O.listView=new z.ui.VirtualList(O.ul,N)}if(P!==j){O.listView.value(P).done(function(){var R=M.text;if(!O.listView.filter()&&O.input){if(O.selectedIndex===-1){if(R===j||R===null){R=P}O._accessor(P);O.input.val(R)}else{if(O._oldIndex===-1){O._oldIndex=O.selectedIndex}}}})}},_listMousedown:function(K){if(!this.filterInput||this.filterInput[0]!==K.target){K.preventDefault()}},_filterSource:function(L,N){var M=this;var K=M.options;var Q=M.dataSource;var P=i({},Q.filter()||{});var O=b(P,K.dataTextField);if((L||O)&&M.trigger("filtering",{filter:L})){return}if(L){P=P.filters||[];P.push(L)}if(!N){Q.filter(P)}else{Q.read(P)}},_header:function(){var L=this;var K=L.options.headerTemplate;var M;if(y.isFunction(K)){K=K({})}if(K){L.list.prepend(K);M=L.ul.prev();L.header=M[0]?M:null;if(L.header){L.angular("compile",function(){return{elements:L.header}})}}},_initValue:function(){var K=this,L=K.options.value;if(L!==null){K.element.val(L)}else{L=K._accessor();K.options.value=L}K._old=L},_ignoreCase:function(){var L=this,K=L.dataSource.reader.model,M;if(K&&K.fields){M=K.fields[L.options.dataTextField];if(M&&M.type&&M.type!=="string"){L.options.ignoreCase=false}}},_focus:function(K){return this.listView.focus(K)},current:function(K){return this._focus(K)},items:function(){return this.ul[0].children},destroy:function(){var L=this;var K=L.ns;e.fn.destroy.call(L);L._unbindDataSource();L.listView.destroy();L.list.off(K);L.popup.destroy();if(L._form){L._form.off("reset",L._resetHandler)}},dataItem:function(K){var L=this;if(K===j){return L.listView.selectedDataItems()[0]}if(typeof K!=="number"){K=y(L.items()).index(K)}return L.dataSource.flatView()[K]},_activateItem:function(){var K=this.listView.focus();if(K){this._focused.add(this.filterInput).attr("aria-activedescendant",K.attr("id"))}},_deactivateItem:function(){this._focused.add(this.filterInput).removeAttr("aria-activedescendant")},_accessors:function(){var P=this;var O=P.element;var N=P.options;var K=z.getter;var L=O.attr(z.attr("text-field"));var M=O.attr(z.attr("value-field"));if(!N.dataTextField&&L){N.dataTextField=L}if(!N.dataValueField&&M){N.dataValueField=M}P._text=K(N.dataTextField);P._value=K(N.dataValueField)},_aria:function(N){var M=this,K=M.options,L=M._focused.add(M.filterInput);if(K.suggest!==j){L.attr("aria-autocomplete",K.suggest?"both":"list")}N=N?N+" "+M.ul[0].id:M.ul[0].id;L.attr("aria-owns",N);M.ul.attr("aria-live",!K.filter||K.filter==="none"?"off":"polite")},_blur:function(){var K=this;K._change();K.close()},_change:function(){var M=this;var L=M.selectedIndex;var O=M.options.value;var N=M.value();var K;if(M._isSelect&&!M.listView.isBound()&&O){N=O}if(N!==M._old){K=true}else{if(L!==j&&L!==M._oldIndex){K=true}}if(K){M._old=N;M._oldIndex=L;if(!M._typing){M.element.trigger(x)}M.trigger(x)}M.typing=false},_data:function(){return this.dataSource.view()},_enable:function(){var M=this,K=M.options,L=M.element.is("[disabled]");if(K.enable!==j){K.enabled=K.enable}if(!K.enabled||L){M.enable(false)}else{M.readonly(M.element.is("[readonly]"))}},_dataValue:function(K){var L=this._value(K);if(L===j){L=this._text(K)}return L},_offsetHeight:function(){var K=0;var L=this.listView.content.prevAll(":visible");L.each(function(){var M=y(this);if(M.hasClass("k-list-filter")){K+=M.children().outerHeight()}else{K+=M.outerHeight()}});return K},_height:function(O){var N=this;var P=N.list;var K=N.options.height;var Q=N.popup.visible();var M;var L;if(O){L=P.add(P.parent(".k-animation-container")).show();K=N.listView.content[0].scrollHeight>K?K:"auto";L.height(K);if(K!=="auto"){M=N._offsetHeight();if(M){K-=M}}N.listView.content.height(K);if(!Q){L.hide()}}return K},_adjustListWidth:function(){var N=this.list,M=N[0].style.width,O=this.wrapper,L,K;if(!N.data(d)&&M){return}L=window.getComputedStyle?window.getComputedStyle(O[0],null):0;K=L?parseFloat(L.width):O.outerWidth();if(L&&c.msie){K+=parseFloat(L.paddingLeft)+parseFloat(L.paddingRight)+parseFloat(L.borderLeftWidth)+parseFloat(L.borderRightWidth)}if(N.css("box-sizing")!=="border-box"){M=K-(N.outerWidth()-N.width())}else{M=K}N.css({fontFamily:O.css("font-family"),width:M}).data(d,M);return true},_openHandler:function(K){this._adjustListWidth();if(this.trigger(D)){K.preventDefault()}else{this._focused.attr("aria-expanded",true);this.ul.attr("aria-hidden",false)}},_closeHandler:function(K){if(this.trigger(G)){K.preventDefault()}else{this._focused.attr("aria-expanded",false);this.ul.attr("aria-hidden",true)}},_focusItem:function(){var K=this.listView;var M=K.focus();var L=K.select();L=L[L.length-1];if(L===j&&this.options.highlightFirst&&!M){L=0}if(L!==j){K.focus(L)}else{K.scrollToIndex(0)}},_calculateGroupPadding:function(L){var K=this.ul.children(".k-first:first");var M=this.listView.content.prev(".k-group-header");var N=0;if(M[0]&&M[0].style.display!=="none"){if(L!=="auto"){N=z.support.scrollbar()}N+=parseFloat(K.css("border-right-width"),10)+parseFloat(K.children(".k-group").css("padding-right"),10);M.css("padding-right",N)}},_firstOpen:function(){var K=this._height(this.dataSource.flatView().length);this._calculateGroupPadding(K)},_popup:function(){var K=this;K.popup=new B.Popup(K.list,i({},K.options.popup,{anchor:K.wrapper,open:E(K._openHandler,K),close:E(K._closeHandler,K),animation:K.options.animation,isRtl:C.isRtl(K.wrapper)}));if(!K.options.virtual){K.popup.one(D,E(K._firstOpen,K))}},_makeUnselectable:function(){if(I){this.list.find("*").not(".k-textbox").attr("unselectable","on")}},_toggleHover:function(K){y(K.currentTarget).toggleClass(m,K.type==="mouseenter")},_toggle:function(L,N){var M=this;var K=C.mobileOS&&(C.touch||C.MSPointers||C.pointers);L=L!==j?L:!M.popup.visible();if(!N&&!K&&M._focused[0]!==f()){M._prevent=true;M._focused.focus();M._prevent=false}M[L?D:G]()},_triggerCascade:function(){var K=this;if(!K._cascadeTriggered||K._old!==K.value()||K._oldIndex!==K.selectedIndex){K._cascadeTriggered=true;K.trigger("cascade",{userTriggered:K._userTriggered})}},_unbindDataSource:function(){var K=this;K.dataSource.unbind(F,K._requestStartHandler).unbind(h,K._requestEndHandler).unbind("error",K._errorHandler)}});i(l,{inArray:function(N,L){var K,M,O=L.children;if(!N||N.parentNode!==L){return -1}for(K=0,M=O.length;K<M;K++){if(N===O[K]){return K}}return -1}});z.ui.List=l;B.Select=l.extend({init:function(L,K){l.fn.init.call(this,L,K);this._initial=this.element.val()},setDataSource:function(M){var L=this;var K;L.options.dataSource=M;L._dataSource();L.listView.setDataSource(L.dataSource);if(L.options.autoBind){L.dataSource.fetch()}K=L._parentWidget();if(K){K.trigger("cascade")}},close:function(){this.popup.close()},select:function(K){var L=this;if(K===j){return L.selectedIndex}else{L._select(K);L._old=L._accessor();L._oldIndex=L.selectedIndex}},search:function(Q){Q=typeof Q==="string"?Q:this.text();var O=this;var N=Q.length;var L=O.options;var K=L.ignoreCase;var M=L.filter;var P=L.dataTextField;clearTimeout(O._typingTimeout);if(!N||N>=L.minLength){O._state="filter";O.listView.filter(true);if(M==="none"){O._filter(Q)}else{O._open=true;O._filterSource({value:K?Q.toLowerCase():Q,field:P,operator:M,ignoreCase:K})}}},_accessor:function(L,K){return this[this._isSelect?"_accessorSelect":"_accessorInput"](L,K)},_accessorInput:function(L){var K=this.element[0];if(L===j){return K.value}else{if(L===null){L=""}K.value=L}},_accessorSelect:function(O,L){var M=this.element[0];var K=M.selectedIndex;var N;if(O===j){if(K>-1){N=M.options[K]}if(N){O=N.value}return O||""}else{if(K>-1){M.options[K].removeAttribute(v)}if(L===j){L=-1}if(O!==null&&O!==""&&L==-1){this._custom(O)}else{if(O){M.value=O}else{M.selectedIndex=L}if(M.selectedIndex>-1){N=M.options[M.selectedIndex]}if(N){N.setAttribute(v,v)}}}},_custom:function(N){var L=this;var K=L.element;var M=L._customOption;if(!M){M=y("<option/>");L._customOption=M;K.append(M)}M.text(N);M[0].setAttribute(v,v);M[0].selected=true},_hideBusy:function(){var K=this;clearTimeout(K._busy);K._arrow.removeClass(q);K._focused.attr("aria-busy",false);K._busy=null},_showBusy:function(){var K=this;K._request=true;if(K._busy){return}K._busy=setTimeout(function(){if(K._arrow){K._focused.attr("aria-busy",true);K._arrow.addClass(q)}},100)},_requestEnd:function(){this._request=false;this._hideBusy()},_dataSource:function(){var N=this,M=N.element,L=N.options,O=L.dataSource||{},K;O=y.isArray(O)?{data:O}:O;if(N._isSelect){K=M[0].selectedIndex;if(K>-1){L.index=K}O.select=M;O.fields=[{field:L.dataTextField},{field:L.dataValueField}]}if(N.dataSource){N._unbindDataSource()}else{N._requestStartHandler=E(N._showBusy,N);N._requestEndHandler=E(N._requestEnd,N);N._errorHandler=E(N._hideBusy,N)}N.dataSource=z.data.DataSource.create(O).bind(F,N._requestStartHandler).bind(h,N._requestEndHandler).bind("error",N._errorHandler)},_firstItem:function(){this.listView.first()},_lastItem:function(){this.listView.last()},_nextItem:function(){this.listView.next()},_prevItem:function(){this.listView.prev()},_move:function(N){var M=this;var R=N.keyCode;var P=M.ul[0];var Q=R===u.DOWN;var K;var L;var O;if(R===u.UP||Q){if(N.altKey){M.toggle(Q)}else{if(!M.listView.isBound()){if(!M._fetch){M.dataSource.one(x,function(){M._fetch=false;M._move(N)});M._fetch=true;M._filterSource()}N.preventDefault();return true}O=M._focus();if(!M._fetch&&(!O||O.hasClass("k-state-selected"))){if(Q){M._nextItem();if(!M._focus()){M._lastItem()}}else{M._prevItem();if(!M._focus()){M._firstItem()}}}if(M.trigger(p,{item:M.listView.focus()})){M._focus(O);return}M._select(M._focus(),true);if(!M.popup.visible()){M._blur()}}N.preventDefault();L=true}else{if(R===u.ENTER||R===u.TAB){if(M.popup.visible()){N.preventDefault()}O=M._focus();K=M.dataItem();if(!M.popup.visible()&&(!K||M.text()!==M._text(K))){O=null}var S=M.filterInput&&M.filterInput[0]===f();if(O){if(M.trigger(p,{item:O})){return}M._select(O)}else{if(M.input){M._accessor(M.input.val());M.listView.value(M.input.val())}}if(M._focusElement){M._focusElement(M.wrapper)}if(S&&R===u.TAB){M.wrapper.focusout()}else{M._blur()}M.close();L=true}else{if(R===u.ESC){if(M.popup.visible()){N.preventDefault()}M.close();L=true}}}return L},_fetchData:function(){var K=this;var L=!!K.dataSource.view().length;if(K._request||K.options.cascadeFrom){return}if(!K.listView.isBound()&&!K._fetch&&!L){K._fetch=true;K.dataSource.fetch().done(function(){K._fetch=false})}},_options:function(N,R,T){var Q=this,O=Q.element,M=N.length,V="",P,L,U,K,S=0;if(R){V=R}for(;S<M;S++){P="<option";L=N[S];U=Q._text(L);K=Q._value(L);if(K!==j){K+="";if(K.indexOf('"')!==-1){K=K.replace(J,"&quot;")}P+=' value="'+K+'"'}P+=">";if(U!==j){P+=o(U)}P+="</option>";V+=P}O.html(V);if(T!==j){O[0].value=T}},_reset:function(){var M=this,K=M.element,N=K.attr("form"),L=N?y("#"+N):K.closest("form");if(L[0]){M._resetHandler=function(){setTimeout(function(){M.value(M._initial)})};M._form=L.on("reset",M._resetHandler)}},_parentWidget:function(){var L=this.options.name;var K=y("#"+this.options.cascadeFrom);var M=K.data("kendo"+L);if(!M){M=K.data("kendo"+a[L])}return M},_cascade:function(){var P=this,N=P.options,L=N.cascadeFrom,K,M,O,Q;if(L){O=P._parentWidget();if(!O){return}N.autoBind=false;M=N.cascadeFromField||O.options.dataValueField;Q=function(){P.dataSource.unbind(x,Q);var R=P._accessor();if(P._userTriggered){P._clearSelection(O,true)}else{if(R){if(R!==P.listView.value()[0]){P.value(R)}if(!P.dataSource.view()[0]||P.selectedIndex===-1){P._clearSelection(O,true)}}else{if(P.dataSource.flatView().length){P.select(N.index)}}}P.enable();P._triggerCascade();P._userTriggered=false};K=function(){var R=O.dataItem(),V=R?O._value(R):null,U,T;if(V||V===0){U=P.dataSource.filter()||{};b(U,M);T=U.filters||[];T.push({field:M,operator:"eq",value:V});var S=function(){P.unbind("dataBound",S);Q.apply(P,arguments)};P.first("dataBound",S);P.dataSource.filter(T)}else{P.enable(false);P._clearSelection(O);P._triggerCascade();P._userTriggered=false}};O.first("cascade",function(R){P._userTriggered=R.userTriggered;K()});if(O.listView.isBound()){K()}else{if(!O.value()){P.enable(false)}}}}});var w=".StaticList";var H=z.ui.DataBoundWidget.extend({init:function(L,K){e.fn.init.call(this,L,K);this.element.attr("role","listbox").on("click"+w,"li",E(this._click,this)).on("mouseenter"+w,"li",function(){y(this).addClass(m)}).on("mouseleave"+w,"li",function(){y(this).removeClass(m)});this.content=this.element.wrap("<div unselectable='on'></div>").parent().css({overflow:"auto",position:"relative"});this.header=this.content.before('<div class="k-group-header" style="display:none"></div>').prev();this._bound=false;this._optionID=z.guid();this._selectedIndices=[];this._view=[];this._dataItems=[];this._values=[];var M=this.options.value;if(M){this._values=y.isArray(M)?M.slice(0):[M]}this._getter();this._templates();this.setDataSource(this.options.dataSource);this._onScroll=E(function(){var N=this;clearTimeout(N._scrollId);N._scrollId=setTimeout(function(){N._renderHeader()},50)},this)},options:{name:"StaticList",dataValueField:null,selectable:true,template:null,groupTemplate:null,fixedGroupTemplate:null},events:["click","change","activate","deactivate","dataBinding","dataBound","selectedItemChange"],setDataSource:function(M){var K=this;var N=M||{};var L;N=y.isArray(N)?{data:N}:N;N=z.data.DataSource.create(N);if(K.dataSource){K.dataSource.unbind(x,K._refreshHandler);L=K.value();K.value([]);K._bound=false;K.value(L)}else{K._refreshHandler=E(K.refresh,K)}K.dataSource=N.bind(x,K._refreshHandler);K._fixedHeader()},setOptions:function(K){e.fn.setOptions.call(this,K);this._getter();this._templates();this._render()},destroy:function(){this.element.off(w);if(this._refreshHandler){this.dataSource.unbind(x,this._refreshHandler)}e.fn.destroy.call(this)},scrollToIndex:function(K){var L=this.element[0].children[K];if(L){this.scroll(L)}},scroll:function(S){if(!S){return}if(S[0]){S=S[0]}var O=this.content[0],R=S.offsetTop,M=S.offsetHeight,P=O.scrollTop,Q=O.clientHeight,N=R+M,L,K;if(P>R){P=R}else{if(N>(P+Q)){P=(N-Q)}}O.scrollTop=P},selectedDataItems:function(L){var K=this._valueGetter;if(L===j){return this._dataItems.slice()}this._dataItems=L;this._values=y.map(L,function(M){return K(M)})},next:function(){var K=this.focus();if(!K){K=0}else{K=K.next()}this.focus(K)},prev:function(){var K=this.focus();if(!K){K=this.element[0].children.length-1}else{K=K.prev()}this.focus(K)},first:function(){this.focus(this.element[0].children[0])},last:function(){this.focus(this.element[0].children[this.element[0].children.length-1])},focus:function(L){var M=this;var N=M._optionID;var K;if(L===j){return M._current}L=M._get(L);L=L[L.length-1];L=y(this.element[0].children[L]);if(M._current){M._current.removeClass(A).removeAttr("aria-selected").removeAttr(s);M.trigger("deactivate")}K=!!L[0];if(K){L.addClass(A);M.scroll(L);L.attr("id",N)}M._current=K?L:null;M.trigger("activate")},focusIndex:function(){return this.focus()?this.focus().index():j},filter:function(L,K){if(L===j){return this._filtered}this._filtered=L},skipUpdate:function(K){this._skipUpdate=K},select:function(R){var P=this;var M=P.options.selectable;var L=M!=="multiple"&&M!==false;var O=P._selectedIndices;var N=[];var Q=[];var K;if(R===j){return O.slice()}R=P._get(R);if(R.length===1&&R[0]===-1){R=[]}if(P._filtered&&!L&&P._deselectFiltered(R)){return}if(L&&!P._filtered&&y.inArray(R[R.length-1],O)!==-1){if(P._dataItems.length&&P._view.length){P._dataItems=[P._view[O[0]].item]}return}K=P._deselect(R);Q=K.removed;R=K.indices;if(R.length){if(L){R=[R[R.length-1]]}N=P._select(R)}if(N.length||Q.length){P._valueComparer=null;P.trigger("change",{added:N,removed:Q})}},removeAt:function(K){this._selectedIndices.splice(K,1);this._values.splice(K,1);return{position:K,dataItem:this._dataItems.splice(K,1)[0]}},setValue:function(K){K=y.isArray(K)||K instanceof n?K.slice(0):[K];this._values=K;this._valueComparer=null},value:function(M){var L=this;var K=L._valueDeferred;var N;if(M===j){return L._values.slice()}L.setValue(M);if(!K||K.state()==="resolved"){L._valueDeferred=K=y.Deferred()}if(L.isBound()){N=L._valueIndices(L._values);if(L.options.selectable==="multiple"){L.select(-1)}L.select(N);K.resolve()}L._skipUpdate=false;return K},_click:function(K){if(!K.isDefaultPrevented()){this.trigger("click",{item:y(K.currentTarget)})}},_valueExpr:function(O,M){var P=this;var Q;var L=0;var K;var N;var R=[];if(!P._valueComparer||P._valueType!==O){P._valueType=O;for(;L<M.length;L++){Q=M[L];if(Q!==j&&Q!==""&&Q!==null){if(O==="boolean"){Q=Boolean(Q)}else{if(O==="number"){Q=Number(Q)}else{if(O==="string"){Q=Q.toString()}}}}R.push(Q)}K="for (var idx = 0; idx < "+R.length+"; idx++) { if (current === values[idx]) {   return idx; }} return -1;";N=new Function(["current","values"],K);P._valueComparer=function(S){return N(S,R)}}return P._valueComparer},_dataItemPosition:function(M,L){var N=this._valueGetter(M);var K=this._valueExpr(typeof N,L);return K(N)},_getter:function(){this._valueGetter=z.getter(this.options.dataValueField)},_deselect:function(W){var S=this;var K=S.element[0].children;var T=S.options.selectable;var L=S._selectedIndices;var U=S._dataItems;var V=S._values;var R=[];var P=0;var O;var Q,M;var N=0;W=W.slice();if(T===true||!W.length){for(;P<L.length;P++){y(K[L[P]]).removeClass("k-state-selected");R.push({position:P,dataItem:U[P]})}S._values=[];S._dataItems=[];S._selectedIndices=[]}else{if(T==="multiple"){for(;P<W.length;P++){Q=W[P];if(!y(K[Q]).hasClass("k-state-selected")){continue}for(O=0;O<L.length;O++){M=L[O];if(M===Q){y(K[M]).removeClass("k-state-selected");R.push({position:O+N,dataItem:U.splice(O,1)[0]});L.splice(O,1);W.splice(P,1);V.splice(O,1);N+=1;P-=1;O-=1;break}}}}}return{indices:W,removed:R}},_deselectFiltered:function(Q){var O=this.element[0].children;var N,M,L;var P=[];var K=0;for(;K<Q.length;K++){M=Q[K];N=this._view[M].item;L=this._dataItemPosition(N,this._values);if(L>-1){P.push(this.removeAt(L));y(O[M]).removeClass("k-state-selected")}}if(P.length){this.trigger("change",{added:[],removed:P});return true}return false},_select:function(R){var P=this;var N=P.element[0].children;var Q=P._view;var M,L;var O=[];var K=0;if(R[R.length-1]!==-1){P.focus(R)}for(;K<R.length;K++){L=R[K];M=Q[L];if(L===-1||!M){continue}M=M.item;P._selectedIndices.push(L);P._dataItems.push(M);P._values.push(P._valueGetter(M));y(N[L]).addClass("k-state-selected").attr("aria-selected",true);O.push({dataItem:M})}return O},_get:function(K){if(typeof K==="number"){K=[K]}else{if(!t(K)){K=y(K).data("offset-index");if(K===j){K=-1}K=[K]}}return K},_template:function(){var M=this;var K=M.options;var L=K.template;if(!L){L=z.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+z.expr(K.dataTextField,"data")+"}</li>",{useWithBlock:false})}else{L=z.template(L);L=function(N){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+L(N)+"</li>"}}return L},_templates:function(){var M;var L={template:this.options.template,groupTemplate:this.options.groupTemplate,fixedGroupTemplate:this.options.fixedGroupTemplate};for(var K in L){M=L[K];if(M&&typeof M!=="function"){L[K]=z.template(M)}}this.templates=L},_normalizeIndices:function(M){var L=[];var K=0;for(;K<M.length;K++){if(M[K]!==j){L.push(M[K])}}return L},_valueIndices:function(L,O){var N=this._view;var K=0;var M;O=O?O.slice():[];if(!L.length){return[]}for(;K<N.length;K++){M=this._dataItemPosition(N[K].item,L);if(M!==-1){O[M]=K}}return this._normalizeIndices(O)},_firstVisibleItem:function(){var L=this.element[0];var O=this.content[0];var P=O.scrollTop;var Q=y(L.children[0]).height();var M=Math.floor(P/Q)||0;var N=L.children[M]||L.lastChild;var K=N.offsetTop<P;while(N){if(K){if((N.offsetTop+Q)>P||!N.nextSibling){break}N=N.nextSibling}else{if(N.offsetTop<=P||!N.previousSibling){break}N=N.previousSibling}}return this._view[y(N).data("offset-index")]},_fixedHeader:function(){if(this.isGrouped()&&this.templates.fixedGroupTemplate){this.header.show();this.content.scroll(this._onScroll)}else{this.header.hide();this.content.off("scroll",this._onScroll)}},_renderHeader:function(){var K=this.templates.fixedGroupTemplate;if(!K){return}var L=this._firstVisibleItem();if(L){this.header.html(K(L.group))}},_renderItem:function(M){var O='<li tabindex="-1" role="option" unselectable="on" class="k-item';var L=M.item;var K=M.index!==0;var N=M.selected;if(K&&M.newGroup){O+=" k-first"}if(N){O+=" k-state-selected"}O+='"'+(N?' aria-selected="true"':"")+' data-offset-index="'+M.index+'">';O+=this.templates.template(L);if(K&&M.newGroup){O+='<div class="k-group">'+this.templates.groupTemplate(M.group)+"</div>"}return O+"</li>"},_render:function(){var P="";var O=0;var R=0;var K;var L=[];var Q=this.dataSource.view();var U=this.value();var T,M,N;var S=this.isGrouped();if(S){for(O=0;O<Q.length;O++){T=Q[O];M=true;for(N=0;N<T.items.length;N++){K={selected:this._selected(T.items[N],U),item:T.items[N],group:T.value,newGroup:M,index:R};L[R]=K;R+=1;P+=this._renderItem(K);M=false}}}else{for(O=0;O<Q.length;O++){K={selected:this._selected(Q[O],U),item:Q[O],index:O};L[O]=K;P+=this._renderItem(K)}}this._view=L;this.element[0].innerHTML=P;if(S&&L.length){this._renderHeader()}},_selected:function(M,L){var K=!this._filtered||this.options.selectable==="multiple";return K&&this._dataItemPosition(M,L)!==-1},refresh:function(N){var L=this;var K;var M=N&&N.action;L.trigger("dataBinding");L._fixedHeader();L._render();L._bound=true;if(M==="itemchange"){K=g(L._dataItems,N.items);if(K.length){L.trigger("selectedItemChange",{items:K})}}else{if(L._filtered||L._skipUpdate){L.focus(0);if(L._skipUpdate){L._skipUpdate=false;L._selectedIndices=L._valueIndices(L._values,L._selectedIndices)}}else{if(!M||M==="add"){L.value(L._values)}}}if(L._valueDeferred){L._valueDeferred.resolve()}L.trigger("dataBound")},isBound:function(){return this._bound},isGrouped:function(){return(this.dataSource.group()||[]).length}});B.plugin(H);function g(P,Q){var N=Q.length;var K=[];var M;var O,L;for(O=0;O<P.length;O++){M=P[O];for(L=0;L<N;L++){if(M===Q[L]){K.push({index:O,item:M})}}}return K}function b(N,M){var K;var L=false;if(N.filters){K=y.grep(N.filters,function(O){L=b(O,M);if(O.filters){return O.filters.length}else{return O.field!=M}});if(!L&&N.filters.length!==K.length){L=true}N.filters=K}return L}})(window.kendo.jQuery);(function(W,w){var Y=window.kendo,af=Y.support,ad=Y.ui,h=ad.Widget,Q=Y.keys,C=Y.parseDate,f=Y.date.adjustDST,q=Y._extractFormat,j=Y.template,A=Y.getCulture,m=Y.support.transitions,at=m?m.css+"transform-origin":"",N=j('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:false}),R=j('<td role="gridcell">&nbsp;</td>',{useWithBlock:false}),e=Y.support.browser,ar=e.msie&&e.version<9,ao=".kendoCalendar",ah="click"+ao,ag="keydown"+ao,K="id",I="min",L="left",g="slideIn",o="month",B="century",U="change",n="navigate",an="value",E="k-state-hover",T="k-state-disabled",ab="k-state-focused",M="k-other-month",O=' class="'+M+'"',H="k-nav-today",P="td:has(.k-link)",ac="blur"+ao,aq="focus",J=aq+ao,l=af.touch?"touchstart":"mouseenter",aa=af.touch?"touchstart"+ao:"mouseenter"+ao,z=af.touch?"touchend"+ao+" touchmove"+ao:"mouseleave"+ao,X=60000,k=86400000,ae="_prevArrow",am="_nextArrow",r="aria-disabled",i="aria-selected",ak=W.proxy,v=W.extend,u=Date,c={month:0,year:1,decade:2,century:3};var y=h.extend({init:function(av,au){var aw=this,ax,ay;h.fn.init.call(aw,av,au);av=aw.wrapper=aw.element;au=aw.options;au.url=window.unescape(au.url);aw._templates();aw._header();aw._footer(aw.footer);ay=av.addClass("k-widget k-calendar").on(aa+" "+z,P,x).on(ag,"table.k-content",ak(aw._move,aw)).on(ah,P,function(aA){var az=aA.currentTarget.firstChild;if(az.href.indexOf("#")!=-1){aA.preventDefault()}aw._click(W(az))}).on("mouseup"+ao,"table.k-content, .k-footer",function(){aw._focusView(aw.options.focusOnNav!==false)}).attr(K);if(ay){aw._cellID=ay+"_cell_selected"}aj(au);ax=C(au.value,au.format,au.culture);aw._index=c[au.start];aw._current=new u(+a(ax,au.min,au.max));aw._addClassProxy=function(){aw._active=true;aw._cell.addClass(ab)};aw._removeClassProxy=function(){aw._active=false;aw._cell.removeClass(ab)};aw.value(ax);Y.notify(aw)},options:{name:"Calendar",value:null,min:new u(1900,0,1),max:new u(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:o,depth:o,animation:{horizontal:{effects:g,reverse:true,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[U,n],setOptions:function(au){var av=this;aj(au);if(!au.dates[0]){au.dates=av.options.dates}h.fn.setOptions.call(av,au);av._templates();av._footer(av.footer);av._index=c[av.options.start];av.navigate()},destroy:function(){var av=this,au=av._today;av.element.off(ao);av._title.off(ao);av[ae].off(ao);av[am].off(ao);Y.destroy(av._table);if(au){Y.destroy(au.off(ao))}h.fn.destroy.call(av)},current:function(){return this._current},view:function(){return this._view},focus:function(au){au=au||this._table;this._bindTable(au);au.focus()},min:function(au){return this._option(I,au)},max:function(au){return this._option("max",au)},navigateToPast:function(){this._navigate(ae,-1)},navigateToFuture:function(){this._navigate(am,1)},navigateUp:function(){var av=this,au=av._index;if(av._title.hasClass(T)){return}av.navigate(av._current,++au)},navigateDown:function(aw){var av=this,au=av._index,ax=av.options.depth;if(!aw){return}if(au===c[ax]){if(+av._value!=+aw){av.value(aw);av.trigger(U)}return}av.navigate(aw,--au)},navigate:function(aE,aC){aC=isNaN(aC)?c[aC]:aC;var aA=this,ax=aA.options,aI=ax.culture,aF=ax.min,aH=ax.max,aK=aA._title,aG=aA._table,au=aA._oldTable,aD=aA._value,aB=aA._current,az=aE&&+aE>+aB,av=aC!==w&&aC!==aA._index,aw,aL,aJ,ay;if(!aE){aE=aB}aA._current=aE=new u(+a(aE,aF,aH));if(aC===w){aC=aA._index}else{aA._index=aC}aA._view=aL=ai.views[aC];aJ=aL.compare;ay=aC===c[B];aK.toggleClass(T,ay).attr(r,ay);ay=aJ(aE,aF)<1;aA[ae].toggleClass(T,ay).attr(r,ay);ay=aJ(aE,aH)>-1;aA[am].toggleClass(T,ay).attr(r,ay);if(aG&&au&&au.data("animating")){au.kendoStop(true,true);aG.kendoStop(true,true)}aA._oldTable=aG;if(!aG||aA._changeView){aK.html(aL.title(aE,aF,aH,aI));aA._table=aw=W(aL.content(v({min:aF,max:aH,date:aE,url:ax.url,dates:ax.dates,format:ax.format,culture:aI},aA[aL.name])));al(aw);aA._animate({from:aG,to:aw,vertical:av,future:az});aA._focus(aE);aA.trigger(n)}if(aC===c[ax.depth]&&aD){aA._class("k-state-selected",aL.toDateString(aD))}aA._class(ab,aL.toDateString(aE));if(!aG&&aA._cell){aA._cell.removeClass(ab)}aA._changeView=true},value:function(aA){var az=this,aw=az._view,ax=az.options,av=az._view,ay=ax.min,au=ax.max;if(aA===w){return az._value}aA=C(aA,ax.format,ax.culture);if(aA!==null){aA=new u(+aA);if(!Z(aA,ay,au)){aA=null}}az._value=aA;if(av&&aA===null&&az._cell){az._cell.removeClass("k-state-selected")}else{az._changeView=!aA||aw&&aw.compare(aA,az._current)!==0;az.navigate(aA)}},_move:function(ax){var av=this,aF=av.options,aD=ax.keyCode,aA=av._view,aw=av._index,aC=new u(+av._current),ay=Y.support.isRtl(av.wrapper),aB,az,au,aE;if(ax.target===av._table[0]){av._active=true}if(ax.ctrlKey){if(aD==Q.RIGHT&&!ay||aD==Q.LEFT&&ay){av.navigateToFuture();az=true}else{if(aD==Q.LEFT&&!ay||aD==Q.RIGHT&&ay){av.navigateToPast();az=true}else{if(aD==Q.UP){av.navigateUp();az=true}else{if(aD==Q.DOWN){av._click(W(av._cell[0].firstChild));az=true}}}}}else{if(aD==Q.RIGHT&&!ay||aD==Q.LEFT&&ay){aB=1;az=true}else{if(aD==Q.LEFT&&!ay||aD==Q.RIGHT&&ay){aB=-1;az=true}else{if(aD==Q.UP){aB=aw===0?-7:-4;az=true}else{if(aD==Q.DOWN){aB=aw===0?7:4;az=true}else{if(aD==Q.ENTER){av._click(W(av._cell[0].firstChild));az=true}else{if(aD==Q.HOME||aD==Q.END){au=aD==Q.HOME?"first":"last";aE=aA[au](aC);aC=new u(aE.getFullYear(),aE.getMonth(),aE.getDate(),aC.getHours(),aC.getMinutes(),aC.getSeconds(),aC.getMilliseconds());az=true}else{if(aD==Q.PAGEUP){az=true;av.navigateToPast()}else{if(aD==Q.PAGEDOWN){az=true;av.navigateToFuture()}}}}}}}}if(aB||au){if(!au){aA.setDate(aC,aB)}av._focus(a(aC,aF.min,aF.max))}}if(az){ax.preventDefault()}return av._current},_animate:function(au){var av=this,ay=au.from,ax=au.to,aw=av._active;if(!ay){ax.insertAfter(av.element[0].firstChild);av._bindTable(ax)}else{if(ay.parent().data("animating")){ay.off(ao);ay.parent().kendoStop(true,true).remove();ay.remove();ax.insertAfter(av.element[0].firstChild);av._focusView(aw)}else{if(!ay.is(":visible")||av.options.animation===false){ax.insertAfter(ay);ay.off(ao).remove();av._focusView(aw)}else{av[au.vertical?"_vertical":"_horizontal"](ay,ax,au.future)}}}},_horizontal:function(aB,aA,au){var ay=this,az=ay._active,av=ay.options.animation.horizontal,ax=av.effects,aw=aB.outerWidth();if(ax&&ax.indexOf(g)!=-1){aB.add(aA).css({width:aw});aB.wrap("<div/>");ay._focusView(az,aB);aB.parent().css({position:"relative",width:aw*2,"float":L,"margin-left":au?0:-aw});aA[au?"insertAfter":"insertBefore"](aB);v(av,{effects:g+":"+(au?"right":L),complete:function(){aB.off(ao).remove();ay._oldTable=null;aA.unwrap();ay._focusView(az)}});aB.parent().kendoStop(true,true).kendoAnimate(av)}},_vertical:function(aB,aA){var ay=this,aw=ay.options.animation.vertical,ax=aw.effects,az=ay._active,av,au;if(ax&&ax.indexOf("zoom")!=-1){aA.css({position:"absolute",top:aB.prev().outerHeight(),left:0}).insertBefore(aB);if(at){av=ay._cellByDate(ay._view.toDateString(ay._current));au=av.position();au=(au.left+parseInt(av.width()/2,10))+"px "+(au.top+parseInt(av.height()/2,10)+"px");aA.css(at,au)}aB.kendoStop(true,true).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){aB.off(ao).remove();ay._oldTable=null;aA.css({position:"static",top:0,left:0});ay._focusView(az)}});aA.kendoStop(true,true).kendoAnimate(aw)}},_cellByDate:function(au){return this._table.find("td:not(."+M+")").filter(function(){return W(this.firstChild).attr(Y.attr(an))===au})},_class:function(av,ax){var aw=this,ay=aw._cellID,au=aw._cell;if(au){au.removeAttr(i).removeAttr("aria-label").removeAttr(K)}au=aw._table.find("td:not(."+M+")").removeClass(av).filter(function(){return W(this.firstChild).attr(Y.attr(an))===ax}).attr(i,true);if(av===ab&&!aw._active&&aw.options.focusOnNav!==false){av=""}au.addClass(av);if(au[0]){aw._cell=au}if(ay){au.attr(K,ay);aw._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",ay)}},_bindTable:function(au){au.on(J,this._addClassProxy).on(ac,this._removeClassProxy)},_click:function(ax){var aw=this,au=aw.options,av=new Date(+aw._current),ay=ax.attr(Y.attr(an)).split("/");ay=new u(ay[0],ay[1],ay[2]);f(ay,0);aw._view.setDate(av,ay);aw.navigateDown(a(av,au.min,au.max))},_focus:function(aw){var av=this,au=av._view;if(au.compare(aw,av._current)!==0){av.navigate(aw)}else{av._current=aw;av._class(ab,au.toDateString(aw))}},_focusView:function(av,au){if(av){this.focus(au)}},_footer:function(aw){var ax=this,au=t(),av=ax.element,ay=av.find(".k-footer");if(!aw){ax._toggle(false);ay.hide();return}if(!ay[0]){ay=W('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(av)}ax._today=ay.show().find(".k-link").html(aw(au)).attr("title",Y.toString(au,"D",ax.options.culture));ax._toggle()},_header:function(){var aw=this,av=aw.element,au;if(!av.find(".k-header")[0]){av.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a></div>')}au=av.find(".k-link").on(aa+" "+z+" "+J+" "+ac,x).click(false);aw._title=au.eq(1).on(ah,function(){aw._active=aw.options.focusOnNav!==false;aw.navigateUp()});aw[ae]=au.eq(0).on(ah,function(){aw._active=aw.options.focusOnNav!==false;aw.navigateToPast()});aw[am]=au.eq(2).on(ah,function(){aw._active=aw.options.focusOnNav!==false;aw.navigateToFuture()})},_navigate:function(ay,au){var ax=this,av=ax._index+1,aw=new u(+ax._current);ay=ax[ay];if(!ay.hasClass(T)){if(av>3){aw.setFullYear(aw.getFullYear()+100*au)}else{ai.views[av].setDate(aw,au)}ax.navigate(aw)}},_option:function(aw,az){var ax=this,au=ax.options,av=ax._value||ax._current,ay;if(az===w){return au[aw]}az=C(az,au.format,au.culture);if(!az){return}au[aw]=new u(+az);if(aw===I){ay=az>av}else{ay=av>az}if(ay||s(av,az)){if(ay){ax._value=null}ax._changeView=true}if(!ax._changeView){ax._changeView=!!(au.month.content||au.month.empty)}ax.navigate(ax._value);ax._toggle()},_toggle:function(au){var ax=this,av=ax.options,aw=ax._today;if(au===w){au=Z(t(),av.min,av.max)}if(aw){aw.off(ah);if(au){aw.addClass(H).removeClass(T).on(ah,ak(ax._todayClick,ax))}else{aw.removeClass(H).addClass(T).on(ah,d)}}},_todayClick:function(aw){var av=this,ax=c[av.options.depth],au=t();aw.preventDefault();if(av._view.compare(av._current,au)===0&&av._index==ax){av._changeView=false}av._value=au;av.navigate(au,ax);av.trigger(U)},_templates:function(){var aw=this,au=aw.options,az=au.footer,ay=au.month,av=ay.content,ax=ay.empty;aw.month={content:j('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+Y.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(av||"#=data.value#")+"</a></td>",{useWithBlock:!!av}),empty:j('<td role="gridcell">'+(ax||"&nbsp;")+"</td>",{useWithBlock:!!ax})};aw.footer=az!==false?j(az||'#= kendo.toString(data,"D","'+au.culture+'") #',{useWithBlock:false}):null}});ad.plugin(y);var ai={firstDayOfMonth:function(au){return new u(au.getFullYear(),au.getMonth(),1)},firstVisibleDay:function(ax,au){au=au||Y.culture().calendar;var av=au.firstDay,aw=new u(ax.getFullYear(),ax.getMonth(),0,ax.getHours(),ax.getMinutes(),ax.getSeconds(),ax.getMilliseconds());while(aw.getDay()!=av){ai.setTime(aw,-1*k)}return aw},setTime:function(au,ay){var av=au.getTimezoneOffset(),ax=new u(au.getTime()+ay),aw=ax.getTimezoneOffset()-av;au.setTime(ax.getTime()+aw*X)},views:[{name:o,title:function(aw,ax,au,av){return D(av).months.names[aw.getMonth()]+" "+aw.getFullYear()},content:function(av){var aD=this,aH=0,aI=av.min,aL=av.max,aP=av.date,az=av.dates,aM=av.format,aN=av.culture,aC=av.url,ax=aC&&az[0],au=D(aN),aK=au.firstDay,aB=au.days,aG=F(aB.names,aK),aw=F(aB.namesShort,aK),ay=ai.firstVisibleDay(aP,au),aJ=aD.first(aP),aA=aD.last(aP),aF=aD.toDateString,aO=new u(),aE='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';for(;aH<7;aH++){aE+='<th scope="col" title="'+aG[aH]+'">'+aw[aH]+"</th>"}aO=new u(aO.getFullYear(),aO.getMonth(),aO.getDate());f(aO,0);aO=+aO;ay=new u(ay.getFullYear(),ay.getMonth(),ay.getDate());f(ay,0);return b({cells:42,perRow:7,html:aE+='</tr></thead><tbody><tr role="row">',start:ay,min:new u(aI.getFullYear(),aI.getMonth(),aI.getDate()),max:new u(aL.getFullYear(),aL.getMonth(),aL.getDate()),content:av.content,empty:av.empty,setter:aD.setDate,build:function(aT){var aQ=[],aR=aT.getDay(),aU="",aS="#";if(aT<aJ||aT>aA){aQ.push(M)}if(+aT===aO){aQ.push("k-today")}if(aR===0||aR===6){aQ.push("k-weekend")}if(ax&&ap(+aT,az)){aS=aC.replace("{0}",Y.toString(aT,aM,aN));aU=" k-action-link"}return{date:aT,dates:az,ns:Y.ns,title:Y.toString(aT,"D",aN),value:aT.getDate(),dateString:aF(aT),cssClass:aQ[0]?' class="'+aQ.join(" ")+'"':"",linkClass:aU,url:aS}}})},first:function(au){return ai.firstDayOfMonth(au)},last:function(av){var aw=new u(av.getFullYear(),av.getMonth()+1,0),ax=ai.firstDayOfMonth(av),au=Math.abs(aw.getTimezoneOffset()-ax.getTimezoneOffset());if(au){aw.setHours(ax.getHours()+(au/60))}return aw},compare:function(az,ay){var av,au=az.getMonth(),ax=az.getFullYear(),aA=ay.getMonth(),aw=ay.getFullYear();if(ax>aw){av=1}else{if(ax<aw){av=-1}else{av=au==aA?0:au>aA?1:-1}}return av},setDate:function(av,aw){var au=av.getHours();if(aw instanceof u){av.setFullYear(aw.getFullYear(),aw.getMonth(),aw.getDate())}else{ai.setTime(av,aw*k)}f(av,au)},toDateString:function(au){return au.getFullYear()+"/"+au.getMonth()+"/"+au.getDate()}},{name:"year",title:function(au){return au.getFullYear()},content:function(aw){var ay=D(aw.culture).months.namesAbbr,av=this.toDateString,ax=aw.min,au=aw.max;return b({min:new u(ax.getFullYear(),ax.getMonth(),1),max:new u(au.getFullYear(),au.getMonth(),1),start:new u(aw.date.getFullYear(),0,1),setter:this.setDate,build:function(az){return{value:ay[az.getMonth()],ns:Y.ns,dateString:av(az),cssClass:""}}})},first:function(au){return new u(au.getFullYear(),0,au.getDate())},last:function(au){return new u(au.getFullYear(),11,au.getDate())},compare:function(av,au){return p(av,au)},setDate:function(av,aw){var ax,au=av.getHours();if(aw instanceof u){ax=aw.getMonth();av.setFullYear(aw.getFullYear(),ax,av.getDate());if(ax!==av.getMonth()){av.setDate(0)}}else{ax=av.getMonth()+aw;av.setMonth(ax);if(ax>11){ax-=12}if(ax>0&&av.getMonth()!=ax){av.setDate(0)}}f(av,au)},toDateString:function(au){return au.getFullYear()+"/"+au.getMonth()+"/1"}},{name:"decade",title:function(av,aw,au){return V(av,aw,au,10)},content:function(av){var aw=av.date.getFullYear(),au=this.toDateString;return b({start:new u(aw-aw%10-1,0,1),min:new u(av.min.getFullYear(),0,1),max:new u(av.max.getFullYear(),0,1),setter:this.setDate,build:function(ay,ax){return{value:ay.getFullYear(),ns:Y.ns,dateString:au(ay),cssClass:ax===0||ax==11?O:""}}})},first:function(au){var av=au.getFullYear();return new u(av-av%10,au.getMonth(),au.getDate())},last:function(au){var av=au.getFullYear();return new u(av-av%10+9,au.getMonth(),au.getDate())},compare:function(av,au){return p(av,au,10)},setDate:function(au,av){G(au,av,1)},toDateString:function(au){return au.getFullYear()+"/0/1"}},{name:B,title:function(av,aw,au){return V(av,aw,au,100)},content:function(ax){var az=ax.date.getFullYear(),ay=ax.min.getFullYear(),av=ax.max.getFullYear(),aw=this.toDateString,aA=ay,au=av;aA=aA-aA%10;au=au-au%10;if(au-aA<10){au=aA+9}return b({start:new u(az-az%100-10,0,1),min:new u(aA,0,1),max:new u(au,0,1),setter:this.setDate,build:function(aD,aB){var aE=aD.getFullYear(),aC=aE+9;if(aE<ay){aE=ay}if(aC>av){aC=av}return{ns:Y.ns,value:aE+" - "+aC,dateString:aw(aD),cssClass:aB===0||aB==11?O:""}}})},first:function(au){var av=au.getFullYear();return new u(av-av%100,au.getMonth(),au.getDate())},last:function(au){var av=au.getFullYear();return new u(av-av%100+99,au.getMonth(),au.getDate())},compare:function(av,au){return p(av,au,100)},setDate:function(au,av){G(au,av,10)},toDateString:function(au){var av=au.getFullYear();return(av-av%10)+"/0/1"}}]};function V(ax,ay,av,az){var aB=ax.getFullYear(),aA=ay.getFullYear(),au=av.getFullYear(),aw;aB=aB-aB%az;aw=aB+(az-1);if(aB<aA){aB=aA}if(aw>au){aw=au}return aB+"-"+aw}function b(aG){var aE=0,az,ay=aG.min,aD=aG.max,au=aG.start,aw=aG.setter,aF=aG.build,av=aG.cells||12,ax=aG.perRow||4,aC=aG.content||N,aB=aG.empty||R,aA=aG.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';for(;aE<av;aE++){if(aE>0&&aE%ax===0){aA+='</tr><tr role="row">'}az=aF(au,aE);aA+=Z(au,ay,aD)?aC(az):aB(az);aw(au,1)}return aA+"</tr></tbody></table>"}function p(az,ay,av){var ax=az.getFullYear(),aA=ay.getFullYear(),aw=aA,au=0;if(av){aA=aA-aA%av;aw=aA-aA%av+av-1}if(ax>aw){au=1}else{if(ax<aA){au=-1}}return au}function t(){var au=new u();return new u(au.getFullYear(),au.getMonth(),au.getDate())}function a(ax,aw,au){var av=t();if(ax){av=new u(+ax)}if(aw>av){av=new u(+aw)}else{if(au<av){av=new u(+au)}}return av}function Z(av,aw,au){return +av>=+aw&&+av<=+au}function F(av,au){return av.slice(au).concat(av.slice(0,au))}function G(au,av,aw){av=av instanceof u?av.getFullYear():au.getFullYear()+aw*av;au.setFullYear(av)}function x(au){W(this).toggleClass(E,l.indexOf(au.type)>-1||au.type==aq)}function d(au){au.preventDefault()}function D(au){return A(au).calendars.standard}function aj(av){var ax=c[av.start],aw=c[av.depth],au=A(av.culture);av.format=q(av.format||au.calendars.standard.patterns.d);if(isNaN(ax)){ax=0;av.start=o}if(aw===w||aw>ax){av.depth=o}if(!av.dates){av.dates=[]}}function al(au){if(ar){au.find("*").attr("unselectable","on")}}function ap(au,ax){for(var av=0,aw=ax.length;av<aw;av++){if(au===+ax[av]){return true}}return false}function S(av,au){if(av){return av.getFullYear()===au.getFullYear()&&av.getMonth()===au.getMonth()&&av.getDate()===au.getDate()}return false}function s(av,au){if(av){return av.getFullYear()===au.getFullYear()&&av.getMonth()===au.getMonth()}return false}ai.isEqualDatePart=S;ai.makeUnselectable=al;ai.restrictValue=a;ai.isInRange=Z;ai.normalize=aj;ai.viewsEnum=c;Y.calendar=ai})(window.kendo.jQuery);(function(z,k){var A=window.kendo,H=A.ui,b=H.Widget,m=A.parseDate,t=A.keys,c=A.template,f=A._activeElement,p="<div />",J="<span />",Q=".kendoDatePicker",I="click"+Q,N="open",R="close",x="change",n="dateView",w="disabled",g="readonly",L="k-state-default",D="k-state-focused",u="k-state-selected",l="k-state-disabled",o="k-state-hover",T="keydown"+Q,d="mouseenter"+Q+" mouseleave"+Q,E="mousedown"+Q,s="id",r="min",S="max",e="month",h="aria-disabled",y="aria-expanded",G="aria-hidden",K="aria-readonly",M=A.calendar,B=M.isInRange,a=M.restrictValue,v=M.isEqualDatePart,j=z.extend,P=z.proxy,i=Date;function O(U){var W=U.parseFormats,V=U.format;M.normalize(U);W=z.isArray(W)?W:[W];if(!W.length){W.push("yyyy-MM-dd")}if(z.inArray(V,W)===-1){W.splice(0,0,U.format)}U.parseFormats=W}function C(U){U.preventDefault()}var F=function(V){var W=this,Y,U=document.body,X=z(p).attr(G,"true").addClass("k-calendar-container").appendTo(U);W.options=V=V||{};Y=V.id;if(Y){Y+="_dateview";X.attr(s,Y);W._dateViewID=Y}W.popup=new H.Popup(X,j(V.popup,V,{name:"Popup",isRtl:A.support.isRtl(V.anchor)}));W.div=X;W.value(V.value)};F.prototype={_calendar:function(){var V=this;var W=V.calendar;var U=V.options;var X;if(!W){X=z(p).attr(s,A.guid()).appendTo(V.popup.element).on(E,C).on(I,"td:has(.k-link)",P(V._click,V));V.calendar=W=new H.Calendar(X);V._setOptions(U);A.calendar.makeUnselectable(W.element);W.navigate(V._value||V._current,U.start);V.value(V._value)}},_setOptions:function(U){this.calendar.setOptions({focusOnNav:false,change:U.change,culture:U.culture,dates:U.dates,depth:U.depth,footer:U.footer,format:U.format,max:U.max,min:U.min,month:U.month,start:U.start})},setOptions:function(V){var U=this.options;this.options=j(U,V,{change:U.change,close:U.close,open:U.open});if(this.calendar){this._setOptions(this.options)}},destroy:function(){this.popup.destroy()},open:function(){var U=this;U._calendar();U.popup.open()},close:function(){this.popup.close()},min:function(U){this._option(r,U)},max:function(U){this._option(S,U)},toggle:function(){var U=this;U[U.popup.visible()?R:N]()},move:function(Z){var W=this,V=Z.keyCode,Y=W.calendar,U=Z.ctrlKey&&V==t.DOWN||V==t.ENTER,X=false;if(Z.altKey){if(V==t.DOWN){W.open();Z.preventDefault();X=true}else{if(V==t.UP){W.close();Z.preventDefault();X=true}}}else{if(W.popup.visible()){if(V==t.ESC||(U&&Y._cell.hasClass(u))){W.close();Z.preventDefault();return true}W._current=Y._move(Z);X=true}}return X},current:function(U){this._current=U;this.calendar._focus(U)},value:function(W){var V=this,X=V.calendar,U=V.options;V._value=W;V._current=new i(+a(W,U.min,U.max));if(X){X.value(W)}},_click:function(U){if(U.currentTarget.className.indexOf(u)!==-1){this.close()}},_option:function(U,W){var V=this;var X=V.calendar;V.options[U]=W;if(X){X[U](W)}}};F.normalize=O;A.DateView=F;var q=b.extend({init:function(V,U){var X=this,W,Z;b.fn.init.call(X,V,U);V=X.element;U=X.options;U.min=m(V.attr("min"))||m(U.min);U.max=m(V.attr("max"))||m(U.max);O(U);X._initialOptions=j({},U);X._wrapper();X.dateView=new F(j({},U,{id:V.attr(s),anchor:X.wrapper,change:function(){X._change(this.value());X.close()},close:function(aa){if(X.trigger(R)){aa.preventDefault()}else{V.attr(y,false);Z.attr(G,true)}},open:function(ac){var ab=X.options,aa;if(X.trigger(N)){ac.preventDefault()}else{if(X.element.val()!==X._oldText){aa=m(V.val(),ab.parseFormats,ab.culture);X.dateView[aa?"current":"value"](aa)}V.attr(y,true);Z.attr(G,false);X._updateARIA(aa)}}}));Z=X.dateView.div;X._icon();try{V[0].setAttribute("type","text")}catch(Y){V[0].type="text"}V.addClass("k-input").attr({role:"combobox","aria-expanded":false,"aria-owns":X.dateView._dateViewID});X._reset();X._template();W=V.is("[disabled]")||z(X.element).parents("fieldset").is(":disabled");if(W){X.enable(false)}else{X.readonly(V.is("[readonly]"))}X._old=X._update(U.value||X.element.val());X._oldText=V.val();A.notify(X)},events:[N,R,x],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:e,depth:e,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(U){var V=this;var W=V._value;b.fn.setOptions.call(V,U);U=V.options;U.min=m(U.min);U.max=m(U.max);O(U);V.dateView.setOptions(U);if(W){V.element.val(A.toString(W,U.format,U.culture));V._updateARIA(W)}},_editable:function(W){var Z=this,Y=Z._dateIcon.off(Q),X=Z.element.off(Q),aa=Z._inputWrapper.off(Q),U=W.readonly,V=W.disable;if(!U&&!V){aa.addClass(L).removeClass(l).on(d,Z._toggleHover);X.removeAttr(w).removeAttr(g).attr(h,false).attr(K,false).on("keydown"+Q,P(Z._keydown,Z)).on("focusout"+Q,P(Z._blur,Z)).on("focus"+Q,function(){Z._inputWrapper.addClass(D)});Y.on(I,P(Z._click,Z)).on(E,C)}else{aa.addClass(V?l:L).removeClass(V?L:l);X.attr(w,V).attr(g,U).attr(h,V).attr(K,U)}},readonly:function(U){this._editable({readonly:U===k?true:U,disable:false})},enable:function(U){this._editable({readonly:false,disable:!(U=U===k?true:U)})},destroy:function(){var U=this;b.fn.destroy.call(U);U.dateView.destroy();U.element.off(Q);U._dateIcon.off(Q);U._inputWrapper.off(Q);if(U._form){U._form.off("reset",U._resetHandler)}},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(U){return this._option(r,U)},max:function(U){return this._option(S,U)},value:function(V){var U=this;if(V===k){return U._value}U._old=U._update(V);if(U._old===null){U.element.val("")}U._oldText=U.element.val()},_toggleHover:function(U){z(U.currentTarget).toggleClass(o,U.type==="mouseenter")},_blur:function(){var U=this,V=U.element.val();U.close();if(V!==U._oldText){U._change(V)}U._inputWrapper.removeClass(D)},_click:function(){var V=this,U=V.element;V.dateView.toggle();if(!A.support.touch&&U[0]!==f()){U.focus()}},_change:function(V){var U=this;V=U._update(V);if(+U._old!=+V){U._old=V;U._oldText=U.element.val();if(!U._typing){U.element.trigger(x)}U.trigger(x)}U._typing=false},_keydown:function(Y){var V=this,U=V.dateView,W=V.element.val(),X=false;if(!U.popup.visible()&&Y.keyCode==t.ENTER&&W!==V._oldText){V._change(W)}else{X=U.move(Y);V._updateARIA(U._current);if(!X){V._typing=true}}},_icon:function(){var W=this,U=W.element,V;V=U.next("span.k-select");if(!V[0]){V=z('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span></span>').insertAfter(U)}W._dateIcon=V.attr({role:"button","aria-controls":W.dateView._dateViewID})},_option:function(V,X){var W=this,U=W.options;if(X===k){return U[V]}X=m(X,U.parseFormats,U.culture);if(!X){return}U[V]=new i(+X);W.dateView[V](X)},_update:function(ab){var Y=this,ac=Y.options,W=ac.min,aa=ac.max,Z=Y._value,U=m(ab,ac.parseFormats,ac.culture),V=(U===null&&Z===null)||(U instanceof Date&&Z instanceof Date),X;if(+U===+Z&&V){X=A.toString(U,ac.format,ac.culture);if(X!==ab){Y.element.val(U===null?ab:X)}return U}if(U!==null&&v(U,W)){U=a(U,W,aa)}else{if(!B(U,W,aa)){U=null}}Y._value=U;Y.dateView.value(U);Y.element.val(U?A.toString(U,ac.format,ac.culture):ab);Y._updateARIA(U);return U},_wrapper:function(){var V=this,U=V.element,W;W=U.parents(".k-datepicker");if(!W[0]){W=U.wrap(J).parent().addClass("k-picker-wrap k-state-default");W=W.wrap(J).parent()}W[0].style.cssText=U[0].style.cssText;U.css({width:"100%",height:U[0].style.height});V.wrapper=W.addClass("k-widget k-datepicker k-header").addClass(U[0].className);V._inputWrapper=z(W[0].firstChild)},_reset:function(){var W=this,U=W.element,X=U.attr("form"),V=X?z("#"+X):U.closest("form");if(V[0]){W._resetHandler=function(){W.value(U[0].defaultValue);W.max(W._initialOptions.max);W.min(W._initialOptions.min)};W._form=V.on("reset",W._resetHandler)}},_template:function(){this._ariaTemplate=c(this.options.ARIATemplate)},_updateARIA:function(V){var U;var W=this;var X=W.dateView.calendar;W.element.removeAttr("aria-activedescendant");if(X){U=X._cell;U.attr("aria-label",W._ariaTemplate({current:V||X.current()}));W.element.attr("aria-activedescendant",U.attr("id"))}}});H.plugin(q)})(window.kendo.jQuery);(function(e,h){var p=window.kendo,j=p.support,m=p.caret,i=p._activeElement,s=j.placeholder,o=p.ui,a=o.List,n=p.keys,d=p.data.DataSource,c="aria-disabled",y="aria-readonly",x="k-state-default",w="disabled",b="readonly",k="k-state-focused",f="k-state-selected",A="k-state-disabled",l="k-state-hover",z=".kendoAutoComplete",q="mouseenter"+z+" mouseleave"+z,t=e.proxy;function v(B,D,C){return C?D.substring(0,B).split(C).length-1:0}function g(B,D,C){return D.split(C)[v(B,D,C)]}function u(B,F,D,C){var E=F.split(C);E.splice(v(B,F,C),1,D);if(C&&E[E.length-1]!==""){E.push("")}return E.join(C)}var r=a.extend({init:function(C,B){var E=this,F,D;E.ns=z;B=e.isArray(B)?{dataSource:B}:B;a.fn.init.call(E,C,B);C=E.element;B=E.options;B.placeholder=B.placeholder||C.attr("placeholder");if(s){C.attr("placeholder",B.placeholder)}E._wrapper();E._loader();E._dataSource();E._ignoreCase();C[0].type="text";F=E.wrapper;E._popup();C.addClass("k-input").on("keydown"+z,t(E._keydown,E)).on("paste"+z,t(E._search,E)).on("focus"+z,function(){E._prev=E._accessor();E._placeholder(false);F.addClass(k)}).on("focusout"+z,function(){E._change();E._placeholder();F.removeClass(k)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":true});E._enable();E._old=E._accessor();if(C[0].id){C.attr("aria-owns",E.ul[0].id)}E._aria();E._placeholder();E._initList();D=e(E.element).parents("fieldset").is(":disabled");if(D){E.enable(false)}p.notify(E)},options:{name:"AutoComplete",enabled:true,suggest:false,template:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:true,highlightFirst:false,separator:null,placeholder:"",animation:{},value:null},_dataSource:function(){var B=this;if(B.dataSource&&B._refreshHandler){B._unbindDataSource()}else{B._progressHandler=t(B._showBusy,B)}B.dataSource=d.create(B.options.dataSource).bind("progress",B._progressHandler)},setDataSource:function(B){this.options.dataSource=B;this._dataSource();this.listView.setDataSource(this.dataSource)},events:["open","close","change","select","filtering","dataBinding","dataBound"],setOptions:function(B){var C=this._listOptions(B);a.fn.setOptions.call(this,B);C.dataValueField=C.dataTextField;this.listView.setOptions(C);this._accessors();this._aria()},_editable:function(D){var F=this,E=F.element,G=F.wrapper.off(z),B=D.readonly,C=D.disable;if(!B&&!C){G.addClass(x).removeClass(A).on(q,F._toggleHover);E.removeAttr(w).removeAttr(b).attr(c,false).attr(y,false)}else{G.addClass(C?A:x).removeClass(C?x:A);E.attr(w,C).attr(b,B).attr(c,C).attr(y,B)}},close:function(){var B=this;var C=B.listView.focus();if(C){C.removeClass(f)}B.popup.close()},destroy:function(){var B=this;B.element.off(z);B.wrapper.off(z);a.fn.destroy.call(B)},refresh:function(){this.listView.refresh()},select:function(B){this._select(B)},search:function(G){var E=this,C=E.options,B=C.ignoreCase,F=C.separator,D;G=G||E._accessor();clearTimeout(E._typingTimeout);if(F){G=g(m(E.element)[0],G,F)}D=G.length;if(!D||D>=C.minLength){E._open=true;E.listView.filter(true);E._filterSource({value:B?G.toLowerCase():G,operator:C.filter,field:C.dataTextField,ignoreCase:B})}},suggest:function(B){var G=this,K=G._last,J=G._accessor(),D=G.element[0],F=m(D)[0],E=G.options.separator,H=J.split(E),C=v(F,J,E),L=F,I;if(K==n.BACKSPACE||K==n.DELETE){G._last=h;return}B=B||"";if(typeof B!=="string"){if(B[0]){B=G.dataSource.view()[a.inArray(B[0],G.ul[0])]}B=B?G._text(B):""}if(F<=0){F=J.toLowerCase().indexOf(B.toLowerCase())+1}I=J.substring(0,F).lastIndexOf(E);I=I>-1?F-(I+E.length):F;J=H[C].substring(0,I);if(B){B=B.toString();I=B.toLowerCase().indexOf(J.toLowerCase());if(I>-1){B=B.substring(I+J.length);L=F+B.length;J+=B}if(E&&H[H.length-1]!==""){H.push("")}}H[C]=J;G._accessor(H.join(E||""));if(D===i()){m(D,F,L)}},value:function(B){if(B!==h){this.listView.value(B);this._accessor(B);this._old=this._accessor()}else{return this._accessor()}},_click:function(D){var C=D.item;var B=this.element;if(this.trigger("select",{item:C})){this.close();return}this._select(C);this._blur();m(B,B.val().length)},_initList:function(){var E=this;var F=E.options.virtual;var C=!!F;var B=t(E._listBound,E);var D={autoBind:false,selectable:true,dataSource:E.dataSource,click:e.proxy(E._click,this),change:e.proxy(E._listChange,this),activate:t(E._activateItem,E),deactivate:t(E._deactivateItem,E),dataBinding:function(){E.trigger("dataBinding");E._angularItems("cleanup")},dataBound:B,listBound:B};D=e.extend(E._listOptions(),D,typeof F==="object"?F:{});D.dataValueField=D.dataTextField;if(!C){E.listView=new p.ui.StaticList(E.ul,D)}else{E.listView=new p.ui.VirtualList(E.ul,D)}E.listView.value(E.options.value)},_listBound:function(){var F=this;var B=F.popup;var C=F.options;var H=F.dataSource.flatView();var E=H.length;var D=F.element[0]===i();var G;F._angularItems("compile");F.listView.value([]);F.listView.focus(-1);F.listView.filter(false);F._calculateGroupPadding(F._height(E));B.position();if(E){var I=this.listView.focus();if(C.highlightFirst&&!I){F.listView.first()}if(C.suggest&&D){F.suggest(H[0])}}if(F._open){F._open=false;G=E?"open":"close";if(F._typingTimeout&&!D){G="close"}B[G]();F._typingTimeout=h}if(F._touchScroller){F._touchScroller.reset()}F._hideBusy();F._makeUnselectable();F.trigger("dataBound")},_listChange:function(){if(!this.listView.filter()){this._selectValue(this.listView.selectedDataItems()[0])}},_selectValue:function(B){var C=this.options.separator;var D="";if(B){D=this._text(B)}if(D===null){D=""}if(C){D=u(m(this.element)[0],this._accessor(),D,C)}this._prev=D;this._accessor(D);this._placeholder()},_accessor:function(D){var C=this,B=C.element[0];if(D!==h){B.value=D===null?"":D;C._placeholder()}else{D=B.value;if(B.className.indexOf("k-readonly")>-1){if(D===C.options.placeholder){return""}else{return D}}return D}},_keydown:function(E){var C=this;var B=E.keyCode;var F=C.popup.visible();var D=this.listView.focus();C._last=B;if(B===n.DOWN){if(F){this._move(D?"next":"first")}E.preventDefault()}else{if(B===n.UP){if(F){this._move(D?"prev":"last")}E.preventDefault()}else{if(B===n.ENTER||B===n.TAB){if(B===n.ENTER&&F){E.preventDefault()}if(F&&D){if(C.trigger("select",{item:D})){return}this._select(D)}this._blur()}else{if(B===n.ESC){if(F){E.preventDefault()}C.close()}else{C._search();C._typing=true}}}}},_move:function(B){this.listView[B]();if(this.options.suggest){this.suggest(this.listView.focus())}},_hideBusy:function(){var B=this;clearTimeout(B._busy);B._loading.hide();B.element.attr("aria-busy",false);B._busy=null},_showBusy:function(){var B=this;if(B._busy){return}B._busy=setTimeout(function(){B.element.attr("aria-busy",true);B._loading.show()},100)},_placeholder:function(B){if(s){return}var D=this,C=D.element,F=D.options.placeholder,E;if(F){E=C.val();if(B===h){B=!E}if(!B){if(E!==F){F=E}else{F=""}}if(E===D._old&&!B){return}C.toggleClass("k-readonly",B).val(F);if(!F&&C[0]===document.activeElement){m(C[0],0,0)}}},_search:function(){var B=this;clearTimeout(B._typingTimeout);B._typingTimeout=setTimeout(function(){if(B._prev!==B._accessor()){B._prev=B._accessor();B.search()}},B.options.delay)},_select:function(B){this.listView.select(B)},_loader:function(){this._loading=e('<span class="k-icon k-loading" style="display:none"></span>').insertAfter(this.element)},_toggleHover:function(B){e(B.currentTarget).toggleClass(l,B.type==="mouseenter")},_wrapper:function(){var C=this,B=C.element,E=B[0],D;D=B.parent();if(!D.is("span.k-widget")){D=B.wrap("<span />").parent()}D.attr("tabindex",-1);D.attr("role","presentation");D[0].style.cssText=E.style.cssText;B.css({width:"100%",height:E.style.height});C._focused=C.element;C.wrapper=D.addClass("k-widget k-autocomplete k-header").addClass(E.className)}});o.plugin(r)})(window.kendo.jQuery);(function(e,g){var r=window.kendo,q=r.ui,o=q.Select,j=r.support,h=r._activeElement,b=r.data.ObservableObject,n=r.keys,y=".kendoDropDownList",v="disabled",a="readonly",m="change",k="k-state-focused",w="k-state-default",z="k-state-disabled",c="aria-disabled",x="aria-readonly",f="k-state-selected",s="mouseenter"+y+" mouseleave"+y,p="tabindex",l="filter",d="accept",u=e.proxy;var i=o.extend({init:function(C,B){var F=this;var A=B&&B.index;var E,G,D;F.ns=y;B=e.isArray(B)?{dataSource:B}:B;o.fn.init.call(F,C,B);B=F.options;C=F.element.on("focus"+y,u(F._focusHandler,F));F._focusInputHandler=e.proxy(F._focusInput,F);F._inputTemplate();F._reset();F._prev="";F._word="";F.optionLabel=e();F._wrapper();F._tabindex();F.wrapper.data(p,F.wrapper.attr(p));F._span();F._popup();F._mobile();F._dataSource();F._ignoreCase();F._filterHeader();F._aria();F._enable();F._oldIndex=F.selectedIndex=-1;if(A!==g){B.index=A}F._initialIndex=B.index;F._optionLabel();F._initList();F._cascade();if(B.autoBind){F.dataSource.fetch()}else{if(F.selectedIndex===-1){G=B.text||"";if(!G){E=B.optionLabel;if(E&&B.index===0){G=E}else{if(F._isSelect){G=C.children(":selected").text()}}}F._textAccessor(G)}}D=e(F.element).parents("fieldset").is(":disabled");if(D){F.enable(false)}r.notify(F)},options:{name:"DropDownList",enabled:true,autoBind:true,index:0,text:null,value:null,delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",ignoreCase:true,animation:{},filter:"none",minLength:1,virtual:false,template:null,valueTemplate:null,optionLabelTemplate:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#"},events:["open","close",m,"select","filtering","dataBinding","dataBound","cascade"],setOptions:function(A){o.fn.setOptions.call(this,A);this.listView.setOptions(this._listOptions(A));this._optionLabel();this._inputTemplate();this._accessors();this._filterHeader();this._enable();this._aria();if(!this.value()&&this.optionLabel[0]){this.select(0)}},destroy:function(){var A=this;A.wrapper.off(y);A.element.off(y);A._inputWrapper.off(y);A._arrow.off();A._arrow=null;A.optionLabel.off();o.fn.destroy.call(A)},open:function(){var A=this;if(A.popup.visible()){return}if(!A.listView.isBound()||A._state===d){A._open=true;A._state="rebind";if(A.filterInput){A.filterInput.val("");A._prev=""}A._filterSource()}else{if(A._allowOpening()){A.popup.one("activate",A._focusInputHandler);A.popup.open();A._focusItem()}}},_focusInput:function(){this._focusElement(this.filterInput)},_allowOpening:function(A){return this.optionLabel[0]||this.filterInput||this.dataSource.view().length},toggle:function(A){this._toggle(A,true)},current:function(A){var B;if(A===g){B=this.listView.focus();if(!B&&this.selectedIndex===0&&this.optionLabel[0]){return this.optionLabel}return B}this._focus(A)},dataItem:function(B){var D=this;var A=null;var E=!!D.optionLabel[0];var C=D.options.optionLabel;if(B===g){A=D.listView.selectedDataItems()[0]}else{if(typeof B!=="number"){if(B.hasClass("k-list-optionlabel")){B=-1}else{B=e(D.items()).index(B)}}else{if(E){B-=1}}A=D.dataSource.flatView()[B]}if(!A&&E){A=e.isPlainObject(C)?new b(C):D._assignInstance(D._optionLabelText(),"")}return A},refresh:function(){this.listView.refresh()},text:function(E){var D=this;var B,C;var A=D.options.ignoreCase;E=E===null?"":E;if(E!==g){if(typeof E==="string"){C=A?E.toLowerCase():E;D._select(function(F){F=D._text(F);if(A){F=(F+"").toLowerCase()}return F===C});B=D.dataItem();if(B){E=B}}D._textAccessor(E)}else{return D._textAccessor()}},value:function(B){var A=this;var C=A.dataSource;if(B===g){B=A._accessor()||A.listView.value()[0];return B===g||B===null?"":B}if(B){A._initialIndex=null}if(A._request&&A.options.cascadeFrom&&A.listView.isBound()){if(A._valueSetter){C.unbind(m,A._valueSetter)}A._valueSetter=u(function(){A.value(B)},A);C.one(m,A._valueSetter);return}A.listView.value(B).done(function(){if(A.selectedIndex===-1&&A.text()){A.text("");A._accessor("",-1)}A._old=A._accessor();A._oldIndex=A.selectedIndex});A._fetchData()},_optionLabel:function(){var D=this;var A=D.options;var C=A.optionLabel;var B=A.optionLabelTemplate;if(!C){D.optionLabel.off().remove();D.optionLabel=e();return}if(!B){B="#:";if(typeof C==="string"){B+="data"}else{B+=r.expr(A.dataTextField,"data")}B+="#"}if(typeof B!=="function"){B=r.template(B)}D.optionLabelTemplate=B;if(!D.optionLabel[0]){D.optionLabel=e('<div class="k-list-optionlabel"></div>').prependTo(D.list)}D.optionLabel.html(B(C)).off().click(u(D._click,D)).on(s,D._toggleHover);D.angular("compile",function(){return{elements:D.optionLabel}})},_optionLabelText:function(){var A=this.options.optionLabel;return(typeof A==="string")?A:this._text(A)},_listBound:function(){var E=this;var G=E._initialIndex;var H=E.options.optionLabel;var F=E._state===l;var D=E.element[0];var C=E.dataSource.flatView();var B=C.length;var A;var J;var I;E._angularItems("compile");E._presetValue=false;if(!E.options.virtual){J=E._height(F?(B||1):B);E._calculateGroupPadding(J)}E.popup.position();if(E._isSelect){I=E.value();if(B){if(H){H=E._option("",E._optionLabelText())}}else{if(I){H=E._option(I,E.text())}}E._options(C,H,I)}E._makeUnselectable();if(!F){if(E._open){E.toggle(E._allowOpening())}E._open=false;if(!E._fetch){if(B){if(!E.listView.value().length&&G>-1&&G!==null){E.select(G)}E._initialIndex=null;A=E.listView.selectedDataItems()[0];if(A&&E.text()!==E._text(A)){E._selectValue(A)}}else{if(E._textAccessor()!==E._optionLabelText()){E.listView.value("");E._selectValue(null);E._oldIndex=E.selectedIndex}}}}E._hideBusy();E.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]);if(this._presetValue||(this._old&&this._oldIndex===-1)){this._oldIndex=this.selectedIndex}},_focusHandler:function(){this.wrapper.focus()},_focusinHandler:function(){this._inputWrapper.addClass(k);this._prevent=false},_focusoutHandler:function(){var C=this;var A=C._state===l;var D=window.self!==window.top;var B=C._focus();if(!C._prevent){clearTimeout(C._typingTimeout);if(A&&B&&!C.trigger("select",{item:B})){C._select(B,!C.dataSource.view().length)}if(j.mobileOS.ios&&D){C._change()}else{C._blur()}C._inputWrapper.removeClass(k);C._prevent=true;C._open=false;C.element.blur()}},_wrapperMousedown:function(){this._prevent=!!this.filterInput},_wrapperClick:function(A){A.preventDefault();this.popup.unbind("activate",this._focusInputHandler);this._focused=this.wrapper;this._toggle()},_editable:function(C){var E=this;var D=E.element;var B=C.disable;var A=C.readonly;var G=E.wrapper.add(E.filterInput).off(y);var F=E._inputWrapper.off(s);if(!A&&!B){D.removeAttr(v).removeAttr(a);F.addClass(w).removeClass(z).on(s,E._toggleHover);G.attr(p,G.data(p)).attr(c,false).attr(x,false).on("keydown"+y,u(E._keydown,E)).on("focusin"+y,u(E._focusinHandler,E)).on("focusout"+y,u(E._focusoutHandler,E)).on("mousedown"+y,u(E._wrapperMousedown,E));E.wrapper.on("click"+y,u(E._wrapperClick,E));if(!E.filterInput){G.on("keypress"+y,u(E._keypress,E))}}else{if(B){G.removeAttr(p);F.addClass(z).removeClass(w)}else{F.addClass(w).removeClass(z);G.on("focusin"+y,u(E._focusinHandler,E)).on("focusout"+y,u(E._focusoutHandler,E))}}D.attr(v,B).attr(a,A);G.attr(c,B).attr(x,A)},_option:function(A,B){return'<option value="'+A+'">'+B+"</option>"},_keydown:function(G){var D=this;var C=G.keyCode;var E=G.altKey;var B=D.ul[0];var H;var F;var A=D.popup.visible();if(D.filterInput){H=D.filterInput[0]===h()}if(C===n.LEFT){C=n.UP;F=true}else{if(C===n.RIGHT){C=n.DOWN;F=true}}if(F&&H){return}G.keyCode=C;if(E&&C===n.UP){D._focusElement(D.wrapper)}if(C===n.ENTER&&D._typingTimeout&&D.filterInput&&A){G.preventDefault();return}F=D._move(G);if(F){return}if(!A||!D.filterInput){if(C===n.HOME){F=true;D._firstItem()}else{if(C===n.END){F=true;D._lastItem()}}if(F){D._select(D._focus());G.preventDefault()}}if(!E&&!F&&D.filterInput){D._search()}},_matchText:function(E,B){var C=this;var A=C.options.ignoreCase;var D=false;E=E+"";if(A){E=E.toLowerCase()}if(E.indexOf(C._word)===0){if(C.optionLabel[0]){B+=1}C._select(B);if(!C.popup.visible()){C._change()}D=true}return D},_selectNext:function(A){var C=this;var F=A;var D=C.dataSource.flatView();var B=D.length;var E;for(;A<B;A++){E=C._text(D[A]);if(E&&C._matchText(E,A)&&!(C._word.length===1&&F===C.selectedIndex)){return true}}if(F>0&&F<B){A=0;for(;A<=F;A++){E=C._text(D[A]);if(E&&C._matchText(E,A)){return true}}}return false},_keypress:function(E){var C=this;if(E.which===0||E.keyCode===r.keys.ENTER){return}var D=String.fromCharCode(E.charCode||E.keyCode);var A=C.selectedIndex;var B=C._word.length;if(C.options.ignoreCase){D=D.toLowerCase()}if(D===" "){E.preventDefault()}if(!B){C._word=D}if(C._last===D&&B<=1&&A>-1){if(C._selectNext(A)){return}}if(B){C._word+=D}C._last=D;C._search()},_popupOpen:function(){var A=this.popup;A.wrapper=r.wrap(A.element);if(A.element.closest(".km-root")[0]){A.wrapper.addClass("km-popup km-widget");this.wrapper.addClass("km-widget")}},_popup:function(){o.fn._popup.call(this);this.popup.one("open",u(this._popupOpen,this))},_click:function(B){var A=B.item||e(B.currentTarget);if(this.trigger("select",{item:A})){this.close();return}this._userTriggered=true;this._select(A);this._focusElement(this.wrapper);this._blur()},_focusElement:function(C){var E=h();var F=this.wrapper;var D=this.filterInput;var B=C===D?F:D;var A=j.mobileOS&&(j.touch||j.MSPointers||j.pointers);if(D&&D[0]===C[0]&&A){return}if(D&&B[0]===E){this._prevent=true;this._focused=C.focus()}},_filter:function(C){if(C){var B=this;var A=B.options.ignoreCase;if(A){C=C.toLowerCase()}B._select(function(D){var E=B._text(D);if(E!==g){E=(E+"");if(A){E=E.toLowerCase()}return E.indexOf(C)===0}})}},_search:function(){var B=this;var C=B.dataSource;var A=B.selectedIndex;clearTimeout(B._typingTimeout);if(B.options.filter!=="none"){B._typingTimeout=setTimeout(function(){var D=B.filterInput.val();if(B._prev!==D){B._prev=D;B.search(D)}B._typingTimeout=null},B.options.delay)}else{B._typingTimeout=setTimeout(function(){B._word=""},B.options.delay);if(A===-1){A=0}if(!B.ul[0].firstChild){C.fetch().done(function(){if(C.data()[0]&&A>-1){B._selectNext(A)}});return}B._selectNext(A)}},_get:function(C){var E,D,A;var B=e(C);if(this.optionLabel[0]){if(typeof C==="number"){if(C>-1){C-=1}}else{if(B.hasClass("k-list-optionlabel")){C=-1}}}if(typeof C==="function"){E=this.dataSource.flatView();for(A=0;A<E.length;A++){if(C(E[A])){C=A;D=true;break}}if(!D){C=-1}}return C},_firstItem:function(){if(this.optionLabel[0]){this._focus(this.optionLabel)}else{this.listView.first()}},_lastItem:function(){this.optionLabel.removeClass("k-state-focused");this.listView.last()},_nextItem:function(){if(this.optionLabel.hasClass("k-state-focused")){this.optionLabel.removeClass("k-state-focused");this.listView.first()}else{this.listView.next()}},_prevItem:function(){if(this.optionLabel.hasClass("k-state-focused")){return}this.listView.prev();if(!this.listView.focus()){this.optionLabel.addClass("k-state-focused")}},_focusItem:function(){var A=this.listView;var C=A.focus();var B=A.select();B=B[B.length-1];if(B===g&&this.options.highlightFirst&&!C){B=0}if(B!==g){A.focus(B)}else{if(this.options.optionLabel){this._focus(this.optionLabel);this._select(this.optionLabel)}else{A.scrollToIndex(0)}}},_focus:function(B){var A=this.listView;var C=this.optionLabel;if(B===g){B=A.focus();if(!B&&C.hasClass("k-state-focused")){B=C}return B}C.removeClass("k-state-focused");B=this._get(B);A.focus(B);if(B===-1){C.addClass("k-state-focused")}},_select:function(B,A){var D=this;var C=D.optionLabel;B=D._get(B);D.listView.select(B);if(!A&&D._state===l){D.listView.filter(false);D._state=d}if(B===-1){D._selectValue(null)}},_selectValue:function(C){var E=this;var D=E.options.optionLabel;var B=E.optionLabel;var A=E.listView.select();var F="";var G="";A=A[A.length-1];if(A===g){A=-1}B.removeClass("k-state-focused k-state-selected");if(C){G=C;F=E._dataValue(C);if(D){A+=1}}else{if(D){E._focus(B.addClass("k-state-selected"));G=E._optionLabelText();if(typeof D==="string"){F=""}else{F=E._value(D)}A=0}}E.selectedIndex=A;if(F===null){F=""}E._textAccessor(G);E._accessor(F,A);E._triggerCascade()},_mobile:function(){var C=this,B=C.popup,D=j.mobileOS,A=B.element.parents(".km-root").eq(0);if(A.length&&D){B.options.animation.open.effects=(D.android||D.meego)?"fadeIn":(D.ios||D.wp)?"slideIn:up":B.options.animation.open.effects}},_filterHeader:function(){var B;var A=this.options;var C=A.filter!=="none";if(this.filterInput){this.filterInput.off(y).parent().remove();this.filterInput=null}if(C){B='<span unselectable="on" class="k-icon k-i-search">select</span>';this.filterInput=e('<input class="k-textbox"/>').attr({role:"listbox","aria-haspopup":true,"aria-expanded":false});this.list.prepend(e('<span class="k-list-filter" />').append(this.filterInput.add(B)))}},_span:function(){var B=this,D=B.wrapper,C="span.k-input",A;A=D.find(C);if(!A[0]){D.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(B.element);A=D.find(C)}B.span=A;B._inputWrapper=e(D[0].firstChild);B._arrow=D.find(".k-icon")},_wrapper:function(){var B=this,A=B.element,D=A[0],C;C=A.parent();if(!C.is("span.k-widget")){C=A.wrap("<span />").parent();C[0].style.cssText=D.style.cssText;C[0].title=D.title}A.hide();B._focused=B.wrapper=C.addClass("k-widget k-dropdown k-header").addClass(D.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":true,"aria-expanded":false})},_clearSelection:function(A){this.select(A.value()?0:-1)},_inputTemplate:function(){var B=this,A=B.options.valueTemplate;if(!A){A=e.proxy(r.template("#:this._text(data)#",{useWithBlock:false}),B)}else{A=r.template(A)}B.valueTemplate=A},_textAccessor:function(G){var C=null;var E=this.valueTemplate;var B=this.options;var F=B.optionLabel;var D=this.span;if(G!==g){if(e.isPlainObject(G)||G instanceof b){C=G}else{if(F&&this._optionLabelText()===G){C=F;E=this.optionLabelTemplate}}if(!C){C=this._assignInstance(G,this._accessor())}var A=function(){return{elements:D.get(),data:[{dataItem:C}]}};this.angular("cleanup",A);D.html(E(C));this.angular("compile",A)}else{return D.text()}},_preselect:function(A,B){if(!A&&!B){B=this._optionLabelText()}this._accessor(A);this._textAccessor(B);this._old=this._accessor();this._oldIndex=this.selectedIndex;this.listView.setValue(A);this._initialIndex=null;this._presetValue=true},_assignInstance:function(D,B){var C=this.options.dataTextField;var A={};if(C){t(A,C.split("."),D);t(A,this.options.dataValueField.split("."),B);A=new b(A)}else{A=D}return A}});function t(C,B,D){var A=0,F=B.length-1,E;for(;A<F;++A){E=B[A];if(!(E in C)){C[E]={}}C=C[E]}C[B[F]]=D}q.plugin(i)})(window.kendo.jQuery);(function(e,g){var s=window.kendo,r=s.ui,a=r.List,q=r.Select,n=s.caret,l=s.support,u=l.placeholder,h=s._activeElement,p=s.keys,D=".kendoComboBox",f="click"+D,j="mousedown"+D,w="disabled",b="readonly",o="change",x="k-state-default",k="k-state-focused",C="k-state-disabled",c="aria-disabled",B="aria-readonly",A="k-state-selected",m="filter",d="accept",i="rebind",t="mouseenter"+D+" mouseleave"+D,y=null,v=e.proxy;var z=q.extend({init:function(F,E){var H=this,I,G;H.ns=D;E=e.isArray(E)?{dataSource:E}:E;q.fn.init.call(H,F,E);E=H.options;F=H.element.on("focus"+D,v(H._focusHandler,H));E.placeholder=E.placeholder||F.attr("placeholder");H._reset();H._wrapper();H._input();H._tabindex(H.input);H._popup();H._dataSource();H._ignoreCase();H._enable();H._oldIndex=H.selectedIndex=-1;H._aria();H._initialIndex=E.index;H._initList();H._cascade();if(E.autoBind){H._filterSource()}else{I=E.text;if(!I&&H._isSelect){I=F.children(":selected").text()}if(I){H.input.val(I);H._prev=I}}if(!I){H._placeholder()}G=e(H.element).parents("fieldset").is(":disabled");if(G){H.enable(false)}s.notify(H)},options:{name:"ComboBox",enabled:true,index:-1,text:null,value:null,autoBind:true,delay:200,dataTextField:"",dataValueField:"",minLength:0,height:200,highlightFirst:true,filter:"none",placeholder:"",suggest:false,cascadeFrom:"",cascadeFromField:"",ignoreCase:true,animation:{},template:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#"},events:["open","close",o,"select","filtering","dataBinding","dataBound","cascade"],setOptions:function(E){q.fn.setOptions.call(this,E);this.listView.setOptions(E);this._accessors();this._aria()},destroy:function(){var E=this;E.input.off(D);E.element.off(D);E._inputWrapper.off(D);q.fn.destroy.call(E)},_focusHandler:function(){this.input.focus()},_arrowClick:function(){this._toggle()},_inputFocus:function(){this._inputWrapper.addClass(k);this._placeholder(false)},_inputFocusout:function(){var E=this;E._inputWrapper.removeClass(k);clearTimeout(E._typingTimeout);E._typingTimeout=null;if(E.options.text!==E.input.val()){E.text(E.text())}E._placeholder();E._blur();E.element.blur()},_editable:function(H){var I=this,G=H.disable,F=H.readonly,K=I._inputWrapper.off(D),E=I.element.add(I.input.off(D)),J=I._arrow.parent().off(f+" "+j);if(!F&&!G){K.addClass(x).removeClass(C).on(t,I._toggleHover);E.removeAttr(w).removeAttr(b).attr(c,false).attr(B,false);J.on(f,v(I._arrowClick,I)).on(j,function(L){L.preventDefault()});I.input.on("keydown"+D,v(I._keydown,I)).on("focus"+D,v(I._inputFocus,I)).on("focusout"+D,v(I._inputFocusout,I))}else{K.addClass(G?C:x).removeClass(G?x:C);E.attr(w,G).attr(b,F).attr(c,G).attr(B,F)}},open:function(){var G=this;var H=G._state;var F;var E;if(G.popup.visible()){return}if((!G.listView.isBound()&&H!==m)||H===d){G._open=true;G._state=i;G.listView.filter(false);G._filterSource()}else{G.popup.open();G._focusItem()}},_listBound:function(){var K=this;var S=K.options;var N=K._initialIndex;var L=K._state===m;var R=K.input[0]===h();var Q=K.listView;var P=Q.focus();var J=this.dataSource.flatView();var M=this.dataSource.page();var G=J.length;var E;var O;K._angularItems("compile");K._presetValue=false;if(!S.virtual){K._calculateGroupPadding(K._height(G))}K.popup.position();if(K._isSelect){var I=K.element[0].children[0];if(K._state===i){K._state=""}var H=true;var F=K._customOption;K._customOption=g;K._options(J,"",K.value());if(F&&F[0].selected){K._custom(F.val(),H)}else{if(!I){K._custom("",H)}}}K._makeUnselectable();if(!L&&!K._fetch){if(!Q.value().length){if(N!==null&&N>-1){K.select(N);P=Q.focus()}else{if(K._accessor()){Q.value(K._accessor())}}}K._initialIndex=null;E=K.listView.selectedDataItems()[0];if(E&&K.text()&&K.text()!==K._text(E)){K._selectValue(E)}}else{if(L&&P){P.removeClass("k-state-selected")}}if(G&&(M===g||M===1)){if(S.highlightFirst){if(!P&&!Q.focusIndex()){Q.focus(0)}}else{Q.focus(-1)}if(S.suggest&&R&&K.input.val()){K.suggest(J[0])}}if(K._open){K._open=false;if(K._typingTimeout&&!R){K.popup.close()}else{K.toggle(!!G)}K._typingTimeout=null}if(K._touchScroller){K._touchScroller.reset()}K._hideBusy();K.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]);if(this._presetValue){this._oldIndex=this.selectedIndex}},_get:function(F){var H,G,E;if(typeof F==="function"){H=this.dataSource.flatView();for(E=0;E<H.length;E++){if(F(H[E])){F=E;G=true;break}}if(!G){F=-1}}return F},_select:function(F,E){F=this._get(F);if(F===-1){this.input[0].value="";this._accessor("")}this.listView.select(F);if(!E&&this._state===m){this.listView.filter(false);this._state=d}},_selectValue:function(F){var E=this.listView.select();var G="";var H="";E=E[E.length-1];if(E===g){E=-1}this.selectedIndex=E;if(E===-1){G=H=this.input[0].value;this.listView.focus(-1)}else{if(F){G=this._dataValue(F);H=this._text(F)}if(G===null){G=""}}this._prev=this.input[0].value=H;this._accessor(G!==g?G:H,E);this._placeholder();this._triggerCascade()},refresh:function(){this.listView.refresh()},suggest:function(K){var I=this;var H=I.input[0];var J=I.text();var G=n(H)[0];var F=I._last;var E;if(F==p.BACKSPACE||F==p.DELETE){I._last=g;return}K=K||"";if(typeof K!=="string"){if(K[0]){K=I.dataSource.view()[a.inArray(K[0],I.ul[0])]}K=K?I._text(K):""}if(G<=0){G=J.toLowerCase().indexOf(K.toLowerCase())+1}if(K){K=K.toString();E=K.toLowerCase().indexOf(J.toLowerCase());if(E>-1){J+=K.substring(E+J.length)}}else{J=J.substring(0,G)}if(J.length!==G||!K){H.value=J;if(H===h()){n(H,G,J.length)}}},text:function(K){K=K===null?"":K;var I=this;var F=I.input[0];var E=I.options.ignoreCase;var H=K;var G;var J;if(K===g){return F.value}G=I.dataItem();if(I.options.autoBind===false&&!I.listView.isBound()){return}if(G&&I._text(G)===K){J=I._value(G);if(J===null){J=""}else{J+=""}if(J===I._old){I._triggerCascade();return}}if(E){H=H.toLowerCase()}I._select(function(L){L=I._text(L);if(E){L=(L+"").toLowerCase()}return L===H});if(I.selectedIndex<0){I._accessor(K);F.value=K;I._triggerCascade()}I._prev=F.value},toggle:function(E){this._toggle(E,true)},value:function(G){var F=this;var E=F.options;if(G===g){G=F._accessor()||F.listView.value()[0];return G===g||G===null?"":G}if(G===E.value&&F.input.val()===E.text){return}F._accessor(G);F.listView.value(G).done(function(){F._selectValue(F.listView.selectedDataItems()[0]);if(F.selectedIndex===-1){F._accessor(G);F.input.val(G);F._placeholder(true)}F._old=F._accessor();F._oldIndex=F.selectedIndex;F._prev=F.input.val();if(F._state===m){F._state=d}});F._fetchData()},_click:function(F){var E=F.item;if(this.trigger("select",{item:E})){this.close();return}this._userTriggered=true;this._select(E);this._blur()},_filter:function(J){var H=this;var G=H.options;var K=H.dataSource;var F=G.ignoreCase;var E=function(L){var M=H._text(L);if(M!==g){M=M+"";if(M!==""&&J===""){return false}if(F){M=M.toLowerCase()}return M.indexOf(J)===0}};if(F){J=J.toLowerCase()}if(!H.ul[0].firstChild){K.one(o,function(){if(K.view()[0]){H.search(J)}}).fetch();return}this.listView.focus(this._get(E));var I=this.listView.focus();if(I){if(G.suggest){H.suggest(I)}this.open()}if(this.options.highlightFirst&&!J){this.listView.first()}},_input:function(){var I=this,G=I.element.removeClass("k-input")[0],H=G.accessKey,K=I.wrapper,J="input.k-input",F=G.name||"",E;if(F){F='name="'+F+'_input" '}E=K.find(J);if(!E[0]){K.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+F+'class="k-input" type="text" autocomplete="off"/><span tabindex="-1" unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(I.element);E=K.find(J)}E[0].style.cssText=G.style.cssText;E[0].title=G.title;if(G.maxLength>-1){E[0].maxLength=G.maxLength}E.addClass(G.className).val(this.options.text||G.value).css({width:"100%",height:G.style.height}).attr({role:"combobox","aria-expanded":false}).show();if(u){E.attr("placeholder",I.options.placeholder)}if(H){G.accessKey="";E[0].accessKey=H}I._focused=I.input=E;I._inputWrapper=e(K[0].firstChild);I._arrow=K.find(".k-icon").attr({role:"button",tabIndex:-1});if(G.id){I._arrow.attr("aria-controls",I.ul[0].id)}},_keydown:function(G){var F=this,E=G.keyCode;F._last=E;clearTimeout(F._typingTimeout);F._typingTimeout=null;if(E!=p.TAB&&!F._move(G)){F._search()}},_placeholder:function(E){if(u){return}var G=this,F=G.input,I=G.options.placeholder,H;if(I){H=G.value();if(E===g){E=!H}F.toggleClass("k-readonly",E);if(!E){if(!H){I=""}else{return}}F.val(I);if(!I&&F[0]===h()){n(F[0],0,0)}}},_search:function(){var E=this;E._typingTimeout=setTimeout(function(){var F=E.text();if(E._prev!==F){E._prev=F;E.search(F)}E._typingTimeout=null},E.options.delay)},_wrapper:function(){var F=this,E=F.element,G=E.parent();if(!G.is("span.k-widget")){G=E.hide().wrap("<span />").parent();G[0].style.cssText=E[0].style.cssText}F.wrapper=G.addClass("k-widget k-combobox k-header").addClass(E[0].className).css("display","")},_clearSelection:function(G,E){var H=this;var F=G.value();var I=F&&G.selectedIndex===-1;if(E||!F||I){H.options.value="";H.value("")}},_preselect:function(E,F){this.input.val(F);this._accessor(E);this._old=this._accessor();this._oldIndex=this.selectedIndex;this.listView.setValue(E);this._initialIndex=null;this._presetValue=true}});r.plugin(z)})(window.kendo.jQuery);(function(A,j){var B=window.kendo,D=B.ui,l=D.List,v=B.keys,c=B._activeElement,n=B.data.ObservableArray,I=A.proxy,r="id",q="li",E="accept",i="filter",L="rebind",H="open",K="close",z="change",u="progress",o="select",p="nextSibling",N="previousSibling",f=' style="display:none"',g="aria-disabled",G="aria-readonly",t="k-state-focused",C="k-loading-hidden",h="k-state-hover",k="k-state-disabled",y="disabled",d="readonly",J=".kendoMultiSelect",F="click"+J,O="keydown"+J,a="mouseenter"+J,m="mouseleave"+J,b=a+" "+m,M=/"/g,s=A.isArray,x=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"];var w=l.extend({init:function(Q,P){var S=this,T,R;S.ns=J;l.fn.init.call(S,Q,P);S._optionsMap={};S._customOptions={};S._wrapper();S._tagList();S._input();S._textContainer();S._loader();S._tabindex(S.input);Q=S.element.attr("multiple","multiple").hide();P=S.options;if(!P.placeholder){P.placeholder=Q.data("placeholder")}T=Q.attr(r);if(T){S._tagID=T+"_tag_active";T=T+"_taglist";S.tagList.attr(r,T)}S._aria(T);S._dataSource();S._ignoreCase();S._popup();S._tagTemplate();S._initList();S._reset();S._enable();S._placeholder();if(P.autoBind){S.dataSource.fetch()}else{if(P.value){S._preselect(P.value)}}R=A(S.element).parents("fieldset").is(":disabled");if(R){S.enable(false)}B.notify(S)},_preselect:function(R,Q){var P=this;if(!s(R)&&!(R instanceof B.data.ObservableArray)){R=[R]}if(A.isPlainObject(R[0])||R[0] instanceof B.data.ObservableObject||!P.options.dataValueField){P._retrieveData=true;P.dataSource.data(R);P.value(Q||P._initialValues)}},options:{name:"MultiSelect",tagMode:"multiple",enabled:true,autoBind:true,autoClose:true,highlightFirst:true,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:true,minLength:0,delay:100,value:null,maxSelectedItems:null,placeholder:"",height:200,animation:{},itemTemplate:"",tagTemplate:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#"},events:[H,K,z,o,"filtering","dataBinding","dataBound"],setDataSource:function(P){this.options.dataSource=P;this._dataSource();this.listView.setDataSource(this.dataSource);if(this.options.autoBind){this.dataSource.fetch()}},setOptions:function(P){var Q=this._listOptions(P);l.fn.setOptions.call(this,P);this._normalizeOptions(Q);this.listView.setOptions(Q);this._accessors();this._aria(this.tagList.attr(r));this._tagTemplate()},currentTag:function(P){var Q=this;if(P!==j){if(Q._currentTag){Q._currentTag.removeClass(t).removeAttr(r);Q.input.removeAttr("aria-activedescendant")}if(P){P.addClass(t).attr(r,Q._tagID);Q.input.attr("aria-activedescendant",Q._tagID)}Q._currentTag=P}else{return Q._currentTag}},dataItems:function(){return this.listView.selectedDataItems()},destroy:function(){var Q=this,P=Q.ns;clearTimeout(Q._busy);clearTimeout(Q._typingTimeout);Q.wrapper.off(P);Q.tagList.off(P);Q.input.off(P);l.fn.destroy.call(Q)},_activateItem:function(){l.fn._activateItem.call(this);this.currentTag(null)},_normalizeOptions:function(P){var R=this.options.itemTemplate||this.options.template;var Q=P.itemTemplate||R||P.template;if(!Q){Q="#:"+B.expr(P.dataTextField,"data")+"#"}P.template=Q},_initList:function(){var S=this;var T=S.options.virtual;var Q=!!T;var P=I(S._listBound,S);var R={autoBind:false,selectable:"multiple",dataSource:S.dataSource,click:I(S._click,S),change:I(S._listChange,S),activate:I(S._activateItem,S),deactivate:I(S._deactivateItem,S),dataBinding:function(){S.trigger("dataBinding");S._angularItems("cleanup")},dataBound:P,listBound:P,selectedItemChange:I(S._selectedItemChange,S)};R=A.extend(S._listOptions(),R,typeof T==="object"?T:{});S._normalizeOptions(R);if(!Q){S.listView=new B.ui.StaticList(S.ul,R)}else{S.listView=new B.ui.VirtualList(S.ul,R)}S.listView.value(S._initialValues||S.options.value)},_listChange:function(P){if(this._state===L){this._state="";P.added=[]}this._selectValue(P.added,P.removed)},_selectedItemChange:function(S){var Q=S.items;var R;var P;for(P=0;P<Q.length;P++){R=Q[P];this.tagList.children().eq(R.index).children("span:first").html(this.tagTextTemplate(R.item))}},_wrapperMousedown:function(T){var R=this;var P=T.target.nodeName.toLowerCase()!=="input";var S=A(T.target);var Q=S.hasClass("k-select")||S.hasClass("k-icon");if(Q){Q=!S.closest(".k-select").children(".k-i-arrow-s").length}if(P&&!(Q&&B.support.mobileOS)){T.preventDefault()}if(!Q){if(R.input[0]!==c()&&P){R.input.focus()}if(R.options.minLength===0){R.open()}}},_inputFocus:function(){this._placeholder(false);this.wrapper.addClass(t)},_inputFocusout:function(){var P=this;clearTimeout(P._typingTimeout);P.wrapper.removeClass(t);P._placeholder(!P.listView.selectedDataItems()[0],true);P.close();if(P._state===i){P._state=E;P.listView.filter(false);P.listView.skipUpdate(true)}P.element.blur()},_removeTag:function(Q){var U=this;var W=U._state;var P=Q.index();var R=U.listView;var V=R.value()[P];var S=U._customOptions[V];var T;if(S===j&&(W===E||W===i)){S=U._optionsMap[V]}if(S!==j){T=U.element[0].children[S];T.removeAttribute("selected");T.selected=false;R.removeAt(P);Q.remove()}else{R.select(R.select()[P])}U.currentTag(null);U._change();U._close()},_tagListClick:function(Q){var P=A(Q.currentTarget);if(!P.children(".k-i-arrow-s").length){this._removeTag(P.closest(q))}},_editable:function(S){var T=this,R=S.disable,Q=S.readonly,V=T.wrapper.off(J),U=T.tagList.off(J),P=T.element.add(T.input.off(J));if(!Q&&!R){V.removeClass(k).on(b,T._toggleHover).on("mousedown"+J+" touchend"+J,I(T._wrapperMousedown,T));T.input.on(O,I(T._keydown,T)).on("paste"+J,I(T._search,T)).on("focus"+J,I(T._inputFocus,T)).on("focusout"+J,I(T._inputFocusout,T));P.removeAttr(y).removeAttr(d).attr(g,false).attr(G,false);U.on(a,q,function(){A(this).addClass(h)}).on(m,q,function(){A(this).removeClass(h)}).on(F,"li.k-button .k-select",I(T._tagListClick,T))}else{if(R){V.addClass(k)}else{V.removeClass(k)}P.attr(y,R).attr(d,Q).attr(g,R).attr(G,Q)}},_close:function(){var P=this;if(P.options.autoClose){P.close()}else{P.popup.position()}},close:function(){this.popup.close()},open:function(){var P=this;if(P._request){P._retrieveData=false}if(P._retrieveData||!P.listView.isBound()||P._state===E){P._open=true;P._state=L;P._retrieveData=false;P.listView.filter(false);P.listView.skipUpdate(true);P._filterSource()}else{if(P._allowSelection()){P.popup.open();P._focusItem()}}},toggle:function(P){P=P!==j?P:!this.popup.visible();this[P?H:K]()},refresh:function(){this.listView.refresh()},_listBound:function(T){var Q=this;var S=Q.dataSource.flatView();var R=Q.dataSource.page();var P=S.length;Q._angularItems("compile");Q._render(S);Q._calculateGroupPadding(Q._height(P));if(Q._open){Q._open=false;Q.toggle(P)}Q.popup.position();if(Q.options.highlightFirst&&(R===j||R===1)){Q.listView.first()}if(Q._touchScroller){Q._touchScroller.reset()}Q._hideBusy();Q._makeUnselectable();Q.trigger("dataBound")},search:function(P){var T=this;var X=T.options;var U=X.ignoreCase;var Q=X.filter;var W=X.dataTextField;var S=T.input.val();var V;var R;if(X.placeholder===S){S=""}clearTimeout(T._typingTimeout);P=typeof P==="string"?P:S;R=P.length;if(!R||R>=X.minLength){T.listView.filter(true);T._state=i;T._open=true;V={value:U?P.toLowerCase():P,field:W,operator:Q,ignoreCase:U};T._filterSource(V,T._retrieveData);T._retrieveData=false}},value:function(S){var R=this;var Q=R.listView.value().slice();var T=R.options.maxSelectedItems;var P;if(S===j){return Q}S=R._normalizeValues(S);if(T!==null&&S.length>T){S=S.slice(0,T)}R.listView.value(S);R._old=S;R._fetchData()},_setOption:function(R,Q){var P=this.element[0].children[this._optionsMap[R]];if(P){if(Q){P.setAttribute("selected","selected")}else{P.removeAttribute("selected")}P.selected=Q}},_fetchData:function(){var Q=this;var R=!!Q.dataSource.view().length;var P=Q.listView.value().length===0;if(P||Q._request){return}if(!Q._fetch&&!R){Q._fetch=true;Q.dataSource.fetch().done(function(){Q._fetch=false})}},_dataSource:function(){var R=this,Q=R.element,P=R.options,S=P.dataSource||{};S=s(S)?{data:S}:S;S.select=Q;S.fields=[{field:P.dataTextField},{field:P.dataValueField}];if(R.dataSource&&R._refreshHandler){R._unbindDataSource()}else{R._progressHandler=I(R._showBusy,R)}R.dataSource=B.data.DataSource.create(S).bind(u,R._progressHandler)},_reset:function(){var R=this,P=R.element,S=P.attr("form"),Q=S?A("#"+S):P.closest("form");if(Q[0]){R._resetHandler=function(){setTimeout(function(){R.value(R._initialValues);R._placeholder()})};R._form=Q.on("reset",R._resetHandler)}},_initValue:function(){var P=this.options.value||this.element.val();this._old=this._initialValues=this._normalizeValues(P)},_normalizeValues:function(Q){var P=this;if(Q===null){Q=[]}else{if(Q&&A.isPlainObject(Q)){Q=[P._value(Q)]}else{if(Q&&A.isPlainObject(Q[0])){Q=A.map(Q,function(R){return P._value(R)})}else{if(!s(Q)&&!(Q instanceof n)){Q=[Q]}}}}return Q},_change:function(){var P=this,Q=P.value();if(!e(Q,P._old)){P._old=Q.slice();P.trigger(z);P.element.trigger(z)}},_click:function(Q){var P=Q.item;if(this.trigger(o,{item:P})){this._close();return}this._select(P);this._change();this._close()},_keydown:function(V){var T=this;var S=V.keyCode;var P=T._currentTag;var U=T.listView.focus();var R=T.input.val();var Q=B.support.isRtl(T.wrapper);var W=T.popup.visible();if(S===v.DOWN){V.preventDefault();if(!W){T.open();if(!U){this.listView.first()}return}if(U){this.listView.next();if(!this.listView.focus()){this.listView.last()}}else{this.listView.first()}}else{if(S===v.UP){if(W){if(U){this.listView.prev()}if(!this.listView.focus()){T.close()}}V.preventDefault()}else{if((S===v.LEFT&&!Q)||(S===v.RIGHT&&Q)){if(!R){P=P?P.prev():A(T.tagList[0].lastChild);if(P[0]){T.currentTag(P)}}}else{if((S===v.RIGHT&&!Q)||(S===v.LEFT&&Q)){if(!R&&P){P=P.next();T.currentTag(P[0]?P:null)}}else{if(S===v.ENTER&&W){if(U){if(T.trigger(o,{item:U})){T._close();return}T._select(U)}T._change();T._close();V.preventDefault()}else{if(S===v.ESC){if(W){V.preventDefault()}else{T.currentTag(null)}T.close()}else{if(S===v.HOME){if(W){this.listView.first()}else{if(!R){P=T.tagList[0].firstChild;if(P){T.currentTag(A(P))}}}}else{if(S===v.END){if(W){this.listView.last()}else{if(!R){P=T.tagList[0].lastChild;if(P){T.currentTag(A(P))}}}}else{if((S===v.DELETE||S===v.BACKSPACE)&&!R){if(S===v.BACKSPACE&&!P){P=A(T.tagList[0].lastChild)}if(P&&P[0]){T._removeTag(P)}}else{clearTimeout(T._typingTimeout);setTimeout(function(){T._scale()});T._search()}}}}}}}}}},_hideBusy:function(){var P=this;clearTimeout(P._busy);P.input.attr("aria-busy",false);P._loading.addClass(C);P._request=false;P._busy=null},_showBusyHandler:function(){this.input.attr("aria-busy",true);this._loading.removeClass(C)},_showBusy:function(){var P=this;P._request=true;if(P._busy){return}P._busy=setTimeout(I(P._showBusyHandler,P),100)},_placeholder:function(P,R){var S=this,Q=S.input,T=c();if(P===j){P=false;if(Q[0]!==T){P=!S.listView.selectedDataItems()[0]}}S._prev="";Q.toggleClass("k-readonly",P).val(P?S.options.placeholder:"");if(Q[0]===T&&!R){B.caret(Q[0],0,0)}S._scale()},_scale:function(){var R=this,T=R.wrapper,P=T.width(),Q=R._span.text(R.input.val()),S;if(!T.is(":visible")){Q.appendTo(document.documentElement);P=S=Q.width()+25;Q.appendTo(T)}else{S=Q.width()+25}R.input.width(S>P?P:S)},_option:function(S,R,Q){var P="<option";if(S!==j){S+="";if(S.indexOf('"')!==-1){S=S.replace(M,"&quot;")}P+=' value="'+S+'"'}if(Q){P+=" selected"}P+=">";if(R!==j){P+=B.htmlEncode(R)}return P+="</option>"},_render:function(U){var T=this.listView.selectedDataItems();var Y=this.listView.value();var R=U.length;var S;var Z="";var P;var X;var W;if(Y.length!==T.length){T=this._buildSelectedItems(Y)}var Q={};var V={};for(W=0;W<R;W++){P=U[W];X=this._value(P);S=this._selectedItemIndex(X,T);if(S!==-1){T.splice(S,1)}V[X]=W;Z+=this._option(X,this._text(P),S!==-1)}if(T.length){for(W=0;W<T.length;W++){P=T[W];X=this._value(P);Q[X]=R;V[X]=R;R+=1;Z+=this._option(X,this._text(P),true)}}this._customOptions=Q;this._optionsMap=V;this.element.html(Z)},_buildSelectedItems:function(S){var T=this.options.dataValueField;var R=this.options.dataTextField;var Q=[];var U;for(var P=0;P<S.length;P++){U={};U[T]=S[P];U[R]=S[P];Q.push(U)}return Q},_selectedItemIndex:function(R,S){var Q=this._value;var P=0;for(;P<S.length;P++){if(R===Q(S[P])){return P}}return -1},_search:function(){var P=this;P._typingTimeout=setTimeout(function(){var Q=P.input.val();if(P._prev!==Q){P._prev=Q;P.search(Q)}},P.options.delay)},_allowSelection:function(){var P=this.options.maxSelectedItems;return P===null||P>this.listView.value().length},_angularTagItems:function(Q){var P=this;P.angular(Q,function(){return{elements:P.tagList[0].children,data:A.map(P.dataItems(),function(R){return{dataItem:R}})}})},_selectValue:function(V,Q){var R=this;var X=R.value();var U=R.dataSource.total();var T=R.tagList;var S=R._value;var P;var Y;var W;R._angularTagItems("cleanup");if(R.options.tagMode==="multiple"){for(W=Q.length-1;W>-1;W--){P=Q[W];T[0].removeChild(T[0].children[P.position]);R._setOption(S(P.dataItem),false)}for(W=0;W<V.length;W++){Y=V[W];T.append(R.tagTemplate(Y.dataItem));R._setOption(S(Y.dataItem),true)}}else{if(!R._maxTotal||R._maxTotal<U){R._maxTotal=U}T.html("");if(X.length){T.append(R.tagTemplate({values:X,dataItems:R.dataItems(),maxTotal:R._maxTotal,currentTotal:U}))}}R._angularTagItems("compile");R._placeholder()},_select:function(Q){var R=this;var P;if(R._state===L){R._state=""}if(!R._allowSelection()){return}this.listView.select(Q);R._placeholder();if(R._state===i){R._state=E;R.listView.filter(false);R.listView.skipUpdate(true)}},_input:function(){var R=this,Q=R.element[0].accessKey,P=R._innerWrapper.children("input.k-input");if(!P[0]){P=A('<input class="k-input" style="width: 25px" />').appendTo(R._innerWrapper)}R.element.removeAttr("accesskey");R._focused=R.input=P.attr({accesskey:Q,autocomplete:"off",role:"listbox","aria-expanded":false})},_tagList:function(){var P=this,Q=P._innerWrapper.children("ul");if(!Q[0]){Q=A('<ul role="listbox" unselectable="on" class="k-reset"/>').appendTo(P._innerWrapper)}P.tagList=Q},_tagTemplate:function(){var T=this;var Q=T.options;var R=Q.tagTemplate;var P=Q.dataSource;var U=Q.tagMode==="multiple";var S;if(T.element[0].length&&!P){Q.dataTextField=Q.dataTextField||"text";Q.dataValueField=Q.dataValueField||"value"}S=U?B.template("#:"+B.expr(Q.dataTextField,"data")+"#",{useWithBlock:false}):B.template("#:values.length# item(s) selected");T.tagTextTemplate=R=R?B.template(R):S;T.tagTemplate=function(V){return'<li class="k-button" unselectable="on"><span unselectable="on">'+R(V)+'</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon '+(U?"k-i-close":"k-i-arrow-s")+'">'+(U?"delete":"open")+"</span></span></li>"}},_loader:function(){this._loading=A('<span class="k-icon k-loading '+C+'"></span>').insertAfter(this.input)},_textContainer:function(){var P=B.getComputedStyles(this.input[0],x);P.position="absolute";P.visibility="hidden";P.top=-3333;P.left=-3333;this._span=A("<span/>").css(P).appendTo(this.wrapper)},_wrapper:function(){var Q=this,P=Q.element,R=P.parent("span.k-multiselect");if(!R[0]){R=P.wrap('<div class="k-widget k-multiselect k-header" unselectable="on" />').parent();R[0].style.cssText=P[0].style.cssText;R[0].title=P[0].title;A('<div class="k-multiselect-wrap k-floatwrap" unselectable="on" />').insertBefore(P)}Q.wrapper=R.addClass(P[0].className).css("display","");Q._innerWrapper=A(R[0].firstChild)}});function e(Q,P){var R;if((Q===null&&P!==null)||(Q!==null&&P===null)){return false}R=Q.length;if(R!==P.length){return false}while(R--){if(Q[R]!==P[R]){return false}}return true}D.plugin(w)})(window.kendo.jQuery);(function(D,k){var G=window.kendo,c=G.ui.Widget,j=G.ui.Draggable,i=D.extend,y=G.format,o=G.parseFloat,W=D.proxy,s=D.isArray,z=Math,P=G.support,K=P.pointers,S=P.msPointers,C="change",b="slide",M=".slider",L="touchstart"+M+" mousedown"+M,U=K?"pointerdown"+M:(S?"MSPointerDown"+M:L),d="touchend"+M+" mouseup"+M,g=K?"pointerup":(S?"MSPointerUp"+M:d),q="moveSelection",w="keydown"+M,R="click"+M,h="mouseover"+M,Z="focus"+M,N="blur"+M,e=".k-draghandle",f=".k-slider-track",H=".k-tick",r="k-state-selected",Q="k-state-focused",X="k-state-default",x="k-state-disabled",l=3,B="disabled",E="undefined",u="tabindex",p=G.getTouches;var aa=c.extend({init:function(ac,ab){var ad=this;c.fn.init.call(ad,ac,ab);ab=ad.options;ad._distance=Y(ab.max-ab.min);ad._isHorizontal=ab.orientation=="horizontal";ad._isRtl=ad._isHorizontal&&G.support.isRtl(ac);ad._position=ad._isHorizontal?"left":"bottom";ad._sizeFn=ad._isHorizontal?"width":"height";ad._outerSize=ad._isHorizontal?"outerWidth":"outerHeight";ab.tooltip.format=ab.tooltip.enabled?ab.tooltip.format||"{0}":"{0}";ad._createHtml();ad.wrapper=ad.element.closest(".k-slider");ad._trackDiv=ad.wrapper.find(f);ad._setTrackDivWidth();ad._maxSelection=ad._trackDiv[ad._sizeFn]();ad._sliderItemsInit();ad._reset();ad._tabindex(ad.wrapper.find(e));ad[ab.enabled?"enable":"disable"]();var ae=G.support.isRtl(ad.wrapper)?-1:1;ad._keyMap={37:F(-1*ae*ab.smallStep),40:F(-ab.smallStep),39:F(+1*ae*ab.smallStep),38:F(+ab.smallStep),35:J(ab.max),36:J(ab.min),33:F(+ab.largeStep),34:F(-ab.largeStep)};G.notify(ad)},events:[C,b],options:{enabled:true,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:true,format:"{0}"}},_resize:function(){this._setTrackDivWidth();this.wrapper.find(".k-slider-items").remove();this._maxSelection=this._trackDiv[this._sizeFn]();this._sliderItemsInit();this._refresh()},_sliderItemsInit:function(){var ad=this,ac=ad.options;var ab=ad._maxSelection/((ac.max-ac.min)/ac.smallStep);var ae=ad._calculateItemsWidth(z.floor(ad._distance/ac.smallStep));if(ac.tickPlacement!="none"&&ab>=2){ad._trackDiv.before(n(ac,ad._distance));ad._setItemsWidth(ae);ad._setItemsTitle()}ad._calculateSteps(ae);if(ac.tickPlacement!="none"&&ab>=2&&ac.largeStep>=ac.smallStep){ad._setItemsLargeTick()}},getSize:function(){return G.dimensions(this.wrapper)},_setTrackDivWidth:function(){var ab=this,ac=parseFloat(ab._trackDiv.css(ab._isRtl?"right":ab._position),10)*2;ab._trackDiv[ab._sizeFn]((ab.wrapper[ab._sizeFn]()-2)-ac)},_setItemsWidth:function(ag){var ae=this,al=ae.options,ac=0,aj=ag.length-1,af=ae.wrapper.find(H),ab,ak=0,ai=2,ad=af.length,ah=0;for(ab=0;ab<ad-2;ab++){D(af[ab+1])[ae._sizeFn](ag[ab])}if(ae._isHorizontal){D(af[ac]).addClass("k-first")[ae._sizeFn](ag[aj-1]);D(af[aj]).addClass("k-last")[ae._sizeFn](ag[aj])}else{D(af[aj]).addClass("k-first")[ae._sizeFn](ag[aj]);D(af[ac]).addClass("k-last")[ae._sizeFn](ag[aj-1])}if(ae._distance%al.smallStep!==0&&!ae._isHorizontal){for(ab=0;ab<ag.length;ab++){ah+=ag[ab]}ak=ae._maxSelection-ah;ak+=parseFloat(ae._trackDiv.css(ae._position),10)+ai;ae.wrapper.find(".k-slider-items").css("padding-top",ak)}},_setItemsTitle:function(){var ai=this,ae=ai.options,ad=ai.wrapper.find(H),ag=ae.min,ah=ad.length,af=ai._isHorizontal&&!ai._isRtl?0:ah-1,ac=ai._isHorizontal&&!ai._isRtl?ah:-1,ab=ai._isHorizontal&&!ai._isRtl?1:-1;for(;af-ac!==0;af+=ab){D(ad[af]).attr("title",y(ae.tooltip.format,Y(ag)));ag+=ae.smallStep}},_setItemsLargeTick:function(){var af=this,ac=af.options,ab=af.wrapper.find(H),ad=0,ae,ag;if(t(ac.largeStep)%t(ac.smallStep)===0||af._distance/ac.largeStep>=3){if(!af._isHorizontal&&!af._isRtl){ab=D.makeArray(ab).reverse()}for(ad=0;ad<ab.length;ad++){ae=D(ab[ad]);ag=af._values[ad];var ah=Y(t(ag-this.options.min));if(ah%t(ac.smallStep)===0&&ah%t(ac.largeStep)===0){ae.addClass("k-tick-large").html("<span class='k-label'>"+ae.attr("title")+"</span>");if(ad!==0&&ad!==ab.length-1){ae.css("line-height",ae[af._sizeFn]()+"px")}}}}},_calculateItemsWidth:function(ab){var af=this,ac=af.options,ah=parseFloat(af._trackDiv.css(af._sizeFn))+1,ae=ah/af._distance,ag,ai,ad;if((af._distance/ac.smallStep)-z.floor(af._distance/ac.smallStep)>0){ah-=((af._distance%ac.smallStep)*ae)}ag=ah/ab;ai=[];for(ad=0;ad<ab-1;ad++){ai[ad]=ag}ai[ab-1]=ai[ab]=ag/2;return af._roundWidths(ai)},_roundWidths:function(ad){var ae=0,ac=ad.length,ab;for(ab=0;ab<ac;ab++){ae+=(ad[ab]-z.floor(ad[ab]));ad[ab]=z.floor(ad[ab])}ae=z.round(ae);return this._addAdditionalSize(ae,ad)},_addAdditionalSize:function(ab,ae){if(ab===0){return ae}var ad=parseFloat(ae.length-1)/parseFloat(ab==1?ab:ab-1),ac;for(ac=0;ac<ab;ac++){ae[parseInt(z.round(ad*ac),10)]+=1}return ae},_calculateSteps:function(ai){var ag=this,ac=ag.options,ah=ac.min,ae=0,ab=z.ceil(ag._distance/ac.smallStep),ad=1,af;ab+=(ag._distance/ac.smallStep)%1===0?1:0;ai.splice(0,0,ai[ab-2]*2);ai.splice(ab-1,1,ai.pop()*2);ag._pixelSteps=[ae];ag._values=[ah];if(ab===0){return}while(ad<ab){ae+=(ai[ad-1]+ai[ad])/2;ag._pixelSteps[ad]=ae;ah+=ac.smallStep;ag._values[ad]=Y(ah);ad++}af=ag._distance%ac.smallStep===0?ab-1:ab;ag._pixelSteps[af]=ag._maxSelection;ag._values[af]=ac.max;if(ag._isRtl){ag._pixelSteps.reverse();ag._values.reverse()}},_getValueFromPosition:function(ai,ad){var ah=this,ac=ah.options,ag=z.max(ac.smallStep*(ah._maxSelection/ah._distance),0),ab=0,af=(ag/2),ae;if(ah._isHorizontal){ab=ai-ad.startPoint;if(ah._isRtl){ab=ah._maxSelection-ab}}else{ab=ad.startPoint-ai}if(ah._maxSelection-((parseInt(ah._maxSelection%ag,10)-3)/2)<ab){return ac.max}for(ae=0;ae<ah._pixelSteps.length;ae++){if(z.abs(ah._pixelSteps[ae]-ab)-1<=af){return Y(ah._values[ae])}}},_getFormattedValue:function(ai,ad){var ae=this,ac="",ag=ae.options.tooltip,ab,af,ah;if(s(ai)){af=ai[0];ah=ai[1]}else{if(ad&&ad.type){af=ad.selectionStart;ah=ad.selectionEnd}}if(ad){ab=ad.tooltipTemplate}if(!ab&&ag.template){ab=G.template(ag.template)}if(s(ai)||(ad&&ad.type)){if(ab){ac=ab({selectionStart:af,selectionEnd:ah})}else{af=y(ag.format,af);ah=y(ag.format,ah);ac=af+" - "+ah}}else{if(ad){ad.val=ai}if(ab){ac=ab({value:ai})}else{ac=y(ag.format,ai)}}return ac},_getDraggableArea:function(){var ab=this,ac=G.getOffset(ab._trackDiv);return{startPoint:ab._isHorizontal?ac.left:ac.top+ab._maxSelection,endPoint:ab._isHorizontal?ac.left+ab._maxSelection:ac.top}},_createHtml:function(){var ae=this,ad=ae.element,ac=ae.options,ab=ad.find("input");if(ab.length==2){ab.eq(0).prop("value",m(ac.selectionStart));ab.eq(1).prop("value",m(ac.selectionEnd))}else{ad.prop("value",m(ac.value))}ad.wrap(O(ac,ad,ae._isHorizontal)).hide();if(ac.showButtons){ad.before(A(ac,"increase",ae._isHorizontal)).before(A(ac,"decrease",ae._isHorizontal))}ad.before(a(ac,ad))},_focus:function(ae){var ac=this,ad=ae.target,af=ac.value(),ab=ac._drag;if(!ab){if(ad==ac.wrapper.find(e).eq(0)[0]){ab=ac._firstHandleDrag;ac._activeHandle=0}else{ab=ac._lastHandleDrag;ac._activeHandle=1}af=af[ac._activeHandle]}D(ad).addClass(Q+" "+r);if(ab){ac._activeHandleDrag=ab;ab.selectionStart=ac.options.selectionStart;ab.selectionEnd=ac.options.selectionEnd;ab._updateTooltip(af)}},_focusWithMouse:function(ad){ad=D(ad);var ac=this,ab=ad.is(e)?ad.index():0;window.setTimeout(function(){ac.wrapper.find(e)[ab==2?1:0].focus()},1);ac._setTooltipTimeout()},_blur:function(ad){var ac=this,ab=ac._activeHandleDrag;D(ad.target).removeClass(Q+" "+r);if(ab){ab._removeTooltip();delete ac._activeHandleDrag;delete ac._activeHandle}},_setTooltipTimeout:function(){var ab=this;ab._tooltipTimeout=window.setTimeout(function(){var ac=ab._drag||ab._activeHandleDrag;if(ac){ac._removeTooltip()}},300)},_clearTooltipTimeout:function(){var ac=this;window.clearTimeout(this._tooltipTimeout);var ab=ac._drag||ac._activeHandleDrag;if(ab&&ab.tooltipDiv){ab.tooltipDiv.stop(true,false).css("opacity",1)}},_reset:function(){var ad=this,ab=ad.element,ae=ab.attr("form"),ac=ae?D("#"+ae):ab.closest("form");if(ac[0]){ad._form=ac.on("reset",W(ad._formResetHandler,ad))}},destroy:function(){if(this._form){this._form.off("reset",this._formResetHandler)}c.fn.destroy.call(this)}});function O(ab,ae,ah){var ad=ah?" k-slider-horizontal":" k-slider-vertical",af=ab.style?ab.style:ae.attr("style"),ac=ae.attr("class")?(" "+ae.attr("class")):"",ag="";if(ab.tickPlacement=="bottomRight"){ag=" k-slider-bottomright"}else{if(ab.tickPlacement=="topLeft"){ag=" k-slider-topleft"}}af=af?" style='"+af+"'":"";return"<div class='k-widget k-slider"+ad+ac+"'"+af+"><div class='k-slider-wrap"+(ab.showButtons?" k-slider-buttons":"")+ag+"'></div></div>"}function A(ab,ad,ae){var ac="";if(ad=="increase"){ac=ae?"k-i-arrow-e":"k-i-arrow-n"}else{ac=ae?"k-i-arrow-w":"k-i-arrow-s"}return"<a class='k-button k-button-"+ad+"'><span class='k-icon "+ac+"' title='"+ab[ad+"ButtonTitle"]+"'>"+ab[ad+"ButtonTitle"]+"</span></a>"}function n(ac,af){var ab="<ul class='k-reset k-slider-items'>",ae=z.floor(Y(af/ac.smallStep))+1,ad;for(ad=0;ad<ae;ad++){ab+="<li class='k-tick' role='presentation'>&nbsp;</li>"}ab+="</ul>";return ab}function a(ab,ad){var ae=ad.is("input")?1:2,ac=ae==2?ab.leftDragHandleTitle:ab.dragHandleTitle;return"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div><a href='#' class='k-draghandle' title='"+ac+"' role='slider' aria-valuemin='"+ab.min+"' aria-valuemax='"+ab.max+"' aria-valuenow='"+(ae>1?(ab.selectionStart||ab.min):ab.value||ab.min)+"'>Drag</a>"+(ae>1?"<a href='#' class='k-draghandle' title='"+ab.rightDragHandleTitle+"'role='slider' aria-valuemin='"+ab.min+"' aria-valuemax='"+ab.max+"' aria-valuenow='"+(ab.selectionEnd||ab.max)+"'>Drag</a>":"")+"</div>"}function F(ab){return function(ac){return ac+ab}}function J(ab){return function(){return ab}}function m(ab){return(ab+"").replace(".",G.cultures.current.numberFormat["."])}function Y(ac){ac=parseFloat(ac,10);var ab=z.pow(10,l||0);return z.round(ac*ab)/ab}function v(ac,ab){var ad=o(ac.getAttribute(ab));if(ad===null){ad=k}return ad}function V(ab){return typeof ab!==E}function t(ab){return ab*10000}var I=aa.extend({init:function(ad,ac){var ae=this,ab;ad.type="text";ac=i({},{value:v(ad,"value"),min:v(ad,"min"),max:v(ad,"max"),smallStep:v(ad,"step")},ac);ad=D(ad);if(ac&&ac.enabled===k){ac.enabled=!ad.is("[disabled]")}aa.fn.init.call(ae,ad,ac);ac=ae.options;if(!V(ac.value)||ac.value===null){ac.value=ac.min;ad.prop("value",m(ac.min))}ac.value=z.max(z.min(ac.value,ac.max),ac.min);ab=ae.wrapper.find(e);new I.Selection(ab,ae,ac);ae._drag=new I.Drag(ab,"",ae,ac)},options:{name:"Slider",showButtons:true,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},value:null},enable:function(ae){var af=this,ad=af.options,ag,ac;af.disable();if(ae===false){return}af.wrapper.removeClass(x).addClass(X);af.wrapper.find("input").removeAttr(B);ag=function(aj){var al=p(aj)[0];if(!al){return}var ak=af._isHorizontal?al.location.pageX:al.location.pageY,ah=af._getDraggableArea(),ai=D(aj.target);if(ai.hasClass("k-draghandle")){ai.addClass(Q+" "+r);return}af._update(af._getValueFromPosition(ak,ah));af._focusWithMouse(aj.target);af._drag.dragstart(aj);aj.preventDefault()};af.wrapper.find(H+", "+f).on(U,ag).end().on(U,function(){D(document.documentElement).one("selectstart",G.preventDefault)}).on(g,function(){af._drag._end()});af.wrapper.find(e).attr(u,0).on(d,function(){af._setTooltipTimeout()}).on(R,function(ah){af._focusWithMouse(ah.target);ah.preventDefault()}).on(Z,W(af._focus,af)).on(N,W(af._blur,af));ac=W(function(ah){var ai=af._nextValueByIndex(af._valueIndex+(ah*1));af._setValueInRange(ai);af._drag._updateTooltip(ai)},af);if(ad.showButtons){var ab=W(function(ai,ah){this._clearTooltipTimeout();if(ai.which===1||(P.touch&&ai.which===0)){ac(ah);this.timeout=setTimeout(W(function(){this.timer=setInterval(function(){ac(ah)},60)},this),200)}},af);af.wrapper.find(".k-button").on(d,W(function(ah){this._clearTimer();af._focusWithMouse(ah.target)},af)).on(h,function(ah){D(ah.currentTarget).addClass("k-state-hover")}).on("mouseout"+M,W(function(ah){D(ah.currentTarget).removeClass("k-state-hover");this._clearTimer()},af)).eq(0).on(L,W(function(ah){ab(ah,1)},af)).click(false).end().eq(1).on(L,W(function(ah){ab(ah,-1)},af)).click(G.preventDefault)}af.wrapper.find(e).off(w,false).on(w,W(this._keydown,af));ad.enabled=true},disable:function(){var ab=this;ab.wrapper.removeClass(X).addClass(x);D(ab.element).prop(B,B);ab.wrapper.find(".k-button").off(L).on(L,G.preventDefault).off(d).on(d,G.preventDefault).off("mouseleave"+M).on("mouseleave"+M,G.preventDefault).off(h).on(h,G.preventDefault);ab.wrapper.find(H+", "+f).off(U).off(g);ab.wrapper.find(e).attr(u,-1).off(d).off(w).off(R).off(Z).off(N);ab.options.enabled=false},_update:function(ac){var ab=this,ad=ab.value()!=ac;ab.value(ac);if(ad){ab.trigger(C,{value:ab.options.value})}},value:function(ad){var ac=this,ab=ac.options;ad=Y(ad);if(isNaN(ad)){return ab.value}if(ad>=ab.min&&ad<=ab.max){if(ab.value!=ad){ac.element.prop("value",m(ad));ab.value=ad;ac._refreshAriaAttr(ad);ac._refresh()}}},_refresh:function(){this.trigger(q,{value:this.options.value})},_refreshAriaAttr:function(ae){var ad=this,ac=ad._drag,ab;if(ac&&ac._tooltipDiv){ab=ac._tooltipDiv.text()}else{ab=ad._getFormattedValue(ae,null)}this.wrapper.find(e).attr("aria-valuenow",ae).attr("aria-valuetext",ab)},_clearTimer:function(){clearTimeout(this.timeout);clearInterval(this.timer)},_keydown:function(ac){var ab=this;if(ac.keyCode in ab._keyMap){ab._clearTooltipTimeout();ab._setValueInRange(ab._keyMap[ac.keyCode](ab.options.value));ab._drag._updateTooltip(ab.value());ac.preventDefault()}},_setValueInRange:function(ad){var ac=this,ab=ac.options;ad=Y(ad);if(isNaN(ad)){ac._update(ab.min);return}ad=z.max(z.min(ad,ab.max),ab.min);ac._update(ad)},_nextValueByIndex:function(ab){var ac=this._values.length;if(this._isRtl){ab=ac-1-ab}return this._values[z.max(0,z.min(ab,ac-1))]},_formResetHandler:function(){var ac=this,ab=ac.options.min;setTimeout(function(){var ad=ac.element[0].value;ac.value(ad===""||isNaN(ad)?ab:ad)})},destroy:function(){var ab=this;aa.fn.destroy.call(ab);ab.wrapper.off(M).find(".k-button").off(M).end().find(e).off(M).end().find(H+", "+f).off(M).end();ab._drag.draggable.destroy();ab._drag._removeTooltip(true)}});I.Selection=function(ab,ad,ac){function ae(al){var ag=al-ac.min,af=ad._valueIndex=z.ceil(Y(ag/ac.smallStep)),ai=parseInt(ad._pixelSteps[af],10),ak=ad._trackDiv.find(".k-slider-selection"),ah=parseInt(ab[ad._outerSize]()/2,10),aj=ad._isRtl?2:0;ak[ad._sizeFn](ad._isRtl?ad._maxSelection-ai:ai);ab.css(ad._position,ai-ah-aj)}ae(ac.value);ad.bind([C,b,q],function(af){ae(parseFloat(af.value,10))})};I.Drag=function(ad,ae,ab,ac){var af=this;af.owner=ab;af.options=ac;af.element=ad;af.type=ae;af.draggable=new j(ad,{distance:0,dragstart:W(af._dragstart,af),drag:W(af.drag,af),dragend:W(af.dragend,af),dragcancel:W(af.dragcancel,af)});ad.click(false)};I.Drag.prototype={dragstart:function(ab){this.owner._activeDragHandle=this;this.draggable.userEvents.cancel();this.draggable.userEvents._start(ab)},_dragstart:function(ae){var ad=this,ab=ad.owner,ac=ad.options;if(!ac.enabled){ae.preventDefault();return}this.owner._activeDragHandle=this;ab.element.off(h);ab.wrapper.find("."+Q).removeClass(Q+" "+r);ad.element.addClass(Q+" "+r);D(document.documentElement).css("cursor","pointer");ad.dragableArea=ab._getDraggableArea();ad.step=z.max(ac.smallStep*(ab._maxSelection/ab._distance),0);if(ad.type){ad.selectionStart=ac.selectionStart;ad.selectionEnd=ac.selectionEnd;ab._setZIndex(ad.type)}else{ad.oldVal=ad.val=ac.value}ad._removeTooltip(true);ad._createTooltip()},_createTooltip:function(){var af=this,ab=af.owner,ah=af.options.tooltip,ad="",ae=D(window),ac,ag;if(!ah.enabled){return}if(ah.template){ac=af.tooltipTemplate=G.template(ah.template)}D(".k-slider-tooltip").remove();af.tooltipDiv=D("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --></div>").appendTo(document.body);ad=ab._getFormattedValue(af.val||ab.value(),af);if(!af.type){ag="k-callout-"+(ab._isHorizontal?"s":"e");af.tooltipInnerDiv="<div class='k-callout "+ag+"'><!-- --></div>";ad+=af.tooltipInnerDiv}af.tooltipDiv.html(ad);af._scrollOffset={top:ae.scrollTop(),left:ae.scrollLeft()};af.moveTooltip()},drag:function(ah){var ag=this,ac=ag.owner,ab=ah.x.location,ai=ah.y.location,af=ag.dragableArea.startPoint,ad=ag.dragableArea.endPoint,ae;ah.preventDefault();if(ac._isHorizontal){if(ac._isRtl){ag.val=ag.constrainValue(ab,af,ad,ab<ad)}else{ag.val=ag.constrainValue(ab,af,ad,ab>=ad)}}else{ag.val=ag.constrainValue(ai,ad,af,ai<=ad)}if(ag.oldVal!=ag.val){ag.oldVal=ag.val;if(ag.type){if(ag.type=="firstHandle"){if(ag.val<ag.selectionEnd){ag.selectionStart=ag.val}else{ag.selectionStart=ag.selectionEnd=ag.val}}else{if(ag.val>ag.selectionStart){ag.selectionEnd=ag.val}else{ag.selectionStart=ag.selectionEnd=ag.val}}ae={values:[ag.selectionStart,ag.selectionEnd],value:[ag.selectionStart,ag.selectionEnd]}}else{ae={value:ag.val}}ac.trigger(b,ae)}ag._updateTooltip(ag.val)},_updateTooltip:function(af){var ad=this,ab=ad.options,ae=ab.tooltip,ac="";if(!ae.enabled){return}if(!ad.tooltipDiv){ad._createTooltip()}ac=ad.owner._getFormattedValue(Y(af),ad);if(!ad.type){ac+=ad.tooltipInnerDiv}ad.tooltipDiv.html(ac);ad.moveTooltip()},dragcancel:function(){this.owner._refresh();D(document.documentElement).css("cursor","");return this._end()},dragend:function(){var ac=this,ab=ac.owner;D(document.documentElement).css("cursor","");if(ac.type){ab._update(ac.selectionStart,ac.selectionEnd)}else{ab._update(ac.val);ac.draggable.userEvents._disposeAll()}return ac._end()},_end:function(){var ac=this,ab=ac.owner;ab._focusWithMouse(ac.element);ab.element.on(h);return false},_removeTooltip:function(ac){var ad=this,ab=ad.owner;if(ad.tooltipDiv&&ab.options.tooltip.enabled&&ab.options.enabled){if(ac){ad.tooltipDiv.remove();ad.tooltipDiv=null}else{ad.tooltipDiv.fadeOut("slow",function(){D(this).remove();ad.tooltipDiv=null})}}},moveTooltip:function(){var aj=this,ac=aj.owner,am=0,ad=0,ah=aj.element,ag=G.getOffset(ah),af=8,al=D(window),ae=aj.tooltipDiv.find(".k-callout"),ab=aj.tooltipDiv.outerWidth(),ap=aj.tooltipDiv.outerHeight(),ai,an,ao,ak;if(aj.type){ai=ac.wrapper.find(e);ag=G.getOffset(ai.eq(0));an=G.getOffset(ai.eq(1));if(ac._isHorizontal){am=an.top;ad=ag.left+((an.left-ag.left)/2)}else{am=ag.top+((an.top-ag.top)/2);ad=an.left}ak=ai.eq(0).outerWidth()+2*af}else{am=ag.top;ad=ag.left;ak=ah.outerWidth()+2*af}if(ac._isHorizontal){ad-=parseInt((ab-ah[ac._outerSize]())/2,10);am-=ap+ae.height()+af}else{am-=parseInt((ap-ah[ac._outerSize]())/2,10);ad-=ab+ae.width()+af}if(ac._isHorizontal){ao=aj._flip(am,ap,ak,al.outerHeight()+aj._scrollOffset.top);am+=ao;ad+=aj._fit(ad,ab,al.outerWidth()+aj._scrollOffset.left)}else{ao=aj._flip(ad,ab,ak,al.outerWidth()+aj._scrollOffset.left);am+=aj._fit(am,ap,al.outerHeight()+aj._scrollOffset.top);ad+=ao}if(ao>0&&ae){ae.removeClass();ae.addClass("k-callout k-callout-"+(ac._isHorizontal?"n":"w"))}aj.tooltipDiv.css({top:am,left:ad})},_fit:function(ac,ae,ab){var ad=0;if(ac+ae>ab){ad=ab-(ac+ae)}if(ac<0){ad=-ac}return ad},_flip:function(af,ae,ac,ab){var ad=0;if(af+ae>ab){ad+=-(ac+ae)}if(af+ad<0){ad+=ac+ae}return ad},constrainValue:function(ac,ad,ab,af){var ae=this,ag=0;if(ad<ac&&ac<ab){ag=ae.owner._getValueFromPosition(ac,ae.dragableArea)}else{if(af){ag=ae.options.max}else{ag=ae.options.min}}return ag}};G.ui.plugin(I);var T=aa.extend({init:function(af,ae){var ah=this,ac=D(af).find("input"),ab=ac.eq(0)[0],ag=ac.eq(1)[0];ab.type="text";ag.type="text";if(ae&&ae.showButtons){if(window.console){window.console.warn("showbuttons option is not supported for the range slider, ignoring")}ae.showButtons=false}ae=i({},{selectionStart:v(ab,"value"),min:v(ab,"min"),max:v(ab,"max"),smallStep:v(ab,"step")},{selectionEnd:v(ag,"value"),min:v(ag,"min"),max:v(ag,"max"),smallStep:v(ag,"step")},ae);if(ae&&ae.enabled===k){ae.enabled=!ac.is("[disabled]")}aa.fn.init.call(ah,af,ae);ae=ah.options;if(!V(ae.selectionStart)||ae.selectionStart===null){ae.selectionStart=ae.min;ac.eq(0).prop("value",m(ae.min))}if(!V(ae.selectionEnd)||ae.selectionEnd===null){ae.selectionEnd=ae.max;ac.eq(1).prop("value",m(ae.max))}var ad=ah.wrapper.find(e);new T.Selection(ad,ah,ae);ah._firstHandleDrag=new I.Drag(ad.eq(0),"firstHandle",ah,ae);ah._lastHandleDrag=new I.Drag(ad.eq(1),"lastHandle",ah,ae)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},selectionStart:null,selectionEnd:null},enable:function(ac){var ad=this,ab=ad.options,ae;ad.disable();if(ac===false){return}ad.wrapper.removeClass(x).addClass(X);ad.wrapper.find("input").removeAttr(B);ae=function(ai){var ag=p(ai)[0];if(!ag){return}var an=ad._isHorizontal?ag.location.pageX:ag.location.pageY,ak=ad._getDraggableArea(),af=ad._getValueFromPosition(an,ak),aj=D(ai.target),al,am,ah;if(aj.hasClass("k-draghandle")){ad.wrapper.find("."+Q).removeClass(Q+" "+r);aj.addClass(Q+" "+r);return}if(af<ab.selectionStart){al=af;am=ab.selectionEnd;ah=ad._firstHandleDrag}else{if(af>ad.selectionEnd){al=ab.selectionStart;am=af;ah=ad._lastHandleDrag}else{if(af-ab.selectionStart<=ab.selectionEnd-af){al=af;am=ab.selectionEnd;ah=ad._firstHandleDrag}else{al=ab.selectionStart;am=af;ah=ad._lastHandleDrag}}}ah.dragstart(ai);ad._setValueInRange(al,am);ad._focusWithMouse(ah.element)};ad.wrapper.find(H+", "+f).on(U,ae).end().on(U,function(){D(document.documentElement).one("selectstart",G.preventDefault)}).on(g,function(){if(ad._activeDragHandle){ad._activeDragHandle._end()}});ad.wrapper.find(e).attr(u,0).on(d,function(){ad._setTooltipTimeout()}).on(R,function(af){ad._focusWithMouse(af.target);af.preventDefault()}).on(Z,W(ad._focus,ad)).on(N,W(ad._blur,ad));ad.wrapper.find(e).off(w,G.preventDefault).eq(0).on(w,W(function(af){this._keydown(af,"firstHandle")},ad)).end().eq(1).on(w,W(function(af){this._keydown(af,"lastHandle")},ad));ad.options.enabled=true},disable:function(){var ab=this;ab.wrapper.removeClass(X).addClass(x);ab.wrapper.find("input").prop(B,B);ab.wrapper.find(H+", "+f).off(U).off(g);ab.wrapper.find(e).attr(u,-1).off(d).off(w).off(R).off(Z).off(N);ab.options.enabled=false},_keydown:function(ag,af){var ae=this,ai=ae.options.selectionStart,ac=ae.options.selectionEnd,ab,ah,ad;if(ag.keyCode in ae._keyMap){ae._clearTooltipTimeout();if(af=="firstHandle"){ad=ae._activeHandleDrag=ae._firstHandleDrag;ai=ae._keyMap[ag.keyCode](ai);if(ai>ac){ac=ai}}else{ad=ae._activeHandleDrag=ae._lastHandleDrag;ac=ae._keyMap[ag.keyCode](ac);if(ai>ac){ai=ac}}ae._setValueInRange(Y(ai),Y(ac));ab=Math.max(ai,ae.options.selectionStart);ah=Math.min(ac,ae.options.selectionEnd);ad.selectionEnd=Math.max(ah,ae.options.selectionStart);ad.selectionStart=Math.min(ab,ae.options.selectionEnd);ad._updateTooltip(ae.value()[ae._activeHandle]);ag.preventDefault()}},_update:function(ad,ae){var ac=this,ab=ac.value();var af=ab[0]!=ad||ab[1]!=ae;ac.value([ad,ae]);if(af){ac.trigger(C,{values:[ad,ae],value:[ad,ae]})}},value:function(ab){if(ab&&ab.length){return this._value(ab[0],ab[1])}else{return this._value()}},_value:function(ag,ab){var ad=this,ac=ad.options,ae=ac.selectionStart,af=ac.selectionEnd;if(isNaN(ag)&&isNaN(ab)){return[ae,af]}else{ag=Y(ag);ab=Y(ab)}if(ag>=ac.min&&ag<=ac.max&&ab>=ac.min&&ab<=ac.max&&ag<=ab){if(ae!=ag||af!=ab){ad.element.find("input").eq(0).prop("value",m(ag)).end().eq(1).prop("value",m(ab));ac.selectionStart=ag;ac.selectionEnd=ab;ad._refresh();ad._refreshAriaAttr(ag,ab)}}},values:function(ac,ab){if(s(ac)){return this._value(ac[0],ac[1])}else{return this._value(ac,ab)}},_refresh:function(){var ac=this,ab=ac.options;ac.trigger(q,{values:[ab.selectionStart,ab.selectionEnd],value:[ab.selectionStart,ab.selectionEnd]});if(ab.selectionStart==ab.max&&ab.selectionEnd==ab.max){ac._setZIndex("firstHandle")}},_refreshAriaAttr:function(ag,ab){var af=this,ac=af.wrapper.find(e),ae=af._activeHandleDrag,ad;ad=af._getFormattedValue([ag,ab],ae);ac.eq(0).attr("aria-valuenow",ag);ac.eq(1).attr("aria-valuenow",ab);ac.attr("aria-valuetext",ad)},_setValueInRange:function(ac,ad){var ab=this.options;ac=z.max(z.min(ac,ab.max),ab.min);ad=z.max(z.min(ad,ab.max),ab.min);if(ac==ab.max&&ad==ab.max){this._setZIndex("firstHandle")}this._update(z.min(ac,ad),z.max(ac,ad))},_setZIndex:function(ab){this.wrapper.find(e).each(function(ac){D(this).css("z-index",ab=="firstHandle"?1-ac:ac)})},_formResetHandler:function(){var ac=this,ab=ac.options;setTimeout(function(){var ae=ac.element.find("input");var af=ae[0].value;var ad=ae[1].value;ac.values(af===""||isNaN(af)?ab.min:af,ad===""||isNaN(ad)?ab.max:ad)})},destroy:function(){var ab=this;aa.fn.destroy.call(ab);ab.wrapper.off(M).find(H+", "+f).off(M).end().find(e).off(M);ab._firstHandleDrag.draggable.destroy();ab._lastHandleDrag.draggable.destroy()}});T.Selection=function(ab,ae,ad){function af(al){al=al||[];var ak=al[0]-ad.min,ag=al[1]-ad.min,aj=z.ceil(Y(ak/ad.smallStep)),am=z.ceil(Y(ag/ad.smallStep)),an=ae._pixelSteps[aj],ao=ae._pixelSteps[am],ah=parseInt(ab.eq(0)[ae._outerSize]()/2,10),ai=ae._isRtl?2:0;ab.eq(0).css(ae._position,an-ah-ai).end().eq(1).css(ae._position,ao-ah-ai);ac(an,ao)}function ac(ai,aj){var ag,ak,ah=ae._trackDiv.find(".k-slider-selection");ag=z.abs(ai-aj);ah[ae._sizeFn](ag);if(ae._isRtl){ak=z.max(ai,aj);ah.css("right",ae._maxSelection-ak-1)}else{ak=z.min(ai,aj);ah.css(ae._position,ak-1)}}af(ae.value());ae.bind([C,b,q],function(ag){af(ag.values)})};G.ui.plugin(T)})(window.kendo.jQuery);(function(f,l,g){var o=window.kendo,n=o.ui,d=n.Widget,v=o.parseColor,z=o.Color,w=o.keys,t="background-color",h="k-state-selected",c="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",q="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",s={apply:"Apply",cancel:"Cancel"},u=".kendoColorTools",e="click"+u,p="keydown"+u,y=o.support.browser,m=y.msie&&y.version<9;var r=d.extend({init:function(C,B){var D=this,E;d.fn.init.call(D,C,B);C=D.element;B=D.options;D._value=B.value=v(B.value);D._tabIndex=C.attr("tabIndex")||0;E=D._ariaId=B.ariaId;if(E){C.attr("aria-labelledby",E)}if(B._standalone){D._triggerSelect=D._triggerChange}},options:{name:"ColorSelector",value:null,_standalone:true},events:["change","select","cancel"],color:function(B){if(B!==g){this._value=v(B);this._updateUI(this._value)}return this._value},value:function(B){B=this.color(B);if(B){if(this.options.opacity){B=B.toCssRgba()}else{B=B.toCss()}}return B||null},enable:function(B){if(arguments.length===0){B=true}f(".k-disabled-overlay",this.wrapper).remove();if(!B){this.wrapper.append("<div class='k-disabled-overlay'></div>")}this._onEnable(B)},_select:function(B,C){var D=this._value;B=this.color(B);if(!C){this.element.trigger("change");if(!B.equals(D)){this.trigger("change",{value:this.value()})}else{if(!this._standalone){this.trigger("cancel")}}}},_triggerSelect:function(B){b(this,"select",B)},_triggerChange:function(B){b(this,"change",B)},destroy:function(){if(this.element){this.element.off(u)}if(this.wrapper){this.wrapper.off(u).find("*").off(u)}this.wrapper=null;d.fn.destroy.call(this)},_updateUI:f.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}});function b(C,D,B){B=v(B);if(B&&!B.equals(C.color())){if(D=="change"){C._value=B}if(B.a!=1){B=B.toCssRgba()}else{B=B.toCss()}C.trigger(D,{value:B})}}var i=r.extend({init:function(E,D){var G=this;r.fn.init.call(G,E,D);E=G.wrapper=G.element;D=G.options;var C=D.palette;if(C=="websafe"){C=q;D.columns=18}else{if(C=="basic"){C=c}}if(typeof C=="string"){C=C.split(",")}if(f.isArray(C)){C=f.map(C,function(I){return v(I)})}G._selectedID=(D.ariaId||o.guid())+"_selected";E.addClass("k-widget k-colorpalette").attr("role","grid").attr("aria-readonly","true").append(f(G._template({colors:C,columns:D.columns,tileSize:D.tileSize,value:G._value,id:D.ariaId}))).on(e,".k-item",function(I){G._select(f(I.currentTarget).css(t))}).attr("tabIndex",G._tabIndex).on(p,A(G._keydown,G));var H=D.tileSize,F,B;if(H){if(/number|string/.test(typeof H)){F=B=parseFloat(H)}else{if(typeof H=="object"){F=parseFloat(H.width);B=parseFloat(H.height)}else{throw new Error("Unsupported value for the 'tileSize' argument")}}E.find(".k-item").css({width:F,height:B})}},focus:function(){this.wrapper.focus()},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(B){if(B){this.wrapper.attr("tabIndex",this._tabIndex)}else{this.wrapper.removeAttr("tabIndex")}},_keydown:function(H){var E,I=this.wrapper,C=I.find(".k-item"),G=C.filter("."+h).get(0),F=H.keyCode;if(F==w.LEFT){E=x(C,G,-1)}else{if(F==w.RIGHT){E=x(C,G,1)}else{if(F==w.DOWN){E=x(C,G,this.options.columns)}else{if(F==w.UP){E=x(C,G,-this.options.columns)}else{if(F==w.ENTER){j(H);if(G){this._select(f(G).css(t))}}else{if(F==w.ESC){this._cancel()}}}}}}if(E){j(H);this._current(E);try{var B=v(E.css(t));this._triggerSelect(B)}catch(D){}}},_current:function(B){this.wrapper.find("."+h).removeClass(h).attr("aria-selected",false).removeAttr("id");f(B).addClass(h).attr("aria-selected",true).attr("id",this._selectedID);this.element.removeAttr("aria-activedescendant").attr("aria-activedescendant",this._selectedID)},_updateUI:function(B){var C=null;this.wrapper.find(".k-item").each(function(){var D=v(f(this).css(t));if(D&&D.equals(B)){C=this;return false}});this._current(C)},_template:o.template('<table class="k-palette k-reset" role="presentation"><tr role="row"># for (var i = 0; i < colors.length; ++i) { ## var selected = colors[i].equals(value); ## if (i && i % columns == 0) { # </tr><tr role="row"> # } #<td role="gridcell" unselectable="on" style="background-color:#= colors[i].toCss() #"#= selected ? " aria-selected=true" : "" # #=(id && i === 0) ? "id=\\""+id+"\\" " : "" # class="k-item#= selected ? " '+h+'" : "" #" aria-label="#= colors[i].toCss() #"></td># } #</tr></table>')});var k=r.extend({init:function(C,B){var D=this;r.fn.init.call(D,C,B);B=D.options;C=D.element;D.wrapper=C.addClass("k-widget k-flatcolorpicker").append(D._template(B));D._hueElements=f(".k-hsv-rectangle, .k-transparency-slider .k-slider-track",C);D._selectedColor=f(".k-selected-color-display",C);D._colorAsText=f("input.k-color-value",C);D._sliders();D._hsvArea();D._updateUI(D._value||v("#f00"));C.find("input.k-color-value").on(p,function(H){var F=this;if(H.keyCode==w.ENTER){try{var E=v(F.value);var I=D.color();D._select(E,E.equals(I))}catch(G){f(F).addClass("k-state-error")}}else{if(D.options.autoupdate){setTimeout(function(){var J=v(F.value,true);if(J){D._updateUI(J,true)}},10)}}}).end().on(e,".k-controls button.apply",function(){D._select(D._getHSV())}).on(e,".k-controls button.cancel",function(){D._updateUI(D.color());D._cancel()});if(m){D._applyIEFilter()}},destroy:function(){this._hueSlider.destroy();if(this._opacitySlider){this._opacitySlider.destroy()}this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null;r.fn.destroy.call(this)},options:{name:"FlatColorPicker",opacity:false,buttons:false,input:true,preview:true,autoupdate:true,messages:s},_applyIEFilter:function(){var B=this.element.find(".k-hue-slider .k-slider-track")[0],C=B.currentStyle.backgroundImage;C=C.replace(/^url\([\'\"]?|[\'\"]?\)$/g,"");B.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+C+"', sizingMethod='scale')"},_sliders:function(){var D=this,C=D.element;function B(F){D._updateUI(D._getHSV(F.value,null,null,null))}D._hueSlider=C.find(".k-hue-slider").kendoSlider({min:0,max:359,tickPlacement:"none",showButtons:false,slide:B,change:B}).data("kendoSlider");function E(F){D._updateUI(D._getHSV(null,null,null,F.value/100))}D._opacitySlider=C.find(".k-transparency-slider").kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:false,slide:E,change:E}).data("kendoSlider")},_hsvArea:function(){var E=this,D=E.element,B=D.find(".k-hsv-rectangle"),C=B.find(".k-draghandle").attr("tabIndex",0).on(p,A(E._keydown,E));function F(G,M){var L=this.offset,J=G-L.left,H=M-L.top,K=this.width,I=this.height;J=J<0?0:J>K?K:J;H=H<0?0:H>I?I:H;E._svChange(J/K,1-H/I)}E._hsvEvents=new o.UserEvents(B,{global:true,press:function(G){this.offset=o.getOffset(B);this.width=B.width();this.height=B.height();C.focus();F.call(this,G.x.location,G.y.location)},start:function(){B.addClass("k-dragging");C.focus()},move:function(G){G.preventDefault();F.call(this,G.x.location,G.y.location)},end:function(){B.removeClass("k-dragging")}});E._hsvRect=B;E._hsvHandle=C},_onEnable:function(B){this._hueSlider.enable(B);if(this._opacitySlider){this._opacitySlider.enable(B)}this.wrapper.find("input").attr("disabled",!B);var C=this._hsvRect.find(".k-draghandle");if(B){C.attr("tabIndex",this._tabIndex)}else{C.removeAttr("tabIndex")}},_keydown:function(E){var D=this;function B(H,F){var G=D._getHSV();G[H]+=F*(E.shiftKey?0.01:0.05);if(G[H]<0){G[H]=0}if(G[H]>1){G[H]=1}D._updateUI(G);j(E)}function C(F){var G=D._getHSV();G.h+=F*(E.shiftKey?1:5);if(G.h<0){G.h=0}if(G.h>359){G.h=359}D._updateUI(G);j(E)}switch(E.keyCode){case w.LEFT:if(E.ctrlKey){C(-1)}else{B("s",-1)}break;case w.RIGHT:if(E.ctrlKey){C(1)}else{B("s",1)}break;case w.UP:B(E.ctrlKey&&D._opacitySlider?"a":"v",1);break;case w.DOWN:B(E.ctrlKey&&D._opacitySlider?"a":"v",-1);break;case w.ENTER:D._select(D._getHSV());break;case w.F2:D.wrapper.find("input.k-color-value").focus().select();break;case w.ESC:D._cancel();break}},focus:function(){this._hsvHandle.focus()},_getHSV:function(H,G,E,D){var I=this._hsvRect,F=I.width(),B=I.height(),C=this._hsvHandle.position();if(H==null){H=this._hueSlider.value()}if(G==null){G=C.left/F}if(E==null){E=1-C.top/B}if(D==null){D=this._opacitySlider?this._opacitySlider.value()/100:1}return z.fromHSV(H,G,E,D)},_svChange:function(D,C){var B=this._getHSV(null,D,C,null);this._updateUI(B)},_updateUI:function(B,E){var D=this,C=D._hsvRect;if(!B){return}this._colorAsText.removeClass("k-state-error");D._selectedColor.css(t,B.toDisplay());if(!E){D._colorAsText.val(D._opacitySlider?B.toCssRgba():B.toCss())}D._triggerSelect(B);B=B.toHSV();D._hsvHandle.css({left:B.s*C.width()+"px",top:(1-B.v)*C.height()+"px"});D._hueElements.css(t,z.fromHSV(B.h,1,1,1).toCss());D._hueSlider.value(B.h);if(D._opacitySlider){D._opacitySlider.value(100*B.a)}},_selectOnHide:function(){return this.options.buttons?null:this._getHSV()},_template:o.template('# if (preview) { #<div class="k-selected-color"><div class="k-selected-color-display"><input class="k-color-value" #= !data.input ? \'style="visibility: hidden;"\' : "" #></div></div># } #<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div><input class="k-hue-slider" /># if (opacity) { #<input class="k-transparency-slider" /># } ## if (buttons) { #<div unselectable="on" class="k-controls"><button class="k-button k-primary apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div># } #')});function x(F,B,E){F=Array.prototype.slice.call(F);var D=F.length;var C=F.indexOf(B);if(C<0){return E<0?F[D-1]:F[0]}C+=E;if(C<0){C+=D}else{C%=D}return F[C]}var a=d.extend({init:function(D,C){var F=this;d.fn.init.call(F,D,C);C=F.options;D=F.element;var G=D.attr("value")||D.val();if(G){G=v(G,true)}else{G=v(C.value,true)}F._value=C.value=G;var E=F.wrapper=f(F._template(C));D.hide().after(E);if(D.is("input")){D.appendTo(E);var B=D.closest("label");var I=D.attr("id");if(I){B=B.add('label[for="'+I+'"]')}B.click(function(J){F.open();J.preventDefault()})}F._tabIndex=D.attr("tabIndex")||0;F.enable(!D.attr("disabled"));var H=D.attr("accesskey");if(H){D.attr("accesskey",null);E.attr("accesskey",H)}F.bind("activate",function(J){if(!J.isDefaultPrevented()){F.toggle()}});F._updateUI(G)},destroy:function(){this.wrapper.off(u).find("*").off(u);if(this._popup){this._selector.destroy();this._popup.destroy()}this._selector=this._popup=this.wrapper=null;d.fn.destroy.call(this)},enable:function(B){var E=this,F=E.wrapper,C=F.children(".k-picker-wrap"),D=C.find(".k-select");if(arguments.length===0){B=true}E.element.attr("disabled",!B);F.attr("aria-disabled",!B);D.off(u).on("mousedown"+u,j);F.addClass("k-state-disabled").removeAttr("tabIndex").add("*",F).off(u);if(B){F.removeClass("k-state-disabled").attr("tabIndex",E._tabIndex).on("mouseenter"+u,function(){C.addClass("k-state-hover")}).on("mouseleave"+u,function(){C.removeClass("k-state-hover")}).on("focus"+u,function(){C.addClass("k-state-focused")}).on("blur"+u,function(){C.removeClass("k-state-focused")}).on(p,A(E._keydown,E)).on(e,".k-icon",A(E.toggle,E)).on(e,E.options.toolIcon?".k-tool-icon":".k-selected-color",function(){E.trigger("activate")})}},_template:o.template('<span role="textbox" aria-haspopup="true" class="k-widget k-colorpicker k-header"><span class="k-picker-wrap k-state-default"># if (toolIcon) { #<span class="k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"></span># } #<span class="k-select" unselectable="on"><span class="k-icon k-i-arrow-s" unselectable="on"></span></span></span></span>'),options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:s,opacity:false,buttons:true,preview:true,ARIATemplate:'Current selected color is #=data || ""#'},events:["activate","change","select","open","close"],open:function(){this._getPopup().open()},close:function(){this._getPopup().close()},toggle:function(){this._getPopup().toggle()},color:r.fn.color,value:r.fn.value,_select:r.fn._select,_triggerSelect:r.fn._triggerSelect,_isInputTypeColor:function(){var B=this.element[0];return(/^input$/i).test(B.tagName)&&(/^color$/i).test(B.type)},_updateUI:function(C){var B="";if(C){if(this._isInputTypeColor()||C.a==1){B=C.toCss()}else{B=C.toCssRgba()}this.element.val(B)}if(!this._ariaTemplate){this._ariaTemplate=o.template(this.options.ARIATemplate)}this.wrapper.attr("aria-label",this._ariaTemplate(B));this._triggerSelect(C);this.wrapper.find(".k-selected-color").css(t,C?C.toDisplay():"transparent")},_keydown:function(C){var B=C.keyCode;if(this._getPopup().visible()){if(B==w.ESC){this._selector._cancel()}else{this._selector._keydown(C)}j(C)}else{if(B==w.ENTER||B==w.DOWN){this.open();j(C)}}},_getPopup:function(){var F=this,C=F._popup;if(!C){var E=F.options;var D;if(E.palette){D=i}else{D=k}E._standalone=false;delete E.select;delete E.change;delete E.cancel;var G=o.guid();var B=F._selector=new D(f('<div id="'+G+'"/>').appendTo(document.body),E);F.wrapper.attr("aria-owns",G);F._popup=C=B.wrapper.kendoPopup({anchor:F.wrapper,adjustSize:{width:5,height:0}}).data("kendoPopup");B.bind({select:function(H){F._updateUI(v(H.value))},change:function(){F._select(B.color());F.close()},cancel:function(){F.close()}});C.bind({close:function(I){if(F.trigger("close")){I.preventDefault();return}F.wrapper.children(".k-picker-wrap").removeClass("k-state-focused");var H=B._selectOnHide();if(!H){F.wrapper.focus();F._updateUI(F.color())}else{F._select(H)}},open:function(H){if(F.trigger("open")){H.preventDefault()}else{F.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}},activate:function(){B._select(F.color(),true);B.focus();F.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}})}return C}});function j(B){B.preventDefault()}function A(C,B){return function(){return C.apply(B,arguments)}}n.plugin(i);n.plugin(k);n.plugin(a)})(jQuery,parseInt);(function(x,l){var y=window.kendo,p=y.caret,s=y.keys,B=y.ui,a=B.Widget,f=y._activeElement,i=y._extractFormat,q=y.parseFloat,K=y.support.placeholder,n=y.getCulture,G=y._round,w="change",v="disabled",g="readonly",d="k-input",e="spin",I=".kendoNumericTextBox",A="touchend",o="mouseleave"+I,c="mouseenter"+I+" "+o,E="k-state-default",z="k-state-focused",r="k-state-hover",J="focus",C=".",t="k-state-selected",m="k-state-disabled",j="aria-disabled",D="aria-readonly",b=/^(-)?(\d*)$/,u=null,F=x.proxy,k=x.extend;var H=a.extend({init:function(O,T){var P=this,R=T&&T.step!==l,N,Q,L,S,M;a.fn.init.call(P,O,T);T=P.options;O=P.element.on("focusout"+I,F(P._focusout,P)).attr("role","spinbutton");T.placeholder=T.placeholder||O.attr("placeholder");P._initialOptions=k({},T);P._reset();P._wrapper();P._arrows();P._input();if(!y.support.mobileOS){P._text.on(J+I,F(P._click,P))}else{P._text.on(A+I+" "+J+I,function(U){P._toggleText(false);O.focus()})}N=P.min(O.attr("min"));Q=P.max(O.attr("max"));L=P._parse(O.attr("step"));if(T.min===u&&N!==u){T.min=N}if(T.max===u&&Q!==u){T.max=Q}if(!R&&L!==u){T.step=L}O.attr("aria-valuemin",T.min).attr("aria-valuemax",T.max);T.format=i(T.format);S=T.value;P.value(S!==u?S:O.val());M=O.is("[disabled]")||x(P.element).parents("fieldset").is(":disabled");if(M){P.enable(false)}else{P.readonly(O.is("[readonly]"))}y.notify(P)},options:{name:"NumericTextBox",decimals:u,min:u,max:u,value:u,step:1,culture:"",format:"n",spinners:true,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:[w,e],_editable:function(N){var P=this,O=P.element,M=N.disable,L=N.readonly,Q=P._text.add(O),R=P._inputWrapper.off(c);P._toggleText(true);P._upArrowEventHandler.unbind("press");P._downArrowEventHandler.unbind("press");O.off("keydown"+I).off("keypress"+I).off("paste"+I);if(!L&&!M){R.addClass(E).removeClass(m).on(c,P._toggleHover);Q.removeAttr(v).removeAttr(g).attr(j,false).attr(D,false);P._upArrowEventHandler.bind("press",function(S){S.preventDefault();P._spin(1);P._upArrow.addClass(t)});P._downArrowEventHandler.bind("press",function(S){S.preventDefault();P._spin(-1);P._downArrow.addClass(t)});P.element.on("keydown"+I,F(P._keydown,P)).on("keypress"+I,F(P._keypress,P)).on("paste"+I,F(P._paste,P))}else{R.addClass(M?m:E).removeClass(M?E:m);Q.attr(v,M).attr(g,L).attr(j,M).attr(D,L)}},readonly:function(L){this._editable({readonly:L===l?true:L,disable:false})},enable:function(L){this._editable({readonly:false,disable:!(L=L===l?true:L)})},destroy:function(){var L=this;L.element.add(L._text).add(L._upArrow).add(L._downArrow).add(L._inputWrapper).off(I);L._upArrowEventHandler.destroy();L._downArrowEventHandler.destroy();if(L._form){L._form.off("reset",L._resetHandler)}a.fn.destroy.call(L)},min:function(L){return this._option("min",L)},max:function(L){return this._option("max",L)},step:function(L){return this._option("step",L)},value:function(N){var M=this,L;if(N===l){return M._value}N=M._parse(N);L=M._adjust(N);if(N!==L){return}M._update(N);M._old=M._value},focus:function(){this._focusin()},_adjust:function(P){var O=this,M=O.options,N=M.min,L=M.max;if(P===u){return P}if(N!==u&&P<N){P=N}else{if(L!==u&&P>L){P=L}}return P},_arrows:function(){var P=this,M,Q=function(){clearTimeout(P._spinning);M.removeClass(t)},N=P.options,L=N.spinners,O=P.element;M=O.siblings(".k-icon");if(!M[0]){M=x(h("n",N.upArrowText)+h("s",N.downArrowText)).insertAfter(O);M.wrapAll('<span class="k-select"/>')}if(!L){M.parent().toggle(L);P._inputWrapper.addClass("k-expand-padding")}P._upArrow=M.eq(0);P._upArrowEventHandler=new y.UserEvents(P._upArrow,{release:Q});P._downArrow=M.eq(1);P._downArrowEventHandler=new y.UserEvents(P._downArrow,{release:Q})},_blur:function(){var L=this;L._toggleText(true);L._change(L.element.val())},_click:function(M){var L=this;clearTimeout(L._focusing);L._focusing=setTimeout(function(){var Q=M.target,T=p(Q)[0],S=Q.value.substring(0,T),R=L._format(L.options.format),U=R[","],V,O,N,P=0;if(U){O=new RegExp("\\"+U,"g");N=new RegExp("([\\d\\"+U+"]+)(\\"+R[C]+")?(\\d+)?")}if(N){V=N.exec(S)}if(V){P=V[0].replace(O,"").length;if(S.indexOf("(")!=-1&&L._value<0){P++}}L._focusin();p(L.element[0],P)})},_change:function(M){var L=this;L._update(M);M=L._value;if(L._old!=M){L._old=M;if(!L._typing){L.element.trigger(w)}L.trigger(w)}L._typing=false},_culture:function(L){return L||n(this.options.culture)},_focusin:function(){var L=this;L._inputWrapper.addClass(z);L._toggleText(false);L.element[0].focus()},_focusout:function(){var L=this;clearTimeout(L._focusing);L._inputWrapper.removeClass(z).removeClass(r);L._blur()},_format:function(N,M){var L=this._culture(M).numberFormat;N=N.toLowerCase();if(N.indexOf("c")>-1){L=L.currency}else{if(N.indexOf("p")>-1){L=L.percent}}return L},_input:function(){var O=this,N="k-formatted-value",L=O.element.addClass(d).show()[0],M=L.accessKey,R=O.wrapper,Q;Q=R.find(C+N);if(!Q[0]){Q=x('<input type="text"/>').insertBefore(L).addClass(N)}try{L.setAttribute("type","text")}catch(P){L.type="text"}Q[0].tabIndex=L.tabIndex;Q[0].style.cssText=L.style.cssText;Q[0].title=L.title;Q.prop("placeholder",O.options.placeholder);if(M){Q.attr("accesskey",M);L.accessKey=""}O._text=Q.addClass(L.className)},_keydown:function(N){var M=this,L=N.keyCode;M._key=L;if(L==s.DOWN){M._step(-1)}else{if(L==s.UP){M._step(1)}else{if(L==s.ENTER){M._change(M.element.val())}else{M._typing=true}}}},_keypress:function(P){if(P.which===0||P.metaKey||P.ctrlKey||P.keyCode===s.BACKSPACE||P.keyCode===s.ENTER){return}var O=this;var L=O.options.min;var M=O.element;var T=p(M);var S=T[0];var U=T[1];var N=String.fromCharCode(P.which);var Q=O._format(O.options.format);var W=O._key===s.NUMPAD_DOT;var R=M.val();var V;if(W){N=Q[C]}R=R.substring(0,S)+N+R.substring(U);V=O._numericRegex(Q).test(R);if(V&&W){M.val(R);p(M,S+N.length);P.preventDefault()}else{if((L!==null&&L>=0&&R.charAt(0)==="-")||!V){P.preventDefault()}}O._key=0},_numericRegex:function(L){var N=this;var O=L[C];var M=N.options.decimals;if(O===C){O="\\"+O}if(M===u){M=L.decimals}if(M===0){return b}if(N._separator!==O){N._separator=O;N._floatRegExp=new RegExp("^(-)?(((\\d+("+O+"\\d*)?)|("+O+"\\d*)))?$")}return N._floatRegExp},_paste:function(O){var M=this,L=O.target,N=L.value;setTimeout(function(){if(M._parse(L.value)===u){M._update(N)}})},_option:function(M,O){var N=this,L=N.options;if(O===l){return L[M]}O=N._parse(O);if(!O&&M==="step"){return}L[M]=O;N.element.attr("aria-value"+M,O).attr(M,O)},_spin:function(M,N){var L=this;N=N||500;clearTimeout(L._spinning);L._spinning=setTimeout(function(){L._spin(M,50)},N);L._step(M)},_step:function(N){var M=this,L=M.element,O=M._parse(L.val())||0;if(f()!=L[0]){M._focusin()}O+=M.options.step*N;M._update(M._adjust(O));M._typing=false;M.trigger(e)},_toggleHover:function(L){x(L.currentTarget).toggleClass(r,L.type==="mouseenter")},_toggleText:function(L){var M=this;M._text.toggle(L);M.element.toggle(!L)},_parse:function(M,L){return q(M,this._culture(L),this.options.format)},_update:function(Q){var P=this,O=P.options,R=O.format,M=O.decimals,N=P._culture(),L=P._format(R,N),S;if(M===u){M=L.decimals}Q=P._parse(Q,N);S=Q!==u;if(S){Q=parseFloat(G(Q,M))}P._value=Q=P._adjust(Q);P._placeholder(y.toString(Q,R,N));if(S){Q=Q.toString();if(Q.indexOf("e")!==-1){Q=G(+Q,M)}Q=Q.replace(C,L[C])}else{Q=""}P.element.val(Q).attr("aria-valuenow",Q)},_placeholder:function(L){this._text.val(L);if(!K&&!L){this._text.val(this.options.placeholder)}},_wrapper:function(){var N=this,L=N.element,M=L[0],O;O=L.parents(".k-numerictextbox");if(!O.is("span.k-numerictextbox")){O=L.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent();O=O.wrap("<span/>").parent()}O[0].style.cssText=M.style.cssText;M.style.width="";N.wrapper=O.addClass("k-widget k-numerictextbox").addClass(M.className).css("display","");N._inputWrapper=x(O[0].firstChild)},_reset:function(){var N=this,L=N.element,O=L.attr("form"),M=O?x("#"+O):L.closest("form");if(M[0]){N._resetHandler=function(){setTimeout(function(){N.value(L[0].value);N.max(N._initialOptions.max);N.min(N._initialOptions.min)})};N._form=M.on("reset",N._resetHandler)}}});function h(L,M){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+L+'" title="'+M+'">'+M+"</span></span>"}B.plugin(H)})(window.kendo.jQuery);(function(i,l){var u=window.kendo,t=u.ui,x=i.proxy,v="kendoPopup",c="init",A="refresh",o="change",z=".kendoFilterMenu",y="Is equal to",C="Is not equal to",r={number:"numerictextbox",date:"datepicker"},d={string:"text",number:"number",date:"date"},a=u.isFunction,e=t.Widget;var w='<div><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><div><button type="submit" class="k-button k-primary">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>';var g='<div><div class="k-filter-help-text">#=messages.info#</div><select data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#" data-#=ns#value-primitive="true"></select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}##if(extra){#<select class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#" data-#=ns#value-primitive="true"></select>#}else{#<input data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>#}##}#<div><button type="submit" class="k-button k-primary">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>';var q='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#</button>#=title#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[0].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[0].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#if(extra){#</ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="and" />#=messages.and#</label></li><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="or" />#=messages.or#</label></li></ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[1].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[1].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[1].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#}#</ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></div></form></div>';var f='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#</button>#=title#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label></li><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label></li></ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></form></div>';function E(G,F){if(G.filters){G.filters=i.grep(G.filters,function(H){E(H,F);if(H.filters){return H.filters.length}else{return H.field!=F}})}}function k(H){var G,J,I,K,L,F;if(H&&H.length){F=[];for(G=0,J=H.length;G<J;G++){I=H[G];L=I.text||I.value||I;K=I.value==null?(I.text||I):I.value;F[G]={text:L,value:K}}}return F}function B(F,G){return i.grep(F,function(H){if(H.filters){H.filters=i.grep(H.filters,function(I){return I.field!=G});return H.filters.length}return H.field!=G})}var p=e.extend({init:function(I,H){var L=this,J="string",F,G,K,M;e.fn.init.call(L,I,H);F=L.operators=H.operators||{};I=L.element;H=L.options;if(!H.appendToElement){K=I.addClass("k-with-icon k-filterable").find(".k-grid-filter");if(!K[0]){K=I.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/></a>').find(".k-grid-filter")}K.attr("tabindex",-1).on("click"+z,x(L._click,L))}L.link=K||i();L.dataSource=H.dataSource;L.field=H.field||I.attr(u.attr("field"));L.model=L.dataSource.reader.model;L._parse=function(N){return N+""};if(L.model&&L.model.fields){M=L.model.fields[L.field];if(M){J=M.type||"string";if(M.parse){L._parse=x(M.parse,M)}}}if(H.values){J="enums"}L.type=J;F=F[J]||H.operators[J];for(G in F){break}L._defaultFilter=function(){return{field:L.field,operator:G||"eq",value:""}};L._refreshHandler=x(L.refresh,L);L.dataSource.bind(o,L._refreshHandler);if(H.appendToElement){L._init()}else{L.refresh()}},_init:function(){var F=this,G=F.options.ui,H=a(G),I;F.pane=F.options.pane;if(F.pane){F._isMobile=true}if(!H){I=G||r[F.type]}if(F._isMobile){F._createMobileForm(I)}else{F._createForm(I)}F.form.on("submit"+z,x(F._submit,F)).on("reset"+z,x(F._reset,F));if(H){F.form.find(".k-textbox").removeClass("k-textbox").each(function(){G(i(this))})}F.form.find("["+u.attr("role")+"=numerictextbox]").removeClass("k-textbox").end().find("["+u.attr("role")+"=datetimepicker]").removeClass("k-textbox").end().find("["+u.attr("role")+"=timepicker]").removeClass("k-textbox").end().find("["+u.attr("role")+"=datepicker]").removeClass("k-textbox");F.refresh();F.trigger(c,{field:F.field,container:F.form});u.cycleForm(F.form)},_createForm:function(J){var I=this,G=I.options,F=I.operators||{},H=I.type;F=F[H]||G.operators[H];I.form=i('<form class="k-filter-menu"/>').html(u.template(H==="boolean"?w:g)({field:I.field,format:G.format,ns:u.ns,messages:G.messages,extra:G.extra,operators:F,type:H,role:J,values:k(G.values)}));if(!G.appendToElement){I.popup=I.form[v]({anchor:I.link,open:x(I._open,I),activate:x(I._activate,I),close:function(){if(I.options.closeCallback){I.options.closeCallback(I.element)}}}).data(v)}else{I.element.append(I.form);I.popup=I.element.closest(".k-popup").data(v)}I.form.on("keydown"+z,x(I._keydown,I))},_createMobileForm:function(J){var I=this,G=I.options,F=I.operators||{},H=I.type;F=F[H]||G.operators[H];I.form=i("<div />").html(u.template(H==="boolean"?f:q)({field:I.field,title:G.title||I.field,format:G.format,ns:u.ns,messages:G.messages,extra:G.extra,operators:F,type:H,role:J,useRole:(!u.support.input.date&&H==="date")||H==="number",inputType:d[H],values:k(G.values)}));I.view=I.pane.append(I.form.html());I.form=I.view.element.find("form");I.view.element.on("click",".k-submit",function(K){I.form.submit();K.preventDefault()}).on("click",".k-cancel",function(K){I._closeForm();K.preventDefault()})},refresh:function(){var F=this,G=F.dataSource.filter()||{filters:[],logic:"and"};F.filterModel=u.observable({logic:"and",filters:[F._defaultFilter(),F._defaultFilter()]});if(F.form){u.bind(F.form.children().first(),F.filterModel)}if(F._bind(G)){F.link.addClass("k-state-active")}else{F.link.removeClass("k-state-active")}},destroy:function(){var F=this;e.fn.destroy.call(F);if(F.form){u.unbind(F.form);u.destroy(F.form);F.form.unbind(z);if(F.popup){F.popup.destroy();F.popup=null}F.form=null}if(F.view){F.view.purge();F.view=null}F.link.unbind(z);if(F._refreshHandler){F.dataSource.unbind(o,F._refreshHandler);F.dataSource=null}F.element=F.link=F._refreshHandler=F.filterModel=null},_bind:function(M){var K=this,G=M.filters,N,H,O=false,L=0,I=K.filterModel,J,F;for(N=0,H=G.length;N<H;N++){F=G[N];if(F.field==K.field){I.set("logic",M.logic);J=I.filters[L];if(!J){I.filters.push({field:K.field});J=I.filters[L]}J.set("value",K._parse(F.value));J.set("operator",F.operator);L++;O=true}else{if(F.filters){O=O||K._bind(F)}}}return O},_merge:function(M){var L=this,H=M.logic||"and",K=M.filters,I,G=L.dataSource.filter()||{filters:[],logic:"and"},F,J;E(G,L.field);K=i.grep(K,function(N){return N.value!==""&&N.value!=null});for(F=0,J=K.length;F<J;F++){I=K[F];I.value=L._parse(I.value)}if(K.length){if(G.filters.length){M.filters=K;if(G.logic!=="and"){G.filters=[{logic:G.logic,filters:G.filters}];G.logic="and"}if(K.length>1){G.filters.push(M)}else{G.filters.push(K[0])}}else{G.filters=K;G.logic=H}}return G},filter:function(F){F=this._merge(F);if(F.filters.length){this.dataSource.filter(F)}},clear:function(){var F=this,G=F.dataSource.filter()||{filters:[]};G.filters=i.grep(G.filters,function(H){if(H.filters){H.filters=B(H.filters,F.field);return H.filters.length}return H.field!=F.field});if(!G.filters.length){G=null}F.dataSource.filter(G)},_submit:function(F){F.preventDefault();F.stopPropagation();this.filter(this.filterModel.toJSON());this._closeForm()},_reset:function(){this.clear();this._closeForm()},_closeForm:function(){if(this._isMobile){this.pane.navigate("",this.options.animations.right)}else{this.popup.close()}},_click:function(F){F.preventDefault();F.stopPropagation();if(!this.popup&&!this.pane){this._init()}if(this._isMobile){this.pane.navigate(this.view,this.options.animations.left)}else{this.popup.toggle()}},_open:function(){var F;i(".k-filter-menu").not(this.form).each(function(){F=i(this).data(v);if(F){F.close()}})},_activate:function(){this.form.find(":kendoFocusable:first").focus()},_keydown:function(F){if(F.keyCode==u.keys.ESC){this.popup.close()}},events:[c],options:{name:"FilterMenu",extra:true,appendToElement:false,type:"string",operators:{string:{eq:y,neq:C,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with"},number:{eq:y,neq:C,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},date:{eq:y,neq:C,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before"},enums:{eq:y,neq:C}},messages:{info:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-",operator:"Operator",value:"Value",cancel:"Cancel"},animations:{left:"slide",right:"slide:right"}}});var n=".kendoFilterMultiCheck";function m(G,F){if(G.filters){G.filters=i.grep(G.filters,function(H){m(H,F);if(H.filters){return H.filters.length}else{return H.field==F&&H.operator=="eq"}})}}function j(F){if(F.logic=="and"&&F.filters.length>1){return[]}if(F.filters){return i.map(F.filters,function(G){return j(G)})}else{if(F.value!==null&&F.value!==l){return[F.value]}else{return[]}}}function b(I,L){var G=u.getter(L,true),F=[],J=0,H={};while(J<I.length){var K=I[J++],M=G(K);if(M!==l&&M!==null&&!H.hasOwnProperty(M)){F.push(K);H[M]=true}}return F}function D(F,G){return function(I){var H=F(I);return b(H,G)}}var h=u.data.DataSource;var s=e.extend({init:function(H,G){e.fn.init.call(this,H,G);G=this.options;this.element=i(H);var I=this.field=this.options.field||this.element.attr(u.attr("field"));var F=G.checkSource;if(G.forceUnique){F=G.dataSource.options;delete F.pageSize;this.checkSource=h.create(F);this.checkSource.reader.data=D(this.checkSource.reader.data,this.field)}else{this.checkSource=h.create(F)}this.dataSource=G.dataSource;this.model=this.dataSource.reader.model;this._parse=function(J){return J+""};if(this.model&&this.model.fields){I=this.model.fields[this.field];if(I){if(I.parse){this._parse=x(I.parse,I)}this.type=I.type||"string"}}if(!G.appendToElement){this._createLink()}else{this._init()}this._refreshHandler=x(this.refresh,this);this.dataSource.bind(o,this._refreshHandler)},_createLink:function(){var F=this.element;var G=F.addClass("k-with-icon k-filterable").find(".k-grid-filter");if(!G[0]){G=F.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/></a>').find(".k-grid-filter")}this._link=G.attr("tabindex",-1).on("click"+z,x(this._click,this))},_init:function(){var H=this;var F=this.options.forceUnique;var G=this.options;this.pane=G.pane;if(this.pane){this._isMobile=true}this._createForm();if(F&&!this.checkSource.options.serverPaging&&this.dataSource.data().length){this.checkSource.data(b(this.dataSource.data(),this.field));this.refresh()}else{this._attachProgress();this.checkSource.fetch(function(){H.refresh.call(H)})}if(!this.options.forceUnique){this.checkChangeHandler=function(){H.container.empty();H.refresh()};this.checkSource.bind(o,this.checkChangeHandler)}this.form.on("keydown"+n,x(this._keydown,this)).on("submit"+n,x(this._filter,this)).on("reset"+n,x(this._reset,this));this.trigger(c,{field:this.field,container:this.form})},_attachProgress:function(){var F=this;this._progressHandler=function(){t.progress(F.container,true)};this._progressHideHandler=function(){t.progress(F.container,false)};this.checkSource.bind("progress",this._progressHandler).bind("change",this._progressHideHandler)},_createForm:function(){var F=this.options;var H="<ul class='k-reset k-multicheck-wrap'></ul><button type='submit' class='k-button k-primary'>"+F.messages.filter+"</button>";H+="<button type='reset' class='k-button'>"+F.messages.clear+"</button>";this.form=i('<form class="k-filter-menu"/>').html(H);this.container=this.form.find(".k-multicheck-wrap");if(this._isMobile){this.view=this.pane.append(this.form.addClass("k-mobile-list").wrap("<div/>").parent().html());var G=this.view.element;this.form=G.find("form");this.container=G.find(".k-multicheck-wrap");var I=this;G.on("click",".k-primary",function(J){I.form.submit();J.preventDefault()}).on("click","[type=reset]",function(J){I._reset();J.preventDefault()})}else{if(!F.appendToElement){this.popup=this.form.kendoPopup({anchor:this._link}).data(v)}else{this.popup=this.element.closest(".k-popup").data(v);this.element.append(this.form)}}},createCheckAllItem:function(){var F=this.options;var G=u.template(F.itemTemplate({field:"all",mobile:this._isMobile}));var H=i(G({all:F.messages.checkAll}));this.container.prepend(H);this.checkBoxAll=H.find(":checkbox").eq(0).addClass("k-check-all");this.checkAllHandler=x(this.checkAll,this);this.checkBoxAll.on(o+n,this.checkAllHandler)},updateCheckAllState:function(){if(this.checkBoxAll){var F=this.container.find(":checkbox:not(.k-check-all)").length==this.container.find(":checked:not(.k-check-all)").length;this.checkBoxAll.prop("checked",F)}},refresh:function(H){var F=this.options.forceUnique;var I=this.dataSource;var G=this.getFilterArray();if(this._link){this._link.toggleClass("k-state-active",G.length!==0)}if(this.form){if(H&&F&&H.sender===I&&!I.options.serverPaging&&(H.action=="itemchange"||H.action=="add"||H.action=="remove")){this.checkSource.data(b(this.dataSource.data(),this.field));this.container.empty()}if(this.container.is(":empty")){this.createCheckBoxes()}this.checkValues(G);this.trigger(A)}},getFilterArray:function(){var G=i.extend(true,{},{filters:[],logic:"and"},this.dataSource.filter());m(G,this.field);var F=j(G);return F},createCheckBoxes:function(){var F=this.options;var J;var H={field:this.field,format:F.format,mobile:this._isMobile,type:this.type};if(!this.options.forceUnique){J=this.checkSource.view()}else{if(F.values){J=F.values;H.valueField="value";H.field="text"}else{J=this.checkSource.data()}}var G=u.template(F.itemTemplate(H));var I=u.render(G,J);if(F.checkAll){this.createCheckAllItem();this.container.on(o+n,":checkbox",x(this.updateCheckAllState,this))}this.container.append(I)},checkAll:function(){var F=this.checkBoxAll.is(":checked");this.container.find(":checkbox").prop("checked",F)},checkValues:function(F){var G=this;i(i.grep(this.container.find(":checkbox").prop("checked",false),function(J){var I=false;if(i(J).is(".k-check-all")){return}var K=G._parse(i(J).val());for(var H=0;H<F.length;H++){if(G.type=="date"){I=F[H].getTime()==K.getTime()}else{I=F[H]==K}if(I){return I}}})).prop("checked",true);this.updateCheckAllState()},_filter:function(G){G.preventDefault();G.stopPropagation();var H={logic:"or"};var F=this;H.filters=i.map(this.form.find(":checkbox:checked:not(.k-check-all)"),function(I){return{value:i(I).val(),operator:"eq",field:F.field}});H=this._merge(H);if(H.filters.length){this.dataSource.filter(H)}this._closeForm()},destroy:function(){var F=this;e.fn.destroy.call(F);if(F.form){u.unbind(F.form);u.destroy(F.form);F.form.unbind(n);if(F.popup){F.popup.destroy();F.popup=null}F.form=null;if(F.container){F.container.unbind(n);F.container=null}if(F.checkBoxAll){F.checkBoxAll.unbind(n)}}if(F.view){F.view.purge();F.view=null}if(F._link){F._link.unbind(z)}if(F._refreshHandler){F.dataSource.unbind(o,F._refreshHandler);F.dataSource=null}if(F.checkChangeHandler){F.checkSource.unbind(o,F.checkChangeHandler)}if(F._progressHandler){F.checkSource.unbind("progress",F._progressHandler)}if(F._progressHideHandler){F.checkSource.unbind("change",F._progressHideHandler)}F.element=F.checkSource=F.container=F.checkBoxAll=F._link=F._refreshHandler=F.checkAllHandler=null},options:{name:"FilterMultiCheck",itemTemplate:function(H){var K=H.field;var J=H.format;var G=H.valueField;var F=H.mobile;var I="";if(G===l){G=K}if(H.type=="date"){I=":yyyy-MM-ddTHH:mm:sszzz"}return"<li class='k-item'><label class='k-label'><input type='checkbox' class='"+(F?"k-check":"")+"'  value='#:kendo.format('{0"+I+"}',"+G+")#'/>#:kendo.format('"+(J?J:"{0}")+"', "+K+")#</label></li>"},checkAll:true,appendToElement:false,messages:{checkAll:"Select All",clear:"Clear",filter:"Filter"},forceUnique:true,animations:{left:"slide",right:"slide:right"}},events:[c,A]});i.extend(s.fn,{_click:p.fn._click,_keydown:p.fn._keydown,_reset:p.fn._reset,_closeForm:p.fn._closeForm,clear:p.fn.clear,_merge:p.fn._merge});t.plugin(p);t.plugin(s)})(window.kendo.jQuery);(function(K,r){var N=window.kendo,V=N.ui,i=N._activeElement,ag=(N.support.touch&&N.support.mobileOS),U="mousedown",Y="click",o=K.extend,ae=K.proxy,ad=K.each,f=N.template,G=N.keys,e=V.Widget,A=/^(ul|a|div)$/i,P=".kendoMenu",Q="img",ac="open",q="k-menu",F="k-link",T="k-last",ai="close",R="timer",v="k-first",m="k-image",B="select",k="zIndex",p="activate",ab="deactivate",E="touchstart"+P+" MSPointerDown"+P+" pointerdown"+P,O=N.support.pointers,Z=N.support.msPointers,al=Z||O,g=O?"pointerover":(Z?"MSPointerOver":"mouseenter"),u=O?"pointerout":(Z?"MSPointerOut":"mouseleave"),M=ag||al,ak=K(document.documentElement),S="kendoPopup",s="k-state-default",aj="k-state-hover",l="k-state-focused",j="k-state-disabled",h=".k-menu",X=".k-menu-group",af=X+",.k-animation-container",b=":not(.k-list) > .k-item",y=".k-item.k-state-disabled",n=".k-item:not(.k-state-disabled)",d=".k-item:not(.k-state-disabled) > .k-link",L=":not(.k-item.k-separator)",w=L+":eq(0)",D=L+":last",H="> div:not(.k-animation-container,.k-list-container)",W={"2":1,touch:1},a={content:f("<div class='k-content #= groupCssClass() #' tabindex='-1'>#= content(item) #</div>"),group:f("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:f("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:f("<li class='#= wrapperCssClass(group, item) #' role='menuitem' #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:f("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:f("<span class='#= arrowClass(item, group) #'></span>"),sprite:f("<span class='k-sprite #= spriteCssClass #'></span>"),empty:f("")},x={wrapperCssClass:function(ap,ao){var am="k-item",an=ao.index;if(ao.enabled===false){am+=" k-state-disabled"}else{am+=" k-state-default"}if(ap.firstLevel&&an===0){am+=" k-first"}if(an==ap.length-1){am+=" k-last"}if(ao.cssClass){am+=" "+ao.cssClass}return am},textClass:function(){return F},textAttributes:function(am){return am.url?" href='"+am.url+"'":""},arrowClass:function(an,ao){var am="k-icon";if(ao.horizontal){am+=" k-i-arrow-s"}else{am+=" k-i-arrow-e"}return am},text:function(am){return am.encoded===false?am.text:N.htmlEncode(am.text)},tag:function(am){return am.url?"a":"span"},groupAttributes:function(am){return am.expanded!==true?" style='display:none'":""},groupCssClass:function(){return"k-group k-menu-group"},content:function(am){return am.content?am.content:"&nbsp;"}};function J(an,am){an=an.split(" ")[!am+0]||an;return an.replace("top","up").replace("bottom","down")}function ah(aq,an,ap){aq=aq.split(" ")[!an+0]||aq;var ao={origin:["bottom",(ap?"right":"left")],position:["top",(ap?"right":"left")]},am=/left|right/.test(aq);if(am){ao.origin=["top",aq];ao.position[1]=N.directions[aq].reverse}else{ao.origin[0]=aq;ao.position[0]=N.directions[aq].reverse}ao.origin=ao.origin.join(" ");ao.position=ao.position.join(" ");return ao}function I(am,ao){try{return K.contains(am,ao)}catch(an){return false}}function c(am){am=K(am);am.addClass("k-item").children(Q).addClass(m);am.children("a").addClass(F).children(Q).addClass(m);am.filter(":not([disabled])").addClass(s);am.filter(".k-separator:empty").append("&nbsp;");am.filter("li[disabled]").addClass(j).removeAttr("disabled").attr("aria-disabled",true);if(!am.filter("[role]").length){am.attr("role","menuitem")}if(!am.children("."+F).length){am.contents().filter(function(){return(!this.nodeName.match(A)&&!(this.nodeType==3&&!K.trim(this.nodeValue)))}).wrapAll("<span class='"+F+"'/>")}t(am);z(am)}function t(am){am=K(am);am.find("> .k-link > [class*=k-i-arrow]:not(.k-sprite)").remove();am.filter(":has(.k-menu-group)").children(".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))").each(function(){var ao=K(this),an=ao.parent().parent();ao.append("<span class='k-icon "+(an.hasClass(q+"-horizontal")?"k-i-arrow-s":"k-i-arrow-e")+"'/>")})}function z(am){am=K(am);am.filter(".k-first:not(:first-child)").removeClass(v);am.filter(".k-last:not(:last-child)").removeClass(T);am.filter(":first-child").addClass(v);am.filter(":last-child").addClass(T)}var aa=e.extend({init:function(an,am){var ao=this;e.fn.init.call(ao,an,am);an=ao.wrapper=ao.element;am=ao.options;ao._initData(am);ao._updateClasses();ao._animations(am);ao.nextItemZIndex=100;ao._tabindex();ao._focusProxy=ae(ao._focusHandler,ao);an.on(E,n,ao._focusProxy).on(Y+P,y,false).on(Y+P,n,ae(ao._click,ao)).on("keydown"+P,ae(ao._keydown,ao)).on("focus"+P,ae(ao._focus,ao)).on("focus"+P,".k-content",ae(ao._focus,ao)).on(E+" "+U+P,".k-content",ae(ao._preventClose,ao)).on("blur"+P,ae(ao._removeHoverItem,ao)).on("blur"+P,"[tabindex]",ae(ao._checkActiveElement,ao)).on(g+P,n,ae(ao._mouseenter,ao)).on(u+P,n,ae(ao._mouseleave,ao)).on(g+P+" "+u+P+" "+U+P+" "+Y+P,d,ae(ao._toggleHover,ao));if(am.openOnClick){ao.clicked=false;ao._documentClickHandler=ae(ao._documentClick,ao);K(document).click(ao._documentClickHandler)}an.attr("role","menubar");if(an[0].id){ao._ariaId=N.format("{0}_mn_active",an[0].id)}N.notify(ao)},events:[ac,ai,p,ab,B],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:false,closeOnClick:true,hoverDelay:100,popupCollision:r},_initData:function(am){var an=this;if(am.dataSource){an.angular("cleanup",function(){return{elements:an.element.children()}});an.element.empty();an.append(am.dataSource,an.element);an.angular("compile",function(){return{elements:an.element.children()}})}},setOptions:function(am){var an=this.options.animation;this._animations(am);am.animation=o(true,an,am.animation);if("dataSource" in am){this._initData(am)}this._updateClasses();e.fn.setOptions.call(this,am)},destroy:function(){var am=this;e.fn.destroy.call(am);am.element.off(P);if(am._documentClickHandler){K(document).unbind("click",am._documentClickHandler)}N.destroy(am.element)},enable:function(an,am){this._toggleDisabled(an,am!==false);return this},disable:function(am){this._toggleDisabled(am,false);return this},append:function(ao,am){am=this.element.find(am);var an=this._insert(ao,am,am.length?am.find("> .k-menu-group, > .k-animation-container > .k-menu-group"):null);ad(an.items,function(){an.group.append(this);t(this)});t(am);z(an.group.find(".k-first, .k-last").add(an.items));return this},insertBefore:function(ao,am){am=this.element.find(am);var an=this._insert(ao,am,am.parent());ad(an.items,function(){am.before(this);t(this);z(this)});z(am);return this},insertAfter:function(ao,am){am=this.element.find(am);var an=this._insert(ao,am,am.parent());ad(an.items,function(){am.after(this);t(this);z(this)});z(am);return this},_insert:function(au,an,ar){var at=this,ao,am;if(!an||!an.length){ar=at.element}var aq=K.isPlainObject(au),ap={firstLevel:ar.hasClass(q),horizontal:ar.hasClass(q+"-horizontal"),expanded:true,length:ar.children().length};if(an&&!ar.length){ar=K(aa.renderGroup({group:ap})).appendTo(an)}if(aq||K.isArray(au)){ao=K(K.map(aq?[au]:au,function(aw,av){if(typeof aw==="string"){return K(aw).get()}else{return K(aa.renderItem({group:ap,item:o(aw,{index:av})})).get()}}))}else{if(typeof au=="string"&&au.charAt(0)!="<"){ao=at.element.find(au)}else{ao=K(au)}am=ao.find("> ul").addClass("k-menu-group").attr("role","menu");ao=ao.filter("li");ao.add(am.find("> li")).each(function(){c(this)})}return{items:ao,group:ar}},remove:function(an){an=this.element.find(an);var ap=this,ao=an.parentsUntil(ap.element,b),aq=an.parent("ul:not(.k-menu)");an.remove();if(aq&&!aq.children(b).length){var am=aq.parent(".k-animation-container");if(am.length){am.remove()}else{aq.remove()}}if(ao.length){ao=ao.eq(0);t(ao);z(ao)}return ap},open:function(ap){var aq=this,ao=aq.options,am=ao.orientation=="horizontal",ar=ao.direction,an=N.support.isRtl(aq.wrapper);ap=aq.element.find(ap);if(/^(top|bottom|default)$/.test(ar)){if(an){ar=am?(ar+" left").replace("default","bottom"):"left"}else{ar=am?(ar+" right").replace("default","bottom"):"right"}}ap.siblings().find(">.k-popup:visible,>.k-animation-container>.k-popup:visible").each(function(){var at=K(this).data("kendoPopup");if(at){at.close()}});ap.each(function(){var at=K(this);clearTimeout(at.data(R));at.data(R,setTimeout(function(){var az=at.find(".k-menu-group:first:hidden"),av;if(az[0]&&aq._triggerEvent({item:at[0],type:ac})===false){if(!az.find(".k-menu-group")[0]&&az.children(".k-item").length>1){var au=K(window).height(),ay=function(){az.css({maxHeight:au-(az.outerHeight()-az.height())-N.getShadows(az).bottom,overflow:"auto"})};if(N.support.browser.msie&&N.support.browser.version<=7){setTimeout(ay,0)}else{ay()}}else{az.css({maxHeight:"",overflow:""})}at.data(k,at.css(k));at.css(k,aq.nextItemZIndex++);av=az.data(S);var aC=at.parent().hasClass(q),aw=aC&&am,aB=ah(ar,aC,an),ax=ao.animation.open.effects,aA=ax!==r?ax:"slideIn:"+J(ar,aC);if(!av){av=az.kendoPopup({activate:function(){aq._triggerEvent({item:this.wrapper.parent(),type:p})},deactivate:function(aD){aD.sender.element.removeData("targetTransform").css({opacity:""});aq._triggerEvent({item:this.wrapper.parent(),type:ab})},origin:aB.origin,position:aB.position,collision:ao.popupCollision!==r?ao.popupCollision:(aw?"fit":"fit flip"),anchor:at,appendTo:at,animation:{open:o(true,{effects:aA},ao.animation.open),close:ao.animation.close},close:function(aE){var aD=aE.sender.wrapper.parent();if(!aq._triggerEvent({item:aD[0],type:ai})){aD.css(k,aD.data(k));aD.removeData(k);if(ag){aD.removeClass(aj);aq._removeHoverItem()}}else{aE.preventDefault()}}}).data(S)}else{av=az.data(S);av.options.origin=aB.origin;av.options.position=aB.position;av.options.animation.open.effects=aA}az.removeAttr("aria-hidden");av.open()}},aq.options.hoverDelay))});return aq},close:function(am,ap){var ao=this,an=ao.element;am=an.find(am);if(!am.length){am=an.find(">.k-item")}am.each(function(){var aq=K(this);if(!ap&&ao._isRootItem(aq)){ao.clicked=false}clearTimeout(aq.data(R));aq.data(R,setTimeout(function(){var ar=aq.find(".k-menu-group:not(.k-list-container):not(.k-calendar-container):first:visible").data(S);if(ar){ar.close();ar.element.attr("aria-hidden",true)}},ao.options.hoverDelay))});return ao},_toggleDisabled:function(am,an){this.element.find(am).each(function(){K(this).toggleClass(s,an).toggleClass(j,!an).attr("aria-disabled",!an)})},_toggleHover:function(ao){var an=K(N.eventTarget(ao)||ao.target).closest(b),am=ao.type==g||U.indexOf(ao.type)!==-1;if(!an.parents("li."+j).length){an.toggleClass(aj,am||ao.type=="mousedown"||ao.type=="click")}this._removeHoverItem()},_preventClose:function(){if(!this.options.closeOnClick){this._closurePrevented=true}},_checkActiveElement:function(ap){var an=this,am=K(ap?ap.currentTarget:this._hoverItem()),ao=an._findRootParent(am)[0];if(!this._closurePrevented){setTimeout(function(){if(!document.hasFocus()||(!I(ao,N._activeElement())&&ap&&!I(ao,ap.currentTarget))){an.close(ao)}},0)}this._closurePrevented=false},_removeHoverItem:function(){var am=this._hoverItem();if(am&&am.hasClass(l)){am.removeClass(l);this._oldHoverItem=null}},_updateClasses:function(){var ao=this.element,am=".k-menu-init div ul",an;ao.removeClass("k-menu-horizontal k-menu-vertical");ao.addClass("k-widget k-reset k-header k-menu-init "+q).addClass(q+"-"+this.options.orientation);ao.find("li > ul").filter(function(){return !N.support.matchesSelector.call(this,am)}).addClass("k-group k-menu-group").attr("role","menu").attr("aria-hidden",ao.is(":visible")).end().find("li > div").addClass("k-content").attr("tabindex","-1");an=ao.find("> li,.k-menu-group > li");ao.removeClass("k-menu-init");an.each(function(){c(this)})},_mouseenter:function(ap){var ao=this,an=K(ap.currentTarget),am=(an.children(".k-animation-container").length||an.children(X).length);if(ap.delegateTarget!=an.parents(h)[0]){return}if((!ao.options.openOnClick||ao.clicked)&&!ag&&!((O||Z)&&ap.originalEvent.pointerType in W&&ao._isRootItem(an.closest(b)))){if(!I(ap.currentTarget,ap.relatedTarget)&&am){ao.open(an)}}if(ao.options.openOnClick&&ao.clicked||M){an.siblings().each(ae(function(aq,ar){ao.close(ar,true)},ao))}},_mouseleave:function(ap){var ao=this,an=K(ap.currentTarget),am=(an.children(".k-animation-container").length||an.children(X).length);if(an.parentsUntil(".k-animation-container",".k-list-container,.k-calendar-container")[0]){ap.stopImmediatePropagation();return}if(!ao.options.openOnClick&&!ag&&!((O||Z)&&ap.originalEvent.pointerType in W)&&!I(ap.currentTarget,ap.relatedTarget||ap.target)&&am&&!I(ap.currentTarget,N._activeElement())){ao.close(an)}},_click:function(aA){var au=this,aw,ap=au.options,aE=K(N.eventTarget(aA)),an=aE[0]?aE[0].nodeName.toUpperCase():"",ax=(an=="INPUT"||an=="SELECT"||an=="BUTTON"||an=="LABEL"),at=aE.closest("."+F),ao=aE.closest(b),ay=at.attr("href"),az,aB,aq=aE.attr("href"),aD=K("<a href='#' />").attr("href"),av=(!!ay&&ay!==aD),aC=av&&!!ay.match(/^#/),ar=(!!aq&&aq!==aD),am=(ap.openOnClick&&aB&&au._isRootItem(ao));if(aE.closest(H,ao[0]).length){return}if(ao.hasClass(j)){aA.preventDefault();return}if(!aA.handled&&au._triggerEvent({item:ao[0],type:B})&&!ax){aA.preventDefault()}aA.handled=true;az=ao.children(af);aB=az.is(":visible");if(ap.closeOnClick&&(!av||aC)&&(!az.length||am)){ao.removeClass(aj).css("height");au._oldHoverItem=au._findRootParent(ao);au.close(at.parentsUntil(au.element,b));au.clicked=false;if("MSPointerUp".indexOf(aA.type)!=-1){aA.preventDefault()}return}if(av&&aA.enterKey){at[0].click()}if((!au._isRootItem(ao)||!ap.openOnClick)&&!N.support.touch&&!((O||Z)&&au._isRootItem(ao.closest(b)))){return}if(!av&&!ax&&!ar){aA.preventDefault()}au.clicked=true;aw=az.is(":visible")?ai:ac;if(!ap.closeOnClick&&aw==ai){return}au[aw](ao)},_documentClick:function(am){if(I(this.element[0],am.target)){return}this.clicked=false},_focus:function(aq){var an=this,ap=aq.target,am=an._hoverItem(),ao=i();if(ap!=an.wrapper[0]&&!K(ap).is(":kendoFocusable")){aq.stopPropagation();K(ap).closest(".k-content").closest(".k-menu-group").closest(".k-item").addClass(l);an.wrapper.focus();return}if(ao===aq.currentTarget){if(am.length){an._moveHover([],am)}else{if(!an._oldHoverItem){an._moveHover([],an.wrapper.children().first())}}}},_keydown:function(au){var ar=this,ap=au.keyCode,aq=ar._oldHoverItem,at,an,am,ao=N.support.isRtl(ar.wrapper);if(au.target!=au.currentTarget&&ap!=G.ESC){return}if(!aq){aq=ar._oldHoverItem=ar._hoverItem()}an=ar._itemBelongsToVertival(aq);am=ar._itemHasChildren(aq);if(ap==G.RIGHT){at=ar[ao?"_itemLeft":"_itemRight"](aq,an,am)}else{if(ap==G.LEFT){at=ar[ao?"_itemRight":"_itemLeft"](aq,an,am)}else{if(ap==G.DOWN){at=ar._itemDown(aq,an,am)}else{if(ap==G.UP){at=ar._itemUp(aq,an,am)}else{if(ap==G.ESC){at=ar._itemEsc(aq,an)}else{if(ap==G.ENTER||ap==G.SPACEBAR){at=aq.children(".k-link");if(at.length>0){ar._click({target:at[0],preventDefault:function(){},enterKey:true});ar._moveHover(aq,ar._findRootParent(aq))}}else{if(ap==G.TAB){at=ar._findRootParent(aq);ar._moveHover(aq,at);ar._checkActiveElement();return}}}}}}}if(at&&at[0]){au.preventDefault();au.stopPropagation()}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(an){var am=this.wrapper.hasClass("k-menu-vertical");if(!an.length){return am}return an.parent().hasClass("k-menu-group")||am},_itemHasChildren:function(am){if(!am.length){return false}return am.children("ul.k-menu-group, div.k-animation-container").length>0},_moveHover:function(ao,am){var an=this,ap=an._ariaId;if(ao.length&&am.length){ao.removeClass(l)}if(am.length){if(am[0].id){ap=am[0].id}am.addClass(l);an._oldHoverItem=am;if(ap){an.element.removeAttr("aria-activedescendant");K("#"+ap).removeAttr("id");am.attr("id",ap);an.element.attr("aria-activedescendant",ap)}}},_findRootParent:function(am){if(this._isRootItem(am)){return am}else{return am.parentsUntil(h,"li.k-item").last()}},_isRootItem:function(am){return am.parent().hasClass(q)},_itemRight:function(ar,ap,ao){var aq=this,an,am;if(ar.hasClass(j)){return}if(!ap){an=ar.nextAll(w);if(!an.length){an=ar.prevAll(D)}}else{if(ao){aq.open(ar);an=ar.find(".k-menu-group").children().first()}else{if(aq.options.orientation=="horizontal"){am=aq._findRootParent(ar);aq.close(am);an=am.nextAll(w)}}}if(an&&!an.length){an=aq.wrapper.children(".k-item").first()}else{if(!an){an=[]}}aq._moveHover(ar,an);return an},_itemLeft:function(ap,an){var ao=this,am;if(!an){am=ap.prevAll(w);if(!am.length){am=ap.nextAll(D)}}else{am=ap.parent().closest(".k-item");ao.close(am);if(ao._isRootItem(am)&&ao.options.orientation=="horizontal"){am=am.prevAll(w)}}if(!am.length){am=ao.wrapper.children(".k-item").last()}ao._moveHover(ap,am);return am},_itemDown:function(aq,ao,an){var ap=this,am;if(!ao){if(!an||aq.hasClass(j)){return}else{ap.open(aq);am=aq.find(".k-menu-group").children().first()}}else{am=aq.nextAll(w)}if(!am.length&&aq.length){am=aq.parent().children().first()}else{if(!aq.length){am=ap.wrapper.children(".k-item").first()}}ap._moveHover(aq,am);return am},_itemUp:function(ap,an){var ao=this,am;if(!an){return}else{am=ap.prevAll(w)}if(!am.length&&ap.length){am=ap.parent().children().last()}else{if(!ap.length){am=ao.wrapper.children(".k-item").last()}}ao._moveHover(ap,am);return am},_itemEsc:function(ap,an){var ao=this,am;if(!an){return ap}else{am=ap.parent().closest(".k-item");ao.close(am);ao._moveHover(ap,am)}return am},_triggerEvent:function(an){var am=this;return am.trigger(an.type,{type:an.type,item:an.item})},_focusHandler:function(ao){var an=this,am=K(N.eventTarget(ao)).closest(b);setTimeout(function(){an._moveHover([],am);if(am.children(".k-content")[0]){am.parent().closest(".k-item").removeClass(l)}},200)},_animations:function(am){if(am&&("animation" in am)&&!am.animation){am.animation={open:{effects:{}},close:{hide:true,effects:{}}}}}});o(aa,{renderItem:function(am){am=o({menu:{},group:{}},am);var ao=a.empty,an=am.item;return a.item(o(am,{image:an.imageUrl?a.image:ao,sprite:an.spriteCssClass?a.sprite:ao,itemWrapper:a.itemWrapper,renderContent:aa.renderContent,arrow:an.items||an.content?a.arrow:ao,subGroup:aa.renderGroup},x))},renderGroup:function(am){return a.group(o({renderItems:function(ap){var ar="",aq=0,ao=ap.items,an=ao?ao.length:0,at=o({length:an},ap.group);for(;aq<an;aq++){ar+=aa.renderItem(o(ap,{group:at,item:o({index:aq},ao[aq])}))}return ar}},am,x))},renderContent:function(am){return a.content(o(am,x))}});var C=aa.extend({init:function(an,am){var ao=this;aa.fn.init.call(ao,an,am);ao.target=K(ao.options.target);ao._popup();ao._wire()},options:{name:"ContextMenu",filter:null,showOn:"contextmenu",orientation:"vertical",alignToAnchor:false,target:"body"},events:[ac,ai,p,ab,B],setOptions:function(am){var an=this;aa.fn.setOptions.call(an,am);an.target.off(an.showOn+P,an._showProxy);if(an.userEvents){an.userEvents.destroy()}an.target=K(an.options.target);if(am.orientation&&an.popup.wrapper[0]){an.popup.element.unwrap()}an._wire();aa.fn.setOptions.call(this,am)},destroy:function(){var am=this;am.target.off(am.options.showOn+P);ak.off(N.support.mousedown+P,am._closeProxy);if(am.userEvents){am.userEvents.destroy()}aa.fn.destroy.call(am)},open:function(am,ao){var an=this;am=K(am)[0];if(I(an.element[0],K(am)[0])){aa.fn.open.call(an,am)}else{if(an._triggerEvent({item:an.element,type:ac})===false){if(an.popup.visible()&&an.options.filter){an.popup.close(true)}if(ao!==r){an.popup.wrapper.hide();an.popup.open(am,ao)}else{an.popup.options.anchor=(am?am:an.popup.anchor)||an.target;an.popup.open()}ak.off(an.popup.downEvent,an.popup._mousedownProxy);ak.on(N.support.mousedown+P,an._closeProxy)}}return an},close:function(){var am=this;if(I(am.element[0],K(arguments[0])[0])){aa.fn.close.call(am,arguments[0])}else{if(am.popup.visible()){if(am._triggerEvent({item:am.element,type:ai})===false){am.popup.close();ak.off(N.support.mousedown+P,am._closeProxy);am.unbind(B,am._closeTimeoutProxy)}}}},_showHandler:function(ap){var ao=ap,aq,an=this,am=an.options;if(ap.event){ao=ap.event;ao.pageX=ap.x.location;ao.pageY=ap.y.location}if(I(an.element[0],ap.relatedTarget||ap.target)){return}an._eventOrigin=ao;ao.preventDefault();ao.stopImmediatePropagation();an.element.find("."+l).removeClass(l);if((am.filter&&N.support.matchesSelector.call(ao.currentTarget,am.filter))||!am.filter){if(am.alignToAnchor){an.open(ao.currentTarget)}else{an.popup.options.anchor=ao.currentTarget;if(an._targetChild){aq=an.target.offset();an.open(ao.pageX-aq.left,ao.pageY-aq.top)}else{an.open(ao.pageX,ao.pageY)}}}},_closeHandler:function(at){var aq=this,an=aq.options,ar=K(at.relatedTarget||at.target),ap=ar.closest(aq.target.selector)[0]==aq.target[0],ao=ar.closest(n).children(af),au=I(aq.element[0],ar[0]);aq._eventOrigin=at;var am=at.which!==3;if(aq.popup.visible()&&((am&&ap)||!ap)&&((aq.options.closeOnClick&&!ao[0]&&au)||!au)){if(au){this.unbind(B,this._closeTimeoutProxy);aq.bind(B,aq._closeTimeoutProxy)}else{aq.close()}}},_wire:function(){var an=this,am=an.options,ao=an.target;an._showProxy=ae(an._showHandler,an);an._closeProxy=ae(an._closeHandler,an);an._closeTimeoutProxy=ae(an.close,an);if(ao[0]){if(N.support.mobileOS&&am.showOn=="contextmenu"){an.userEvents=new N.UserEvents(ao,{filter:am.filter,allowSelection:false});ao.on(am.showOn+P,false);an.userEvents.bind("hold",an._showProxy)}else{if(am.filter){ao.on(am.showOn+P,am.filter,an._showProxy)}else{ao.on(am.showOn+P,an._showProxy)}}}},_triggerEvent:function(ap){var ao=this,an=K(ao.popup.options.anchor)[0],am=ao._eventOrigin;ao._eventOrigin=r;return ao.trigger(ap.type,o({type:ap.type,item:ap.item||this.element[0],target:an},am?{event:am}:{}))},_popup:function(){var am=this;am._triggerProxy=ae(am._triggerEvent,am);am.popup=am.element.addClass("k-context-menu").kendoPopup({anchor:am.target||"body",copyAnchorStyles:am.options.copyAnchorStyles,collision:am.options.popupCollision||"fit",animation:am.options.animation,activate:am._triggerProxy,deactivate:am._triggerProxy}).data("kendoPopup");am._targetChild=I(am.target[0],am.popup.element[0])}});V.plugin(aa);V.plugin(C)})(window.kendo.jQuery);(function(h,i){var q=window.kendo,p=q.ui,u=h.proxy,y=h.extend,m=h.grep,z=h.map,x=h.inArray,k="k-state-selected",w="asc",f="desc",o="change",c="init",e="select",r="kendoPopup",a="kendoFilterMenu",l="kendoMenu",v=".kendoColumnMenu",d=p.Widget;function t(B){return h.trim(B).replace(/&nbsp;/gi,"")}function b(E,F){var D={};var C,B,G;for(C=0,B=E.length;C<B;C++){G=E[C];D[G[F]]=G}return D}function j(D){var C=[];for(var B=0;B<D.length;B++){if(!D[B].columns){C.push(D[B]);continue}C=C.concat(j(D[B].columns))}return C}var g=d.extend({init:function(C,B){var E=this,D;d.fn.init.call(E,C,B);C=E.element;B=E.options;E.owner=B.owner;E.dataSource=B.dataSource;E.field=C.attr(q.attr("field"));E.title=C.attr(q.attr("title"));D=C.find(".k-header-column-menu");if(!D[0]){D=C.addClass("k-with-icon").prepend('<a class="k-header-column-menu" href="#"><span class="k-icon k-i-arrowhead-s"/></a>').find(".k-header-column-menu")}E.link=D.attr("tabindex",-1).on("click"+v,u(E._click,E));E.wrapper=h('<div class="k-column-menu"/>')},_init:function(){var B=this;B.pane=B.options.pane;if(B.pane){B._isMobile=true}if(B._isMobile){B._createMobileMenu()}else{B._createMenu()}B._angularItems("compile");B._refreshHandler=u(B.refresh,B);B.dataSource.bind(o,B._refreshHandler);B._sort();B._columns();B._filter();B._lockColumns();B.trigger(c,{field:B.field,container:B.wrapper})},events:[c],options:{name:"ColumnMenu",messages:{sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filter:"Filter",columns:"Columns",done:"Done",settings:"Column Settings",lock:"Lock",unlock:"Unlock"},filter:"",columns:true,sortable:true,filterable:true,animations:{left:"slide"}},_createMenu:function(){var C=this,B=C.options;C.wrapper.html(q.template(A)({ns:q.ns,messages:B.messages,sortable:B.sortable,filterable:B.filterable,columns:C._ownerColumns(),showColumns:B.columns,lockedColumns:B.lockedColumns}));C.popup=C.wrapper[r]({anchor:C.link,open:u(C._open,C),activate:u(C._activate,C),close:function(){if(C.options.closeCallback){C.options.closeCallback(C.element)}}}).data(r);C.menu=C.wrapper.children()[l]({orientation:"vertical",closeOnClick:false}).data(l)},_createMobileMenu:function(){var D=this,B=D.options;var C=q.template(s)({ns:q.ns,field:D.field,title:D.title||D.field,messages:B.messages,sortable:B.sortable,filterable:B.filterable,columns:D._ownerColumns(),showColumns:B.columns,lockedColumns:B.lockedColumns});D.view=D.pane.append(C);D.wrapper=D.view.element.find(".k-column-menu");D.menu=new n(D.wrapper.children(),{pane:D.pane});D.view.element.on("click",".k-done",function(E){D.close();E.preventDefault()});if(D.options.lockedColumns){D.view.bind("show",function(){D._updateLockedColumns()})}},_angularItems:function(C){var B=this;B.angular(C,function(){var D=B.wrapper.find(".k-columns-item input["+q.attr("field")+"]").map(function(){return h(this).closest("li")});var E=z(B._ownerColumns(),function(F){return{column:F._originalObject}});return{elements:D,data:E}})},destroy:function(){var B=this;B._angularItems("cleanup");d.fn.destroy.call(B);if(B.filterMenu){B.filterMenu.destroy()}if(B._refreshHandler){B.dataSource.unbind(o,B._refreshHandler)}if(B.options.columns&&B.owner){if(B._updateColumnsMenuHandler){B.owner.unbind("columnShow",B._updateColumnsMenuHandler);B.owner.unbind("columnHide",B._updateColumnsMenuHandler)}if(B._updateColumnsLockedStateHandler){B.owner.unbind("columnLock",B._updateColumnsLockedStateHandler);B.owner.unbind("columnUnlock",B._updateColumnsLockedStateHandler)}}if(B.menu){B.menu.element.off(v);B.menu.destroy()}B.wrapper.off(v);if(B.popup){B.popup.destroy()}if(B.view){B.view.purge()}B.link.off(v);B.owner=null;B.wrapper=null;B.element=null},close:function(){this.menu.close();if(this.popup){this.popup.close();this.popup.element.off("keydown"+v)}},_click:function(C){C.preventDefault();C.stopPropagation();var B=this.options;if(B.filter&&this.element.is(!B.filter)){return}if(!this.popup&&!this.pane){this._init()}if(this._isMobile){this.pane.navigate(this.view,this.options.animations.left)}else{this.popup.toggle()}},_open:function(){var B=this;h(".k-column-menu").not(B.wrapper).each(function(){h(this).data(r).close()});B.popup.element.on("keydown"+v,function(C){if(C.keyCode==q.keys.ESC){B.close()}});if(B.options.lockedColumns){B._updateLockedColumns()}},_activate:function(){this.menu.element.focus()},_ownerColumns:function(){var B=j(this.owner.columns),C=m(B,function(E){var D=true,F=t(E.title||"");if(E.menu===false||(!E.field&&!F.length)){D=false}return D});return z(C,function(D){return{originalField:D.field,field:D.field||D.title,title:D.title||D.field,hidden:D.hidden,index:x(D,B),locked:!!D.locked,_originalObject:D}})},_sort:function(){var B=this;if(B.options.sortable){B.refresh();B.menu.bind(e,function(E){var D=h(E.item),C;if(D.hasClass("k-sort-asc")){C=w}else{if(D.hasClass("k-sort-desc")){C=f}}if(!C){return}D.parent().find(".k-sort-"+(C==w?f:w)).removeClass(k);B._sortDataSource(D,C);B.close()})}},_sortDataSource:function(J,E){var H=this,G=H.options.sortable,C=G.compare===null?i:G.compare,B=H.dataSource,I,D,F=B.sort()||[];if(J.hasClass(k)&&G&&G.allowUnsort!==false){J.removeClass(k);E=i}else{J.addClass(k)}if(G.mode==="multiple"){for(I=0,D=F.length;I<D;I++){if(F[I].field===H.field){F.splice(I,1);break}}F.push({field:H.field,dir:E,compare:C})}else{F=[{field:H.field,dir:E,compare:C}]}B.sort(F)},_columns:function(){var B=this;if(B.options.columns){B._updateColumnsMenu();B._updateColumnsMenuHandler=u(B._updateColumnsMenu,B);B.owner.bind(["columnHide","columnShow"],B._updateColumnsMenuHandler);B._updateColumnsLockedStateHandler=u(B._updateColumnsLockedState,B);B.owner.bind(["columnUnlock","columnLock"],B._updateColumnsLockedStateHandler);B.menu.bind(e,function(I){var G=h(I.item),C,D,F,E=j(B.owner.columns),H;if(B._isMobile){I.preventDefault()}if(!G.parent().closest("li.k-columns-item")[0]){return}C=G.find(":checkbox");if(C.attr("disabled")){return}H=C.attr(q.attr("field"));F=m(E,function(J){return J.field==H||J.title==H})[0];if(F.hidden===true){B.owner.showColumn(F)}else{B.owner.hideColumn(F)}})}},_updateColumnsMenu:function(){var J,C,H,I,F;var E=q.attr("field"),L=q.attr("locked"),D=m(this._ownerColumns(),function(N){return !N.hidden}),B=m(D,function(N){return N.originalField}),K=m(B,function(N){return N.locked===true}).length,M=m(B,function(N){return N.locked!==true}).length;D=z(D,function(N){return N.field});var G=this.wrapper.find(".k-columns-item input["+E+"]").prop("disabled",false).prop("checked",false);for(J=0,C=G.length;J<C;J++){H=G.eq(J);F=H.attr(L)==="true";I=false;if(x(H.attr(E),D)>-1){I=true;H.prop("checked",I)}if(I){if(K==1&&F){H.prop("disabled",true)}if(M==1&&!F){H.prop("disabled",true)}}}},_updateColumnsLockedState:function(){var I,B,H,F,C;var E=q.attr("field");var J=q.attr("locked");var D=b(this._ownerColumns(),"field");var G=this.wrapper.find(".k-columns-item input[type=checkbox]");for(I=0,B=G.length;I<B;I++){H=G.eq(I);C=D[H.attr(E)];if(C){H.attr(J,C.locked)}}this._updateColumnsMenu()},_filter:function(){var C=this,D=a,B=C.options;if(B.filterable!==false){if(B.filterable.multi){D="kendoFilterMultiCheck";if(B.filterable.dataSource){B.filterable.checkSource=B.filterable.dataSource;delete B.filterable.dataSource}}C.filterMenu=C.wrapper.find(".k-filterable")[D](y(true,{},{appendToElement:true,dataSource:B.dataSource,values:B.values,field:C.field,title:C.title},B.filterable)).data(D);if(C._isMobile){C.menu.bind(e,function(F){var E=h(F.item);if(E.hasClass("k-filter-item")){C.pane.navigate(C.filterMenu.view,C.options.animations.left)}})}}},_lockColumns:function(){var B=this;B.menu.bind(e,function(D){var C=h(D.item);if(C.hasClass("k-lock")){B.owner.lockColumn(B.field);B.close()}else{if(C.hasClass("k-unlock")){B.owner.unlockColumn(B.field);B.close()}}})},_updateLockedColumns:function(){var H=this.field;var C=this.owner.columns;var E=m(C,function(I){return I.field==H||I.title==H})[0];if(!E){return}var B=E.locked===true;var G=m(C,function(I){return !I.hidden&&((I.locked&&B)||(!I.locked&&!B))}).length;var F=this.wrapper.find(".k-lock").removeClass("k-state-disabled");var D=this.wrapper.find(".k-unlock").removeClass("k-state-disabled");if(B||G==1){F.addClass("k-state-disabled")}if(!B||G==1){D.addClass("k-state-disabled")}this._updateColumnsLockedState()},refresh:function(){var E=this,C=E.options.dataSource.sort()||[],G,F=E.field,B,D;E.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(k);for(B=0,D=C.length;B<D;B++){G=C[B];if(F==G.field){E.wrapper.find(".k-sort-"+G.dir).addClass(k)}}E.link[E._filterExist(E.dataSource.filter())?"addClass":"removeClass"]("k-state-active")},_filterExist:function(E){var F=false;var C;if(!E){return}E=E.filters;for(var B=0,D=E.length;B<D;B++){C=E[B];if(C.field==this.field){F=true}else{if(C.filters){F=F||this._filterExist(C)}}}return F}});var A='<ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#if(showColumns || filterable){#<li class="k-separator"></li>#}##}##if(showColumns){#<li class="k-item k-columns-item"><span class="k-link"><span class="k-sprite k-i-columns"></span>${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li><input type="checkbox" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</li>#}#</ul></li>#if(filterable || lockedColumns){#<li class="k-separator"></li>#}##}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link"><span class="k-sprite k-filter"></span>${messages.filter}</span><ul><li><div class="k-filterable"></div></li></ul></li>#if(lockedColumns){#<li class="k-separator"></li>#}##}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-sprite k-i-lock"></span>${messages.lock}</span></li><li class="k-item k-unlock"><span class="k-link"><span class="k-sprite k-i-unlock"></span>${messages.unlock}</span></li>#}#</ul>';var s='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-column-menu"><div data-#=ns#role="header" class="k-header">${messages.settings}<button class="k-button k-done">#=messages.done#</button></div><div class="k-column-menu k-mobile-list"><ul><li><span class="k-link">${title}</span><ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-sprite k-i-lock"></span>${messages.lock}</span></li><li class="k-item k-unlock"><span class="k-link"><span class="k-sprite k-i-unlock"></span>${messages.unlock}</span></li>#}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link k-filterable"><span class="k-sprite k-filter"></span>${messages.filter}</span></li>#}#</ul></li>#if(showColumns){#<li class="k-columns-item"><span class="k-link">${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li class="k-item"><label class="k-label"><input type="checkbox" class="k-check" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</label></li>#}#</ul></li>#}#</ul></div></div>';var n=d.extend({init:function(C,B){d.fn.init.call(this,C,B);this.element.on("click"+v,"li.k-item:not(.k-separator):not(.k-state-disabled)","_click")},events:[e],_click:function(B){if(!h(B.target).is("[type=checkbox]")){B.preventDefault()}this.trigger(e,{item:B.currentTarget})},close:function(){this.options.pane.navigate("")},destroy:function(){d.fn.destroy.call(this);this.element.off(v)}});p.plugin(g)})(window.kendo.jQuery);(function(f,b){var j=window.kendo;var k=j.ui;var l=k.Widget;var o="dir";var d="asc";var n="single";var h="field";var g="desc";var a=".kendoColumnSorter";var c=".k-link";var m="aria-sort";var i=f.proxy;var e=l.extend({init:function(q,p){var s=this,r;l.fn.init.call(s,q,p);s._refreshHandler=i(s.refresh,s);s.dataSource=s.options.dataSource.bind("change",s._refreshHandler);r=s.element.find(c);if(!r[0]){r=s.element.wrapInner('<a class="k-link" href="#"/>').find(c)}s.link=r;s.element.on("click"+a,i(s._click,s))},options:{name:"ColumnSorter",mode:n,allowUnsort:true,compare:null,filter:""},destroy:function(){var p=this;l.fn.destroy.call(p);p.element.off(a);p.dataSource.unbind("change",p._refreshHandler);p._refreshHandler=p.element=p.link=p.dataSource=null},refresh:function(){var u=this,s=u.dataSource.sort()||[],p,t,w,q,r=u.element,v=r.attr(j.attr(h));r.removeAttr(j.attr(o));r.removeAttr(m);for(p=0,t=s.length;p<t;p++){w=s[p];if(v==w.field){r.attr(j.attr(o),w.dir)}}q=r.attr(j.attr(o));r.find(".k-i-arrow-n,.k-i-arrow-s").remove();if(q===d){f('<span class="k-icon k-i-arrow-n" />').appendTo(u.link);r.attr(m,"ascending")}else{if(q===g){f('<span class="k-icon k-i-arrow-s" />').appendTo(u.link);r.attr(m,"descending")}}},_click:function(v){var u=this,s=u.element,w=s.attr(j.attr(h)),r=s.attr(j.attr(o)),y=u.options,p=u.options.compare===null?b:u.options.compare,t=u.dataSource.sort()||[],x,q;v.preventDefault();if(y.filter&&!s.is(y.filter)){return}if(r===d){r=g}else{if(r===g&&y.allowUnsort){r=b}else{r=d}}if(y.mode===n){t=[{field:w,dir:r,compare:p}]}else{if(y.mode==="multiple"){for(x=0,q=t.length;x<q;x++){if(t[x].field===w){t.splice(x,1);break}}t.push({field:w,dir:r,compare:p})}}this.dataSource.sort(t)}});k.plugin(e)})(window.kendo.jQuery);(function(c,f){var o=window.kendo,n=o.ui,b=n.Widget,u=c.extend,e=o.support.browser.msie&&o.support.browser.version<9,a=o.isFunction,l=c.isPlainObject,t=c.inArray,m=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,s='<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>',k="change";var r=["url","email","number","date","boolean"];function h(v){v=v!=null?v:"";return v.type||c.type(v)||"string"}function p(v){v.find(":input:not(:button, ["+o.attr("role")+"=upload], ["+o.attr("skip")+"], [type=file]), select").each(function(){var w=o.attr("bind"),y=this.getAttribute(w)||"",x=this.type==="checkbox"||this.type==="radio"?"checked:":"value:",z=this.name;if(y.indexOf(x)===-1&&z){y+=(y.length?",":"")+x+z;c(this).attr(w,y)}})}function i(D){var A=(D.model.fields||D.model)[D.field],y=h(A),v=A?A.validation:{},B,C=o.attr("type"),w=o.attr("bind"),z,x={name:D.field};for(B in v){z=v[B];if(t(B,r)>=0){x[C]=B}else{if(!a(z)){x[B]=l(z)?z.value||B:z}}x[o.attr(B+"-msg")]=z.message}if(t(y,r)>=0){x[C]=y}x[w]=(y==="boolean"?"checked:":"value:")+D.field;return x}function d(x){var w,z,y,A,B,v;if(x&&x.length){v=[];for(w=0,z=x.length;w<z;w++){y=x[w];B=y.text||y.value||y;A=y.value==null?(y.text||y):y.value;v[w]={text:B,value:A}}}return v}var j={number:function(w,x){var v=i(x);c('<input type="text"/>').attr(v).appendTo(w).kendoNumericTextBox({format:x.format});c("<span "+o.attr("for")+'="'+x.field+'" class="k-invalid-msg"/>').hide().appendTo(w)},date:function(w,x){var v=i(x),y=x.format;if(y){y=o._extractFormat(y)}v[o.attr("format")]=y;c('<input type="text"/>').attr(v).appendTo(w).kendoDatePicker({format:x.format});c("<span "+o.attr("for")+'="'+x.field+'" class="k-invalid-msg"/>').hide().appendTo(w)},string:function(w,x){var v=i(x);c('<input type="text" class="k-input k-textbox"/>').attr(v).appendTo(w)},"boolean":function(w,x){var v=i(x);c('<input type="checkbox" />').attr(v).appendTo(w)},values:function(w,x){var v=i(x);c("<select "+o.attr("text-field")+'="text"'+o.attr("value-field")+'="value"'+o.attr("source")+"='"+o.stringify(d(x.values)).replace(/\'/g,"&apos;")+"'"+o.attr("role")+'="dropdownlist"/>').attr(v).appendTo(w);c("<span "+o.attr("for")+'="'+x.field+'" class="k-invalid-msg"/>').hide().appendTo(w)}};function g(w,z){var v=w?(w.validation||{}):{},y,x;for(y in v){x=v[y];if(l(x)&&x.value){x=x.value}if(a(x)){z[y]=x}}}var q=b.extend({init:function(w,v){var x=this;if(v.target){v.$angular=v.target.options.$angular}b.fn.init.call(x,w,v);x._validateProxy=c.proxy(x._validate,x);x.refresh()},events:[k],options:{name:"Editable",editors:j,clearContainer:true,errorTemplate:s},editor:function(E,w){var A=this,C=A.options.editors,G=l(E),F=G?E.field:E,y=A.options.model||{},x=G&&E.values,D=x?"values":h(w),B=G&&E.editor,z=B?E.editor:C[D],v=A.element.find("["+o.attr("container-for")+"="+F.replace(m,"\\$1")+"]");z=z?z:C.string;if(B&&typeof E.editor==="string"){z=function(H){H.append(E.editor)}}v=v.length?v:A.element;z(v,u(true,{},G?E:{field:F},{model:y}))},_validate:function(x){var v=this,z,A=x.value,D=v._validationEventInProgress,B={},y=o.attr("bind"),C=x.field.replace(m,"\\$1"),w=new RegExp("(value|checked)\\s*:\\s*"+C+"\\s*(,|$)");B[x.field]=x.value;z=c(":input["+y+'*="'+C+'"]',v.element).filter("["+o.attr("validate")+"!='false']").filter(function(E){return w.test(c(this).attr(y))});if(z.length>1){z=z.filter(function(){var E=c(this);return !E.is(":radio")||E.val()==A})}try{v._validationEventInProgress=true;if(!v.validatable.validateInput(z)||(!D&&v.trigger(k,{values:B}))){x.preventDefault()}}finally{v._validationEventInProgress=false}},end:function(){return this.validatable.validate()},destroy:function(){var v=this;v.angular("cleanup",function(){return{elements:v.element}});b.fn.destroy.call(v);v.options.model.unbind("set",v._validateProxy);o.unbind(v.element);if(v.validatable){v.validatable.destroy()}o.destroy(v.element);v.element.removeData("kendoValidator")},refresh:function(){var B=this,E,w,z=B.options.fields||[],v=B.options.clearContainer?B.element.empty():B.element,y=B.options.model||{},G={},D,H,F,x,A;if(!c.isArray(z)){z=[z]}for(E=0,w=z.length;E<w;E++){D=z[E];H=l(D);F=H?D.field:D;x=(y.fields||y)[F];g(x,G);B.editor(D,x)}if(B.options.target){B.angular("compile",function(){return{elements:v,data:[{dataItem:y}]}})}if(!w){A=y.fields||y;for(F in A){g(A[F],G)}}p(v);if(B.validatable){B.validatable.destroy()}o.bind(v,B.options.model);B.options.model.unbind("set",B._validateProxy);B.options.model.bind("set",B._validateProxy);B.validatable=new o.ui.Validator(v,{validateOnBlur:false,errorTemplate:B.options.errorTemplate||f,rules:G});var C=v.find(":kendoFocusable").eq(0).focus();if(e){C.focus()}}});n.plugin(q)})(window.kendo.jQuery);(function(x,l){var A=window.kendo,b=A.ui.Widget,i=A.ui.Draggable,aa=x.isPlainObject,d=A._activeElement,R=x.proxy,g=x.extend,P=x.each,c=A.template,N="body",a,B=".kendoWindow",w=".k-window",X=".k-window-title",y=X+"bar",q=".k-window-content",o=".k-resize-handle",k=".k-overlay",f="k-content-frame",s="k-loading",C="k-state-hover",I="k-state-focused",u="k-window-maximized",Z=":visible",Q="hidden",E="cursor",O="open",h="activate",H="deactivate",W="close",t="refresh",ab="resize",G="resizeEnd",K="dragstart",D="dragend",z="error",J="overflow",e="zIndex",V=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",U=".k-i-pin",v=".k-i-unpin",S=U+","+v,M=".k-window-titlebar .k-window-action",n=".k-window-titlebar .k-i-refresh",F=A.isLocalUrl;function L(ac){return(typeof ac!="undefined")}function T(ae,ac,ad){return Math.max(Math.min(parseInt(ae,10),ad===Infinity?ad:parseInt(ad,10)),parseInt(ac,10))}function m(ad,ac){return function(){var ag=this,ah=ag.wrapper,af=ah[0].style,ae=ag.options;if(ae.isMaximized||ae.isMinimized){return ag}ag.restoreOptions={width:af.width,height:af.height};ah.children(o).hide().end().children(y).find(V).parent().hide().eq(0).before(a.action({name:"Restore"}));ac.call(ag);if(ad=="maximize"){ag.wrapper.children(y).find(S).parent().hide()}else{ag.wrapper.children(y).find(S).parent().show()}return ag}}function r(){return !this.type||this.type.toLowerCase().indexOf("script")>=0}var j=b.extend({init:function(ag,ao){var aj=this,ac,af={},ad,al,ai,ah=false,ak,an,am=ao&&ao.actions&&!ao.actions.length,ae;b.fn.init.call(aj,ag,ao);ao=aj.options;ai=ao.position;ag=aj.element;ak=ao.content;if(am){ao.actions=[]}aj.appendTo=x(ao.appendTo);aj._animations();if(ak&&!aa(ak)){ak=ao.content={url:ak}}ag.find("script").filter(r).remove();if(!ag.parent().is(aj.appendTo)&&(ai.top===l||ai.left===l)){if(ag.is(Z)){af=ag.offset();ah=true}else{ad=ag.css("visibility");al=ag.css("display");ag.css({visibility:Q,display:""});af=ag.offset();ag.css({visibility:ad,display:al})}if(ai.top===l){ai.top=af.top}if(ai.left===l){ai.left=af.left}}if(!L(ao.visible)||ao.visible===null){ao.visible=ag.is(Z)}ac=aj.wrapper=ag.closest(w);if(!ag.is(".k-content")||!ac[0]){ag.addClass("k-window-content k-content");aj._createWindow(ag,ao);ac=aj.wrapper=ag.closest(w);aj._dimensions()}aj._position();if(ao.pinned){aj.pin(true)}if(ak){aj.refresh(ak)}if(ao.visible){aj.toFront()}an=ac.children(q);aj._tabindex(an);if(ao.visible&&ao.modal){aj._overlay(ac.is(Z)).css({opacity:0.5})}ac.on("mouseenter"+B,M,R(aj._buttonEnter,aj)).on("mouseleave"+B,M,R(aj._buttonLeave,aj)).on("click"+B,"> "+M,R(aj._windowActionHandler,aj));an.on("keydown"+B,R(aj._keydown,aj)).on("focus"+B,R(aj._focus,aj)).on("blur"+B,R(aj._blur,aj));this._resizable();this._draggable();ae=ag.attr("id");if(ae){ae=ae+"_wnd_title";ac.children(y).children(X).attr("id",ae);an.attr({role:"dialog","aria-labelledby":ae})}ac.add(ac.children(".k-resize-handle,"+y)).on("mousedown"+B,R(aj.toFront,aj));aj.touchScroller=A.touchScroller(ag);aj._resizeHandler=R(aj._onDocumentResize,aj);aj._marker=A.guid().substring(0,8);x(window).on("resize"+B+aj._marker,aj._resizeHandler);if(ao.visible){aj.trigger(O);aj.trigger(h)}A.notify(aj)},_buttonEnter:function(ac){x(ac.currentTarget).addClass(C)},_buttonLeave:function(ac){x(ac.currentTarget).removeClass(C)},_focus:function(){this.wrapper.addClass(I)},_blur:function(){this.wrapper.removeClass(I)},_dimensions:function(){var aj=this.wrapper;var ad=this.options;var af=ad.width;var ac=ad.height;var ah=ad.maxHeight;var ag=["minWidth","minHeight","maxWidth","maxHeight"];this.title(ad.title);for(var ae=0;ae<ag.length;ae++){var ai=ad[ag[ae]];if(ai&&ai!=Infinity){aj.css(ag[ae],ai)}}if(ah&&ah!=Infinity){this.element.css("maxHeight",ah)}if(af){if(af.toString().indexOf("%")>0){aj.width(af)}else{aj.width(T(af,ad.minWidth,ad.maxWidth))}}if(ac){if(ac.toString().indexOf("%")>0){aj.height(ac)}else{aj.height(T(ac,ad.minHeight,ad.maxHeight))}}if(!ad.visible){aj.hide()}},_position:function(){var ad=this.wrapper,ac=this.options.position;if(ac.top===0){ac.top=ac.top.toString()}if(ac.left===0){ac.left=ac.left.toString()}ad.css({top:ac.top||"",left:ac.left||""})},_animations:function(){var ac=this.options;if(ac.animation===false){ac.animation={open:{effects:{}},close:{hide:true,effects:{}}}}},_resize:function(){A.resize(this.element.children())},_resizable:function(){var ac=this.options.resizable;var ad=this.wrapper;if(this.resizing){ad.off("dblclick"+B).children(o).remove();this.resizing.destroy();this.resizing=null}if(ac){ad.on("dblclick"+B,y,R(function(ae){if(!x(ae.target).closest(".k-window-action").length){this.toggleMaximization()}},this));P("n e s w se sw ne nw".split(" "),function(ae,af){ad.append(a.resizeHandle(af))});this.resizing=new Y(this)}ad=null},_draggable:function(){var ac=this.options.draggable;if(this.dragging){this.dragging.destroy();this.dragging=null}if(ac){this.dragging=new p(this,ac.dragHandle||y)}},_actions:function(){var ae=this.options.actions;var ad=this.wrapper.children(y);var ac=ad.find(".k-window-actions");ae=x.map(ae,function(af){return{name:af}});ac.html(A.render(a.action,ae))},setOptions:function(ac){b.fn.setOptions.call(this,ac);this.restore();this._animations();this._dimensions();this._position();this._resizable();this._draggable();this._actions()},events:[O,h,H,W,t,ab,G,K,D,z],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:0.7}},fade:{direction:"out"}},duration:350,hide:true}},title:"",actions:["Close"],autoFocus:true,modal:false,resizable:true,draggable:true,minWidth:90,minHeight:50,maxWidth:Infinity,maxHeight:Infinity,pinned:false,position:{},content:null,visible:null,height:null,width:null,appendTo:"body"},_closable:function(){return x.inArray("close",x.map(this.options.actions,function(ac){return ac.toLowerCase()}))>-1},_keydown:function(al){var ak=this,ap=ak.options,ao=A.keys,an=al.keyCode,ae=ak.wrapper,ag,aj,ad=10,af=ak.options.isMaximized,ah,ac,am,ai;if(al.target!=al.currentTarget||ak._closing){return}if(an==ao.ESC&&ak._closable()){ak._close(false)}if(ap.draggable&&!al.ctrlKey&&!af){ag=A.getOffset(ae);if(an==ao.UP){aj=ae.css("top",ag.top-ad)}else{if(an==ao.DOWN){aj=ae.css("top",ag.top+ad)}else{if(an==ao.LEFT){aj=ae.css("left",ag.left-ad)}else{if(an==ao.RIGHT){aj=ae.css("left",ag.left+ad)}}}}}if(ap.resizable&&al.ctrlKey&&!af){if(an==ao.UP){aj=true;ac=ae.height()-ad}else{if(an==ao.DOWN){aj=true;ac=ae.height()+ad}}if(an==ao.LEFT){aj=true;ah=ae.width()-ad}else{if(an==ao.RIGHT){aj=true;ah=ae.width()+ad}}if(aj){am=T(ah,ap.minWidth,ap.maxWidth);ai=T(ac,ap.minHeight,ap.maxHeight);if(!isNaN(am)){ae.width(am);ak.options.width=am+"px"}if(!isNaN(ai)){ae.height(ai);ak.options.height=ai+"px"}ak.resize()}}if(aj){al.preventDefault()}},_overlay:function(ad){var ac=this.appendTo.children(k),ae=this.wrapper;if(!ac.length){ac=x("<div class='k-overlay' />")}ac.insertBefore(ae[0]).toggle(ad).css(e,parseInt(ae.css(e),10)-1);return ac},_actionForIcon:function(ad){var ac=/\bk-i-\w+\b/.exec(ad[0].className)[0];return{"k-i-close":"_close","k-i-maximize":"maximize","k-i-minimize":"minimize","k-i-restore":"restore","k-i-refresh":"refresh","k-i-pin":"pin","k-i-unpin":"unpin"}[ac]},_windowActionHandler:function(ae){if(this._closing){return}var ac=x(ae.target).closest(".k-window-action").find(".k-icon");var ad=this._actionForIcon(ac);if(ad){ae.preventDefault();this[ad]();return false}},_modals:function(){var ac=this;var ad=x(w).filter(function(){var ag=x(this);var af=ac._object(ag);var ae=af&&af.options;return ae&&ae.modal&&ae.visible&&ag.is(Z)}).sort(function(af,ae){return +x(af).css("zIndex")-+x(ae).css("zIndex")});ac=null;return ad},_object:function(ac){var ad=ac.children(q);return ad.data("kendoWindow")||ad.data("kendo"+this.options.name)},center:function(){var ag=this,ac=ag.options.position,aj=ag.wrapper,ae=x(window),ah=0,ai=0,ad,af;if(ag.options.isMaximized){return ag}if(!ag.options.pinned){ah=ae.scrollTop();ai=ae.scrollLeft()}af=ai+Math.max(0,(ae.width()-aj.width())/2);ad=ah+Math.max(0,(ae.height()-aj.height()-parseInt(aj.css("paddingTop"),10))/2);aj.css({left:af,top:ad});ac.top=ad;ac.left=af;return ag},title:function(ah){var af=this,ai=af.wrapper,ad=af.options,ac=ai.children(y),ag=ac.children(X),ae;if(!arguments.length){return ag.text()}if(ah===false){ai.addClass("k-window-titleless");ac.remove()}else{if(!ac.length){ai.prepend(a.titlebar(ad));af._actions();ac=ai.children(y)}else{ag.html(ah)}ae=ac.outerHeight();ai.css("padding-top",ae);ac.css("margin-top",-ae)}af.options.title=ah;return af},content:function(ad,af){var ae=this.wrapper.children(q),ac=ae.children(".km-scroll-container");ae=ac[0]?ac:ae;if(!L(ad)){return ae.html()}this.angular("cleanup",function(){return{elements:ae.children()}});A.destroy(this.element.children());ae.empty().html(ad);this.angular("compile",function(){var ag=[];for(var ah=ae.length;--ah>=0;){ag.push({dataItem:af})}return{elements:ae.children(),data:ag}});return this},open:function(){var ag=this,aj=ag.wrapper,ae=ag.options,af=ae.animation.open,ai=aj.children(q),ad,ah=x(document);if(!ag.trigger(O)){if(ag._closing){aj.kendoStop(true,true)}ag._closing=false;ag.toFront();if(ae.autoFocus){ag.element.focus()}ae.visible=true;if(ae.modal){ad=ag._overlay(false);ad.kendoStop(true,true);if(af.duration&&A.effects.Fade){var ac=A.fx(ad).fadeIn();ac.duration(af.duration||0);ac.endValue(0.5);ac.play()}else{ad.css("opacity",0.5)}ad.show()}if(!aj.is(Z)){ai.css(J,Q);aj.show().kendoStop().kendoAnimate({effects:af.effects,duration:af.duration,complete:R(this._activate,this)})}}if(ae.isMaximized){ag._documentScrollTop=ah.scrollTop();ag._documentScrollLeft=ah.scrollLeft();x("html, body").css(J,Q)}return ag},_activate:function(){if(this.options.autoFocus){this.element.focus()}this.trigger(h);this.wrapper.children(q).css(J,"")},_removeOverlay:function(af){var ag=this._modals();var ae=this.options;var ai=ae.modal&&!ag.length;var ad=ae.modal?this._overlay(true):x(l);var ah=ae.animation.close;if(ai){if(!af&&ah.duration&&A.effects.Fade){var ac=A.fx(ad).fadeOut();ac.duration(ah.duration||0);ac.startValue(0.5);ac.play()}else{this._overlay(false).remove()}}else{if(ag.length){this._object(ag.last())._overlay(true)}}},_close:function(ag){var ae=this,ai=ae.wrapper,ac=ae.options,ad=ac.animation.open,af=ac.animation.close,ah=x(document);if(ai.is(Z)&&!ae.trigger(W,{userTriggered:!ag})){if(ae._closing){return}ae._closing=true;ac.visible=false;x(w).each(function(ak,aj){var al=x(aj).children(q);if(aj!=ai&&al.find("> ."+f).length>0){al.children(k).remove()}});this._removeOverlay();ai.kendoStop().kendoAnimate({effects:af.effects||ad.effects,reverse:af.reverse===true,duration:af.duration,complete:R(this._deactivate,this)})}if(ae.options.isMaximized){x("html, body").css(J,"");if(ae._documentScrollTop&&ae._documentScrollTop>0){ah.scrollTop(ae._documentScrollTop)}if(ae._documentScrollLeft&&ae._documentScrollLeft>0){ah.scrollLeft(ae._documentScrollLeft)}}},_deactivate:function(){this.wrapper.hide().css("opacity","");this.trigger(H);var ac=this._object(this._modals().last());if(ac){ac.toFront()}},close:function(){this._close(true);return this},_actionable:function(ac){return x(ac).is(M+","+M+" .k-icon,:input,a")},_shouldFocus:function(ae){var ad=d(),ac=this.element;return this.options.autoFocus&&!x(ad).is(ac)&&!this._actionable(ae)&&(!ac.find(ad).length||!ac.find(ae).length)},toFront:function(ah){var ag=this,ac=ag.wrapper,ae=ac[0],aj=+ac.css(e),af=aj,ai=(ah&&ah.target)||null;x(w).each(function(an,am){var al=x(am),ap=al.css(e),ao=al.children(q);if(!isNaN(ap)){aj=Math.max(+ap,aj)}if(am!=ae&&ao.find("> ."+f).length>0){ao.append(a.overlay)}});if(!ac[0].style.zIndex||af<aj){ac.css(e,aj+2)}ag.element.find("> .k-overlay").remove();if(ag._shouldFocus(ai)){ag.element.focus();var ad=x(window).scrollTop(),ak=parseInt(ac.position().top,10);if(ak>0&&ak<ad){if(ad>0){x(window).scrollTop(ak)}else{ac.css("top",ad)}}}ac=null;return ag},toggleMaximization:function(){if(this._closing){return this}return this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var ad=this;var ac=ad.options;var ae=ac.minHeight;var ag=ad.restoreOptions;var af=x(document);if(!ac.isMaximized&&!ac.isMinimized){return ad}if(ae&&ae!=Infinity){ad.wrapper.css("min-height",ae)}ad.wrapper.css({position:ac.pinned?"fixed":"absolute",left:ag.left,top:ag.top,width:ag.width,height:ag.height}).removeClass(u).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(V).parent().show().end().end().find(S).parent().show();ad.options.width=ag.width;ad.options.height=ag.height;x("html, body").css(J,"");if(this._documentScrollTop&&this._documentScrollTop>0){af.scrollTop(this._documentScrollTop)}if(this._documentScrollLeft&&this._documentScrollLeft>0){af.scrollLeft(this._documentScrollLeft)}ac.isMaximized=ac.isMinimized=false;ad.resize();return ad},maximize:m("maximize",function(){var ad=this,af=ad.wrapper,ac=af.position(),ae=x(document);g(ad.restoreOptions,{left:ac.left,top:ac.top});af.css({left:0,top:0,position:"fixed"}).addClass(u);this._documentScrollTop=ae.scrollTop();this._documentScrollLeft=ae.scrollLeft();x("html, body").css(J,Q);ad.options.isMaximized=true;ad._onDocumentResize()}),minimize:m("minimize",function(){var ac=this;ac.wrapper.css({height:"",minHeight:""});ac.element.hide();ac.options.isMinimized=true}),pin:function(ad){var ac=this,ag=x(window),ah=ac.wrapper,af=parseInt(ah.css("top"),10),ae=parseInt(ah.css("left"),10);if(ad||!ac.options.pinned&&!ac.options.isMaximized){ah.css({position:"fixed",top:af-ag.scrollTop(),left:ae-ag.scrollLeft()});ah.children(y).find(U).addClass("k-i-unpin").removeClass("k-i-pin");ac.options.pinned=true}},unpin:function(){var ac=this,af=x(window),ag=ac.wrapper,ae=parseInt(ag.css("top"),10),ad=parseInt(ag.css("left"),10);if(ac.options.pinned&&!ac.options.isMaximized){ag.css({position:"",top:ae+af.scrollTop(),left:ad+af.scrollLeft()});ag.children(y).find(v).addClass("k-i-pin").removeClass("k-i-unpin");ac.options.pinned=false}},_onDocumentResize:function(){var af=this,ah=af.wrapper,ae=x(window),ag=A.support.zoomLevel(),ac,ad;if(!af.options.isMaximized){return}ac=ae.width()/ag;ad=ae.height()/ag-parseInt(ah.css("padding-top"),10);ah.css({width:ac,height:ad});af.options.width=ac;af.options.height=ad;af.resize()},refresh:function(ae){var ai=this,ah=ai.options,af=x(ai.element),ag,ac,ad;if(!aa(ae)){ae={url:ae}}ae=g({},ah.content,ae);ac=L(ah.iframe)?ah.iframe:ae.iframe;ad=ae.url;if(ad){if(!L(ac)){ac=!F(ad)}if(!ac){ai._ajaxRequest(ae)}else{ag=af.find("."+f)[0];if(ag){ag.src=ad||ag.src}else{af.html(a.contentFrame(g({},ah,{content:ae})))}af.find("."+f).unbind("load"+B).on("load"+B,R(this._triggerRefresh,this))}}else{if(ae.template){ai.content(c(ae.template)({}))}ai.trigger(t)}af.toggleClass("k-window-iframecontent",!!ac);return ai},_triggerRefresh:function(){this.trigger(t)},_ajaxComplete:function(){clearTimeout(this._loadingIconTimeout);this.wrapper.find(n).removeClass(s)},_ajaxError:function(ad,ac){this.trigger(z,{status:ac,xhr:ad})},_ajaxSuccess:function(ac){return function(ae){var ad=ae;if(ac){ad=c(ac)(ae||{})}this.content(ad,ae);this.element.prop("scrollTop",0);this.trigger(t)}},_showLoading:function(){this.wrapper.find(n).addClass(s)},_ajaxRequest:function(ac){this._loadingIconTimeout=setTimeout(R(this._showLoading,this),100);x.ajax(g({type:"GET",dataType:"html",cache:false,error:R(this._ajaxError,this),complete:R(this._ajaxComplete,this),success:R(this._ajaxSuccess(ac.template),this)},ac))},destroy:function(){var ac=this;if(ac.resizing){ac.resizing.destroy()}if(ac.dragging){ac.dragging.destroy()}ac.wrapper.off(B).children(q).off(B).end().find(".k-resize-handle,.k-window-titlebar").off(B);x(window).off("resize"+B+ac._marker);clearTimeout(ac._loadingIconTimeout);b.fn.destroy.call(ac);ac.unbind(l);A.destroy(ac.wrapper);ac._removeOverlay(true);ac.wrapper.empty().remove();ac.wrapper=ac.appendTo=ac.element=x()},_createWindow:function(){var af=this.element,ae=this.options,ac,ag,ad=A.support.isRtl(af);if(ae.scrollable===false){af.attr("style","overflow:hidden;")}ag=x(a.wrapper(ae));ac=af.find("iframe:not(.k-content)").map(function(){var ah=this.getAttribute("src");this.src="";return ah});ag.toggleClass("k-rtl",ad).appendTo(this.appendTo).append(af).find("iframe:not(.k-content)").each(function(ah){this.src=ac[ah]});ag.find(".k-window-title").css(ad?"left":"right",ag.find(".k-window-actions").outerWidth()+10);af.css("visibility","").show();af.find("[data-role=editor]").each(function(){var ah=x(this).data("kendoEditor");if(ah){ah.refresh()}});ag=af=null}});a={wrapper:c("<div class='k-widget k-window' />"),action:c("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span></a>"),titlebar:c("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #</span><div class='k-window-actions' /></div>"),overlay:"<div class='k-overlay' />",contentFrame:c("<iframe frameborder='0' title='#= title #' class='"+f+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),resizeHandle:c("<div class='k-resize-handle k-resize-#= data #'></div>")};function Y(ad){var ac=this;ac.owner=ad;ac._draggable=new i(ad.wrapper,{filter:">"+o,group:ad.wrapper.id+"-resizing",dragstart:R(ac.dragstart,ac),drag:R(ac.drag,ac),dragend:R(ac.dragend,ac)});ac._draggable.userEvents.bind("press",R(ac.addOverlay,ac));ac._draggable.userEvents.bind("release",R(ac.removeOverlay,ac))}Y.prototype={addOverlay:function(){this.owner.wrapper.append(a.overlay)},removeOverlay:function(){this.owner.wrapper.find(k).remove()},dragstart:function(ae){var ad=this;var ac=ad.owner;var af=ac.wrapper;ad.elementPadding=parseInt(af.css("padding-top"),10);ad.initialPosition=A.getOffset(af,"position");ad.resizeDirection=ae.currentTarget.prop("className").replace("k-resize-handle k-resize-","");ad.initialSize={width:af.width(),height:af.height()};ad.containerOffset=A.getOffset(ac.appendTo,"position");af.children(o).not(ae.currentTarget).hide();x(N).css(E,ae.currentTarget.css(E))},drag:function(ak){var aj=this,af=aj.owner,ad=af.wrapper,aq=af.options,an=aj.resizeDirection,ai=aj.containerOffset,ag=aj.initialPosition,ap=aj.initialSize,ah,ac,ae,ao,am=Math.max(ak.x.location,ai.left),al=Math.max(ak.y.location,ai.top);if(an.indexOf("e")>=0){ah=am-ag.left;ad.width(T(ah,aq.minWidth,aq.maxWidth))}else{if(an.indexOf("w")>=0){ao=ag.left+ap.width;ah=T(ao-am,aq.minWidth,aq.maxWidth);ad.css({left:ao-ah-ai.left,width:ah})}}if(an.indexOf("s")>=0){ac=al-ag.top-aj.elementPadding;ad.height(T(ac,aq.minHeight,aq.maxHeight))}else{if(an.indexOf("n")>=0){ae=ag.top+ap.height;ac=T(ae-al,aq.minHeight,aq.maxHeight);ad.css({top:ae-ac-ai.top,height:ac})}}if(ah){af.options.width=ah+"px"}if(ac){af.options.height=ac+"px"}af.resize()},dragend:function(ae){var ad=this,ac=ad.owner,af=ac.wrapper;af.children(o).not(ae.currentTarget).show();x(N).css(E,"");if(ac.touchScroller){ac.touchScroller.reset()}if(ae.keyCode==27){af.css(ad.initialPosition).css(ad.initialSize)}ac.trigger(G);return false},destroy:function(){if(this._draggable){this._draggable.destroy()}this._draggable=this.owner=null}};function p(ae,ac){var ad=this;ad.owner=ae;ad._draggable=new i(ae.wrapper,{filter:ac,group:ae.wrapper.id+"-moving",dragstart:R(ad.dragstart,ad),drag:R(ad.drag,ad),dragend:R(ad.dragend,ad),dragcancel:R(ad.dragcancel,ad)});ad._draggable.userEvents.stopPropagation=false}p.prototype={dragstart:function(af){var ae=this.owner,ac=ae.element,ag=ac.find(".k-window-actions"),ad=A.getOffset(ae.appendTo);ae.trigger(K);ae.initialWindowPosition=A.getOffset(ae.wrapper,"position");ae.startPosition={left:af.x.client-ae.initialWindowPosition.left,top:af.y.client-ae.initialWindowPosition.top};if(ag.length>0){ae.minLeftPosition=ag.outerWidth()+parseInt(ag.css("right"),10)-ac.outerWidth()}else{ae.minLeftPosition=20-ac.outerWidth()}ae.minLeftPosition-=ad.left;ae.minTopPosition=-ad.top;ae.wrapper.append(a.overlay).children(o).hide();x(N).css(E,af.currentTarget.css(E))},drag:function(ag){var af=this.owner,ac=af.options.position,ad=Math.max(ag.y.client-af.startPosition.top,af.minTopPosition),ae=Math.max(ag.x.client-af.startPosition.left,af.minLeftPosition),ah={left:ae,top:ad};x(af.wrapper).css(ah);ac.top=ad;ac.left=ae},_finishDrag:function(){var ac=this.owner;ac.wrapper.children(o).toggle(!ac.options.isMinimized).end().find(k).remove();x(N).css(E,"")},dragcancel:function(ac){this._finishDrag();ac.currentTarget.closest(w).css(this.owner.initialWindowPosition)},dragend:function(){this._finishDrag();this.owner.trigger(D);return false},destroy:function(){if(this._draggable){this._draggable.destroy()}this._draggable=this.owner=null}};A.ui.plugin(j)})(window.kendo.jQuery);(function(A,q){var B=window.kendo,y=window.angular,C=B.mobile,D=C.ui,s=B.attr,b=B.Class,k=D.Widget,E=B.ViewClone,p="init",z='<div style="height: 100%; width: 100%; position: absolute; top: 0; left: 0; z-index: 20000; display: none" />',a="beforeShow",d="show",v="afterShow",l="beforeHide",o="transitionEnd",j="transitionStart",n="hide",t="destroy",N="z-index",e=B.attrValue,M=B.roleSelector,c=B.directiveSelector,f=B.compileMobileDirective;function H(P){var S=P.find(M("popover")),O,R,Q=D.roles;for(O=0,R=S.length;O<R;O++){B.initWidget(S[O],{},Q)}}function J(O){if(!B.triggeredByInput(O)){O.preventDefault()}}var K=k.extend({init:function(P,O){k.fn.init.call(this,P,O);this.params={};A.extend(this,O);this.transition=this.transition||this.defaultTransition;this._id();if(!this.options.$angular){this._layout();this._overlay();this._scroller();this._model()}else{this._overlay()}},events:[p,a,d,v,l,n,t,j,o],options:{name:"View",title:"",layout:null,getLayout:A.noop,reload:false,transition:"",defaultTransition:"",useNativeScrolling:false,stretch:false,zoom:false,model:null,modelScope:window,scroller:{},initWidgets:true},enable:function(O){if(typeof O=="undefined"){O=true}if(O){this.overlay.hide()}else{this.overlay.show()}},destroy:function(){if(this.layout){this.layout.detach(this)}this.trigger(t);k.fn.destroy.call(this);if(this.scroller){this.scroller.destroy()}if(this.options.$angular){this.element.scope().$destroy()}B.destroy(this.element)},purge:function(){this.destroy();this.element.remove()},triggerBeforeShow:function(){if(this.trigger(a,{view:this})){return false}return true},triggerBeforeHide:function(){if(this.trigger(l,{view:this})){return false}return true},showStart:function(){var O=this.element;O.css("display","");if(!this.inited){this.inited=true;this.trigger(p,{view:this})}else{this._invokeNgController()}if(this.layout){this.layout.attach(this)}this._padIfNativeScrolling();this.trigger(d,{view:this});B.resize(O)},showEnd:function(){this.trigger(v,{view:this});this._padIfNativeScrolling()},hideEnd:function(){var O=this;O.element.hide();O.trigger(n,{view:O});if(O.layout){O.layout.trigger(n,{view:O,layout:O.layout})}},beforeTransition:function(O){this.trigger(j,{type:O})},afterTransition:function(O){this.trigger(o,{type:O})},_padIfNativeScrolling:function(){if(C.appLevelNativeScrolling()){var R=B.support.mobileOS&&B.support.mobileOS.android,S=C.application.skin()||"",O=C.application.os.android||(S.indexOf("android")>-1),T=S==="flat"||(S.indexOf("material")>-1),Q=(R||O)&&(!T)?"footer":"header",P=(R||O)&&(!T)?"header":"footer";this.content.css({paddingTop:this[Q].height(),paddingBottom:this[P].height()})}},contentElement:function(){var O=this;return O.options.stretch?O.content:O.scrollerContent},clone:function(O){return new E(this)},_scroller:function(){var O=this;if(C.appLevelNativeScrolling()){return}if(O.options.stretch){O.content.addClass("km-stretched-view")}else{O.content.kendoMobileScroller(A.extend(O.options.scroller,{zoom:O.options.zoom,useNative:O.options.useNativeScrolling}));O.scroller=O.content.data("kendoMobileScroller");O.scrollerContent=O.scroller.scrollElement}if(B.support.kineticScrollNeeded){A(O.element).on("touchmove",".km-header",J);if(!O.options.useNativeScrolling){A(O.element).on("touchmove",".km-content",J)}}},_model:function(){var Q=this,P=Q.element,O=Q.options.model;if(typeof O==="string"){O=B.getter(O)(Q.options.modelScope)}Q.model=O;H(P);Q.element.css("display","");if(Q.options.initWidgets){if(O){B.bind(P,O,D,B.ui,B.dataviz.ui)}else{C.init(P.children())}}Q.element.css("display","none")},_id:function(){var O=this.element,P=O.attr("id")||"";this.id=e(O,"url")||"#"+P;if(this.id=="#"){this.id=B.guid();O.attr("id",this.id)}},_layout:function(){var O=M("content"),P=this.element;P.addClass("km-view");this.header=P.children(M("header")).addClass("km-header");this.footer=P.children(M("footer")).addClass("km-footer");if(!P.children(O)[0]){P.wrapInner("<div "+s("role")+'="content"></div>')}this.content=P.children(M("content")).addClass("km-content");this.element.prepend(this.header).append(this.footer);this.layout=this.options.getLayout(this.layout);if(this.layout){this.layout.setup(this)}},_overlay:function(){this.overlay=A(z).appendTo(this.element)},_invokeNgController:function(){var O,P;if(this.options.$angular){O=this.element.controller();P=this.element.scope();if(O){var Q=A.proxy(this,"_callController",O,P);if(/^\$(digest|apply)$/.test(P.$$phase)){Q()}else{P.$apply(Q)}}}},_callController:function(O,P){this.element.injector().invoke(O.constructor,O,{$scope:P})}});function g(O){O.each(function(){B.initWidget(A(this),{},D.roles)})}var h=k.extend({init:function(P,O){k.fn.init.call(this,P,O);P=this.element;this.header=P.children(this._locate("header")).addClass("km-header");this.footer=P.children(this._locate("footer")).addClass("km-footer");this.elements=this.header.add(this.footer);H(P);if(!this.options.$angular){B.mobile.init(this.element.children())}this.element.detach();this.trigger(p,{layout:this})},_locate:function(O){return this.options.$angular?c(O):M(O)},options:{name:"Layout",id:null,platform:null},events:[p,d,n],setup:function(O){if(!O.header[0]){O.header=this.header}if(!O.footer[0]){O.footer=this.footer}},detach:function(O){var P=this;if(O.header===P.header&&P.header[0]){O.element.prepend(P.header.detach()[0].cloneNode(true))}if(O.footer===P.footer&&P.footer.length){O.element.append(P.footer.detach()[0].cloneNode(true))}},attach:function(O){var P=this,Q=P.currentView;if(Q){P.detach(Q)}if(O.header===P.header){P.header.detach();O.element.children(M("header")).remove();O.element.prepend(P.header)}if(O.footer===P.footer){P.footer.detach();O.element.children(M("footer")).remove();O.element.append(P.footer)}P.trigger(d,{layout:P,view:O});P.currentView=O}});var i=B.Observable,u=/<body[^>]*>(([\u000a\u000d\u2028\u2029]|.)*)<\/body>/i,r="loadStart",m="loadComplete",L="showStart",I="sameViewRequested",x="viewShow",G="viewTypeDetermined",F="after";var w=i.extend({init:function(R){var S=this,P,Q,O,T;i.fn.init.call(S);A.extend(S,R);S.sandbox=A("<div />");O=S.container;P=S._hideViews(O);S.rootView=P.first();if(!S.rootView[0]&&R.rootNeeded){if(O[0]==B.mobile.application.element[0]){Q='Your kendo mobile application element does not contain any direct child elements with data-role="view" attribute set. Make sure that you instantiate the mobile application using the correct container.'}else{Q='Your pane element does not contain any direct child elements with data-role="view" attribute set.'}throw new Error(Q)}S.layouts={};S.viewContainer=new B.ViewContainer(S.container);S.viewContainer.bind("accepted",function(U){U.view.params=S.params});S.viewContainer.bind("complete",function(U){S.trigger(x,{view:U.view})});S.viewContainer.bind(F,function(U){S.trigger(F)});this.getLayoutProxy=A.proxy(this,"_getLayout");S._setupLayouts(O);T=O.children(S._locate("modalview drawer"));if(S.$angular){S.$angular[0].viewOptions={defaultTransition:S.transition,loader:S.loader,container:S.container,getLayout:S.getLayoutProxy};T.each(function(U,V){f(A(V),R.$angular[0])})}else{g(T)}this.bind(this.events,R)},events:[L,F,x,r,m,I,G],destroy:function(){B.destroy(this.container);for(var O in this.layouts){this.layouts[O].destroy()}},view:function(){return this.viewContainer.view},showView:function(Q,U,T){Q=Q.replace(new RegExp("^"+this.remoteViewURLPrefix),"");if(Q===""&&this.remoteViewURLPrefix){Q="/"}if(Q.replace(/^#/,"")===this.url){this.trigger(I);return false}this.trigger(L);var S=this,P=function(V){return S.viewContainer.show(V,U,Q)},R=S._findViewElement(Q),O=B.widgetInstance(R);S.url=Q.replace(/^#/,"");S.params=T;if(O&&O.reload){O.purge();R=[]}this.trigger(G,{remote:R.length===0,url:Q});if(R[0]){if(!O){O=S._createView(R)}return P(O)}else{if(this.serverNavigation){location.href=Q}else{S._loadView(Q,P)}return true}},append:function(U,T){var R=this.sandbox,S=(T||"").split("?")[0],Q=this.container,P,V,O;if(u.test(U)){U=RegExp.$1}R[0].innerHTML=U;Q.append(R.children("script, style"));P=this._hideViews(R);O=P.first();if(!O.length){P=O=R.wrapInner("<div data-role=view />").children()}if(S){O.hide().attr(s("url"),S)}this._setupLayouts(R);V=R.children(this._locate("modalview drawer"));Q.append(R.children(this._locate("layout modalview drawer")).add(P));g(V);return this._createView(O)},_locate:function(O){return this.$angular?c(O):M(O)},_findViewElement:function(P){var Q,O=P.split("?")[0];if(!O){return this.rootView}Q=this.container.children("["+s("url")+"='"+O+"']");if(!Q[0]&&O.indexOf("/")===-1){Q=this.container.children(O.charAt(0)==="#"?O:"#"+O)}return Q},_createView:function(O){if(this.$angular){return f(O,this.$angular[0])}else{return B.initWidget(O,{defaultTransition:this.transition,loader:this.loader,container:this.container,getLayout:this.getLayoutProxy,modelScope:this.modelScope,reload:e(O,"reload")},D.roles)}},_getLayout:function(O){if(O===""){return null}return O?this.layouts[O]:this.layouts[this.layout]},_loadView:function(O,P){if(this._xhr){this._xhr.abort()}this.trigger(r);this._xhr=A.get(B.absoluteURL(O,this.remoteViewURLPrefix),"html").always(A.proxy(this,"_xhrComplete",P,O))},_xhrComplete:function(T,Q,P,O,R){var S=true;if(typeof P==="object"){if(P.status===0){if(P.responseText&&P.responseText.length>0){S=true;P=P.responseText}else{return}}}this.trigger(m);if(S){T(this.append(P,Q))}},_hideViews:function(O){return O.children(this._locate("view splitview")).hide()},_setupLayouts:function(O){var Q=this,P;O.children(Q._locate("layout")).each(function(){if(Q.$angular){P=f(A(this),Q.$angular[0])}else{P=B.initWidget(A(this),{},D.roles)}var R=P.options.platform;if(!R||R===C.application.os.name){Q.layouts[P.options.id]=P}else{P.destroy()}})}});B.mobile.ViewEngine=w;D.plugin(K);D.plugin(h)})(window.kendo.jQuery);(function(c,f){var e=window.kendo,b=e.mobile.ui,a=b.Widget,d=c.map(e.eventMap,function(h){return h}).join(" ").split(" ");var g=a.extend({init:function(h,i){var k=this,j=c('<div class="km-loader"><span class="km-loading km-spin"></span><span class="km-loading-left"></span><span class="km-loading-right"></span></div>');a.fn.init.call(k,j,i);k.container=h;k.captureEvents=false;k._attachCapture();j.append(k.options.loading).hide().appendTo(h)},options:{name:"Loader",loading:"<h1>Loading...</h1>",timeout:100},show:function(){var h=this;clearTimeout(h._loading);if(h.options.loading===false){return}h.captureEvents=true;h._loading=setTimeout(function(){h.element.show()},h.options.timeout)},hide:function(){this.captureEvents=false;clearTimeout(this._loading);this.element.hide()},changeMessage:function(h){this.options.loading=h;this.element.find(">h1").html(h)},transition:function(){this.captureEvents=true;this.container.css("pointer-events","none")},transitionDone:function(){this.captureEvents=false;this.container.css("pointer-events","")},_attachCapture:function(){var k=this;k.captureEvents=false;function h(i){if(k.captureEvents){i.preventDefault()}}for(var j=0;j<d.length;j++){k.container[0].addEventListener(d[j],h,true)}}});b.plugin(g)})(window.kendo.jQuery);(function(e,g){var o=window.kendo,d=o.mobile,i=o.roleSelector,n=d.ui,c=n.Widget,h=d.ViewEngine,q=n.View,j=d.ui.Loader,u="external",a="href",p="#!",t="navigate",r="viewShow",l="sameViewRequested",b=o.support.mobileOS,k=b.ios&&!b.appMode&&b.flatVersion>=700,f=/popover|actionsheet|modalview|drawer/,v="#:back",m=o.attrValue;var s=c.extend({init:function(x,w){var y=this;c.fn.init.call(y,x,w);w=y.options;x=y.element;x.addClass("km-pane");if(y.options.collapsible){x.addClass("km-collapsible-pane")}this.history=[];this.historyCallback=function(A,C,z){var B=y.transition;y.transition=null;if(k&&z){B="none"}return y.viewEngine.showView(A,B,C)};this._historyNavigate=function(z){if(z===v){if(y.history.length===1){return}y.history.pop();z=y.history[y.history.length-1]}else{y.history.push(z)}y.historyCallback(z,o.parseQueryStringParams(z))};this._historyReplace=function(z){var A=o.parseQueryStringParams(z);y.history[y.history.length-1]=z;y.historyCallback(z,A)};y.loader=new j(x,{loading:y.options.loading});y.viewEngine=new h({container:x,transition:w.transition,modelScope:w.modelScope,rootNeeded:!w.initial,serverNavigation:w.serverNavigation,remoteViewURLPrefix:w.root||"",layout:w.layout,$angular:w.$angular,loader:y.loader,showStart:function(){y.loader.transition();y.closeActiveDialogs()},after:function(z){y.loader.transitionDone()},viewShow:function(z){y.trigger(r,z)},loadStart:function(){y.loader.show()},loadComplete:function(){y.loader.hide()},sameViewRequested:function(){y.trigger(l)},viewTypeDetermined:function(z){if(!z.remote||!y.options.serverNavigation){y.trigger(t,{url:z.url})}}});this._setPortraitWidth();o.onResize(function(){y._setPortraitWidth()});y._setupAppLinks()},closeActiveDialogs:function(){var w=this.element.find(i("actionsheet popover modalview")).filter(":visible");w.each(function(){o.widgetInstance(e(this),n).close()})},navigateToInitial:function(){var w=this.options.initial;if(w){this.navigate(w)}},options:{name:"Pane",portraitWidth:"",transition:"",layout:"",collapsible:false,initial:null,modelScope:window,loading:"<h1>Loading...</h1>"},events:[t,r,l],append:function(w){return this.viewEngine.append(w)},destroy:function(){c.fn.destroy.call(this);this.viewEngine.destroy();this.userEvents.destroy()},navigate:function(w,x){if(w instanceof q){w=w.id}this.transition=x;this._historyNavigate(w)},replace:function(w,x){if(w instanceof q){w=w.id}this.transition=x;this._historyReplace(w)},bindToRouter:function(w){var y=this,z=this.history,x=this.viewEngine;w.bind("init",function(D){var A=D.url,C=w.pushState?A:"/";x.rootView.attr(o.attr("url"),C);var B=z.length;if(A==="/"&&B){w.navigate(z[B-1],true);D.preventDefault()}});w.bind("routeMissing",function(A){if(!y.historyCallback(A.url,A.params,A.backButtonPressed)){A.preventDefault()}});w.bind("same",function(){y.trigger(l)});y._historyNavigate=function(A){w.navigate(A)};y._historyReplace=function(A){w.replace(A)}},hideLoading:function(){this.loader.hide()},showLoading:function(){this.loader.show()},changeLoadingMessage:function(w){this.loader.changeMessage(w)},view:function(){return this.viewEngine.view()},_setPortraitWidth:function(){var x,w=this.options.portraitWidth;if(w){x=o.mobile.application.element.is(".km-vertical")?w:"auto";this.element.css("width",x)}},_setupAppLinks:function(){var z=this,y="tab",x="[data-"+o.ns+"navigate-on-press]",w=e.map(["button","backbutton","detailbutton","listview-link"],function(A){return i(A)+":not("+x+")"}).join(",");this.element.handler(this).on("down",i(y)+","+x,"_mouseup").on("click",i(y)+","+w+","+x,"_appLinkClick");this.userEvents=new o.UserEvents(this.element,{filter:w,tap:function(A){A.event.currentTarget=A.touch.currentTarget;z._mouseup(A.event)}});this.element.css("-ms-touch-action","")},_appLinkClick:function(y){var w=e(y.currentTarget).attr("href");var x=w&&w[0]!=="#"&&this.options.serverNavigation;if(!x&&m(e(y.currentTarget),"rel")!=u){y.preventDefault()}},_mouseup:function(z){if(z.which>1||z.isDefaultPrevented()){return}var y=this,C=e(z.currentTarget),B=m(C,"transition"),D=m(C,"rel")||"",A=m(C,"target"),w=C.attr(a),E=k&&C[0].offsetHeight===0,x=w&&w[0]!=="#"&&this.options.serverNavigation;if(E||x||D===u||(typeof w==="undefined")||w===p){return}C.attr(a,p);setTimeout(function(){C.attr(a,w)});if(D.match(f)){o.widgetInstance(e(w),n).openFor(C);if(D==="actionsheet"||D==="drawer"){z.stopPropagation()}}else{if(A==="_top"){y=d.application.pane}else{if(A){y=e("#"+A).data("kendoMobilePane")}}y.navigate(w,B)}z.preventDefault()}});s.wrap=function(w){if(!w.is(i("view"))){w=w.wrap("<div data-"+o.ns+'role="view" data-stretch="true"></div>').parent()}var x=w.wrap('<div class="km-pane-wrapper"><div></div></div>').parent(),y=new s(x);y.navigate("");return y};n.plugin(s)})(window.kendo.jQuery);(function(f,g){var n=window.kendo,d=n.mobile,m=d.ui,e="show",r="hide",s="open",c="close",i='<div class="km-popup-wrapper" />',q='<div class="km-popup-arrow" />',j='<div class="km-popup-overlay" />',p="km-up km-down km-left km-right",b=m.Widget,o={down:{origin:"bottom center",position:"top center"},up:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"}},l={animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:400}}},k={horizontal:{offset:"top",size:"height"},vertical:{offset:"left",size:"width"}},t={up:"down",down:"up",left:"right",right:"left"};var h=b.extend({init:function(y,x){var A=this,w=y.closest(".km-modalview-wrapper"),u=y.closest(".km-root").children(".km-pane").first(),v=w[0]?w:u,B,z;if(x.viewport){u=x.viewport}else{if(!u[0]){u=window}}if(x.container){v=x.container}else{if(!v[0]){v=document.body}}B={viewport:u,copyAnchorStyles:false,autosize:true,open:function(){A.overlay.show()},activate:f.proxy(A._activate,A),deactivate:function(){A.overlay.hide();if(!A._apiCall){A.trigger(r)}A._apiCall=false}};b.fn.init.call(A,y,x);y=A.element;x=A.options;y.wrap(i).addClass("km-popup").show();z=A.options.direction.match(/left|right/)?"horizontal":"vertical";A.dimensions=k[z];A.wrapper=y.parent().css({width:x.width,height:x.height}).addClass("km-popup-wrapper km-"+x.direction).hide();A.arrow=f(q).prependTo(A.wrapper).hide();A.overlay=f(j).appendTo(v).hide();B.appendTo=A.overlay;if(x.className){A.overlay.addClass(x.className)}A.popup=new n.ui.Popup(A.wrapper,f.extend(true,B,l,o[x.direction]))},options:{name:"Popup",width:240,height:"",direction:"down",container:null,viewport:null},events:[r],show:function(u){this.popup.options.anchor=f(u);this.popup.open()},hide:function(){this._apiCall=true;this.popup.close()},destroy:function(){b.fn.destroy.call(this);this.popup.destroy();this.overlay.remove()},target:function(){return this.popup.options.anchor},_activate:function(){var B=this,E=B.options.direction,u=B.dimensions,z=u.offset,w=B.popup,A=w.options.anchor,x=f(A).offset(),v=f(w.element).offset(),G=w.flipped?t[E]:E,y=B.arrow[u.size]()*2,D=B.element[u.size]()-B.arrow[u.size](),F=f(A)[u.size](),C=x[z]-v[z]+(F/2);if(C<y){C=y}if(C>D){C=D}B.wrapper.removeClass(p).addClass("km-"+G);B.arrow.css(z,C).show()}});var a=b.extend({init:function(v,u){var w=this,y,x;w.initialOpen=false;b.fn.init.call(w,v,u);y=f.extend({className:"km-popover-root",hide:function(){w.trigger(c)}},this.options.popup);w.popup=new h(w.element,y);w.popup.overlay.on("move",function(z){if(z.target==w.popup.overlay[0]){z.preventDefault()}});w.pane=new m.Pane(w.element,f.extend(this.options.pane,{$angular:this.options.$angular}));w.pane.navigateToInitial();n.notify(w,m)},options:{name:"PopOver",popup:{},pane:{}},events:[s,c],open:function(u){this.popup.show(u);if(!this.initialOpen){this.pane.navigate("");this.popup.popup._position();this.initialOpen=true}else{this.pane.view()._invokeNgController()}},openFor:function(u){this.open(u);this.trigger(s,{target:this.popup.target()})},close:function(){this.popup.hide()},destroy:function(){b.fn.destroy.call(this);this.pane.destroy();this.popup.destroy();n.destroy(this.element)}});m.plugin(h);m.plugin(a)})(window.kendo.jQuery);(function(d,a){var e=window.kendo,h=e.mobile.ui,j=e.ui.Popup,b='<div class="km-shim"/>',i="show",c="hide",g=h.Widget;var f=g.extend({init:function(o,v){var q=this,l=e.mobile.application,n=e.support.mobileOS,k=l?l.os.name:(n?n.name:"ios"),t=k==="ios"||k==="wp"||(l?l.os.skin:false),s=k==="blackberry",r=v.align||(t?"bottom center":s?"center right":"center center"),p=v.position||(t?"bottom center":s?"center right":"center center"),u=v.effect||(t?"slideIn:up":s?"slideIn:left":"fade:in"),m=d(b).handler(q).hide();g.fn.init.call(q,o,v);q.shim=m;o=q.element;v=q.options;if(v.className){q.shim.addClass(v.className)}if(!v.modal){q.shim.on("up","_hide")}(l?l.element:d(document.body)).append(m);q.popup=new j(q.element,{anchor:m,modal:true,appendTo:m,origin:r,position:p,animation:{open:{effects:u,duration:v.duration},close:{duration:v.duration}},close:function(x){var w=false;if(!q._apiCall){w=q.trigger(c)}if(w){x.preventDefault()}q._apiCall=false},deactivate:function(){m.hide()},open:function(){m.show()}});e.notify(q)},events:[c],options:{name:"Shim",modal:false,align:a,position:a,effect:a,duration:200},show:function(){this.popup.open()},hide:function(){this._apiCall=true;this.popup.close()},destroy:function(){g.fn.destroy.call(this);this.shim.kendoDestroy();this.popup.destroy();this.shim.remove()},_hide:function(k){if(!k||!d.contains(this.shim.children().children(".k-popup")[0],k.target)){this.popup.close()}}});h.plugin(f)})(window.kendo.jQuery);(function(g,d){var j=window.kendo,p=j.support,m=j.mobile.ui,k=m.Shim,o=m.Popup,n=m.Widget,f="open",i="close",l="command",b="li>a",c="actionsheetContext",a='<div class="km-actionsheet-wrapper" />',h=j.template('<li class="km-actionsheet-cancel"><a href="\\#">#:cancel#</a></li>');var e=n.extend({init:function(s,r){var u=this,w,q,t,v=p.mobileOS;n.fn.init.call(u,s,r);r=u.options;t=r.type;s=u.element;if(t==="auto"){q=v&&v.tablet}else{q=t==="tablet"}w=q?o:k;if(r.cancelTemplate){h=j.template(r.cancelTemplate)}s.addClass("km-actionsheet").append(h({cancel:u.options.cancel})).wrap(a).on("up",b,"_click").on("click",b,j.preventDefault);u.view().bind("destroy",function(){u.destroy()});u.wrapper=s.parent().addClass(t?" km-actionsheet-"+t:"");u.shim=new w(u.wrapper,g.extend({modal:v.ios&&v.majorVersion<7,className:"km-actionsheet-root"},u.options.popup));u._closeProxy=g.proxy(u,"_close");u.shim.bind("hide",u._closeProxy);if(q){j.onResize(u._closeProxy)}j.notify(u,m)},events:[f,i,l],options:{name:"ActionSheet",cancel:"Cancel",type:"auto",popup:{height:"auto"}},open:function(s,q){var r=this;r.target=g(s);r.context=q;r.shim.show(s)},close:function(){this.context=this.target=null;this.shim.hide()},openFor:function(s){var r=this,q=s.data(c);r.open(s,q);r.trigger(f,{target:s,context:q})},destroy:function(){n.fn.destroy.call(this);j.unbindResize(this._closeProxy);this.shim.destroy()},_click:function(u){if(u.isDefaultPrevented()){return}var t=g(u.currentTarget);var s=t.data("action");if(s){var r={target:this.target,context:this.context},q=this.options.$angular;if(q){this.element.injector().get("$parse")(s)(q[0])(r)}else{j.getter(s)(window)(r)}}this.trigger(l,{target:this.target,context:this.context,currentTarget:t});u.preventDefault();this._close()},_close:function(q){if(!this.trigger(i)){this.close()}else{q.preventDefault()}}});m.plugin(e)})(window.kendo.jQuery);(function(i,l){var v=window.kendo,u=v.ui,d=u.Widget,F="horizontal",y="vertical",k=0,n=100,C=0,h=5,b="k-progressbar",c="k-progressbar-reverse",E="k-progressbar-indeterminate",p="k-complete",o="k-state-selected",m="k-progress-status",D="k-state-selected",g="k-state-default",x="k-state-disabled",t={VALUE:"value",PERCENT:"percent",CHUNK:"chunk"},r="change",w="complete",q="boolean",f=Math,A=i.extend,z=i.proxy,a=100,B=400,s=3,e={progressStatus:"<span class='k-progress-status-wrap'><span class='k-progress-status'></span></span>"};var j=d.extend({init:function(H,G){var I=this;d.fn.init.call(this,H,G);G=I.options;I._progressProperty=(G.orientation===F)?"width":"height";I._fields();G.value=I._validateValue(G.value);I._validateType(G.type);I._wrapper();I._progressAnimation();if((G.value!==G.min)&&(G.value!==false)){I._updateProgress()}},setOptions:function(G){var H=this;d.fn.setOptions.call(H,G);if(G.hasOwnProperty("reverse")){H.wrapper.toggleClass("k-progressbar-reverse",G.reverse)}if(G.hasOwnProperty("enable")){H.enable(G.enable)}H._progressAnimation();H._validateValue();H._updateProgress()},events:[r,w],options:{name:"ProgressBar",orientation:F,reverse:false,min:k,max:n,value:C,enable:true,type:t.VALUE,chunkCount:h,showStatus:true,animation:{}},_fields:function(){var G=this;G._isStarted=false;G.progressWrapper=G.progressStatus=i()},_validateType:function(G){var H=false;i.each(t,function(I,J){if(J===G){H=true;return false}});if(!H){throw new Error(v.format("Invalid ProgressBar type '{0}'",G))}},_wrapper:function(){var J=this;var G=J.wrapper=J.element;var I=J.options;var H=I.orientation;var K;G.addClass("k-widget "+b);G.addClass(b+"-"+((H===F)?F:y));if(I.enable===false){G.addClass(x)}if(I.reverse){G.addClass(c)}if(I.value===false){G.addClass(E)}if(I.type===t.CHUNK){J._addChunkProgressWrapper()}else{if(I.showStatus){J.progressStatus=J.wrapper.prepend(e.progressStatus).find("."+m);K=(I.value!==false)?I.value:I.min;if(I.type===t.VALUE){J.progressStatus.text(K)}else{J.progressStatus.text(J._calculatePercentage(K)+"%")}}}},value:function(G){return this._value(G)},_value:function(I){var H=this;var G=H.options;var J;if(I===l){return G.value}else{if(typeof I!==q){I=H._roundValue(I);if(!isNaN(I)){J=H._validateValue(I);if(J!==G.value){H.wrapper.removeClass(E);G.value=J;H._isStarted=true;H._updateProgress()}}}else{if(!I){H.wrapper.addClass(E);G.value=false}}}},_roundValue:function(H){H=parseFloat(H);var G=f.pow(10,s);return f.floor(H*G)/G},_validateValue:function(I){var H=this;var G=H.options;if(I!==false){if(I<=G.min||I===true){return G.min}else{if(I>=G.max){return G.max}}}else{if(I===false){return false}}if(isNaN(H._roundValue(I))){return G.min}return I},_updateProgress:function(){var I=this;var H=I.options;var G=I._calculatePercentage();if(H.type===t.CHUNK){I._updateChunks(G);I._onProgressUpdateAlways(H.value)}else{I._updateProgressWrapper(G)}},_updateChunks:function(G){var J=this;var H=J.options;var M=H.chunkCount;var L=parseInt((a/M)*100,10)/100;var N=parseInt(G*100,10)/100;var K=f.floor(N/L);var I;if((H.orientation===F&&!(H.reverse))||(H.orientation===y&&H.reverse)){I=J.wrapper.find("li.k-item:lt("+K+")")}else{I=J.wrapper.find("li.k-item:gt(-"+(K+1)+")")}J.wrapper.find("."+D).removeClass(D).addClass(g);I.removeClass(g).addClass(D)},_updateProgressWrapper:function(G){var I=this;var H=I.options;var L=I.wrapper.find("."+o);var K=I._isStarted?I._animation.duration:0;var J={};if(L.length===0){I._addRegularProgressWrapper()}J[I._progressProperty]=G+"%";I.progressWrapper.animate(J,{duration:K,start:z(I._onProgressAnimateStart,I),progress:z(I._onProgressAnimate,I),complete:z(I._onProgressAnimateComplete,I,H.value),always:z(I._onProgressUpdateAlways,I,H.value)})},_onProgressAnimateStart:function(){this.progressWrapper.show()},_onProgressAnimate:function(K){var J=this;var I=J.options;var H=parseFloat(K.elem.style[J._progressProperty],10);var G;if(I.showStatus){G=10000/parseFloat(J.progressWrapper[0].style[J._progressProperty]);J.progressWrapper.find(".k-progress-status-wrap").css(J._progressProperty,G+"%")}if(I.type!==t.CHUNK&&H<=98){J.progressWrapper.removeClass(p)}},_onProgressAnimateComplete:function(H){var I=this;var G=I.options;var J=parseFloat(I.progressWrapper[0].style[I._progressProperty]);if(G.type!==t.CHUNK&&J>98){I.progressWrapper.addClass(p)}if(G.showStatus){if(G.type===t.VALUE){I.progressStatus.text(H)}else{I.progressStatus.text(f.floor(I._calculatePercentage(H))+"%")}}if(H===G.min){I.progressWrapper.hide()}},_onProgressUpdateAlways:function(H){var I=this;var G=I.options;if(I._isStarted){I.trigger(r,{value:H})}if(H===G.max&&I._isStarted){I.trigger(w,{value:G.max})}},enable:function(H){var I=this;var G=I.options;G.enable=typeof(H)==="undefined"?true:H;I.wrapper.toggleClass(x,!G.enable)},destroy:function(){var G=this;d.fn.destroy.call(G)},_addChunkProgressWrapper:function(){var K=this;var H=K.options;var G=K.wrapper;var L=a/H.chunkCount;var J="";if(H.chunkCount<=1){H.chunkCount=h}J+="<ul class='k-reset'>";for(var I=H.chunkCount-1;I>=0;I--){J+="<li class='k-item k-state-default'></li>"}J+="</ul>";G.append(J).find(".k-item").css(K._progressProperty,L+"%").first().addClass("k-first").end().last().addClass("k-last");K._normalizeChunkSize()},_normalizeChunkSize:function(){var I=this;var H=I.options;var K=I.wrapper.find(".k-item:last");var G=parseFloat(K[0].style[I._progressProperty]);var J=a-(H.chunkCount*G);if(J>0){K.css(I._progressProperty,(G+J)+"%")}},_addRegularProgressWrapper:function(){var G=this;G.progressWrapper=i("<div class='"+o+"'></div>").appendTo(G.wrapper);if(G.options.showStatus){G.progressWrapper.append(e.progressStatus);G.progressStatus=G.wrapper.find("."+m)}},_calculateChunkSize:function(){var H=this;var I=H.options.chunkCount;var G=H.wrapper.find("ul.k-reset");return(parseInt(G.css(H._progressProperty),10)-(I-1))/I},_calculatePercentage:function(J){var K=this;var H=K.options;var L=(J!==l)?J:H.value;var I=H.min;var G=H.max;K._onePercent=f.abs((G-I)/100);return f.abs((L-I)/K._onePercent)},_progressAnimation:function(){var H=this;var G=H.options;var I=G.animation;if(I===false){H._animation={duration:0}}else{H._animation=A({duration:B},G.animation)}}});v.ui.plugin(j)})(window.kendo.jQuery);(function(W,E,v){var S=W.kendo;var h=!!W.Uint8Array;var U="\n";var ab=0;var n=(function(){var ao="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{decode:function(at){var au=at.replace(/[^A-Za-z0-9\+\/\=]/g,""),ar=0,ap=au.length,aq=[];while(ar<ap){var aB=ao.indexOf(au.charAt(ar++));var az=ao.indexOf(au.charAt(ar++));var ax=ao.indexOf(au.charAt(ar++));var av=ao.indexOf(au.charAt(ar++));var aA=(aB<<2)|(az>>>4);var ay=((az&15)<<4)|(ax>>>2);var aw=((ax&3)<<6)|av;aq.push(aA);if(ax!=64){aq.push(ay)}if(av!=64){aq.push(aw)}}return aq},encode:function(aA){var ar=0,ap=aA.length;var aq="";while(ar<ap){var az=aA[ar++];var ax=aA[ar++];var av=aA[ar++];var ay=az>>>2;var aw=((az&3)<<4)|(ax>>>4);var au=((ax&15)<<2)|(av>>>6);var at=av&63;if(ar-ap==2){au=at=64}else{if(ar-ap==1){at=64}}aq+=ao.charAt(ay)+ao.charAt(aw)+ao.charAt(au)+ao.charAt(at)}return aq}}}());var O={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],executive:[521.86,756],folio:[612,936],legal:[612,1008],letter:[612,792],tabloid:[792,1224]};function R(){var aq=0,ao=q();function ap(){for(var au=0;au<arguments.length;++au){var ar=arguments[au];if(ar===v){throw new Error("Cannot output undefined to PDF")}else{if(ar instanceof f){ar.beforeRender(ap);ar.render(ap)}else{if(L(ar)){J(ar,ap)}else{if(K(ar)){s(ar,ap)}else{if(typeof ar=="number"){if(isNaN(ar)){throw new Error("Cannot output NaN to PDF")}var at=ar.toFixed(7);if(at.indexOf(".")>=0){at=at.replace(/\.?0+$/,"")}if(at=="-0"){at="0"}ao.writeString(at)}else{if(/string|boolean/.test(typeof ar)){ao.writeString(ar+"")}else{if(typeof ar.get=="function"){ao.write(ar.get())}else{if(typeof ar=="object"){if(!ar){ao.writeString("null")}else{ap(new I(ar))}}}}}}}}}}}ap.writeData=function(ar){ao.write(ar)};ap.withIndent=function(ar){++aq;ar(ap);--aq};ap.indent=function(){ap(U,z("",aq*2,"  "));ap.apply(null,arguments)};ap.offset=function(){return ao.offset()};ap.toString=function(){throw new Error("FIX CALLER")};ap.get=function(){return ao.get()};ap.stream=function(){return ao};return ap}function G(ap,ar){var ao=ap.beforeRender;var aq=ap.render;ap.beforeRender=function(){};ap.render=function(at){at(ar," 0 R")};ap.renderFull=function(at){ap._offset=at.offset();at(ar," 0 obj ");ao.call(ap,at);aq.call(ap,at);at(" endobj")}}function b(ao){var aq=ao("paperSize",O.a4);if(!aq){return{}}if(typeof aq=="string"){aq=O[aq.toLowerCase()];if(aq==null){throw new Error("Unknown paper size")}}aq[0]=w(aq[0]);aq[1]=w(aq[1]);if(ao("landscape",false)){aq=[Math.max(aq[0],aq[1]),Math.min(aq[0],aq[1])]}var ap=ao("margin");if(ap){if(typeof ap=="string"||typeof ap=="number"){ap=w(ap,0);ap={left:ap,top:ap,right:ap,bottom:ap}}else{ap={left:w(ap.left,0),top:w(ap.top,0),right:w(ap.right,0),bottom:w(ap.bottom,0)}}if(ao("addMargin")){aq[0]+=ap.left+ap.right;aq[1]+=ap.top+ap.bottom}}return{paperSize:aq,margin:ap}}function M(at){var ap=this;var ar=R();var au=0;var av=[];function aq(ay,ax){return(at&&at[ay]!=null)?at[ay]:ax}ap.getOption=aq;ap.attach=function(ax){if(av.indexOf(ax)<0){G(ax,++au);av.push(ax)}return ax};ap.pages=[];ap.FONTS={};ap.IMAGES={};ap.GRAD_COL_FUNCTIONS={};ap.GRAD_OPC_FUNCTIONS={};ap.GRAD_COL={};ap.GRAD_OPC={};var ao=ap.attach(new N());var aw=ap.attach(new m());ao.setPages(aw);ap.addPage=function(aF){var aD=b(function(aH,aG){return(aF&&aF[aH]!=null)?aF[aH]:aG});var ay=aD.paperSize;var az=aD.margin;var ax=ay[0];var aE=ay[1];if(az){ax-=az.left+az.right;aE-=az.top+az.bottom}var aA=new ak(R(),null,true);var aC={Contents:ap.attach(aA),Parent:aw,MediaBox:[0,0,ay[0],ay[1]]};var aB=new c(ap,aC);aB._content=aA;aw.addPage(ap.attach(aB));aB.transform(1,0,0,-1,0,ay[1]);if(az){aB.translate(az.left,az.top);aB.rect(0,0,ax,aE);aB.clip()}ap.pages.push(aB);return aB};ap.render=function(){var ay;ar("%PDF-1.4",U,"%\xc2\xc1\xda\xcf\xce",U,U);for(ay=0;ay<av.length;++ay){av[ay].renderFull(ar);ar(U,U)}var ax=ar.offset();ar("xref",U,0," ",av.length+1,U);ar("0000000000 65535 f ",U);for(ay=0;ay<av.length;++ay){ar(k(av[ay]._offset,10)," 00000 n ",U)}ar(U);ar("trailer",U);ar(new I({Size:av.length+1,Root:ao,Info:new I({Producer:new x(aq("producer","Kendo UI PDF Generator")),Title:new x(aq("title","")),Author:new x(aq("author","")),Subject:new x(aq("subject","")),Keywords:new x(aq("keywords","")),Creator:new x(aq("creator","Kendo UI PDF Generator")),CreationDate:aq("date",new Date())})}),U,U);ar("startxref",U,ax,U);ar("%%EOF",U);return ar.stream().offset(0)}}var ah={"Times-Roman":true,"Times-Bold":true,"Times-Italic":true,"Times-BoldItalic":true,Helvetica:true,"Helvetica-Bold":true,"Helvetica-Oblique":true,"Helvetica-BoldOblique":true,Courier:true,"Courier-Bold":true,"Courier-Oblique":true,"Courier-BoldOblique":true,Symbol:true,ZapfDingbats:true};function A(aq,ao){function ap(){if(W.console){if(W.console.error){W.console.error("Cannot load URL: %s",aq)}else{W.console.log("Cannot load URL: %s",aq)}}ao(null)}var ar=new XMLHttpRequest();ar.open("GET",aq,true);if(h){ar.responseType="arraybuffer"}ar.onload=function(){if(ar.status==200||ar.status==304){if(h){ao(new Uint8Array(ar.response))}else{ao(new VBArray(ar.responseBody).toArray())}}else{ap()}};ar.onerror=ap;ar.send(null)}function o(aq,ao){var ap=ah[aq];if(ap){ao(ap)}else{A(aq,function(at){if(at==null){throw new Error("Cannot load font from "+aq)}else{var ar=new S.pdf.TTFFont(at);ah[aq]=ar;ao(ar)}})}}var T={};function H(aq,ax){var ar=T[aq],ao,ap;if(ar){ax(ar)}else{ar=new Image();if(!(/^data:/i.test(aq))){ar.crossOrigin="Anonymous"}if(h&&!(/^data:/i.test(aq))){var aw=new XMLHttpRequest();aw.onload=function(){ap=aw.response;ao=URL.createObjectURL(ap);au(ao)};aw.onerror=at;aw.open("GET",aq,true);aw.responseType="blob";aw.send()}else{au(aq)}}function au(ay){ar.src=ay;if(ar.complete&&!S.support.browser.msie){av()}else{ar.onload=av;ar.onerror=at}}function at(){ax(T[aq]="TAINTED")}function av(){if(ap&&/^image\/jpe?g$/i.test(ap.type)){var aD=new FileReader();aD.onload=function(){ar=new ag(ar.width,ar.height,q(new Uint8Array(this.result)));URL.revokeObjectURL(ao);ax(T[aq]=ar)};aD.readAsArrayBuffer(ap);return}var ay=document.createElement("canvas");ay.width=ar.width;ay.height=ar.height;var aK=ay.getContext("2d");aK.drawImage(ar,0,0);var aI;try{aI=aK.getImageData(0,0,ar.width,ar.height)}catch(aE){return at()}finally{if(ao){URL.revokeObjectURL(ao)}}var aC=false,aF=q(),az=q();var aG=aI.data;var aB=0;while(aB<aG.length){aF.writeByte(aG[aB++]);aF.writeByte(aG[aB++]);aF.writeByte(aG[aB++]);var aH=aG[aB++];if(aH<255){aC=true}az.writeByte(aH)}if(aC){ar=new aa(ar.width,ar.height,aF,az)}else{var aA=ay.toDataURL("image/jpeg");aA=aA.substr(aA.indexOf(";base64,")+8);var aJ=q();aJ.writeBase64(aA);aJ.offset(0);ar=new ag(ar.width,ar.height,aJ)}ax(T[aq]=ar)}}function X(ao){return function(aq,at){var ar=aq.length,ap=ar;if(ar===0){return at()}while(ap-->0){ao(aq[ap],function(){if(--ar===0){at()}})}}}var l=X(o);var j=X(H);M.prototype={loadFonts:l,loadImages:j,getFont:function(ap){var ao=this.FONTS[ap];if(!ao){ao=ah[ap];if(!ao){throw new Error("Font "+ap+" has not been loaded")}if(ao===true){ao=this.attach(new t(ap))}else{ao=this.attach(new ae(this,ao))}this.FONTS[ap]=ao}return ao},getImage:function(ap){var ao=this.IMAGES[ap];if(!ao){ao=T[ap];if(!ao){throw new Error("Image "+ap+" has not been loaded")}if(ao==="TAINTED"){return null}ao=this.IMAGES[ap]=this.attach(ao.asStream(this))}return ao},getOpacityGS:function(aq,at){var au=E(aq).toFixed(3);aq=E(au);au+=at?"S":"F";var ap=this._opacityGSCache||(this._opacityGSCache={});var ao=ap[au];if(!ao){var ar={Type:am("ExtGState")};if(at){ar.CA=aq}else{ar.ca=aq}ao=this.attach(new I(ar));ao._resourceName=am("GS"+(++ab));ap[au]=ao}return ao},dict:function(ao){return new I(ao)},name:function(ao){return am(ao)},stream:function(ao,ap){return new ak(ap,ao)}};function z(aq,ao,ap){while(aq.length<ao){aq=ap+aq}return aq}function k(ap,ao){return z(ap+"",ao,"0")}function r(ap,ao){return Object.prototype.hasOwnProperty.call(ap,ao)}var L=Array.isArray||function(ao){return ao instanceof Array};function K(ao){return ao instanceof Date}function J(ao,ap){ap("[");if(ao.length>0){ap.withIndent(function(){for(var aq=0;aq<ao.length;++aq){if(aq>0&&aq%8===0){ap.indent(ao[aq])}else{ap(" ",ao[aq])}}})}ap(" ]")}function s(ap,ao){ao("(D:",k(ap.getUTCFullYear(),4),k(ap.getUTCMonth()+1,2),k(ap.getUTCDate(),2),k(ap.getUTCHours(),2),k(ap.getUTCMinutes(),2),k(ap.getUTCSeconds(),2),"Z)")}function D(ao){return ao*(72/25.4)}function i(ao){return D(ao*10)}function ad(ao){return ao*72}function w(ap,ar){if(typeof ap=="number"){return ap}if(typeof ap=="string"){var ao;ao=/^\s*([0-9.]+)\s*(mm|cm|in|pt)\s*$/.exec(ap);if(ao){var aq=E(ao[1]);if(!isNaN(aq)){if(ao[2]=="pt"){return aq}return{mm:D,cm:i,"in":ad}[ao[2]](aq)}}}if(ar!=null){return ar}throw new Error("Can't parse unit: "+ap)}function f(){}f.prototype.beforeRender=function(){};function an(ao,ar,aq){if(!aq){aq=f}ao.prototype=new aq();for(var ap in ar){if(r(ar,ap)){ao.prototype[ap]=ar[ap]}}return ao}var x=an(function x(ao){this.value=ao},{render:function(aq){var ao="",ap=this.escape();for(var ar=0;ar<ap.length;++ar){ao+=String.fromCharCode(ap.charCodeAt(ar)&255)}aq("(",ao,")")},escape:function(){return this.value.replace(/([\(\)\\])/g,"\\$1")},toString:function(){return this.value}});var al=an(function al(ao){this.value=ao},{render:function(ao){ao("<");for(var ap=0;ap<this.value.length;++ap){ao(k(this.value.charCodeAt(ap).toString(16),4))}ao(">")}},x);var u=an(function u(ao){this.name=ao},{render:function(ao){ao("/"+this.escape())},escape:function(){return this.name.replace(/[^\x21-\x7E]/g,function(ao){return"#"+k(ao.charCodeAt(0).toString(16),2)})},toString:function(){return this.name}});var af={};u.get=am;function am(ao){if(r(af,ao)){return af[ao]}return(af[ao]=new u(ao))}var I=an(function I(ao){this.props=ao},{render:function(ao){var ap=this.props,aq=true;ao("<<");ao.withIndent(function(){for(var ar in ap){if(r(ap,ar)&&!/^_/.test(ar)){aq=false;ao.indent(am(ar)," ",ap[ar])}}});if(!aq){ao.indent()}ao(">>")}});var ak=an(function ak(ar,aq,ao){if(typeof ar=="string"){var ap=q();ap.write(ar);ar=ap}this.data=ar;this.props=aq||{};this.compress=ao},{render:function(ao){var aq=this.data.get(),ap=this.props;if(this.compress&&W.pako&&typeof W.pako.deflate=="function"){if(!ap.Filter){ap.Filter=[]}else{if(!(ap.Filter instanceof Array)){ap.Filter=[ap.Filter]}}ap.Filter.unshift(am("FlateDecode"));aq=W.pako.deflate(aq)}ap.Length=aq.length;ao(new I(ap)," stream",U);ao.writeData(aq);ao(U,"endstream")}});var N=an(function N(ao){ao=this.props=ao||{};ao.Type=am("Catalog")},{setPages:function(ao){this.props.Pages=ao}},I);var m=an(function m(){this.props={Type:am("Pages"),Kids:[],Count:0}},{addPage:function(ao){this.props.Kids.push(ao);this.props.Count++}},I);function ag(ap,ao,aq){this.asStream=function(){var ar=new ak(aq,{Type:am("XObject"),Subtype:am("Image"),Width:ap,Height:ao,BitsPerComponent:8,ColorSpace:am("DeviceRGB"),Filter:am("DCTDecode")});ar._resourceName=am("I"+(++ab));return ar}}function aa(aq,ao,ap,ar){this.asStream=function(au){var at=new ak(ar,{Type:am("XObject"),Subtype:am("Image"),Width:aq,Height:ao,BitsPerComponent:8,ColorSpace:am("DeviceGray")},true);var av=new ak(ap,{Type:am("XObject"),Subtype:am("Image"),Width:aq,Height:ao,BitsPerComponent:8,ColorSpace:am("DeviceRGB"),SMask:au.attach(at)},true);av._resourceName=am("I"+(++ab));return av}}var t=an(function t(ao){this.props={Type:am("Font"),Subtype:am("Type1"),BaseFont:am(ao)};this._resourceName=am("F"+(++ab))},{encodeText:function(ao){return new x(ao+"")}},I);var ae=an(function ae(ao,ap,ar){ar=this.props=ar||{};ar.Type=am("Font");ar.Subtype=am("Type0");ar.Encoding=am("Identity-H");this._pdf=ao;this._font=ap;this._sub=ap.makeSubset();this._resourceName=am("F"+(++ab));var aq=ap.head;this.name=ap.psName;var at=this.scale=ap.scale;this.bbox=[aq.xMin*at,aq.yMin*at,aq.xMax*at,aq.yMax*at];this.italicAngle=ap.post.italicAngle;this.ascent=ap.ascent*at;this.descent=ap.descent*at;this.lineGap=ap.lineGap*at;this.capHeight=ap.os2.capHeight||this.ascent;this.xHeight=ap.os2.xHeight||0;this.stemV=0;this.familyClass=(ap.os2.familyClass||0)>>8;this.isSerif=this.familyClass>=1&&this.familyClass<=7;this.isScript=this.familyClass==10;this.flags=((ap.post.isFixedPitch?1:0)|(this.isSerif?1<<1:0)|(this.isScript?1<<3:0)|(this.italicAngle!==0?1<<6:0)|(1<<5))},{encodeText:function(ao){return new al(this._sub.encodeText(ao+""))},getTextWidth:function(ar,at){var ap=0,au=this._font.cmap.getUnicodeEntry().codeMap;for(var ao=0;ao<at.length;++ao){var aq=au[at.charCodeAt(ao)];ap+=this._font.widthOfGlyph(aq||0)}return ap*ar/1000},beforeRender:function(){var aC=this;var ar=aC._font;var ao=aC._sub;var aw=ao.render();var aq=new ak(q(aw),{Length1:aw.length},true);var ap=aC._pdf.attach(new I({Type:am("FontDescriptor"),FontName:am(aC._sub.psName),FontBBox:aC.bbox,Flags:aC.flags,StemV:aC.stemV,ItalicAngle:aC.italicAngle,Ascent:aC.ascent,Descent:aC.descent,CapHeight:aC.capHeight,XHeight:aC.xHeight,FontFile2:aC._pdf.attach(aq)}));var au=ao.ncid2ogid;var az=ao.firstChar;var aA=ao.lastChar;var ay=[];(function ax(aF,aE){if(aF<=aA){var aG=au[aF];if(aG==null){ax(aF+1)}else{if(!aE){ay.push(aF,aE=[])}aE.push(aC._font.widthOfGlyph(aG));ax(aF+1,aE)}}})(az);var aB=new I({Type:am("Font"),Subtype:am("CIDFontType2"),BaseFont:am(aC._sub.psName),CIDSystemInfo:new I({Registry:new x("Adobe"),Ordering:new x("Identity"),Supplement:0}),FontDescriptor:ap,FirstChar:az,LastChar:aA,DW:Math.round(aC._font.widthOfGlyph(0)),W:ay,CIDToGIDMap:aC._pdf.attach(aC._makeCidToGidMap())});var at=aC.props;at.BaseFont=am(aC._sub.psName);at.DescendantFonts=[aC._pdf.attach(aB)];var aD=new aj(az,aA,ao.subset);var av=new ak(R(),null,true);av.data(aD);at.ToUnicode=aC._pdf.attach(av)},_makeCidToGidMap:function(){return new ak(q(this._sub.cidToGidMap()),null,true)}},I);var aj=an(function p(ap,ao,aq){this.firstChar=ap;this.lastChar=ao;this.map=aq},{render:function(ap){ap.indent("/CIDInit /ProcSet findresource begin");ap.indent("12 dict begin");ap.indent("begincmap");ap.indent("/CIDSystemInfo <<");ap.indent("  /Registry (Adobe)");ap.indent("  /Ordering (UCS)");ap.indent("  /Supplement 0");ap.indent(">> def");ap.indent("/CMapName /Adobe-Identity-UCS def");ap.indent("/CMapType 2 def");ap.indent("1 begincodespacerange");ap.indent("  <0000><ffff>");ap.indent("endcodespacerange");var ao=this;ap.indent(ao.lastChar-ao.firstChar+1," beginbfchar");ap.withIndent(function(){for(var ar=ao.firstChar;ar<=ao.lastChar;++ar){var aq=ao.map[ar];ap.indent("<",k(ar.toString(16),4),">","<",k(aq.toString(16),4),">")}});ap.indent("endbfchar");ap.indent("endcmap");ap.indent("CMapName currentdict /CMap defineresource pop");ap.indent("end");ap.indent("end")}});function e(ao){return ao.map(function(ap){return L(ap)?e(ap):typeof ap=="number"?(Math.round(ap*1000)/1000).toFixed(3):ap}).join(" ")}function V(ap,ar,ao,aw,aq,ax,av){var au=e([ar,ao,aw,aq,ax,av]);var at=ap.GRAD_COL_FUNCTIONS[au];if(!at){at=ap.GRAD_COL_FUNCTIONS[au]=ap.attach(new I({FunctionType:2,Domain:[0,1],Range:[0,1,0,1,0,1],N:1,C0:[ar,ao,aw],C1:[aq,ax,av]}))}return at}function P(aq,ap,ao){var at=e([ap,ao]);var ar=aq.GRAD_OPC_FUNCTIONS[at];if(!ar){ar=aq.GRAD_OPC_FUNCTIONS[at]=aq.attach(new I({FunctionType:2,Domain:[0,1],Range:[0,1],N:1,C0:[ap],C1:[ao]}))}return ar}function ac(ar,aB){var ax=false;var aq=[];var ao=[];var av=[];var ay=[];var aw,au,aA,ap,az;for(aw=1;aw<aB.length;++aw){au=aB[aw-1];aA=aB[aw];ap=au.color;az=aA.color;ao.push(V(ar,ap.r,ap.g,ap.b,az.r,az.g,az.b));if(ap.a<1||az.a<1){ax=true}av.push(aA.offset);ay.push(0,1)}if(ax){for(aw=1;aw<aB.length;++aw){au=aB[aw-1];aA=aB[aw];ap=au.color;az=aA.color;aq.push(P(ar,ap.a,az.a))}}av.pop();return{hasAlpha:ax,colors:at(ao),opacities:ax?at(aq):null};function at(aC){if(aC.length==1){return aC[0]}return{FunctionType:3,Functions:aC,Domain:[0,1],Bounds:av,Encode:ay}}}function Q(ap,aq,ax,aw,ao,at){var au,ar;if(!at){var av=[aq].concat(aw);ax.forEach(function(ay){av.push(ay.offset,ay.color.r,ay.color.g,ay.color.b)});ar=e(av);au=ap.GRAD_COL[ar]}if(!au){au=new I({Type:am("Shading"),ShadingType:aq?3:2,ColorSpace:am("DeviceRGB"),Coords:aw,Domain:[0,1],Function:ao,Extend:[true,true]});ap.attach(au);au._resourceName="S"+(++ab);if(ar){ap.GRAD_COL[ar]=au}}return au}function a(ap,aq,ax,aw,ao,at){var au,ar;if(!at){var av=[aq].concat(aw);ax.forEach(function(ay){av.push(ay.offset,ay.color.a)});ar=e(av);au=ap.GRAD_OPC[ar]}if(!au){au=new I({Type:am("ExtGState"),AIS:false,CA:1,ca:1,SMask:{Type:am("Mask"),S:am("Luminosity"),G:ap.attach(new ak("/a0 gs /s0 sh",{Type:am("XObject"),Subtype:am("Form"),FormType:1,BBox:(at?[at.left,at.top+at.height,at.left+at.width,at.top]:[0,1,1,0]),Group:{Type:am("Group"),S:am("Transparency"),CS:am("DeviceGray"),I:true},Resources:{ExtGState:{a0:{CA:1,ca:1}},Shading:{s0:{ColorSpace:am("DeviceGray"),Coords:aw,Domain:[0,1],ShadingType:aq?3:2,Function:ao,Extend:[true,true]}}}}))}});ap.attach(au);au._resourceName="O"+(++ab);if(ar){ap.GRAD_OPC[ar]=au}}return au}function C(ao,aw,at){var av=aw.type=="radial";var aq=ac(ao,aw.stops);var au=av?[aw.start.x,aw.start.y,aw.start.r,aw.end.x,aw.end.y,aw.end.r]:[aw.start.x,aw.start.y,aw.end.x,aw.end.y];var ap=Q(ao,av,aw.stops,au,aq.colors,aw.userSpace&&at);var ar=aq.hasAlpha?a(ao,av,aw.stops,au,aq.opacities,aw.userSpace&&at):null;return{hasAlpha:aq.hasAlpha,shading:ap,opacity:ar}}var c=an(function c(ao,ap){this._pdf=ao;this._rcount=0;this._textMode=false;this._fontResources={};this._gsResources={};this._xResources={};this._patResources={};this._shResources={};this._opacity=1;this._matrix=[1,0,0,1,0,0];this._annotations=[];this._font=null;this._fontSize=null;this._contextStack=[];ap=this.props=ap||{};ap.Type=am("Page");ap.ProcSet=[am("PDF"),am("Text"),am("ImageB"),am("ImageC"),am("ImageI")];ap.Resources=new I({Font:new I(this._fontResources),ExtGState:new I(this._gsResources),XObject:new I(this._xResources),Pattern:new I(this._patResources),Shading:new I(this._shResources)});ap.Annots=this._annotations},{_out:function(){this._content.data.apply(null,arguments)},transform:function(ap,ao,au,at,ar,aq){if(!y(arguments)){this._matrix=Y(arguments,this._matrix);this._out(ap," ",ao," ",au," ",at," ",ar," ",aq," cm");this._out(U)}},translate:function(ap,ao){this.transform(1,0,0,1,ap,ao)},scale:function(ap,ao){this.transform(ap,0,0,ao,0,0)},rotate:function(aq){var ap=Math.cos(aq),ao=Math.sin(aq);this.transform(ap,ao,-ao,ap,0,0)},beginText:function(){this._textMode=true;this._out("BT",U)},endText:function(){this._textMode=false;this._out("ET",U)},_requireTextMode:function(){if(!this._textMode){throw new Error("Text mode required; call page.beginText() first")}},_requireFont:function(){if(!this._font){throw new Error("No font selected; call page.setFont() first")}},setFont:function(ao,ap){this._requireTextMode();if(ao==null){ao=this._font}else{if(!(ao instanceof ae)){ao=this._pdf.getFont(ao)}}if(ap==null){ap=this._fontSize}this._fontResources[ao._resourceName]=ao;this._font=ao;this._fontSize=ap;this._out(ao._resourceName," ",ap," Tf",U)},setTextLeading:function(ao){this._requireTextMode();this._out(ao," TL",U)},setTextRenderingMode:function(ao){this._requireTextMode();this._out(ao," Tr",U)},showText:function(aq,ao){this._requireFont();if(aq.length>1&&ao&&this._font instanceof ae){var ar=this._font.getTextWidth(this._fontSize,aq);var ap=ao/ar*100;this._out(ap," Tz ")}this._out(this._font.encodeText(aq)," Tj",U)},showTextNL:function(ao){this._requireFont();this._out(this._font.encodeText(ao)," '",U)},addLink:function(ap,ao){var aq=this._toPage({x:ao.left,y:ao.bottom});var ar=this._toPage({x:ao.right,y:ao.top});this._annotations.push(new I({Type:am("Annot"),Subtype:am("Link"),Rect:[aq.x,aq.y,ar.x,ar.y],Border:[0,0,0],A:new I({Type:am("Action"),S:am("URI"),URI:new x(ap)})}))},setStrokeColor:function(aq,ap,ao){this._out(aq," ",ap," ",ao," RG",U)},setOpacity:function(ao){this.setFillOpacity(ao);this.setStrokeOpacity(ao);this._opacity*=ao},setStrokeOpacity:function(ap){if(ap<1){var ao=this._pdf.getOpacityGS(this._opacity*ap,true);this._gsResources[ao._resourceName]=ao;this._out(ao._resourceName," gs",U)}},setFillColor:function(aq,ap,ao){this._out(aq," ",ap," ",ao," rg",U)},setFillOpacity:function(ap){if(ap<1){var ao=this._pdf.getOpacityGS(this._opacity*ap,false);this._gsResources[ao._resourceName]=ao;this._out(ao._resourceName," gs",U)}},gradient:function(ar,aq){this.save();this.rect(aq.left,aq.top,aq.width,aq.height);this.clip();if(!ar.userSpace){this.transform(aq.width,0,0,aq.height,aq.left,aq.top)}var ap=C(this._pdf,ar,aq);var ao=ap.shading._resourceName,at;this._shResources[ao]=ap.shading;if(ap.hasAlpha){at=ap.opacity._resourceName;this._gsResources[at]=ap.opacity;this._out("/"+at+" gs ")}this._out("/"+ao+" sh",U);this.restore()},setDashPattern:function(ao,ap){this._out(ao," ",ap," d",U)},setLineWidth:function(ao){this._out(ao," w",U)},setLineCap:function(ao){this._out(ao," J",U)},setLineJoin:function(ao){this._out(ao," j",U)},setMitterLimit:function(ao){this._out(ao," M",U)},save:function(){this._contextStack.push(this._context());this._out("q",U)},restore:function(){this._out("Q",U);this._context(this._contextStack.pop())},moveTo:function(ao,ap){this._out(ao," ",ap," m",U)},lineTo:function(ao,ap){this._out(ao," ",ap," l",U)},bezier:function(ar,au,ap,at,ao,aq){this._out(ar," ",au," ",ap," ",at," ",ao," ",aq," c",U)},bezier1:function(aq,ar,ao,ap){this._out(aq," ",ar," ",ao," ",ap," y",U)},bezier2:function(ap,ar,ao,aq){this._out(ap," ",ar," ",ao," ",aq," v",U)},close:function(){this._out("h",U)},rect:function(ao,ar,ap,aq){this._out(ao," ",ar," ",ap," ",aq," re",U)},ellipse:function(ao,av,au,at){function ar(aw){return ao+aw}function ap(aw){return av+aw}var aq=0.5522847498307936;this.moveTo(ar(0),ap(at));this.bezier(ar(au*aq),ap(at),ar(au),ap(at*aq),ar(au),ap(0));this.bezier(ar(au),ap(-at*aq),ar(au*aq),ap(-at),ar(0),ap(-at));this.bezier(ar(-au*aq),ap(-at),ar(-au),ap(-at*aq),ar(-au),ap(0));this.bezier(ar(-au),ap(at*aq),ar(-au*aq),ap(at),ar(0),ap(at))},circle:function(ao,aq,ap){this.ellipse(ao,aq,ap,ap)},stroke:function(){this._out("S",U)},nop:function(){this._out("n",U)},clip:function(){this._out("W n",U)},clipStroke:function(){this._out("W S",U)},closeStroke:function(){this._out("s",U)},fill:function(){this._out("f",U)},fillStroke:function(){this._out("B",U)},drawImage:function(ap){var ao=this._pdf.getImage(ap);if(ao){this._xResources[ao._resourceName]=ao;this._out(ao._resourceName," Do",U)}},comment:function(ao){var ap=this;ao.split(/\r?\n/g).forEach(function(aq){ap._out("% ",aq,U)})},_context:function(ao){if(ao!=null){this._opacity=ao.opacity;this._matrix=ao.matrix}else{return{opacity:this._opacity,matrix:this._matrix}}},_toPage:function(au){var ap=this._matrix;var aq=ap[0],ao=ap[1],aw=ap[2],av=ap[3],at=ap[4],ar=ap[5];return{x:aq*au.x+aw*au.y+at,y:ao*au.x+av*au.y+ar}}},I);function q(aP){var ay=0,aw=0;if(aP==null){aP=h?new Uint8Array(256):[]}else{aw=aP.length}var aG=h?function(aQ){if(aQ>=aP.length){var aR=new Uint8Array(Math.max(aQ+256,aP.length*2));aR.set(aP,0);aP=aR}}:function(){};var aN=h?function(){return new Uint8Array(aP.buffer,0,aw)}:function(){return aP};var aM=h?function(aR){if(typeof aR=="string"){return aI(aR)}var aQ=aR.length;aG(ay+aQ);aP.set(aR,ay);ay+=aQ;if(ay>aw){aw=ay}}:function(aQ){if(typeof aQ=="string"){return aI(aQ)}for(var aR=0;aR<aQ.length;++aR){aD(aQ[aR])}};var aF=h?function(aS,aR){if(aP.buffer.slice){return new Uint8Array(aP.buffer.slice(aS,aS+aR))}else{var aQ=new Uint8Array(aR);aQ.set(new Uint8Array(aP.buffer,aS,aR));return aQ}}:function(aR,aQ){return aP.slice(aR,aR+aQ)};function aB(){return ay>=aw}function ap(){return ay<aw?aP[ay++]:0}function aD(aQ){aG(ay);aP[ay++]=aQ&255;if(ay>aw){aw=ay}}function au(){return(ap()<<8)|ap()}function aK(aQ){aD(aQ>>8);aD(aQ)}function aC(){var aQ=au();return aQ>=32768?aQ-65536:aQ}function aq(aQ){aK(aQ<0?aQ+65536:aQ)}function aO(){return(au()*65536)+au()}function az(aQ){aK((aQ>>>16)&65535);aK(aQ&65535)}function ao(){var aQ=aO();return aQ>=2147483648?aQ-4294967296:aQ}function aE(aQ){az(aQ<0?aQ+4294967296:aQ)}function av(){return aO()/65536}function aL(aQ){az(Math.round(aQ*65536))}function at(){return ao()/65536}function aJ(aQ){aE(Math.round(aQ*65536))}function aH(aQ){return aA(aQ,ap)}function ar(aQ){return String.fromCharCode.apply(String,aH(aQ))}function aI(aR){for(var aQ=0;aQ<aR.length;++aQ){aD(aR.charCodeAt(aQ))}}function aA(aT,aQ){for(var aR=new Array(aT),aS=0;aS<aT;++aS){aR[aS]=aQ()}return aR}var ax={eof:aB,readByte:ap,writeByte:aD,readShort:au,writeShort:aK,readLong:aO,writeLong:az,readFixed:av,writeFixed:aL,readShort_:aC,writeShort_:aq,readLong_:ao,writeLong_:aE,readFixed_:at,writeFixed_:aJ,read:aH,write:aM,readString:ar,writeString:aI,times:aA,get:aN,slice:aF,offset:function(aQ){if(aQ!=null){ay=aQ;return ax}return ay},skip:function(aQ){ay+=aQ},toString:function(){throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!")},length:function(){return aw},saveExcursion:function(aQ){var aR=ay;try{return aQ()}finally{ay=aR}},writeBase64:function(aQ){if(W.atob){aI(W.atob(aQ))}else{aM(n.decode(aQ))}},base64:function(){return n.encode(aN())}};return ax}function F(ao){return ao.replace(/^\s*(['"])(.*)\1\s*$/,"$2")}function B(ap){var ar=/^\s*((normal|italic)\s+)?((normal|small-caps)\s+)?((normal|bold|\d+)\s+)?(([0-9.]+)(px|pt))(\/(([0-9.]+)(px|pt)|normal))?\s+(.*?)\s*$/i;var ao=ar.exec(ap);if(!ao){return{fontSize:12,fontFamily:"sans-serif"}}var aq=ao[8]?parseInt(ao[8],10):12;return{italic:ao[2]&&ao[2].toLowerCase()=="italic",variant:ao[4],bold:ao[6]&&/bold|700/i.test(ao[6]),fontSize:aq,lineHeight:ao[12]?ao[12]=="normal"?aq:parseInt(ao[12],10):null,fontFamily:ao[14].split(/\s*,\s*/g).map(F)}}function g(au){function ap(av){if(au.bold){av+="|bold"}if(au.italic){av+="|italic"}return av.toLowerCase()}var ao=au.fontFamily;var ar,aq;if(ao instanceof Array){for(var at=0;at<ao.length;++at){ar=ap(ao[at]);aq=d[ar];if(aq){break}}}else{aq=d[ao.toLowerCase()]}while(typeof aq=="function"){aq=aq()}if(!aq){aq="Times-Roman"}return aq}var d={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique",zapfdingbats:"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"};function Z(ap,ao){ap=ap.toLowerCase();d[ap]=function(){return d[ao]};d[ap+"|bold"]=function(){return d[ao+"|bold"]};d[ap+"|italic"]=function(){return d[ao+"|italic"]};d[ap+"|bold|italic"]=function(){return d[ao+"|bold|italic"]}}Z("Times New Roman","serif");Z("Courier New","monospace");Z("Arial","sans-serif");Z("Helvetica","sans-serif");Z("Verdana","sans-serif");Z("Tahoma","sans-serif");Z("Georgia","sans-serif");Z("Monaco","monospace");Z("Andale Mono","monospace");function ai(ap,ao){if(arguments.length==1){for(var aq in ap){if(r(ap,aq)){ai(aq,ap[aq])}}}else{ap=ap.toLowerCase();d[ap]=ao;switch(ap){case"dejavu sans":d["sans-serif"]=ao;break;case"dejavu sans|bold":d["sans-serif|bold"]=ao;break;case"dejavu sans|italic":d["sans-serif|italic"]=ao;break;case"dejavu sans|bold|italic":d["sans-serif|bold|italic"]=ao;break;case"dejavu serif":d.serif=ao;break;case"dejavu serif|bold":d["serif|bold"]=ao;break;case"dejavu serif|italic":d["serif|italic"]=ao;break;case"dejavu serif|bold|italic":d["serif|bold|italic"]=ao;break;case"dejavu mono":d.monospace=ao;break;case"dejavu mono|bold":d["monospace|bold"]=ao;break;case"dejavu mono|italic":d["monospace|italic"]=ao;break;case"dejavu mono|bold|italic":d["monospace|bold|italic"]=ao;break}}}S.pdf={Document:M,BinaryStream:q,defineFont:ai,parseFontDef:B,getFontURL:g,loadFonts:l,loadImages:j,getPaperOptions:b,TEXT_RENDERING_MODE:{fill:0,stroke:1,fillAndStroke:2,invisible:3,fillAndClip:4,strokeAndClip:5,fillStrokeClip:6,clip:7}};function Y(aC,aA){var ar=aC[0],aB=aC[1],aw=aC[2],aq=aC[3],az=aC[4],av=aC[5];var ap=aA[0],ay=aA[1],au=aA[2],ao=aA[3],ax=aA[4],at=aA[5];return[ar*ap+aB*au,ar*ay+aB*ao,aw*ap+aq*au,aw*ay+aq*ao,az*ap+av*au+ax,az*ay+av*ao+at]}function y(ao){return ao[0]===1&&ao[1]===0&&ao[2]===0&&ao[3]===1&&ao[4]===0&&ao[5]===0}})(window,parseFloat);(function(i){function j(w,v){return Object.prototype.hasOwnProperty.call(w,v)}function d(v){return Object.keys(v).sort(function(x,w){return x-w}).map(parseFloat)}var t=i.kendo.pdf;var o=t.BinaryStream;function b(y){this.raw=y;this.scalerType=y.readLong();this.tableCount=y.readShort();this.searchRange=y.readShort();this.entrySelector=y.readShort();this.rangeShift=y.readShort();var w=this.tables={};for(var v=0;v<this.tableCount;++v){var x={tag:y.readString(4),checksum:y.readLong(),offset:y.readLong(),length:y.readLong()};w[x.tag]=x}}b.prototype={readTable:function(w,v){var x=this.tables[w];if(!x){throw new Error("Table "+w+" not found in directory")}return(this[w]=x.table=new v(this,x))},render:function(F){var J=Object.keys(F).length;var D=Math.pow(2,Math.floor(Math.log(J)/Math.LN2));var B=D*16;var v=Math.floor(Math.log(D)/Math.LN2);var H=J*16-B;var y=o();y.writeLong(this.scalerType);y.writeShort(J);y.writeShort(B);y.writeShort(v);y.writeShort(H);var z=J*16;var x=y.offset()+z;var C=null;var w=o();for(var I in F){if(j(F,I)){var G=F[I];y.writeString(I);y.writeLong(this.checksum(G));y.writeLong(x);y.writeLong(G.length);w.write(G);if(I=="head"){C=x}x+=G.length;while(x%4){w.writeByte(0);x++}}}y.write(w.get());var A=this.checksum(y.get());var E=2981146554-A;y.offset(C+8);y.writeLong(E);return y.get()},checksum:function(w){w=o(w);var v=0;while(!w.eof()){v+=w.readLong()}return v&4294967295}};function e(v){function w(y,z){this.definition=z;this.length=z.length;this.offset=z.offset;this.file=y;this.rawData=y.raw;this.parse(y.raw)}w.prototype.raw=function(){return this.rawData.slice(this.offset,this.length)};for(var x in v){if(j(v,x)){w[x]=w.prototype[x]=v[x]}}return w}var c=e({parse:function(v){v.offset(this.offset);this.version=v.readLong();this.revision=v.readLong();this.checkSumAdjustment=v.readLong();this.magicNumber=v.readLong();this.flags=v.readShort();this.unitsPerEm=v.readShort();this.created=v.read(8);this.modified=v.read(8);this.xMin=v.readShort_();this.yMin=v.readShort_();this.xMax=v.readShort_();this.yMax=v.readShort_();this.macStyle=v.readShort();this.lowestRecPPEM=v.readShort();this.fontDirectionHint=v.readShort_();this.indexToLocFormat=v.readShort_();this.glyphDataFormat=v.readShort_()},render:function(w){var v=o();v.writeLong(this.version);v.writeLong(this.revision);v.writeLong(0);v.writeLong(this.magicNumber);v.writeShort(this.flags);v.writeShort(this.unitsPerEm);v.write(this.created);v.write(this.modified);v.writeShort_(this.xMin);v.writeShort_(this.yMin);v.writeShort_(this.xMax);v.writeShort_(this.yMax);v.writeShort(this.macStyle);v.writeShort(this.lowestRecPPEM);v.writeShort_(this.fontDirectionHint);v.writeShort_(w);v.writeShort_(this.glyphDataFormat);return v.get()}});var l=e({parse:function(v){v.offset(this.offset);var w=this.file.head.indexToLocFormat;if(w===0){this.offsets=v.times(this.length/2,function(){return 2*v.readShort()})}else{this.offsets=v.times(this.length/4,v.readLong)}},offsetOf:function(v){return this.offsets[v]},lengthOf:function(v){return this.offsets[v+1]-this.offsets[v]},render:function(x){var v=o();var y=x[x.length-1]>65535;for(var w=0;w<x.length;++w){if(y){v.writeLong(x[w])}else{v.writeShort(x[w]/2)}}return{format:y?1:0,table:v.get()}}});var k=e({parse:function(v){v.offset(this.offset);this.version=v.readLong();this.ascent=v.readShort_();this.descent=v.readShort_();this.lineGap=v.readShort_();this.advanceWidthMax=v.readShort();this.minLeftSideBearing=v.readShort_();this.minRightSideBearing=v.readShort_();this.xMaxExtent=v.readShort_();this.caretSlopeRise=v.readShort_();this.caretSlopeRun=v.readShort_();this.caretOffset=v.readShort_();v.skip(4*2);this.metricDataFormat=v.readShort_();this.numOfLongHorMetrics=v.readShort()},render:function(w){var v=o();v.writeLong(this.version);v.writeShort_(this.ascent);v.writeShort_(this.descent);v.writeShort_(this.lineGap);v.writeShort(this.advanceWidthMax);v.writeShort_(this.minLeftSideBearing);v.writeShort_(this.minRightSideBearing);v.writeShort_(this.xMaxExtent);v.writeShort_(this.caretSlopeRise);v.writeShort_(this.caretSlopeRun);v.writeShort_(this.caretOffset);v.write([0,0,0,0,0,0,0,0]);v.writeShort_(this.metricDataFormat);v.writeShort(w.length);return v.get()}});var n=e({parse:function(v){v.offset(this.offset);this.version=v.readLong();this.numGlyphs=v.readShort();this.maxPoints=v.readShort();this.maxContours=v.readShort();this.maxComponentPoints=v.readShort();this.maxComponentContours=v.readShort();this.maxZones=v.readShort();this.maxTwilightPoints=v.readShort();this.maxStorage=v.readShort();this.maxFunctionDefs=v.readShort();this.maxInstructionDefs=v.readShort();this.maxStackElements=v.readShort();this.maxSizeOfInstructions=v.readShort();this.maxComponentElements=v.readShort();this.maxComponentDepth=v.readShort()},render:function(v){var w=o();w.writeLong(this.version);w.writeShort(v.length);w.writeShort(this.maxPoints);w.writeShort(this.maxContours);w.writeShort(this.maxComponentPoints);w.writeShort(this.maxComponentContours);w.writeShort(this.maxZones);w.writeShort(this.maxTwilightPoints);w.writeShort(this.maxStorage);w.writeShort(this.maxFunctionDefs);w.writeShort(this.maxInstructionDefs);w.writeShort(this.maxStackElements);w.writeShort(this.maxSizeOfInstructions);w.writeShort(this.maxComponentElements);w.writeShort(this.maxComponentDepth);return w.get()}});var u=e({parse:function(y){y.offset(this.offset);var x=this.file,w=x.hhea;this.metrics=y.times(w.numOfLongHorMetrics,function(){return{advance:y.readShort(),lsb:y.readShort_()}});var v=x.maxp.numGlyphs-x.hhea.numOfLongHorMetrics;this.leftSideBearings=y.times(v,y.readShort_)},forGlyph:function(x){var v=this.metrics;var w=v.length;if(x<w){return v[x]}return{advance:v[w-1].advance,lsb:this.leftSideBearings[x-w]}},render:function(w){var x=o();for(var y=0;y<w.length;++y){var v=this.forGlyph(w[y]);x.writeShort(v.advance);x.writeShort_(v.lsb)}return x.get()}});var g=(function(){function w(D){this.raw=D}w.prototype={compound:false,render:function(){return this.raw.get()}};var C=1;var z=8;var v=32;var y=64;var x=128;var B=256;function A(G){this.raw=G;var E=this.glyphIds=[];var F=this.idOffsets=[];while(true){var D=G.readShort();F.push(G.offset());E.push(G.readShort());if(!(D&v)){break}G.skip(D&C?4:2);if(D&x){G.skip(8)}else{if(D&y){G.skip(4)}else{if(D&z){G.skip(2)}}}}}A.prototype={compound:true,render:function(E){var D=o(this.raw.get());for(var F=0;F<this.glyphIds.length;++F){var G=this.glyphIds[F];D.offset(this.idOffsets[F]);D.writeShort(E[G])}return D.get()}};return e({parse:function(D){this.cache={}},glyphFor:function(F){var D=this.cache;if(j(D,F)){return D[F]}var J=this.file.loca;var G=J.lengthOf(F);if(G===0){return(D[F]=null)}var L=this.rawData;var K=this.offset+J.offsetOf(F);var P=o(L.slice(K,G));var H=P.readShort_();var E=P.readShort_();var O=P.readShort_();var M=P.readShort_();var I=P.readShort_();var N=D[F]=H==-1?new A(P):new w(P);N.numberOfContours=H;N.xMin=E;N.yMin=O;N.xMax=M;N.yMax=I;return N},render:function(G,J,E){var D=o(),I=[];for(var F=0;F<J.length;++F){var K=J[F];var H=G[K];I.push(D.offset());if(H){D.write(H.render(E))}}I.push(D.offset());return{table:D.get(),offsets:I}}})}());var r=(function(){function v(x,w){this.text=x;this.length=x.length;this.platformID=w.platformID;this.platformSpecificID=w.platformSpecificID;this.languageID=w.languageID;this.nameID=w.nameID}return e({parse:function(y){y.offset(this.offset);var B=y.readShort();var A=y.readShort();var w=this.offset+y.readShort();var E=y.times(A,function(){return{platformID:y.readShort(),platformSpecificID:y.readShort(),languageID:y.readShort(),nameID:y.readShort(),length:y.readShort(),offset:y.readShort()+w}});var C=this.strings={};for(var z=0;z<E.length;++z){var x=E[z];y.offset(x.offset);var D=y.readString(x.length);if(!C[x.nameID]){C[x.nameID]=[]}C[x.nameID].push(new v(D,x))}this.postscriptEntry=C[6][0];this.postscriptName=this.postscriptEntry.text.replace(/[^\x20-\x7F]/g,"")},render:function(C){var D=this.strings;var z=0;for(var y in D){if(j(D,y)){z+=D[y].length}}var w=o();var E=o();w.writeShort(0);w.writeShort(z);w.writeShort(6+12*z);for(y in D){if(j(D,y)){var A=y==6?[new v(C,this.postscriptEntry)]:D[y];for(var x=0;x<A.length;++x){var B=A[x];w.writeShort(B.platformID);w.writeShort(B.platformSpecificID);w.writeShort(B.languageID);w.writeShort(B.nameID);w.writeShort(B.length);w.writeShort(E.offset());E.writeString(B.text)}}}w.write(E.get());return w.get()}})})();var h=(function(){var v=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g);return e({parse:function(y){y.offset(this.offset);this.format=y.readLong();this.italicAngle=y.readFixed_();this.underlinePosition=y.readShort_();this.underlineThickness=y.readShort_();this.isFixedPitch=y.readLong();this.minMemType42=y.readLong();this.maxMemType42=y.readLong();this.minMemType1=y.readLong();this.maxMemType1=y.readLong();var x;switch(this.format){case 65536:case 196608:break;case 131072:x=y.readShort();this.glyphNameIndex=y.times(x,y.readShort);this.names=[];var w=this.offset+this.length;while(y.offset()<w){this.names.push(y.readString(y.readByte()))}break;case 151552:x=y.readShort();this.offsets=y.read(x);break;case 262144:this.map=y.times(this.file.maxp.numGlyphs,y.readShort);break}},glyphFor:function(x){switch(this.format){case 65536:return v[x]||".notdef";case 131072:var w=this.glyphNameIndex[x];if(w<v.length){return v[w]}return this.names[w-v.length]||".notdef";case 151552:case 196608:return".notdef";case 262144:return this.map[x]||65535}},render:function(A){if(this.format==196608){return this.raw()}var z=o(this.rawData.slice(this.offset,32));z.writeLong(131072);z.offset(32);var y=[];var w=[];for(var C=0;C<A.length;++C){var D=A[C];var B=this.glyphFor(D);var x=v.indexOf(B);if(x>=0){y.push(x)}else{y.push(v.length+w.length);w.push(B)}}z.writeShort(A.length);for(C=0;C<y.length;++C){z.writeShort(y[C])}for(C=0;C<w.length;++C){z.writeByte(w[C].length);z.writeString(w[C])}return z.get()}})})();var f=(function(){function v(y,z){var x=this;x.platformID=y.readShort();x.platformSpecificID=y.readShort();x.offset=z+y.readLong();y.saveExcursion(function(){y.offset(x.offset);x.format=y.readShort();x.length=y.readShort();x.language=y.readShort();x.isUnicode=(x.platformID==3&&x.platformSpecificID==1&&x.format==4)||(x.platformID===0&&x.format==4);x.codeMap={};switch(x.format){case 0:for(var J=0;J<256;++J){x.codeMap[J]=y.readByte()}break;case 4:var B=y.readShort()/2;y.skip(6);var I=y.times(B,y.readShort);y.skip(2);var A=y.times(B,y.readShort);var E=y.times(B,y.readShort_);var M=y.times(B,y.readShort);var L=(x.length+x.offset-y.offset())/2;var H=y.times(L,y.readShort);for(J=0;J<B;++J){var D=A[J],G=I[J];for(var C=D;C<=G;++C){var F;if(M[J]===0){F=C+E[J]}else{var K=M[J]/2-(B-J)+(C-D);F=H[K]||0;if(F!==0){F+=E[J]}}x.codeMap[C]=F&65535}}}})}function w(O,K){var R=d(O);var Q=[];var L=[];var E=null;var H=null;function U(W){return K[O[W]]}for(var P=0;P<R.length;++P){var x=R[P];var J=U(x);var S=J-x;if(E==null||S!==H){if(E){L.push(E)}Q.push(x);H=S}E=x}if(E){L.push(E)}L.push(65535);Q.push(65535);var z=Q.length;var V=z*2;var y=2*Math.pow(2,Math.floor(Math.log(z)/Math.LN2));var I=Math.log(y/2)/Math.LN2;var G=V-y;var C=[];var A=[];var F=[];for(P=0;P<z;++P){var B=Q[P];var T=L[P];if(B==65535){C.push(0);A.push(0);break}var D=U(B);if(B-D>=32768){C.push(0);A.push(2*(F.length+z-P));for(var M=B;M<=T;++M){F.push(U(M))}}else{C.push(D-B);A.push(0)}}var N=o();N.writeShort(3);N.writeShort(1);N.writeLong(12);N.writeShort(4);N.writeShort(16+z*8+F.length*2);N.writeShort(0);N.writeShort(V);N.writeShort(y);N.writeShort(I);N.writeShort(G);L.forEach(N.writeShort);N.writeShort(0);Q.forEach(N.writeShort);C.forEach(N.writeShort_);A.forEach(N.writeShort);F.forEach(N.writeShort);return N.get()}return e({parse:function(z){var y=this;var A=y.offset;z.offset(A);y.version=z.readShort();var x=z.readShort();y.unicodeEntry=null;y.tables=z.times(x,function(){var B=new v(z,A);if(B.isUnicode){y.unicodeEntry=B}return B})},render:function(z,y){var x=o();x.writeShort(0);x.writeShort(1);x.write(w(z,y));return x.get()},getUnicodeEntry:function(){if(!this.unicodeEntry){throw new Error("Font doesn't have an Unicode encoding")}return this.unicodeEntry}})})();var m=e({parse:function(v){v.offset(this.offset);this.version=v.readShort();this.averageCharWidth=v.readShort_();this.weightClass=v.readShort();this.widthClass=v.readShort();this.type=v.readShort();this.ySubscriptXSize=v.readShort_();this.ySubscriptYSize=v.readShort_();this.ySubscriptXOffset=v.readShort_();this.ySubscriptYOffset=v.readShort_();this.ySuperscriptXSize=v.readShort_();this.ySuperscriptYSize=v.readShort_();this.ySuperscriptXOffset=v.readShort_();this.ySuperscriptYOffset=v.readShort_();this.yStrikeoutSize=v.readShort_();this.yStrikeoutPosition=v.readShort_();this.familyClass=v.readShort_();this.panose=v.times(10,v.readByte);this.charRange=v.times(4,v.readLong);this.vendorID=v.readString(4);this.selection=v.readShort();this.firstCharIndex=v.readShort();this.lastCharIndex=v.readShort();if(this.version>0){this.ascent=v.readShort_();this.descent=v.readShort_();this.lineGap=v.readShort_();this.winAscent=v.readShort();this.winDescent=v.readShort();this.codePageRange=v.times(2,v.readLong);if(this.version>1){this.xHeight=v.readShort();this.capHeight=v.readShort();this.defaultChar=v.readShort();this.breakChar=v.readShort();this.maxContext=v.readShort()}}},render:function(){return this.raw()}});var s=100000;function q(){var v="",x=s+"";for(var w=0;w<x.length;++w){v+=String.fromCharCode(x.charCodeAt(w)-48+65)}++s;return v}function a(v){this.font=v;this.subset={};this.unicodes={};this.ogid2ngid={0:0};this.ngid2ogid={0:0};this.ncid2ogid={};this.next=this.firstChar=1;this.nextGid=1;this.psName=q()+"+"+this.font.psName}a.prototype={use:function(y){var z;if(typeof y=="string"){var w="";for(var x=0;x<y.length;++x){z=this.use(y.charCodeAt(x));w+=String.fromCharCode(z)}return w}z=this.unicodes[y];if(!z){z=this.next++;this.subset[z]=y;this.unicodes[y]=z;var v=this.font.cmap.getUnicodeEntry().codeMap[y];if(v){this.ncid2ogid[z]=v;if(this.ogid2ngid[v]==null){var A=this.nextGid++;this.ogid2ngid[v]=A;this.ngid2ogid[A]=v}}}return z},encodeText:function(v){return this.use(v)},glyphIds:function(){return d(this.ogid2ngid)},glyphsFor:function(w,v){if(!v){v={}}for(var x=0;x<w.length;++x){var z=w[x];if(!v[z]){var y=v[z]=this.font.glyf.glyphFor(z);if(y&&y.compound){this.glyphsFor(y.glyphIds,v)}}}return v},render:function(){var B=this.glyphsFor(this.glyphIds());for(var z in B){if(j(B,z)){z=parseInt(z,10);if(this.ogid2ngid[z]==null){var D=this.nextGid++;this.ogid2ngid[z]=D;this.ngid2ogid[D]=z}}}var A=d(this.ngid2ogid);var x=A.map(function(E){return this.ngid2ogid[E]},this);var w=this.font;var v=w.glyf.render(B,x,this.ogid2ngid);var y=w.loca.render(v.offsets);this.lastChar=this.next-1;var C={cmap:f.render(this.ncid2ogid,this.ogid2ngid),glyf:v.table,loca:y.table,hmtx:w.hmtx.render(x),hhea:w.hhea.render(x),maxp:w.maxp.render(x),post:w.post.render(x),name:w.name.render(this.psName),head:w.head.render(y.format),"OS/2":w.os2.render()};return this.font.directory.render(C)},cidToGidMap:function(){var x=o(),w=0;for(var z=this.firstChar;z<this.next;++z){while(w<z){x.writeShort(0);w++}var v=this.ncid2ogid[z];if(v){var y=this.ogid2ngid[v];x.writeShort(y)}else{x.writeShort(0)}w++}return x.get()}};function p(C,y){var x=this;var A=x.contents=o(C);if(A.readString(4)=="ttcf"){if(!y){throw new Error("Must specify a name for TTC files")}var w=A.readLong();var v=A.readLong();for(var z=0;z<v;++z){var B=A.readLong();A.saveExcursion(function(){A.offset(B);x.parse()});if(x.psName==y){return}}throw new Error("Font "+y+" not found in collection")}else{A.offset(0);x.parse()}}p.prototype={parse:function(){var v=this.directory=new b(this.contents);this.head=v.readTable("head",c);this.loca=v.readTable("loca",l);this.hhea=v.readTable("hhea",k);this.maxp=v.readTable("maxp",n);this.hmtx=v.readTable("hmtx",u);this.glyf=v.readTable("glyf",g);this.name=v.readTable("name",r);this.post=v.readTable("post",h);this.cmap=v.readTable("cmap",f);this.os2=v.readTable("OS/2",m);this.psName=this.name.postscriptName;this.ascent=this.os2.ascent||this.hhea.ascent;this.descent=this.os2.descent||this.hhea.descent;this.lineGap=this.os2.lineGap||this.hhea.lineGap;this.scale=1000/this.head.unitsPerEm},widthOfGlyph:function(v){return this.hmtx.forGlyph(v).advance*this.scale},makeSubset:function(){return new a(this)}};t.TTFFont=p})(window);(function(t,g){var C=t.drawing;var G=t.geometry;var E=C.Color;var j=t.pdf.TEXT_RENDERING_MODE;var n={dash:[4],dashDot:[4,2,1,2],dot:[1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2],solid:[]};var l={butt:0,round:1,square:2};var y={miter:0,round:1,bevel:2};function F(N,O){var M=[],L=[],P=N.options;function H(R,Q,S){if(!S){S=P}if(S.pdf&&S.pdf[R]!=null){return S.pdf[R]}return Q}var I=H("multiPage");N.traverse(function(Q){D({Image:function(R){if(L.indexOf(R.src())<0){L.push(R.src())}},Text:function(S){var T=t.pdf.parseFontDef(S.options.font);var R=t.pdf.getFontURL(T);if(M.indexOf(R)<0){M.push(R)}}},Q)});function K(){if(--J>0){return}var Q=new (t.pdf.Document)({producer:H("producer"),title:H("title"),author:H("author"),subject:H("subject"),keywords:H("keywords"),creator:H("creator"),date:H("date")});function R(X){var aa=X.options;var T=o(X);var Y=T.bbox;X=T.root;var S=H("paperSize",H("paperSize","auto"),aa),V=false;if(S=="auto"){if(Y){var Z=Y.getSize();S=[Z.width,Z.height];V=true;var W=Y.getOrigin();T=new C.Group();T.transform(new G.Matrix(1,0,0,1,-W.x,-W.y));T.append(X);X=T}else{S="A4"}}var U;U=Q.addPage({paperSize:S,margin:H("margin",H("margin"),aa),addMargin:V,landscape:H("landscape",H("landscape",false),aa)});w(X,U,Q)}if(I){N.children.forEach(R)}else{R(N)}O(Q.render(),Q)}var J=2;t.pdf.loadFonts(M,K);t.pdf.loadImages(L,K)}function r(H,I){F(H,function(J){I("data:application/pdf;base64,"+J.base64())})}function a(H,I){F(H,function(J){I(new Blob([J.get()],{type:"application/pdf"}))})}function d(J,H,I,K){if(window.Blob&&!t.support.browser.safari){a(J,function(L){t.saveAs({dataURI:L,fileName:H});if(K){K(L)}})}else{r(J,function(L){t.saveAs({dataURI:L,fileName:H,proxyURL:I});if(K){K(L)}})}}function D(H,I){var J=H[I.nodeType];if(J){return J.call.apply(J,arguments)}return I}function w(L,M,I){if(L.options._pdfDebug){M.comment("BEGIN: "+L.options._pdfDebug)}var K=L.transform();var J=L.opacity();M.save();if(J!=null&&J<1){M.setOpacity(J)}i(L,M,I);m(L,M,I);s(L,M,I);if(K){var H=K.matrix();M.transform(H.a,H.b,H.c,H.d,H.e,H.f)}D({Path:v,MultiPath:b,Circle:e,Arc:h,Text:u,Image:x,Group:p},L,M,I);M.restore();if(L.options._pdfDebug){M.comment("END: "+L.options._pdfDebug)}}function i(L,N,J){var Q=L.stroke&&L.stroke();if(!Q){return}var K=Q.color;if(K){K=z(K);if(K==null){return}N.setStrokeColor(K.r,K.g,K.b);if(K.a!=1){N.setStrokeOpacity(K.a)}}var I=Q.width;if(I!=null){if(I===0){return}N.setLineWidth(I)}var O=Q.dashType;if(O){N.setDashPattern(n[O],0)}var P=Q.lineCap;if(P){N.setLineCap(l[P])}var H=Q.lineJoin;if(H){N.setLineJoin(y[H])}var M=Q.opacity;if(M!=null){N.setStrokeOpacity(M)}}function m(K,L,H){var M=K.fill&&K.fill();if(!M){return}if(M instanceof C.Gradient){return}var I=M.color;if(I){I=z(I);if(I==null){return}L.setFillColor(I.r,I.g,I.b);if(I.a!=1){L.setFillOpacity(I.a)}}var J=M.opacity;if(J!=null){L.setFillOpacity(J)}}function s(I,K,H){var J=I.clip();if(J){A(J,K,H);K.clip()}}function c(H){return(H&&(H instanceof C.Gradient||(H.color&&!/^(none|transparent)$/i.test(H.color)&&(H.width==null||H.width>0)&&(H.opacity==null||H.opacity>0))))}function B(L,N,I,Q){var R=L.fill();if(R instanceof C.Gradient){if(Q){N.clipStroke()}else{N.clip()}var K=R instanceof C.RadialGradient;var H,J;if(K){H={x:R.center().x,y:R.center().y,r:0};J={x:R.center().x,y:R.center().y,r:R.radius()}}else{H={x:R.start().x,y:R.start().y};J={x:R.end().x,y:R.end().y}}var O={type:K?"radial":"linear",start:H,end:J,userSpace:R.userSpace(),stops:R.stops.elements().map(function(U){var V=U.offset();if(/%$/.test(V)){V=parseFloat(V)/100}else{V=parseFloat(V)}var T=z(U.color());T.a*=U.opacity();return{offset:V,color:T}})};var M=L.rawBBox();var P=M.topLeft(),S=M.getSize();M={left:P.x,top:P.y,width:S.width,height:S.height};N.gradient(O,M);return true}}function f(I,J,H){if(c(I.fill())&&c(I.stroke())){if(!B(I,J,H,true)){J.fillStroke()}}else{if(c(I.fill())){if(!B(I,J,H,false)){J.fill()}}else{if(c(I.stroke())){J.stroke()}else{J.nop()}}}}function q(N,M,I){var J=N.segments;if(J.length==4&&N.options.closed){var H=[];for(var K=0;K<J.length;++K){if(J[K].controlIn()){return false}H[K]=J[K].anchor()}var L=(H[0].y==H[1].y&&H[1].x==H[2].x&&H[2].y==H[3].y&&H[3].x==H[0].x)||(H[0].x==H[1].x&&H[1].y==H[2].y&&H[2].x==H[3].x&&H[3].y==H[0].y);if(L){M.rect(H[0].x,H[0].y,H[2].x-H[0].x,H[2].y-H[0].y);return true}}}function A(K,Q,H){var N=K.segments;if(N.length===0){return}if(!q(K,Q,H)){for(var I,L=0;L<N.length;++L){var J=N[L];var M=J.anchor();if(!I){Q.moveTo(M.x,M.y)}else{var P=I.controlOut();var O=J.controlIn();if(P&&O){Q.bezier(P.x,P.y,O.x,O.y,M.x,M.y)}else{Q.lineTo(M.x,M.y)}}I=J}if(K.options.closed){Q.close()}}}function v(I,J,H){A(I,J,H);f(I,J,H)}function b(J,K,H){var L=J.paths;for(var I=0;I<L.length;++I){A(L[I],K,H)}f(J,K,H)}function e(I,K,H){var J=I.geometry();K.circle(J.center.x,J.center.y,J.radius);f(I,K,H)}function h(J,L,H){var K=J.geometry().curvePoints();L.moveTo(K[0].x,K[0].y);for(var I=1;I<K.length;){L.bezier(K[I].x,K[I++].y,K[I].x,K[I++].y,K[I].x,K[I++].y)}f(J,L,H)}function u(I,K,H){var J=t.pdf.parseFontDef(I.options.font);var M=I._position;var L;if(I.fill()&&I.stroke()){L=j.fillAndStroke}else{if(I.fill()){L=j.fill}else{if(I.stroke()){L=j.stroke}}}K.transform(1,0,0,-1,M.x,M.y+J.fontSize);K.beginText();K.setFont(t.pdf.getFontURL(J),J.fontSize);K.setTextRenderingMode(L);K.showText(I.content(),I._pdfRect?I._pdfRect.width():null);K.endText()}function p(K,L,H){if(K._pdfLink){L.addLink(K._pdfLink.url,K._pdfLink)}var J=K.children;for(var I=0;I<J.length;++I){w(J[I],L,H)}}function x(K,M,H){var J=K.src();if(!J){return}var L=K.rect();var I=L.getOrigin();var N=L.getSize();M.transform(N.width,0,0,-N.height,I.x,I.y+N.height);M.drawImage(J)}function k(J,H){var K=g.Deferred();for(var I in H){J.options.set("pdf."+I,H[I])}C.pdf.toDataURL(J,K.resolve);return K.promise()}function z(H){var I=t.parseColor(H,true);return I?I.toRGB():null}function o(P){var R=false;var Q=G.Matrix.unit();var J=null;var M;do{M=false;P=H(P)}while(P&&M);return{root:P,bbox:J};function O(S){M=true;return S}function I(S){return(S.visible()&&S.opacity()>0&&(c(S.fill())||c(S.stroke())))}function N(T){var S=[];for(var U=0;U<T.length;++U){var V=H(T[U]);if(V!=null){S.push(V)}}return S}function L(T,W){var S=R;var V=Q;if(T.transform()){Q=Q.multiplyCopy(T.transform().matrix())}var U=T.clip();if(U){U=U.bbox();if(U){U=U.bbox(Q);R=R?G.Rect.intersect(R,U):U}}try{return W()}finally{R=S;Q=V}}function K(S){if(R==null){return false}var T=S.rawBBox().bbox(Q);if(R&&T){T=G.Rect.intersect(T,R)}return T}function H(S){return L(S,function(){if(!(S instanceof C.Group||S instanceof C.MultiPath)){var T=K(S);if(!T){return O(null)}J=J?G.Rect.union(J,T):T}return D({Path:function(U){if(U.segments.length===0||!I(U)){return O(null)}return U},MultiPath:function(U){if(!I(U)){return O(null)}var V=new C.MultiPath(U.options);V.paths=N(U.paths);if(V.paths.length===0){return O(null)}return V},Circle:function(U){if(!I(U)){return O(null)}return U},Arc:function(U){if(!I(U)){return O(null)}return U},Text:function(U){if(!/\S/.test(U.content())||!I(U)){return O(null)}return U},Image:function(U){if(!(U.visible()&&U.opacity()>0)){return O(null)}return U},Group:function(U){var V=new C.Group(U.options);V.children=N(U.children);V._pdfLink=U._pdfLink;if(U!==P&&V.children.length===0&&!U._pdfLink){return O(null)}return V}},S)})}}t.deepExtend(C,{exportPDF:k,pdf:{toDataURL:r,toBlob:a,saveAs:d,toStream:F}})})(window.kendo,window.kendo.jQuery);(function(b,a){b.PDFMixin={extend:function(c){c.events.push("pdfExport");c.options.pdf=this.options;c.saveAsPDF=this.saveAsPDF;c._drawPDF=this._drawPDF;c._drawPDFShadow=this._drawPDFShadow},options:{fileName:"Export.pdf",proxyURL:"",paperSize:"auto",allPages:false,landscape:false,margin:null,title:null,author:null,subject:null,keywords:null,creator:"Kendo UI PDF Generator",date:null},saveAsPDF:function(){var e=new a.Deferred();var f=e.promise();var d={promise:f};if(this.trigger("pdfExport",d)){return}var c=this.options.pdf;c.multiPage=c.allPages;this._drawPDF(e).then(function(g){return b.drawing.exportPDF(g,c)}).done(function(g){b.saveAs({dataURI:g,fileName:c.fileName,proxyURL:c.proxyURL,forceProxy:c.forceProxy,proxyTarget:c.proxyTarget});e.resolve()}).fail(function(g){e.reject(g)});return f},_drawPDF:function(){return b.drawing.drawDOM(this.wrapper)},_drawPDFShadow:function(c){c=c||{};var f=this.wrapper;var e=a("<div class='k-pdf-export-shadow'>");if(c.width){e.css({width:c.width,overflow:"visible"})}f.before(e);e.append(c.content||f.clone(true,true));var d=b.drawing.drawDOM(e);d.always(function(){e.remove()});return d}}})(kendo,window.kendo.jQuery);(function(ba,E){var z=window.kendo,at=z.ui,u=z.data.DataSource,v=at.Groupable,I=z.support.tbodyInnerHtml,U=z._activeElement,n=at.Widget,ag=z.keys,T=ba.isPlainObject,aM=ba.extend,F=ba.map,k=ba.grep,c=ba.isArray,D=ba.inArray,f=Array.prototype.push,K=ba.proxy,bd=z.isFunction,aU=ba.isEmptyObject,an=Math,a3="progress",W="error",P=":not(.k-group-cell):not(.k-hierarchy-cell):visible",j="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",Q="tr:not(.k-footer-template):visible",be=":not(.k-group-cell):not(.k-hierarchy-cell):visible",aT=Q+":first>"+be+":first",aN="th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)",bm=".kendoGrid",ae="edit",a9="save",bu="remove",w="detailInit",e="filterMenuInit",a0="columnMenuInit",X="change",H="columnHide",aV="columnShow",bo="saveChanges",L="dataBound",m="detailExpand",aI="detailCollapse",A="k-state-focused",bj="k-state-selected",aQ="k-grid-norecords",br="columnResize",aW="columnReorder",S="columnLock",g="columnUnlock",a8="click",bg="height",au="tabIndex",aS="function",bn="string",q="Are you sure you want to delete this record?",bs="No records available.",aO="Delete",ak="Cancel",aq=/(\}|\#)/ig,aB=/#/ig,ac="[\\x20\\t\\r\\n\\f]",aC=new RegExp("(^|"+ac+")(k-group-cell|k-hierarchy-cell)("+ac+"|$)"),Z=new RegExp("(^|"+ac+")(k-filter-row)("+ac+"|$)"),aw='<a class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',G=false,bc=z.support.browser,ap=bc.msie&&bc.version==7,am=bc.msie&&bc.version==8;var aK=n.extend({init:function(bx,bw){var by=this;n.fn.init.call(by,bx,bw);by._refreshHandler=K(by.refresh,by);by.setDataSource(bw.dataSource);by.wrap()},setDataSource:function(bx){var bw=this;if(bw.dataSource){bw.dataSource.unbind(X,bw._refreshHandler)}bw.dataSource=bx;bw.dataSource.bind(X,bw._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:ba.noop,prefetch:true},destroy:function(){var bw=this;n.fn.destroy.call(bw);bw.dataSource.unbind(X,bw._refreshHandler);bw.wrapper.add(bw.verticalScrollbar).off(bm);if(bw.drag){bw.drag.destroy();bw.drag=null}bw.wrapper=bw.element=bw.verticalScrollbar=null;bw._refreshHandler=null},wrap:function(){var bx=this,bz=z.support.scrollbar()+1,bw=bx.element,by;bw.css({width:"auto",overflow:"hidden"}).css((G?"padding-left":"padding-right"),bz);bx.content=bw.children().first();by=bx.wrapper=bx.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+bm+" mousewheel"+bm,K(bx._wheelScroll,bx));if(z.support.kineticScrollNeeded){bx.drag=new z.UserEvents(bx.wrapper,{global:true,start:function(bA){bA.sender.capture()},move:function(bA){bx.verticalScrollbar.scrollTop(bx.verticalScrollbar.scrollTop()-bA.y.delta);by.scrollLeft(by.scrollLeft()-bA.x.delta);bA.preventDefault()}})}bx.verticalScrollbar=ba('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:bz}).appendTo(bw).bind("scroll"+bm,K(bx._scroll,bx))},_wheelScroll:function(bx){if(bx.ctrlKey){return}var bw=this.verticalScrollbar.scrollTop(),by=z.wheelDeltaY(bx);if(by){bx.preventDefault();ba(bx.currentTarget).one("wheel"+bm,false);this.verticalScrollbar.scrollTop(bw+(-by))}},_scroll:function(bC){var bB=this,bE=!bB.options.prefetch,bz=bC.currentTarget.scrollTop,bw=bB.dataSource,bx=bB.itemHeight,bG=bw.skip()||0,by=bB._rangeStart||bG,bH=bB.element.innerHeight(),bA=!!(bB._scrollbarTop&&bB._scrollbarTop>bz),bF=an.max(an.floor(bz/bx),0),bD=an.max(bF+an.floor(bH/bx),0);bB._scrollTop=bz-(by*bx);bB._scrollbarTop=bz;bB._scrolling=bE;if(!bB._fetch(bF,bD,bA)){bB.wrapper[0].scrollTop=bB._scrollTop}if(bE){if(bB._scrollingTimeout){clearTimeout(bB._scrollingTimeout)}bB._scrollingTimeout=setTimeout(function(){bB._scrolling=false;bB._page(bB._rangeStart,bB.dataSource.take())},100)}},itemIndex:function(bx){var bw=this._rangeStart||this.dataSource.skip()||0;return bw+bx},position:function(by){var bz=this._rangeStart||this.dataSource.skip()||0;var bx=this.dataSource.pageSize();var bw;if(by>bz){bw=by-bz+1}else{bw=bz-by-1}return bw>bx?bx:bw},scrollIntoView:function(bB){var bw=this.wrapper[0];var bA=bw.clientHeight;var bz=this._scrollTop||bw.scrollTop;var bx=bB[0].offsetTop;var by=bB[0].offsetHeight;if(bz>bx){this.verticalScrollbar[0].scrollTop-=bA/2}else{if(bx+by>=bz+bA){this.verticalScrollbar[0].scrollTop+=bA/2}}},_fetch:function(bF,bC,bD){var bA=this,bw=bA.dataSource,by=bA.itemHeight,bx=bw.take(),bG=bA._rangeStart||bw.skip()||0,bE=an.floor(bF/bx)*bx,bz=false,bB=0.33;if(bF<bG){bz=true;bG=an.max(0,bC-bx);bA._scrollTop=(bF-bG)*by;bA._page(bG,bx)}else{if(bC>=bG+bx&&!bD){bz=true;bG=bF;bA._scrollTop=by;bA._page(bG,bx)}else{if(!bA._fetching&&bA.options.prefetch){if(bF<(bE+bx)-bx*bB&&bF>bx){bw.prefetch(bE-bx,bx,ba.noop)}if(bC>bE+bx*bB){bw.prefetch(bE+bx,bx,ba.noop)}}}}return bz},fetching:function(){return this._fetching},_page:function(bz,bw){var by=this,bx=!by.options.prefetch,bA=by.dataSource;clearTimeout(by._timeout);by._fetching=true;by._rangeStart=bz;if(bA.inRange(bz,bw)){bA.range(bz,bw)}else{if(!bx){z.ui.progress(by.wrapper.parent(),true)}by._timeout=setTimeout(function(){if(!by._scrolling){if(bx){z.ui.progress(by.wrapper.parent(),true)}bA.range(bz,bw)}},100)}},repaintScrollbar:function(){var bA=this,bz="",bD=250000,bw=bA.dataSource,bE=!z.support.kineticScrollNeeded?z.support.scrollbar():0,bF=bA.wrapper[0],bB,bC,bx;bx=bA.itemHeight=bA.options.itemHeight()||0;var by=(bF.scrollWidth>bF.offsetWidth)?bE:0;bB=bw.total()*bx+by;for(bC=0;bC<an.floor(bB/bD);bC++){bz+='<div style="width:1px;height:'+bD+'px"></div>'}if(bB%bD){bz+='<div style="width:1px;height:'+(bB%bD)+'px"></div>'}bA.verticalScrollbar.html(bz);bF.scrollTop=bA._scrollTop},refresh:function(){var bw=this,by=bw.dataSource,bx=bw._rangeStart;z.ui.progress(bw.wrapper.parent(),false);clearTimeout(bw._timeout);bw.repaintScrollbar();if(bw.drag){bw.drag.cancel()}if(bx&&!bw._fetching){bw._rangeStart=by.skip();if(by.page()===1){bw.verticalScrollbar[0].scrollTop=0}}bw._fetching=false}});function a7(bw){return new Array(bw+1).join('<td class="k-group-cell">&nbsp;</td>')}function p(by){var bx,bw=" ";if(by){if(typeof by===bn){return by}for(bx in by){bw+=bx+'="'+by[bx]+'"'}}return bw}var ar={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-primary k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"},excel:{text:"Export to Excel",imageClass:"k-i-excel",className:"k-grid-excel",iconClass:"k-icon"},pdf:{text:"Export to PDF",imageClass:"k-i-pdf",className:"k-grid-pdf",iconClass:"k-icon"}};function J(bw){var bx=0;ba("> .k-grouping-header, > .k-grid-toolbar",bw).each(function(){bx+=this.offsetHeight});return bx}function l(bw,bx){ba("th, th .k-grid-filter, th .k-link",bw).add(document.body).css("cursor",bx)}function ab(by,bC,bz,bB,bA){var bx=bC;bC=ba();bA=bA||1;for(var bw=0;bw<bA;bw++){bC=bC.add(by.eq(bx+bw))}if(typeof bz=="number"){bC[bB?"insertBefore":"insertAfter"](by.eq(bz))}else{bC.appendTo(bz)}}function bi(bw,by,bx){return ba(bw).add(by).find(bx)}function ao(bA,by,bx){var bw,bB,bC,bz;bx=!c(bx)?[bx]:bx;for(bw=0,bB=bx.length;bw<bB;bw++){bC=bx[bw];if(T(bC)&&bC.click){bz=bC.name||bC.text;by.on(a8+bm,"a.k-grid-"+(bz||"").replace(/\s/g,""),{commandName:bz},K(bC.click,bA))}}}function r(bx,by,bw){return F(bx,function(bA){bA=typeof bA===bn?{field:bA}:bA;var bB;if(!bl(bA)||bw){bA.attributes=V(bA.attributes);bA.footerAttributes=V(bA.footerAttributes);bA.headerAttributes=V(bA.headerAttributes);bB=true}if(bA.columns){bA.columns=r(bA.columns,by,bB)}var bz=z.guid();bA.headerAttributes=aM({id:bz},bA.headerAttributes);return aM({encoded:by,hidden:bB},bA)})}function O(by,bx){var bw=[];ay(by,bx,bw);return bw[bw.length-1]}function ay(bA,by,bx){bx=bx||[];for(var bw=0;bw<by.length;bw++){if(bA===by[bw]){return true}else{if(by[bw].columns){var bz=bx.length;bx.push(by[bw]);if(!ay(bA,by[bw].columns,bx)){bx.splice(bz,bx.length-bz)}else{return true}}}}return false}function s(bw,bx){var by=bx?aA:V;bw.hidden=!bx;bw.attributes=by(bw.attributes);bw.footerAttributes=by(bw.footerAttributes);bw.headerAttributes=by(bw.headerAttributes)}function aY(){return this.style.display!=="none"}function bl(bw){return B([bw]).length>0}function B(bw){return k(bw,function(by){var bx=!by.hidden;if(bx&&by.columns){bx=B(by.columns).length>0}return bx})}function Y(bw){return ba(bw).map(function(){return this.toArray()})}function aL(bx,by,bw){var bA=bk(i(by));var bB=bk(bb(by));var bz=bx.rowSpan;if(bw){if(bA>bB){bx.rowSpan=(bz-(bA-bB))||1}else{bx.rowSpan=bz+(bB-bA)}}else{if(bA>bB){bx.rowSpan=bz+(bA-bB)}else{bx.rowSpan=(bz-(bB-bA))||1}}}function bp(bx,bC,bF,bB,by,bD,bz){var bE=bk(bx);var bw=bk([bC]);if(bE>bw){var bA=new Array(bz+1).join('<th class="k-group-cell k-header">&nbsp;</th>');var bG=bD.children(":not(.k-filter-row)");ba(new Array((bE-bw)+1).join("<tr>"+bA+"</tr>")).insertAfter(bG.last())}d(bD,bE-bw);h(bF,bB,by,bD)}function aZ(bC,bz,bA){bA=bA||0;var bB;var bE;var by=bz;bz=aa(bz);var bF={};var bG=bC.find(">tr:not(.k-filter-row)");var bw=function(){var bH=ba(this);return !bH.hasClass("k-group-cell")&&!bH.hasClass("k-hierarchy-cell")};for(var bD=0,bx=bz.length;bD<bx;bD++){bB=av(bz[bD],by);if(!bF[bB.row]){bF[bB.row]=bG.eq(bB.row).find(".k-header").filter(bw)}bE=bF[bB.row].eq(bB.cell);bE.attr(z.attr("index"),bA+bD)}return bz.length}function bk(bA){var by=1;var bx=0;for(var bw=0;bw<bA.length;bw++){if(bA[bw].columns){var bz=bk(bA[bw].columns);if(bz>bx){bx=bz}}}return by+bx}function h(bE,bz,bx,bC){var bA=aj(bE[0],bz);var bw=bx.find(">tr:not(.k-filter-row):eq("+bA.row+")>th.k-header");var bF=ba();var bB=bA.cell;var bD;for(bD=0;bD<bE.length;bD++){bF=bF.add(bw.eq(bB+bD))}bC.find(">tr:not(.k-filter-row)").eq(bA.row).append(bF);var by=[];for(bD=0;bD<bE.length;bD++){if(bE[bD].columns){by=by.concat(bE[bD].columns)}}if(by.length){h(by,bz,bx,bC)}}function av(bA,bz,bB,by){var bx;var bw;bB=bB||0;by=by||{};by[bB]=by[bB]||0;for(bw=0;bw<bz.length;bw++){if(bz[bw]==bA){bx={cell:by[bB],row:bB};break}else{if(bz[bw].columns){bx=av(bA,bz[bw].columns,bB+1,by);if(bx){break}}}by[bB]++}return bx}function ah(by,bx,bz,bB){var bA;var bw=bz.locked;do{bA=by[bx];bx+=bB?1:-1}while(bA&&bx>-1&&bx<by.length&&bA!=bz&&!bA.columns&&bA.locked==bw);return bA}function ax(bz,bD,bC,bB){if(bD.columns){bD=bD.columns;return bD[bB?0:bD.length-1]}else{var bA=O(bD,bz);var bx;if(bA){bx=bA.columns}else{bx=bz}var by=D(bD,bx);if(by===0&&bB){by++}else{if(by==bx.length-1&&!bB){by--}else{if(by>0||(by===0&&!bB)){by+=bB?-1:1}}}var bw=D(bC,bx);bD=ah(bx,by,bC,bw>by);if(bD&&bD!=bC&&bD.columns){return ax(bz,bD,bC,bB)}}return null}function aj(bA,bz,bB,by){var bx;var bw;bB=bB||0;by=by||{};by[bB]=by[bB]||0;for(bw=0;bw<bz.length;bw++){if(bz[bw]==bA){bx={cell:by[bB],row:bB};break}else{if(bz[bw].columns){bx=aj(bA,bz[bw].columns,bB+1,by);if(bx){break}}}if(!bz[bw].hidden){by[bB]++}}return bx}function a(bx){var bw=t(i(bx));return bw.concat(t(bb(bx)))}function t(bz){var bx=[];var by=[];for(var bw=0;bw<bz.length;bw++){bx.push(bz[bw]);if(bz[bw].columns){by=by.concat(bz[bw].columns)}}if(by.length){bx=bx.concat(t(by))}return bx}function aH(by){var bx=0;var bz;for(var bw=0;bw<by.length;bw++){bz=by[bw];if(bz.columns){bx+=aH(bz.columns)}else{if(bz.hidden){bx++}}}return bx}function al(bA){var by,bx=0;for(var bw=0,bz=bA.length;bw<bz;bw++){by=bA[bw].style.width;if(by&&by.indexOf("%")==-1){bx+=parseInt(by,10)}}return bx}function bt(bx,bA){var by=bx.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)");var bz;for(var bw=0;bw<by.length;bw++){bz=by[bw].rowSpan;if(bz>1){by[bw].rowSpan=(bz-bA)||1}}}function d(bx,bz){var by=bx.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)");for(var bw=0;bw<by.length;bw++){by[bw].rowSpan+=bz}}function y(bx){var bz=bx.find("tr:not(.k-filter-row)");var bA=bz.filter(function(){return !ba(this).children().length}).remove().length;var by=bz.find("th:not(.k-group-cell,.k-hierarchy-cell)");for(var bw=0;bw<by.length;bw++){if(by[bw].rowSpan>1){by[bw].rowSpan-=bA}}return bz.length-bA}function ad(by,bC,bE,bA,bz){var bB,bD,bx,bw=[];for(bB=0,bx=by.length;bB<bx;bB++){bD=bE[bA]||[];bD.push(bC.eq(bz+bB));bE[bA]=bD;if(by[bB].columns){bw=bw.concat(by[bB].columns)}}if(bw.length){ad(bw,bC,bE,bA+1,bz+by.length)}}function i(bw){return k(bw,function(bx){return bx.locked})}function bb(bw){return k(bw,function(bx){return !bx.locked})}function bh(bw){return k(bw,function(bx){return !bx.locked&&bl(bx)})}function a4(bw){return k(bw,function(bx){return bx.locked&&bl(bx)})}function N(by){var bx=[];for(var bw=0;bw<by.length;bw++){if(by[bw].hidden){continue}if(by[bw].columns){bx=bx.concat(N(by[bw].columns))}else{bx.push(by[bw])}}return bx}function aa(by){var bx=[];for(var bw=0;bw<by.length;bw++){if(!by[bw].columns){bx.push(by[bw]);continue}bx=bx.concat(aa(by[bw].columns))}return bx}function o(bw){var bA=bw.find(">tr:not(.k-filter-row)");var by=function(){var bB=ba(this);return !bB.hasClass("k-group-cell")&&!bB.hasClass("k-hierarchy-cell")};var bx=ba();if(bA.length>1){bx=bA.find("th").filter(by).filter(function(){return this.rowSpan>1})}bx=bx.add(bA.last().find("th").filter(by));var bz=z.attr("index");bx.sort(function(bC,bB){bC=ba(bC);bB=ba(bB);var bE=bC.attr(bz);var bD=bB.attr(bz);if(bE===E){bE=ba(bC).index()}if(bD===E){bD=ba(bB).index()}bE=parseInt(bE,10);bD=parseInt(bD,10);return bE>bD?1:(bE<bD?-1:0)});return bx}function aF(bG){var by=bG.closest("table");var bI=ba().add(bG);var bH=bG.closest("tr");var bB=by.find("tr:not(.k-filter-row)");var bx=bB.index(bH);if(bx>0){var bF=bB.eq(bx-1);var bD=bF.find("th:not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return !ba(this).attr("rowspan")});var bz=0;var bA=bH.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(bG);var bC=bG.prevAll(":not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return this.colSpan>1});for(bE=0;bE<bC.length;bE++){bz+=bC[bE].colSpan||1}bA+=Math.max(bz-1,0);bz=0;for(var bE=0;bE<bD.length;bE++){var bw=bD.eq(bE);if(bw.attr("colSpan")){bz+=bw[0].colSpan}else{bz+=1}if(bA>=bE&&bA<bz){bI=aF(bw).add(bI);break}}}return bI}function aG(bH){var bx=bH.closest("thead");var bK=ba().add(bH);var bJ=bH.closest("tr");var bD=bx.find("tr:not(.k-filter-row)");var bw=bD.index(bJ)+bH[0].rowSpan;var bA=z.attr("colspan");if(bw<=bD.length-1){var by=bJ.next();var bC=bJ.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(bH);var bE=bH.prevAll(":not(.k-group-cell,.k-hierarchy-cell)");var bG;bE=bE.filter(function(){return !this.rowSpan||this.rowSpan===1});var bz=0;for(bG=0;bG<bE.length;bG++){bz+=parseInt(bE.eq(bG).attr(bA),10)||1}var bI=by.find("th:not(.k-group-cell,.k-hierarchy-cell)");var bB=parseInt(bH.attr(bA),10)||1;bG=0;while(bG<bB){by=bI.eq(bG+bz);bK=bK.add(aG(by));var bF=parseInt(by.attr(bA),10);if(bF>1){bB-=bF-1}bG++}}return bK}function a1(bw,bz,by,bA){var bB,bx=bw;if(bA){bw.empty()}if(I){bw[0].innerHTML=by}else{bB=document.createElement("div");bB.innerHTML="<table><tbody>"+by+"</tbody></table>";bw=bB.firstChild.firstChild;bz[0].replaceChild(bw,bx[0]);bw=ba(bw)}return bw}function V(bw){bw=bw||{};var bx=bw.style;if(!bx){bx="display:none"}else{bx=bx.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none");if(bx===bw.style){bx=bx.replace(/(.*)?/i,"display:none;$1")}}return aM({},bw,{style:bx})}function aA(bw){bw=bw||{};var bx=bw.style;if(bx){bw.style=bx.replace(/(display\s*:\s*none\s*;?)*/ig,"")}return bw}function bq(bA,by,bC,bw){var bx=bA.find(">colgroup"),bz,bB=F(by,function(bD){bz=bD.width;if(bz&&parseInt(bz,10)!==0){return z.format('<col style="width:{0}"/>',typeof bz===bn?bz:bz+"px")}return"<col />"});if(bC||bx.find(".k-hierarchy-col").length){bB.splice(0,0,'<col class="k-hierarchy-col" />')}if(bx.length){bx.remove()}bx=ba(new Array(bw+1).join('<col class="k-group-col">')+bB.join(""));if(!bx.is("colgroup")){bx=ba("<colgroup/>").append(bx)}bA.prepend(bx);if(bc.msie&&bc.version==8){bA.css("display","inline-table");window.setTimeout(function(){bA.css("display","")},1)}}function bv(bz,by){var bA=0;var bx,bw;for(bx=0,bw=by.length;bx<bw;bx++){if(by[bx].locked){bz.eq(bx).insertBefore(bz.eq(bA));bA++}}}function ai(bA){var bx={},bz,bw,by;for(bw=0,by=bA.length;bw<by;bw++){bz=bA[bw];bx[bz.value]=bz.text}return bx}function af(by,bA,bB,bz){var bx=bB&&bB.length&&T(bB[0])&&"value" in bB[0],bw=bx?ai(bB)[by]:by;bw=bw!=null?bw:"";return bA?z.format(bA,bw):(bz===false?bw:z.htmlEncode(bw))}function b(by,bx,bB){var bA=0,bz,bw=by[bA];while(bw){bz=bB?true:bw.style.display!=="none";if(bz&&!aC.test(bw.className)&&--bx<0){bw.style.display=bB?"":"none";break}bw=by[++bA]}}function aJ(bA,by){var bx=0,bz=bA.length,bw,bB;for(;bx<bz;bx+=1){bB=bA.eq(bx);if(bB.is(".k-grouping-row,.k-detail-row")){bw=bB.children(":not(.k-group-cell):first,.k-detail-cell").last();bw.attr("colspan",parseInt(bw.attr("colspan"),10)-1)}else{if(bB.hasClass("k-grid-edit-row")&&(bw=bB.children(".k-edit-container")[0])){bw=ba(bw);bw.attr("colspan",parseInt(bw.attr("colspan"),10)-1);bw.find("col").eq(by).remove();bB=bw.find("tr:first")}b(bB[0].cells,by,false)}}}function az(bz){var bx=[];var by;for(var bw=0;bw<bz.length;bw++){by=bz[bw];if(!("field" in by&&"value" in by&&"items" in by)){break}bx.push(by);if(by.hasSubgroups){bx=bx.concat(az(by.items))}}return bx}function R(bB,bz){var bx=0,bA=bB.length,bw,bC,by;for(;bx<bA;bx+=1){bC=bB.eq(bx);if(bC.is(".k-grouping-row,.k-detail-row")){bw=bC.children(":not(.k-group-cell):first,.k-detail-cell").last();bw.attr("colspan",parseInt(bw.attr("colspan"),10)+1)}else{if(bC.hasClass("k-grid-edit-row")&&(bw=bC.children(".k-edit-container")[0])){bw=ba(bw);bw.attr("colspan",parseInt(bw.attr("colspan"),10)+1);bq(bw.find(">form>table"),B(by),false,0);bC=bw.find("tr:first")}b(bC[0].cells,bz,true)}}}function aR(by,bz,bx){bx=bx||1;var bB,bw,bA;for(bw=0,bA=by.length;bw<bA;bw++){bB=by.eq(bw).children().last();bB.attr("colspan",parseInt(bB.attr("colspan"),10)+bx);bB=bz.eq(bw).children().last();bB.attr("colspan",parseInt(bB.attr("colspan"),10)-bx)}}function bf(bz){var bw,by,bx=0;var bA=bz.find(">colgroup>col");for(bw=0,by=bA.length;bw<by;bw+=1){bx+=parseInt(bA[bw].style.width,10)}return bx}var aX=z.ui.DataBoundWidget.extend({init:function(by,bw,bx){var bz=this;bw=c(bw)?{dataSource:bw}:bw;n.fn.init.call(bz,by,bw);if(bx){bz._events=bx}G=z.support.isRtl(by);bz._element();bz._aria();bz._columns(bz.options.columns);bz._dataSource();bz._tbody();bz._pageable();bz._thead();bz._groupable();bz._toolbar();bz._setContentHeight();bz._templates();bz._navigatable();bz._selectable();bz._clipboard();bz._details();bz._editable();bz._attachCustomCommandsEvent();bz._minScreenSupport();if(bz.options.autoBind){bz.dataSource.fetch()}else{bz._footer()}if(bz.lockedContent){bz.wrapper.addClass("k-grid-lockedcolumns");bz._resizeHandler=function(){bz.resize()};ba(window).on("resize"+bm,bz._resizeHandler)}z.notify(bz)},events:[X,"dataBinding","cancel",L,m,aI,w,e,a0,ae,a9,bu,bo,br,aW,aV,H,S,g],setDataSource:function(by){var bw=this;var bx=bw.options.scrollable;bw.options.dataSource=by;bw._dataSource();bw._pageable();bw._thead();if(bx){if(bx.virtual){bw.content.find(">.k-virtual-scrollable-wrap").scrollLeft(0)}else{bw.content.scrollLeft(0)}}if(bw.options.groupable){bw._groupable()}if(bw.virtualScrollable){bw.virtualScrollable.setDataSource(bw.options.dataSource)}if(bw.options.navigatable){bw._navigatable()}if(bw.options.selectable){bw._selectable()}if(bw.options.autoBind){by.fetch()}},options:{name:"Grid",columns:[],toolbar:null,autoBind:true,filterable:false,scrollable:true,sortable:false,selectable:false,allowCopy:false,navigatable:false,pageable:false,editable:false,groupable:false,rowTemplate:"",altRowTemplate:"",noRecords:false,dataSource:{},height:null,resizable:false,reorderable:false,columnMenu:false,detailTemplate:null,columnResizeHandleWidth:3,mobile:"",messages:{editable:{cancelDelete:ak,confirmation:q,confirmDelete:aO},commands:{create:ar.create.text,cancel:ar.cancel.text,save:ar.save.text,destroy:ar.destroy.text,edit:ar.edit.text,update:ar.update.text,canceledit:ar.canceledit.text,excel:ar.excel.text,pdf:ar.pdf.text},noRecords:bs}},destroy:function(){var bx=this,bw;bx._angularItems("cleanup");bx._destroyColumnAttachments();n.fn.destroy.call(bx);this._navigatableTables=null;if(bx._resizeHandler){ba(window).off("resize"+bm,bx._resizeHandler)}if(bx.pager&&bx.pager.element){bx.pager.destroy()}bx.pager=null;if(bx.groupable&&bx.groupable.element){bx.groupable.element.kendoGroupable("destroy")}bx.groupable=null;if(bx.options.reorderable){bx.wrapper.data("kendoReorderable").destroy()}if(bx.selectable&&bx.selectable.element){bx.selectable.destroy();bx.clearArea();if(bx.copyHandler){bx.wrapper.off("keydown",bx.copyHandler);bx.unbind(bx.copyHandler)}if(bx.updateClipBoardState){bx.unbind(bx.updateClipBoardState);bx.updateClipBoardState=null}if(bx.clearAreaHandler){bx.wrapper.off("keyup",bx.clearAreaHandler)}}bx.selectable=null;if(bx.resizable){bx.resizable.destroy();if(bx._resizeUserEvents){if(bx._resizeHandleDocumentClickHandler){ba(document).off("click",bx._resizeHandleDocumentClickHandler)}bx._resizeUserEvents.destroy();bx._resizeUserEvents=null}bx.resizable=null}if(bx.virtualScrollable&&bx.virtualScrollable.element){bx.virtualScrollable.destroy()}bx.virtualScrollable=null;bx._destroyEditable();if(bx.dataSource){bx.dataSource.unbind(X,bx._refreshHandler).unbind(a3,bx._progressHandler).unbind(W,bx._errorHandler);bx._refreshHandler=bx._progressHandler=bx._errorHandler=null}bw=bx.element.add(bx.wrapper).add(bx.table).add(bx.thead).add(bx.wrapper.find(">.k-grid-toolbar"));if(bx.content){bw=bw.add(bx.content).add(bx.content.find(">.k-virtual-scrollable-wrap"))}if(bx.lockedHeader){bx._removeLockedContainers()}if(bx.pane){bx.pane.destroy()}if(bx.minScreenResizeHandler){ba(window).off("resize",bx.minScreenResizeHandler)}if(bx._draggableInstance&&bx._draggableInstance.element){bx._draggableInstance.destroy()}bx._draggableInstance=null;bw.off(bm);z.destroy(bx.wrapper);bx.rowTemplate=bx.altRowTemplate=bx.lockedRowTemplate=bx.lockedAltRowTemplate=bx.detailTemplate=bx.footerTemplate=bx.groupFooterTemplate=bx.lockedGroupFooterTemplate=bx.noRecordsTemplate=null;bx.scrollables=bx.thead=bx.tbody=bx.element=bx.table=bx.content=bx.footer=bx.wrapper=bx._groupableClickHandler=bx._setContentWidthHandler=null},getOptions:function(){var by=this.options;by.dataSource=null;var bx=aM(true,{},this.options);bx.columns=z.deepExtend([],this.columns);var bz=this.dataSource;var bw=bz.options.data&&bz._data;bz.options.data=null;bx.dataSource=ba.extend(true,{},bz.options);bz.options.data=bw;bx.dataSource.data=bw;bx.dataSource.page=bz.page();bx.dataSource.filter=bz.filter();bx.dataSource.pageSize=bz.pageSize();bx.dataSource.sort=bz.sort();bx.dataSource.group=bz.group();bx.dataSource.aggregate=bz.aggregate();if(bx.dataSource.transport){bx.dataSource.transport.dataSource=null}bx.$angular=E;return bx},setOptions:function(by){var bx=this.getOptions();z.deepExtend(bx,by);if(!by.dataSource){bx.dataSource=this.dataSource}var bB=this.wrapper;var bA=this._events;var bz=this.element;this.destroy();this.options=null;if(this._isMobile){var bw=bB.closest(z.roleSelector("pane")).parent();bw.after(bB);bw.remove();bB.removeClass("k-grid-mobile")}if(bB[0]!==bz[0]){bB.before(bz);bB.remove()}bz.empty();this.init(bz,bx,bA);this._setEvents(bx)},items:function(){if(this.lockedContent){return this._items(this.tbody).add(this._items(this.lockedTable.children("tbody")))}else{return this._items(this.tbody)}},_items:function(bw){return bw.children().filter(function(){var bx=ba(this);return !bx.hasClass("k-grouping-row")&&!bx.hasClass("k-detail-row")&&!bx.hasClass("k-group-footer")})},dataItems:function(){var bw=z.ui.DataBoundWidget.fn.dataItems.call(this);if(this.lockedContent){var bz=bw.length,by=new Array(2*bz);for(var bx=bz;--bx>=0;){by[bx]=by[bx+bz]=bw[bx]}bw=by}return bw},_destroyColumnAttachments:function(){var bw=this;bw.resizeHandle=null;if(!bw.thead){return}this.angular("cleanup",function(){return{elements:bw.thead.get()}});bw.thead.add(bw.lockedHeader).find("th").each(function(){var bx=ba(this),bA=bx.data("kendoFilterMenu"),bz=bx.data("kendoColumnSorter"),by=bx.data("kendoColumnMenu");if(bA){bA.destroy()}if(bz){bz.destroy()}if(by){by.destroy()}})},_attachCustomCommandsEvent:function(){var bz=this,bx=aa(bz.columns||[]),bA,bw,by;for(bw=0,by=bx.length;bw<by;bw++){bA=bx[bw].command;if(bA){ao(bz,bz.wrapper,bA)}}},_aria:function(){var bw=this.element.attr("id")||"aria";if(bw){this._cellId=bw+"_active_cell"}},_element:function(){var bx=this,bw=bx.element;if(!bw.is("table")){if(bx.options.scrollable){bw=bx.element.find("> .k-grid-content > table")}else{bw=bx.element.children("table")}if(!bw.length){bw=ba("<table />").appendTo(bx.element)}}if(ap){bw.attr("cellspacing",0)}bx.table=bw.attr("role",bx._hasDetails()?"treegrid":"grid");bx._wrapper()},_createResizeHandle:function(bx,by){var bE=this;var bC=bE.options.columnResizeHandleWidth;var bG=bE.options.scrollable;var bI=bE.resizeHandle;var bz=this._groups();var bB;if(bI&&bE.lockedContent&&bI.data("th")[0]!==by[0]){bI.off(bm).remove();bI=null}if(!bI){bI=bE.resizeHandle=ba('<div class="k-resize-handle"><div class="k-resize-handle-inner"></div></div>');bx.append(bI)}if(!G){bB=by[0].offsetWidth;var bJ=o(by.closest("thead")).filter(":visible");for(var bH=0;bH<bJ.length;bH++){if(bJ[bH]==by[0]){break}bB+=bJ[bH].offsetWidth}if(bz>0){bB+=bx.find(".k-group-cell:first").outerWidth()*bz}if(bE._hasDetails()){bB+=bx.find(".k-hierarchy-cell:first").outerWidth()}}else{bB=by.position().left;if(bG){var bF=by.closest(".k-grid-header-wrap, .k-grid-header-locked"),bw=bc.msie?bF.scrollLeft():0,bA=bc.webkit?(bF[0].scrollWidth-bF[0].offsetWidth-bF.scrollLeft()):0,bD=bc.mozilla?(bF[0].scrollWidth-bF[0].offsetWidth-(bF[0].scrollWidth-bF[0].offsetWidth-bF.scrollLeft())):0;bB-=bA-bD+bw}}bI.css({top:by.position().top,left:bB-bC,height:by.outerHeight(),width:bC*3}).data("th",by).show();bI.off("dblclick"+bm).on("dblclick"+bm,function(){bE._autoFitLeafColumn(by.data("index"))})},_positionColumnResizeHandle:function(bw){var bx=this,by=bx.options.columnResizeHandleWidth,bz=bx.lockedHeader?bx.lockedHeader.find("thead:first"):ba();bx.thead.add(bz).on("mousemove"+bm,"th",function(bE){var bC=ba(this);if(bC.hasClass("k-group-cell")||bC.hasClass("k-hierarchy-cell")){return}var bB=bE.clientX,bD=ba(window).scrollLeft(),bA=bC.offset().left+(!G?this.offsetWidth:0);if(bB+bD>bA-by&&bB+bD<bA+by){bx._createResizeHandle(bC.closest("div"),bC)}else{if(bx.resizeHandle){bx.resizeHandle.hide()}else{l(bx.wrapper,"")}}})},_resizeHandleDocumentClick:function(bw){if(ba(bw.target).closest(".k-column-active").length){return}ba(document).off(bw);this._hideResizeHandle()},_hideResizeHandle:function(){if(this.resizeHandle){this.resizeHandle.data("th").removeClass("k-column-active");if(this.lockedContent&&!this._isMobile){this.resizeHandle.off(bm).remove();this.resizeHandle=null}else{this.resizeHandle.hide()}}},_positionColumnResizeHandleTouch:function(bw){var bx=this,by=bx.lockedHeader?bx.lockedHeader.find("thead:first"):ba();bx._resizeUserEvents=new z.UserEvents(by.add(bx.thead),{filter:"th:not(.k-group-cell):not(.k-hierarchy-cell)",threshold:10,hold:function(bA){var bz=ba(bA.target);bA.preventDefault();bz.addClass("k-column-active");bx._createResizeHandle(bz.closest("div"),bz);if(!bx._resizeHandleDocumentClickHandler){bx._resizeHandleDocumentClickHandler=K(bx._resizeHandleDocumentClick,bx)}ba(document).on("click",bx._resizeHandleDocumentClickHandler)}})},_resizable:function(){var bC=this,bG=bC.options,bx,bA,bz,bD,bE=this._isMobile,bF=!z.support.mobileOS?z.support.scrollbar():0,bw,bB,by;if(bG.resizable){bx=bG.scrollable?bC.wrapper.find(".k-grid-header-wrap:first"):bC.wrapper;if(bE){bC._positionColumnResizeHandleTouch(bx)}else{bC._positionColumnResizeHandle(bx)}if(bC.resizable){bC.resizable.destroy()}bC.resizable=new at.Resizable(bx.add(bC.lockedHeader),{handle:(!!bG.scrollable?"":">")+".k-resize-handle",hint:function(bH){return ba('<div class="k-grid-resize-indicator" />').css({height:bH.data("th").outerHeight()+bC.tbody.attr("clientHeight")})},start:function(bJ){by=ba(bJ.currentTarget).data("th");if(bE){bC._hideResizeHandle()}var bL=by.closest("table"),bI=ba.inArray(by[0],o(by.closest("thead")).filter(":visible"));bw=bL.parent().hasClass("k-grid-header-locked");var bH=bw?bC.lockedTable:bC.table,bK=bC.footer||ba();if(bC.footer&&bC.lockedContent){bK=bw?bC.footer.children(".k-grid-footer-locked"):bC.footer.children(".k-grid-footer-wrap")}l(bC.wrapper,"col-resize");if(bG.scrollable){bB=bL.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+bI+")").add(bH.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+bI+")")).add(bK.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+bI+")"))}else{bB=bH.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+bI+")")}bA=bJ.x.location;bz=by.outerWidth();bD=bw?bH.children("tbody").outerWidth():bC.tbody.outerWidth();if(bc.webkit){bC.wrapper.addClass("k-grid-column-resizing")}},resize:function(bL){var bM=G?-1:1,bI=bz+(bL.x.location*bM)-(bA*bM);if(bG.scrollable){var bO;if(bw&&bC.lockedFooter){bO=bC.lockedFooter.children("table")}else{if(bC.footer){bO=bC.footer.find(">.k-grid-footer-wrap>table")}}if(!bO||!bO[0]){bO=ba()}var bJ=by.closest("table");var bP=bw?bC.lockedTable:bC.table;var bN=false;var bK=bC.wrapper.width()-bF;var bH=bI;if(bw&&bD-bz+bH>bK){bH=bz+(bK-bD-bF*2);if(bH<0){bH=bI}bN=true}if(bH>10){bB.css("width",bH);if(bD){if(bN){bH=bK-bF*2}else{bH=bD+(bL.x.location*bM)-(bA*bM)}bP.add(bJ).add(bO).css("width",bH);if(!bw){bC._footerWidth=bH}}}}else{if(bI>10){bB.css("width",bI)}}},resizeend:function(){var bJ=by.outerWidth(),bI,bK;l(bC.wrapper,"");if(bc.webkit){bC.wrapper.removeClass("k-grid-column-resizing")}if(bz!=bJ){bK=bC.lockedHeader?bC.lockedHeader.find("thead:first tr:first").add(bC.thead.find("tr:first")):by.parent();var bH=by.attr(z.attr("index"));if(!bH){bH=bK.find("th:not(.k-group-cell):not(.k-hierarchy-cell)").index(by)}bI=aa(bC.columns)[bH];bI.width=bJ;bC.trigger(br,{column:bI,oldWidth:bz,newWidth:bJ});bC._applyLockedContainersWidth();bC._syncLockedContentHeight();bC._syncLockedHeaderHeight()}bC._hideResizeHandle();by=null}})}},_draggable:function(){var bw=this;if(bw.options.reorderable){if(bw._draggableInstance){bw._draggableInstance.destroy()}bw._draggableInstance=bw.wrapper.kendoDraggable({group:z.guid(),filter:bw.content?".k-grid-header:first "+aN:"table:first>.k-grid-header "+aN,drag:function(){bw._hideResizeHandle()},hint:function(bx){return ba('<div class="k-header k-drag-clue" />').css({width:bx.width(),paddingLeft:bx.css("paddingLeft"),paddingRight:bx.css("paddingRight"),lineHeight:bx.height()+"px",paddingTop:bx.css("paddingTop"),paddingBottom:bx.css("paddingBottom")}).html(bx.attr(z.attr("title"))||bx.attr(z.attr("field"))||bx.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}}).data("kendoDraggable")}},_reorderable:function(){var bx=this;if(bx.options.reorderable){if(bx.wrapper.data("kendoReorderable")){bx.wrapper.data("kendoReorderable").destroy()}var bw=function(bA,by,bz){var bC=bA[by];var bD=bA[bz];var bB=O(bC,bx.columns);bA=bB?bB.columns:bx.columns;return D(bD,bA)};bx.wrapper.kendoReorderable({draggable:bx._draggableInstance,dragOverContainers:function(by,bz){var bA=a(bx.columns);return bA[by].lockable!==false&&bw(bA,by,bz)>-1},inSameContainer:function(by){return ba(by.source).parent()[0]===ba(by.target).parent()[0]&&bw(a(bx.columns),by.sourceIndex,by.targetIndex)>-1},change:function(bB){var bz=a(bx.columns);var bA=bz[bB.oldIndex];var by=bw(bz,bB.oldIndex,bB.newIndex);bx.trigger(aW,{newIndex:by,oldIndex:D(bA,bz),column:bA});bx.reorderColumn(by,bA,bB.position==="before")}})}},_reorderHeader:function(bx,bB,bD){var bA=this;var bz=av(bx[0],bA.columns);var bC=av(bB,bA.columns);var bF=[];for(var bE=0;bE<bx.length;bE++){if(bx[bE].columns){bF=bF.concat(bx[bE].columns)}}var bw=bi(bA.lockedHeader,bA.thead,"tr:eq("+bz.row+")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)");var bG=i(bx).length;var by=i([bB]).length;if(bF.length){if(bG>0&&by===0){bp(bx,bB,bF,bA.columns,bA.lockedHeader.find("thead"),bA.thead,this._groups())}else{if(bG===0&&by>0){bp(bx,bB,bF,bA.columns,bA.thead,bA.lockedHeader.find("thead"),this._groups())}}if(bB.columns||bz.cell-bC.cell>1||bC.cell-bz.cell>1){bB=ax(bA.columns,bB,bx[0],bD);if(bB){bA._reorderHeader(bF,bB,bD)}}}else{if(bG!==by){aL(bw[bz.cell],bA.columns,bG)}}ab(bw,bz.cell,bC.cell,bD,bx.length)},_reorderContent:function(bx,bK,bG){var bC=this;var bB=ba();var bJ=bx[0];var bD=B(bx);var bz=D(bJ,aa(bC.columns));var bO=D(bK,aa(bC.columns));var bA=D(bJ,N(bC.columns));var bw=D(bK,N(bC.columns));var bN=i(bC.columns).length;var bE=!!bK.locked;var bI=bC.footer||bC.wrapper.find(".k-grid-footer");var bL,bM;bL=bM=bw;if(bK.hidden){if(bE){bw=bC.lockedTable.find("colgroup");bL=bC.lockedHeader.find("colgroup");bM=ba(bC.lockedFooter).find(">table>colgroup")}else{bw=bC.tbody.prev();bL=bC.thead.prev();bM=bI.find(".k-grid-footer-wrap").find(">table>colgroup")}}if(bC._hasFilterRow()){ab(bC.wrapper.find(".k-filter-row th:not(.k-group-cell,.k-hierarchy-cell)"),bz,bO,bG,bx.length)}ab(bi(bC.lockedHeader,bC.thead.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),bA,bL,bG,bD.length);if(bC.options.scrollable){ab(bi(bC.lockedTable,bC.tbody.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),bA,bw,bG,bD.length)}if(bI&&bI.length){ab(bi(bC.lockedFooter,bI.find(".k-grid-footer-wrap"),">table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),bA,bM,bG,bD.length);ab(bI.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),bz,bO,bG,bx.length)}var bF=bC.tbody.children(":not(.k-grouping-row,.k-detail-row)");if(bC.lockedTable){if(bN>bO){if(bN<=bz){aR(bC.lockedTable.find(">tbody>tr.k-grouping-row"),bC.table.find(">tbody>tr.k-grouping-row"),bx.length)}}else{if(bN>bz){aR(bC.table.find(">tbody>tr.k-grouping-row"),bC.lockedTable.find(">tbody>tr.k-grouping-row"),bx.length)}}bB=bC.lockedTable.find(">tbody>tr:not(.k-grouping-row,.k-detail-row)")}for(var bH=0,by=bF.length;bH<by;bH+=1){ab(bi(bB[bH],bF[bH],">td:not(.k-group-cell,.k-hierarchy-cell)"),bz,bO,bG,bx.length)}},_autoFitLeafColumn:function(bw){this.autoFitColumn(aa(this.columns)[bw])},autoFitColumn:function(by){var bF=this,bB=bF.options,bw=bF.columns,bE,bD,bP,bL,bH,bR=bF.lockedHeader?o(bF.lockedHeader.find(">table>thead")).filter(aY).length:0,bC,bx="col:not(.k-group-col):not(.k-hierarchy-col)",bU="td:visible:not(.k-group-cell):not(.k-hierarchy-cell)";if(typeof by=="number"){by=bw[by]}else{if(T(by)){by=k(t(bw),function(bW){return bW===by})[0]}else{by=k(t(bw),function(bW){return bW.field===by})[0]}}if(!by||!bl(by)){return}bE=D(by,aa(bw));bH=by.locked;if(bH){bL=bF.lockedHeader.children("table")}else{bL=bF.thead.parent()}bD=bL.find("[data-index='"+bE+"']");var bQ=bH?bF.lockedTable:bF.table,bN=bF.footer||ba();if(bF.footer&&bF.lockedContent){bN=bH?bF.footer.children(".k-grid-footer-locked"):bF.footer.children(".k-grid-footer-wrap")}var bT=bN.find("table").first();if(bF.lockedHeader&&!bH){bE-=bR}for(var bO=0;bO<bw.length;bO++){if(bw[bO]===by){break}else{if(bw[bO].hidden){bE--}}}if(bB.scrollable){bC=bL.find(bx).eq(bE).add(bQ.children("colgroup").find(bx).eq(bE)).add(bT.find("colgroup").find(bx).eq(bE))}else{bC=bQ.children("colgroup").find(bx).eq(bE)}var bG=bL.add(bQ).add(bT);var bV=bD.outerWidth();bC.width("");bG.css("table-layout","fixed");bC.width("auto");bG.addClass("k-autofitting");bG.css("table-layout","");var bI=Math.max(bL.width(),bQ.width(),bT.width());var bJ=Math.ceil(Math.max(bD.outerWidth(),bQ.find("tr").eq(0).children(bU).eq(bE).outerWidth(),bT.find("tr").eq(0).children(bU).eq(bE).outerWidth()));bC.width(bJ);by.width=bJ;if(bB.scrollable){var bK=bL.find("col"),bS,bz=0;for(var bM=0,bA=bK.length;bM<bA;bM+=1){bS=bK[bM].style.width;if(bS&&bS.indexOf("%")==-1){bz+=parseInt(bS,10)}else{bz=0;break}}if(bz){bG.each(function(){this.style.width=bz+"px"})}}if(bc.msie&&bc.version==8){bG.css("display","inline-table");setTimeout(function(){bG.css("display","table")},1)}bG.removeClass("k-autofitting");bF.trigger(br,{column:by,oldWidth:bV,newWidth:bJ});bF._applyLockedContainersWidth();bF._syncLockedContentHeight();bF._syncLockedHeaderHeight()},reorderColumn:function(bA,by,bE){var bB=this,bF=O(by,bB.columns),bz=bF?bF.columns:bB.columns,bC=D(by,bz),bD=bz[bA],bx,bw=!!bD.locked,bG=i(bB.columns).length;if(bC===bA){return}if(!by.locked&&bw&&bb(bB.columns).length==1){return}if(by.locked&&!bw&&bG==1){return}bB._hideResizeHandle();if(bE===E){bE=bA<bC}var bH=[by];bB._reorderHeader(bH,bD,bE);if(bB.lockedHeader){y(bB.thead);y(bB.lockedHeader)}if(bD.columns){bD=aa(bD.columns);bD=bD[bE?0:bD.length-1]}if(by.columns){bH=aa(by.columns)}bB._reorderContent(bH,bD,bE);bx=!!by.locked;bx=bx!=bw;by.locked=bw;bz.splice(bE?bA:bA+1,0,by);bz.splice(bC<bA?bC:bC+1,1);bB._templates();bB._updateColumnCellIndex();bB._updateTablesWidth();bB._applyLockedContainersWidth();bB._syncLockedHeaderHeight();bB._syncLockedContentHeight();bB._updateFirstColumnClass();if(!bx){return}if(bw){bB.trigger(S,{column:by})}else{bB.trigger(g,{column:by})}},_updateColumnCellIndex:function(){var bx;var bw=0;if(this.lockedHeader){bx=this.lockedHeader.find("thead");bw=aZ(bx,i(this.columns))}aZ(this.thead,bb(this.columns),bw)},lockColumn:function(by){var bx=this.columns;if(typeof by=="number"){by=bx[by]}else{by=k(bx,function(bz){return bz.field===by})[0]}if(!by||by.locked||by.hidden){return}var bw=i(bx).length-1;this.reorderColumn(bw,by,false)},unlockColumn:function(by){var bx=this.columns;if(typeof by=="number"){by=bx[by]}else{by=k(bx,function(bz){return bz.field===by})[0]}if(!by||!by.locked||by.hidden){return}var bw=i(bx).length;this.reorderColumn(bw,by,true)},cellIndex:function(bx){var bw=0;if(this.lockedTable&&!ba.contains(this.lockedTable[0],bx[0])){bw=aa(i(this.columns)).length}return ba(bx).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(bx)+bw},_modelForContainer:function(bw){bw=ba(bw);if(!bw.is("tr")&&this._editMode()!=="popup"){bw=bw.closest("tr")}var bx=bw.attr(z.attr("uid"));return this.dataSource.getByUid(bx)},_editable:function(){var bz=this,bw=bz.selectable&&bz.selectable.options.multiple,bx=bz.options.editable,by=function(){var bC=U(),bB=bz._editContainer;if(bB&&!ba.contains(bB[0],bC)&&bB[0]!==bC&&!ba(bC).closest(".k-animation-container").length){if(bz.editable.end()){bz.closeCell()}}};if(bx){var bA=bz._editMode();if(bA==="incell"){if(bx.update!==false){bz.wrapper.on(a8+bm,"tr:not(.k-grouping-row) > td",function(bC){var bD=ba(this),bB=bz.lockedTable&&bD.closest("table")[0]===bz.lockedTable[0];if(bD.hasClass("k-hierarchy-cell")||bD.hasClass("k-detail-cell")||bD.hasClass("k-group-cell")||bD.hasClass("k-edit-cell")||bD.has("a.k-grid-delete").length||bD.has("button.k-grid-delete").length||(bD.closest("tbody")[0]!==bz.tbody[0]&&!bB)||ba(bC.target).is(":input")){return}if(bz.editable){if(bz.editable.end()){if(bw){ba(U()).blur()}bz.closeCell();bz.editCell(bD)}}else{bz.editCell(bD)}}).on("focusin"+bm,function(){if(!ba.contains(this,U())){clearTimeout(bz.timer);bz.timer=null}}).on("focusout"+bm,function(){bz.timer=setTimeout(by,1)})}}else{if(bx.update!==false){bz.wrapper.on(a8+bm,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(bB){bB.preventDefault();bz.editRow(ba(this).closest("tr"))})}}if(bx.destroy!==false){bz.wrapper.on(a8+bm,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(bB){bB.preventDefault();bB.stopPropagation();bz.removeRow(ba(this).closest("tr"))})}else{bz.wrapper.on(a8+bm,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(bB){bB.stopPropagation();if(!bz._confirmation()){bB.preventDefault()}})}}},editCell:function(bw){bw=ba(bw);var bz=this,by=aa(bz.columns)[bz.cellIndex(bw)],bx=bz._modelForContainer(bw);bz.closeCell();if(bx&&(!bx.editable||bx.editable(by.field))&&!by.command&&by.field){bz._attachModelChange(bx);bz._editContainer=bw;bz.editable=bw.addClass("k-edit-cell").kendoEditable({fields:{field:by.field,format:by.format,editor:by.editor,values:by.values},model:bx,target:bz,change:function(bB){if(bz.trigger(a9,{values:bB.values,container:bw,model:bx})){bB.preventDefault()}}}).data("kendoEditable");var bA=bw.parent().addClass("k-grid-edit-row");if(bz.lockedContent){aP(bA[0],bz._relatedRow(bA).addClass("k-grid-edit-row")[0])}bz.trigger(ae,{container:bw,model:bx})}},_adjustLockedHorizontalScrollBar:function(){var bx=this.table,bw=bx.parent();var by=bx[0].offsetWidth>bw[0].clientWidth?z.support.scrollbar():0;this.lockedContent.height(bw.height()-by)},_syncLockedContentHeight:function(){if(this.lockedTable){if(!this.touchScroller){this._adjustLockedHorizontalScrollBar()}this._adjustRowsHeight(this.table,this.lockedTable)}},_syncLockedHeaderHeight:function(){if(this.lockedHeader){var bw=this.lockedHeader.children("table");var bx=this.thead.parent();this._adjustRowsHeight(bw,bx);aE(bw,bx)}},_syncLockedFooterHeight:function(){if(this.lockedFooter&&this.footer&&this.footer.length){this._adjustRowsHeight(this.lockedFooter.children("table"),this.footer.find(".k-grid-footer-wrap > table"))}},_destroyEditable:function(){var bx=this;var bw=function(){if(bx.editable){var by=bx.editView?bx.editView.element:bx._editContainer;if(by){by.off(a8+bm,"a.k-grid-cancel",bx._editCancelClickHandler);by.off(a8+bm,"a.k-grid-update",bx._editUpdateClickHandler)}bx._detachModelChange();bx.editable.destroy();bx.editable=null;bx._editContainer=null;bx._destroyEditView()}};if(bx.editable){if(bx._editMode()==="popup"&&!bx._isMobile){bx._editContainer.data("kendoWindow").bind("deactivate",bw).close()}else{bw()}}if(bx._actionSheet){bx._actionSheet.destroy();bx._actionSheet=null}},_destroyEditView:function(){if(this.editView){this.editView.purge();this.editView=null;this.pane.navigate("")}},_attachModelChange:function(bw){var bx=this;bx._modelChangeHandler=function(by){bx._modelChange({field:by.field,model:this})};bw.bind("change",bx._modelChangeHandler)},_detachModelChange:function(){var by=this,bw=by._editContainer,bx=by._modelForContainer(bw);if(bx){bx.unbind(X,by._modelChangeHandler)}},closeCell:function(by){var bA=this,bw=bA._editContainer,bC,bz,bB,bx;if(!bw){return}bC=bw.closest("tr").attr(z.attr("uid"));bx=bA.dataSource.getByUid(bC);if(by&&bA.trigger("cancel",{container:bw,model:bx})){return}bw.removeClass("k-edit-cell");bz=aa(bA.columns)[bA.cellIndex(bw)];bB=bw.parent().removeClass("k-grid-edit-row");bA._destroyEditable();bA._displayCell(bw,bz,bx);if(bw.hasClass("k-dirty-cell")){ba('<span class="k-dirty"/>').prependTo(bw)}if(bA.lockedContent){aP(bB.css("height","")[0],bA._relatedRow(bB).css("height","")[0])}},_displayCell:function(bw,bA,by){var bB=this,bC={storage:{},count:0},bz=aM({},z.Template,bB.options.templateSettings),bx=z.template(bB._cellTmpl(bA,bC),bz);if(bC.count>0){bx=K(bx,bC.storage)}bw.empty().html(bx(by));bB.angular("compile",function(){return{elements:bw,data:[{dataItem:by}]}})},removeRow:function(bw){if(!this._confirmation(bw)){return}this._removeRow(bw)},_removeRow:function(bz){var bx=this,bw,by=bx._editMode();if(by!=="incell"){bx.cancelRow()}bz=ba(bz).hide();bw=bx._modelForContainer(bz);if(bw&&!bx.trigger(bu,{row:bz,model:bw})){bx.dataSource.remove(bw);if(by==="inline"||by==="popup"){bx.dataSource.sync()}}else{if(by==="incell"){bx._destroyEditable()}}},_editMode:function(){var bx="incell",bw=this.options.editable;if(bw!==true){if(typeof bw=="string"){bx=bw}else{bx=bw.mode||bx}}return bx},editRow:function(bA){var bx;var by=this;if(bA instanceof z.data.ObservableObject){bx=bA}else{bA=ba(bA);bx=by._modelForContainer(bA)}var bz=by._editMode();var bw;by.cancelRow();if(bx){by._attachModelChange(bx);if(bz==="popup"){by._createPopupEditor(bx)}else{if(bz==="inline"){by._createInlineEditor(bA,bx)}else{if(bz==="incell"){ba(bA).children(P).each(function(){var bB=ba(this);var bC=aa(by.columns)[bB.index()];bx=by._modelForContainer(bB);if(bx&&(!bx.editable||bx.editable(bC.field))&&bC.field){by.editCell(bB);return false}})}}}bw=by.editView?by.editView.element:by._editContainer;if(bw){if(!this._editCancelClickHandler){this._editCancelClickHandler=K(this._editCancelClick,this)}bw.on(a8+bm,"a.k-grid-cancel",this._editCancelClickHandler);if(!this._editUpdateClickHandler){this._editUpdateClickHandler=K(this._editUpdateClick,this)}bw.on(a8+bm,"a.k-grid-update",this._editUpdateClickHandler)}}},_editUpdateClick:function(bw){bw.preventDefault();bw.stopPropagation();this.saveRow()},_editCancelClick:function(bA){var bz=this;var bB=bz.options.navigatable;var by=bz.editable.options.model;var bx=bz.editView?bz.editView.element:bz._editContainer;bA.preventDefault();bA.stopPropagation();if(bz.trigger("cancel",{container:bx,model:by})){return}var bw=bz.items().index(ba(bz.current()).parent());bz.cancelRow();if(bB){bz.current(bz.items().eq(bw).children().filter(be).first());a6(bz.table,true)}},_createPopupEditor:function(bz){var bD=this,bF="<div "+z.attr("uid")+'="'+bz.uid+'" class="k-popup-edit-form'+(bD._isMobile?" k-mobile-list":"")+'"><div class="k-edit-form-container">',bx,bA,bK=[],bI,bB,bE,bN,bG,bJ,bw=aa(bD.columns),bL,bM=bD.options.editable,bP=bM.template,by=T(bM)?bM.window:{},bO=aM({},z.Template,bD.options.templateSettings);by=by||{};if(bP){if(typeof bP===bn){bP=window.unescape(bP)}bF+=(z.template(bP,bO))(bz);for(bI=0,bB=bw.length;bI<bB;bI++){bx=bw[bI];if(bx.command){bJ=C(bx.command,"edit");if(bJ){bA=bJ}}}}else{for(bI=0,bB=bw.length;bI<bB;bI++){bx=bw[bI];if(!bx.command){bF+='<div class="k-edit-label"><label for="'+bx.field+'">'+(bx.title||bx.field||"")+"</label></div>";if((!bz.editable||bz.editable(bx.field))&&bx.field){bK.push({field:bx.field,format:bx.format,editor:bx.editor,values:bx.values});bF+="<div "+z.attr("container-for")+'="'+bx.field+'" class="k-edit-field"></div>'}else{var bC={storage:{},count:0};bE=z.template(bD._cellTmpl(bx,bC),bO);if(bC.count>0){bE=K(bE,bC.storage)}bF+='<div class="k-edit-field">'+bE(bz)+"</div>"}}else{if(bx.command){bJ=C(bx.command,"edit");if(bJ){bA=bJ}}}}}if(bA){if(T(bA)){if(bA.text&&T(bA.text)){bN=bA.text.update;bG=bA.text.cancel}if(bA.attr){bL=bA.attr}}}var bH;if(!bD._isMobile){bF+='<div class="k-edit-buttons k-state-default">';bF+=bD._createButton({name:"update",text:bN,attr:bL})+bD._createButton({name:"canceledit",text:bG,attr:bL});bF+="</div></div></div>";bH=bD._editContainer=ba(bF).appendTo(bD.wrapper).eq(0).kendoWindow(aM({modal:true,resizable:false,draggable:true,title:"Edit",visible:false,close:function(bR){if(bR.userTriggered){bR.sender.element.focus();if(bD.trigger("cancel",{container:bH,model:bz})){bR.preventDefault();return}var bQ=bD.items().index(ba(bD.current()).parent());bD.cancelRow();if(bD.options.navigatable){bD.current(bD.items().eq(bQ).children().filter(be).first());a6(bD.table,true)}}}},by))}else{bF+="</div></div>";bD.editView=bD.pane.append("<div data-"+z.ns+'role="view" data-'+z.ns+'init-widgets="false" class="k-grid-edit-form"><div data-'+z.ns+'role="header" class="k-header">'+bD._createButton({name:"update",text:bN,attr:bL})+(by.title||"Edit")+bD._createButton({name:"canceledit",text:bG,attr:bL})+"</div>"+bF+"</div>");bH=bD._editContainer=bD.editView.element.find(".k-popup-edit-form")}bD.editable=bD._editContainer.kendoEditable({fields:bK,model:bz,clearContainer:false,target:bD}).data("kendoEditable");if(bD._isMobile){bH.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){ba(this).next().children("input").click()})}bD._openPopUpEditor();bD.trigger(ae,{container:bH,model:bz})},_openPopUpEditor:function(){if(!this._isMobile){this._editContainer.data("kendoWindow").center().open()}else{this.pane.navigate(this.editView,this._editAnimation)}},_createInlineEditor:function(bC,by){var bA=this,bz,bx,bB,bw=[];if(bA.lockedContent){bC=bC.add(bA._relatedRow(bC))}bC.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){bx=ba(this);bz=aa(bA.columns)[bA.cellIndex(bx)];if(!bz.command&&bz.field&&(!by.editable||by.editable(bz.field))){bw.push({field:bz.field,format:bz.format,editor:bz.editor,values:bz.values});bx.attr(z.attr("container-for"),bz.field);bx.empty()}else{if(bz.command){bB=C(bz.command,"edit");if(bB){bx.empty();var bF,bE,bD;if(T(bB)){if(bB.text&&T(bB.text)){bF=bB.text.update;bE=bB.text.cancel}if(bB.attr){bD=bB.attr}}ba(bA._createButton({name:"update",text:bF,attr:bD})+bA._createButton({name:"canceledit",text:bE,attr:bD})).appendTo(bx)}}}});bA._editContainer=bC;bA.editable=new z.ui.Editable(bC.addClass("k-grid-edit-row"),{target:bA,fields:bw,model:by,clearContainer:false});if(bC.length>1){aP(bC[0],bC[1]);bA._applyLockedContainersWidth()}bA.trigger(ae,{container:bC,model:by})},cancelRow:function(){var by=this,bw=by._editContainer,bx,bz;if(bw){bx=by._modelForContainer(bw);by._destroyEditable();by.dataSource.cancelChanges(bx);if(by._editMode()!=="popup"){by._displayRow(bw)}else{by._displayRow(by.tbody.find("["+z.attr("uid")+"="+bx.uid+"]"))}}},saveRow:function(){var bz=this,bw=bz._editContainer,bx=bz._modelForContainer(bw),by=bz.editable;if(bw&&by&&by.end()&&!bz.trigger(a9,{container:bw,model:bx})){bz.dataSource.sync()}},_displayRow:function(bD){var bB=this,bz=bB._modelForContainer(bD),bC,by,bA,bx=bD.hasClass("k-state-selected"),bw=bD.hasClass("k-alt");if(bz){if(bB.lockedContent){bC=ba((bw?bB.lockedAltRowTemplate:bB.lockedRowTemplate)(bz));bB._relatedRow(bD.last()).replaceWith(bC)}bB.angular("cleanup",function(){return{elements:bD.get()}});by=ba((bw?bB.altRowTemplate:bB.rowTemplate)(bz));bD.replaceWith(by);bB.angular("compile",function(){return{elements:by.get(),data:[{dataItem:bz}]}});if(bx&&bB.options.selectable){bB.select(by.add(bC))}if(bC){aP(by[0],bC[0])}bA=by.next();if(bA.hasClass("k-detail-row")&&bA.is(":visible")){by.find(".k-hierarchy-cell .k-icon").removeClass("k-plus").addClass("k-minus")}}},_showMessage:function(bA,bB){var bz=this;if(!bz._isMobile){return window.confirm(bA.title)}var by=z.template('<ul><li class="km-actionsheet-title">#:title#</li><li><a href="\\#" class="k-button k-grid-delete">#:confirmDelete#</a></li></ul>');var bw=ba(by(bA)).appendTo(bz.view.element);var bx=bz._actionSheet=new z.mobile.ui.ActionSheet(bw,{cancel:bA.cancelDelete,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(bD){var bC=ba(bD.currentTarget).parent();if(!bC.hasClass("km-actionsheet-cancel")){bz._removeRow(bB)}},popup:bz._actionSheetPopupOptions});bx.open(bB);return false},_confirmation:function(bz){var by=this,bw=by.options.editable,bx=bw===true||typeof bw===bn?by.options.messages.editable.confirmation:bw.confirmation;if(bx!==false&&bx!=null){if(typeof bx===aS){bx=bx(by._modelForContainer(bz))}return by._showMessage({confirmDelete:bw.confirmDelete||by.options.messages.editable.confirmDelete,cancelDelete:bw.cancelDelete||by.options.messages.editable.cancelDelete,title:bx===true?by.options.messages.editable.confirmation:bx},bz)}return true},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){var bw=this;if(((bw.editable&&bw.editable.end())||!bw.editable)&&!bw.trigger(bo)){bw.dataSource.sync()}},addRow:function(){var bA=this,bC,bw=bA.dataSource,bz=bA._editMode(),bB=bA.options.editable.createAt||"",bD=bw.pageSize(),bE=bw.view()||[];if((bA.editable&&bA.editable.end())||!bA.editable){if(bz!="incell"){bA.cancelRow()}bC=bw.indexOf(bE[0]);if(bB.toLowerCase()=="bottom"){bC+=bE.length;if(bD&&!bw.options.serverPaging&&bD<=bE.length){bC-=1}}if(bC<0){if(bw.page()>bw.totalPages()){bC=(bw.page()-1)*bD}else{bC=0}}var by=bw.insert(bC,{}),bx=by.uid,bG=bA.lockedContent?bA.lockedTable:bA.table,bH=bG.find("tr["+z.attr("uid")+"="+bx+"]"),bF=bH.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(bA._firstEditableColumnIndex(bH));if(bz==="inline"&&bH.length){bA.editRow(bH)}else{if(bz==="popup"){bA.editRow(by)}else{if(bF.length){bA.editCell(bF)}}}if(bB.toLowerCase()=="bottom"&&bA.lockedContent){bA.lockedContent[0].scrollTop=bA.content[0].scrollTop=bA.content[0].offsetHeight}}},_firstEditableColumnIndex:function(bx){var bC=this,bA,bz=aa(bC.columns),bw,bB,by=bC._modelForContainer(bx);for(bw=0,bB=bz.length;bw<bB;bw++){bA=bz[bw];if(by&&(!by.editable||by.editable(bA.field))&&!bA.command&&bA.field&&bA.hidden!==true){return bw}}return -1},_toolbar:function(){var bz=this,bA=bz.wrapper,by=bz.options.toolbar,bx=bz.options.editable,bw;if(by){bw=bz.wrapper.find(".k-grid-toolbar");if(!bw.length){if(!bd(by)){by=(typeof by===bn?by:bz._toolbarTmpl(by).replace(aB,"\\#"));by=K(z.template(by),bz)}bw=ba('<div class="k-header k-grid-toolbar" />').html(by({})).prependTo(bA);bz.angular("compile",function(){return{elements:bw.get()}})}if(bx&&bx.create!==false){bw.on(a8+bm,".k-grid-add",function(bB){bB.preventDefault();bz.addRow()}).on(a8+bm,".k-grid-cancel-changes",function(bB){bB.preventDefault();bz.cancelChanges()}).on(a8+bm,".k-grid-save-changes",function(bB){bB.preventDefault();bz.saveChanges()})}bw.on(a8+bm,".k-grid-excel",function(bB){bB.preventDefault();bz.saveAsExcel()});bw.on(a8+bm,".k-grid-pdf",function(bB){bB.preventDefault();bz.saveAsPDF()})}},_toolbarTmpl:function(bx){var bA=this,bw,bz,by="";if(c(bx)){for(bw=0,bz=bx.length;bw<bz;bw++){by+=bA._createButton(bx[bw])}}return by},_createButton:function(bC){var bz=bC.template||aw,bx=typeof bC===bn?bC:bC.name||bC.text,by=ar[bx]?ar[bx].className:"k-grid-"+(bx||"").replace(/\s/g,""),bw={className:by,text:bx,imageClass:"",attr:"",iconClass:""},bB=this.options.messages.commands,bA;if(!bx&&!(T(bC)&&bC.template)){throw new Error("Custom commands should have name specified")}if(T(bC)){if(bC.className&&D(bw.className,bC.className.split(" "))<0){bC.className+=" "+bw.className}else{if(bC.className===E){bC.className=bw.className}}if(bx==="edit"&&T(bC.text)){bC=aM(true,{},bC);bC.text=bC.text.edit}if(bC.attr){if(T(bC.attr)){bC.attr=p(bC.attr)}if(typeof bC.attr===bn){bA=bC.attr.match(/class="(.+?)"/);if(bA&&D(bA[1],bC.className.split(" "))<0){bC.className+=" "+bA[1]}}}bw=aM(true,bw,ar[bx],{text:bB[bx]},bC)}else{bw=aM(true,bw,ar[bx],{text:bB[bx]})}return z.template(bz)(bw)},_hasFooters:function(){return !!this.footerTemplate||!!this.groupFooterTemplate||(this.footer&&this.footer.length>0)||this.wrapper.find(".k-grid-footer").length>0},_groupable:function(){var bw=this;if(bw._groupableClickHandler){bw.table.add(bw.lockedTable).off(a8+bm,bw._groupableClickHandler)}else{bw._groupableClickHandler=function(bz){var bx=ba(this),by=bx.closest("tr");if(bx.hasClass("k-i-collapse")){bw.collapseGroup(by)}else{bw.expandGroup(by)}bz.preventDefault();bz.stopPropagation()}}if(bw._isLocked()){bw.lockedTable.on(a8+bm,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",bw._groupableClickHandler)}else{bw.table.on(a8+bm,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",bw._groupableClickHandler)}bw._attachGroupable()},_attachGroupable:function(){var bz=this,bA=bz.wrapper,bx=bz.options.groupable,bw=aN+"["+z.attr("field")+"]",by=bz.content?".k-grid-header:first "+bw:"table:first>.k-grid-header "+bw;if(bx&&bx.enabled!==false){if(!bA.has("div.k-grouping-header")[0]){ba("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(bA)}if(bz.groupable){bz.groupable.destroy()}bz.groupable=new v(bA,aM({},bx,{draggable:bz._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:bz.dataSource,draggableElements:by,filter:by,allowDrag:bz.options.reorderable}))}},_continuousItems:function(by,bC){if(!this.lockedContent){return}var bA=this;var bw=bA.table.add(bA.lockedTable);var bD=ba(by,bw[0]);var bx=ba(by,bw[1]);var bz=bC?i(bA.columns).length:1;var bF=bC?bA.columns.length-bz:1;var bE=[];for(var bB=0;bB<bD.length;bB+=bz){f.apply(bE,bD.slice(bB,bB+bz));f.apply(bE,bx.splice(0,bF))}return bE},_selectable:function(){var bA=this,bC,bw,by=[],bD=bA._isLocked(),bx=bA.options.selectable;if(bx){if(bA.selectable){bA.selectable.destroy()}bx=z.ui.Selectable.parseOptions(bx);bC=bx.multiple;bw=bx.cell;if(bA._hasDetails()){by[by.length]=".k-detail-row"}if(bA.options.groupable||bA._hasFooters()){by[by.length]=".k-grouping-row,.k-group-footer"}by=by.join(",");if(by!==""){by=":not("+by+")"}var bB=bA.table;if(bD){bB=bB.add(bA.lockedTable)}var bz=">"+(bw?j:"tbody>tr"+by);bA.selectable=new z.ui.Selectable(bB,{filter:bz,aria:true,multiple:bC,change:function(){bA.trigger(X)},useAllItems:bD&&bC&&bw,relatedTarget:function(bG){if(bw||!bD){return}var bI;var bF=ba();for(var bE=0,bH=bG.length;bE<bH;bE++){bI=bA._relatedRow(bG[bE]);if(D(bI[0],bG)<0){bF=bF.add(bI)}}return bF},continuousItems:function(){return bA._continuousItems(bz,bw)}});if(bA.options.navigatable){bB.on("keydown"+bm,function(bG){var bF=bA.current();var bE=bG.target;if(bG.keyCode===ag.SPACEBAR&&ba.inArray(bE,bB)>-1&&!bF.is(".k-edit-cell,.k-header")&&bF.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){bG.preventDefault();bG.stopPropagation();bF=bw?bF:bF.parent();if(bD&&!bw){bF=bF.add(bA._relatedRow(bF))}if(bC){if(!bG.ctrlKey){bA.selectable.clear()}else{if(bF.hasClass(bj)){bF.removeClass(bj);bA.trigger(X);return}}}else{bA.selectable.clear()}bA.selectable.value(bF)}})}}},_clipboard:function(){var bx=this.options;var bw=bx.selectable;if(bw&&bx.allowCopy){var by=this;if(!bx.navigatable){by.table.add(by.lockedTable).attr("tabindex",0).on("mousedown"+bm+" keydown"+bm,".k-detail-cell",function(bz){if(bz.target!==bz.currentTarget){bz.stopImmediatePropagation()}}).on("mousedown"+bm,Q+">"+be,K(M,by))}by.copyHandler=K(by.copySelection,by);by.updateClipBoardState=function(){if(by.areaClipBoard){by.areaClipBoard.val(by.getTSV()).focus().select()}};by.bind("change",by.updateClipBoardState);by.wrapper.on("keydown",by.copyHandler);by.clearAreaHandler=K(by.clearArea,by);by.wrapper.on("keyup",by.clearAreaHandler)}},copySelection:function(bw){if((bw instanceof jQuery.Event&&!(bw.ctrlKey||bw.metaKey))||ba(bw.target).is("input:visible,textarea:visible")||(window.getSelection&&window.getSelection().toString())||(document.selection&&document.selection.createRange().text)){return}if(!this.areaClipBoard){this.areaClipBoard=ba("<textarea />").css({position:"fixed",top:"50%",left:"50%",opacity:0,width:0,height:0}).appendTo(this.wrapper)}this.areaClipBoard.val(this.getTSV()).focus().select()},getTSV:function(){var bw=this;var bA=bw.select();var bx="\t";var bz=bw.options.allowCopy;var bF=true;if(ba.isPlainObject(bz)&&bz.delimeter){bx=bz.delimeter}var bC="";if(bA.length){if(bA.eq(0).is("tr")){bA=bA.find("td:not(.k-group-cell)")}if(bF){bA.filter(":visible")}var bG=[];var bD=this.columns.length;var bE=bw._isLocked()&&i(bw.columns).length;var by=true;ba.each(bA,function(bI,bH){bH=ba(bH);var bL=bH.closest("tr");var bM=bL.index();var bJ=bH.index();if(bF){bJ-=bH.prevAll(":hidden").length}if(bE&&by){by=ba.contains(bw.lockedTable[0],bH[0])}if(bw._groups()&&by){bJ-=bw._groups()}bJ=by?bJ:(bJ+bE);if(bD>bJ){bD=bJ}var bK=bH.text();if(!bG[bM]){bG[bM]=[]}bG[bM][bJ]=bK});var bB=bG.length;bG=ba.each(bG,function(bH,bI){if(bI){bG[bH]=bI.slice(bD);if(bB>bH){bB=bH}}});ba.each(bG.slice(bB),function(bH,bI){if(bI){bC+=bI.join(bx)+"\r\n"}else{bC+="\r\n"}})}return bC},clearArea:function(bw){if(this.areaClipBoard&&bw&&bw.target===this.areaClipBoard[0]){if(this.options.navigatable){ba(this.current()).closest("table").focus()}else{this.table.focus()}}if(this.areaClipBoard){this.areaClipBoard.remove();this.areaClipBoard=null}},_minScreenSupport:function(){var bw=this.hideMinScreenCols();if(bw){this.minScreenResizeHandler=K(this.hideMinScreenCols,this);ba(window).on("resize",this.minScreenResizeHandler)}},hideMinScreenCols:function(){var bB=this.columns,bA=false,bz=(window.innerWidth>0)?window.innerWidth:screen.width;for(var bx=0;bx<bB.length;bx++){var bw=bB[bx];var by=bw.minScreenWidth;if(by!==E&&by!==null){bA=true;if(by>bz){this.hideColumn(bw)}else{this.showColumn(bw)}}}return bA},_relatedRow:function(bz){var bx=this.lockedTable;bz=ba(bz);if(!bx){return bz}var by=bz.closest(this.table.add(this.lockedTable));var bw=by.find(">tbody>tr").index(bz);by=by[0]===this.table[0]?bx:this.table;return by.find(">tbody>tr").eq(bw)},clearSelection:function(){var bw=this;bw.selectable.clear();bw.trigger(X)},select:function(bw){var by=this,bx=by.selectable;bw=ba(bw);if(bw.length){if(!bx.options.multiple){bx.clear();bw=bw.first()}if(by._isLocked()){bw=bw.add(bw.map(function(){return by._relatedRow(this)}))}bx.value(bw);return}return bx.value()},_updateCurrentAttr:function(bz,by){var bw=ba(bz).data("headerId");ba(bz).removeClass(A).removeAttr("aria-describedby").closest("table").removeAttr("aria-activedescendant");if(bw){bw=bw.replace(this._cellId,"");ba(bz).attr("id",bw)}else{ba(bz).removeAttr("id")}by.data("headerId",by.attr("id")).attr("id",this._cellId).addClass(A).closest("table").attr("aria-activedescendant",this._cellId);if(!by.closest("tr").hasClass("k-grouping-row")&&!by.hasClass("k-header")){var bx=this.columns[this.cellIndex(by)];if(bx){bw=bx.headerAttributes.id}by.attr("aria-describedby",bw+" "+this._cellId)}else{by.attr("aria-describedby",this._cellId)}this._current=by},_scrollCurrent:function(){var bB=this._current;var bA=this.options.scrollable;if(!bB||!bA){return}var bC=bB.parent();var bz=bC.closest("table").parent();var bw=bz.is(".k-grid-content-locked,.k-grid-header-locked");var bx=bz.is(".k-grid-content-locked,.k-grid-content,.k-virtual-scrollable-wrap");var by=ba(this.content).find(">.k-virtual-scrollable-wrap").andSelf().last()[0];if(bx){if(bA.virtual){var bD=Math.max(D(bC[0],this._items(bC.parent())),0);this._rowVirtualIndex=this.virtualScrollable.itemIndex(bD);this.virtualScrollable.scrollIntoView(bC)}else{this._scrollTo(this._relatedRow(bC)[0],by)}}if(this.lockedContent){this.lockedContent[0].scrollTop=by.scrollTop}if(!bw){this._scrollTo(bB[0],by)}},current:function(bw){var bx=this._current;bw=ba(bw);if(bw.length){if(!bx||bx[0]!==bw[0]){this._updateCurrentAttr(bx,bw);this._scrollCurrent()}}return this._current},_removeCurrent:function(){if(this._current){this._current.removeClass(A);this._current=null}},_scrollTo:function(bA,by){var bG=bA.tagName.toLowerCase();var bE=bG==="td"||bG==="th";var bx=bA[bE?"offsetLeft":"offsetTop"];var bD=bA[bE?"offsetWidth":"offsetHeight"];var bF=by[bE?"scrollLeft":"scrollTop"];var bz=by[bE?"clientWidth":"clientHeight"];var bB=bx+bD;var bI=0;var bw=0;var bC=0;if(G&&bE){var bH=ba(bA).closest("table")[0];if(bc.msie){bw=bH.offsetLeft}else{if(bc.mozilla){bC=bH.offsetLeft-z.support.scrollbar()}}}bF=Math.abs(bF+bw-bC);if(bF>bx){bI=bx}else{if(bB>(bF+bz)){if(bD<=bz){bI=(bB-bz)}else{bI=bx}}else{bI=bF}}bI=Math.abs(bI+bw)+bC;by[bE?"scrollLeft":"scrollTop"]=bI},_navigatable:function(){var bz=this;if(!bz.options.navigatable){return}var by=bz.table.add(bz.lockedTable);var bx=bz.thead.parent().add(ba(">table",bz.lockedHeader));var bw=by;if(bz.options.scrollable){bw=bw.add(bx);bx.attr(au,-1)}this._navigatableTables=bw;bw.off("mousedown"+bm+" focus"+bm+" focusout"+bm+" keydown"+bm);bx.on("keydown"+bm,K(bz._openHeaderMenu,bz)).find("a.k-link").attr("tabIndex",-1);by.attr(au,an.max(by.attr(au)||0,0)).on("mousedown"+bm+" keydown"+bm,".k-detail-cell",function(bA){if(bA.target!==bA.currentTarget){bA.stopImmediatePropagation()}});bw.on((z.support.touch?"touchstart"+bm:"mousedown"+bm),Q+">"+be,K(M,bz)).on("focus"+bm,K(bz._tableFocus,bz)).on("focusout"+bm,K(bz._tableBlur,bz)).on("keydown"+bm,K(bz._tableKeyDown,bz))},_openHeaderMenu:function(bw){if(bw.altKey&&bw.keyCode==ag.DOWN){this.current().find(".k-grid-filter, .k-header-column-menu").click();bw.stopImmediatePropagation()}},_setTabIndex:function(bw){this._navigatableTables.attr(au,-1);bw.attr(au,0)},_tableFocus:function(by){if(z.support.touch){return}var bx=this.current();var bw=ba(by.currentTarget);if(bx&&bx.is(":visible")){bx.addClass(A)}else{this.current(bw.find(aT))}this._setTabIndex(bw)},_tableBlur:function(bx){var bw=this.current();if(bw){bw.removeClass(A)}},_tableKeyDown:function(bB){var bA=this.current();var bx=this.virtualScrollable&&this.virtualScrollable.fetching();var bz=ba(bB.target);var bw=!bB.isDefaultPrevented()&&!bz.is(":button,a,:input,a>.k-icon");if(bx){bB.preventDefault();return}bA=bA?bA:ba(this.lockedTable).add(this.table).find(aT);if(!bA.length){return}var by=false;if(bw&&bB.keyCode==ag.UP){by=this._moveUp(bA)}if(bw&&bB.keyCode==ag.DOWN){by=this._moveDown(bA)}if(bw&&bB.keyCode==(G?ag.LEFT:ag.RIGHT)){by=this._moveRight(bA,bB.altKey)}if(bw&&bB.keyCode==(G?ag.RIGHT:ag.LEFT)){by=this._moveLeft(bA,bB.altKey)}if(bw&&bB.keyCode==ag.PAGEDOWN){by=this._handlePageDown()}if(bw&&bB.keyCode==ag.PAGEUP){by=this._handlePageUp()}if(bB.keyCode==ag.ENTER||bB.keyCode==ag.F2){by=this._handleEnterKey(bA,bB.currentTarget,bz)}if(bB.keyCode==ag.ESC){by=this._handleEscKey(bA,bB.currentTarget)}if(bB.keyCode==ag.TAB){by=this._handleTabKey(bA,bB.currentTarget,bB.shiftKey)}if(by){bB.preventDefault();bB.stopPropagation()}},_moveLeft:function(bA,bz){var by,bx;var bB=bA.parent();var bw=bB.parent();if(bz){this.collapseRow(bB)}else{bx=bw.find(Q).index(bB);by=this._prevHorizontalCell(bw,bA,bx);if(!by[0]){bw=this._horizontalContainer(bw);by=this._prevHorizontalCell(bw,bA,bx);if(by[0]!==bA[0]){a6(bw.parent(),true)}}this.current(by)}return true},_moveRight:function(bA,bz){var by,bx;var bB=bA.parent();var bw=bB.parent();if(bz){this.expandRow(bB)}else{bx=bw.find(Q).index(bB);by=this._nextHorizontalCell(bw,bA,bx);if(!by[0]){bw=this._horizontalContainer(bw,true);by=this._nextHorizontalCell(bw,bA,bx);if(by[0]!==bA[0]){a6(bw.parent(),true)}}this.current(by)}return true},_moveUp:function(by){var bw=by.parent().parent();var bx=this._prevVerticalCell(bw,by);if(!bx[0]){bw=this._verticalContainer(bw,true);bx=this._prevVerticalCell(bw,by);if(bx[0]){a6(bw.parent(),true)}}this.current(bx);return true},_moveDown:function(by){var bw=by.parent().parent();var bx=this._nextVerticalCell(bw,by);if(!bx[0]){bw=this._verticalContainer(bw);bx=this._nextVerticalCell(bw,by);if(bx[0]){a6(bw.parent(),true)}}this.current(bx);return true},_handlePageDown:function(){if(!this.options.pageable){return false}this.dataSource.page(this.dataSource.page()+1);return true},_handlePageUp:function(){if(!this.options.pageable){return false}this.dataSource.page(this.dataSource.page()-1);return true},_handleTabKey:function(bA,bz,by){var bx=this.options.editable&&this._editMode()=="incell";var bw;if(!bx||bA.is("th")){return false}bw=ba(U()).closest(".k-edit-cell");if(bw[0]&&bw[0]!==bA[0]){bA=bw}bw=this._tabNext(bA,bz,by);if(bw.length){this._handleEditing(bA,bw,bw.closest("table"));return true}return false},_handleEscKey:function(bA,by){var bz=U();var bx=this._editMode()=="incell";if(!x(bA)){if(bA.has(bz).length){a6(by,true);return true}return false}if(bx){this.closeCell(true)}else{var bw=ba(bA).parent().index();if(bz){bz.blur()}this.cancelRow();if(bw>=0){this.current(this.items().eq(bw).children(be).first())}}if(bc.msie&&bc.version<9){document.body.focus()}a6(by,true);return true},_toggleCurrent:function(bw){var bx=bw.parent();if(bx.is(".k-master-row,.k-grouping-row")){bx.find(".k-icon:first").click();return true}return false},_handleEnterKey:function(bA,by,bz){var bx=this.options.editable;var bw=bz.closest("[role=gridcell]");if(!bz.is("table")&&!ba.contains(bA[0],bz[0])){bA=bw}if(bA.is("th")){bA.find(".k-link").click();return true}if(!bx&&this._toggleCurrent(bA)){return true}var bB=bA.find(":kendoFocusable:first");if(bB[0]&&!bA.hasClass("k-edit-cell")&&bA.hasClass("k-state-focused")){bB.focus();return true}if(bx&&!bz.is(":button,.k-button,textarea")){if(!bw[0]){bw=bA}this._handleEditing(bw,false,by);return true}return false},_nextHorizontalCell:function(by,bB,bA){var bx=bB.nextAll(P);if(!bx.length){var bz=by.find(Q);var bC=bz.index(bB.parent());if(bC==-1){if(bB.hasClass("k-header")){var bw=[];ad([i(this.columns)[0]],aG(bz.eq(0).children().first()),bw,0,0);if(bw[bA]){return bw[bA][0]}return bB}if(bB.parent().hasClass("k-filter-row")){return bz.last().children(P).first()}return bz.eq(bA).children(P).first()}}return bx.first()},_prevHorizontalCell:function(bz,bC,bB){var bx=bC.prevAll(P);if(!bx.length){var bA=bz.find(Q);var bD=bA.index(bC.parent());if(bD==-1){if(bC.hasClass("k-header")){var bw=[];var by=i(this.columns);ad([by[by.length-1]],aG(bA.eq(0).children().last()),bw,0,0);if(bw[bB]){return bw[bB][0]}return bC}if(bC.parent().hasClass("k-filter-row")){return bA.last().children(P).last()}return bA.eq(bB).children(P).last()}}return bx.first()},_currentDataIndex:function(by,bz){var bw=bz.attr("data-index");if(!bw){return E}var bx=i(this.columns).length;if(bx&&!by.closest("div").hasClass("k-grid-content-locked")[0]){return bw-bx}return bw},_prevVerticalCell:function(bw,bA){var by;var bB=bA.parent();var bz=bw.children(Q);var bC=bz.index(bB);var bx=this._currentDataIndex(bw,bA);if(bx||bA.hasClass("k-header")){by=aF(bA);return by.eq(by.length-2)}bx=bB.children(P).index(bA);if(bB.hasClass("k-filter-row")){return o(bw).eq(bx)}if(bC==-1){bB=bw.find(".k-filter-row");if(!bB[0]){return o(bw).eq(bx)}}else{bB=bC===0?ba():bz.eq(bC-1)}by=bB.children(P);if(by.length>bx){return by.eq(bx)}return by.eq(0)},_nextVerticalCell:function(bw,bA){var by;var bB=bA.parent();var bz=bw.children(Q);var bC=bz.index(bB);var bx=this._currentDataIndex(bw,bA);if(bC!=-1&&bx===E&&bA.hasClass("k-header")){return aG(bA).eq(1)}bx=bx?parseInt(bx,10):bB.children(P).index(bA);if(bC==-1){bB=bz.eq(0)}else{bB=bz.eq(bC+bA[0].rowSpan)}by=bB.children(P);if(by.length>bx){return by.eq(bx)}return by.eq(0)},_verticalContainer:function(bx,bw){var bB=bx.parent();var bA=this._navigatableTables.length;var bz=Math.floor(bA/2);var by=D(bB[0],this._navigatableTables);if(bw){bz*=-1}by+=bz;if(by>=0||by<bA){bB=this._navigatableTables.eq(by)}return bB.find(bw?"thead":"tbody")},_horizontalContainer:function(bw,by){var bA=this._navigatableTables.length;if(bA<=2){return bw}var bz=bw.parent();var bx=D(bz[0],this._navigatableTables);bx+=by?1:-1;if(by&&(bx==2||bx==bA)){return bw}if(!by&&(bx==1||bx<0)){return bw}return this._navigatableTables.eq(bx).find("thead, tbody")},_tabNext:function(bA,bx,bw){var bz=true;var by=bw?bA.prevAll(P+":first"):bA.nextAll(":visible:first");if(!by.length){by=bA.parent();if(this.lockedTable){bz=(bw&&bx==this.lockedTable[0])||(!bw&&bx==this.table[0]);by=this._relatedRow(by)}if(bz){by=by[bw?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first")}by=by.children(P+(bw?":last":":first"))}return by},_handleEditing:function(bD,bz,bG){var bC=this,by=ba(U()),bA=bC._editMode(),bw=bc.msie,bB=bw&&bc.version<9,bE=bC._editContainer,bF,bx;bG=ba(bG);if(bA=="incell"){bx=bD.hasClass("k-edit-cell")}else{bx=bD.parent().hasClass("k-grid-edit-row")}if(bC.editable){if(ba.contains(bE[0],by[0])){if(bc.opera||bB){by.change().triggerHandler("blur")}else{by.blur();if(bw){by.blur()}}}if(!bC.editable){a6(bG);return}if(bC.editable.end()){if(bA=="incell"){bC.closeCell()}else{bC.saveRow();bx=true}}else{if(bA=="incell"){bC.current(bE)}else{bC.current(bE.children().filter(P).first())}bF=bE.find(":kendoFocusable:first")[0];if(bF){bF.focus()}return}}if(bz){bC.current(bz)}if(bB){document.body.focus()}a6(bG,true);if((!bx&&!bz)||bz){if(bA=="incell"){bC.editCell(bC.current())}else{bC.editRow(bC.current().parent())}}},_wrapper:function(){var by=this,bx=by.table,bw=by.options.height,bz=by.element;if(!bz.is("div")){bz=bz.wrap("<div/>").parent()}by.wrapper=bz.addClass("k-grid k-widget");if(bw){by.wrapper.css(bg,bw);bx.css(bg,"auto")}by._initMobile()},_initMobile:function(){var bw=this.options;var by=this;this._isMobile=(bw.mobile===true&&z.support.mobileOS)||bw.mobile==="phone"||bw.mobile==="tablet";if(this._isMobile){var bx=this.wrapper.addClass("k-grid-mobile").wrap("<div data-"+z.ns+'role="view" data-'+z.ns+'init-widgets="false"></div>').parent();this.pane=z.mobile.ui.Pane.wrap(bx);this.view=this.pane.view();this._actionSheetPopupOptions=ba(document.documentElement).hasClass("km-root")?{modal:false}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"};if(bw.height){this.pane.element.parent().css(bg,bw.height)}this._editAnimation="slide";this.view.bind("show",function(){if(by._isLocked()){by._updateTablesWidth();by._applyLockedContainersWidth();by._syncLockedContentHeight();by._syncLockedHeaderHeight();by._syncLockedFooterHeight()}})}},_tbody:function(){var by=this,bx=by.table,bw;bw=bx.find(">tbody");if(!bw.length){bw=ba("<tbody/>").appendTo(bx)}by.tbody=bw.attr("role","rowgroup")},_scrollable:function(){var bz=this,by,bC,bE=bz.options,bA=bE.scrollable,bx=bA!==true&&bA.virtual&&!bz.virtualScrollable,bD=!z.support.kineticScrollNeeded||bx?z.support.scrollbar():0;if(bA){by=bz.wrapper.children(".k-grid-header");if(!by[0]){by=ba('<div class="k-grid-header" />').insertBefore(bz.table)}by.css((G?"padding-left":"padding-right"),bA.virtual?bD+1:bD);bC=ba('<table role="grid" />');if(ap){bC.attr("cellspacing",0)}bC.width(bz.table[0].style.width);bC.append(bz.thead);by.empty().append(ba('<div class="k-grid-header-wrap" />').append(bC));bz.content=bz.table.parent();if(bz.content.is(".k-virtual-scrollable-wrap, .km-scroll-container")){bz.content=bz.content.parent()}if(!bz.content.is(".k-grid-content, .k-virtual-scrollable-wrap")){bz.content=bz.table.wrap('<div class="k-grid-content" />').parent()}if(bx){bz.virtualScrollable=new aK(bz.content,{dataSource:bz.dataSource,itemHeight:function(){return bz._averageRowHeight()}})}bz.scrollables=by.children(".k-grid-header-wrap");var bB=bz.wrapper.find(".k-grid-footer");if(bB.length){bz.scrollables=bz.scrollables.add(bB.children(".k-grid-footer-wrap"))}if(bA.virtual){bz.content.find(">.k-virtual-scrollable-wrap").unbind("scroll"+bm).bind("scroll"+bm,function(){bz.scrollables.scrollLeft(this.scrollLeft);if(bz.lockedContent){bz.lockedContent[0].scrollTop=this.scrollTop}})}else{bz.content.unbind("scroll"+bm).bind("scroll"+bm,function(){bz.scrollables.scrollLeft(this.scrollLeft);if(bz.lockedContent){bz.lockedContent[0].scrollTop=this.scrollTop}});var bw=bz.content.data("kendoTouchScroller");if(bw){bw.destroy()}bw=z.touchScroller(bz.content);if(bw&&bw.movable){bz.touchScroller=bw;bw.movable.bind("change",function(bF){bz.scrollables.scrollLeft(-bF.sender.x);if(bz.lockedContent){bz.lockedContent.scrollTop(-bF.sender.y)}});bz.one(L,function(bF){bF.sender.wrapper.addClass("k-grid-backface")})}}}},_renderNoRecordsContent:function(){var bx=this;if(bx.options.noRecords&&bx.wrapper.is(":visible")){var bw=bx.table.parent().children("."+aQ);if(bw.length){bw.remove()}if(!bx.dataSource||!bx.dataSource.view().length){ba(bx.noRecordsTemplate({})).appendTo(bx.table.parent())}}},_setContentWidth:function(bA){var bz=this,by="k-grid-content-expander",bx='<div class="'+by+'"></div>',bw=bz.resizable,bB;if(bz.options.scrollable&&bz.wrapper.is(":visible")){bB=bz.table.parent().children("."+by);bz._setContentWidthHandler=K(bz._setContentWidth,bz);if(!bz.dataSource||!bz.dataSource.view().length){if(!bB[0]){bB=ba(bx).appendTo(bz.table.parent());if(bw){bw.bind("resize",bz._setContentWidthHandler)}}if(bz.thead){bB.width(bz.thead.width());if(bA){bz.content.scrollLeft(bA)}}}else{if(bB[0]){bB.remove();if(bw){bw.unbind("resize",bz._setContentWidthHandler)}}}bz._applyLockedContainersWidth()}},_applyLockedContainersWidth:function(){if(this.options.scrollable&&this.lockedHeader){var bE=this.thead.parent(),bC=bE.parent(),bw=this.wrapper[0].clientWidth,bz=this._groups(),bF=z.support.scrollbar(),bD=this.lockedHeader.find(">table>colgroup>col:not(.k-group-col, .k-hierarchy-col)"),by=bE.find(">colgroup>col:not(.k-group-col, .k-hierarchy-col)"),bx=al(bD),bB=al(by),bA;if(bz>0){bx+=this.lockedHeader.find(".k-group-cell:first").outerWidth()*bz}if(bx>=bw){bx=bw-3*bF}this.lockedHeader.add(this.lockedContent).width(bx);bC[0].style.width=bC.parent().width()-bx-2+"px";bE.add(this.table).width(bB);if(this.virtualScrollable){bw-=bF}this.content[0].style.width=bw-bx-2+"px";if(this.lockedFooter&&this.lockedFooter.length){this.lockedFooter.width(bx);bA=this.footer.find(".k-grid-footer-wrap");bA[0].style.width=bC[0].clientWidth+"px";bA.children().first().width(bB)}}},_setContentHeight:function(){var bz=this,bx=bz.options,bw=bz.wrapper.innerHeight(),bB=bz.wrapper.children(".k-grid-header"),bA=z.support.scrollbar();if(bx.scrollable&&bz.wrapper.is(":visible")){bw-=bB.outerHeight();if(bz.pager){bw-=bz.pager.element.outerHeight()}if(bx.groupable){bw-=bz.wrapper.children(".k-grouping-header").outerHeight()}if(bx.toolbar){bw-=bz.wrapper.children(".k-grid-toolbar").outerHeight()}if(bz.footerTemplate){bw-=bz.wrapper.children(".k-grid-footer").outerHeight()}var by=function(bE){var bD,bC;if(bE[0].style.height){return true}else{bD=bE.height()}bE.height("auto");bC=bE.height();if(bD!=bC){bE.height("");return true}bE.height("");return false};if(by(bz.wrapper)){if(bw>bA*2){if(bz.lockedContent){bA=bz.table[0].offsetWidth>bz.table.parent()[0].clientWidth?bA:0;bz.lockedContent.height(bw-bA)}bz.content.height(bw)}else{bz.content.height(bA*2+1)}}}},_averageRowHeight:function(){var bz=this,bw=bz._items(bz.tbody).length,by=bz._rowHeight;if(bw===0){return by}if(!bz._rowHeight){bz._rowHeight=by=bz.table.outerHeight()/bw;bz._sum=by;bz._measures=1}var bx=bz.table.outerHeight()/bw;if(by!==bx){bz._measures++;bz._sum+=bx;bz._rowHeight=bz._sum/bz._measures}return by},_dataSource:function(){var by=this,bx=by.options,bw,bz=bx.dataSource;bz=c(bz)?{data:bz}:bz;if(T(bz)){aM(bz,{table:by.table,fields:by.columns});bw=bx.pageable;if(T(bw)&&bw.pageSize!==E){bz.pageSize=bw.pageSize}}if(by.dataSource&&by._refreshHandler){by.dataSource.unbind(X,by._refreshHandler).unbind(a3,by._progressHandler).unbind(W,by._errorHandler)}else{by._refreshHandler=K(by.refresh,by);by._progressHandler=K(by._requestStart,by);by._errorHandler=K(by._error,by)}by.dataSource=u.create(bz).bind(X,by._refreshHandler).bind(a3,by._progressHandler).bind(W,by._errorHandler)},_error:function(){this._progress(false)},_requestStart:function(){this._progress(true)},_modelChange:function(bM){var bE=this,bw=bE.tbody,bA=bM.model,bC=bE.tbody.find("tr["+z.attr("uid")+"="+bA.uid+"]"),bI,bx,by,bz=bC.hasClass("k-alt"),bN,bJ=bE._items(bw).index(bC),bF=bE.lockedContent,bH,bD,bL,bG,bB;if(bF){bI=bE._relatedRow(bC)}if(bC.add(bI).children(".k-edit-cell").length&&!bE.options.rowTemplate){bC.add(bI).children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){bx=ba(this);by=aa(bE.columns)[bE.cellIndex(bx)];if(by.field===bM.field){if(!bx.hasClass("k-edit-cell")){bE._displayCell(bx,by,bA);ba('<span class="k-dirty"/>').prependTo(bx)}else{bx.addClass("k-dirty-cell")}}})}else{if(!bC.hasClass("k-grid-edit-row")){bD=ba().add(bC);if(bF){bN=(bz?bE.lockedAltRowTemplate:bE.lockedRowTemplate)(bA);bD=bD.add(bI);bI.replaceWith(bN)}bE.angular("cleanup",function(){return{elements:bD.get()}});bN=(bz?bE.altRowTemplate:bE.rowTemplate)(bA);bC.replaceWith(bN);bN=bE._items(bw).eq(bJ);var bK=[{dataItem:bA}];if(bF){bC=bC.add(bI);bI=bE._relatedRow(bN)[0];aP(bN[0],bI);bN=bN.add(bI);bK.push({dataItem:bA})}bE.angular("compile",function(){return{elements:bN.get(),data:bK}});bH=bE.options.selectable;if(bH&&bC.hasClass("k-state-selected")){bE.select(bN)}bG=bD.children(":not(.k-group-cell,.k-hierarchy-cell)");bL=bN.children(":not(.k-group-cell,.k-hierarchy-cell)");for(bJ=0,bB=bE.columns.length;bJ<bB;bJ++){by=bE.columns[bJ];bx=bL.eq(bJ);if(bH&&bG.eq(bJ).hasClass("k-state-selected")){bx.addClass("k-state-selected")}if(by.field===bM.field){ba('<span class="k-dirty"/>').prependTo(bx)}}bE.trigger("itemChange",{item:bN,data:bA,ns:at})}}},_pageable:function(){var bx=this,by,bw=bx.options.pageable;if(bw){by=bx.wrapper.children("div.k-grid-pager");if(!by.length){by=ba('<div class="k-pager-wrap k-grid-pager"/>').appendTo(bx.wrapper)}if(bx.pager){bx.pager.destroy()}if(typeof bw==="object"&&bw instanceof z.ui.Pager){bx.pager=bw}else{bx.pager=new z.ui.Pager(by,aM({},bw,{dataSource:bx.dataSource}))}}},_footer:function(){var bC=this,bB=bC.dataSource.aggregates(),bA="",bE=bC.footerTemplate,bF=bC.options,bz,bD=bC.footer||bC.wrapper.find(".k-grid-footer");if(bE){bA=ba(bC._wrapFooter(bE(bB)));if(bD.length){var by=bA;bC.angular("cleanup",function(){return{elements:bD.get()}});bD.replaceWith(by);bD=bC.footer=by}else{if(bF.scrollable){bD=bC.footer=bF.pageable?bA.insertBefore(bC.wrapper.children("div.k-grid-pager")):bA.appendTo(bC.wrapper)}else{bD=bC.footer=bA.insertBefore(bC.tbody)}}bC.angular("compile",function(){return{elements:bD.find("td:not(.k-group-cell, .k-hierarchy-cell)").get(),data:F(bC.columns,function(bG,bH){return{column:bG,aggregate:bB[bG.field]}})}})}else{if(bD&&!bC.footer){bC.footer=bD}}if(bD.length){if(bF.scrollable){bz=bD.attr("tabindex",-1).children(".k-grid-footer-wrap");bC.scrollables=bC.scrollables.filter(function(){return !ba(this).is(".k-grid-footer-wrap")}).add(bz)}if(bC._footerWidth){bD.find("table").css("width",bC._footerWidth)}if(bz){var bx=bC.content.scrollLeft();var bw=bF.scrollable!==true&&bF.scrollable.virtual&&!bC.virtualScrollable;if(bw){bx=bC.wrapper.find(".k-virtual-scrollable-wrap").scrollLeft()}bz.scrollLeft(bx)}}if(bC.lockedContent){bC._appendLockedColumnFooter();bC._applyLockedContainersWidth();bC._syncLockedFooterHeight()}},_wrapFooter:function(bx){var by=this,bw="",bz=!z.support.mobileOS?z.support.scrollbar():0;if(by.options.scrollable){bw=ba('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(ap?' cellspacing="0"':"")+"><tbody>"+bx+"</tbody></table></div></div>");by._appendCols(bw.find("table"));bw.css((G?"padding-left":"padding-right"),bz);return bw}return'<tfoot class="k-grid-footer">'+bx+"</tfoot>"},_columnMenu:function(){var bK=this,bx,bz=aa(bK.columns),bC,bE=bK.options,bH=bE.columnMenu,bJ,bA,bB,bF,bL=k(bK.columns,function(bO){return bO.columns!==E}).length>0,bN=this._isMobile,bD=function(bO){bK.trigger(a0,{field:bO.field,container:bO.container})},bI=function(bO){a6(bO.closest("table"),true)},bw=bE.$angular;if(bH){if(typeof bH=="boolean"){bH={}}bF=o(bK.thead);for(var bM=0,bG=bF.length;bM<bG;bM++){bC=bz[bM];var by=bF.eq(bM);if(!bC.command&&(bC.field||by.attr("data-"+z.ns+"field"))){bx=by.data("kendoColumnMenu");if(bx){bx.destroy()}bA=bC.sortable!==false&&bH.sortable!==false&&bE.sortable!==false?aM({},bE.sortable,{compare:(bC.sortable||{}).compare}):false;bB=bE.filterable&&bC.filterable!==false&&bH.filterable!==false?aM({pane:bK.pane},bE.filterable,bC.filterable):false;if(bC.filterable&&bC.filterable.dataSource){bB.forceUnique=false;bB.checkSource=bC.filterable.dataSource}if(bB){bB.format=bC.format}bJ={dataSource:bK.dataSource,values:bC.values,columns:bH.columns,sortable:bA,filterable:bB,messages:bH.messages,owner:bK,closeCallback:bI,init:bD,pane:bK.pane,filter:bN?":not(.k-column-active)":"",lockedColumns:!bL&&bC.lockable!==false&&i(bz).length>0};if(bw){bJ.$angular=bw}by.kendoColumnMenu(bJ)}}}},_headerCells:function(){return this.thead.find("th").filter(function(){var bw=ba(this);return !bw.hasClass("k-group-cell")&&!bw.hasClass("k-hierarchy-cell")})},_filterable:function(){var bD=this,bA=aa(bD.columns),bB,bG,bF,bz=function(bI){bD.trigger(e,{field:bI.field,container:bI.container})},bx=function(bI){a6(bI.closest("table"),true)},bw=bD.options.filterable;if(bw&&typeof bw.mode==bn&&bw.mode.indexOf("menu")==-1){bw=false}if(bw&&!bD.options.columnMenu){bG=o(bD.thead);for(var bE=0,by=bG.length;bE<by;bE++){bF=bG.eq(bE);if(bA[bE].filterable!==false&&!bA[bE].command&&(bA[bE].field||bF.attr("data-"+z.ns+"field"))){bB=bF.data("kendoFilterMenu");if(bB){bB.destroy()}bB=bF.data("kendoFilterMultiCheck");if(bB){bB.destroy()}var bC=bA[bE].filterable;var bH=aM({},bw,bC,{dataSource:bD.dataSource,values:bA[bE].values,format:bA[bE].format,closeCallback:bx,title:bA[bE].title||bA[bE].field,init:bz,pane:bD.pane});if(bC&&bC.messages){bH.messages=aM(true,{},bw.messages,bC.messages)}if(bC&&bC.dataSource){bH.forceUnique=false;bH.checkSource=bC.dataSource}if(bC&&bC.multi){bF.kendoFilterMultiCheck(bH)}else{bF.kendoFilterMenu(bH)}}}}},_filterRow:function(){var bH=this;if(!bH._hasFilterRow()){return}var bA=aa(bH.columns),bw=bH.options.filterable,bB=bH.thead.find(".k-filter-row");this._updateHeader(this.dataSource.group().length);for(var bG=0;bG<bA.length;bG++){var bx,bz=bA[bG],bD=bH.options.filterable.operators,bF=false,by=ba("<th/>"),bI=bz.field;if(bz.hidden){by.hide()}bB.append(by);if(bI&&bz.filterable!==false){var bE=bz.filterable&&bz.filterable.cell||{};bx=bH.options.dataSource;if(bx instanceof u){bx=bH.options.dataSource.options}var bC=aM(true,{},bw.messages);if(bz.filterable){aM(true,bC,bz.filterable.messages)}if(bE.enabled===false){by.html("&nbsp;");continue}if(bE.dataSource){bx=bE.dataSource;bF=true}if(bz.filterable&&bz.filterable.operators){bD=bz.filterable.operators}ba("<span/>").attr(z.attr("field"),bI).kendoFilterCell({dataSource:bH.dataSource,suggestDataSource:bx,customDataSource:bF,field:bI,messages:bC,values:bz.values,template:bE.template,delay:bE.delay,inputWidth:bE.inputWidth,suggestionOperator:bE.suggestionOperator,minLength:bE.minLength,dataTextField:bE.dataTextField,operator:bE.operator,operators:bD,showOperators:bE.showOperators}).appendTo(by)}else{by.html("&nbsp;")}}},_sortable:function(){var bA=this,by=aa(bA.columns),bx,bE,bC,bz=bA.options.sortable;if(bz){var bD=o(bA.thead);for(var bB=0,bw=bD.length;bB<bw;bB++){bx=by[bB];if(bx.sortable!==false&&!bx.command&&bx.field){bC=bD.eq(bB);bE=bC.data("kendoColumnSorter");if(bE){bE.destroy()}bC.attr("data-"+z.ns+"field",bx.field).kendoColumnSorter(aM({},bz,bx.sortable,{dataSource:bA.dataSource,aria:true,filter:":not(.k-column-active)"}))}}bD=null}},_columns:function(bx){var bA=this,bz=bA.table,bC,bB=bz.find("col"),bw,bD=bA.options.dataSource;bx=bx.length?bx:F(bz.find("th"),function(bF,bM){bF=ba(bF);var bH=bF.attr(z.attr("sortable")),bE=bF.attr(z.attr("filterable")),bJ=bF.attr(z.attr("type")),bI=bF.attr(z.attr("groupable")),bL=bF.attr(z.attr("field")),bK=bF.attr(z.attr("title")),bG=bF.attr(z.attr("menu"));if(!bL){bL=bF.text().replace(/\s|[^A-z0-9]/g,"")}return{field:bL,type:bJ,title:bK,sortable:bH!=="false",filterable:bE!=="false",groupable:bI!=="false",menu:bG,template:bF.attr(z.attr("template")),width:bB.eq(bM).css("width")}});bC=!(bA.table.find("tbody tr").length>0&&(!bD||!bD.transport));if(bA.options.scrollable){var by=bx;bw=i(bx);bx=bb(bx);if(bw.length>0&&bx.length===0){throw new Error("There should be at least one non locked column")}bv(bA.element.find("tr:has(th):first").find("th:not(.k-group-cell)"),by);bx=bw.concat(bx)}bA.columns=r(bx,bC)},_groups:function(){var bw=this.dataSource.group();return bw?bw.length:0},_tmpl:function(bI,bC,bD,bx){var bE=this,bB=aM({},z.Template,bE.options.templateSettings),bJ,by=bC.length,bK,bw={storage:{},count:0},bA,bG,bH=bE._hasDetails(),bF=[],bz=bE._groups();if(!bI){bI="<tr";if(bD){bF.push("k-alt")}if(bH){bF.push("k-master-row")}if(bF.length){bI+=' class="'+bF.join(" ")+'"'}if(by){bI+=" "+z.attr("uid")+'="#='+z.expr("uid",bB.paramName)+'#"'}bI+=" role='row'>";if(bz>0&&!bx){bI+=a7(bz)}if(bH){bI+='<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#" tabindex="-1"></a></td>'}for(bJ=0;bJ<by;bJ++){bA=bC[bJ];bK=bA.template;bG=typeof bK;bI+="<td"+p(bA.attributes)+" role='gridcell'>";bI+=bE._cellTmpl(bA,bw);bI+="</td>"}bI+="</tr>"}bI=z.template(bI,bB);if(bw.count>0){return K(bI,bw.storage)}return bI},_headerCellText:function(bz){var bA=this,by=aM({},z.Template,bA.options.templateSettings),bx=bz.headerTemplate,bw=typeof(bx),bB=bz.title||bz.field||"";if(bw===aS){bB=z.template(bx,by)({})}else{if(bw===bn){bB=bx}}return bB},_cellTmpl:function(by,bw){var bC=this,bz=aM({},z.Template,bC.options.templateSettings),bI=by.template,bA=bz.paramName,bF=by.field,bB="",bH,bx,bG=by.format,bE=typeof bI,bD=by.values;if(by.command){if(c(by.command)){for(bH=0,bx=by.command.length;bH<bx;bH++){bB+=bC._createButton(by.command[bH])}return bB.replace(aB,"\\#")}return bC._createButton(by.command).replace(aB,"\\#")}if(bE===aS){bw.storage["tmpl"+bw.count]=bI;bB+="#=this.tmpl"+bw.count+"("+bA+")#";bw.count++}else{if(bE===bn){bB+=bI}else{if(bD&&bD.length&&T(bD[0])&&"value" in bD[0]&&bF){bB+="#var v ="+z.stringify(ai(bD)).replace(aB,"\\#")+"#";bB+="#var f = v[";if(!bz.useWithBlock){bB+=bA+"."}bB+=bF+"]#";bB+="${f != null ? f : ''}"}else{bB+=by.encoded?"#:":"#=";if(bG){bB+='kendo.format("'+bG.replace(aq,"\\$1")+'",'}if(bF){bF=z.expr(bF,bA);bB+=bF+"==null?'':"+bF}else{bB+="''"}if(bG){bB+=")"}bB+="#"}}}return bB},_templates:function(){var bB=this,bE=bB.options,bw=bB.dataSource,bx=bw.group(),bC=bB.footer||bB.wrapper.find(".k-grid-footer"),bA=bw.aggregate(),bD=aa(bB.columns),bz=aa(i(bB.columns)),by=bE.scrollable?aa(bb(bB.columns)):bD;if(bE.scrollable&&bz.length){if(bE.rowTemplate||bE.altRowTemplate){throw new Error("Having both row template and locked columns is not supported")}bB.rowTemplate=bB._tmpl(bE.rowTemplate,by,false,true);bB.altRowTemplate=bB._tmpl(bE.altRowTemplate||bE.rowTemplate,by,true,true);bB.lockedRowTemplate=bB._tmpl(bE.rowTemplate,bz);bB.lockedAltRowTemplate=bB._tmpl(bE.altRowTemplate||bE.rowTemplate,bz,true)}else{bB.rowTemplate=bB._tmpl(bE.rowTemplate,by);bB.altRowTemplate=bB._tmpl(bE.altRowTemplate||bE.rowTemplate,by,true)}if(bB._hasDetails()){bB.detailTemplate=bB._detailTmpl(bE.detailTemplate||"")}if((bB._group&&!aU(bA))||(!aU(bA)&&!bC.length)||k(bD,function(bF){return bF.footerTemplate}).length){bB.footerTemplate=bB._footerTmpl(bD,bA,"footerTemplate","k-footer-template")}if(bx&&k(bD,function(bF){return bF.groupFooterTemplate}).length){bA=ba.map(bx,function(bF){return bF.aggregates});bB.groupFooterTemplate=bB._footerTmpl(by,bA,"groupFooterTemplate","k-group-footer",bz.length);if(bE.scrollable&&bz.length){bB.lockedGroupFooterTemplate=bB._footerTmpl(bz,bA,"groupFooterTemplate","k-group-footer")}}if(bB.options.noRecords){bB.noRecordsTemplate=bB._noRecordsTmpl()}},_noRecordsTmpl:function(){var bw='<div class="{0}">{1}</div>';var by='<div class="k-grid-norecords-template">{0}</div>';var bx={storage:{},count:0};var bz=ba.extend({},z.Template,this.options.templateSettings);var bA=bz.paramName;var bE;var bB="";var bC;var bD;if(this.options.noRecords.template){bE=this.options.noRecords.template}else{bE=z.format(by,this.options.messages.noRecords)}bC=typeof bE;if(bC==="function"){bx.storage["tmpl"+bx.count]=bE;bB+="#=this.tmpl"+bx.count+"("+bA+")#";bx.count++}else{if(bC==="string"){bB+=bE}}bD=z.template(z.format(bw,aQ,bB),bz);if(bx.count>0){bD=ba.proxy(bD,bx.storage)}return bD},_footerTmpl:function(bx,bB,bD,bJ,bK){var bG=this,bM=aM({},z.Template,bG.options.templateSettings),bE=bM.paramName,bH="",bI,bA,bO,bz,bL={},bF=0,bw={},bN=bG._groups(),bC=bG.dataSource._emptyAggregates(bB),by;bH+='<tr class="'+bJ+'">';if(bN>0&&!bK){bH+=a7(bN)}if(bG._hasDetails()){bH+='<td class="k-hierarchy-cell">&nbsp;</td>'}for(bI=0,bA=bx.length;bI<bA;bI++){by=bx[bI];bO=by[bD];bz=typeof bO;bH+="<td"+p(by.footerAttributes)+">";if(bO){if(bz!==aS){bw=bC[by.field]?aM({},bM,{paramName:bE+"['"+by.field+"']"}):{};bO=z.template(bO,bw)}bL["tmpl"+bF]=bO;bH+="#=this.tmpl"+bF+"("+bE+")#";bF++}else{bH+="&nbsp;"}bH+="</td>"}bH+="</tr>";bH=z.template(bH,bM);if(bF>0){return K(bH,bL)}return bH},_detailTmpl:function(bE){var bC=this,bB="",by=aM({},z.Template,bC.options.templateSettings),bz=by.paramName,bF={},bA=0,bx=bC._groups(),bw=B(aa(bC.columns)).length,bD=typeof bE;bB+='<tr class="k-detail-row">';if(bx>0){bB+=a7(bx)}bB+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(bw?' colspan="'+bw+'"':"")+">";if(bD===aS){bF["tmpl"+bA]=bE;bB+="#=this.tmpl"+bA+"("+bz+")#";bA++}else{bB+=bE}bB+="</td></tr>";bB=z.template(bB,by);if(bA>0){return K(bB,bF)}return bB},_hasDetails:function(){var bw=this;return bw.options.detailTemplate!==null||(bw._events[w]||[]).length},_hasFilterRow:function(){var by=this.options.filterable;var bz=by&&typeof by.mode==bn&&by.mode.indexOf("row")!=-1;var bw=this.columns;var bx=ba.grep(bw,function(bB,bA){return bB.filterable===false});if(bw.length&&bx.length==bw.length){bz=false}return bz},_details:function(){var bw=this;if(bw.options.scrollable&&bw._hasDetails()&&i(bw.columns).length){throw new Error("Having both detail template and locked columns is not supported")}bw.table.on(a8+bm,".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(bA){var bx=ba(this),bE=bx.hasClass("k-plus"),bz=bx.closest("tr.k-master-row"),bB,bD=bw.detailTemplate,by,bC=bw._hasDetails();bx.toggleClass("k-plus",!bE).toggleClass("k-minus",bE);bB=bz.next();if(bC&&!bB.hasClass("k-detail-row")){by=bw.dataItem(bz);bB=ba(bD(by)).addClass(bz.hasClass("k-alt")?"k-alt":"").insertAfter(bz);bw.angular("compile",function(){return{elements:bB.get(),data:[{dataItem:by}]}});bw.trigger(w,{masterRow:bz,detailRow:bB,data:by,detailCell:bB.find(".k-detail-cell")})}bw.trigger(bE?m:aI,{masterRow:bz,detailRow:bB});bB.toggle(bE);if(bw._current){bw._current.attr("aria-expanded",bE)}bA.preventDefault();return false})},dataItem:function(bz){bz=ba(bz)[0];if(!bz){return null}var by=this.tbody.children(),bB=/k-grouping-row|k-detail-row|k-group-footer/,bw=bz.sectionRowIndex,bx,bA;bA=bw;for(bx=0;bx<bw;bx++){if(bB.test(by[bx].className)){bA--}}return this._data[bA]},expandRow:function(bw){ba(bw).find("> td .k-plus, > td .k-i-expand").click()},collapseRow:function(bw){ba(bw).find("> td .k-minus, > td .k-i-collapse").click()},_createHeaderCells:function(by,bC){var bB=this,bE,bw,bG,bz="",bx,bF=aa(bB.columns),bD;for(bE=0,bx=by.length;bE<bx;bE++){bw=by[bE].column||by[bE];bG=bB._headerCellText(bw);bD="";var bA=D(bw,bF);if(!bw.command){if(bw.field){bD=z.attr("field")+"='"+bw.field+"' "}bz+="<th role='columnheader' "+bD;if(bC&&!by[bE].colSpan){bz+=" rowspan='"+bC+"'"}if(by[bE].colSpan>1){bz+='colspan="'+(by[bE].colSpan-aH(bw.columns))+'" ';bz+=z.attr("colspan")+"='"+by[bE].colSpan+"'"}if(bw.title){bz+=z.attr("title")+'="'+bw.title.replace(/'/g,"'")+'" '}if(bw.groupable!==E){bz+=z.attr("groupable")+"='"+bw.groupable+"' "}if(bw.aggregates&&bw.aggregates.length){bz+=z.attr("aggregates")+"='"+bw.aggregates+"'"}if(bA>-1){bz+=z.attr("index")+"='"+bA+"'"}bz+=p(bw.headerAttributes);bz+=">"+bG+"</th>"}else{bz+="<th"+p(bw.headerAttributes);if(bC&&!by[bE].colSpan){bz+=" rowspan='"+bC+"'"}if(bA>-1){bz+=z.attr("index")+"='"+bA+"'"}bz+=">"+bG+"</th>"}}return bz},_appendLockedColumnContent:function(){var bz=this.columns,bF,bA=this.table.find("colgroup"),bE=bA.find("col:not(.k-group-col,.k-hierarchy-col)"),by,bG=ba(),bB=0,bx,bC,bD,bw=0;for(bF=0,by=bz.length;bF<by;bF++){if(bz[bF].locked){if(bl(bz[bF])){bC=1;if(bz[bF].columns){bC=aa(bz[bF].columns).length-aH(bz[bF].columns)}bC=bC||1;for(bD=0;bD<bC;bD++){bG=bG.add(bE.eq(bF+bw+bD-bB))}bw+=bC-1}else{bB++}}}bx=ba('<div class="k-grid-content-locked"><table'+(ap?' cellspacing="0"':"")+"><colgroup/><tbody></tbody></table></div>");bA.detach();bx.find("colgroup").append(bG);bA.insertBefore(this.table.find("tbody"));this.lockedContent=bx.insertBefore(this.content);this.lockedTable=bx.children("table")},_appendLockedColumnFooter:function(){var bA=this;var bC=bA.footer;var bE=bC.find(".k-footer-template>td");var bB=bC.find(".k-grid-footer-wrap>table>colgroup>col");var bz=ba('<div class="k-grid-footer-locked"><table><colgroup /><tbody><tr class="k-footer-template"></tr></tbody></table></div>');var bD,bw;var bx=bA._groups();var by=ba(),bF=ba();by=by.add(bE.filter(".k-group-cell"));for(bD=0,bw=aa(i(bA.columns)).length;bD<bw;bD++){by=by.add(bE.eq(bD+bx))}bF=bF.add(bB.filter(".k-group-col"));for(bD=0,bw=aa(a4(bA.columns)).length;bD<bw;bD++){bF=bF.add(bB.eq(bD+bx))}by.appendTo(bz.find("tr"));bF.appendTo(bz.find("colgroup"));bA.lockedFooter=bz.prependTo(bC)},_appendLockedColumnHeader:function(bP){var bE=this,by=this.columns,bQ,bN,bB,bH,bw,bO,bV,bT,bz,bJ=[],bK=0,bM=ba(),bI=bE._hasFilterRow(),bL=0,bG=ba(),bx,bR=0,bA=ba();bH=bE.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)");bT=bE.thead.find("tr:first .k-header:not(.k-group-cell,.k-hierarchy-cell)");bz=bE.thead.find(".k-filter-row").find("th:not(.k-group-cell,.k-hierarchy-cell)");var bU=0;for(bQ=0,bB=by.length;bQ<bB;bQ++){if(by[bQ].locked){bx=bT.eq(bQ);bR=aa(by[bQ].columns||[]).length;if(bl(by[bQ])){var bD;if(by[bQ].columns){bD=bR-aH(by[bQ].columns)}bD=bD||1;for(var bF=0;bF<bD;bF++){bM=bM.add(bH.eq(bQ+bU+bF-bK))}bU+=bD-1}ad([by[bQ]],aG(bx),bJ,0,0);bR=bR||1;for(var bS=0;bS<bR;bS++){bG=bG.add(bz.eq(bL+bS))}bL+=bR}if(by[bQ].columns){bK+=aH(by[bQ].columns)}if(!bl(by[bQ])){bK++}}if(bJ.length){bN='<div class="k-grid-header-locked" style="width:1px"><table'+(ap?' cellspacing="0"':"")+"><colgroup/><thead>";bN+=new Array(bJ.length+1).join("<tr></tr>");bN+=(bI?'<tr class="k-filter-row" />':"")+"</thead></table></div>";bV=ba(bN);bH=bV.find("colgroup");bH.append(bE.thead.prev().find("col.k-group-col").add(bM));bw=bV.find("thead tr:not(.k-filter-row)");for(bQ=0,bB=bJ.length;bQ<bB;bQ++){bA=Y(bJ[bQ]);bw.eq(bQ).append(bE.thead.find("tr:eq("+bQ+") .k-group-cell").add(bA))}var bC=y(this.thead);if(bJ.length<bC){bt(bV,bC-bJ.length)}bO=bV.find(".k-filter-row");bO.append(bE.thead.find(".k-filter-row .k-group-cell").add(bG));this.lockedHeader=bV.prependTo(bP);this.thead.find(".k-group-cell").remove();this._syncLockedHeaderHeight()}},_removeLockedContainers:function(){var bw=this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);z.destroy(bw);bw.off(bm).remove();this.lockedHeader=this.lockedContent=this.lockedFooter=null;this.selectable=null},_thead:function(){var bC=this,bA=bC.columns,bF=bC._hasDetails()&&bA.length,by=bC._hasFilterRow(),bG,bz,bB="",bD=bC.table.find(">thead"),bx=bC.element.find("thead:first").length>0,bE,bI,bw;if(!bD.length){bD=ba("<thead/>").insertBefore(bC.tbody)}if(bC.lockedHeader&&bC.thead){bE=bC.thead.find("tr:has(th):not(.k-filter-row)").html("");bE.remove();bE=ba();bC._removeLockedContainers()}else{if(bx){bE=bC.element.find("thead:first tr:has(th):not(.k-filter-row)")}else{bE=bC.element.find("tr:has(th):first")}}if(!bE.length){bE=bD.children().first();if(!bE.length){var bK=[{rowSpan:1,cells:[],index:0}];bC._prepareColumns(bK,bA);for(bG=0;bG<bK.length;bG++){bB+="<tr>";if(bF){bB+='<th class="k-hierarchy-cell">&nbsp;</th>'}bB+=bC._createHeaderCells(bK[bG].cells,bK[bG].rowSpan);bB+="</tr>"}bE=ba(bB)}}if(by){var bJ=ba("<tr/>");bJ.addClass("k-filter-row");if(bF||bE.find(".k-hierarchy-cell").length){bJ.prepend('<th class="k-hierarchy-cell">&nbsp;</th>')}var bH=(bC.thead||bD).find(".k-filter-row");if(bH.length){z.destroy(bH);bH.remove()}bD.append(bJ)}if(!bE.children().length){bB="";if(bF){bB+='<th class="k-hierarchy-cell">&nbsp;</th>'}bB+=bC._createHeaderCells(bA);bE.html(bB)}else{if(bF&&!bE.find(".k-hierarchy-cell")[0]){bE.prepend('<th class="k-hierarchy-cell">&nbsp;</th>')}}bE.attr("role","row").find("th").addClass("k-header");if(!bC.options.scrollable){bD.addClass("k-grid-header")}bE.find("script").remove().end().prependTo(bD);if(bC.thead){bC._destroyColumnAttachments()}this.angular("cleanup",function(){return{elements:bD.find("th").get()}});this.angular("compile",function(){return{elements:bD.find("th").get(),data:F(bA,function(bL){return{column:bL}})}});bC.thead=bD.attr("role","rowgroup");bC._sortable();bC._filterable();bC._filterRow();bC._scrollable();bC._updateCols();bC._columnMenu();if(this.options.scrollable&&i(this.columns).length){bC._appendLockedColumnHeader(bC.thead.closest(".k-grid-header"));bC._appendLockedColumnContent();bC.lockedContent.bind("DOMMouseScroll"+bm+" mousewheel"+bm,K(bC._wheelScroll,bC));bC._applyLockedContainersWidth()}bC._updateColumnCellIndex();bC._updateFirstColumnClass();bC._resizable();bC._draggable();bC._reorderable();if(bC.groupable){bC._attachGroupable()}},_updateFirstColumnClass:function(){var bx=this,bw=bx.columns||[],bA=bx._hasDetails()&&bw.length;if(!bA&&!bx._groups()){var bz=ba();var by=bx.thead.find(">tr:not(.k-filter-row):not(:first)");bw=bb(bw);if(by.length&&bw[0]&&!bw[0].columns){bz=bz.add(by)}if(bx._isLocked()){by=bx.lockedHeader.find("thead>tr:not(.k-filter-row):not(:first)");bw=i(bx.columns);if(by.length&&bw[0]&&!bw[0].columns){bz=bz.add(by)}}bz.each(function(){var bB=ba(this).find("th");bB.removeClass("k-first");bB.eq(0).addClass("k-first")})}},_prepareColumns:function(bD,bx,bw,bB){var bC=bB||bD[bD.length-1];var by=bD[bC.index+1];var bE=0;for(var bz=0;bz<bx.length;bz++){var bA={column:bx[bz],colSpan:0};bC.cells.push(bA);if(bx[bz].columns&&bx[bz].columns.length){if(!by){by={rowSpan:0,cells:[],index:bD.length};bD.push(by)}bA.colSpan=bx[bz].columns.length;this._prepareColumns(bD,bx[bz].columns,bA,by);bE+=bA.colSpan-1;bC.rowSpan=bD.length-bC.index}}if(bw){bw.colSpan+=bE}},_wheelScroll:function(by){if(by.ctrlKey){return}var bw=this.content;if(this.options.scrollable.virtual){bw=this.virtualScrollable.verticalScrollbar}var bx=bw.scrollTop(),bz=z.wheelDeltaY(by);if(bz){by.preventDefault();ba(by.currentTarget).one("wheel"+bm,false);bw.scrollTop(bx+(-bz))}},_isLocked:function(){return this.lockedHeader!=null},_updateCols:function(bw){bw=bw||this.thead.parent().add(this.table);this._appendCols(bw,this._isLocked())},_updateLockedCols:function(bw){if(this._isLocked()){bw=bw||this.lockedHeader.find("table").add(this.lockedTable);bq(bw,N(a4(this.columns)),this._hasDetails(),this._groups())}},_appendCols:function(bx,bw){if(bw){bq(bx,N(bh(this.columns)),this._hasDetails(),0)}else{bq(bx,N(B(this.columns)),this._hasDetails(),this._groups())}},_autoColumns:function(bx){if(bx&&bx.toJSON){var bw=this,by;bx=bx.toJSON();for(by in bx){bw.columns.push({field:by,headerAttributes:{id:z.guid()}})}bw._thead();bw._templates()}},_rowsHtml:function(bC,by){var bB=this,bx="",bw,bD=by.rowTemplate,bz=by.altRowTemplate,bA;for(bw=0,bA=bC.length;bw<bA;bw++){if(bw%2){bx+=bz(bC[bw])}else{bx+=bD(bC[bw])}bB._data.push(bC[bw])}return bx},_groupRowHtml:function(bG,by,bw,bI,bz,bN){var bF=this,bJ="",bL,bB,bx=bG.field,bA=k(aa(bF.columns),function(bR){return bR.field==bx})[0]||{},bO=bA.groupHeaderTemplate,bK=(bA.title||bx)+": "+af(bG.value,bA.format,bA.values,bA.encoded),bM=bF._groupAggregatesDefaultObject||{},bD=aM({},bM,bG.aggregates),bQ=aM({},{field:bG.field,value:bG.value,aggregates:bD},bG.aggregates[bG.field]),bP=bz.rowTemplate,bE=bz.altRowTemplate,bC=bz.groupFooterTemplate,bH=bG.items;if(bO){bK=typeof bO===aS?bO(bQ):z.template(bO)(bQ)}bJ+=bI(by,bw,bK);if(bG.hasSubgroups){for(bL=0,bB=bH.length;bL<bB;bL++){bJ+=bF._groupRowHtml(bH[bL],bN?by:by-1,bw+1,bI,bz,bN)}}else{bJ+=bF._rowsHtml(bH,bz)}if(bC){bJ+=bC(bD)}return bJ},collapseGroup:function(bE){bE=ba(bE);var bw,bB=this.options.groupable,bF=bB.showFooter,bz=bF?0:1,bA,by=ba(),bD,bx,bC;if(this._isLocked()){if(!bE.closest("div").hasClass("k-grid-content-locked")){by=bE.nextAll("tr");bE=this.lockedTable.find(">tbody>tr:eq("+bE.index()+")")}else{by=this.tbody.children("tr:eq("+bE.index()+")").nextAll("tr")}}bw=bE.find(".k-group-cell").length;bE.find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse");bE.find("td[aria-expanded='true']:first").attr("aria-expanded",false);bE=bE.nextAll("tr");for(bD=0,bx=bE.length;bD<bx;bD++){bC=bE.eq(bD);bA=bC.find(".k-group-cell").length;if(bC.hasClass("k-grouping-row")){bz++}else{if(bC.hasClass("k-group-footer")){bz--}}if(bA<=bw||(bC.hasClass("k-group-footer")&&bz<0)){break}bC.hide();by.eq(bD).hide()}},expandGroup:function(bF){bF=ba(bF);var bB=this,bG=bB.options.groupable.showFooter,bw,bC,bA,bz=ba(),bD,bx,bE=[],by=1;if(this._isLocked()){if(!bF.closest("div").hasClass("k-grid-content-locked")){bz=bF.nextAll("tr");bF=this.lockedTable.find(">tbody>tr:eq("+bF.index()+")")}else{bz=this.tbody.children("tr:eq("+bF.index()+")").nextAll("tr")}}bw=bF.find(".k-group-cell").length;bF.find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand");bF.find("td[aria-expanded='false']:first").attr("aria-expanded",true);bF=bF.nextAll("tr");for(bD=0,bx=bF.length;bD<bx;bD++){bC=bF.eq(bD);bA=bC.find(".k-group-cell").length;if(bA<=bw){break}if(bA==bw+1&&!bC.hasClass("k-detail-row")){bC.show();bz.eq(bD).show();if(bC.hasClass("k-grouping-row")&&bC.find(".k-icon").hasClass("k-i-collapse")){bB.expandGroup(bC)}if(bC.hasClass("k-master-row")&&bC.find(".k-icon").hasClass("k-minus")){bC.next().show();bz.eq(bD+1).show()}}if(bC.hasClass("k-grouping-row")){if(bG){bE.push(bC.is(":visible"))}by++}if(bC.hasClass("k-group-footer")){if(bG){bC.toggle(bE.pop())}if(by==1){bC.show();bz.eq(bD).show()}else{by--}}}},_updateHeader:function(bw){var bA=this,bx=bA._isLocked()?bA.lockedHeader.find("thead"):bA.thead,bz=bx.find("tr.k-filter-row").find("th.k-group-cell").length,by=bx.find("tr:first").find("th.k-group-cell").length,bB=bx.children("tr:not(:first)").filter(function(){return !ba(this).children(":visible").length});if(bw>by){ba(new Array(bw-by+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(bx.children("tr:not(.k-filter-row)"));if(bA.element.is(":visible")){bB.find("th.k-group-cell").hide()}}else{if(bw<by){bx.find("tr").each(function(){ba(this).find("th.k-group-cell").filter(":eq("+bw+"),:gt("+bw+")").remove()})}}if(bw>bz){ba(new Array(bw-bz+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(bx.find(".k-filter-row"))}},_firstDataItem:function(bx,bw){if(bx&&bw){if(bx.hasSubgroups){bx=this._firstDataItem(bx.items[0],bw)}else{bx=bx.items[0]}}return bx},_updateTablesWidth:function(){var bx=this,bw;if(!bx._isLocked()){return}bw=ba(">.k-grid-footer>.k-grid-footer-wrap>table",bx.wrapper).add(bx.thead.parent()).add(bx.table);bx._footerWidth=bf(bw.eq(0));bw.width(bx._footerWidth);bw=ba(">.k-grid-footer>.k-grid-footer-locked>table",bx.wrapper).add(bx.lockedHeader.find(">table")).add(bx.lockedTable);bw.width(bf(bw.eq(0)))},hideColumn:function(by){var bC=this,bw,bD,bG,bE,bM,bN,bB,bI=0,bK=[],bA,bz,bH=bC.footer||bC.wrapper.find(".k-grid-footer"),bx=bC.columns,bJ=bC.lockedHeader?o(bC.lockedHeader.find(">table>thead")).filter(aY).length:0,bL;if(typeof by=="number"){by=bx[by]}else{if(T(by)){by=k(t(bx),function(bO){return bO===by})[0]}else{by=k(t(bx),function(bO){return bO.field===by})[0]}}if(!by||!bl(by)){return}if(by.columns&&by.columns.length){bN=aj(by,bx);s(by,false);b(bi(ba(">table>thead",bC.lockedHeader),bC.thead,">tr:eq("+bN.row+")>th"),bN.cell,false);for(bG=0;bG<by.columns.length;bG++){this.hideColumn(by.columns[bG])}bC.trigger(H,{column:by});return}bL=D(by,B(aa(bx)));s(by,false);bC._setParentsVisibility(by,false);bC._templates();bC._updateCols();bC._updateLockedCols();var bF=bC.thead;bA=bL;if(bC.lockedHeader&&bJ>bL){bF=bC.lockedHeader.find(">table>thead")}else{bA-=bJ}bw=o(bF).filter(aY).eq(bA);bw[0].style.display="none";b(bi(ba(">table>thead",bC.lockedHeader),bC.thead,">tr.k-filter-row>th"),bL,false);if(bH[0]){bC._updateCols(bH.find(">.k-grid-footer-wrap>table"));bC._updateLockedCols(bH.find(">.k-grid-footer-locked>table"));b(bH.find(".k-footer-template>td"),bL,false)}if(bC.lockedTable&&bJ>bL){aJ(bC.lockedTable.find(">tbody>tr"),bL)}else{aJ(bC.tbody.children(),bL-bJ)}if(bC.lockedTable){bC._updateTablesWidth();bC._applyLockedContainersWidth();bC._syncLockedContentHeight();bC._syncLockedHeaderHeight();bC._syncLockedFooterHeight()}else{bE=bC.thead.prev().find("col");for(bG=0,bz=bE.length;bG<bz;bG+=1){bM=bE[bG].style.width;if(bM&&bM.indexOf("%")==-1){bI+=parseInt(bM,10)}else{bI=0;break}}bD=ba(">.k-grid-header table:first,>.k-grid-footer table:first",bC.wrapper).add(bC.table);bC._footerWidth=null;if(bI){bD.each(function(){this.style.width=bI+"px"});bC._footerWidth=bI}if(bc.msie&&bc.version==8){bD.css("display","inline-table");setTimeout(function(){bD.css("display","table")},1)}}bC._updateFirstColumnClass();bC.trigger(H,{column:by})},_setParentsVisibility:function(bx,bw){var by=this.columns;var bD;var bB=[];var bC;var bz;var bF;var bA;var bE=bw?function(bG){return B(bG.columns).length&&bG.hidden}:function(bG){return !B(bG.columns).length&&!bG.hidden};if(ay(bx,by,bB)&&bB.length){for(bD=bB.length-1;bD>=0;bD--){bC=bB[bD];bz=av(bC,by);bF=bi(ba(">table>thead",this.lockedHeader),this.thead,">tr:eq("+bz.row+")>th:not(.k-group-cell):not(.k-hierarchy-cell)").eq(bz.cell);if(bE(bC)){s(bC,bw);bF[0].style.display=bw?"":"none"}if(bF.filter("["+z.attr("colspan")+"]").length){bA=parseInt(bF.attr(z.attr("colspan")),10);bF[0].colSpan=(bA-aH(bC.columns))||1}}}},showColumn:function(bA){var bE=this,bJ,by,bK,bL,bx,bM,bG,bD,bC,bH,bz=bE.columns,bI=bE.footer||bE.wrapper.find(".k-grid-footer"),bB=bE.lockedHeader?o(bE.lockedHeader.find(">table>thead")).length:0,bF;if(typeof bA=="number"){bA=bz[bA]}else{if(T(bA)){bA=k(t(bz),function(bN){return bN===bA})[0]}else{bA=k(t(bz),function(bN){return bN.field===bA})[0]}}if(!bA||bl(bA)){return}if(bA.columns&&bA.columns.length){bD=av(bA,bz);s(bA,true);b(bi(ba(">table>thead",bE.lockedHeader),bE.thead,">tr:eq("+bD.row+")>th"),bD.cell,true);for(bJ=0;bJ<bA.columns.length;bJ++){this.showColumn(bA.columns[bJ])}bE.trigger(aV,{column:bA});return}bF=D(bA,aa(bz));s(bA,true);bE._setParentsVisibility(bA,true);bE._templates();bE._updateCols();bE._updateLockedCols();var bw=bE.thead;bG=bF;if(bE.lockedHeader&&bB>bF){bw=bE.lockedHeader.find(">table>thead")}else{bG-=bB}bK=o(bw).eq(bG);bK[0].style.display="";b(bi(ba(">table>thead",bE.lockedHeader),bE.thead,">tr.k-filter-row>th"),bF,true);if(bI[0]){bE._updateCols(bI.find(">.k-grid-footer-wrap>table"));bE._updateLockedCols(bI.find(">.k-grid-footer-locked>table"));b(bI.find(".k-footer-template>td"),bF,true)}if(bE.lockedTable&&bB>bF){R(bE.lockedTable.find(">tbody>tr"),bF)}else{R(bE.tbody.children(),bF-bB)}if(bE.lockedTable){bE._updateTablesWidth();bE._applyLockedContainersWidth();bE._syncLockedContentHeight();bE._syncLockedHeaderHeight()}else{bL=ba(">.k-grid-header table:first,>.k-grid-footer table:first",bE.wrapper).add(bE.table);if(!bA.width){bL.width("")}else{bx=0;bH=bE.thead.prev().find("col");for(bJ=0,by=bH.length;bJ<by;bJ+=1){bC=bH[bJ].style.width;if(bC.indexOf("%")>-1){bx=0;break}bx+=parseInt(bC,10)}bE._footerWidth=null;if(bx){bL.each(function(){this.style.width=bx+"px"});bE._footerWidth=bx}}}bE._updateFirstColumnClass();bE.trigger(aV,{column:bA})},_progress:function(bw){var bx=this.element;if(this.lockedContent){bx=this.wrapper}else{if(this.element.is("table")){bx=this.element.parent()}else{if(this.content&&this.content.length){bx=this.content}}}z.ui.progress(bx,bw)},_resize:function(bw,bx){if(this.content){this._setContentWidth();this._setContentHeight()}if(this.virtualScrollable&&(bx||this._rowHeight)){if(bx){this._rowHeight=null}this.virtualScrollable.repaintScrollbar()}},_isActiveInTable:function(){var bw=U();return this.table[0]===bw||ba.contains(this.table[0],bw)||(this._isLocked()&&(this.lockedTable[0]===bw||ba.contains(this.lockedTable[0],bw)))},refresh:function(bF){var bD=this,bw,bI,bC="",bA=bD.dataSource.view(),bH=bD.options.navigatable,bG,bE=ba(bD.current()),bB=false,by=(bD.dataSource.group()||[]).length,bz=bD.content&&bD.content.scrollLeft(),bx=by+N(B(bD.columns)).length;if(bF&&bF.action==="itemchange"&&bD.editable){return}bF=bF||{};if(bD.trigger("dataBinding",{action:bF.action||"rebind",index:bF.index,items:bF.items})){return}bD._angularItems("cleanup");if(bH&&(bD._isActiveInTable()||(bD._editContainer&&bD._editContainer.data("kendoWindow")))){bB=bE.is("th");bG=Math.max(bD.cellIndex(bE),0)}bD._destroyEditable();bD._progress(false);bD._hideResizeHandle();bD._data=[];if(!bD.columns.length){bD._autoColumns(bD._firstDataItem(bA[0],by));bx=by+bD.columns.length}bD._group=by>0||bD._group;if(bD._group){bD._templates();bD._updateCols();bD._updateLockedCols();bD._updateHeader(by);bD._group=by>0}bD._renderContent(bA,bx,by);bD._renderLockedContent(bA,bx,by);bD._footer();bD._renderNoRecordsContent();bD._setContentHeight();bD._setContentWidth(bz);if(bD.lockedTable){if(bD.options.scrollable.virtual){bD.content.find(">.k-virtual-scrollable-wrap").trigger("scroll")}else{if(bD.touchScroller){bD.touchScroller.movable.trigger("change")}else{bD.content.trigger("scroll")}}}bD._restoreCurrent(bG,bB);if(bD.touchScroller){bD.touchScroller.contentResized()}if(bD.selectable){bD.selectable.resetTouchEvents()}bD._angularItems("compile");bD.trigger(L)},_restoreCurrent:function(bw,bx){if(bw===E||bw<0){return}this._removeCurrent();if(bx){this.current(this.thead.find("th:not(.k-group-cell)").eq(bw))}else{var bA=0;if(this._rowVirtualIndex){bA=this.virtualScrollable.position(this._rowVirtualIndex)}else{bw=0}var by=ba();if(this.lockedTable){by=this.lockedTable.find(">tbody>tr").eq(bA)}by=by.add(this.tbody.children().eq(bA));var bz=by.find(">td:not(.k-group-cell):not(.k-hierarchy-cell)").eq(bw);this.current(bz)}if(this._current){a6(this._current.closest("table")[0],true)}},_angularItems:function(bw){z.ui.DataBoundWidget.fn._angularItems.call(this,bw);if(bw==="cleanup"){this._cleanupDetailItems()}this._angularGroupItems(bw)},_cleanupDetailItems:function(){var bw=this;if(bw._hasDetails()){bw.angular("cleanup",function(){return{elements:bw.tbody.children(".k-detail-row")}});bw.tbody.find(".k-detail-cell").empty()}},_angularGroupItems:function(bx){var bw=this;if(bw._group){bw.angular(bx,function(){return{elements:bw.tbody.children(".k-grouping-row"),data:ba.map(az(bw.dataSource.view()),function(by){return{dataItem:by}})}})}},_renderContent:function(bA,by,bz){var bC=this,bE,bx,bB="",bw=bC.lockedContent!=null,bD={rowTemplate:bC.rowTemplate,altRowTemplate:bC.altRowTemplate,groupFooterTemplate:bC.groupFooterTemplate};by=bw?by-N(a4(bC.columns)).length:by;if(bz>0){by=bw?by-bz:by;if(bC.detailTemplate){by++}if(bC.groupFooterTemplate){bC._groupAggregatesDefaultObject=bC.dataSource.aggregates()}for(bE=0,bx=bA.length;bE<bx;bE++){bB+=bC._groupRowHtml(bA[bE],by,0,bw?aD:a5,bD,bw)}}else{bB+=bC._rowsHtml(bA,bD)}bC.tbody=a1(bC.tbody,bC.table,bB,this.options.$angular)},_renderLockedContent:function(bC,bD,bx){var bz="",bw,bB,by={rowTemplate:this.lockedRowTemplate,altRowTemplate:this.lockedAltRowTemplate,groupFooterTemplate:this.lockedGroupFooterTemplate};if(this.lockedContent){var bA=this.lockedTable;if(bx>0){bD=bD-B(aa(bb(this.columns))).length;for(bw=0,bB=bC.length;bw<bB;bw++){bz+=this._groupRowHtml(bC[bw],bD,0,a5,by)}}else{bz=this._rowsHtml(bC,by)}a1(bA.children("tbody"),bA,bz,this.options.$angular);this._syncLockedContentHeight()}},_adjustRowsHeight:function(bC,bB){var bH=bC[0].rows,bx=bH.length,bE,bD=bB[0].rows,by=bC.add(bB),bz=by.length,bA=[];for(bE=0;bE<bx;bE++){if(!bD[bE]){break}if(bH[bE].style.height){bH[bE].style.height=bD[bE].style.height=""}var bw=bH[bE].offsetHeight;var bG=bD[bE].offsetHeight;var bF=0;if(bw>bG){bF=bw}else{if(bw<bG){bF=bG}}bA.push(bF)}for(bE=0;bE<bz;bE++){by[bE].style.display="none"}for(bE=0;bE<bx;bE++){if(bA[bE]){bH[bE].style.height=bD[bE].style.height=(bA[bE]+1)+"px"}}for(bE=0;bE<bz;bE++){by[bE].style.display=""}}});if(z.ExcelMixin){z.ExcelMixin.extend(aX.prototype)}if(z.PDFMixin){z.PDFMixin.extend(aX.prototype);aX.prototype._drawPDF=function(by){var bE=new ba.Deferred();var bx=this;var bw=bx.dataSource;var bz=bx.options.pdf.allPages;this._initPDFProgress(by);var bC=new z.drawing.Group();var bB=bw.page();function bD(){if(bz&&bB!==E){bw.unbind("change",bA);bw.one("change",function(){bE.resolve(bC)});bw.page(bB)}else{bE.resolve(bC)}}function bA(){bx._drawPDFShadow({width:bx.wrapper.width()}).done(function(bI){var bH=bw.page();var bG=bz?bw.totalPages():1;var bF={page:bI,pageNumber:bH,progress:bH/bG,totalPages:bG};by.notify(bF);bC.append(bF.page);if(bH<bG){bw.page(bH+1)}else{bD()}}).fail(function(bF){bE.reject(bF)})}if(bz){bw.bind("change",bA);bw.page(1)}else{bA()}return bE.promise()};aX.prototype._initPDFProgress=function(bw){var by=ba("<div class='k-loading-pdf-mask'><div class='k-loading-color'/></div>");by.prepend(this.wrapper.clone().css({position:"absolute",top:0,left:0}));this.wrapper.append(by);var bx=ba("<div class='k-loading-pdf-progress'>").appendTo(by).kendoProgressBar({type:"chunk",chunkCount:10,min:0,max:1,value:0}).data("kendoProgressBar");bw.progress(function(bz){bx.value(bz.progress)}).always(function(){z.destroy(by);by.remove()})}}function aE(by,bx){by=by[0];bx=bx[0];if(by.rows.length!==bx.rows.length){var bw=by.offsetHeight;var bz=bx.offsetHeight;var bB;var bA;if(bw>bz){bB=bx.rows[bx.rows.length-1];if(Z.test(bB.className)){bB=bx.rows[bx.rows.length-2]}bA=bw-bz}else{bB=by.rows[by.rows.length-1];if(Z.test(bB.className)){bB=by.rows[by.rows.length-2]}bA=bz-bw}bB.style.height=bB.offsetHeight+bA+"px"}}function aP(bA,by){var bw;var bz=bA.offsetHeight;var bx=by.offsetHeight;if(bz>bx){bw=bz+"px"}else{if(bz<bx){bw=bx+"px"}}if(bw){bA.style.height=by.style.height=bw}}function C(bx,by){var bw,bz,bA;if(typeof bx===bn&&bx===by){return bx}if(T(bx)&&bx.name===by){return bx}if(c(bx)){for(bw=0,bz=bx.length;bw<bz;bw++){bA=bx[bw];if((typeof bA===bn&&bA===by)||(bA.name===by)){return bA}}}return null}function a6(bx,bC){var bw=bc.msie;if(bC===true){bx=ba(bx);var bB=true||bw&&bx.parent().is(".k-grid-content,.k-grid-header-wrap"),bz,bA;if(bB){bz=bx.parent().scrollTop();bA=bx.parent().scrollLeft()}if(bw){try{bx[0].setActive()}catch(by){bx[0].focus()}}else{bx[0].focus()}if(bB){bx.parent().scrollTop(bz);bx.parent().scrollLeft(bA)}}else{ba(bx).one("focusin",function(bD){bD.preventDefault()}).focus()}}function M(bC){var bB=ba(bC.currentTarget),bA=bB.is("th"),bz=this.table.add(this.lockedTable),by=this.thead.parent().add(ba(">table",this.lockedHeader)),bx=ba(bC.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap"),bw=bB.closest("table")[0];if(z.support.touch){return}if(bx&&bB.find(z.roleSelector("filtercell")).length){this.current(bB);return}if(bw!==bz[0]&&bw!==bz[1]&&bw!==by[0]&&bw!==by[1]){return}if(ba(bC.target).is("a.k-i-collapse, a.k-i-expand")){return}if(this.options.navigatable){this.current(bB)}if(bA||!bx){setTimeout(function(){if(!(am&&ba(z._activeElement()).hasClass("k-widget"))){a6(bw,true)}})}if(bA){bC.preventDefault()}}function a2(bw){return bw.parent().children(P).index(bw)}function x(bw){return bw&&(bw.hasClass("k-edit-cell")||bw.parent().hasClass("k-grid-edit-row"))}function a5(by,bx,bw){return'<tr role="row" class="k-grouping-row">'+a7(bx)+'<td colspan="'+by+'" aria-expanded="true"><p class="k-reset"><a class="k-icon k-i-collapse" href="#" tabindex="-1"></a>'+bw+"</p></td></tr>"}function aD(by,bx,bw){return'<tr role="row" class="k-grouping-row"><td colspan="'+by+'" aria-expanded="true"><p class="k-reset">&nbsp;</p></td></tr>'}at.plugin(aX);at.plugin(aK)})(window.kendo.jQuery);(function(f,i){var s=window.kendo,p="change",d="cancel",t="dataBound",r="dataBinding",c=s.ui.Widget,q=s.keys,w=">*",x="progress",l="error",n="k-state-focused",h="k-state-selected",z="k-edit-item",o="string",y="edit",m="remove",b="save",g="click",v=".kendoListView",u=f.proxy,k=s._activeElement,j=s.ui.progress,e=s.data.DataSource;var a=s.ui.DataBoundWidget.extend({init:function(B,A){var C=this;A=f.isArray(A)?{dataSource:A}:A;c.fn.init.call(C,B,A);A=C.options;C.wrapper=B=C.element;if(B[0].id){C._itemId=B[0].id+"_lv_active"}C._element();C._dataSource();C._templates();C._navigatable();C._selectable();C._pageable();C._crudHandlers();if(C.options.autoBind){C.dataSource.fetch()}s.notify(C)},events:[p,d,r,t,y,m,b],options:{name:"ListView",autoBind:true,selectable:false,navigatable:false,template:"",altTemplate:"",editTemplate:""},setOptions:function(A){c.fn.setOptions.call(this,A);this._templates();if(this.selectable){this.selectable.destroy();this.selectable=null}this._selectable()},_templates:function(){var A=this.options;this.template=s.template(A.template||"");this.altTemplate=s.template(A.altTemplate||A.template);this.editTemplate=s.template(A.editTemplate||"")},_item:function(A){return this.element.children()[A]()},items:function(){return this.element.children()},dataItem:function(C){var A=s.attr("uid");var B=f(C).closest("["+A+"]").attr(A);return this.dataSource.getByUid(B)},setDataSource:function(A){this.options.dataSource=A;this._dataSource();if(this.options.autoBind){A.fetch()}},_unbindDataSource:function(){var A=this;A.dataSource.unbind(p,A._refreshHandler).unbind(x,A._progressHandler).unbind(l,A._errorHandler)},_dataSource:function(){var A=this;if(A.dataSource&&A._refreshHandler){A._unbindDataSource()}else{A._refreshHandler=u(A.refresh,A);A._progressHandler=u(A._progress,A);A._errorHandler=u(A._error,A)}A.dataSource=e.create(A.options.dataSource).bind(p,A._refreshHandler).bind(x,A._progressHandler).bind(l,A._errorHandler)},_progress:function(){j(this.element,true)},_error:function(){j(this.element,false)},_element:function(){this.element.addClass("k-widget k-listview").attr("role","listbox")},refresh:function(F){var E=this,I=E.dataSource.view(),C,G,L,D="",J,A,K=E.template,H=E.altTemplate,B=k();F=F||{};if(F.action==="itemchange"){if(!E._hasBindingTarget()&&!E.editable){C=F.items[0];L=E.items().filter("["+s.attr("uid")+"="+C.uid+"]");if(L.length>0){J=L.index();E.angular("cleanup",function(){return{elements:[L]}});L.replaceWith(K(C));L=E.items().eq(J);L.attr(s.attr("uid"),C.uid);E.angular("compile",function(){return{elements:[L],data:[{dataItem:C}]}});E.trigger("itemChange",{item:L,data:C})}}return}if(E.trigger(r,{action:F.action||"rebind",items:F.items,index:F.index})){return}E._angularItems("cleanup");E._destroyEditable();for(J=0,A=I.length;J<A;J++){if(J%2){D+=H(I[J])}else{D+=K(I[J])}}E.element.html(D);G=E.items();for(J=0,A=I.length;J<A;J++){G.eq(J).attr(s.attr("uid"),I[J].uid).attr("role","option").attr("aria-selected","false")}if(E.element[0]===B&&E.options.navigatable){E.current(G.eq(0))}E._angularItems("compile");E.trigger(t)},_pageable:function(){var D=this,A=D.options.pageable,C,B;if(f.isPlainObject(A)){B=A.pagerId;C=f.extend({},A,{dataSource:D.dataSource,pagerId:null});D.pager=new s.ui.Pager(f("#"+B),C)}},_selectable:function(){var B=this,D,C,A=B.options.selectable,E=B.options.navigatable;if(A){D=s.ui.Selectable.parseOptions(A).multiple;B.selectable=new s.ui.Selectable(B.element,{aria:true,multiple:D,filter:w,change:function(){B.trigger(p)}});if(E){B.element.on("keydown"+v,function(F){if(F.keyCode===q.SPACEBAR){C=B.current();if(F.target==F.currentTarget){F.preventDefault()}if(D){if(!F.ctrlKey){B.selectable.clear()}else{if(C&&C.hasClass(h)){C.removeClass(h);return}}}else{B.selectable.clear()}B.selectable.value(C)}})}}},current:function(B){var C=this,A=C.element,D=C._current,E=C._itemId;if(B===i){return D}if(D&&D[0]){if(D[0].id===E){D.removeAttr("id")}D.removeClass(n);A.removeAttr("aria-activedescendant")}if(B&&B[0]){E=B[0].id||E;C._scrollTo(B[0]);A.attr("aria-activedescendant",E);B.addClass(n).attr("id",E)}C._current=B},_scrollTo:function(C){var D=this,B,E=false,F="scroll";if(D.wrapper.css("overflow")=="auto"||D.wrapper.css("overflow")==F){B=D.wrapper[0]}else{B=window;E=true}var A=function(J,I){var G=E?f(C).offset()[J.toLowerCase()]:C["offset"+J],K=C["client"+I],L=f(B)[F+J](),H=f(B)[I.toLowerCase()]();if(G+K>L+H){f(B)[F+J](G+K-H)}else{if(G<L){f(B)[F+J](G)}}};A("Top","Height");A("Left","Width")},_navigatable:function(){var C=this,D=C.options.navigatable,A=C.element,B=function(E){C.current(f(E.currentTarget));if(!f(E.target).is(":button,a,:input,a>.k-icon,textarea")){A.focus()}};if(D){C._tabindex();A.on("focus"+v,function(){var E=C._current;if(!E||!E.is(":visible")){E=C._item("first")}C.current(E)}).on("focusout"+v,function(){if(C._current){C._current.removeClass(n)}}).on("keydown"+v,function(I){var O=I.keyCode,J=C.current(),K=f(I.target),M=!K.is(":button,textarea,a,a>.t-icon,input"),F=K.is(":text"),L=s.preventDefault,H=A.find("."+z),G=k(),N;if((!M&&!F&&q.ESC!=O)||(F&&q.ESC!=O&&q.ENTER!=O)){return}if(q.UP===O||q.LEFT===O){if(J){J=J.prev()}C.current(!J||!J[0]?C._item("last"):J);L(I)}else{if(q.DOWN===O||q.RIGHT===O){if(J){J=J.next()}C.current(!J||!J[0]?C._item("first"):J);L(I)}else{if(q.PAGEUP===O){C.current(null);C.dataSource.page(C.dataSource.page()-1);L(I)}else{if(q.PAGEDOWN===O){C.current(null);C.dataSource.page(C.dataSource.page()+1);L(I)}else{if(q.HOME===O){C.current(C._item("first"));L(I)}else{if(q.END===O){C.current(C._item("last"));L(I)}else{if(q.ENTER===O){if(H.length!==0&&(M||F)){N=C.items().index(H);if(G){G.blur()}C.save();var E=function(){C.element.trigger("focus");C.current(C.items().eq(N))};C.one("dataBound",E)}else{if(C.options.editTemplate!==""){C.edit(J)}}}else{if(q.ESC===O){H=A.find("."+z);if(H.length===0){return}N=C.items().index(H);C.cancel();C.element.trigger("focus");C.current(C.items().eq(N))}}}}}}}}});A.on("mousedown"+v+" touchstart"+v,w,u(B,C))}},clearSelection:function(){var A=this;A.selectable.clear();A.trigger(p)},select:function(A){var C=this,B=C.selectable;A=f(A);if(A.length){if(!B.options.multiple){B.clear();A=A.first()}B.value(A);return}return B.value()},_destroyEditable:function(){var A=this;if(A.editable){A.editable.destroy();delete A.editable}},_modelFromElement:function(B){var A=B.attr(s.attr("uid"));return this.dataSource.getByUid(A)},_closeEditable:function(H){var F=this,B=F.editable,G,E,A,C=F.template,D=true;if(B){if(H){D=B.end()}if(D){if(B.element.index()%2){C=F.altTemplate}F.angular("cleanup",function(){return{elements:[B.element]}});G=F._modelFromElement(B.element);F._destroyEditable();A=B.element.index();B.element.replaceWith(C(G));E=F.items().eq(A);E.attr(s.attr("uid"),G.uid);if(F._hasBindingTarget()){s.bind(E,G)}F.angular("compile",function(){return{elements:[E],data:[{dataItem:G}]}})}}return D},edit:function(E){var D=this,F=D._modelFromElement(E),A,C=F.uid,B;D.cancel();E=D.items().filter("["+s.attr("uid")+"="+C+"]");B=E.index();E.replaceWith(D.editTemplate(F));A=D.items().eq(B).addClass(z).attr(s.attr("uid"),F.uid);D.editable=A.kendoEditable({model:F,clearContainer:false,errorTemplate:false,target:D}).data("kendoEditable");D.trigger(y,{model:F,item:A})},save:function(){var C=this,B=C.editable,A;if(!B){return}B=B.element;A=C._modelFromElement(B);if(!C.trigger(b,{model:A,item:B})&&C._closeEditable(true)){C.dataSource.sync()}},remove:function(B){var A=this,D=A.dataSource,C=A._modelFromElement(B);if(A.editable){D.cancelChanges(A._modelFromElement(A.editable.element));A._closeEditable(false)}if(!A.trigger(m,{model:C,item:B})){B.hide();D.remove(C);D.sync()}},add:function(){var B=this,C=B.dataSource,A=C.indexOf((C.view()||[])[0]);if(A<0){A=0}B.cancel();C.insert(A,{});B.edit(B.element.children().first())},cancel:function(){var C=this,D=C.dataSource;if(C.editable){var A=C.editable.element;var B=C._modelFromElement(A);if(!C.trigger(d,{model:B,container:A})){D.cancelChanges(B);C._closeEditable(false)}}},_crudHandlers:function(){var A=this,B=g+v;A.element.on(B,".k-edit-button",function(D){var C=f(this).closest("["+s.attr("uid")+"]");A.edit(C);D.preventDefault()});A.element.on(B,".k-delete-button",function(D){var C=f(this).closest("["+s.attr("uid")+"]");A.remove(C);D.preventDefault()});A.element.on(B,".k-update-button",function(C){A.save();C.preventDefault()});A.element.on(B,".k-cancel-button",function(C){A.cancel();C.preventDefault()})},destroy:function(){var A=this;c.fn.destroy.call(A);A._unbindDataSource();A._destroyEditable();A.element.off(v);if(A.pager){A.pager.destroy()}s.destroy(A.element)}});s.ui.plugin(a)})(window.kendo.jQuery);(function(h,i){var t=window.kendo,a=t.ui.Widget,p=t.antiForgeryTokens,c=t.logToConsole,y=/\.([^\.]+)$/,z=".kendoUpload",b="select",n="upload",F="success",l="error",u="complete",f="cancel",E="progress",o="remove";var A=a.extend({init:function(K,J){var M=this;a.fn.init.call(M,K,J);M.name=K.name;M.multiple=M.options.multiple;M.localization=M.options.localization;var O=M.element;M.wrapper=O.closest(".k-upload");if(M.wrapper.length===0){M.wrapper=M._wrapInput(O)}M._activeInput(O);M.toggle(M.options.enabled);var L=M._ns=z+"-"+t.guid();O.closest("form").on("submit"+L,h.proxy(M._onParentFormSubmit,M)).on("reset"+L,h.proxy(M._onParentFormReset,M));if(M.options.async.saveUrl){M._module=M._supportsFormData()?new w(M):new s(M);M._async=true;var N=M.options.files;if(N.length>0){M._renderInitialFiles(N)}}else{M._module=new k(M)}if(M._supportsDrop()){M._setupDropZone()}M.wrapper.on("click",".k-upload-action",h.proxy(M._onFileAction,M)).on("click",".k-upload-selected",h.proxy(M._onUploadSelected,M));if(M.element.val()){M._onInputChange({target:M.element})}},events:[b,n,F,l,u,f,E,o],options:{name:"Upload",enabled:true,multiple:true,showFileList:true,template:"",files:[],async:{removeVerb:"POST",autoUpload:true,withCredentials:true},localization:{select:"Select files...",cancel:"Cancel",retry:"Retry",remove:"Remove",uploadSelectedFiles:"Upload files",dropFilesHere:"drop files here to upload",statusUploading:"uploading",statusUploaded:"uploaded",statusWarning:"warning",statusFailed:"failed",headerStatusUploading:"Uploading...",headerStatusUploaded:"Done"}},setOptions:function(J){var K=this,L=K.element;a.fn.setOptions.call(K,J);K.multiple=K.options.multiple;L.attr("multiple",K._supportsMultiple()?K.multiple:false);K.toggle(K.options.enabled)},enable:function(J){J=typeof(J)==="undefined"?true:J;this.toggle(J)},disable:function(){this.toggle(false)},toggle:function(J){J=typeof(J)==="undefined"?J:!J;this.wrapper.toggleClass("k-state-disabled",J);this.element.prop("disabled",J)},destroy:function(){var J=this;h(document).add(h(".k-dropzone",J.wrapper)).add(J.wrapper.closest("form")).off(J._ns);h(J.element).off(z);a.fn.destroy.call(J)},_addInput:function(L){if(!L[0].nodeType){return}var K=this,J=L.clone().val("");J.insertAfter(K.element).data("kendoUpload",K);h(K.element).hide().attr("tabindex","-1").removeAttr("id").off(z);K._activeInput(J);K.element.focus()},_activeInput:function(J){var K=this,L=K.wrapper;K.element=J;J.attr("multiple",K._supportsMultiple()?K.multiple:false).attr("autocomplete","off").on("click"+z,function(M){if(L.hasClass("k-state-disabled")){M.preventDefault()}}).on("focus"+z,function(){h(this).parent().addClass("k-state-focused")}).on("blur"+z,function(){h(this).parent().removeClass("k-state-focused")}).on("change"+z,h.proxy(K._onInputChange,K)).on("keydown"+z,h.proxy(K._onInputKeyDown,K))},_onInputKeyDown:function(L){var J=this;var K=J.wrapper.find(".k-upload-action:first");if(L.keyCode===t.keys.TAB&&K.length>0){L.preventDefault();K.focus()}},_onInputChange:function(N){var L=this;var J=h(N.target);var K=I(L._inputFiles(J),L._isAsyncNonBatch());var M=L.trigger(b,{files:K});if(M){L._addInput(J);J.remove()}else{L._module.onSelect({target:J},K)}},_onDrop:function(O){var M=O.originalEvent.dataTransfer;var L=this;var K=M.files;var J=I(m(K),L._isAsyncNonBatch());B(O);if(K.length>0){if(!L.multiple&&J.length>1){J.splice(1,J.length-1)}var N=L.trigger(b,{files:J});if(!N){L._module.onSelect({target:h(".k-dropzone",L.wrapper)},J)}}},_isAsyncNonBatch:function(){return(this._async&&!this.options.async.batch)||false},_renderInitialFiles:function(M){var L=this;var J=0;M=I(M,true);for(J=0;J<M.length;J++){var K=M[J];var N=L._enqueueFile(K.name,{fileNames:[K]});N.addClass("k-file-success").data("files",[M[J]]);h(".k-progress",N).width("100%");if(!L.options.template){h(".k-upload-status",N).prepend("<span class='k-upload-pct'>100%</span>")}if(L._supportsRemove()){L._fileAction(N,o)}}},_prepareTemplateData:function(L,N){var O=N.fileNames,M={},K=0,J=0;for(J=0;J<O.length;J++){K+=O[J].size}M.name=L;M.size=K;M.files=N.fileNames;return M},_prepareDefaultFileEntryTemplate:function(J,L){var M="";var K=h("<li class='k-file'><span class='k-progress'></span><span class='k-icon'></span><span class='k-filename' title='"+J+"'>"+J+"</span><strong class='k-upload-status'></strong></li>");if(L.fileNames.length==1&&!!L.fileNames[0].extension){M=L.fileNames[0].extension.substring(1);h(".k-icon",K).addClass("k-i-"+M)}return K},_enqueueFile:function(J,N){var P=this;var L;var O;var M=N.fileNames[0].uid;var S=h(".k-upload-files",P.wrapper);var T=P.options;var R=T.template;var K;var Q;if(S.length===0){S=h("<ul class='k-upload-files k-reset'></ul>").appendTo(P.wrapper);if(!P.options.showFileList){S.hide()}P.wrapper.removeClass("k-upload-empty")}L=h(".k-file",S);if(!R){O=P._prepareDefaultFileEntryTemplate(J,N)}else{K=P._prepareTemplateData(J,N);R=t.template(R);O=h("<li class='k-file'>"+R(K)+"</li>");O.find(".k-upload-action").addClass("k-button k-button-bare");P.angular("compile",function(){return{elements:O,data:[K]}})}O.attr(t.attr("uid"),M).appendTo(S).data(N);if(!P._async){h(".k-progress",O).width("100%")}if(!P.multiple&&L.length>0){Q={files:L.data("fileNames")};if(!P.trigger(o,Q)){P._module.onRemove({target:h(L,P.wrapper)},Q.data)}}return O},_removeFileEntry:function(N){var L=this;var J=N.closest(".k-upload-files");var M;var K;N.remove();M=h(".k-file",J);K=h(".k-file-success, .k-file-error",J);if(K.length===M.length){this._hideUploadButton()}if(M.length===0){J.remove();L.wrapper.addClass("k-upload-empty");L._hideHeaderUploadstatus()}},_fileAction:function(M,L){var K={remove:"k-delete",cancel:"k-cancel",retry:"k-retry"};var J={remove:"k-i-close",cancel:"k-i-close",retry:"k-i-refresh"};if(!K.hasOwnProperty(L)){return}this._clearFileAction(M);if(!this.options.template){M.find(".k-upload-status .k-upload-action").remove();M.find(".k-upload-status").append(this._renderAction(K[L],this.localization[L],J[L]))}else{M.find(".k-upload-action").addClass("k-button k-button-bare").append("<span class='k-icon "+J[L]+" "+K[L]+"' title='"+this.localization[L]+"'></span>").show()}},_fileState:function(N,M){var L=this.localization,J={uploading:{text:L.statusUploading},uploaded:{text:L.statusUploaded},failed:{text:L.statusFailed}},K=J[M];if(K){h(".k-icon:not(.k-delete, .k-cancel, .k-retry)",N).text(K.text)}},_renderAction:function(L,K,J){if(L!==""){return h("<button type='button' class='k-button k-button-bare k-upload-action'><span class='k-icon "+J+" "+L+"' title='"+K+"'></span></button>")}else{return h("<button type='button' class='k-button'>"+K+"</button>")}},_clearFileAction:function(J){h(".k-upload-action",J).empty().hide()},_onFileAction:function(N){var M=this;if(!M.wrapper.hasClass("k-state-disabled")){var K=h(N.target).closest(".k-upload-action"),L=K.find(".k-icon"),O=K.closest(".k-file"),J={files:O.data("fileNames")};if(L.hasClass("k-delete")){if(!M.trigger(o,J)){M._module.onRemove({target:h(O,M.wrapper)},J.data)}}else{if(L.hasClass("k-cancel")){M.trigger(f,J);M._module.onCancel({target:h(O,M.wrapper)});this._checkAllComplete();M._updateHeaderUploadStatus()}else{if(L.hasClass("k-retry")){h(".k-warning",O).remove();M._module.onRetry({target:h(O,M.wrapper)})}}}}return false},_onUploadSelected:function(){var J=this;var K=J.wrapper;if(!K.hasClass("k-state-disabled")){this._module.onSaveSelected()}return false},_onFileProgress:function(K,J){var L;if(!this.options.template){L=h(".k-upload-pct",K.target);if(L.length===0){h(".k-upload-status",K.target).prepend("<span class='k-upload-pct'></span>")}h(".k-upload-pct",K.target).text(J+"%");h(".k-progress",K.target).width(J+"%")}else{h(".k-progress",K.target).width(J+"%")}this.trigger(E,{files:G(K).data("fileNames"),percentComplete:J})},_onUploadSuccess:function(K,J,L){var M=G(K);this._fileState(M,"uploaded");M.removeClass("k-file-progress").addClass("k-file-success");this._updateHeaderUploadStatus();this.trigger(F,{files:M.data("fileNames"),response:J,operation:"upload",XMLHttpRequest:L});if(this._supportsRemove()){this._fileAction(M,o)}else{this._clearFileAction(M)}this._checkAllComplete()},_onUploadError:function(K,L){var M=G(K);var J=h(".k-upload-pct",M);this._fileState(M,"failed");M.removeClass("k-file-progress").addClass("k-file-error");h(".k-progress",M).width("100%");if(J.length>0){J.empty().removeClass("k-upload-pct").addClass("k-icon k-warning")}else{h(".k-upload-status",M).prepend("<span class='k-icon k-warning'></span>")}this._updateHeaderUploadStatus();this._fileAction(M,"retry");this.trigger(l,{operation:"upload",files:M.data("fileNames"),XMLHttpRequest:L});c("Server response: "+L.responseText);this._checkAllComplete()},_showUploadButton:function(){var J=h(".k-upload-selected",this.wrapper);if(J.length===0){J=this._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected")}this.wrapper.append(J)},_hideUploadButton:function(){h(".k-upload-selected",this.wrapper).remove()},_showHeaderUploadStatus:function(){var L=this.localization;var K=h(".k-dropzone",this.wrapper);var J=h(".k-upload-status-total",this.wrapper);if(J.length!==0){J.remove()}J='<strong class="k-upload-status k-upload-status-total">'+L.headerStatusUploading+'<span class="k-icon k-loading">'+L.statusUploading+"</span></strong>";if(K.length>0){K.append(J)}else{h(".k-upload-button",this.wrapper).after(J)}},_updateHeaderUploadStatus:function(){var N=this;var O=N.localization;var L=h(".k-file",N.wrapper).not(".k-file-success, .k-file-error");var M;var J;var K;if(L.length===0){M=h(".k-file.k-file-error",N.wrapper);J=h(".k-upload-status-total",N.wrapper);K=h(".k-icon",J).removeClass("k-loading").addClass((M.length!==0)?"k-warning":"k-i-tick").text((M.length!==0)?O.statusWarning:O.statusUploaded);J.text(N.localization.headerStatusUploaded).append(K)}},_hideHeaderUploadstatus:function(){h(".k-upload-status-total",this.wrapper).remove()},_onParentFormSubmit:function(){var K=this,L=K.element;if(typeof this._module.onAbort!=="undefined"){this._module.onAbort()}if(!L.value){var J=h(L);J.attr("disabled","disabled");window.setTimeout(function(){J.removeAttr("disabled")},0)}},_onParentFormReset:function(){h(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return typeof(FormData)!="undefined"},_supportsMultiple:function(){var J=this._userAgent().indexOf("Windows")>-1;return !t.support.browser.opera&&!(t.support.browser.safari&&J)},_supportsDrop:function(){var L=this._userAgent().toLowerCase(),M=/chrome/.test(L),K=!M&&/safari/.test(L),J=K&&/windows/.test(L);return !J&&this._supportsFormData()&&(this.options.async.saveUrl)},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){var K=this;h(".k-upload-button",this.wrapper).wrap("<div class='k-dropzone'></div>");var J=K._ns;var L=h(".k-dropzone",K.wrapper).append(h("<em>"+K.localization.dropFilesHere+"</em>")).on("dragenter"+J,B).on("dragover"+J,function(M){M.preventDefault()}).on("drop"+J,h.proxy(this._onDrop,this));v(L,J,function(){L.addClass("k-dropzone-hovered")},function(){L.removeClass("k-dropzone-hovered")});v(h(document),J,function(){L.addClass("k-dropzone-active");L.closest(".k-upload").removeClass("k-upload-empty")},function(){L.removeClass("k-dropzone-active");if(h("li.k-file",L.closest(".k-upload")).length===0){L.closest(".k-upload").addClass("k-upload-empty")}})},_supportsRemove:function(){return !!this.options.async.removeUrl},_submitRemove:function(J,M,O,L){var K=this,P=K.options.async.removeField||"fileNames",N=h.extend(M,p());N[P]=J;jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",dataFilter:j,url:this.options.async.removeUrl,traditional:true,data:N,success:O,error:L,xhrFields:{withCredentials:this.options.async.withCredentials}})},_wrapInput:function(J){var L=this;var K=L.options;J.wrap("<div class='k-widget k-upload k-header'><div class='k-button k-upload-button'></div></div>");if(!K.async.saveUrl){J.closest(".k-upload").addClass("k-upload-sync")}J.closest(".k-upload").addClass("k-upload-empty");J.closest(".k-button").append("<span>"+this.localization.select+"</span>");return J.closest(".k-upload")},_checkAllComplete:function(){if(h(".k-file.k-file-progress",this.wrapper).length===0){this.trigger(u)}},_inputFiles:function(J){return q(J)}});var k=function(J){this.name="syncUploadModule";this.element=J.wrapper;this.upload=J;this.element.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")};k.prototype={onSelect:function(M,L){var J=this.upload;var N=h(M.target);J._addInput(N);var K=J._enqueueFile(D(N),{relatedInput:N,fileNames:L});J._fileAction(K,o)},onRemove:function(J){var K=G(J);K.data("relatedInput").remove();this.upload._removeFileEntry(K)}};var s=function(J){this.name="iframeUploadModule";this.element=J.wrapper;this.upload=J;this.iframes=[]};A._frameId=0;s.prototype={onSelect:function(L,K){var J=this.upload,N=h(L.target);var M=this.prepareUpload(N,K);if(J.options.async.autoUpload){this.performUpload(M)}else{if(J._supportsRemove()){this.upload._fileAction(M,o)}J._showUploadButton()}},prepareUpload:function(Q,N){var K=this.upload;var P=h(K.element);var J=K.options.async.saveField||Q.attr("name");K._addInput(Q);Q.attr("name",J);var L=this.createFrame(K.name+"_"+A._frameId++);this.registerFrame(L);var M=this.createForm(K.options.async.saveUrl,L.attr("name")).append(P);var O=K._enqueueFile(D(Q),{frame:L,relatedInput:P,fileNames:N});L.data({form:M,file:O});return O},performUpload:function(P){var O={files:P.data("fileNames")},M=P.data("frame"),K=this.upload;if(!K.trigger(n,O)){K._hideUploadButton();K._showHeaderUploadStatus();M.appendTo(document.body);var N=M.data("form").attr("action",K.options.async.saveUrl).appendTo(document.body);O.data=h.extend({},O.data,p());for(var L in O.data){var J=N.find("input[name='"+L+"']");if(J.length===0){J=h("<input>",{type:"hidden",name:L}).prependTo(N)}J.val(O.data[L])}K._fileAction(P,f);K._fileState(P,"uploading");h(P).removeClass("k-file-error").addClass("k-file-progress");M.one("load",h.proxy(this.onIframeLoad,this));N[0].submit()}else{K._removeFileEntry(M.data("file"));this.cleanupFrame(M);this.unregisterFrame(M)}},onSaveSelected:function(){var J=this;h(".k-file",this.element).each(function(){var L=h(this),K=H(L);if(!K){J.performUpload(L)}})},onIframeLoad:function(M){var K=h(M.target),L;try{L=K.contents().text()}catch(J){L="Error trying to get server response: "+J}this.processResponse(K,L)},processResponse:function(K,L){var N=K.data("file"),J=this,M={responseText:L};C(L,function(O){h.extend(M,{statusText:"OK",status:"200"});J.upload._onFileProgress({target:h(N,J.upload.wrapper)},100);J.upload._onUploadSuccess({target:h(N,J.upload.wrapper)},O,M);J.cleanupFrame(K);J.unregisterFrame(K)},function(){h.extend(M,{statusText:"error",status:"500"});J.upload._onUploadError({target:h(N,J.upload.wrapper)},M)})},onCancel:function(K){var J=h(K.target).data("frame");this.stopFrameSubmit(J);this.cleanupFrame(J);this.unregisterFrame(J);this.upload._removeFileEntry(J.data("file"))},onRetry:function(J){var K=G(J);this.performUpload(K)},onRemove:function(L,K){var M=G(L);var J=M.data("frame");if(J){this.unregisterFrame(J);this.upload._removeFileEntry(M);this.cleanupFrame(J)}else{r(M,this.upload,K)}},onAbort:function(){var K=this.element,J=this;h.each(this.iframes,function(){h("input",this.data("form")).appendTo(K);J.stopFrameSubmit(this[0]);this.data("form").remove();this.remove()});this.iframes=[]},createFrame:function(J){return h("<iframe name='"+J+"' id='"+J+"' style='display:none;' />")},createForm:function(J,K){return h("<form enctype='multipart/form-data' method='POST' action='"+J+"' target='"+K+"'/>")},stopFrameSubmit:function(J){if(typeof(J.stop)!="undefined"){J.stop()}else{if(J.document){J.document.execCommand("Stop")}}},registerFrame:function(J){this.iframes.push(J)},unregisterFrame:function(J){this.iframes=h.grep(this.iframes,function(K){return K.attr("name")!=J.attr("name")})},cleanupFrame:function(K){var J=K.data("form");K.data("file").data("frame",null);setTimeout(function(){J.remove();K.remove()},1)}};var w=function(J){this.name="formDataUploadModule";this.element=J.wrapper;this.upload=J};w.prototype={onSelect:function(O,N){var L=this.upload,M=this,K=h(O.target),J=this.prepareUpload(K,N);h.each(J,function(){if(L.options.async.autoUpload){M.performUpload(this)}else{if(L._supportsRemove()){L._fileAction(this,o)}L._showUploadButton()}})},prepareUpload:function(K,L){var J=this.enqueueFiles(L);if(K.is("input")){h.each(J,function(){h(this).data("relatedInput",K)});K.data("relatedFileEntries",J);this.upload._addInput(K)}return J},enqueueFiles:function(P){var M=this.upload,L,O,N=P.length,J,Q,K=[];if(M.options.async.batch===true){L=h.map(P,function(R){return R.name}).join(", ");Q=M._enqueueFile(L,{fileNames:P});Q.data("files",P);K.push(Q)}else{for(O=0;O<N;O++){J=P[O];L=J.name;Q=M._enqueueFile(L,{fileNames:[J]});Q.data("files",[J]);K.push(Q)}}return K},performUpload:function(O){var J=this.upload,M=this.createFormData(),N=this.createXHR(),L={files:O.data("fileNames"),XMLHttpRequest:N};if(!J.trigger(n,L)){J._fileAction(O,f);J._hideUploadButton();J._showHeaderUploadStatus();if(L.formData){M=L.formData}else{L.data=h.extend({},L.data,p());for(var K in L.data){M.append(K,L.data[K])}this.populateFormData(M,O.data("files"))}J._fileState(O,"uploading");h(O).removeClass("k-file-error").addClass("k-file-progress");this.postFormData(J.options.async.saveUrl,M,O,N)}else{this.removeFileEntry(O)}},onSaveSelected:function(){var J=this;h(".k-file",this.element).each(function(){var L=h(this),K=H(L);if(!K){J.performUpload(L)}})},onCancel:function(J){var K=G(J);this.stopUploadRequest(K);this.removeFileEntry(K)},onRetry:function(J){var K=G(J);this.performUpload(K)},onRemove:function(K,J){var L=G(K);if(L.hasClass("k-file-success")){r(L,this.upload,J)}else{this.removeFileEntry(L)}},createXHR:function(){return new XMLHttpRequest()},postFormData:function(J,L,N,M){var K=this;N.data("request",M);M.addEventListener("load",function(O){K.onRequestSuccess.call(K,O,N)},false);M.addEventListener(l,function(O){K.onRequestError.call(K,O,N)},false);M.upload.addEventListener("progress",function(O){K.onRequestProgress.call(K,O,N)},false);M.open("POST",J,true);M.withCredentials=this.upload.options.async.withCredentials;M.send(L)},createFormData:function(){return new FormData()},populateFormData:function(N,M){var J=this.upload,K,L=M.length;for(K=0;K<L;K++){N.append(J.options.async.saveField||J.name,M[K].rawFile)}return N},onRequestSuccess:function(L,N){var M=L.target,K=this;function J(){K.upload._onUploadError({target:h(N,K.upload.wrapper)},M)}if(M.status>=200&&M.status<=299){C(M.responseText,function(O){K.upload._onFileProgress({target:h(N,K.upload.wrapper)},100);K.upload._onUploadSuccess({target:h(N,K.upload.wrapper)},O,M);K.cleanupFileEntry(N)},J)}else{J()}},onRequestError:function(J,L){var K=J.target;this.upload._onUploadError({target:h(L,this.upload.wrapper)},K)},cleanupFileEntry:function(L){var J=L.data("relatedInput"),K=true;if(J){h.each(J.data("relatedFileEntries")||[],function(){if(this.parent().length>0&&this[0]!=L[0]){K=K&&this.hasClass("k-file-success")}});if(K){J.remove()}}},removeFileEntry:function(J){this.cleanupFileEntry(J);this.upload._removeFileEntry(J)},onRequestProgress:function(K,L){var J=Math.round(K.loaded*100/K.total);this.upload._onFileProgress({target:h(L,this.upload.wrapper)},J)},stopUploadRequest:function(J){J.data("request").abort()}};function D(J){return h.map(q(J),function(K){return K.name}).join(", ")}function q(K){var J=K[0];if(J.files){return m(J.files)}else{return[{name:e(J.value),extension:d(J.value),size:null}]}}function m(J){return h.map(J,function(K){return x(K)})}function x(J){var K=J.name||J.fileName;return{name:t.htmlEncode(K),extension:d(K),size:J.size||J.fileSize,rawFile:J}}function d(K){var J=K.match(y);return J?J[0]:""}function e(J){var K=J.lastIndexOf("\\");return(K!=-1)?J.substr(K+1):J}function I(K,L){var J=t.guid();return h.map(K,function(M){M.uid=L?t.guid():J;return M})}function g(J){return !J.multiple&&h(".k-file",J.wrapper).length>1}function r(P,K,N){if(!K._supportsRemove()){if(g(K)){K._removeFileEntry(P)}return}var M=P.data("fileNames");var J=h.map(M,function(Q){return Q.name});K._submitRemove(J,N,function O(Q,S,R){K._removeFileEntry(P);K.trigger(F,{operation:"remove",files:M,response:Q,XMLHttpRequest:R})},function L(Q){if(g(K)){K._removeFileEntry(P)}K.trigger(l,{operation:"remove",files:M,XMLHttpRequest:Q});c("Server response: "+Q.responseText)})}function C(J,O,L){var N=false,K="";try{K=h.parseJSON(j(J));N=true}catch(M){L()}if(N){O(K)}}function j(J){if(typeof J==="undefined"||J===""){J="{}"}return J}function B(J){J.stopPropagation();J.preventDefault()}function v(L,N,O,K){var J,M;L.on("dragenter"+N,function(){O();M=new Date();if(!J){J=setInterval(function(){var P=new Date()-M;if(P>100){K();clearInterval(J);J=null}},100)}}).on("dragover"+N,function(){M=new Date()})}function H(J){return J.is(".k-file-progress, .k-file-success, .k-file-error")}function G(J){return h(J.target).closest(".k-file")}t.ui.plugin(A)})(window.kendo.jQuery);(function(g,k){var u=window.kendo,c=u.ui.Widget,t=g.isPlainObject,y=g.proxy,D=g.extend,x=u.support.placeholder,E=u.support.browser,a=u.isFunction,w=/(^\/|\/$)/g,s="change",i="apply",l="error",h="click",z=".kendoFileBrowser",f=".kendoBreadcrumbs",p=".kendoSearchBox",q="name",r="size",b="type",B={field:b,dir:"asc"},m=u.template('<li class="k-tile-empty"><strong>${text}</strong></li>'),F='<div class="k-widget k-filebrowser-toolbar k-header k-floatwrap"><div class="k-toolbar-wrap"># if (showUpload) { # <div class="k-widget k-upload"><div class="k-button k-button-icontext k-upload-button"><span class="k-icon k-add"></span>#=messages.uploadFile#<input type="file" name="file" /></div></div># } ## if (showCreate) { #<button type="button" class="k-button k-button-icon"><span class="k-icon k-addfolder" /></button># } ## if (showDelete) { #<button type="button" class="k-button k-button-icon k-state-disabled"><span class="k-icon k-delete" /></button>&nbsp;# } #</div><div class="k-tiles-arrange"><label>#=messages.orderBy#: <select /></label></a></div></div>';D(true,u.data,{schemas:{filebrowser:{data:function(G){return G.items||G||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}});D(true,u.data,{transports:{filebrowser:u.data.RemoteTransport.extend({init:function(G){u.data.RemoteTransport.fn.init.call(this,g.extend(true,{},this.options,G))},_call:function(H,G){G.data=g.extend({},G.data,{path:this.options.path()});if(a(this.options[H])){this.options[H].call(this,G)}else{u.data.RemoteTransport.fn[H].call(this,G)}},read:function(G){this._call("read",G)},create:function(G){this._call("create",G)},destroy:function(G){this._call("destroy",G)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}});function v(I,K,H){var G,J;I.on("dragenter"+z,function(){K();J=new Date();if(!G){G=setInterval(function(){var L=new Date()-J;if(L>100){H();clearInterval(G);G=null}},100)}}).on("dragover"+z,function(){J=new Date()})}var A;if(E.msie&&E.version<8){A=function(G){return G.offsetTop}}else{A=function(G){return G.offsetTop-g(G).height()}}function j(H,G){if(H===k||!H.match(/\/$/)){H=(H||"")+"/"}return H+G}function n(G){if(!G){return""}var H=" bytes";if(G>=1073741824){H=" GB";G/=1073741824}else{if(G>=1048576){H=" MB";G/=1048576}else{if(G>=1024){H=" KB";G/=1024}}}return Math.round(G*100)/100+H}function d(G,H){var I=G[H];if(t(I)){return I.from||I.field||H}return I}var e=c.extend({init:function(H,G){var I=this;G=G||{};c.fn.init.call(I,H,G);I.element.addClass("k-filebrowser");I.element.on(h+z,".k-filebrowser-toolbar button:not(.k-state-disabled):has(.k-delete)",y(I._deleteClick,I)).on(h+z,".k-filebrowser-toolbar button:not(.k-state-disabled):has(.k-addfolder)",y(I._addClick,I)).on("keydown"+z,"li.k-state-selected input",y(I._directoryKeyDown,I)).on("blur"+z,"li.k-state-selected input",y(I._directoryBlur,I));I._dataSource();I.refresh();I.path(I.options.path)},options:{name:"FileBrowser",messages:{uploadFile:"Upload",orderBy:"Arrange by",orderByName:"Name",orderBySize:"Size",directoryNotFound:"A directory with this name was not found.",emptyFolder:"Empty Folder",deleteFile:'Are you sure you want to delete "{0}"?',invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',dropFilesHere:"drop file here to upload",search:"Search"},transport:{},path:"/",fileTypes:"*.*"},events:[l,s,i],destroy:function(){var G=this;c.fn.destroy.call(G);G.dataSource.unbind(l,G._errorHandler);G.element.add(G.list).add(G.toolbar).off(z);u.destroy(G.element)},value:function(){var I=this,H=I._selectedItem(),J,G=I.options.transport.fileUrl;if(H&&H.get(b)==="f"){J=j(I.path(),H.get(q)).replace(w,"");if(G){J=a(G)?G(J):u.format(G,encodeURIComponent(J))}return J}},_selectedItem:function(){var G=this.listView,H=G.select();if(H.length){return this.dataSource.getByUid(H.attr(u.attr("uid")))}},_toolbar:function(){var I=this,G=u.template(F),H=I.options.messages,J=[{text:H.orderByName,value:"name"},{text:H.orderBySize,value:"size"}];I.toolbar=g(G({messages:H,showUpload:I.options.transport.uploadUrl,showCreate:I.options.transport.create,showDelete:I.options.transport.destroy})).appendTo(I.element).find(".k-upload input").kendoUpload({multiple:false,localization:{dropFilesHere:H.dropFilesHere},async:{saveUrl:I.options.transport.uploadUrl,autoUpload:true},upload:y(I._fileUpload,I),error:function(K){I._error({xhr:K.XMLHttpRequest,status:"error"})}}).end();I.upload=I.toolbar.find(".k-upload input").data("kendoUpload");I.arrangeBy=I.toolbar.find(".k-tiles-arrange select").kendoDropDownList({dataSource:J,dataTextField:"text",dataValueField:"value",change:function(){I.orderBy(this.value())}}).data("kendoDropDownList");I._attachDropzoneEvents()},_attachDropzoneEvents:function(){var G=this;if(G.options.transport.uploadUrl){v(g(document.documentElement),g.proxy(G._dropEnter,G),g.proxy(G._dropLeave,G));G._scrollHandler=y(G._positionDropzone,G)}},_dropEnter:function(){this._positionDropzone();g(document).on("scroll"+z,this._scrollHandler)},_dropLeave:function(){this._removeDropzone();g(document).off("scroll"+z,this._scrollHandler)},_positionDropzone:function(){var H=this,G=H.element,I=G.offset();H.toolbar.find(".k-dropzone").addClass("k-filebrowser-dropzone").offset(I).css({width:G[0].clientWidth,height:G[0].clientHeight,lineHeight:G[0].clientHeight+"px"})},_removeDropzone:function(){this.toolbar.find(".k-dropzone").removeClass("k-filebrowser-dropzone").css({width:"",height:"",lineHeight:"",top:"",left:""})},_deleteClick:function(){var I=this,H=I.listView.select(),G=u.format(I.options.messages.deleteFile,H.find("strong").text());if(H.length&&I._showMessage(G,"confirm")){I.listView.remove(H)}},_addClick:function(){this.createDirectory()},_getFieldName:function(G){return d(this.dataSource.reader.model.fields,G)},_fileUpload:function(L){var K=this,O=K.options,G=O.fileTypes,N=new RegExp(("("+G.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),H=L.files[0].name,I=q,M=r,J;if(N.test(H)){L.data={path:K.path()};J=K._createFile(H);if(!J){L.preventDefault()}else{K.upload.one("success",function(P){J.set(I,P.response[K._getFieldName(I)]);J.set(M,P.response[K._getFieldName(M)]);K._tiles=K.listView.items().filter("["+u.attr("type")+"=f]")})}}else{L.preventDefault();K._showMessage(u.format(O.messages.invalidFileType,H,G))}},_findFile:function(J){var L=this.dataSource.data(),H,G,M=b,I=q,K;J=J.toLowerCase();for(H=0,K=L.length;H<K;H++){if(L[H].get(M)==="f"&&L[H].get(I).toLowerCase()===J){G=L[H];break}}return G},_createFile:function(I){var K=this,O,G,L=0,J={},N=b,M=K.dataSource.view(),H=K._findFile(I);if(H&&!K._showMessage(u.format(K.options.messages.overwriteFile,I),"confirm")){return null}if(H){return H}for(O=0,G=M.length;O<G;O++){if(M[O].get(N)==="f"){L=O;break}}J[N]="f";J[q]=I;J[r]=0;return K.dataSource.insert(++L,J)},createDirectory:function(){var K=this,O,H,I=0,M=b,N=q,L=K.dataSource.data(),G=K._nameDirectory(),J=new K.dataSource.reader.model();for(O=0,H=L.length;O<H;O++){if(L[O].get(M)==="d"){I=O}}J.set(M,"d");J.set(N,G);K.listView.one("dataBound",function(){var Q=K.listView.items().filter("["+u.attr("uid")+"="+J.uid+"]"),P=Q.find("input");if(Q.length){this.edit(Q)}this.element.scrollTop(Q.attr("offsetTop")-this.element[0].offsetHeight);setTimeout(function(){P.select()})}).one("save",function(Q){var P=Q.model.get(N);if(!P){Q.model.set(N,G)}else{Q.model.set(N,K._nameExists(P,J.uid)?K._nameDirectory():P)}});K.dataSource.insert(++I,J)},_directoryKeyDown:function(G){if(G.keyCode==13){G.currentTarget.blur()}},_directoryBlur:function(){this.listView.save()},_nameExists:function(I,J){var L=this.dataSource.data(),M=b,H=q,G,K;for(G=0,K=L.length;G<K;G++){if(L[G].get(M)==="d"&&L[G].get(H).toLowerCase()===I.toLowerCase()&&L[G].uid!==J){return true}}return false},_nameDirectory:function(){var J="New folder",M=this.dataSource.data(),I=[],N=b,H=q,K,G,L;for(G=0,L=M.length;G<L;G++){if(M[G].get(N)==="d"&&M[G].get(H).toLowerCase().indexOf(J.toLowerCase())>-1){I.push(M[G].get(H))}}if(g.inArray(J,I)>-1){G=2;do{K=J+" ("+G+")";G++}while(g.inArray(K,I)>-1);J=K}return J},orderBy:function(G){this.dataSource.sort([{field:b,dir:"asc"},{field:G,dir:"asc"}])},search:function(G){this.dataSource.filter({field:q,operator:"contains",value:G})},_content:function(){var G=this;G.list=g('<ul class="k-reset k-floats k-tiles" />').appendTo(G.element).on("dblclick"+z,"li",y(G._dblClick,G));G.listView=new u.ui.ListView(G.list,{dataSource:G.dataSource,template:G._itemTmpl(),editTemplate:G._editTmpl(),selectable:true,autoBind:false,dataBinding:function(H){G.toolbar.find(".k-delete").parent().addClass("k-state-disabled");if(H.action==="remove"||H.action==="sync"){H.preventDefault()}},dataBound:function(){if(G.dataSource.view().length){G._tiles=this.items().filter("["+u.attr("type")+"=f]")}else{this.wrapper.append(m({text:G.options.messages.emptyFolder}))}},change:y(G._listViewChange,G)})},_dblClick:function(J){var I=this,G=g(J.currentTarget);if(G.hasClass("k-edit-item")){I._directoryBlur()}if(G.filter("["+u.attr("type")+"=d]").length){var H=I.dataSource.getByUid(G.attr(u.attr("uid")));if(H){I.path(j(I.path(),H.get(q)));I.breadcrumbs.value(I.path())}}else{if(G.filter("["+u.attr("type")+"=f]").length){I.trigger(i)}}},_listViewChange:function(){var G=this._selectedItem();if(G){this.toolbar.find(".k-delete").parent().removeClass("k-state-disabled");if(G.get(b)==="f"){this.trigger(s)}}},_dataSource:function(){var J=this,H=J.options,M=H.transport,G=D({},B),K={field:q,dir:"asc"},I,L={type:M.type||"filebrowser",sort:[G,K]};if(t(M)){M.path=y(J.path,J);L.transport=M}if(t(H.schema)){L.schema=H.schema}else{if(M.type&&t(u.data.schemas[M.type])){I=u.data.schemas[M.type]}}if(J.dataSource&&J._errorHandler){J.dataSource.unbind(l,J._errorHandler)}else{J._errorHandler=y(J._error,J)}J.dataSource=u.data.DataSource.create(L).bind(l,J._errorHandler)},_navigation:function(){var H=this,G=g('<div class="k-floatwrap"><input/><input/></div>').appendTo(this.element);H.breadcrumbs=G.find("input:first").kendoBreadcrumbs({value:H.options.path,change:function(){H.path(this.value())}}).data("kendoBreadcrumbs");H.searchBox=G.parent().find("input:last").kendoSearchBox({label:H.options.messages.search,change:function(){H.search(this.value())}}).data("kendoSearchBox")},_error:function(I){var H=this,G;if(!H.trigger(l,I)){G=I.xhr.status;if(I.status=="error"){if(G=="404"){H._showMessage(H.options.messages.directoryNotFound)}else{if(G!="0"){H._showMessage("Error! The requested URL returned "+G+" - "+I.xhr.statusText)}}}else{if(G=="timeout"){H._showMessage("Error! Server timeout.")}}}},_showMessage:function(H,G){return window[G||"alert"](H)},refresh:function(){var G=this;G._navigation();G._toolbar();G._content()},_editTmpl:function(){var G='<li class="k-tile k-state-selected" '+u.attr("uid")+'="#=uid#" ';G+=u.attr("type")+'="${'+b+'}">';G+="#if("+b+' == "d") { #';G+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>';G+="#}else{#";G+='<div class="k-thumb"><span class="k-icon k-loading"></span></div>';G+="#}#";G+="#if("+b+' == "d") { #';G+='<input class="k-input" '+u.attr("bind")+'="value:'+q+'"/>';G+="#}#";G+="</li>";return y(u.template(G),{sizeFormatter:n})},_itemTmpl:function(){var H=this,G='<li class="k-tile" '+u.attr("uid")+'="#=uid#" ';G+=u.attr("type")+'="${'+b+'}">';G+="#if("+b+' == "d") { #';G+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>';G+="#}else{#";G+='<div class="k-thumb"><span class="k-icon k-file"></span></div>';G+="#}#";G+="<strong>${"+q+"}</strong>";G+="#if("+b+' == "f") { # <span class="k-filesize">${this.sizeFormatter('+r+")}</span> #}#";G+="</li>";return y(u.template(G),{sizeFormatter:n})},path:function(H){var G=this,I=G._path||"";if(H!==k){G._path=H.replace(w,"")+"/";G.dataSource.read({path:G._path});return}if(I){I=I.replace(w,"")}return I==="/"||I===""?"":(I+"/")}});var o=c.extend({init:function(H,G){var I=this;G=G||{};c.fn.init.call(I,H,G);if(x){I.element.attr("placeholder",I.options.label)}I._wrapper();I.element.on("keydown"+p,y(I._keydown,I)).on("change"+p,y(I._updateValue,I));I.wrapper.on(h+p,"a",y(I._click,I));if(!x){I.element.on("focus"+p,y(I._focus,I)).on("blur"+p,y(I._blur,I))}},options:{name:"SearchBox",label:"Search",value:""},events:[s],destroy:function(){var G=this;G.wrapper.add(G.element).add(G.label).off(p);c.fn.destroy.call(G)},_keydown:function(G){if(G.keyCode===13){this._updateValue()}},_click:function(G){G.preventDefault();this._updateValue()},_updateValue:function(){var G=this,H=G.element.val();if(H!==G.value()){G.value(H);G.trigger(s)}},_blur:function(){this._updateValue();this._toggleLabel()},_toggleLabel:function(){if(!x){this.label.toggle(!this.element.val())}},_focus:function(){this.label.hide()},_wrapper:function(){var G=this.element,H=G.parents(".k-search-wrap");G[0].style.width="";G.addClass("k-input");if(!H.length){H=G.wrap(g('<div class="k-widget k-search-wrap k-textbox"/>')).parent();if(!x){g('<label style="display:block">'+this.options.label+"</label>").insertBefore(G)}g('<a href="#" class="k-icon k-i-search k-search"/>').appendTo(H)}this.wrapper=H;this.label=H.find(">label")},value:function(H){var G=this;if(H!==k){G.options.value=H;G.element.val(H);G._toggleLabel();return}return G.options.value}});var C=c.extend({init:function(H,G){var I=this;G=G||{};c.fn.init.call(I,H,G);I._wrapper();I.wrapper.on("focus"+f,"input",y(I._focus,I)).on("blur"+f,"input",y(I._blur,I)).on("keydown"+f,"input",y(I._keydown,I)).on(h+f,"a.k-i-arrow-n:first",y(I._rootClick,I)).on(h+f,"a:not(.k-i-arrow-n)",y(I._click,I));I.value(I.options.value)},options:{name:"Breadcrumbs",gap:50},events:[s],destroy:function(){var G=this;c.fn.destroy.call(G);G.wrapper.add(G.wrapper.find("input")).add(G.wrapper.find("a")).off(f)},_update:function(G){G=(G||"").charAt(0)==="/"?G:("/"+(G||""));if(G!==this.value()){this.value(G);this.trigger(s)}},_click:function(G){G.preventDefault();this._update(this._path(g(G.target).prevAll("a:not(.k-i-arrow-n)").addBack()))},_rootClick:function(G){G.preventDefault();this._update("")},_focus:function(){var H=this,G=H.element;H.overlay.hide();H.element.val(H.value());setTimeout(function(){G.select()})},_blur:function(){if(this.overlay.is(":visible")){return}var H=this,G=H.element,I=G.val().replace(/\/{2,}/g,"/");H.overlay.show();G.val("");H._update(I)},_keydown:function(H){var G=this;if(H.keyCode===13){G._blur();setTimeout(function(){G.overlay.find("a:first").focus()})}},_wrapper:function(){var H=this.element,I=H.parents(".k-breadcrumbs"),G;H[0].style.width="";H.addClass("k-input");if(!I.length){I=H.wrap(g('<div class="k-widget k-breadcrumbs k-textbox"/>')).parent()}G=I.find(".k-breadcrumbs-wrap");if(!G.length){G=g('<div class="k-breadcrumbs-wrap"/>').appendTo(I)}this.wrapper=I;this.overlay=G},refresh:function(){var I="",L=this.value(),H,K,G,J;if(L===k||!L.match(/^\//)){L="/"+(L||"")}H=L.split("/");for(G=0,J=H.length;G<J;G++){K=H[G];if(K){if(!I){I+='<a href="#" class="k-icon k-i-arrow-n">root</a>'}I+='<a class="k-link" href="#">'+H[G]+"</a>";I+='<span class="k-icon k-i-arrow-e">&gt;</span>'}}this.overlay.empty().append(g(I));this._adjustSectionWidth()},_adjustSectionWidth:function(){var J=this,K=J.wrapper,I=K.width()-J.options.gap,H=J.overlay.find("a"),G;H.each(function(L){G=g(this);if(G.parent().width()>I){if(L==H.length-1){G.width(I)}else{G.prev().addBack().hide()}}})},value:function(G){if(G!==k){this._value=G.replace(/\/{2,}/g,"/");this.refresh();return}return this._value},_path:function(G){return"/"+g.map(G,function(H){return g(H).text()}).join("/")}});u.ui.plugin(e);u.ui.plugin(C);u.ui.plugin(o)})(window.kendo.jQuery);(function(f,j){var s=window.kendo,c=s.ui.Widget,e=s.ui.FileBrowser,r=f.isPlainObject,w=f.proxy,A=f.extend,v=s.support.placeholder,B=s.support.browser,a=s.isFunction,u=/(^\/|\/$)/g,q="change",h="apply",l="error",g="click",x=".kendoImageBrowser",o="name",p="size",b="type",z={field:b,dir:"asc"},m=s.template('<li class="k-tile-empty"><strong>${text}</strong></li>'),C='<div class="k-widget k-filebrowser-toolbar k-header k-floatwrap"><div class="k-toolbar-wrap"># if (showUpload) { # <div class="k-widget k-upload"><div class="k-button k-button-icontext k-upload-button"><span class="k-icon k-add"></span>#=messages.uploadFile#<input type="file" name="file" /></div></div># } ## if (showCreate) { #<button type="button" class="k-button k-button-icon"><span class="k-icon k-addfolder" /></button># } ## if (showDelete) { #<button type="button" class="k-button k-button-icon k-state-disabled"><span class="k-icon k-delete" /></button>&nbsp;# } #</div><div class="k-tiles-arrange"><label>#=messages.orderBy#: <select /></label></a></div></div>';A(true,s.data,{schemas:{imagebrowser:{data:function(D){return D.items||D||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}});A(true,s.data,{transports:{imagebrowser:s.data.RemoteTransport.extend({init:function(D){s.data.RemoteTransport.fn.init.call(this,f.extend(true,{},this.options,D))},_call:function(E,D){D.data=f.extend({},D.data,{path:this.options.path()});if(a(this.options[E])){this.options[E].call(this,D)}else{s.data.RemoteTransport.fn[E].call(this,D)}},read:function(D){this._call("read",D)},create:function(D){this._call("create",D)},destroy:function(D){this._call("destroy",D)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}});function t(F,H,E){var D,G;F.on("dragenter"+x,function(){H();G=new Date();if(!D){D=setInterval(function(){var I=new Date()-G;if(I>100){E();clearInterval(D);D=null}},100)}}).on("dragover"+x,function(){G=new Date()})}var y;if(B.msie&&B.version<8){y=function(D){return D.offsetTop}}else{y=function(D){return D.offsetTop-f(D).height()}}function i(E,D){if(E===j||!E.match(/\/$/)){E=(E||"")+"/"}return E+D}function n(D){if(!D){return""}var E=" bytes";if(D>=1073741824){E=" GB";D/=1073741824}else{if(D>=1048576){E=" MB";D/=1048576}else{if(D>=1024){E=" KB";D/=1024}}}return Math.round(D*100)/100+E}function d(D,E){var F=D[E];if(r(F)){return F.from||F.field||E}return F}var k=e.extend({init:function(E,D){var F=this;D=D||{};e.fn.init.call(F,E,D);F.element.addClass("k-imagebrowser")},options:{name:"ImageBrowser",fileTypes:"*.png,*.gif,*.jpg,*.jpeg"},value:function(){var F=this,E=F._selectedItem(),G,D=F.options.transport.imageUrl;if(E&&E.get(b)==="f"){G=i(F.path(),E.get(o)).replace(u,"");if(D){G=a(D)?D(G):s.format(D,encodeURIComponent(G))}return G}},_fileUpload:function(I){var H=this,L=H.options,D=L.fileTypes,K=new RegExp(("("+D.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),E=I.files[0].name,F=o,J=p,G;if(K.test(E)){I.data={path:H.path()};G=H._createFile(E);if(!G){I.preventDefault()}else{G._uploading=true;H.upload.one("success",function(M){delete G._uploading;G.set(F,M.response[H._getFieldName(F)]);G.set(J,M.response[H._getFieldName(J)]);H._tiles=H.listView.items().filter("["+s.attr("type")+"=f]");H._scroll()})}}else{I.preventDefault();H._showMessage(s.format(L.messages.invalidFileType,E,D))}},_content:function(){var D=this;D.list=f('<ul class="k-reset k-floats k-tiles" />').appendTo(D.element).on("scroll"+x,w(D._scroll,D)).on("dblclick"+x,"li",w(D._dblClick,D));D.listView=new s.ui.ListView(D.list,{dataSource:D.dataSource,template:D._itemTmpl(),editTemplate:D._editTmpl(),selectable:true,autoBind:false,dataBinding:function(E){D.toolbar.find(".k-delete").parent().addClass("k-state-disabled");if(E.action==="remove"||E.action==="sync"){E.preventDefault()}},dataBound:function(){if(D.dataSource.view().length){D._tiles=this.items().filter("["+s.attr("type")+"=f]");D._scroll()}else{this.wrapper.append(m({text:D.options.messages.emptyFolder}))}},change:w(D._listViewChange,D)})},_dataSource:function(){var G=this,E=G.options,J=E.transport,D=A({},z),H={field:o,dir:"asc"},F,I={type:J.type||"imagebrowser",sort:[D,H]};if(r(J)){J.path=w(G.path,G);I.transport=J}if(r(E.schema)){I.schema=E.schema}else{if(J.type&&r(s.data.schemas[J.type])){F=s.data.schemas[J.type]}}if(G.dataSource&&G._errorHandler){G.dataSource.unbind(l,G._errorHandler)}else{G._errorHandler=w(G._error,G)}G.dataSource=s.data.DataSource.create(I).bind(l,G._errorHandler)},_loadImage:function(D){var J=this,I=f(D),H=J.dataSource.getByUid(I.attr(s.attr("uid"))),G=H.get(o),K=J.options.transport.thumbnailUrl,F=f("<img />",{alt:G}),E="?";if(H._uploading){return}F.hide().on("load"+x,function(){f(this).prev().remove().end().addClass("k-image").fadeIn()});I.find(".k-loading").after(F);if(a(K)){K=K(J.path(),encodeURIComponent(G))}else{if(K.indexOf("?")>=0){E="&"}K=K+E+"path="+J.path()+encodeURIComponent(G)}F.attr("src",K);D.loaded=true},_scroll:function(){var D=this;if(D.options.transport&&D.options.transport.thumbnailUrl){clearTimeout(D._timeout);D._timeout=setTimeout(function(){var F=D.list.outerHeight(),E=D.list.scrollTop(),G=E+F;D._tiles.each(function(){var I=y(this),H=I+this.offsetHeight;if((I>=E&&I<G)||(H>=E&&H<G)){D._loadImage(this)}if(I>G){return false}});D._tiles=D._tiles.filter(function(){return !this.loaded})},250)}},_itemTmpl:function(){var E=this,D='<li class="k-tile" '+s.attr("uid")+'="#=uid#" ';D+=s.attr("type")+'="${'+b+'}">';D+="#if("+b+' == "d") { #';D+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>';D+="#}else{#";if(E.options.transport&&E.options.transport.thumbnailUrl){D+='<div class="k-thumb"><span class="k-icon k-loading"></span></div>'}else{D+='<div class="k-thumb"><span class="k-icon k-file"></span></div>'}D+="#}#";D+="<strong>${"+o+"}</strong>";D+="#if("+b+' == "f") { # <span class="k-filesize">${this.sizeFormatter('+p+")}</span> #}#";D+="</li>";return w(s.template(D),{sizeFormatter:n})}});s.ui.plugin(k)})(window.kendo.jQuery);(function(f,g){var m=window.kendo,r=m.Class,c=m.ui.Widget,h=m.support.mobileOS,u=m.support.browser,s=f.extend,p=f.proxy,k=m.deepExtend,q=".kendoEditor",l=m.keys;var n=r.extend({init:function(w){this.options=w},getHtml:function(){var w=this.options;return m.template(w.template,{useWithBlock:false})(w)}});var j={editorWrapperTemplate:'<table cellspacing="4" cellpadding="0" class="k-widget k-editor k-header" role="presentation"><tbody><tr role="presentation"><td class="k-editor-toolbar-wrap" role="presentation"><ul class="k-editor-toolbar" role="toolbar" /></td></tr><tr><td class="k-editable-area" /></tr></tbody></table>',buttonTemplate:'<a href="" role="button" class="k-tool"#= data.popup ? " data-popup" : "" # unselectable="on" title="#= data.title #"><span unselectable="on" class="k-tool-icon #= data.cssClass #"></span><span class="k-tool-text">#= data.title #</span></a>',colorPickerTemplate:'<div class="k-colorpicker #= data.cssClass #" />',comboBoxTemplate:'<select title="#= data.title #" class="#= data.cssClass #" />',dropDownListTemplate:'<span class="k-editor-dropdown"><select title="#= data.title #" class="#= data.cssClass #" /></span>',separatorTemplate:'<span class="k-separator" />',overflowAnchorTemplate:'<a href="" role="button" class="k-tool k-overflow-anchor" data-popup unselectable="on"><span unselectable="on" class="k-icon k-i-more"></span></a>',formatByName:function(w,y){for(var x=0;x<y.length;x++){if(f.inArray(w,y[x].tags)>=0){return y[x]}}},registerTool:function(x,w){var y=w.options;if(y&&y.template){y.template.options.cssClass="k-"+x}if(!w.name){w.options.name=x;w.name=x.toLowerCase()}o.defaultTools[x]=w},registerFormat:function(w,x){o.fn.options.formats[w]=x}};var t={bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertFile:"Insert file",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",formatting:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",editAreaTitle:"Editable area. Press F10 for toolbar.",uploadFile:"Upload",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",imageWidth:"Width (px)",imageHeight:"Height (px)",fileWebAddress:"Web address",fileTitle:"Title",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogCancel:"Cancel",createTable:"Create table",createTableHint:"Create a {0} x {1} table",addColumnLeft:"Add column on the left",addColumnRight:"Add column on the right",addRowAbove:"Add row above",addRowBelow:"Add row below",deleteRow:"Delete row",deleteColumn:"Delete column"};var a=!h||(h.ios&&h.flatVersion>=500)||(!h.ios&&typeof(document.documentElement.contentEditable)!="undefined");var d={basic:["bold","italic","underline"],alignment:["justifyLeft","justifyCenter","justifyRight"],lists:["insertUnorderedList","insertOrderedList"],indenting:["indent","outdent"],links:["createLink","unlink"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"]};var o=c.extend({init:function(A,F){var B=this,D,x=m.ui.editor,E,w,C;var z;var y=x.Dom;if(!a){return}c.fn.init.call(B,A,F);B.options=k({},B.options,F);A=B.element;z=A[0];C=y.name(z);A.closest("form").on("submit"+q,function(){B.update()});w=s({},B.options);w.editor=B;if(C=="textarea"){B._wrapTextarea();E=B.wrapper.find(".k-editor-toolbar");if(z.id){E.attr("aria-controls",z.id)}}else{B.element.attr("contenteditable",true).addClass("k-widget k-editor k-editor-inline");w.popup=true;E=f('<ul class="k-editor-toolbar" role="toolbar" />').insertBefore(A)}B.toolbar=new x.Toolbar(E[0],w);B.toolbar.bindTo(B);if(C=="textarea"){setTimeout(function(){var G=B.wrapper[0].style.height;var H=parseInt(G,10);var I=B.wrapper.height();if(G.indexOf("px")>0&&!isNaN(H)&&I>H){B.wrapper.height(H-(I-H))}})}B._resizable();B._initializeContentElement(B);B.keyboard=new x.Keyboard([new x.BackspaceHandler(B),new x.TypingHandler(B),new x.SystemHandler(B)]);B.clipboard=new x.Clipboard(this);B.undoRedoStack=new x.UndoRedoStack();if(F&&F.value){D=F.value}else{if(B.textarea){D=z.value;if(B.options.encoded&&f.trim(z.defaultValue).length){D=z.defaultValue}D=D.replace(/[\r\n\v\f\t ]+/ig," ")}else{D=z.innerHTML}}B.value(D);f(document).on("mousedown",p(B._endTyping,B)).on("mouseup",p(B._mouseup,B));B.toolbar.resize();m.notify(B)},_endTyping:function(){var w=this.keyboard;try{if(w.isTypingInProgress()){w.endTyping(true);this.saveSelection()}}catch(x){}},_selectionChange:function(){if(!u.msie){m.ui.editor.Dom.ensureTrailingBreaks(this.body)}this._selectionStarted=false;this.saveSelection();this.trigger("select",{})},_resizable:function(){var w=this.options.resizable;var x=f.isPlainObject(w)?(w.content===g||w.content===true):w;if(x&&this.textarea){f("<div class='k-resize-handle'><span class='k-icon k-resize-se' /></div>").insertAfter(this.textarea);this.wrapper.kendoResizable(s({},this.options.resizable,{start:function(z){var y=this.editor=f(z.currentTarget).closest(".k-editor");this.initialSize=y.height();y.find("td:last").append("<div class='k-overlay' />")},resize:function(B){var C=B.y.initialDelta;var z=this.initialSize+C;var A=this.options.min||0;var y=this.options.max||Infinity;z=Math.min(y,Math.max(A,z));this.editor.height(z)},resizeend:function(y){this.editor.find(".k-overlay").remove();this.editor=null}}))}},_wrapTextarea:function(){var D=this,z=D.element,y=z[0].style.width,C=z[0].style.height,B=j.editorWrapperTemplate,x=f(B).insertBefore(z).width(y).height(C),A=x.find(".k-editable-area");z.attr("autocomplete","off").appendTo(A).addClass("k-content k-raw-content").css("display","none");D.textarea=z;D.wrapper=x},_createContentElement:function(E){var A=this;var z,x,C;var D=A.textarea;var B=A.options.domain;var y=B||document.domain;var F="";var w='javascript:""';if(B||y!=location.hostname){F='<script>document.domain="'+y+'"<\/script>';w="javascript:document.write('"+F+"')"}D.hide();z=f("<iframe />",{title:A.options.messages.editAreaTitle,frameBorder:"0"})[0];f(z).css("display","").addClass("k-content").insertBefore(D);z.src=w;x=z.contentWindow||z;C=x.document||z.contentDocument;f(z).one("load",function(){A.toolbar.decorateFrom(C.body)});C.open();C.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0;margin:0;height:100%;min-height:100%;}body{font-size:12px;font-family:Verdana,Geneva,sans-serif;padding-top:1px;margin-top:-1px;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+(m.support.isRtl(D)?"direction:rtl;":"")+"}h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}p{margin:0 0 1em;padding:0 .2em}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}ul,ol{padding-left:2.5em}span{-ms-high-contrast-adjust:none;}a{color:#00a}code{font-size:1.23em}telerik\\3Ascript{display: none;}.k-table{table-layout:fixed;width:100%;border-spacing:0;margin: 0 0 1em;}.k-table td{min-width:1px;padding:.2em .3em;}.k-table,.k-table td{outline:0;border: 1px dotted #ccc;}.k-table p{margin:0;padding:0;}</style>"+F+"<script>(function(d,c){d[c]('header'),d[c]('article'),d[c]('nav'),d[c]('section'),d[c]('footer');})(document, 'createElement');<\/script>"+f.map(E,function(G){return"<link rel='stylesheet' href='"+G+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>");C.close();return x},_blur:function(){var x=this.textarea;var w=x?x.val():this._oldValue;var y=this.options.encoded?this.encodedValue():this.value();this.update();if(x){x.trigger("blur")}if(y!=w){this.trigger("change")}},_spellCorrect:function(y){var x;var w=false;f(y.body).on("contextmenu"+q,function(z){y.one("select",function(){x=null});y._spellCorrectTimeout=setTimeout(function(){x=new m.ui.editor.RestorePoint(y.getRange());w=false},10)}).on("input"+q,function(z){if(!x){return}if(m.support.browser.mozilla&&!w){w=true;return}m.ui.editor._finishUpdate(y,x)})},_initializeContentElement:function(){var w=this;var z;var x;if(w.textarea){w.window=w._createContentElement(w.options.stylesheets);z=w.document=w.window.contentDocument||w.window.document;w.body=z.body;x=w.window;f(z).on("mouseup"+q,p(w._mouseup,w))}else{w.window=window;z=w.document=document;w.body=w.element[0];x=w.body;w.toolbar.decorateFrom(w.body)}f(x).on("blur"+q,p(this._blur,this));try{z.execCommand("enableInlineTableEditing",null,false)}catch(y){}if(m.support.touch){f(z).on("selectionchange"+q,p(this._selectionChange,this)).on("keydown"+q,function(){if(m._activeElement()!=z.body){w.window.focus()}})}this._spellCorrect(w);f(w.body).on("dragstart"+q,false).on("keydown"+q,function(F){var B;if((F.keyCode===l.BACKSPACE||F.keyCode===l.DELETE)&&w.body.getAttribute("contenteditable")!=="true"){return false}if(F.keyCode===l.F10){setTimeout(p(w.toolbar.focus,w.toolbar),100);F.preventDefault();return}else{if(F.keyCode==l.LEFT||F.keyCode==l.RIGHT){B=w.getRange();var E=F.keyCode==l.LEFT;var A=B[E?"startContainer":"endContainer"];var G=B[E?"startOffset":"endOffset"];var D=E?-1:1;if(E){G-=1}if(G+D>0&&A.nodeType==3&&A.nodeValue[G]=="\ufeff"){B.setStart(A,G+D);B.collapse(true);w.selectRange(B)}}}var C=w.keyboard.toolFromShortcut(w.toolbar.tools,F);if(C){F.preventDefault();if(!/^(undo|redo)$/.test(C)){w.keyboard.endTyping(true)}w.trigger("keydown",F);w.exec(C);return false}w.keyboard.clearTimeout();w.keyboard.keydown(F)}).on("keyup"+q,function(B){var A=[8,9,33,34,35,36,37,38,39,40,40,45,46];if(f.inArray(B.keyCode,A)>-1||(B.keyCode==65&&B.ctrlKey&&!B.altKey&&!B.shiftKey)){w._selectionChange()}w.keyboard.keyup(B)}).on("mousedown"+q,function(B){w._selectionStarted=true;if(u.gecko){return}var A=f(B.target);if((B.which==2||(B.which==1&&B.ctrlKey))&&A.is("a[href]")){window.open(A.attr("href"),"_new")}}).on("click"+q,function(B){var C=m.ui.editor.Dom,A;if(C.name(B.target)==="img"){A=w.createRange();A.selectNode(B.target);w.selectRange(A)}}).on("cut"+q+" paste"+q,function(A){w.clipboard["on"+A.type](A)}).on("focusin"+q,function(){f(this).addClass("k-state-active");w.toolbar.show()}).on("focusout"+q,function(){setTimeout(function(){var C=m._activeElement();var A=w.body;var B=w.toolbar;if(C!=A&&!f.contains(A,C)&&!f(C).is(".k-editortoolbar-dragHandle")&&!B.focused()){f(A).removeClass("k-state-active");B.hide()}},10)})},_mouseup:function(){var w=this;if(w._selectionStarted){setTimeout(function(){w._selectionChange()},1)}},refresh:function(){var w=this;if(w.textarea){w.textarea.val(w.value());w.wrapper.find("iframe").remove();w._initializeContentElement(w);w.value(w.textarea.val())}},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:t,formats:{},encoded:true,domain:null,resizable:false,serialization:{entities:true,semantic:true,scripts:false},stylesheets:[],dialogOptions:{modal:true,resizable:false,draggable:true,animation:false},fontName:[{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"'Courier New',Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:"'Times New Roman',Times,serif"},{text:"Trebuchet MS",value:"'Trebuchet MS',Helvetica,sans-serif"},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:[].concat.call(["formatting"],d.basic,d.alignment,d.lists,d.indenting,d.links,["insertImage"],d.tables)},destroy:function(){var w=this;c.fn.destroy.call(w);f(w.window).add(w.document).add(w.body).add(w.wrapper).add(w.element.closest("form")).off(q);f(document).off("mousedown",p(w._endTyping,w)).off("mouseup",p(w._mouseup,w));clearTimeout(this._spellCorrectTimeout);w._focusOutside();w.toolbar.destroy();m.destroy(w.wrapper)},_focusOutside:function(){if(m.support.browser.msie&&this.textarea){var w=f("<input style='position:absolute;left:-10px;top:-10px;width:1px;height:1px;font-size:0;border:0;' />").appendTo(document.body).focus();w.blur().remove()}},state:function(A){var x=o.defaultTools[A];var B=x&&(x.options.finder||x.finder);var y=m.ui.editor.RangeUtils;var w,z;if(B){w=this.getRange();z=y.textNodes(w);if(!z.length&&w.collapsed){z=[w.startContainer]}return B.getFormat?B.getFormat(z):B.isFormatted(z)}return false},value:function(y){var w=this.body,A=m.ui.editor,z=A.Dom,x=A.Serializer.domToXhtml(w,this.options.serialization);if(y===g){return x}if(y==x){return}A.Serializer.htmlToDom(y,w);if(!u.msie){m.ui.editor.Dom.ensureTrailingBreaks(this.body)}this.selectionRestorePoint=null;this.update();this.toolbar.refreshTools()},saveSelection:function(y){y=y||this.getRange();var x=y.commonAncestorContainer,w=this.body;if(x==w||f.contains(w,x)){this.selectionRestorePoint=new m.ui.editor.RestorePoint(y)}},_focusBody:function(){var w=this.body;var x=this.wrapper&&this.wrapper.find("iframe")[0];var z=this.document.documentElement;var y=m._activeElement();if(y!=w&&y!=x){var A=z.scrollTop;w.focus();z.scrollTop=A}},restoreSelection:function(){this._focusBody();if(this.selectionRestorePoint){this.selectRange(this.selectionRestorePoint.toRange())}},focus:function(){this.restoreSelection()},update:function(w){w=w||this.options.encoded?this.encodedValue():this.value();if(this.textarea){this.textarea.val(w)}else{this._oldValue=w}},encodedValue:function(){return m.ui.editor.Dom.encode(this.value())},createRange:function(w){return m.ui.editor.RangeUtils.createRange(w||this.document)},getSelection:function(){return m.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRange:function(w){this._focusBody();var x=this.getSelection();x.removeAllRanges();x.addRange(w);this.saveSelection(w)},getRange:function(){var x=this.getSelection(),w=x&&x.rangeCount>0?x.getRangeAt(0):this.createRange(),y=this.document;if(w.startContainer==y&&w.endContainer==y&&!w.startOffset&&!w.endOffset){w.setStart(this.body,0);w.collapse(true)}return w},selectedHtml:function(){return m.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(x,w){var y=new m.ui.editor.InsertHtmlCommand(f.extend({range:this.getRange(),html:x},w));y.editor=this;y.exec()},exec:function(y,C){var z=this;var B=null;var w,x,A;if(!y){throw new Error("kendoEditor.exec(): `name` parameter cannot be empty")}if(z.body.getAttribute("contenteditable")!=="true"){return false}y=y.toLowerCase();if(!z.keyboard.isTypingInProgress()){z.restoreSelection()}x=z.toolbar.toolById(y);if(!x){for(var D in o.defaultTools){if(D.toLowerCase()==y){x=o.defaultTools[D];break}}}if(x){w=z.getRange();if(x.command){B=x.command(s({range:w},C))}A=z.trigger("execute",{name:y,command:B});if(A){return}if(/^(undo|redo)$/i.test(y)){z.undoRedoStack[y]()}else{if(B){if(!B.managesUndoRedo){z.undoRedoStack.push(B)}B.editor=z;B.exec();if(B.async){B.change=p(z._selectionChange,z);return}}}z._selectionChange()}}});o.defaultTools={undo:{options:{key:"Z",ctrl:true}},redo:{options:{key:"Y",ctrl:true}}};m.ui.plugin(o);var i=r.extend({init:function(w){this.options=w},initialize:function(x,w){x.attr({unselectable:"on",title:w.title})},command:function(w){return new this.options.command(w)},update:f.noop});i.exec=function(x,w,y){x.exec(w,{value:y})};var e=i.extend({init:function(w){i.fn.init.call(this,w)},command:function(w){var x=this;return new m.ui.editor.FormatCommand(s(w,{formatter:x.options.formatter}))},update:function(y,x){var w=this.options.finder.isFormatted(x);y.toggleClass("k-state-selected",w);y.attr("aria-pressed",w)}});j.registerTool("separator",new i({template:new n({template:j.separatorTemplate})}));var v=u.msie&&u.version<9?"\ufeff":"";var b='<br class="k-br" />';if(u.msie){if(u.version<10){b="\ufeff"}else{if(u.version<11){b=" "}}}s(m.ui,{editor:{ToolTemplate:n,EditorUtils:j,Tool:i,FormatTool:e,_bomFill:v,emptyElementContent:b}});if(m.PDFMixin){m.PDFMixin.extend(o.prototype);o.prototype._drawPDF=function(){return m.drawing.drawDOM(this.body,this.options.pdf)};o.prototype.saveAsPDF=function(){var y=new f.Deferred();var A=y.promise();var x={promise:A};if(this.trigger("pdfExport",x)){return}var w=this.options.pdf;var z=w.paperSize;this._drawPDF(y).then(function(B){w.paperSize="auto";return m.drawing.exportPDF(B,w)}).done(function(B){m.saveAs({dataURI:B,fileName:w.fileName,proxyURL:w.proxyURL,forceProxy:w.forceProxy});w.paperSize=z;y.resolve()}).fail(function(B){y.reject(B)});return A}}})(window.jQuery);(function(j){var s=window.kendo,D=j.map,B=j.extend,C=s.support.browser,l="style",p="float",k="cssFloat",y="styleFloat",e="class",o="k-marker";function t(F){var H={},G,E;for(G=0,E=F.length;G<E;G++){H[F[G]]=true}return H}var n=t("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),u="div,p,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,map,menu,noframes,noscript,object,pre,script,table,tbody,td,tfoot,th,thead,tr,header,article,nav,footer,section,aside,main,figure,figcaption".split(","),i=u.concat(["ul","ol","li"]),m=t(i),q="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby".split(","),h=t(q),g=t("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(","));var x=function(E){if(E.nodeType==1){E.normalize()}};if(C.msie&&C.version>=8){x=function(E){if(E.nodeType==1&&E.firstChild){var G=E.firstChild,F=G;while(true){F=F.nextSibling;if(!F){break}if(F.nodeType==3&&G.nodeType==3){F.nodeValue=G.nodeValue+F.nodeValue;d.remove(G)}G=F}}}}var A=/^\s+$/,b=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,v=/\ufeff/g,f=/^(\s+|\ufeff)$/,c,r=("color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height").split(","),a=/[<>\&]/g,z=/[\u00A0-\u2666<>\&]/g,w={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"};var d={block:m,inline:h,findNodeIndex:function(F,G){var E=0;if(!F){return -1}while(true){F=F.previousSibling;if(!F){break}if(!(G&&F.nodeType==3)){E++}}return E},isDataNode:function(E){return E&&E.nodeValue!==null&&E.data!==null},isAncestorOf:function(E,F){try{return !d.isDataNode(E)&&(j.contains(E,d.isDataNode(F)?F.parentNode:F)||F.parentNode==E)}catch(G){return false}},isAncestorOrSelf:function(E,F){return d.isAncestorOf(E,F)||E==F},findClosestAncestor:function(E,F){if(d.isAncestorOf(E,F)){while(F&&F.parentNode!=E){F=F.parentNode}}return F},getNodeLength:function(E){return d.isDataNode(E)?E.length:E.childNodes.length},splitDataNode:function(H,J){var F=H.cloneNode(false);var I="";var G=H.nextSibling;var E;while(G&&G.nodeType==3&&G.nodeValue){I+=G.nodeValue;E=G;G=G.nextSibling;d.remove(E)}H.deleteData(J,H.length);F.deleteData(0,J);F.nodeValue+=I;d.insertAfter(F,H)},attrEquals:function(G,E){for(var F in E){var H=G[F];if(F==p){H=G[s.support.cssFloat?k:y]}if(typeof H=="object"){if(!d.attrEquals(H,E[F])){return false}}else{if(H!=E[F]){return false}}}return true},blockParentOrBody:function(E){return d.parentOfType(E,i)||E.ownerDocument.body},blockParents:function(F){var I=[],G,E;for(G=0,E=F.length;G<E;G++){var H=d.parentOfType(F[G],d.blockElements);if(H&&j.inArray(H,I)<0){I.push(H)}}return I},windowFromDocument:function(E){return E.defaultView||E.parentWindow},normalize:x,blockElements:i,nonListBlockElements:u,inlineElements:q,empty:n,fillAttrs:g,toHex:function(E){var F=b.exec(E);if(!F){return E}return"#"+D(F.slice(1),function(G){G=parseInt(G,10).toString(16);return G.length>1?G:"0"+G}).join("")},encode:function(G,E){var F=(!E||E.entities)?z:a;return G.replace(F,function(J){var H=J.charCodeAt(0);var I=w[H];return I?"&"+I+";":J})},stripBom:function(E){return(E||"").replace(v,"")},insignificant:function(F){var E=F.attributes;return F.className=="k-marker"||(d.is(F,"br")&&(F.className=="k-br"||E._moz_dirty||E._moz_editor_bogus_node))},significantNodes:function(E){return j.grep(E,function(G){var F=d.name(G);if(F=="br"){return false}else{if(d.insignificant(G)){return false}else{if(G.nodeType==3&&f.test(G.nodeValue)){return false}else{if(G.nodeType==1&&!n[F]&&d.emptyNode(G)){return false}}}}return true})},emptyNode:function(E){return !d.significantNodes(E.childNodes).length},name:function(E){return E.nodeName.toLowerCase()},significantChildNodes:function(E){return j.grep(E.childNodes,function(F){return F.nodeType!=3||!d.isWhitespace(F)})},lastTextNode:function(F){var E=null;if(F.nodeType==3){return F}for(var G=F.lastChild;G;G=G.previousSibling){E=d.lastTextNode(G);if(E){return E}}return E},is:function(E,F){return d.name(E)==F},isMarker:function(E){return E.className==o},isWhitespace:function(E){return A.test(E.nodeValue)},isBlock:function(E){return m[d.name(E)]},isEmpty:function(E){return n[d.name(E)]},isInline:function(E){return h[d.name(E)]},scrollContainer:function(G){var F=d.windowFromDocument(G),E=(F.contentWindow||F).document||F.ownerDocument||F;if(s.support.browser.webkit||E.compatMode=="BackCompat"){E=E.body}else{E=E.documentElement}return E},scrollTo:function(J){var G=j(d.isDataNode(J)?J.parentNode:J),I=d.windowFromDocument(J.ownerDocument),K=I.innerHeight,E,H,F=d.scrollContainer(J.ownerDocument);E=G.offset().top;H=G[0].offsetHeight;if(!H){H=parseInt(G.css("line-height"),10)||Math.ceil(1.2*parseInt(G.css("font-size"),10))||15}if(H+E>F.scrollTop+K){F.scrollTop=H+E-K}},persistScrollTop:function(E){c=d.scrollContainer(E).scrollTop},restoreScrollTop:function(E){d.scrollContainer(E).scrollTop=c},insertAt:function(F,G,E){F.insertBefore(G,F.childNodes[E]||null)},insertBefore:function(F,E){if(E.parentNode){return E.parentNode.insertBefore(F,E)}else{return E}},insertAfter:function(F,E){return E.parentNode.insertBefore(F,E.nextSibling)},remove:function(E){E.parentNode.removeChild(E)},removeTextSiblings:function(F){var E=F.parentNode;while(F.nextSibling&&F.nextSibling.nodeType==3){E.removeChild(F.nextSibling)}while(F.previousSibling&&F.previousSibling.nodeType==3){E.removeChild(F.previousSibling)}},trim:function(F){for(var E=F.childNodes.length-1;E>=0;E--){var G=F.childNodes[E];if(d.isDataNode(G)){if(!d.stripBom(G.nodeValue).length){d.remove(G)}if(d.isWhitespace(G)){d.insertBefore(G,F)}}else{if(G.className!=o){d.trim(G);if(!G.childNodes.length&&!d.isEmpty(G)){d.remove(G)}}}}return F},closest:function(F,E){while(F&&d.name(F)!=E){F=F.parentNode}return F},sibling:function(E,F){do{E=E[F]}while(E&&E.nodeType!=1);return E},next:function(E){return d.sibling(E,"nextSibling")},prev:function(E){return d.sibling(E,"previousSibling")},parentOfType:function(F,E){do{F=F.parentNode}while(F&&!(d.ofType(F,E)));return F},ofType:function(F,E){return j.inArray(d.name(F),E)>=0},changeTag:function(I,H,G){var L=d.create(I.ownerDocument,H),J=I.attributes,K,M,E,N,F;if(!G){for(K=0,M=J.length;K<M;K++){F=J[K];if(F.specified){E=F.nodeName;N=F.nodeValue;if(E==e){L.className=N}else{if(E==l){L.style.cssText=I.style.cssText}else{L.setAttribute(E,N)}}}}}while(I.firstChild){L.appendChild(I.firstChild)}d.insertBefore(L,I);d.remove(I);return L},editableParent:function(E){while(E&&(E.nodeType==3||E.contentEditable!=="true")){E=E.parentNode}return E},wrap:function(E,F){d.insertBefore(F,E);F.appendChild(E);return F},unwrap:function(F){var E=F.parentNode;while(F.firstChild){E.insertBefore(F.firstChild,F)}E.removeChild(F)},create:function(E,G,F){return d.attr(E.createElement(G),F)},attr:function(G,F){F=B({},F);if(F&&l in F){d.style(G,F.style);delete F.style}for(var E in F){if(F[E]===null){G.removeAttribute(E);delete F[E]}else{if(E=="className"){G[E]=F[E]}}}return B(G,F)},style:function(E,F){j(E).css(F||{})},unstyle:function(F,G){for(var E in G){if(E==p){E=s.support.cssFloat?k:y}F.style[E]=""}if(F.style.cssText===""){F.removeAttribute(l)}},inlineStyle:function(E,G,F){var I=j(d.create(E.ownerDocument,G,F)),H;E.appendChild(I[0]);H=D(r,function(J){if(C.msie&&J=="line-height"&&I.css(J)=="1px"){return"line-height:1.5"}else{return J+":"+I.css(J)}}).join(";");I.remove();return H},getEffectiveBackground:function(E){var F=E.css("background-color");if(F.indexOf("rgba(0, 0, 0, 0")<0&&F!=="transparent"){return F}else{if(E[0].tagName.toLowerCase()==="html"){return"Window"}else{return d.getEffectiveBackground(E.parent())}}},removeClass:function(I,J){var H=" "+I.className+" ",G=J.split(" "),F,E;for(F=0,E=G.length;F<E;F++){H=H.replace(" "+G[F]+" "," ")}H=j.trim(H);if(H.length){I.className=H}else{I.removeAttribute(e)}},commonAncestor:function(){var K=arguments.length,L=[],E=Infinity,F=null,I,M,G,J,H;if(!K){return null}if(K==1){return arguments[0]}for(I=0;I<K;I++){M=[];G=arguments[I];while(G){M.push(G);G=G.parentNode}L.push(M.reverse());E=Math.min(E,M.length)}if(K==1){return L[0][0]}for(I=0;I<E;I++){J=L[0][I];for(H=1;H<K;H++){if(J!=L[H][I]){return F}}F=J}return F},closestSplittableParent:function(F){var E;if(F.length==1){E=d.parentOfType(F[0],["ul","ol"])}else{E=d.commonAncestor.apply(null,F)}if(!E){E=d.parentOfType(F[0],["p","td"])||F[0].ownerDocument.body}if(d.isInline(E)){E=d.blockParentOrBody(E)}var H=D(F,d.editableParent);var G=d.commonAncestor(H)[0];if(j.contains(E,G)){E=G}return E},closestEditable:function(H,F){var G=d.parentOfType(H,F);var E=d.editableParent(H);if(G&&E&&j.contains(G,E)){G=E}else{if(!G&&E){G=E}}return G},closestEditableOfType:function(G,F){var E=d.closestEditable(G,F);if(E&&d.ofType(E,F)){return E}},filter:function(J,G,K){var I=0;var F=G.length;var E=[];var H;for(;I<F;I++){H=d.name(G[I]);if((!K&&H==J)||(K&&H!=J)){E.push(G[I])}}return E},ensureTrailingBreaks:function(G){var H=j(G).find("p,td,th");var F=H.length;var E=0;if(F){for(;E<F;E++){d.ensureTrailingBreak(H[E])}}else{d.ensureTrailingBreak(G)}},ensureTrailingBreak:function(H){j(H).find("br[type=_moz],.k-br").remove();var G=H.lastChild;var E=G&&d.name(G);var F;if(!E||(E!="br"&&E!="img")||(E=="br"&&G.className!="k-br")){F=H.ownerDocument.createElement("br");F.className="k-br";H.appendChild(F)}}};s.ui.editor.Dom=d})(window.kendo.jQuery);(function(c,e){var k=window.kendo;var m=k.ui.editor;var o=m.Dom;var p=c.extend;var l="xx-small,x-small,small,medium,large,x-large,xx-large".split(",");var q=/"/g;var f=/<br[^>]*>/i;var b=/^\d+(\.\d*)?(px)?$/i;var n=/<p><\/p>/i;var g=/([\w|\-]+)\s*:\s*([^;]+);?/i;var a=/^sizzle-\d+/i;var i=/^k-script-/i;var r=/\s*onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i;var j=document.createElement("div");j.innerHTML=" <hr>";var h=j.firstChild.nodeType===3;j=null;var d={toEditableHtml:function(t){var s='<br class="k-br">';t=t||"";return t.replace(/<!\[CDATA\[(.*)?\]\]>/g,"<!--[CDATA[$1]]-->").replace(/<script([^>]*)>(.*)?<\/script>/ig,"<k:script$1>$2</k:script>").replace(/<img([^>]*)>/ig,function(u){return u.replace(r,"")}).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/ig,"$1").replace(/^<(table|blockquote)/i,s+"<$1").replace(/<\/(table|blockquote)>$/i,"</$1>"+s)},_fillEmptyElements:function(s){c(s).find("p").each(function(){var u=c(this);if(/^\s*$/g.test(u.text())&&!u.find("img,input").length){var t=this;while(t.firstChild&&t.firstChild.nodeType!=3){t=t.firstChild}if(t.nodeType==1&&!o.empty[o.name(t)]){t.innerHTML=k.ui.editor.emptyElementContent}}})},_removeSystemElements:function(s){c(".k-paste-container",s).remove()},_resetOrderedLists:function(s){var w=s.getElementsByTagName("ol"),v,t,u;for(v=0;v<w.length;v++){t=w[v];u=t.getAttribute("start");t.setAttribute("start",1);if(u){t.setAttribute("start",u)}else{t.removeAttribute(u)}}},_preventScriptExecution:function(s){c(s).find("*").each(function(){var u=this.attributes;var x,w,t,v;for(w=0,t=u.length;w<t;w++){x=u[w];v=x.nodeName;if(x.specified&&/^on/i.test(v)){this.setAttribute("k-script-"+v,x.value);this.removeAttribute(v)}}})},htmlToDom:function(x,t){var w=k.support.browser;var v=w.msie;var y=v&&w.version<9;x=d.toEditableHtml(x);if(y){x="<br/>"+x;var s="originalsrc",u="originalhref";x=x.replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,u+'="$1"');x=x.replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,s+'="$1"')}t.innerHTML=x;if(y){o.remove(t.firstChild);c(t).find("k\\:script,script,link,img,a").each(function(){var z=this;if(z[u]){z.setAttribute("href",z[u]);z.removeAttribute(u)}if(z[s]){z.setAttribute("src",z[s]);z.removeAttribute(s)}})}else{if(v){o.normalize(t);d._resetOrderedLists(t)}}d._preventScriptExecution(t);d._fillEmptyElements(t);d._removeSystemElements(t);c("table",t).addClass("k-table");return t},domToXhtml:function(y,D){var E=[];function s(F){return c.grep(F,function(G){return G.name!="style"})}var w={iframe:{start:function(F){E.push("<iframe");x(F);E.push(">")},end:function(){E.push("</iframe>")}},"k:script":{start:function(F){E.push("<script");x(F);E.push(">")},end:function(){E.push("<\/script>")},skipEncoding:true},span:{semantic:true,start:function(K){var J=K.style;var H=A(K);var G=s(H);if(G.length){E.push("<span");x(K,G);E.push(">")}if(J.textDecoration=="underline"){E.push("<u>")}var F=[];if(J.color){F.push('color="'+o.toHex(J.color)+'"')}if(J.fontFamily){F.push('face="'+J.fontFamily+'"')}if(J.fontSize){var I=c.inArray(J.fontSize,l);F.push('size="'+I+'"')}if(F.length){E.push("<font "+F.join(" ")+">")}},end:function(G){var F=G.style;if(F.color||F.fontFamily||F.fontSize){E.push("</font>")}if(F.textDecoration=="underline"){E.push("</u>")}if(s(A(G)).length){E.push("</span>")}}},strong:{semantic:true,start:function(){E.push("<b>")},end:function(){E.push("</b>")}},em:{semantic:true,start:function(){E.push("<i>")},end:function(){E.push("</i>")}},b:{semantic:false,start:function(){E.push("<strong>")},end:function(){E.push("</strong>")}},i:{semantic:false,start:function(){E.push("<em>")},end:function(){E.push("</em>")}},u:{semantic:false,start:function(){E.push('<span style="text-decoration:underline;">')},end:function(){E.push("</span>")}},font:{semantic:false,start:function(H){E.push('<span style="');var F=H.getAttribute("color");var G=l[H.getAttribute("size")];var I=H.getAttribute("face");if(F){E.push("color:");E.push(o.toHex(F));E.push(";")}if(I){E.push("font-family:");E.push(I);E.push(";")}if(G){E.push("font-size:");E.push(G);E.push(";")}E.push('">')},end:function(){E.push("</span>")}}};w.script=w["k:script"];D=D||{};if(typeof D.semantic=="undefined"){D.semantic=true}function C(G){var H=c.trim;var K=H(G).split(";");var J;var N,M;var L=[];var I,F;for(I=0,F=K.length;I<F;I++){if(!K[I].length){continue}J=g.exec(K[I]);if(!J){continue}N=H(J[1].toLowerCase());M=H(J[2]);if(N=="font-size-adjust"||N=="font-stretch"){continue}if(N.indexOf("color")>=0){M=o.toHex(M)}else{if(N.indexOf("font")>=0){M=M.replace(q,"'")}else{if(/\burl\(/g.test(M)){M=M.replace(q,"")}}}L.push({property:N,value:M})}return L}function z(H){var G=C(H);var F,I=G.length;for(F=0;F<G.length;F++){E.push(G[F].property);E.push(":");E.push(G[F].value);E.push(";")}}function A(H){var N=[];var J=H.attributes;var G,K,I;var F,M,L;for(K=0,I=J.length;K<I;K++){G=J[K];F=G.nodeName;M=G.value;L=G.specified;if(F=="value"&&"value" in H&&H.value){L=true}else{if(F=="type"&&M=="text"){L=true}else{if(F=="class"&&!M){L=false}else{if(a.test(F)){L=false}else{if(F=="complete"){L=false}else{if(F=="altHtml"){L=false}else{if(F=="start"&&(o.is(H,"ul")||o.is(H,"ol"))){L=false}else{if(F.indexOf("_moz")>=0){L=false}else{if(i.test(F)){L=!!D.scripts}}}}}}}}}if(L){N.push(G)}}return N}function x(J,L){var M,K,I,F,N;L=L||A(J);if(o.is(J,"img")){var H=J.style.width,O=J.style.height,G=c(J);if(H&&b.test(H)){G.attr("width",parseInt(H,10));o.unstyle(J,{width:e})}if(O&&b.test(O)){G.attr("height",parseInt(O,10));o.unstyle(J,{height:e})}}if(!L.length){return}L.sort(function(Q,P){return Q.nodeName>P.nodeName?1:Q.nodeName<P.nodeName?-1:0});for(M=0,K=L.length;M<K;M++){I=L[M];F=I.nodeName;N=I.value;if(F=="class"&&N=="k-table"){continue}F=F.replace(i,"");E.push(" ");E.push(F);E.push('="');if(F=="style"){z(N||J.style.cssText)}else{if(F=="src"||F=="href"){E.push(k.htmlEncode(J.getAttribute(F,2)))}else{E.push(o.fillAttrs[F]?F:N)}}E.push('"')}}function v(I,H,F){for(var G=I.firstChild;G;G=G.nextSibling){u(G,H,F)}}function B(F){return F.nodeValue.replace(/\ufeff/g,"")}function u(H,N,J){var I=H.nodeType,G,F,M,L,K;if(I==1){G=o.name(H);if(!G||o.insignificant(H)){return}if(o.isInline(H)&&H.childNodes.length==1&&H.firstChild.nodeType==3&&!B(H.firstChild)){return}if(!D.scripts&&(G=="script"||G=="k:script")){return}F=w[G];if(F){if(typeof F.semantic=="undefined"||(D.semantic^F.semantic)){F.start(H);v(H,false,F.skipEncoding);F.end(H);return}}E.push("<");E.push(G);x(H);if(o.empty[G]){E.push(" />")}else{E.push(">");v(H,N||o.is(H,"pre"));E.push("</");E.push(G);E.push(">")}}else{if(I==3){L=B(H);if(!N&&h){M=H.parentNode;K=H.previousSibling;if(!K){K=(o.isInline(M)?M:H).previousSibling}if(!K||K.innerHTML===""||o.isBlock(K)){L=L.replace(/^[\r\n\v\f\t ]+/,"")}L=L.replace(/ +/," ")}E.push(J?L:o.encode(L,D))}else{if(I==4){E.push("<![CDATA[");E.push(H.data);E.push("]]>")}else{if(I==8){if(H.data.indexOf("[CDATA[")<0){E.push("<!--");E.push(H.data);E.push("-->")}else{E.push("<!");E.push(H.data);E.push(">")}}}}}}function t(F){var H=F.childNodes.length;var G=H&&F.firstChild.nodeType==3;return G&&(H==1||(H==2&&o.insignificant(F.lastChild)))}if(t(y)){return o.encode(B(y.firstChild).replace(/[\r\n\v\f\t ]+/," "),D)}v(y);E=E.join("");if(E.replace(f,"").replace(n,"")===""){return""}return E}};p(m,{Serializer:d})})(window.kendo.jQuery);(function(d){var k=window.kendo,r=k.Class,s=d.extend,l=k.ui.editor,y=k.support.browser,q=l.Dom,b=q.findNodeIndex,z=q.isDataNode,j=q.findClosestAncestor,c=q.getNodeLength,n=q.normalize;var o={selectionFromWindow:function(B){if(!("getSelection" in B)){return new w(B.document)}return B.getSelection()},selectionFromRange:function(B){var C=x.documentFromRange(B);return o.selectionFromDocument(C)},selectionFromDocument:function(B){return o.selectionFromWindow(q.windowFromDocument(B))}};var A=r.extend({init:function(B){d.extend(this,{ownerDocument:B,startContainer:B,endContainer:B,commonAncestorContainer:B,startOffset:0,endOffset:0,collapsed:true})},setStart:function(B,C){this.startContainer=B;this.startOffset=C;a(this);f(this,true)},setEnd:function(B,C){this.endContainer=B;this.endOffset=C;a(this);f(this,false)},setStartBefore:function(B){this.setStart(B.parentNode,b(B))},setStartAfter:function(B){this.setStart(B.parentNode,b(B)+1)},setEndBefore:function(B){this.setEnd(B.parentNode,b(B))},setEndAfter:function(B){this.setEnd(B.parentNode,b(B)+1)},selectNode:function(B){this.setStartBefore(B);this.setEndAfter(B)},selectNodeContents:function(B){this.setStart(B,0);this.setEnd(B,B[B.nodeType===1?"childNodes":"nodeValue"].length)},collapse:function(B){var C=this;if(B){C.setEnd(C.startContainer,C.startOffset)}else{C.setStart(C.endContainer,C.endOffset)}},deleteContents:function(){var C=this,B=C.cloneRange();if(C.startContainer!=C.commonAncestorContainer){C.setStartAfter(j(C.commonAncestorContainer,C.startContainer))}C.collapse(true);(function D(E){while(E.next()){if(E.hasPartialSubtree()){D(E.getSubtreeIterator())}else{E.remove()}}})(new m(B))},cloneContents:function(){var C=x.documentFromRange(this);return(function B(D){var E,F=C.createDocumentFragment();while(E=D.next()){E=E.cloneNode(!D.hasPartialSubtree());if(D.hasPartialSubtree()){E.appendChild(B(D.getSubtreeIterator()))}F.appendChild(E)}return F})(new m(this))},extractContents:function(){var E=this,C=E.cloneRange();if(E.startContainer!=E.commonAncestorContainer){E.setStartAfter(j(E.commonAncestorContainer,E.startContainer))}E.collapse(true);var B=x.documentFromRange(E);return(function D(F){var G,H=B.createDocumentFragment();while(G=F.next()){if(F.hasPartialSubtree()){G=G.cloneNode(false);G.appendChild(D(F.getSubtreeIterator()))}else{F.remove(E.originalRange)}H.appendChild(G)}return H})(new m(C))},insertNode:function(C){var B=this;if(z(B.startContainer)){if(B.startOffset!=B.startContainer.nodeValue.length){q.splitDataNode(B.startContainer,B.startOffset)}q.insertAfter(C,B.startContainer)}else{q.insertAt(B.startContainer,C,B.startOffset)}B.setStart(B.startContainer,B.startOffset)},cloneRange:function(){return d.extend(new A(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var B=this.startContainer.nodeName,C=this.endContainer.nodeName;return[B=="#text"?this.startContainer.nodeValue:B,"(",this.startOffset,") : ",C=="#text"?this.endContainer.nodeValue:C,"(",this.endOffset,")"].join("")}});function i(I,E,B,F){if(I==E){return F-B}var D=E;while(D&&D.parentNode!=I){D=D.parentNode}if(D){return b(D)-B}D=I;while(D&&D.parentNode!=E){D=D.parentNode}if(D){return F-b(D)-1}var C=q.commonAncestor(I,E);var G=I;while(G&&G.parentNode!=C){G=G.parentNode}if(!G){G=C}var H=E;while(H&&H.parentNode!=C){H=H.parentNode}if(!H){H=C}if(G==H){return 0}return b(H)-b(G)}function f(C,D){function B(E){try{return i(E.startContainer,E.endContainer,E.startOffset,E.endOffset)<0}catch(F){return true}}if(B(C)){if(D){C.commonAncestorContainer=C.endContainer=C.startContainer;C.endOffset=C.startOffset}else{C.commonAncestorContainer=C.startContainer=C.endContainer;C.startOffset=C.endOffset}C.collapsed=true}}function a(B){B.collapsed=B.startContainer==B.endContainer&&B.startOffset==B.endOffset;var C=B.startContainer;while(C&&C!=B.endContainer&&!q.isAncestorOf(C,B.endContainer)){C=C.parentNode}B.commonAncestorContainer=C}var m=r.extend({init:function(C){d.extend(this,{range:C,_current:null,_next:null,_end:null});if(C.collapsed){return}var B=C.commonAncestorContainer;this._next=C.startContainer==B&&!z(C.startContainer)?C.startContainer.childNodes[C.startOffset]:j(B,C.startContainer);this._end=C.endContainer==B&&!z(C.endContainer)?C.endContainer.childNodes[C.endOffset]:j(B,C.endContainer).nextSibling},hasNext:function(){return !!this._next},next:function(){var B=this,C=B._current=B._next;B._next=B._current&&B._current.nextSibling!=B._end?B._current.nextSibling:null;if(z(B._current)){if(B.range.endContainer==B._current){C=C.cloneNode(true);C.deleteData(B.range.endOffset,C.length-B.range.endOffset)}if(B.range.startContainer==B._current){C=C.cloneNode(true);C.deleteData(0,B.range.startOffset)}}return C},traverse:function(E){var C=this,D;function B(){C._current=C._next;C._next=C._current&&C._current.nextSibling!=C._end?C._current.nextSibling:null;return C._current}while(D=B()){if(C.hasPartialSubtree()){C.getSubtreeIterator().traverse(E)}else{E(D)}}return D},remove:function(E){var F=this,G=F.range.startContainer==F._current,J=F.range.endContainer==F._current,B,D,I;if(z(F._current)&&(G||J)){B=G?F.range.startOffset:0;D=J?F.range.endOffset:F._current.length;I=D-B;if(E&&(G||J)){if(F._current==E.startContainer&&B<=E.startOffset){E.startOffset-=I}if(F._current==E.endContainer&&D<=E.endOffset){E.endOffset-=I}}F._current.deleteData(B,I)}else{var H=F._current.parentNode;if(E&&(F.range.startContainer==H||F.range.endContainer==H)){var C=b(F._current);if(H==E.startContainer&&C<=E.startOffset){E.startOffset-=1}if(H==E.endContainer&&C<E.endOffset){E.endOffset-=1}}q.remove(F._current)}},hasPartialSubtree:function(){return !z(this._current)&&(q.isAncestorOrSelf(this._current,this.range.startContainer)||q.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){var C=this,B=C.range.cloneRange();B.selectNodeContents(C._current);if(q.isAncestorOrSelf(C._current,C.range.startContainer)){B.setStart(C.range.startContainer,C.range.startOffset)}if(q.isAncestorOrSelf(C._current,C.range.endContainer)){B.setEnd(C.range.endContainer,C.range.endOffset)}return new m(B)}});var w=r.extend({init:function(B){this.ownerDocument=B;this.rangeCount=1},addRange:function(B){var C=this.ownerDocument.body.createTextRange();g(C,B,false);g(C,B,true);C.select()},removeAllRanges:function(){var B=this.ownerDocument.selection;if(B.type!="None"){B.empty()}},getRangeAt:function(){var L,E=new A(this.ownerDocument),H=this.ownerDocument.selection,D,I;try{L=H.createRange();D=L.item?L.item(0):L.parentElement();if(D.ownerDocument!=this.ownerDocument){return E}}catch(G){return E}if(H.type=="Control"){E.selectNode(L.item(0))}else{I=h(L);u(L,E,I,true);u(L,E,I,false);if(E.startContainer.nodeType==9){E.setStart(E.endContainer,E.startOffset)}if(E.endContainer.nodeType==9){E.setEnd(E.startContainer,E.endOffset)}if(L.compareEndPoints("StartToEnd",L)===0){E.collapse(false)}var C=E.startContainer,K=E.endContainer,F=this.ownerDocument.body;if(!E.collapsed&&E.startOffset===0&&E.endOffset==c(E.endContainer)&&!(C==K&&z(C)&&C.parentNode==F)){var J=false,B=false;while(b(C)===0&&C==C.parentNode.firstChild&&C!=F){C=C.parentNode;J=true}while(b(K)==c(K.parentNode)-1&&K==K.parentNode.lastChild&&K!=F){K=K.parentNode;B=true}if(C==F&&K==F&&J&&B){E.setStart(C,0);E.setEnd(K,c(F))}}}return E}});function h(C){var D=C.duplicate(),B=C.duplicate();D.collapse(true);B.collapse(false);return q.commonAncestor(C.parentElement(),D.parentElement(),B.parentElement())}function g(M,G,D){var C=G[D?"startContainer":"endContainer"],F=G[D?"startOffset":"endOffset"],E=0,L=z(C),J=L?C:C.childNodes[F]||null,H=L?C.parentNode:C,I=G.ownerDocument,K=I.body.createTextRange(),B;if(C.nodeType==3||C.nodeType==4){E=F}if(!H){H=I.body}if(H.nodeName.toLowerCase()=="img"){K.moveToElementText(H);K.collapse(false);M.setEndPoint(D?"StartToStart":"EndToStart",K)}else{B=H.insertBefore(q.create(I,"a"),J);K.moveToElementText(B);q.remove(B);K[D?"moveStart":"moveEnd"]("character",E);K.collapse(false);M.setEndPoint(D?"StartToStart":"EndToStart",K)}}function u(O,F,L,C){var B=q.create(F.ownerDocument,"a"),M=O.duplicate(),N=C?"StartToStart":"StartToEnd",P,K,I,G,E,J,H,D=false;B.innerHTML="\ufeff";M.collapse(C);K=M.parentElement();if(!q.isAncestorOrSelf(L,K)){K=L}do{if(D){K.insertBefore(B,B.previousSibling)}else{K.appendChild(B);D=true}M.moveToElementText(B)}while((P=M.compareEndPoints(N,O))>0&&B.previousSibling);I=B.nextSibling;if(P==-1&&z(I)){M.setEndPoint(C?"EndToStart":"EndToEnd",O);q.remove(B);J=[I,M.text.length]}else{G=!C&&B.previousSibling;E=C&&B.nextSibling;if(z(E)){J=[E,0]}else{if(z(G)){J=[G,G.length]}else{H=b(B);if(K.nextSibling&&H==K.childNodes.length-1){J=[K.nextSibling,0]}else{J=[K,H]}}}q.remove(B)}F[C?"setStart":"setEnd"].apply(F,J)}var t=r.extend({init:function(B){this.enumerate=function(){var C=[];function D(E){if(q.is(E,"img")||(E.nodeType==3&&(!q.isWhitespace(E)||E.nodeValue=="\ufeff"))){C.push(E)}else{E=E.firstChild;while(E){D(E);E=E.nextSibling}}}new m(B).traverse(D);return C}}});var v=r.extend({init:function(C,B){var D=this;D.range=C;D.rootNode=x.documentFromRange(C);D.body=B||D.getEditable(C);if(q.name(D.body)!="body"){D.rootNode=D.body}D.html=D.body.innerHTML;D.startContainer=D.nodeToPath(C.startContainer);D.endContainer=D.nodeToPath(C.endContainer);D.startOffset=D.offset(C.startContainer,C.startOffset);D.endOffset=D.offset(C.endContainer,C.endOffset)},index:function(E){var B=0,D=E.nodeType;while(E=E.previousSibling){var C=E.nodeType;if(C!=3||D!=C){B++}D=C}return B},getEditable:function(C){var B=C.commonAncestorContainer;while(B&&(B.nodeType==3||B.attributes&&!B.attributes.contentEditable)){B=B.parentNode}return B},restoreHtml:function(){this.body.innerHTML=this.html},offset:function(B,C){if(B.nodeType==3){while((B=B.previousSibling)&&B.nodeType==3){C+=B.nodeValue.length}}return C},nodeToPath:function(B){var C=[];while(B!=this.rootNode){C.push(this.index(B));B=B.parentNode}return C},toRangePoint:function(B,H,F,E){var D=this.rootNode,C=F.length,G=E;while(C--){D=D.childNodes[F[C]]}while(D&&D.nodeType==3&&D.nodeValue.length<G){G-=D.nodeValue.length;D=D.nextSibling}if(D&&G>=0){B[H?"setStart":"setEnd"](D,G)}},toRange:function(){var C=this,B=C.range.cloneRange();C.toRangePoint(B,true,C.startContainer,C.startOffset);C.toRangePoint(B,false,C.endContainer,C.endOffset);return B}});var e=r.extend({init:function(){this.caret=null},addCaret:function(B){var C=this;C.caret=q.create(x.documentFromRange(B),"span",{className:"k-marker"});B.insertNode(C.caret);B.selectNode(C.caret);return C.caret},removeCaret:function(D){var H=this,G=H.caret.previousSibling,B=0;if(G){B=z(G)?G.nodeValue.length:b(G)}var C=H.caret.parentNode;var E=G?b(G):0;q.remove(H.caret);n(C);var F=C.childNodes[E];if(z(F)){D.setStart(F,B)}else{if(F){var I=q.lastTextNode(F);if(I){D.setStart(I,I.nodeValue.length)}else{D[G?"setStartAfter":"setStartBefore"](F)}}else{if(!y.msie&&!C.innerHTML){C.innerHTML='<br _moz_dirty="" />'}D.selectNodeContents(C)}}D.collapse(true)},add:function(B,C){var F=this;var H=B.collapsed&&!x.isExpandable(B);var G=x.documentFromRange(B);if(C&&B.collapsed){F.addCaret(B);B=x.expand(B)}var E=B.cloneRange();E.collapse(false);F.end=q.create(G,"span",{className:"k-marker"});E.insertNode(F.end);E=B.cloneRange();E.collapse(true);F.start=F.end.cloneNode(true);E.insertNode(F.start);F._removeDeadMarkers(F.start,F.end);if(H){var D=G.createTextNode("\ufeff");q.insertAfter(D.cloneNode(),F.start);q.insertBefore(D,F.end)}n(B.commonAncestorContainer);B.setStartBefore(F.start);B.setEndAfter(F.end);return B},_removeDeadMarkers:function(C,B){if(C.previousSibling&&C.previousSibling.nodeValue=="\ufeff"){q.remove(C.previousSibling)}if(B.nextSibling&&B.nextSibling.nodeValue=="\ufeff"){q.remove(B.nextSibling)}},remove:function(M){var N=this,F=N.start,I=N.end,G,C,B;n(M.commonAncestorContainer);while(!F.nextSibling&&F.parentNode){F=F.parentNode}while(!I.previousSibling&&I.parentNode){I=I.parentNode}G=(F.previousSibling&&F.previousSibling.nodeType==3)&&(F.nextSibling&&F.nextSibling.nodeType==3);C=(I.previousSibling&&I.previousSibling.nodeType==3)&&(I.nextSibling&&I.nextSibling.nodeType==3);B=G&&C;F=F.nextSibling;I=I.previousSibling;var J=false;var H=false;if(F==N.end){H=!!N.start.previousSibling;F=I=N.start.previousSibling||N.end.nextSibling;J=true}q.remove(N.start);q.remove(N.end);if(!F||!I){M.selectNodeContents(M.commonAncestorContainer);M.collapse(true);return}var O=J?z(F)?F.nodeValue.length:F.childNodes.length:0;var P=z(I)?I.nodeValue.length:I.childNodes.length;if(F.nodeType==3){while(F.previousSibling&&F.previousSibling.nodeType==3){F=F.previousSibling;O+=F.nodeValue.length}}if(I.nodeType==3){while(I.previousSibling&&I.previousSibling.nodeType==3){I=I.previousSibling;P+=I.nodeValue.length}}var R=b(F),D=F.parentNode;var L=b(I),E=I.parentNode;for(var K=F;K.previousSibling;K=K.previousSibling){if(K.nodeType==3&&K.previousSibling.nodeType==3){R--}}for(var Q=I;Q.previousSibling;Q=Q.previousSibling){if(Q.nodeType==3&&Q.previousSibling.nodeType==3){L--}}n(D);if(F.nodeType==3){F=D.childNodes[R]}n(E);if(I.nodeType==3){I=E.childNodes[L]}if(J){if(F.nodeType==3){M.setStart(F,O)}else{M[H?"setStartAfter":"setStartBefore"](F)}M.collapse(true)}else{if(F.nodeType==3){M.setStart(F,O)}else{M.setStartBefore(F)}if(I.nodeType==3){M.setEnd(I,P)}else{M.setEndAfter(I)}}if(N.caret){N.removeCaret(M)}}});var p=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/;var x={nodes:function(C){var B=x.textNodes(C);if(!B.length){C.selectNodeContents(C.commonAncestorContainer);B=x.textNodes(C);if(!B.length){B=q.significantChildNodes(C.commonAncestorContainer)}}return B},textNodes:function(B){return new t(B).enumerate()},documentFromRange:function(B){var C=B.startContainer;return C.nodeType==9?C:C.ownerDocument},createRange:function(B){if(y.msie&&y.version<9){return new A(B)}return B.createRange()},selectRange:function(B){var D=x.image(B);if(D){B.setStartAfter(D);B.setEndAfter(D)}var C=o.selectionFromRange(B);C.removeAllRanges();C.addRange(B)},stringify:function(B){return k.format("{0}:{1} - {2}:{3}",q.name(B.startContainer),B.startOffset,q.name(B.endContainer),B.endOffset)},split:function(C,E,B){function D(H){var G=C.cloneRange();G.collapse(H);G[H?"setStartBefore":"setEndAfter"](E);var F=G.extractContents();if(B){F=q.trim(F)}q[H?"insertBefore":"insertAfter"](F,E)}D(true);D(false)},mapAll:function(C,D){var B=[];new m(C).traverse(function(F){var E=D(F);if(E&&d.inArray(E,B)<0){B.push(E)}});return B},getAll:function(D,C){var B=C;if(typeof C=="string"){C=function(E){return q.is(E,B)}}return x.mapAll(D,function(E){if(C(E)){return E}})},getMarkers:function(B){return x.getAll(B,function(C){return C.className=="k-marker"})},image:function(C){var B=x.getAll(C,"img");if(B.length==1){return B[0]}},isStartOf:function(B,E){B=B.cloneRange();while(B.startOffset===0&&B.startContainer!=E){var C=q.findNodeIndex(B.startContainer);var D=B.startContainer.parentNode;while(C>0&&q.insignificant(D[C-1])){C--}B.setStart(D,C)}return B.startOffset===0&&B.startContainer==E},wrapSelectedElements:function(C){var E=q.editableParent(C.startContainer);var B=q.editableParent(C.endContainer);while(C.startOffset===0&&C.startContainer!=E){C.setStart(C.startContainer.parentNode,q.findNodeIndex(C.startContainer))}function D(I,F){var H=q.getNodeLength(F);if(I==H){return true}for(var G=I;G<H;G++){if(!q.insignificant(F.childNodes[G])){return false}}return true}while(D(C.endOffset,C.endContainer)&&C.endContainer!=B){C.setEnd(C.endContainer.parentNode,q.findNodeIndex(C.endContainer)+1)}return C},expand:function(E){var D=E.cloneRange();var G=D.startContainer.childNodes[D.startOffset===0?0:D.startOffset-1];var I=D.endContainer.childNodes[D.endOffset];if(!z(G)||!z(I)){return D}var H=G.nodeValue;var C=I.nodeValue;if(!H||!C){return D}var B=H.split("").reverse().join("").search(p);var F=C.search(p);if(!B||!F){return D}F=F==-1?C.length:F;B=B==-1?0:H.length-B;D.setStart(G,B);D.setEnd(I,F);return D},isExpandable:function(F){var C=F.startContainer;var B=x.documentFromRange(F);if(C==B||C==B.body){return false}var J=F.cloneRange();var I=C.nodeValue;if(!I){return false}var D=I.substring(0,J.startOffset);var E=I.substring(J.startOffset);var G=0,H=0;if(D){G=D.split("").reverse().join("").search(p)}if(E){H=E.search(p)}return G&&H}};s(l,{SelectionUtils:o,W3CRange:A,RangeIterator:m,W3CSelection:w,RangeEnumerator:t,RestorePoint:v,Marker:e,RangeUtils:x})})(window.kendo.jQuery);(function(d){var n=window.kendo,x=n.Class,y=n.ui.editor,i=y.EditorUtils,p=i.registerTool,w=y.Dom,h=y.Tool,r=y.ToolTemplate,B=y.RestorePoint,g=y.Marker,A=d.extend;function f(G,F){var E=G.selectionRestorePoint=new B(G.getRange());var H=new t(F,E);H.editor=G;G.undoRedoStack.push(H);return E}var u=x.extend({init:function(E){this.options=E;this.restorePoint=new B(E.range);this.marker=new g();this.formatter=E.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(E){return this.marker.add(this.getRange(),E)},releaseRange:function(E){this.marker.remove(E);this.editor.selectRange(E)},undo:function(){var E=this.restorePoint;E.restoreHtml();this.editor.selectRange(E.toRange())},redo:function(){this.exec()},createDialog:function(G,E){var F=this.editor;return d(G).appendTo(document.body).kendoWindow(A({},F.options.dialogOptions,E)).closest(".k-window").toggleClass("k-rtl",n.support.isRtl(F.wrapper)).end()},exec:function(){var E=this.lockRange(true);this.formatter.editor=this.editor;this.formatter.toggle(E);this.releaseRange(E)}});var t=x.extend({init:function(F,E){this.body=F.body;this.startRestorePoint=F;this.endRestorePoint=E},redo:function(){this.body.innerHTML=this.endRestorePoint.html;this.editor.selectRange(this.endRestorePoint.toRange())},undo:function(){this.body.innerHTML=this.startRestorePoint.html;this.editor.selectRange(this.startRestorePoint.toRange())}});var b=u.extend({init:function(E){u.fn.init.call(this,E);this.managesUndoRedo=true},exec:function(){var K=this.editor;var I=this.options;var G=I.range;var E=K.body;var H=new B(G,E);var J=I.html||I.value||"";K.selectRange(G);K.clipboard.paste(J,I);if(I.postProcess){I.postProcess(K,K.getRange())}var F=new t(H,new B(K.getRange(),E));F.editor=K;K.undoRedoStack.push(F);K.focus()}});var q=h.extend({initialize:function(H,G){var F=G.editor,E=this.options,I=E.items?E.items:F.options.insertHtml;new y.SelectBox(H,{dataSource:I,dataTextField:"text",dataValueField:"value",change:function(){h.exec(F,"insertHtml",this.value())},title:F.options.messages.insertHtml,highlightFirst:false})},command:function(E){return new b(E)},update:function(F){var E=F.data("kendoSelectBox")||F.find("select").data("kendoSelectBox");E.close();E.value(E.options.title)}});var v=x.extend({init:function(){this.clear()},push:function(E){this.stack=this.stack.slice(0,this.currentCommandIndex+1);this.currentCommandIndex=this.stack.push(E)-1},undo:function(){if(this.canUndo()){this.stack[this.currentCommandIndex--].undo()}},redo:function(){if(this.canRedo()){this.stack[++this.currentCommandIndex].redo()}},clear:function(){this.stack=[];this.currentCommandIndex=-1},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}});var l=x.extend({init:function(E){this.editor=E},keydown:function(K){var J=this,I=J.editor,E=I.keyboard,H=E.isTypingKey(K),F=A(d.Event(),K);J.editor.trigger("keydown",F);if(F.isDefaultPrevented()){K.preventDefault();return true}if(!F.isDefaultPrevented()&&H&&!E.isTypingInProgress()){var G=I.getRange();J.startRestorePoint=new B(G);E.startTyping(function(){J.endRestorePoint=f(I,J.startRestorePoint)});return true}return false},keyup:function(F){var E=this.editor.keyboard;this.editor.trigger("keyup",F);if(E.isTypingInProgress()){E.endTyping();return true}return false}});var C=x.extend({init:function(E){this.editor=E},_handleCaret:function(J){var F=J.startContainer;var H=J.startOffset;var M=w.closestEditableOfType(F,["li"]);var I=w.closestEditableOfType(F,"h1,h2,h3,h4,h5,h6".split(","));if(w.isDataNode(F)){while(H>=0&&F.nodeValue[H-1]=="\ufeff"){F.deleteData(H-1,1);H--}J.setStart(F,Math.max(0,H));J.collapse(true);this.editor.selectRange(J)}if(I&&I.previousSibling&&y.RangeUtils.isStartOf(J,I)){var G=I.previousSibling;var K=w.create(this.editor.document,"a");G.appendChild(K);while(I.firstChild){G.appendChild(I.firstChild)}w.remove(I);J.setStartAfter(K);J.collapse(true);this.editor.selectRange(J);w.remove(K);return true}if(M&&y.RangeUtils.isStartOf(J,M)){var L=new y.GreedyBlockFormatter([{tags:["p"]}]);var E=M.firstChild;L.editor=this.editor;L.apply(M.childNodes);J.setStart(E,0);this.editor.selectRange(J);return true}return false},_handleSelection:function(G){var H=G.commonAncestorContainer;var I=w.closest(H,"table");var F=y.emptyElementContent;var E=false;if(/t(able|body)/i.test(w.name(H))){G.selectNode(I)}G.deleteContents();if(I&&d(I).text()===""){G.selectNode(I);G.deleteContents();E=true}H=G.commonAncestorContainer;if(w.name(H)==="p"&&H.innerHTML===""){H.innerHTML=F;G.setStart(H,0);G.collapse(true);this.editor.selectRange(G);E=true}return E},keydown:function(I){var J,F;var E=this.editor.getRange();var H=I.keyCode;var G=n.keys;if(H===G.BACKSPACE){J=E.collapsed?"_handleCaret":"_handleSelection"}else{if(H==G.DELETE){J=E.collapsed?"":"_handleSelection"}}if(!J){return}F=new B(E);if(this[J](E)){I.preventDefault();f(this.editor,F)}},keyup:d.noop});var m=x.extend({init:function(E){this.editor=E;this.systemCommandIsInProgress=false},createUndoCommand:function(){this.startRestorePoint=this.endRestorePoint=f(this.editor,this.startRestorePoint)},changed:function(){if(this.startRestorePoint){return this.startRestorePoint.html!=this.editor.body.innerHTML}return false},keydown:function(H){var G=this,F=G.editor,E=F.keyboard;if(E.isModifierKey(H)){if(E.isTypingInProgress()){E.endTyping(true)}G.startRestorePoint=new B(F.getRange());return true}if(E.isSystem(H)){G.systemCommandIsInProgress=true;if(G.changed()){G.systemCommandIsInProgress=false;G.createUndoCommand()}return true}return false},keyup:function(F){var E=this;if(E.systemCommandIsInProgress&&E.changed()){E.systemCommandIsInProgress=false;E.createUndoCommand();return true}return false}});var c=x.extend({init:function(E){this.handlers=E;this.typingInProgress=false},isCharacter:function(E){return(E>=48&&E<=90)||(E>=96&&E<=111)||(E>=186&&E<=192)||(E>=219&&E<=222)||E==229},toolFromShortcut:function(H,G){var E=String.fromCharCode(G.keyCode),F,I;for(F in H){I=d.extend({ctrl:false,alt:false,shift:false},H[F].options);if((I.key==E||I.key==G.keyCode)&&I.ctrl==G.ctrlKey&&I.alt==G.altKey&&I.shift==G.shiftKey){return F}}},isTypingKey:function(F){var E=F.keyCode;return(this.isCharacter(E)&&!F.ctrlKey&&!F.altKey)||E==32||E==13||E==8||(E==46&&!F.shiftKey&&!F.ctrlKey&&!F.altKey)},isModifierKey:function(F){var E=F.keyCode;return(E==17&&!F.shiftKey&&!F.altKey)||(E==16&&!F.ctrlKey&&!F.altKey)||(E==18&&!F.ctrlKey&&!F.shiftKey)},isSystem:function(E){return E.keyCode==46&&E.ctrlKey&&!E.altKey&&!E.shiftKey},startTyping:function(E){this.onEndTyping=E;this.typingInProgress=true},stopTyping:function(){if(this.typingInProgress&&this.onEndTyping){this.onEndTyping()}this.typingInProgress=false},endTyping:function(F){var E=this;E.clearTimeout();if(F){E.stopTyping()}else{E.timeout=window.setTimeout(d.proxy(E.stopTyping,E),1000)}},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(H,G){var F,E=this.handlers;for(F=0;F<E.length;F++){if(E[F][G](H)){break}}},keydown:function(E){this.notify(E,"keydown")},keyup:function(E){this.notify(E,"keyup")}});var j=x.extend({init:function(E){this.editor=E;this.cleaners=[new z(),new D(),new s(),new a()]},htmlToFragment:function(G){var H=this.editor,I=H.document,E=w.create(I,"div"),F=I.createDocumentFragment();E.innerHTML=G;while(E.firstChild){F.appendChild(E.firstChild)}return F},isBlock:function(E){return(/<(div|p|ul|ol|table|h[1-6])/i).test(E)},_startModification:function(){var E;var G;var F=this.editor;if(this._inProgress){return}this._inProgress=true;E=F.getRange();G=new B(E);w.persistScrollTop(F.document);return{range:E,restorePoint:G}},_endModification:function(E){f(this.editor,E.restorePoint);this.editor._selectionChange();this._inProgress=false},_contentModification:function(G,I){var F=this;var E=F.editor;var H=F._startModification();if(!H){return}G.call(F,E,H.range);setTimeout(function(){I.call(F,E,H.range);F._endModification(H)})},oncut:function(){this._contentModification(d.noop,d.noop)},_fileToDataURL:function(H,F){var G=H.getAsFile();var E=new FileReader();E.onload=F||d.noop;E.readAsDataURL(G)},_triggerPaste:function(G,F){var E={html:G||""};E.html=E.html.replace(/\ufeff/g,"");this.editor.trigger("paste",E);this.paste(E.html,F||{})},_handleImagePaste:function(G){if(!("FileReader" in window)){return}var F=this;var I=G.clipboardData||G.originalEvent.clipboardData;var E=I&&(I.items||I.files);if(!E||!E.length){return}if(!/^image\//i.test(E[0].type)){return}var H=F._startModification();if(!H){return}this._fileToDataURL(E[0],function(J){F._triggerPaste('<img src="'+J.target.result+'" />');F._endModification(H)});return true},onpaste:function(F){if(this._handleImagePaste(F)){return}this._contentModification(function E(K,I){var N=w.create(K.document,"div",{className:"k-paste-container",innerHTML:"\ufeff"});var J=n.support.browser;K.body.appendChild(N);if(J.msie&&J.version<11){F.preventDefault();var M=K.createRange();M.selectNodeContents(N);K.selectRange(M);var L=K.document.body.createTextRange();L.moveToElementText(N);d(K.body).unbind("paste");L.execCommand("Paste");d(K.body).bind("paste",d.proxy(this.onpaste,this))}else{var H=K.createRange();H.selectNodeContents(N);K.selectRange(H)}I.deleteContents()},function G(L,H){var K="",J={html:""},M;var I=n.support.browser;L.selectRange(H);M=d(L.body).children(".k-paste-container");M.each(function(){var N=this.lastChild;if(N&&w.is(N,"br")){w.remove(N)}K+=this.innerHTML});M.remove();this._triggerPaste(K,{clean:true})})},splittableParent:function(H,G){var F,E;if(H){return w.closestEditableOfType(G,["p","ul","ol"])||G.parentNode}F=G.parentNode;E=G.ownerDocument.body;if(w.isInline(F)){while(F.parentNode!=E&&!w.isBlock(F.parentNode)){F=F.parentNode}}return F},paste:function(L,S){var N=this.editor,J,G;S=A({clean:false,split:true},S);for(J=0,G=this.cleaners.length;J<G;J++){if(this.cleaners[J].applicable(L)){L=this.cleaners[J].clean(L)}}if(S.clean){L=L.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/ig,"$3");L=L.replace(/<(a|span)[^>]*><\/\1>/ig,"")}L=L.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>");var H=this.isBlock(L);N.focus();var M=N.getRange();M.deleteContents();if(M.startContainer==N.document){M.selectNodeContents(N.body)}var K=new g();var P=K.addCaret(M);var R=this.splittableParent(H,P);var I=false;var Q=R!=N.body&&!w.is(R,"td");if(S.split&&Q&&(H||w.isInline(R))){M.selectNode(P);y.RangeUtils.split(M,R,true);I=true}var O=this.htmlToFragment(L);if(O.firstChild&&O.firstChild.className==="k-paste-container"){var F=[];for(J=0,G=O.childNodes.length;J<G;J++){F.push(O.childNodes[J].innerHTML)}O=this.htmlToFragment(F.join("<br />"))}d(O.childNodes).filter("table").addClass("k-table").end().find("table").addClass("k-table");M.insertNode(O);R=this.splittableParent(H,P);if(I){while(P.parentNode!=R){w.unwrap(P.parentNode)}w.unwrap(P.parentNode)}w.normalize(M.commonAncestorContainer);P.style.display="inline";w.restoreScrollTop(N.document);w.scrollTo(P);K.removeCaret(M);var E=M.commonAncestorContainer.parentNode;if(M.collapsed&&w.name(E)=="tbody"){M.setStartAfter(d(E).closest("table")[0]);M.collapse(true)}N.selectRange(M)}});var k=x.extend({clean:function(G){var I=this,H=I.replacements,F,E;for(F=0,E=H.length;F<E;F+=2){G=G.replace(H[F],H[F+1])}return G}});var z=k.extend({init:function(){this.replacements=[/<(\/?)script([^>]*)>/i,"<$1telerik:script$2>"]},applicable:function(E){return(/<script[^>]*>/i).test(E)}});var D=k.extend({init:function(){var E=" ";this.replacements=[/<span\s+class="Apple-tab-span"[^>]*>\s*<\/span>/gi,E,/\t/gi,E,/&nbsp;&nbsp; &nbsp;/gi,E]},applicable:function(E){return(/&nbsp;&nbsp; &nbsp;|class="?Apple-tab-span/i).test(E)}});var s=k.extend({init:function(){this.replacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>(?!\n)/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/ig,"",/<(\/?)b(\s[^>]*)?>/ig,"<$1strong$2>",/<(\/?)font(\s[^>]*)?>/ig,this.convertFontMatch,/<(\/?)i(\s[^>]*)?>/ig,"<$1em$2>",/<o:p>&nbsp;<\/o:p>/ig,"&nbsp;",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/ig,"",/<\/o>/g,"",/style=(["|'])\s*\1/g,"",/(<br[^>]*>)?\n/g,function(F,E){return E?F:" "}]},convertFontMatch:function(F,G,E){var J=/face=['"]([^'"]+)['"]/i;var I=J.exec(E);var H=E&&I&&I[1];if(G){return"</span>"}else{if(H){return'<span style="font-family:'+H+'">'}else{return"<span>"}}},applicable:function(E){return(/class="?Mso/i).test(E)||(/style="[^"]*mso-/i).test(E)||(/urn:schemas-microsoft-com:office/).test(E)},stripEmptyAnchors:function(E){return E.replace(/<a([^>]*)>\s*<\/a>/ig,function(F,G){if(!G||G.indexOf("href")<0){return""}return F})},listType:function(F){var E;if(/^(<span [^>]*texhtml[^>]*>)?<span [^>]*(Symbol|Wingdings)[^>]*>/i.test(F)){E=true}F=F.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,"\u00a0");if((!E&&/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(F))||(E&&/^.\u00a0+/.test(F))){return"ul"}if(/^\s*\w+[\.\)]\u00a0{2,}/.test(F)){return"ol"}},_convertToLi:function(F){var E;if(F.childNodes.length==1){E=F.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,"")}else{w.remove(F.firstChild);if(F.firstChild.nodeType==3){if(/^[ivx]+\.$/i.test(F.firstChild.nodeValue)){w.remove(F.firstChild)}}if(/^(&nbsp;|\s)+$/i.test(F.firstChild.innerHTML)){w.remove(F.firstChild)}E=F.innerHTML}w.remove(F);return w.create(document,"li",{innerHTML:E})},lists:function(O){var N=d(w.blockElements.join(","),O),E=-1,K,F,R={ul:{},ol:{}},Q=O,J,G,M,I,L,P,H;for(J=0;J<N.length;J++){G=N[J];M=this.listType(G.innerHTML);F=w.name(G);if(F=="td"){continue}if(!M||F!="p"){if(!G.innerHTML){w.remove(G)}else{R={ul:{},ol:{}};Q=O;E=-1}continue}I=parseFloat(G.style.marginLeft||0);L=R[M][I];if(I>E||!L){L=w.create(document,M);if(Q==O){w.insertBefore(L,G)}else{Q.appendChild(L)}R[M][I]=L}if(K!=M){for(P in R){for(H in R[P]){if(d.contains(L,R[P][H])){delete R[P][H]}}}}Q=this._convertToLi(G);L.appendChild(Q);E=I;K=M}},removeAttributes:function(G){var E=G.attributes,F=E.length;while(F--){if(w.name(E[F])!="colspan"){G.removeAttributeNode(E[F])}}},createColGroup:function(H){var F=H.cells;var G=d(H).closest("table");var E=G.children("colgroup");if(F.length<2){return}else{if(E.length){F=E.children();E[0].parentNode.removeChild(E[0])}}E=d(d.map(F,function(I){var J=I.width;if(J&&parseInt(J,10)!==0){return n.format('<col style="width:{0}px;"/>',J)}return"<col />"}).join(""));if(!E.is("colgroup")){E=d("<colgroup/>").append(E)}E.prependTo(G)},convertHeaders:function(H){var E=H.cells,F,G=d.map(E,function(I){var J=d(I).children("p").children("strong")[0];if(J&&w.name(J)=="strong"){return J}});if(G.length==E.length){for(F=0;F<G.length;F++){w.unwrap(G[F])}d(H).closest("table").find("colgroup").after("<thead></thead>").end().find("thead").append(H);for(F=0;F<E.length;F++){w.changeTag(E[F],"th")}}},removeParagraphs:function(H){var I,G,F,E,J;for(I=0;I<H.length;I++){this.removeAttributes(H[I]);E=d(H[I]);J=E.children("p");for(G=0,F=J.length;G<F;G++){if(G<F-1){w.insertAfter(w.create(document,"br"),J[G])}w.unwrap(J[G])}}},removeDefaultColors:function(F){for(var E=0;E<F.length;E++){if(/^\s*color:\s*[^;]*;?$/i.test(F[E].style.cssText)){w.unwrap(F[E])}}},tables:function(L){var H=d(L).find("table"),I=this,J,K,F,G,E;for(G=0;G<H.length;G++){J=H[G].rows;F=K=J[0];for(E=1;E<J.length;E++){if(J[E].cells.length>F.cells.length){F=J[E]}}I.createColGroup(F);I.convertHeaders(K);I.removeAttributes(H[G]);I.removeParagraphs(H.eq(G).find("td,th"));I.removeDefaultColors(H.eq(G).find("span"))}},headers:function(G){var F=d(G).find("p.MsoTitle");for(var E=0;E<F.length;E++){w.changeTag(F[E],"h1")}},clean:function(E){var F=this,G;E=k.fn.clean.call(F,E);E=F.stripEmptyAnchors(E);G=w.create(document,"div",{innerHTML:E});F.headers(G);F.lists(G);F.tables(G);E=G.innerHTML.replace(/(<[^>]*)\s+class="?[^"\s>]*"?/ig,"$1");return E}});var a=k.extend({init:function(){this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"]},applicable:function(E){return(/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i).test(E)}});var e=u.extend({init:function(E){u.fn.init.call(this,E);this.managesUndoRedo=true},exec:function(){var E=this.editor;if(n.support.browser.msie){E.document.execCommand("print",false,null)}else{if(E.window.print){E.window.print()}}}});var o=u.extend({init:function(E){this.async=true;u.fn.init.call(this,E)},exec:function(){var F=this;var E=this.lockRange(true);this.editor.saveAsPDF().then(function(){F.releaseRange(E)})}});A(y,{_finishUpdate:f,Command:u,GenericCommand:t,InsertHtmlCommand:b,InsertHtmlTool:q,UndoRedoStack:v,TypingHandler:l,SystemHandler:m,BackspaceHandler:C,Keyboard:c,Clipboard:j,Cleaner:k,TabCleaner:D,MSWordFormatCleaner:s,WebkitFormatCleaner:a,PrintCommand:e,ExportPdfCommand:o});p("insertHtml",new q({template:new r({template:i.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})}));p("print",new h({command:e,template:new r({template:i.buttonTemplate,title:"Print"})}));p("pdf",new h({command:o,template:new r({template:i.buttonTemplate,title:"Export PDF"})}))})(window.kendo.jQuery);(function(e){var k=window.kendo,s=k.Class,n=k.ui.editor,f=k.ui.Editor.fn.options.formats,h=n.EditorUtils,g=n.Tool,m=n.ToolTemplate,d=n.FormatTool,r=n.Dom,v=n.RangeUtils,t=e.extend,l=n.EditorUtils.registerTool,c=n.EditorUtils.registerFormat,j="k-marker";var q=s.extend({init:function(x){this.format=x},numberOfSiblings:function(A){var y=0,z=0,B=0,x=A.parentNode,C;for(C=x.firstChild;C;C=C.nextSibling){if(C!=A){if(C.className==j){B++}else{if(C.nodeType==3){y++}else{z++}}}}if(B>1&&x.firstChild.className==j&&x.lastChild.className==j){return 0}else{return z+y}},findSuitable:function(y,A){if(!A&&this.numberOfSiblings(y)>0){return null}var z=y.parentNode;var x=this.format[0].tags;while(!r.ofType(z,x)){if(this.numberOfSiblings(z)>0){return null}z=z.parentNode}return z},findFormat:function(B){var E=this.format,D=r.attrEquals,A,x,C,z,y;for(A=0,x=E.length;A<x;A++){C=B;z=E[A].tags;y=E[A].attr;if(C&&r.ofType(C,z)&&D(C,y)){return C}while(C){C=r.parentOfType(C,z);if(C&&D(C,y)){return C}}}return null},isFormatted:function(y){var z,x;for(z=0,x=y.length;z<x;z++){if(this.findFormat(y[z])){return true}}return false}});var w=s.extend({init:function(y,x){this.finder=new q(y);this.attributes=t({},y[0].attr,x);this.tag=y[0].tags[0]},wrap:function(x){return r.wrap(x,r.create(x.ownerDocument,this.tag,this.attributes))},activate:function(y,x){if(this.finder.isFormatted(x)){this.split(y);this.remove(x)}else{this.apply(x)}},toggle:function(y){var x=v.textNodes(y);if(x.length>0){this.activate(y,x)}},apply:function(y){var B=[];var z,x,A,C;for(z=0,x=y.length;z<x;z++){A=y[z];C=this.finder.findSuitable(A);if(C){r.attr(C,this.attributes)}else{while(!r.isBlock(A.parentNode)&&A.parentNode.childNodes.length==1){A=A.parentNode}C=this.wrap(A)}B.push(C)}this.consolidate(B)},remove:function(y){var z,x,A;for(z=0,x=y.length;z<x;z++){A=this.finder.findFormat(y[z]);if(A){if(this.attributes&&this.attributes.style){r.unstyle(A,this.attributes.style);if(!A.style.cssText&&!A.attributes["class"]){r.unwrap(A)}}else{r.unwrap(A)}}}},split:function(z){var y=v.textNodes(z);var x=y.length;var A,B;if(x>0){for(A=0;A<x;A++){B=this.finder.findFormat(y[A]);if(B){v.split(z,B,true)}}}},consolidate:function(x){var z,y;while(x.length>1){z=x.pop();y=x[x.length-1];if(z.previousSibling&&z.previousSibling.className==j){y.appendChild(z.previousSibling)}if(z.tagName==y.tagName&&z.previousSibling==y&&z.style.cssText==y.style.cssText){while(z.firstChild){y.appendChild(z.firstChild)}r.remove(z)}}}});var b=q.extend({init:function(y,x){this.format=y;this.greedyProperty=x;q.fn.init.call(this,y)},getInlineCssValue:function(A){var F=A.attributes;var B=e.trim;var G,D,y,x,C,H,E,z,I;var J,L,K;if(!F){return}for(G=0,D=F.length;G<D;G++){y=F[G];x=y.nodeName;C=y.nodeValue;if(y.specified&&x=="style"){H=B(C||A.style.cssText).split(";");for(z=0,I=H.length;z<I;z++){E=H[z];if(E.length){J=E.split(":");L=B(J[0].toLowerCase());K=B(J[1]);if(L!=this.greedyProperty){continue}return L.indexOf("color")>=0?r.toHex(K):K}}}}},getFormatInner:function(B){var y=e(r.isDataNode(B)?B.parentNode:B);var z=y.parentsUntil("[contentEditable]").addBack().toArray().reverse();var A,x,C;for(A=0,x=z.length;A<x;A++){C=this.greedyProperty=="className"?z[A].className:this.getInlineCssValue(z[A]);if(C){return C}}return"inherit"},getFormat:function(z){var y=this.getFormatInner(z[0]),A,x;for(A=1,x=z.length;A<x;A++){if(y!=this.getFormatInner(z[A])){return""}}return y},isFormatted:function(x){return this.getFormat(x)!==""}});var u=w.extend({init:function(z,x,y){w.fn.init.call(this,z,x);this.values=x;this.finder=new b(z,y);if(y){this.greedyProperty=k.toCamelCase(y)}},activate:function(y,x){var z=this.greedyProperty;var A="apply";this.split(y);if(z&&this.values.style[z]=="inherit"){A="remove"}this[A](x)}});var i=d.extend({init:function(x){d.fn.init.call(this,t(x,{finder:new q(x.format),formatter:function(){return new w(x.format)}}))}});var o=g.extend({update:function(z,x){var y=z.data(this.type);y.close();y.value(this.finder.getFormat(x))}});var p=o.extend({init:function(x){g.fn.init.call(this,x);this.type=(k.support.browser.msie||k.support.touch)?"kendoDropDownList":"kendoComboBox";this.format=[{tags:["span"]}];this.finder=new b(this.format,x.cssAttr)},command:function(x){var y=this.options,A=this.format,z={};return new n.FormatCommand(t(x,{formatter:function(){z[y.domAttr]=x.value;return new u(A,{style:z},y.cssAttr)}}))},initialize:function(C,B){var z=B.editor,y=this.options,A=y.name,D,x=[];if(y.defaultValue){x=[{text:z.options.messages[y.defaultValue[0].text],value:y.defaultValue[0].value}]}D=x.concat(y.items?y.items:(z.options[A]||[]));C[this.type]({dataTextField:"text",dataValueField:"value",dataSource:D,change:function(){g.exec(z,A,this.value())},highlightFirst:false});C.closest(".k-widget").removeClass("k-"+A).find("*").addBack().attr("unselectable","on");C.data(this.type).value("inherit")}});var a=g.extend({init:function(x){g.fn.init.call(this,x);this.format=[{tags:["span"]}];this.finder=new b(this.format,x.cssAttr)},options:{palette:"websafe"},update:function(){this._widget.close()},command:function(x){var y=this.options,A=this.format,z={};return new n.FormatCommand(t(x,{formatter:function(){z[y.domAttr]=x.value;return new u(A,{style:z},y.cssAttr)}}))},initialize:function(C,B){var z=B.editor,A=this.name,y=t({},a.fn.options,this.options),x=y.palette;C=this._widget=new k.ui.ColorPicker(C,{value:e.isArray(x)?x[0]:"#000",toolIcon:"k-"+y.name,palette:x,change:function(){var D=C.value();if(D){g.exec(z,A,D)}z.focus()},activate:function(D){D.preventDefault();C.trigger("change")}});C.wrapper.attr({title:B.title,unselectable:"on"}).find("*").attr("unselectable","on")}});t(n,{InlineFormatFinder:q,InlineFormatter:w,DelayedExecutionTool:o,GreedyInlineFormatFinder:b,GreedyInlineFormatter:u,InlineFormatTool:i,FontTool:p,ColorTool:a});c("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]);l("bold",new i({key:"B",ctrl:true,format:f.bold,template:new m({template:h.buttonTemplate,title:"Bold"})}));c("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]);l("italic",new i({key:"I",ctrl:true,format:f.italic,template:new m({template:h.buttonTemplate,title:"Italic"})}));c("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]);l("underline",new i({key:"U",ctrl:true,format:f.underline,template:new m({template:h.buttonTemplate,title:"Underline"})}));c("strikethrough",[{tags:["del","strike"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]);l("strikethrough",new i({format:f.strikethrough,template:new m({template:h.buttonTemplate,title:"Strikethrough"})}));c("superscript",[{tags:["sup"]}]);l("superscript",new i({format:f.superscript,template:new m({template:h.buttonTemplate,title:"Superscript"})}));c("subscript",[{tags:["sub"]}]);l("subscript",new i({format:f.subscript,template:new m({template:h.buttonTemplate,title:"Subscript"})}));l("foreColor",new a({cssAttr:"color",domAttr:"color",name:"foreColor",template:new m({template:h.colorPickerTemplate,title:"Color"})}));l("backColor",new a({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new m({template:h.colorPickerTemplate,title:"Background Color"})}));l("fontName",new p({cssAttr:"font-family",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new m({template:h.comboBoxTemplate,title:"Font Name"})}));l("fontSize",new p({cssAttr:"font-size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new m({template:h.comboBoxTemplate,title:"Font Size"})}))})(window.kendo.jQuery);(function(e){var k=window.kendo,q=k.Class,r=e.extend,n=k.ui.editor,f=k.ui.Editor.fn.options.formats,p=n.Dom,o=n.Command,m=n.ToolTemplate,c=n.FormatTool,h=n.EditorUtils,l=h.registerTool,b=h.registerFormat,t=n.RangeUtils;var g=q.extend({init:function(u){this.format=u},contains:function(x,w){var v,u,y;for(v=0,u=w.length;v<u;v++){y=w[v];if(!y||!p.isAncestorOrSelf(x,y)){return false}}return true},findSuitable:function(v){var A=this.format,x=[],w,u,y;for(w=0,u=v.length;w<u;w++){for(var z=A.length-1;z>=0;z--){y=p.ofType(v[w],A[z].tags)?v[w]:p.parentOfType(v[w],A[z].tags);if(y){break}}if(!y||y.contentEditable==="true"){return[]}if(e.inArray(y,x)<0){x.push(y)}}for(w=0,u=x.length;w<u;w++){if(this.contains(x[w],x)){return[x[w]]}}return x},findFormat:function(y){var A=this.format,x,u,z,w,v;var B=p.editableParent(y);for(x=0,u=A.length;x<u;x++){z=y;w=A[x].tags;v=A[x].attr;while(z&&p.isAncestorOf(B,z)){if(p.ofType(z,w)&&p.attrEquals(z,v)){return z}z=z.parentNode}}return null},getFormat:function(w){var z=this,y=function(A){return z.findFormat(p.isDataNode(A)?A.parentNode:A)},v=y(w[0]),x,u;if(!v){return""}for(x=1,u=w.length;x<u;x++){if(v!=y(w[x])){return""}}return v.nodeName.toLowerCase()},isFormatted:function(v){for(var w=0,u=v.length;w<u;w++){if(!this.findFormat(v[w])){return false}}return true}});var a=q.extend({init:function(v,u){this.format=v;this.values=u;this.finder=new g(v)},wrap:function(C,w,v){var A=v.length==1?p.blockParentOrBody(v[0]):p.commonAncestor.apply(null,v);if(p.isInline(A)){A=p.blockParentOrBody(A)}var B=p.significantChildNodes(A),z=p.findNodeIndex(B[0]),u=p.create(A.ownerDocument,C,w),x,y;for(x=0;x<B.length;x++){y=B[x];if(p.isBlock(y)){p.attr(y,w);if(u.childNodes.length){p.insertBefore(u,y);u=u.cloneNode(false)}z=p.findNodeIndex(y)+1;continue}u.appendChild(y)}if(u.firstChild){p.insertAt(A,u,z)}},apply:function(v){var C,D=this.values;function w(F){return r({},F&&F.attr,D)}var B=p.filter("img",v);var y=h.formatByName("img",this.format);var E=w(y);e.each(B,function(){p.attr(this,E)});if(B.length==v.length){return}var u=p.filter("img",v,true);var A=this.finder.findSuitable(u);if(A.length){for(var x=0,z=A.length;x<z;x++){C=h.formatByName(p.name(A[x]),this.format);p.attr(A[x],w(C))}}else{C=this.format[0];this.wrap(C.tags[0],w(C),u)}},remove:function(v){var x,u,z,y,w;for(x=0,u=v.length;x<u;x++){z=this.finder.findFormat(v[x]);if(z){w=p.name(z);if(w=="div"&&!z.getAttribute("class")){p.unwrap(z)}else{y=h.formatByName(w,this.format);if(y.attr.style){p.unstyle(z,y.attr.style)}if(y.attr.className){p.removeClass(z,y.attr.className)}}}}},toggle:function(v){var w=this,u=t.nodes(v);if(w.finder.isFormatted(u)){w.remove(u)}else{w.apply(u)}}});var s=q.extend({init:function(w,u){var v=this;v.format=w;v.values=u;v.finder=new g(w)},apply:function(v){var D=this.format;var u=p.blockParents(v);var C=D[0].tags[0];var y,A,B,E,z;var x;var w;if(u.length){for(y=0,A=u.length;y<A;y++){w=p.name(u[y]);if(w=="li"){B=u[y].parentNode;E=new n.ListFormatter(B.nodeName.toLowerCase(),C);z=this.editor.createRange();z.selectNode(u[y]);E.toggle(z)}else{if(C&&(w=="td"||u[y].attributes.contentEditable)){new a(D,this.values).apply(u[y].childNodes)}else{x=p.changeTag(u[y],C);p.attr(x,D[0].attr)}}}}else{new a(D,this.values).apply(v)}},toggle:function(v){var u=t.textNodes(v);if(!u.length){v.selectNodeContents(v.commonAncestorContainer);u=t.textNodes(v);if(!u.length){u=p.significantChildNodes(v.commonAncestorContainer)}}this.apply(u)}});var d=o.extend({init:function(u){u.formatter=u.formatter();o.fn.init.call(this,u)}});var i=c.extend({init:function(u){c.fn.init.call(this,r(u,{finder:new g(u.format),formatter:function(){return new a(u.format)}}))}});r(n,{BlockFormatFinder:g,BlockFormatter:a,GreedyBlockFormatter:s,FormatCommand:d,BlockFormatTool:i});var j=["ul","ol","li"];b("justifyLeft",[{tags:p.nonListBlockElements,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{"float":"left",display:"",marginLeft:"",marginRight:""}}},{tags:j,attr:{style:{textAlign:"left",listStylePosition:""}}}]);l("justifyLeft",new i({format:f.justifyLeft,template:new m({template:h.buttonTemplate,title:"Justify Left"})}));b("justifyCenter",[{tags:p.nonListBlockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto","float":""}}},{tags:j,attr:{style:{textAlign:"center",listStylePosition:"inside"}}}]);l("justifyCenter",new i({format:f.justifyCenter,template:new m({template:h.buttonTemplate,title:"Justify Center"})}));b("justifyRight",[{tags:p.nonListBlockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{"float":"right",display:"",marginLeft:"",marginRight:""}}},{tags:j,attr:{style:{textAlign:"right",listStylePosition:"inside"}}}]);l("justifyRight",new i({format:f.justifyRight,template:new m({template:h.buttonTemplate,title:"Justify Right"})}));b("justifyFull",[{tags:p.nonListBlockElements,attr:{style:{textAlign:"justify"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto","float":""}}},{tags:j,attr:{style:{textAlign:"justify",listStylePosition:""}}}]);l("justifyFull",new i({format:f.justifyFull,template:new m({template:h.buttonTemplate,title:"Justify Full"})}))})(window.kendo.jQuery);(function(f){var j=window.kendo,i=f.extend,c=j.ui.editor,d=c.Dom,a=c.Command,l=c.Tool,k=c.BlockFormatter,e=d.normalize,g=c.RangeUtils,h=c.EditorUtils.registerTool;var b=a.extend({init:function(n){this.options=n;a.fn.init.call(this,n)},_insertMarker:function(q,p){var o=d.create(q,"a"),n;o.className="k-marker";p.insertNode(o);if(!o.parentNode){n=p.commonAncestorContainer;n.innerHTML="";n.appendChild(o)}e(o.parentNode);return o},_moveFocus:function(n,o){if(d.isEmpty(o)){n.setStartBefore(o)}else{n.selectNodeContents(o);var p=g.textNodes(n)[0];if(!p){while(o.childNodes.length&&!d.is(o.firstChild,"br")){o=o.firstChild}p=o}if(d.isEmpty(p)){n.setStartBefore(p)}else{n.selectNodeContents(p)}}},shouldTrim:function(n){var q="p,h1,h2,h3,h4,h5,h6".split(","),p=d.parentOfType(n.startContainer,q),o=d.parentOfType(n.endContainer,q);return(p&&!o)||(!p&&o)},_blankAfter:function(n){while(n&&(d.isMarker(n)||d.stripBom(n.nodeValue)==="")){n=n.nextSibling}return !n},exec:function(){var r=this.getRange(),v=g.documentFromRange(r),w,s,q,t=c.emptyElementContent,o,p,x,y,n,u=this.shouldTrim(r);r.deleteContents();p=this._insertMarker(v,r);x=d.closestEditableOfType(p,["li"]);y=d.closestEditableOfType(p,"h1,h2,h3,h4,h5,h6".split(","));if(x){if(d.emptyNode(x)){o=d.create(v,"p");if(x.nextSibling){n=r.cloneRange();n.selectNode(x);g.split(n,x.parentNode)}d.insertAfter(o,x.parentNode);d.remove(x.parentNode.childNodes.length==1?x.parentNode:x);o.innerHTML=t;q=o}}else{if(y&&this._blankAfter(p)){o=d.create(v,"p");d.insertAfter(o,y);o.innerHTML=t;d.remove(p);q=o}}if(!q){if(!(x||y)){new k([{tags:["p"]}]).apply([p])}r.selectNode(p);w=d.parentOfType(p,[x?"li":y?d.name(y):"p"]);g.split(r,w,u);s=w.previousSibling;if(d.is(s,"li")&&s.firstChild&&!d.is(s.firstChild,"br")){s=s.firstChild}q=w.nextSibling;this.clean(s);this.clean(q,{links:true});if(d.is(q,"li")&&q.firstChild&&!d.is(q.firstChild,"br")){q=q.firstChild}d.remove(w);e(s)}e(q);this._moveFocus(r,q);r.collapse(true);d.scrollTo(q);g.selectRange(r)},clean:function(p,o){var n=p;if(p.firstChild&&d.is(p.firstChild,"br")){d.remove(p.firstChild)}if(d.isDataNode(p)&&!p.nodeValue){p=p.parentNode}if(p){var q=false;while(p.firstChild&&p.firstChild.nodeType==1){q=q||(d.significantNodes(p.childNodes).length>1);p=p.firstChild}if(!d.isEmpty(p)&&/^\s*$/.test(p.innerHTML)&&!q){f(n).find(".k-br").remove();p.innerHTML=c.emptyElementContent}if(o&&o.links){while(p!=n){if(d.is(p,"a")&&d.emptyNode(p)){d.unwrap(p);break}p=p.parentNode}}}}});var m=a.extend({init:function(n){this.options=n;a.fn.init.call(this,n)},exec:function(){var n=this.getRange();var q=d.create(g.documentFromRange(n),"br");var p;var o=j.support.browser;var r=o.msie&&o.version<11;n.deleteContents();n.insertNode(q);e(q.parentNode);if(!r&&(!q.nextSibling||d.isWhitespace(q.nextSibling))){p=q.cloneNode(true);p.className="k-br";d.insertAfter(p,q)}n.setStartAfter(q);n.collapse(true);d.scrollTo(q.nextSibling||q);g.selectRange(n)}});i(c,{ParagraphCommand:b,NewLineCommand:m});h("insertLineBreak",new l({key:13,shift:true,command:m}));h("insertParagraph",new l({key:13,command:b}))})(window.kendo.jQuery);(function(c){var h=window.kendo,o=h.Class,p=c.extend,k=h.ui.editor,n=k.Dom,r=k.RangeUtils,g=k.EditorUtils,l=k.Command,j=k.ToolTemplate,b=k.FormatTool,e=k.BlockFormatFinder,a=r.textNodes,i=k.EditorUtils.registerTool;var q=e.extend({init:function(s){this.tag=s;var t=this.tags=[s=="ul"?"ol":"ul",s];e.fn.init.call(this,[{tags:t}])},isFormatted:function(s){var u=[];var v,t;for(t=0;t<s.length;t++){v=this.findFormat(s[t]);if(v&&n.name(v)==this.tag){u.push(v)}}if(u.length<1){return false}if(u.length!=s.length){return false}for(t=0;t<u.length;t++){if(u[t].parentNode!=v.parentNode){break}if(u[t]!=v){return false}}return true},findSuitable:function(s){var t=this.findFormat(s[0]);if(t&&n.name(t)==this.tag){return t}return null}});var f=o.extend({init:function(s,t){var u=this;u.finder=new q(s);u.tag=s;u.unwrapTag=t},isList:function(t){var s=n.name(t);return s=="ul"||s=="ol"||s=="dl"},wrap:function(w,t){var s=n.create(w.ownerDocument,"li"),u,v;for(u=0;u<t.length;u++){v=t[u];if(n.is(v,"li")){w.appendChild(v);continue}if(this.isList(v)){while(v.firstChild){w.appendChild(v.firstChild)}continue}if(n.is(v,"td")){while(v.firstChild){s.appendChild(v.firstChild)}w.appendChild(s);v.appendChild(w);w=w.cloneNode(false);s=s.cloneNode(false);continue}s.appendChild(v);if(n.isBlock(v)){w.appendChild(s);n.unwrap(v);s=s.cloneNode(false)}}if(s.firstChild){w.appendChild(s)}},containsAny:function(u,s){for(var t=0;t<s.length;t++){if(n.isAncestorOrSelf(u,s[t])){return true}}return false},suitable:function(u,s){if(u.className=="k-marker"){var t=u.nextSibling;if(t&&n.isBlock(t)){return false}t=u.previousSibling;if(t&&n.isBlock(t)){return false}}return this.containsAny(u,s)||n.isInline(u)||u.nodeType==3},_parentLists:function(t){var s=n.closestEditable(t);return c(t).parentsUntil(s,"ul,ol")},split:function(v){var u=a(v);var z,t,w;if(u.length){z=n.parentOfType(u[0],["li"]);t=n.parentOfType(u[u.length-1],["li"]);v.setStartBefore(z);v.setEndAfter(t);for(var x=0,s=u.length;x<s;x++){var y=this.finder.findFormat(u[x]);if(y){w=this._parentLists(y);if(w.length){r.split(v,w.last()[0],true)}else{r.split(v,y,true)}}}}},merge:function(s,v){var u=v.previousSibling,t;while(u&&(u.className=="k-marker"||(u.nodeType==3&&n.isWhitespace(u)))){u=u.previousSibling}if(u&&n.name(u)==s){while(v.firstChild){u.appendChild(v.firstChild)}n.remove(v);v=u}t=v.nextSibling;while(t&&(t.className=="k-marker"||(t.nodeType==3&&n.isWhitespace(t)))){t=t.nextSibling}if(t&&n.name(t)==s){while(v.lastChild){t.insertBefore(v.lastChild,t.firstChild)}n.remove(v)}},breakable:function(s){return(s!=s.ownerDocument.body&&!/table|tbody|tr|td/.test(n.name(s))&&!s.attributes.contentEditable)},applyOnSection:function(x,u){var C=this.tag;var y=n.closestSplittableParent(u);var B=[];var A=this.finder.findSuitable(u);if(!A){A=new q(C=="ul"?"ol":"ul").findSuitable(u)}var z;if(/table|tbody/.test(n.name(y))){z=c.map(u,function(D){return n.parentOfType(D,["td"])})}else{z=n.significantChildNodes(y);if(c.grep(z,n.isBlock).length){z=c.grep(z,c.proxy(function(D){return this.containsAny(D,u)},this))}if(!z.length){z=u}}function s(){B.push(this)}for(var w=0;w<z.length;w++){var v=z[w];var t=(!A||!n.isAncestorOrSelf(A,v))&&this.suitable(v,u);if(!t){continue}if(A&&this.isList(v)){c.each(v.childNodes,s);n.remove(v)}else{B.push(v)}}if(B.length==z.length&&this.breakable(y)){B=[y]}if(!A){A=n.create(y.ownerDocument,C);n.insertBefore(A,B[0])}this.wrap(A,B);if(!n.is(A,C)){n.changeTag(A,C)}this.merge(C,A)},apply:function(s){var u=0,x=[],t,w,v;do{v=n.closestEditable(s[u],["td","body"]);if(!t||v!=t){if(t){x.push({section:t,nodes:w})}w=[s[u]];t=v}else{w.push(s[u])}u++}while(u<s.length);x.push({section:t,nodes:w});for(u=0;u<x.length;u++){this.applyOnSection(x[u].section,x[u].nodes)}},unwrap:function(w){var u=w.ownerDocument.createDocumentFragment(),v=this.unwrapTag,t,s,x,y;for(s=w.firstChild;s;s=s.nextSibling){x=n.create(w.ownerDocument,v||"p");while(s.firstChild){y=s.firstChild;if(n.isBlock(y)){if(x.firstChild){u.appendChild(x);x=n.create(w.ownerDocument,v||"p")}u.appendChild(y)}else{x.appendChild(y)}}if(x.firstChild){u.appendChild(x)}}t=this._parentLists(w);if(t[0]){n.insertAfter(u,t.last()[0]);t.last().remove()}else{n.insertAfter(u,w)}n.remove(w)},remove:function(t){var v;for(var u=0,s=t.length;u<s;u++){v=this.finder.findFormat(t[u]);if(v){this.unwrap(v)}}},toggle:function(t){var v=this,s=a(t),u=t.commonAncestorContainer;if(!s.length){t.selectNodeContents(u);s=a(t);if(!s.length){var w=u.ownerDocument.createTextNode("");t.startContainer.appendChild(w);s=[w];t.selectNode(w.parentNode)}}if(v.finder.isFormatted(s)){v.split(t);v.remove(s)}else{v.apply(s)}}});var d=l.extend({init:function(s){s.formatter=new f(s.tag);l.fn.init.call(this,s)}});var m=b.extend({init:function(s){this.options=s;b.fn.init.call(this,p(s,{finder:new q(s.tag)}))},command:function(s){return new d(p(s,{tag:this.options.tag}))}});p(k,{ListFormatFinder:q,ListFormatter:f,ListCommand:d,ListTool:m});i("insertUnorderedList",new m({tag:"ul",template:new j({template:g.buttonTemplate,title:"Insert unordered list"})}));i("insertOrderedList",new m({tag:"ol",template:new j({template:g.buttonTemplate,title:"Insert ordered list"})}))})(window.kendo.jQuery);(function(c,e){var h=window.kendo,q=h.Class,s=c.extend,m=c.proxy,k=h.ui.editor,p=k.Dom,u=k.RangeUtils,g=k.EditorUtils,l=k.Command,f=k.Tool,j=k.ToolTemplate,v=k.InlineFormatter,o=k.InlineFormatFinder,a=u.textNodes,i=k.EditorUtils.registerTool;var r=q.extend({findSuitable:function(w){return p.parentOfType(w,["a"])}});var n=q.extend({init:function(){this.finder=new r()},apply:function(B,z){var w=a(B);var y,D,F,C,E;if(z.innerHTML){D=u.documentFromRange(B);y=u.getMarkers(B);B.deleteContents();C=p.create(D,"a",z);B.insertNode(C);E=C.parentNode;if(p.name(E)=="a"){p.insertAfter(C,E)}if(p.emptyNode(E)){p.remove(E)}var x=C;for(var A=0;A<y.length;A++){p.insertAfter(y[A],x);x=y[A]}if(y.length){p.insertBefore(D.createTextNode("\ufeff"),y[1]);p.insertAfter(D.createTextNode("\ufeff"),y[1]);B.setStartBefore(y[0]);B.setEndAfter(y[y.length-1])}}else{F=new v([{tags:["a"]}],z);F.finder=this.finder;F.apply(w)}}});var d=l.extend({init:function(w){w.formatter={toggle:function(x){new v([{tags:["a"]}]).remove(a(x))}};this.options=w;l.fn.init.call(this,w)}});var t=l.extend({init:function(w){this.options=w;l.fn.init.call(this,w);this.formatter=new n();if(!w.url){this.attributes=null;this.async=true}else{this.exec=function(){this.formatter.apply(w.range,{href:w.url,innerHTML:w.text||w.url,target:w.target})}}},_dialogTemplate:function(){return h.template("<div class=\"k-editor-dialog k-popup-edit-form k-edit-form-container\"><div class='k-edit-label'><label for='k-editor-link-url'>#: messages.linkWebAddress #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-url'></div><div class='k-edit-label k-editor-link-text-row'><label for='k-editor-link-text'>#: messages.linkText #</label></div><div class='k-edit-field k-editor-link-text-row'><input type='text' class='k-input k-textbox' id='k-editor-link-text'></div><div class='k-edit-label'><label for='k-editor-link-title'>#: messages.linkToolTip #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-title'></div><div class='k-edit-label'></div><div class='k-edit-field'><input type='checkbox' class='k-checkbox' id='k-editor-link-target'><label for='k-editor-link-target' class='k-checkbox-label'>#: messages.linkOpenInNewWindow #</label></div><div class='k-edit-buttons k-state-default'><button class=\"k-dialog-insert k-button k-primary\">#: messages.dialogInsert #</button><button class=\"k-dialog-close k-button\">#: messages.dialogCancel #</button></div></div>")({messages:this.editor.options.messages})},exec:function(){var B=this.getRange().collapsed;var A=this.editor.options.messages;this._initialText="";this._range=this.lockRange(true);var y=a(this._range);var w=y.length?this.formatter.finder.findSuitable(y[0]):null;var x=y.length&&p.name(y[0])=="img";var z=this.createDialog(this._dialogTemplate(),{title:A.createLink,close:m(this._close,this),visible:false});if(w){this._range.selectNodeContents(w);y=a(this._range)}this._initialText=this.linkText(y);z.find(".k-dialog-insert").click(m(this._apply,this)).end().find(".k-dialog-close").click(m(this._close,this)).end().find(".k-edit-field input").keydown(m(this._keydown,this)).end().find("#k-editor-link-url").val(this.linkUrl(w)).end().find("#k-editor-link-text").val(this._initialText).end().find("#k-editor-link-title").val(w?w.title:"").end().find("#k-editor-link-target").attr("checked",w?w.target=="_blank":false).end().find(".k-editor-link-text-row").toggle(!x);this._dialog=z.data("kendoWindow").center().open();c("#k-editor-link-url",z).focus().select()},_keydown:function(x){var w=h.keys;if(x.keyCode==w.ENTER){this._apply(x)}else{if(x.keyCode==w.ESC){this._close(x)}}},_apply:function(A){var x=this._dialog.element;var w=c("#k-editor-link-url",x).val();var C,B,z;var y=c("#k-editor-link-text",x);if(w&&w!="http://"){if(w.indexOf("@")>0&&!/^(\w+:)|(\/\/)/i.test(w)){w="mailto:"+w}this.attributes={href:w};C=c("#k-editor-link-title",x).val();if(C){this.attributes.title=C}if(y.is(":visible")){B=y.val();if(!B&&!this._initialText){this.attributes.innerHTML=w}else{if(B&&(B!==this._initialText)){this.attributes.innerHTML=p.stripBom(B)}}}z=c("#k-editor-link-target",x).is(":checked");this.attributes.target=z?"_blank":null;this.formatter.apply(this._range,this.attributes)}this._close(A);if(this.change){this.change()}},_close:function(w){w.preventDefault();this._dialog.destroy();p.windowFromDocument(u.documentFromRange(this._range)).focus();this.releaseRange(this._range)},linkUrl:function(w){if(w){return w.getAttribute("href",2)}return"http://"},linkText:function(w){var y="";var x;for(x=0;x<w.length;x++){y+=w[x].nodeValue}return p.stripBom(y||"")},redo:function(){var w=this.lockRange(true);this.formatter.apply(w,this.attributes);this.releaseRange(w)}});var b=f.extend({init:function(w){this.options=w;this.finder=new o([{tags:["a"]}]);f.fn.init.call(this,c.extend(w,{command:d}))},initialize:function(x,w){f.fn.initialize.call(this,x,w);x.addClass("k-state-disabled")},update:function(x,w){x.toggleClass("k-state-disabled",!this.finder.isFormatted(w)).removeClass("k-state-hover")}});s(h.ui.editor,{LinkFormatFinder:r,LinkFormatter:n,UnlinkCommand:d,LinkCommand:t,UnlinkTool:b});i("createLink",new f({key:"K",ctrl:true,command:t,template:new j({template:g.buttonTemplate,title:"Create Link"})}));i("unlink",new b({key:"K",ctrl:true,shift:true,template:new j({template:g.buttonTemplate,title:"Remove Link"})}))})(window.kendo.jQuery);(function(g,d){var o=window.kendo,n=g.extend,l=o.ui.editor,j=l.EditorUtils,e=l.Dom,k=j.registerTool,c=l.ToolTemplate,i=l.RangeUtils,a=l.Command,p=l.LinkFormatter,m=i.textNodes,q=o.keys,b="#k-editor-file-url",f="#k-editor-file-title";var h=a.extend({init:function(r){var s=this;a.fn.init.call(s,r);s.formatter=new p();s.async=true;s.attributes={}},insertFile:function(t,s){var r=this.attributes;var u=i.documentFromRange(s);if(r.href&&r.href!="http://"){if(!t){t=e.create(u,"a",{href:r.href});t.innerHTML=r.innerHTML;s.deleteContents();s.insertNode(t);if(!t.nextSibling){e.insertAfter(u.createTextNode("\ufeff"),t)}s.setStartAfter(t);s.setEndAfter(t);i.selectRange(s);return true}else{e.attr(t,r)}}return false},_dialogTemplate:function(r){return o.template('<div class="k-editor-dialog k-popup-edit-form k-edit-form-container"># if (showBrowser) { #<div class="k-filebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-file-url">#: messages.fileWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-file-url"></div><div class=\'k-edit-label\'><label for="k-editor-file-title">#: messages.fileTitle #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-file-title"></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button k-primary">#: messages.dialogInsert #</button><button class="k-dialog-close k-button">#: messages.dialogCancel #</button></div></div>')({messages:this.editor.options.messages,showBrowser:r})},redo:function(){var s=this,r=s.lockRange();this.formatter.apply(r,this.attributes);s.releaseRange(r)},exec:function(){var y=this,x=y.lockRange(),r=m(x),v=false,t=r.length?this.formatter.finder.findSuitable(r[0]):null,z,E=y.editor.options,w=E.messages,C=E.fileBrowser,u=!!(o.ui.FileBrowser&&C&&C.transport&&C.transport.read!==d),s={title:w.insertFile,visible:false,resizable:u};function B(H){var G=z.element,F=G.find(b).val().replace(/ /g,"%20"),I=G.find(f).val();y.attributes={href:F,innerHTML:I!==""?I:F};v=y.insertFile(t,x);D(H);if(y.change){y.change()}}function D(F){F.preventDefault();z.destroy();e.windowFromDocument(i.documentFromRange(x)).focus();if(!v){y.releaseRange(x)}}function A(F){if(F.keyCode==q.ENTER){B(F)}else{if(F.keyCode==q.ESC){D(F)}}}s.close=D;if(u){s.width=750}z=this.createDialog(y._dialogTemplate(u),s).toggleClass("k-filebrowser-dialog",u).find(".k-dialog-insert").click(B).end().find(".k-dialog-close").click(D).end().find(".k-edit-field input").keydown(A).end().find(b).val(t?t.getAttribute("href",2):"http://").end().find(f).val(t?t.title:"").end().data("kendoWindow");if(u){new o.ui.FileBrowser(z.element.find(".k-filebrowser"),n({},C,{change:function(){z.element.find(b).val(this.value())},apply:B}))}z.center().open();z.element.find(b).focus().select()}});o.ui.editor.FileCommand=h;k("insertFile",new l.Tool({command:h,template:new c({template:j.buttonTemplate,title:"Insert File"})}))})(window.kendo.jQuery);(function(j,f){var p=window.kendo,o=j.extend,n=p.ui.editor,l=n.EditorUtils,g=n.Dom,m=l.registerTool,d=n.ToolTemplate,k=n.RangeUtils,a=n.Command,q=p.keys,c="#k-editor-image-url",b="#k-editor-image-title",i="#k-editor-image-width",h="#k-editor-image-height";var e=a.extend({init:function(r){var s=this;a.fn.init.call(s,r);s.async=true;s.attributes={}},insertImage:function(t,s){var r=this.attributes;var u=k.documentFromRange(s);if(r.src&&r.src!="http://"){var v=function(){setTimeout(function(){if(!r.width){t.removeAttribute("width")}if(!r.height){t.removeAttribute("height")}t.removeAttribute("complete")})};if(!t){t=g.create(u,"img",r);t.onload=t.onerror=v;s.deleteContents();s.insertNode(t);if(!t.nextSibling){g.insertAfter(u.createTextNode("\ufeff"),t)}v();s.setStartAfter(t);s.setEndAfter(t);k.selectRange(s);return true}else{t.onload=t.onerror=v;g.attr(t,r);v()}}return false},_dialogTemplate:function(r){return p.template('<div class="k-editor-dialog k-popup-edit-form k-edit-form-container"># if (showBrowser) { #<div class="k-filebrowser k-imagebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-image-url">#: messages.imageWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-url"></div><div class=\'k-edit-label\'><label for="k-editor-image-title">#: messages.imageAltText #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-title"></div><div class=\'k-edit-label\'><label for="k-editor-image-width">#: messages.imageWidth #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-width"></div><div class=\'k-edit-label\'><label for="k-editor-image-height">#: messages.imageHeight #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-height"></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button k-primary">#: messages.dialogInsert #</button><button class="k-dialog-close k-button">#: messages.dialogCancel #</button></div></div>')({messages:this.editor.options.messages,showBrowser:r})},redo:function(){var s=this,r=s.lockRange();if(!s.insertImage(k.image(r),r)){s.releaseRange(r)}},exec:function(){var y=this,w=y.lockRange(),u=false,v=k.image(w),B=v&&v.getAttribute("width")||"",x=v&&v.getAttribute("height")||"",z,F=y.editor.options,t=F.messages,C=F.imageBrowser,s=!!(p.ui.ImageBrowser&&C&&C.transport&&C.transport.read!==f),r={title:t.insertImage,visible:false,resizable:s};function D(J){var H=z.element,G=parseInt(H.find(i).val(),10),I=parseInt(H.find(h).val(),10);y.attributes={src:H.find(c).val().replace(/ /g,"%20"),alt:H.find(b).val()};y.attributes.width=null;y.attributes.height=null;if(!isNaN(G)&&G>0){y.attributes.width=G}if(!isNaN(I)&&I>0){y.attributes.height=I}u=y.insertImage(v,w);E(J);if(y.change){y.change()}}function E(G){G.preventDefault();z.destroy();g.windowFromDocument(k.documentFromRange(w)).focus();if(!u){y.releaseRange(w)}}function A(G){if(G.keyCode==q.ENTER){D(G)}else{if(G.keyCode==q.ESC){E(G)}}}r.close=E;if(s){r.width=750}z=this.createDialog(y._dialogTemplate(s),r).toggleClass("k-filebrowser-dialog",s).find(".k-dialog-insert").click(D).end().find(".k-dialog-close").click(E).end().find(".k-edit-field input").keydown(A).end().find(c).val(v?v.getAttribute("src",2):"http://").end().find(b).val(v?v.alt:"").end().find(i).val(B).end().find(h).val(x).end().data("kendoWindow");if(s){new p.ui.ImageBrowser(z.element.find(".k-imagebrowser"),o({},C,{change:function(){z.element.find(c).val(this.value())},apply:D}))}z.center().open();z.element.find(c).focus().select()}});p.ui.editor.ImageCommand=e;m("insertImage",new n.Tool({command:e,template:new d({template:l.buttonTemplate,title:"Insert Image"})}))})(window.kendo.jQuery);(function(b,f){var e=window.kendo,a=e.ui.DropDownList,d=e.ui.editor.Dom;var c=a.extend({init:function(h,g){var i=this;a.fn.init.call(i,h,g);if(e.support.mobileOS.ios){this._initSelectOverlay();this.bind("dataBound",b.proxy(this._initSelectOverlay,this))}i.text(i.options.title);i.bind("open",function(){if(i.options.autoSize){var j=i.list,k;j.css({whiteSpace:"nowrap",width:"auto"});k=j.width();if(k){k+=20}else{k=i._listWidth}j.css("width",k+e.support.scrollbar());i._listWidth=k}})},options:{name:"SelectBox",index:-1},_initSelectOverlay:function(){var o=this;var n=o.value();var l=this.dataSource.view();var p;var j="";var k=e.htmlEncode;for(var h=0;h<l.length;h++){p=l[h];j+="<option value='"+k(p.value)+"'";if(p.value==n){j+=" selected"}j+=">"+k(p.text)+"</option>"}var m=b("<select class='k-select-overlay'>"+j+"</select>");var g=b(this.element).closest(".k-widget");g.next(".k-select-overlay").remove();m.insertAfter(g);m.on("change",function(){o.value(this.value);o.trigger("change")})},value:function(i){var h=this,g=a.fn.value.call(h,i);if(i===f){return g}if(!a.fn.value.call(h)){h.text(h.options.title)}},decorate:function(h){var n=this,o=n.dataSource,j=o.data(),k,g,m,l;if(h){n.list.css("background-color",d.getEffectiveBackground(b(h)))}for(k=0;k<j.length;k++){g=j[k].tag||"span";m=j[k].className;l=d.inlineStyle(h,g,{className:m});l=l.replace(/"/g,"'");j[k].style=l+";display:inline-block"}o.trigger("change")}});e.ui.plugin(c);e.ui.editor.SelectBox=c})(window.kendo.jQuery);(function(d,e){var m=window.kendo,s=m.Class,t=d.extend,p=m.ui.editor,r=p.Dom,h=p.EditorUtils,n=h.registerTool,q=p.Command,g=p.Tool,o=p.ToolTemplate,u=p.RangeUtils,c=r.blockElements,f=p.BlockFormatFinder,b=p.BlockFormatter;function j(w,z){var v=d(w).css("direction")=="rtl",y=v?"Right":"Left",x=r.name(w)!="td"?"margin"+y:"padding"+y;if(z===e){return w.style[x]||0}else{if(z>0){w.style[x]=z+"px"}else{w.style[x]="";if(!w.style.cssText){w.removeAttribute("style")}}}}var l=s.extend({init:function(){this.finder=new f([{tags:r.blockElements}])},apply:function(v){var C=this.finder.findSuitable(v),A=[],z,B,H,F,G;if(C.length){for(z=0,B=C.length;z<B;z++){if(r.is(C[z],"li")){if(!d(C[z]).index()){A.push(C[z].parentNode)}else{if(d.inArray(C[z].parentNode,A)<0){A.push(C[z])}}}else{A.push(C[z])}}while(A.length){H=A.shift();if(r.is(H,"li")){F=H.parentNode;G=d(H).prev("li");var E=G.find("ul,ol").last();var y=d(H).children("ul,ol")[0];if(y&&G[0]){if(E[0]){E.append(H);E.append(d(y).children());r.remove(y)}else{G.append(y);y.insertBefore(H,y.firstChild)}}else{y=G.children("ul,ol")[0];if(!y){y=r.create(H.ownerDocument,r.name(F));G.append(y)}while(H&&H.parentNode==F){y.appendChild(H);H=A.shift()}}}else{var x=parseInt(j(H),10)+30;j(H,x);for(var w=0;w<A.length;w++){if(d.contains(H,A[w])){A.splice(w,1)}}}}}else{var D=new b([{tags:["p"]}],{style:{marginLeft:30}});D.apply(v)}},remove:function(v){var C=this.finder.findSuitable(v),A,y,z,B,w,D,E,x;for(y=0,z=C.length;y<z;y++){E=d(C[y]);if(E.is("li")){B=E.parent();w=B.parent();if(w.is("li,ul,ol")&&!j(B[0])){if(A&&d.contains(A,w[0])){continue}D=E.nextAll("li");if(D.length){d(B[0].cloneNode(false)).appendTo(E).append(D)}if(w.is("li")){E.insertAfter(w)}else{E.appendTo(w)}if(!B.children("li").length){B.remove()}continue}else{if(A==B[0]){continue}A=B[0]}}else{A=C[y]}x=parseInt(j(A),10)-30;j(A,x)}}});var a=q.extend({init:function(v){v.formatter={toggle:function(w){new l().apply(u.nodes(w))}};q.fn.init.call(this,v)}});var i=q.extend({init:function(v){v.formatter={toggle:function(w){new l().remove(u.nodes(w))}};q.fn.init.call(this,v)}});var k=g.extend({init:function(v){g.fn.init.call(this,v);this.finder=new f([{tags:c}])},initialize:function(w,v){g.fn.initialize.call(this,w,v);w.addClass("k-state-disabled")},update:function(A,w){var y=this.finder.findSuitable(w),B,z,x,v;for(x=0,v=y.length;x<v;x++){B=j(y[x]);if(!B){z=d(y[x]).parents("ul,ol").length;B=(r.is(y[x],"li")&&(z>1||j(y[x].parentNode)))||(r.ofType(y[x],["ul","ol"])&&z>0)}if(B){A.removeClass("k-state-disabled");return}}A.addClass("k-state-disabled").removeClass("k-state-hover")}});t(p,{IndentFormatter:l,IndentCommand:a,OutdentCommand:i,OutdentTool:k});n("indent",new g({command:a,template:new o({template:h.buttonTemplate,title:"Indent"})}));n("outdent",new k({command:i,template:new o({template:h.buttonTemplate,title:"Outdent"})}))})(window.kendo.jQuery);(function(e,d){var i=window.kendo,h=e.extend,g=i.ui.editor,f=g.EditorUtils,a=g.Command,j=g.Tool,c=g.ToolTemplate;var b=a.extend({init:function(k){var l=this;l.options=k;a.fn.init.call(l,k);l.attributes=null;l.async=true},exec:function(){var q=this,n=q.editor,p=n.options.messages,m=e(i.template(b.template)(p)).appendTo(document.body),o=b.indent(n.value()),k=".k-editor-textarea";function l(s){n.value(m.find(k).val());r(s);if(q.change){q.change()}n.trigger("change")}function r(s){s.preventDefault();m.data("kendoWindow").destroy();n.focus()}this.createDialog(m,{title:p.viewHtml,close:r,visible:false}).find(k).val(o).end().find(".k-dialog-update").click(l).end().find(".k-dialog-close").click(r).end().data("kendoWindow").center().open();m.find(k).focus()}});h(b,{template:"<div class='k-editor-dialog k-popup-edit-form k-edit-form-container k-viewhtml-dialog'><textarea class='k-editor-textarea k-input'></textarea><div class='k-edit-buttons k-state-default'><button class='k-dialog-update k-button k-primary'>#: dialogUpdate #</button><button class='k-dialog-close k-button'>#: dialogCancel #</button></div></div>",indent:function(k){return k.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/ig,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/ig,"<$1$2>\n<li").replace(/<br \/>/ig,"<br />\n").replace(/\n$/,"")}});i.ui.editor.ViewHtmlCommand=b;g.EditorUtils.registerTool("viewHtml",new j({command:b,template:new c({template:f.buttonTemplate,title:"View HTML"})}))})(window.kendo.jQuery);(function(e){var j=window.kendo,i=j.ui.editor,m=i.Tool,b=i.ToolTemplate,k=i.DelayedExecutionTool,a=i.Command,d=i.Dom,g=i.EditorUtils,f=i.RangeUtils,h=g.registerTool;var l=k.extend({init:function(n){var o=this;m.fn.init.call(o,j.deepExtend({},o.options,n));o.type="kendoSelectBox";o.finder={getFormat:function(){return""}}},options:{items:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],width:110},toFormattingItem:function(o){var p=o.value;if(!p){return o}if(o.tag||o.className){return o}var n=p.indexOf(".");if(n===0){o.className=p.substring(1)}else{if(n==-1){o.tag=p}else{o.tag=p.substring(0,n);o.className=p.substring(n+1)}}return o},command:function(n){var o=n.value;o=this.toFormattingItem(o);return new i.FormatCommand({range:n.range,formatter:function(){var q,p=(o.tag||o.context||"span").split(","),r=[{tags:p,attr:{className:o.className||""}}];if(e.inArray(p[0],d.inlineElements)>=0){q=new i.GreedyInlineFormatter(r)}else{q=new i.GreedyBlockFormatter(r)}return q}})},initialize:function(s,r){var o=r.editor;var n=this.options;var q=n.name;var p=this;s.width(n.width);s.kendoSelectBox({dataTextField:"text",dataValueField:"value",dataSource:n.items||o.options[q],title:o.options.messages[q],autoSize:true,change:function(){var t=this.dataItem();if(t){m.exec(o,q,t.toJSON())}},dataBound:function(){var u,t=this.dataSource.data();for(u=0;u<t.length;u++){t[u]=p.toFormattingItem(t[u])}},highlightFirst:false,template:j.template('<span unselectable="on" style="display:block;#=(data.style||"")#">#:data.text#</span>')});s.addClass("k-decorated").closest(".k-widget").removeClass("k-"+q).find("*").addBack().attr("unselectable","on")},getFormattingValue:function(u,o){for(var r=0;r<u.length;r++){var v=u[r];var w=v.tag||v.context||"";var t=v.className?"."+v.className:"";var q=w+t;var s=e(o[0]).closest(q)[0];if(!s){continue}if(o.length==1){return v.value}for(var p=1;p<o.length;p++){if(!e(o[p]).closest(q)[0]){break}else{if(p==o.length-1){return v.value}}}}return""},update:function(s,o){var t=e(s).data(this.type);if(!t){return}var u=t.dataSource,n=u.data(),r,q,p=d.commonAncestor.apply(null,o);if(p!=d.closestEditable(p)&&this._ancestor==p){return}else{this._ancestor=p}for(r=0;r<n.length;r++){q=n[r].context;n[r].visible=!q||!!e(p).closest(q).length}u.filter([{field:"visible",operator:"eq",value:true}]);k.fn.update.call(this,s,o);t.value(this.getFormattingValue(u.view(),o));t.wrapper.toggleClass("k-state-disabled",!u.view().length)},destroy:function(){this._ancestor=null}});var c=a.extend({exec:function(){var p=new i.ListFormatter("ul");var o=this.lockRange(true);var n=this.options.remove||"strong,em,span,sup,sub,del,b,i,u,font".split(",");f.wrapSelectedElements(o);var r=new i.RangeIterator(o);r.traverse(function q(w){if(!w||d.isMarker(w)){return}var s=d.name(w);if(s=="ul"||s=="ol"){var v=w.previousSibling;var u=w.nextSibling;p.unwrap(w);for(;v&&v!=u;v=v.nextSibling){q(v)}}else{if(s=="blockquote"){d.changeTag(w,"p")}else{if(w.nodeType==1&&!d.insignificant(w)){for(var t=w.childNodes.length-1;t>=0;t--){q(w.childNodes[t])}w.removeAttribute("style");w.removeAttribute("class")}}}if(e.inArray(s,n)>-1){d.unwrap(w)}});this.releaseRange(o)}});e.extend(i,{FormattingTool:l,CleanFormatCommand:c});h("formatting",new l({template:new b({template:g.dropDownListTemplate,title:"Format"})}));h("cleanFormatting",new m({command:c,template:new b({template:g.buttonTemplate,title:"Clean formatting"})}))})(window.kendo.jQuery);(function(e,d){var j=window.kendo;var l=j.ui;var c=l.editor;var m=l.Widget;var i=e.extend;var k=e.proxy;var p=j.keys;var b=".kendoEditor";var g=j.ui.editor.EditorUtils;var a=j.ui.editor.ToolTemplate;var o=j.ui.editor.Tool;var n=".k-tool-group:visible a.k-tool:not(.k-state-disabled),.k-tool.k-overflow-anchor,.k-tool-group:visible .k-widget.k-colorpicker,.k-tool-group:visible .k-selectbox,.k-tool-group:visible .k-dropdown,.k-tool-group:visible .k-combobox .k-input";var h=o.extend({initialize:function(s,q){s.attr({unselectable:"on"});var r=q.editor.toolbar;s.on("click",e.proxy(function(){this.overflowPopup.toggle()},r))},options:{name:"overflowAnchor"},command:e.noop,update:e.noop,destroy:e.noop});g.registerTool("overflowAnchor",new h({key:"",ctrl:true,template:new a({template:g.overflowAnchorTemplate})}));var f=m.extend({init:function(r,q){var s=this;q=i({},q,{name:"EditorToolbar"});m.fn.init.call(s,r,q);if(q.popup){s._initPopup()}if(q.resizable&&q.resizable.toolbar){s._resizeHandler=j.onResize(function(){s.resize()});s.element.addClass("k-toolbar-resizable")}},events:["execute"],groups:{basic:["bold","italic","underline","strikethrough"],scripts:["subscript","superscript"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],links:["insertImage","insertFile","createLink","unlink"],lists:["insertUnorderedList","insertOrderedList","indent","outdent"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"],advanced:["viewHtml","cleanFormatting","print","pdf"],fonts:["fontName","fontSize"],colors:["foreColor","backColor"]},overflowFlaseTools:["formatting","fontName","fontSize","foreColor","backColor"],_initPopup:function(){this.window=e(this.element).wrap("<div class='editorToolbarWindow k-header' />").parent().prepend("<button class='k-button k-button-bare k-editortoolbar-dragHandle'><span class='k-icon k-i-move' /></button>").kendoWindow({title:false,resizable:false,draggable:{dragHandle:".k-editortoolbar-dragHandle"},animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}},minHeight:42,visible:false,autoFocus:false,actions:[],dragend:function(){this._moved=true}}).on("mousedown",function(q){if(!e(q.target).is(".k-icon")){q.preventDefault()}}).data("kendoWindow")},_toggleOverflowStyles:function(r,q){r.find("li").toggleClass("k-item k-state-default",q).find(".k-tool:not(.k-state-disabled),.k-overflow-button").toggleClass("k-overflow-button k-button",q)},_initOverflowPopup:function(s){var r=this;var q="<ul class='k-editor-overflow-popup k-overflow-container k-list-container'></ul>";r.overflowPopup=e(q).appendTo("body").kendoPopup({anchor:s,origin:"bottom right",position:"top right",copyAnchorStyles:false,open:function(t){if(this.element.is(":empty")){t.preventDefault()}r._toggleOverflowStyles(this.element,true)},activate:k(r.focusOverflowPopup,r)}).data("kendoPopup")},items:function(){var s=this.options.resizable&&this.options.resizable.toolbar,r,q;q=this.element.children().find("> *, select");if(s){r=this.overflowPopup;q=q.add(r.element.children().find("> *"))}return q},focused:function(){return this.element.find(".k-state-focused").length>0},toolById:function(q){var s,r=this.tools;for(s in r){if(s.toLowerCase()==q){return r[s]}}},toolGroupFor:function(s){var r,q=this.groups;if(this.isCustomTool(s)){return"custom"}for(r in q){if(e.inArray(s,q[r])>=0){return r}}},bindTo:function(r){var t=this,s=t.window;if(t._editor){t._editor.unbind("select",k(t.resize,t))}t._editor=r;if(t.options.resizable&&t.options.resizable.toolbar){r.options.tools.push("overflowAnchor")}t.tools=t.expandTools(r.options.tools);t.render();t.element.find(".k-combobox .k-input").keydown(function(w){var u=e(this).closest(".k-combobox").data("kendoComboBox"),v=w.keyCode;if(v==p.RIGHT||v==p.LEFT){u.close()}else{if(v==p.DOWN){if(!u.dropDown.isOpened()){w.stopImmediatePropagation();u.open()}}}});t._attachEvents();t.items().each(function q(B,z){var v=t._toolName(this),w=v!=="more"?t.tools[v]:t.tools.overflowAnchor,E=w&&w.options,u=r.options.messages,C=E&&E.tooltip||u[v],A=e(this);if(!w||!w.initialize){return}if(v=="fontSize"||v=="fontName"){var D=u[v+"Inherit"];A.find("input").val(D).end().find("span.k-input").text(D).end()}w.initialize(A,{title:t._appendShortcutSequence(C,w),editor:t._editor});A.closest(".k-widget",t.element).addClass("k-editor-widget");A.closest(".k-colorpicker",t.element).next(".k-colorpicker").addClass("k-editor-widget")});r.bind("select",k(t.resize,t));t.update();if(s){s.wrapper.css({top:"",left:"",width:""})}},show:function(){var r=this,q=r.window,v=r.options.editor,u,t,s;if(q){u=q.wrapper;t=v.element;if(!u.is(":visible")||!r.window.options.visible){if(!u[0].style.width){u.width(t.outerWidth()-parseInt(u.css("border-left-width"),10)-parseInt(u.css("border-right-width"),10))}if(!q._moved){s=t.offset();u.css({top:Math.max(0,parseInt(s.top,10)-u.outerHeight()-parseInt(r.window.element.css("padding-bottom"),10)),left:Math.max(0,parseInt(s.left,10))})}q.open()}}},hide:function(){if(this.window){this.window.close()}},focus:function(){var r="tabIndex";var s=this.element;var q=this._editor.element.attr(r);s.attr(r,q||0).focus().find(n).first().focus();if(!q&&q!==0){s.removeAttr(r)}},focusOverflowPopup:function(){var r="tabIndex";var s=this.overflowPopup.element;var q=this._editor.element.attr(r);s.closest(".k-animation-container").addClass("k-overflow-wrapper");s.attr(r,q||0).focus().find(n).first().focus();if(!q&&q!==0){s.removeAttr(r)}},_appendShortcutSequence:function(s,q){if(!q.key){return s}var r=s+" (";if(q.ctrl){r+="Ctrl + "}if(q.shift){r+="Shift + "}if(q.alt){r+="Alt + "}r+=q.key+")";return r},_nativeTools:["insertLineBreak","insertParagraph","redo","undo"],tools:{},isCustomTool:function(q){return !(q in j.ui.Editor.defaultTools)},expandTools:function(x){var r,w,t=this._nativeTools,v,s=j.deepExtend({},j.ui.Editor.defaultTools),q={},u;for(w=0;w<x.length;w++){r=x[w];u=r.name;if(e.isPlainObject(r)){if(u&&s[u]){q[u]=i({},s[u]);i(q[u].options,r)}else{v=i({cssClass:"k-i-custom",type:"button",title:""},r);if(!v.name){v.name="custom"}v.cssClass="k-"+(v.name=="custom"?"i-custom":v.name);if(!v.template&&v.type=="button"){v.template=c.EditorUtils.buttonTemplate;v.title=v.title||v.tooltip}q[u]={options:v}}}else{if(s[r]){q[r]=s[r]}}}for(w=0;w<t.length;w++){if(!q[t[w]]){q[t[w]]=s[t[w]]}}return q},render:function(){var A=this,H=A.tools,s,K,D,v,y=A._editor.element,q=A.element.empty(),C,r,t=A._editor.options.tools,J=j.support.browser,B,G,z=0,w=A.options.resizable&&A.options.resizable.toolbar,I=this.overflowFlaseTools,E;function F(M){var L;if(M.getHtml){L=M.getHtml()}else{if(!e.isFunction(M)){M=j.template(M)}L=M(s)}return e.trim(L)}function u(){if(B.children().length){if(w){B.data("position",z);z++}B.appendTo(q)}}function x(L){if(L!=="overflowAnchor"){B=e("<li class='k-tool-group' role='presentation' />");B.data("overflow",e.inArray(L,I)===-1?true:false)}else{B=e("<li class='k-overflow-tools' />")}}q.empty();if(t.length){v=t[0].name||t[0]}x(v,I);for(G=0;G<t.length;G++){v=t[G].name||t[G];s=H[v]&&H[v].options;if(!s&&e.isPlainObject(v)){s=v}K=s&&s.template;if(v=="break"){u();e("<li class='k-row-break' />").appendTo(A.element);x(v,I)}if(!K){continue}r=A.toolGroupFor(v);if(C!=r){u();x(v,I);C=r}K=F(K);D=e(K).appendTo(B);if(r=="custom"){u();x(v,I)}if(s.exec&&D.hasClass("k-tool")){D.click(k(s.exec,y[0]))}}u();e(A.element).children(":has(> .k-tool)").addClass("k-button-group");if(A.options.popup&&J.msie&&J.version<9){A.window.wrapper.find("*").attr("unselectable","on")}A.updateGroups();if(w){A._initOverflowPopup(A.element.find(".k-overflow-anchor"))}A.angular("compile",function(){return{elements:A.element}})},updateGroups:function(){e(this.element).children().each(function(){e(this).children().filter(function(){return !e(this).hasClass("k-state-disabled")}).removeClass("k-group-end").first().addClass("k-group-start").end().last().addClass("k-group-end").end()})},decorateFrom:function(q){this.items().filter(".k-decorated").each(function(){var r=e(this).data("kendoSelectBox");if(r){r.decorate(q)}})},destroy:function(){m.fn.destroy.call(this);var r,q=this.tools;for(r in q){if(q[r].destroy){q[r].destroy()}}if(this.window){this.window.destroy()}if(this._resizeHandler){j.unbindResize(this._resizeHandler)}if(this.overflowPopup){this.overflowPopup.destroy()}},_attachEvents:function(){var s=this,r="[role=button].k-tool",q=r+":not(.k-state-disabled)",t=r+".k-state-disabled",u=s.overflowPopup?s.overflowPopup.element:e([]);s.element.add(u).off(b).on("mouseenter"+b,q,function(){e(this).addClass("k-state-hover")}).on("mouseleave"+b,q,function(){e(this).removeClass("k-state-hover")}).on("mousedown"+b,r,function(v){v.preventDefault()}).on("keydown"+b,n,function(B){var A=this;var y=s.options.resizable&&s.options.resizable.toolbar;var w,x,z=B.keyCode;function v(F,C,G){var E=C.find(n);var D=E.index(A)+F;if(G){D=Math.max(0,Math.min(E.length-1,D))}return E[D]}if(z==p.RIGHT||z==p.LEFT){if(!e(A).hasClass(".k-dropdown")){w=v(z==p.RIGHT?1:-1,s.element,true)}}else{if(y&&(z==p.UP||z==p.DOWN)){w=v(z==p.DOWN?1:-1,s.overflowPopup.element,true)}else{if(z==p.ESC){if(s.overflowPopup.visible()){s.overflowPopup.close()}w=s._editor}else{if(z==p.TAB&&!(B.ctrlKey||B.altKey)){if(y){x=e(A.parentElement).hasClass("k-overflow-tool-group")?s.overflowPopup.element:s.element}else{x=s.element}if(B.shiftKey){w=v(-1,x)}else{w=v(1,x);if(!w){w=s._editor}}}}}}if(w){B.preventDefault();w.focus()}}).on("click"+b,q,function(w){var v=e(this);w.preventDefault();w.stopPropagation();v.removeClass("k-state-hover");if(!v.is("[data-popup]")){s._editor.exec(s._toolName(this))}}).on("click"+b,t,function(v){v.preventDefault()})},_toolName:function(r){if(!r){return}var s=r.className;if(/k-tool\b/i.test(s)){s=r.firstChild.className}var q=e.grep(s.split(" "),function(t){return !/^k-(widget|tool|tool-icon|icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(t)});return q[0]?q[0].substring(q[0].lastIndexOf("-")+1):"custom"},refreshTools:function(){var t=this,s=t._editor,r=s.getRange(),q=j.ui.editor.RangeUtils.textNodes(r);if(!q.length){q=[r.startContainer]}t.items().each(function(){var u=t.tools[t._toolName(this)];if(u&&u.update){u.update(e(this),q)}});this.update()},update:function(){this.updateGroups()},_resize:function(t){var s=t.width;var r=this.options.resizable&&this.options.resizable.toolbar;var q=this.overflowPopup;this.refreshTools();if(!r){return}if(q.visible()){q.close(true)}this._refreshWidths();this._shrink(s);this._stretch(s);this._toggleOverflowStyles(this.element,false);this._toggleOverflowStyles(this.overflowPopup.element,true);this.element.children("li.k-overflow-tools").css("visibility",q.element.is(":empty")?"hidden":"visible")},_refreshWidths:function(){this.element.children("li").each(function(q,r){var s=e(r);s.data("outerWidth",s.outerWidth(true))})},_shrink:function(s){var t,q;if(s<this._groupsWidth()){q=this._visibleGroups().filter(":not(.k-overflow-tools)");for(var r=q.length-1;r>=0;r--){t=q.eq(r);if(s>this._groupsWidth()){break}else{this._hideGroup(t)}}}},_stretch:function(r){var t,s;if(r>this._groupsWidth()){s=this._hiddenGroups();for(var q=0;q<s.length;q++){t=s.eq(q);if(r<this._groupsWidth()||!this._showGroup(t,r)){break}}}},_hiddenGroups:function(){var q=this.overflowPopup;var r=this.element.children("li.k-tool-group").filter(":hidden");r=r.add(q.element.children("li"));r.sort(function(t,s){return(e(t).data("position")>e(s).data("position"))?1:-1});return r},_visibleGroups:function(){return this.element.children("li.k-tool-group, li.k-overflow-tools").filter(":visible")},_groupsWidth:function(){var q=0;this._visibleGroups().each(function(){q+=e(this).data("outerWidth")});return Math.ceil(q)},_hideGroup:function(r){if(r.data("overflow")){var q=this.overflowPopup;r.detach().prependTo(q.element).addClass("k-overflow-tool-group")}else{r.hide()}},_showGroup:function(t,r){var q,s;if(t.length&&r>this._groupsWidth()+t.data("outerWidth")){if(t.hasClass("k-overflow-tool-group")){q=t.data("position");if(q===0){t.detach().prependTo(this.element)}else{s=this.element.children().filter(function(u,v){return e(v).data("position")===q-1});t.detach().insertAfter(s)}t.removeClass("k-overflow-tool-group")}else{t.show()}return true}return false}});e.extend(c,{Toolbar:f})})(window.jQuery);(function(f,g){var o=window.kendo,z=f.extend,v=f.proxy,t=o.ui.editor,w=t.Dom,k=t.EditorUtils,A=t.RangeUtils,u=t.Command,x=".kendoEditor",e="k-state-active",a="k-state-selected",j=t.Tool,s=t.ToolTemplate,d=t.InsertHtmlCommand,h=t.BlockFormatFinder,r=t.EditorUtils.registerTool;var i="<td>"+t.emptyElementContent+"</td>";var l=new h([{tags:["table"]}]);var B=d.extend({_tableHtml:function(D,C){D=D||1;C=C||1;return"<table class='k-table' data-last>"+new Array(D+1).join("<tr>"+new Array(C+1).join(i)+"</tr>")+"</table>"},postProcess:function(D,C){var E=f("table[data-last]",D.document).removeAttr("data-last");C.setStart(E.find("td")[0],0);C.collapse(true);D.selectRange(C)},exec:function(){var C=this.options;C.html=this._tableHtml(C.rows,C.columns);C.postProcess=this.postProcess;d.fn.exec.call(this)}});var n=j.extend({initialize:function(E,D){j.fn.initialize.call(this,E,D);var C=f(this.options.popupTemplate).appendTo("body").kendoPopup({anchor:E,copyAnchorStyles:false,open:v(this._open,this),activate:v(this._activate,this),close:v(this._close,this)}).data("kendoPopup");E.click(v(this._toggle,this)).keydown(v(this._keydown,this));this._editor=D.editor;this._popup=C},popup:function(){return this._popup},_activate:f.noop,_open:function(){this._popup.options.anchor.addClass(e)},_close:function(){this._popup.options.anchor.removeClass(e)},_keydown:function(E){var D=o.keys;var C=E.keyCode;if(C==D.DOWN&&E.altKey){this._popup.open()}else{if(C==D.ESC){this._popup.close()}}},_toggle:function(D){var C=f(D.target).closest(".k-tool");if(!C.hasClass("k-state-disabled")){this.popup().toggle()}},update:function(D){var C=this.popup();if(C.wrapper&&C.wrapper.css("display")=="block"){C.close()}D.removeClass("k-state-hover")},destroy:function(){this._popup.destroy()}});var m=n.extend({init:function(C){this.cols=8;this.rows=6;n.fn.init.call(this,f.extend(C,{command:B,popupTemplate:"<div class='k-ct-popup'>"+new Array(this.cols*this.rows+1).join("<span class='k-ct-cell k-state-disabled' />")+"<div class='k-status'></div></div>"}))},_activate:function(){var G=this,F=G._popup.element,M=F.find(".k-ct-cell"),H=M.eq(0),J=M.eq(M.length-1),C=o.getOffset(H),E=o.getOffset(J),K=G.cols,N=G.rows,D,I;F.find("*").addBack().attr("unselectable","on");E.left+=J[0].offsetWidth;E.top+=J[0].offsetHeight;D=(E.left-C.left)/K;I=(E.top-C.top)/N;function L(P){var O=f(window);return{row:Math.floor((P.clientY+O.scrollTop()-C.top)/I)+1,col:Math.floor((P.clientX+O.scrollLeft()-C.left)/D)+1}}F.on("mousemove"+x,function(O){G._setTableSize(L(O))}).on("mouseleave"+x,function(){G._setTableSize()}).on("mouseup"+x,function(O){G._exec(L(O))})},_valid:function(C){return C&&C.row>0&&C.col>0&&C.row<=this.rows&&C.col<=this.cols},_exec:function(C){if(this._valid(C)){this._editor.exec("createTable",{rows:C.row,columns:C.col});this._popup.close()}},_setTableSize:function(F){var E=this._popup.element;var C=E.find(".k-status");var D=E.find(".k-ct-cell");var H=this.rows;var I=this.cols;var G=this._editor.options.messages;if(this._valid(F)){C.text(o.format(G.createTableHint,F.row,F.col));D.each(function(J){f(this).toggleClass(a,J%I<F.col&&J/I<F.row)})}else{C.text(G.dialogCancel);D.removeClass(a)}},_keydown:function(E){n.fn._keydown.call(this,E);if(!this._popup.visible()){return}var I=o.keys;var H=E.keyCode;var J=this._popup.element.find(".k-ct-cell");var K=Math.max(J.filter(".k-state-selected").last().index(),0);var C=Math.floor(K/this.cols);var F=K%this.cols;var D=false;if(H==I.DOWN&&!E.altKey){D=true;C++}else{if(H==I.UP){D=true;C--}else{if(H==I.RIGHT){D=true;F++}else{if(H==I.LEFT){D=true;F--}}}}var G={row:Math.max(1,Math.min(this.rows,C+1)),col:Math.max(1,Math.min(this.cols,F+1))};if(H==I.ENTER){this._exec(G)}else{this._setTableSize(G)}if(D){E.preventDefault();E.stopImmediatePropagation()}},_open:function(){var C=this._editor.options.messages;n.fn._open.call(this);this.popup().element.find(".k-status").text(C.dialogCancel).end().find(".k-ct-cell").removeClass(a)},_close:function(){n.fn._close.call(this);this.popup().element.off(x)},update:function(E,D){var C;n.fn.update.call(this,E);C=l.isFormatted(D);E.toggleClass("k-state-disabled",C)}});var c=u.extend({exec:function(){var C=this.lockRange(true),H=C.endContainer,F,G,D;while(w.name(H)!="td"){H=H.parentNode}G=H.parentNode;F=G.children.length;D=G.cloneNode(true);for(var E=0;E<G.cells.length;E++){D.cells[E].innerHTML=t.emptyElementContent}if(this.options.position=="before"){w.insertBefore(D,G)}else{w.insertAfter(D,G)}this.releaseRange(C)}});var y=u.extend({exec:function(){var G=this.lockRange(true),C=w.closest(G.endContainer,"td"),J=w.closest(C,"table"),H,E,K=J.rows,I,D,F=this.options.position;H=w.findNodeIndex(C,true);for(E=0;E<K.length;E++){I=K[E].cells[H];D=I.cloneNode();D.innerHTML=t.emptyElementContent;if(F=="before"){w.insertBefore(D,I)}else{w.insertAfter(D,I)}}this.releaseRange(G)}});var p=u.extend({exec:function(){var D=this.lockRange();var G=A.mapAll(D,function(I){return f(I).closest("tr")[0]});var F=w.closest(G[0],"table");var C;if(F.rows.length<=G.length){C=w.next(F);if(!C||w.insignificant(C)){C=w.prev(F)}w.remove(F)}else{for(var E=0;E<G.length;E++){var H=G[E];w.removeTextSiblings(H);C=w.next(H)||w.prev(H);C=C.cells[0];w.remove(H)}}if(C){D.setStart(C,0);D.collapse(true);this.editor.selectRange(D)}}});var q=u.extend({exec:function(){var D=this.lockRange(),J=w.closest(D.endContainer,"td"),G=w.closest(J,"table"),H=G.rows,F=w.findNodeIndex(J,true),I=H[0].cells.length,C,E;if(I==1){C=w.next(G);if(!C||w.insignificant(C)){C=w.prev(G)}w.remove(G)}else{w.removeTextSiblings(J);C=w.next(J)||w.prev(J);for(E=0;E<H.length;E++){w.remove(H[E].cells[F])}}if(C){D.setStart(C,0);D.collapse(true);this.editor.selectRange(D)}}});var b=j.extend({command:function(C){C=z(C,this.options);if(C.action=="delete"){if(C.type=="row"){return new p(C)}else{return new q(C)}}else{if(C.type=="row"){return new c(C)}else{return new y(C)}}},initialize:function(D,C){j.fn.initialize.call(this,D,C);D.addClass("k-state-disabled")},update:function(E,D){var C=!l.isFormatted(D);E.toggleClass("k-state-disabled",C)}});z(o.ui.editor,{PopupTool:n,TableCommand:B,InsertTableTool:m,TableModificationTool:b,InsertRowCommand:c,InsertColumnCommand:y,DeleteRowCommand:p,DeleteColumnCommand:q});r("createTable",new m({template:new s({template:k.buttonTemplate,popup:true,title:"Create table"})}));r("addColumnLeft",new b({type:"column",position:"before",template:new s({template:k.buttonTemplate,title:"Add column on the left"})}));r("addColumnRight",new b({type:"column",template:new s({template:k.buttonTemplate,title:"Add column on the right"})}));r("addRowAbove",new b({type:"row",position:"before",template:new s({template:k.buttonTemplate,title:"Add row above"})}));r("addRowBelow",new b({type:"row",template:new s({template:k.buttonTemplate,title:"Add row below"})}));r("deleteRow",new b({type:"row",action:"delete",template:new s({template:k.buttonTemplate,title:"Delete row"})}));r("deleteColumn",new b({type:"column",action:"delete",template:new s({template:k.buttonTemplate,title:"Delete column"})}))})(window.kendo.jQuery);(function(d,b){var h=window.kendo;var j=h.caret;var o=h.keys;var k=h.ui;var l=k.Widget;var m=".kendoMaskedTextBox";var g=d.proxy;var i=(h.support.propertyChangeEvent?"propertychange":"input")+m;var a="k-state-disabled";var e="disabled";var f="readonly";var c="change";var n=l.extend({init:function(q,p){var t=this;var s;l.fn.init.call(t,q,p);t._rules=d.extend({},t.rules,t.options.rules);q=t.element;s=q[0];t.wrapper=q;t._tokenize();t._form();t.element.addClass("k-textbox").attr("autocomplete","off").on("focus"+m,function(){var u=s.value;if(!u){s.value=t._old=t._emptyMask}else{t._togglePrompt(true)}t._oldValue=u;t._timeoutId=setTimeout(function(){j(q,0,u?t._maskLength:0)})}).on("focusout"+m,function(){var u=q.val();clearTimeout(t._timeoutId);s.value=t._old="";if(u!==t._emptyMask){s.value=t._old=u}t._change();t._togglePrompt()});var r=q.is("[disabled]")||d(t.element).parents("fieldset").is(":disabled");if(r){t.enable(false)}else{t.readonly(q.is("[readonly]"))}t.value(t.options.value||q.val());h.notify(t)},options:{name:"MaskedTextBox",clearPromptChar:false,unmaskOnPost:false,promptChar:"_",culture:"",rules:{},value:"",mask:""},events:[c],rules:{"0":/\d/,"9":/\d|\s/,"#":/\d|\s|\+|\-/,L:/[a-zA-Z]/,"?":/[a-zA-Z]|\s/,"&":/\S/,C:/./,A:/[a-zA-Z0-9]/,a:/[a-zA-Z0-9]|\s/},setOptions:function(p){var q=this;l.fn.setOptions.call(q,p);q._rules=d.extend({},q.rules,q.options.rules);q._tokenize();this._unbindInput();this._bindInput();q.value(q.element.val())},destroy:function(){var p=this;p.element.off(m);if(p._formElement){p._formElement.off("reset",p._resetHandler);p._formElement.off("submit",p._submitHandler)}l.fn.destroy.call(p)},raw:function(){var p=this._unmask(this.element.val(),0);return p.replace(new RegExp(this.options.promptChar,"g"),"")},value:function(s){var r=this.element;var q=this._emptyMask;var p=this.options;if(s===b){return this.element.val()}if(s===null){s=""}if(!q){r.val(s);return}s=this._unmask(s+"");r.val(s?q:"");this._mask(0,this._maskLength,s);s=r.val();this._oldValue=s;if(h._activeElement()!==r){if(s===q){r.val("")}else{this._togglePrompt()}}},_togglePrompt:function(p){var q=this.element[0];var r=q.value;if(this.options.clearPromptChar){if(!p){r=r.replace(new RegExp(this.options.promptChar,"g")," ")}else{r=this._oldValue}q.value=this._old=r}},readonly:function(p){this._editable({readonly:p===b?true:p,disable:false})},enable:function(p){this._editable({readonly:false,disable:!(p=p===b?true:p)})},_bindInput:function(){var p=this;if(p._maskLength){p.element.on("keydown"+m,g(p._keydown,p)).on("keypress"+m,g(p._keypress,p)).on("paste"+m,g(p._paste,p)).on(i,g(p._propertyChange,p))}},_unbindInput:function(){this.element.off("keydown"+m).off("keypress"+m).off("paste"+m).off(i)},_editable:function(r){var t=this;var s=t.element;var q=r.disable;var p=r.readonly;t._unbindInput();if(!p&&!q){s.removeAttr(e).removeAttr(f).removeClass(a);t._bindInput()}else{s.attr(e,q).attr(f,p).toggleClass(a,q)}},_change:function(){var p=this;var q=p.value();if(q!==p._oldValue){p._oldValue=q;p.trigger(c);p.element.trigger(c)}},_propertyChange:function(){var r=this;var q=r.element[0];var s=q.value;var p;var t;if(h._activeElement()!==q){return}if(s!==r._old&&!r._pasting){t=j(q)[0];p=r._unmask(s.substring(t),t);q.value=r._old=s.substring(0,t)+r._emptyMask.substring(t);r._mask(t,t,p);j(q,t)}},_paste:function(u){var t=this;var s=u.target;var p=j(s);var v=p[0];var q=p[1];var r=t._unmask(s.value.substring(q),q);t._pasting=true;setTimeout(function(){var x=s.value;var w=x.substring(v,j(s)[0]);s.value=t._old=x.substring(0,v)+t._emptyMask.substring(v);t._mask(v,v,w);v=j(s)[0];t._mask(v,v,r);j(s,v);t._pasting=false})},_form:function(){var r=this;var p=r.element;var s=p.attr("form");var q=s?d("#"+s):p.closest("form");if(q[0]){r._resetHandler=function(){setTimeout(function(){r.value(p[0].value)})};r._submitHandler=function(){r.element[0].value=r._old=r.raw()};if(r.options.unmaskOnPost){q.on("submit",r._submitHandler)}r._formElement=q.on("reset",r._resetHandler)}},_keydown:function(t){var r=t.keyCode;var q=this.element[0];var s=j(q);var w=s[0];var p=s[1];var v;var u=r===o.BACKSPACE;if(u||r===o.DELETE){if(w===p){if(u){w-=1}else{p+=1}v=this._find(w,u)}if(v!==b&&v!==w){if(u){v+=1}j(q,v)}else{if(w>-1){this._mask(w,p,"",u)}}t.preventDefault()}else{if(r===o.ENTER){this._change()}}},_keypress:function(r){if(r.which===0||r.metaKey||r.ctrlKey||r.keyCode===o.ENTER){return}var q=String.fromCharCode(r.which);var p=j(this.element);this._mask(p[0],p[1],q);if(r.keyCode===o.BACKSPACE||q){r.preventDefault()}},_find:function(p,s){var r=this.element.val()||this._emptyMask;var q=1;if(s===true){q=-1}while(p>-1||p<=this._maskLength){if(r.charAt(p)!==this.tokens[p]){return p}p+=q}return -1},_mask:function(p,r,y,A){var t=this.element[0];var w=t.value||this._emptyMask;var v=this.options.promptChar;var z;var u=0;var q;var s;var x;p=this._find(p,A);if(p>r){r=p}q=this._unmask(w.substring(r),r);y=this._unmask(y,p);z=y.length;if(y){q=q.replace(new RegExp("^_{0,"+z+"}"),"")}y+=q;w=w.split("");s=y.charAt(u);while(p<this._maskLength){w[p]=s||v;s=y.charAt(++u);if(x===b&&u>z){x=p}p=this._find(p+1)}t.value=this._old=w.join("");if(h._activeElement()===t){if(x===b){x=this._maskLength}j(t,x)}},_unmask:function(v,w){if(!v){return""}v=(v+"").split("");var r;var p;var s=0;var u=w||0;var t=this.options.promptChar;var x=v.length;var q=this.tokens.length;var y="";while(u<q){r=v[s];p=this.tokens[u];if(r===p||r===t){y+=r===t?t:"";s+=1;u+=1}else{if(typeof p!=="string"){if((p.test&&p.test(r))||(d.isFunction(p)&&p(r))){y+=r;u+=1}s+=1}else{u+=1}}if(s>=x){break}}return y},_tokenize:function(){var y=[];var w=0;var C=this.options.mask||"";var s=C.split("");var p=s.length;var A=0;var u;var z;var t="";var q=this.options.promptChar;var x=h.getCulture(this.options.culture).numberFormat;var B=this._rules;for(;A<p;A++){u=s[A];z=B[u];if(z){y[w]=z;t+=q;w+=1}else{if(u==="."||u===","){u=x[u]}else{if(u==="$"){u=x.currency.symbol}else{if(u==="\\"){A+=1;u=s[A]}}}u=u.split("");for(var v=0,r=u.length;v<r;v++){y[w]=u[v];t+=u[v];w+=1}}}this.tokens=y;this._emptyMask=t;this._maskLength=t.length}});k.plugin(n)})(window.kendo.jQuery);(function(aG,y){var u=window.kendo,T=u.ui,aL=u.Class,n=T.Widget,r=u.data.DataSource,au={}.toString,X=function(a0){return a0},z=aG.map,ao=aG.extend,aH=u.isFunction,I="change",F="error",aD="progress",S="stateReset",aX="auto",ag="<div/>",aO=".kendoPivotGrid",aP="__row_total__",E="dataBinding",B="dataBound",at="expandMember",ah="collapseMember",aM="k-i-arrow-s",w="k-i-arrow-e",aj="<span>#: data.member.caption || data.member.name #</span>",m='<span class="k-icon k-i-kpi-#=data.dataItem.value > 0 ? "open" : data.dataItem.value < 0 ? "denied" : "hold"#">#:data.dataItem.value#</span>',aS='<span class="k-icon k-i-kpi-#=data.dataItem.value > 0 ? "increase" : data.dataItem.value < 0 ? "decrease" : "equal"#">#:data.dataItem.value#</span>',ap='#= data.dataItem ? kendo.htmlEncode(data.dataItem.fmtValue || data.dataItem.value) || "&nbsp;" : "&nbsp;" #',ac='<table class="k-pivot-layout"><tr><td><div class="k-pivot-rowheaders"></div></td><td><div class="k-pivot-table k-state-default"></div></td></tr></table>';function K(a1){var a2=typeof a1==="string"?[{name:a1}]:a1;var a0=au.call(a2)==="[object Array]"?a2:(a2!==y?[a2]:[]);return z(a0,function(a3){if(typeof a3==="string"){return{name:a3}}return{name:a3.name,type:a3.type}})}function az(a2){var a1=typeof a2==="string"?[{name:[a2],expand:false}]:a2;var a0=au.call(a1)==="[object Array]"?a1:(a1!==y?[a1]:[]);return z(a0,function(a3){if(typeof a3==="string"){return{name:[a3],expand:false}}return{name:(au.call(a3.name)==="[object Array]"?a3.name.slice():[a3.name]),expand:a3.expand}})}function aY(a0,a3){var a2=a0.members[a3];var a1=R(a0,a3-1);if(a2.parentName){a1.push(a2.parentName)}if(!a1.length){a1=""}return u.stringify(a1)}function ad(a2,a5,a1,a7){var a0,a4;var a3;var a6;if(!a1){a1=a5}if(!a7){a7=0}a6=a1.members[a7];if(!a6||a6.measure){return}a3=a6.children;a4=a3.length;if(a1===a5){a2[u.stringify([a6.name])]=!!a4}else{if(a4){a2[u.stringify(R(a1,a7))]=true}}if(a4){for(a0=0;a0<a4;a0++){ad(a2,a5,a3[a0],a7)}}ad(a2,a5,a1,a7+1)}function aJ(a3){var a0={};if(a3.length){ad(a0,a3[0])}var a2=[];for(var a1 in a0){a2.push({name:aG.parseJSON(a1),expand:a0[a1]})}return a2}function aB(a2,a5){var a4=a5.tuples||[];var a7=a4[0];if(a7&&a2.length<a7.members.length){var a1=a7.members;for(var a0=0;a0<a1.length;a0++){if(a1[a0].measure){continue}var a6=false;for(var a3=0;a3<a2.length;a3++){if(J(a2[a3]).indexOf(a1[a0].hierarchy)===0){a6=true;break}}if(!a6){a2.push({name:[a1[a0].name],expand:false})}}}}function k(a2){var a1=[];var a3=a2.members;for(var a0=0;a0<a3.length;a0++){if(a3[a0].measure){continue}a1.push({name:[a3[a0].name],expand:a3[a0].children.length>0})}return a1}function i(a3,a2,a4){a3=a3||{};aB(a2,a3);if(a4.length>1){a2.push({name:"Measures",measure:true,children:az(a4)})}var a1={members:a2};if(a3.tuples){var a0=h(a3.tuples,a1);if(a0.tuple){a2=k(a0.tuple)}}return a2}function O(bf,a8,a0,bc,a4,a9,a5){var bb,a2,a3,bd,ba,be=0;var a1=a8;for(a2 in a0[bc].aggregates){bb=a0[bc].aggregates[a2];bd=a4[a2];ba=a9[a2];bb=bd?bd(bb):bb.accumulator;bf[a1]={ordinal:a1,value:bb,fmtValue:ba?u.format(ba,bb):bb};++be;a1+=a5}var a7=a0[bc].items;for(a3 in a7){var a6=a7[a3].index*be;a6=a1+a6*a5;for(a2 in a7[a3].aggregates){bb=a7[a3].aggregates[a2];bd=a4[a2];ba=a9[a2];bb=bd?bd(bb):bb.accumulator;bf[a6]={ordinal:a6,value:bb,fmtValue:ba?u.format(ba,bb):bb};a6+=a5}}}function aA(bd,a6,a0,ba,a3,a7){var a9,a1,a2,bb,a8,bc=0;for(a1 in a0[ba].aggregates){a9=a0[ba].aggregates[a1];bb=a3[a1];a8=a7[a1];a9=bb?bb(a9):a9.accumulator;bd[bd.length]={ordinal:a6++,value:a9,fmtValue:a8?u.format(a8,a9):a9};++bc}var a5=a0[ba].items;for(a2 in a5){var a4=a5[a2].index*bc;for(a1 in a5[a2].aggregates){a9=a5[a2].aggregates[a1];bb=a3[a1];a8=a7[a1];a9=bb?bb(a9):a9.accumulator;bd[bd.length]={ordinal:a6+a4++,value:a9,fmtValue:a8?u.format(a8,a9):a9}}}}function aK(a1){var a0=u.getter(a1.field,true);return function(a2,a3){return a1.aggregate(a0(a2.dataItem),a3,a2)}}function P(a0){return typeof a0==="number"&&!isNaN(a0)}function g(a0){return a0&&a0.getTime}var v={sum:function(a2,a1){var a0=a1.accumulator;if(!P(a0)){a0=a2}else{if(P(a2)){a0+=a2}}return a0},count:function(a1,a0){return(a0.accumulator||0)+1},average:{aggregate:function(a2,a1){var a0=a1.accumulator;if(a1.count===y){a1.count=0}if(!P(a0)){a0=a2}else{if(P(a2)){a0+=a2}}if(P(a2)){a1.count++}return a0},result:function(a1){var a0=a1.accumulator;if(P(a0)){a0=a0/a1.count}return a0}},max:function(a2,a1){var a0=a1.accumulator;if(!P(a0)&&!g(a0)){a0=a2}if(a0<a2&&(P(a2)||g(a2))){a0=a2}return a0},min:function(a2,a1){var a0=a1.accumulator;if(!P(a0)&&!g(a0)){a0=a2}if(a0>a2&&(P(a2)||g(a2))){a0=a2}return a0}};var aI=aL.extend({init:function(a0){this.options=ao({},this.options,a0);this.dimensions=this._normalizeDescriptors("field",this.options.dimensions);this.measures=this._normalizeDescriptors("name",this.options.measures)},_normalizeDescriptors:function(a5,a2){a2=a2||{};var a1={};var a4;if(au.call(a2)==="[object Array]"){for(var a0=0,a3=a2.length;a0<a3;a0++){a4=a2[a0];if(typeof a4==="string"){a1[a4]={}}else{if(a4[a5]){a1[a4[a5]]=a4}}}a2=a1}return a2},_asTuples:function(a1,bb,a5){a5=a5||[];var a3=this.dimensions||[];var bc=[];var a6;var a8;var a2;var ba;var a7;var a0;var a4=a5.length||1;if(bb.length||a5.length){for(ba=0;ba<a4;ba++){a6={members:[]};for(a8=0,a2=bb.length;a8<a2;a8++){a0=J(bb[a8].name);a6.members[a6.members.length]={children:[],caption:(a3[a0]||{}).caption||"All",name:a0,levelName:a0,levelNum:"0",hasChildren:true,parentName:y,hierarchy:a0}}if(a4>1){a6.members[a6.members.length]={children:[],caption:(a5[ba]).caption,name:a5[ba].descriptor.name,levelName:"MEASURES",levelNum:"0",hasChildren:false,parentName:y,hierarchy:"MEASURES"}}bc[bc.length]=a6}}for(var a9 in a1){for(ba=0;ba<a4;ba++){a7={members:[]};for(a8=0,a2=bb.length;a8<a2;a8++){a0=J(bb[a8].name);if(a1[a9].parentName.indexOf(a0)===0){a7.members[a7.members.length]={children:[],caption:a1[a9].value,name:a1[a9].name,levelName:a1[a9].name,levelNum:1,hasChildren:false,parentName:a0,hierarchy:a0}}else{a7.members[a7.members.length]={children:[],caption:(a3[a0]||{}).caption||"All",name:a0,levelName:a0,levelNum:"0",hasChildren:true,parentName:y,hierarchy:a0}}}if(a4>1){a7.members[a7.members.length]={children:[],caption:a5[ba].caption,name:a5[ba].descriptor.name,levelName:"MEASURES",levelNum:"0",hasChildren:true,parentName:y,hierarchy:"MEASURES"}}bc[bc.length]=a7}}return bc},_toDataArray:function(a2,a8,a3,a7,a5){var bb={};var a6={};var be,a1,a0;var bc=0;var a4=a3&&a3.length;if(a4){be=(this.measures||{});for(;bc<a4;bc++){a0=a3[bc].name;a1=be[a0];if(a1.result){a6[a0]=a1.result}if(a1.format){bb[a0]=a1.format}}}var bf=[];var a9;var ba=0;a5(bf,ba,a2,aP,a6,bb,a8);for(var bd in a2){if(bd===aP){continue}ba+=a7;a5(bf,ba,a2,bd,a6,bb,a8)}return bf},_matchDescriptors:function(a0,a8,a6,a7){var a1;var a4;var a5;var a2;var a3;while(a7>0){a1=a8[--a7];a4=J(a1).split("&");if(a4.length>1){a5=a4[0];a2=a4[1];a3=a6[a5];if(a3(a0)!=a2){return false}}}return true},_isExpanded:function(a1){for(var a0=0,a2=a1.length;a0<a2;a0++){if(a1[a0].expand){return true}}return false},_calculateAggregate:function(a4,a1,a3){var a0={};var a5;var a2;for(var a6=0;a6<a4.length;a6++){a2=a4[a6].descriptor.name;a5=a3.aggregates[a2]||{};a5.accumulator=a4[a6].aggregator(a1,a5);a0[a2]=a5}return a0},_processColumns:function(a4,bd,a8,a6,a7,be,a3,a9){var bc;var a2;var a1;var a5;var ba;var a0=a7.dataItem;for(var bb=0;bb<bd.length;bb++){a2=bd[bb];if(a2.expand){if(!this._matchDescriptors(a0,bd,a8,bb)){continue}a1=J(a2);bc=a8[a1](a0);bc=(bc!==y&&bc!==null)?bc.toString():bc;a1=a1+"&"+bc;a5=a6[a1]||{index:a3.columnIndex,name:a1,parentName:a1,value:bc};ba=be.items[a1]||{aggregates:{}};be.items[a1]={index:a5.index,aggregates:this._calculateAggregate(a4,a7,ba)};if(a9){if(!a6[a1]){a3.columnIndex++}a6[a1]=a5}}}},_measureAggregators:function(a9){var a8=a9.measures||[];var a0=this.measures||{};var a5=[];var a1,a2,a7,a4;var a6,a3;if(a8.length){for(a7=0,a4=a8.length;a7<a4;a7++){a1=a8[a7];a2=a0[a1.name];a6=null;if(a2){a3=a2.aggregate;if(typeof a3==="string"){a6=v[a3.toLowerCase()];if(!a6){throw new Error("There is no such aggregate function")}a2.aggregate=a6.aggregate||a6;a2.result=a6.result}a5.push({descriptor:a1,caption:a2.caption,result:a2.result,aggregator:aK(a2)})}}}else{a5.push({descriptor:{name:"default"},caption:"default",aggregator:function(){return 1}})}return a5},_normalizeName:function(a0){if(a0.indexOf(" ")!==-1){a0='["'+a0+'"]'}return a0},_buildGetters:function(a3){var a1={};var a6;var a5;var a2;for(var a0=0,a4=a3.length;a0<a4;a0++){a6=a3[a0];a2=J(a6);a5=a2.split("&");if(a5.length>1){a1[a5[0]]=u.getter(a5[0],true)}else{a1[a2]=u.getter(this._normalizeName(a2),true)}}return a1},process:function(br,a5){br=br||[];a5=a5||{};var bh=a5.measures||[];var bg=a5.measuresAxis==="rows";var ba=(bg?a5.rows:a5.columns)||[];var bo=(!bg?a5.rows:a5.columns)||[];if(!ba.length&&bo.length&&(!bh.length||(bh.length&&bg))){ba=bo;bo=[];bg=false}if(!ba.length&&!bo.length){bg=false}if(!ba.length&&bh.length){ba=az(a5.measures)}var be={};var a2={};var bd={};var bl;var a6={columnIndex:0};var bm=this._measureAggregators(a5);var bp=this._buildGetters(ba);var a9=this._buildGetters(bo);var a0=false;if(ba.length||bo.length){var bb;var bk;var a8=this._isExpanded(bo);a0=true;for(var bf=0,a4=br.length;bf<a4;bf++){bb=br[bf];bk={dataItem:bb,index:bf};var a3=be[aP]||{items:{},aggregates:{}};this._processColumns(bm,ba,bp,a2,bk,a3,a6,!a8);a3.aggregates=this._calculateAggregate(bm,bk,a3);be[aP]=a3;for(var a1=0,bj=bo.length;a1<bj;a1++){var bq=bo[a1];if(bq.expand){if(!this._matchDescriptors(bb,bo,a9,a1)){continue}var bc=J(bq);bl=a9[bc](bb);bl=bl!==y?bl.toString():bl;bd[bl]={name:bc+"&"+bl,parentName:bc,value:bl};var bi=be[bl]||{items:{},aggregates:{}};this._processColumns(bm,ba,bp,a2,bk,bi,a6,true);bi.aggregates=this._calculateAggregate(bm,bk,bi);be[bl]=bi}}}}if(a0&&br.length){if(bm.length>1&&(!a5.columns||!a5.columns.length)){ba=[]}a2=this._asTuples(a2,ba,bm);bd=this._asTuples(bd,bo,[]);var a7=a2.length;if(bg){a7=1;var bn=a2;a2=bd;bd=bn}be=this._toDataArray(be,a2.length,a5.measures,a7,bg?O:aA);be=this._normalizeData(be,a2.length,bd.length)}else{be=a2=bd=[]}return{axes:{columns:{tuples:a2},rows:{tuples:bd}},data:be}},_normalizeData:function(a7,a4,a6){var a3=(a4||1)*(a6||1);var a2=new Array(a3);var a5=a7.length;var a1,a0;if(a5===a3){return a7}for(a0=0;a0<a3;a0++){a2[a0]={value:"",fmtValue:"",ordinal:a0}}for(a0=0;a0<a5;a0++){a1=a7[a0];if(a1){a2[a1.ordinal]=a1}}return a2}});var aE=aL.extend({init:function(a0,a1){this.transport=a1;this.options=a1.options||{};if(!this.transport.discover){if(aH(a0.discover)){this.discover=a0.discover}}},read:function(a0){return this.transport.read(a0)},update:function(a0){return this.transport.update(a0)},create:function(a0){return this.transport.create(a0)},destroy:function(a0){return this.transport.destroy(a0)},discover:function(a0){if(this.transport.discover){return this.transport.discover(a0)}a0.success({})},catalog:function(a2){var a1=this.options||{};if(a2===y){return(a1.connection||{}).catalog}var a0=a1.connection||{};a0.catalog=a2;this.options.connection=a0;aG.extend(this.transport.options,{connection:a0})},cube:function(a2){var a1=this.options||{};if(a2===y){return(a1.connection||{}).cube}var a0=a1.connection||{};a0.cube=a2;this.options.connection=a0;ao(true,this.transport.options,{connection:a0})}});var al=r.extend({init:function(a1){var a0=((a1||{}).schema||{}).cube;var a3="columns";var a4;var a2={axes:X,cubes:X,catalogs:X,measures:X,dimensions:X,hierarchies:X,levels:X,members:X};if(a0){a2=aG.extend(a2,this._cubeSchema(a0));this.cubeBuilder=new aI(a0)}r.fn.init.call(this,ao(true,{},{schema:a2},a1));this.transport=new aE(this.options.transport||{},this.transport);this._columns=az(this.options.columns);this._rows=az(this.options.rows);a4=this.options.measures||[];if(au.call(a4)==="[object Object]"){a3=a4.axis||"columns";a4=a4.values||[]}this._measures=K(a4);this._measuresAxis=a3;this._skipNormalize=0;this._axes={}},_cubeSchema:function(a0){return{dimensions:function(){var a1=[];var a3=a0.dimensions;for(var a2 in a3){a1.push({name:a2,caption:a3[a2].caption||a2,uniqueName:a2,defaultHierarchy:a2,type:1})}if(a0.measures){a1.push({name:"Measures",caption:"Measures",uniqueName:"Measures",type:2})}return a1},hierarchies:function(){return[]},measures:function(){var a1=[];var a3=a0.measures;for(var a2 in a3){a1.push({name:a2,caption:a2,uniqueName:a2,aggregator:a2})}return a1}}},options:{serverSorting:true,serverPaging:true,serverFiltering:true,serverGrouping:true,serverAggregates:true},catalog:function(a0){if(a0===y){return this.transport.catalog()}this.transport.catalog(a0);this._mergeState({});this._axes={};this.data([])},cube:function(a0){if(a0===y){return this.transport.cube()}this.transport.cube(a0);this._axes={};this._mergeState({});this.data([])},axes:function(){return this._axes},columns:function(a0){if(a0===y){return this._columns}this._skipNormalize+=1;this._clearAxesData=true;this._columns=az(a0);this.query({columns:a0,rows:this.rowsAxisDescriptors(),measures:this.measures()})},rows:function(a0){if(a0===y){return this._rows}this._skipNormalize+=1;this._clearAxesData=true;this._rows=az(a0);this.query({columns:this.columnsAxisDescriptors(),rows:a0,measures:this.measures()})},measures:function(a0){if(a0===y){return this._measures}this._skipNormalize+=1;this._clearAxesData=true;this.query({columns:this.columnsAxisDescriptors(),rows:this.rowsAxisDescriptors(),measures:K(a0)})},measuresAxis:function(){return this._measuresAxis||"columns"},_expandPath:function(a8,a0){var a4=a0==="columns"?"columns":"rows";var a3=a0==="columns"?"rows":"columns";var a1=az(a8);var a7=J(a1[a1.length-1]);this._lastExpanded=a4;a1=i(this.axes()[a4],a1,this.measures());for(var a5=0;a5<a1.length;a5++){var a2=J(a1[a5]);if(a2===a7){if(a1[a5].expand){return}a1[a5].expand=true}else{a1[a5].expand=false}}var a6={};a6[a4]=a1;a6[a3]=this._descriptorsForAxis(a3);this._query(a6)},_descriptorsForAxis:function(a1){var a2=this.axes();var a0=this[a1]()||[];if(a2&&a2[a1]&&a2[a1].tuples&&a2[a1].tuples[0]){a0=aJ(a2[a1].tuples||[])}return a0},columnsAxisDescriptors:function(){return this._descriptorsForAxis("columns")},rowsAxisDescriptors:function(){return this._descriptorsForAxis("rows")},_process:function(a0,a1){this._view=a0;a1=a1||{};a1.items=a1.items||this._view;this.trigger(I,a1)},_query:function(a0){var a1=this;if(!a0){this._skipNormalize+=1;this._clearAxesData=true}return a1.query(ao({},{page:a1.page(),pageSize:a1.pageSize(),sort:a1.sort(),filter:a1.filter(),group:a1.group(),aggregate:a1.aggregate(),columns:this.columnsAxisDescriptors(),rows:this.rowsAxisDescriptors(),measures:this.measures()},a0))},query:function(a0){var a1=this._mergeState(a0);if(this._data.length&&this.cubeBuilder){this._params(a1);this._updateLocalData(this._pristineData);return aG.Deferred().resolve().promise()}return this.read(a1)},_mergeState:function(a0){a0=r.fn._mergeState.call(this,a0);if(a0!==y){this._measures=K(a0.measures);if(a0.columns){a0.columns=az(a0.columns)}else{if(!a0.columns){this._columns=[]}}if(a0.rows){a0.rows=az(a0.rows)}else{if(!a0.rows){this._rows=[]}}}return a0},filter:function(a0){if(a0===y){return this._filter}this._skipNormalize+=1;this._clearAxesData=true;this._query({filter:a0,page:1})},expandColumn:function(a0){this._expandPath(a0,"columns")},expandRow:function(a0){this._expandPath(a0,"rows")},success:function(a1){var a0;if(this.cubeBuilder){a0=(this.reader.data(a1)||[]).slice(0)}r.fn.success.call(this,a1);if(a0){this._pristineData=a0}},_processResult:function(a3,a7){if(this.cubeBuilder){var a5=this.cubeBuilder.process(a3,this._requestData);a3=a5.data;a7=a5.axes}var a6,a9;var a4,ba,a1,a8;var a2=this.columns();var bc=this.rows();var a0=a7.columns&&a7.columns.tuples;if(!a2.length&&bc.length&&a0&&(this._rowMeasures().length||!this.measures().length)){a7={columns:{},rows:a7.columns}}if(!a2.length&&!bc.length&&this.measuresAxis()==="rows"&&a0){a7={columns:{},rows:a7.columns}}this._axes={columns:j(this._axes.columns),rows:j(this._axes.rows)};a7={columns:j(a7.columns),rows:j(a7.rows)};a6=this._normalizeTuples(a7.columns.tuples,this._axes.columns.tuples,a2,this._columnMeasures());a9=this._normalizeTuples(a7.rows.tuples,this._axes.rows.tuples,bc,this._rowMeasures());this._skipNormalize-=1;if(!this.cubeBuilder){a3=this._normalizeData({columnsLength:a7.columns.tuples.length,rowsLength:a7.rows.tuples.length,columnIndexes:a6,rowIndexes:a9,data:a3})}if(this._lastExpanded=="rows"){a4=a7.columns.tuples;a1=this._columnMeasures();ba=ae(a7.columns,this._axes.columns,a1);if(ba){a8="columns";a7.columns=ba;aR(a4,ba.tuples,a7.rows.tuples.length,a1,a3);a3=this._normalizeData({columnsLength:L(a7.columns.tuples,a1),rowsLength:a7.rows.tuples.length,data:a3})}}else{if(this._lastExpanded=="columns"){a4=a7.rows.tuples;a1=this._rowMeasures();ba=ae(a7.rows,this._axes.rows,a1);if(ba){a8="rows";a7.rows=ba;Q(a4,ba.tuples,a7.columns.tuples.length,a1,a3);a3=this._normalizeData({columnsLength:L(a7.rows.tuples,a1),rowsLength:a7.columns.tuples.length,data:a3})}}}this._lastExpanded=null;var bb=this._mergeAxes(a7,a3,a8);this._axes=bb.axes;return bb.data},_readData:function(a1){var a2=this.reader.axes(a1);var a0=this.reader.data(a1);return this._processResult(a0,a2)},_createTuple:function(bb,a1,bd){var a5=bb.members;var a2=a5.length;var ba={members:[]};var a9,a4;var a0,a3;var a7;var a8;var be;var a6;var bc=0;if(a1){a2-=1}for(;bc<a2;bc++){a6=a5[bc];a4=Number(a6.levelNum);a0=a6.name;a3=a6.parentName;be=a6.caption||a0;a7=a6.hasChildren;a8=a6.hierarchy;a9=a6.levelName;if(bd){be="All";if(a4===0){a3=a6.name}else{a4-=1}a7=true;a0=a8=a9=a3}ba.members.push({name:a0,children:[],caption:be,levelName:a9,levelNum:a4.toString(),hasChildren:a7,hierarchy:a8,parentName:!bd?a3:""})}if(a1){ba.members.push({name:a1.name,children:[]})}return ba},_hasRoot:function(a7,a0,a9){if(a0.length){return h(a0,a7).tuple}var a5=a7.members;var a6;var a1;var a4=true;var a3;for(var a8=0,a2=a5.length;a8<a2;a8++){a6=a5[a8];a3=Number(a6.levelNum)||0;a1=a9[a8];if(!(a3===0||(a1&&a6.name===J(a1)))){a4=false;break}}return a4},_mergeAxes:function(a7,a3,a9){var ba=this._columnMeasures();var bd=this._rowMeasures();var a6=this.axes();var bb,a5;var bc=a7.rows.tuples.length;var a0=L(a6.columns.tuples,ba);var a1=a7.columns.tuples.length;if(a9=="columns"){a1=a0;a5=a7.columns.tuples}else{a5=Z(a7.columns.tuples,ba);a3=ai(a5,a3)}var a8=U(a6.columns.tuples,a5,ba);if(a9=="rows"){bc=L(a7.rows.tuples,bd);a5=a7.rows.tuples}else{a5=Z(a7.rows.tuples,bd);a3=p(a5,a3)}var a4=U(a6.rows.tuples,a5,bd);a6.columns.tuples=a8.tuples;a6.rows.tuples=a4.tuples;if(a0!==L(a6.columns.tuples,ba)){bb=a8.index+t(a8.parsedRoot,a8.memberIndex,ba);var a2=a0+a1;a3=this._mergeColumnData(a3,bb,bc,a1,a2)}else{bb=a4.index+t(a4.parsedRoot,a4.memberIndex,bd);a3=this._mergeRowData(a3,bb,bc,a1)}return{axes:a6,data:a3}},_mergeColumnData:function(ba,a6,a2,a0,a3){var a4=this.data().toJSON();var a7,a5,a1=0,a9;var a8=Math.max(this._columnMeasures().length,1);a2=Math.max(a2,1);if(a4.length>0){a1=a8;a3-=a8}for(a7=0;a7<a2;a7++){a5=a6+(a7*a3);a9=ba.splice(0,a0);a9.splice(0,a1);[].splice.apply(a4,[a5,0].concat(a9))}return a4},_mergeRowData:function(a8,a3,a1,a0){var a2=this.data().toJSON();var a5,a4,a6;var a7=Math.max(this._rowMeasures().length,1);a0=Math.max(a0,1);if(a2.length>0){a1-=a7;a8.splice(0,a0*a7)}for(a5=0;a5<a1;a5++){a6=a8.splice(0,a0);a4=(a3*a0)+(a5*a0);[].splice.apply(a2,[a4,0].concat(a6))}return a2},_columnMeasures:function(){var a1=this.measures();var a0=[];if(this.measuresAxis()==="columns"){if(this.columns().length===0){a0=a1}else{if(a1.length>1){a0=a1}}}return a0},_rowMeasures:function(){var a1=this.measures();var a0=[];if(this.measuresAxis()==="rows"){if(this.rows().length===0){a0=a1}else{if(a1.length>1){a0=a1}}}return a0},_updateLocalData:function(a1,a0){if(this.cubeBuilder){if(a0){this._requestData=a0}a1=this._processResult(a1)}this._data=this._observe(a1);this._ranges=[];this._addRange(this._data);this._total=this._data.length;this._pristineTotal=this._total;this._process(this._data)},data:function(a1){var a0=this;if(a1!==y){this._pristineData=a1.slice(0);this._updateLocalData(a1,{columns:this.columns(),rows:this.rows(),measures:this.measures()})}else{return a0._data}},_normalizeTuples:function(a4,a0,ba,a1){var a2=a1.length||1;var a7=0;var bb=[];var a5={};var a9=0;var a6,a3,a8;if(!a4.length){return}if(this._skipNormalize<=0&&!this._hasRoot(a4[0],a0,ba)){this._skipNormalize=0;for(;a7<a2;a7++){bb.push(this._createTuple(a4[0],a1[a7],true));a5[a7]=a7}a4.splice.apply(a4,[0,a4.length].concat(bb).concat(a4));a7=a2}if(a1.length){a8=a6=a4[a7];a3=a6.members.length-1;while(a6){if(a9>=a2){a9=0}if(a6.members[a3].name!==a1[a9].name){a4.splice(a7,0,this._createTuple(a6,a1[a9]));a5[a7]=a7}a7+=1;a9+=1;a6=a4[a7];if(a2>a9&&(!a6||Y(a8,a3-1)!==Y(a6,a3-1))){for(;a9<a2;a9++){a4.splice(a7,0,this._createTuple(a8,a1[a9]));a5[a7]=a7;a7+=1}a6=a4[a7]}a8=a6}}return a5},_normalizeData:function(bb){var a4=bb.data;var a6=bb.columnIndexes||{};var a8=bb.rowIndexes||{};var a1=bb.columnsLength||1;var a2=a1*(bb.rowsLength||1);var a9=0;var a5=0;var a7=0;var a0,a3;var ba=new Array(a2);if(a4.length===a2){return a4}for(;a9<a2;a9++){while(a8[parseInt(a9/a1,10)]!==y){for(a3=0;a3<a1;a3++){ba[a9]={value:"",fmtValue:"",ordinal:a9};a9+=1}}while(a6[a9%a1]!==y){ba[a9]={value:"",fmtValue:"",ordinal:a9};a9+=1}a0=a4[a5];if(a0){if(a0.ordinal-a7>1){a7+=1;for(;a7<a0.ordinal;a7++){ba[a9]={value:"",fmtValue:"",ordinal:a9};a9+=1}}a7=a0.ordinal;a0.ordinal=a9;ba[a9]=a0;a5+=1}else{ba[a9]={value:"",fmtValue:"",ordinal:a9}}}return ba},discover:function(a0,a1){var a2=this,a3=a2.transport;return aG.Deferred(function(a4){a3.discover(ao({success:function(a5){a5=a2.reader.parse(a5);if(a2._handleCustomErrors(a5)){return}if(a1){a5=a1(a5)}a4.resolve(a5)},error:function(a6,a5,a7){a4.reject(a6);a2.error(a6,a5,a7)}},a0))}).promise().done(function(){a2.trigger("schemaChange")})},schemaMeasures:function(){var a0=this;return a0.discover({data:{command:"schemaMeasures",restrictions:{catalogName:a0.transport.catalog(),cubeName:a0.transport.cube()}}},function(a1){return a0.reader.measures(a1)})},schemaKPIs:function(){var a0=this;return a0.discover({data:{command:"schemaKPIs",restrictions:{catalogName:a0.transport.catalog(),cubeName:a0.transport.cube()}}},function(a1){return a0.reader.kpis(a1)})},schemaDimensions:function(){var a0=this;return a0.discover({data:{command:"schemaDimensions",restrictions:{catalogName:a0.transport.catalog(),cubeName:a0.transport.cube()}}},function(a1){return a0.reader.dimensions(a1)})},schemaHierarchies:function(a0){var a1=this;return a1.discover({data:{command:"schemaHierarchies",restrictions:{catalogName:a1.transport.catalog(),cubeName:a1.transport.cube(),dimensionUniqueName:a0}}},function(a2){return a1.reader.hierarchies(a2)})},schemaLevels:function(a0){var a1=this;return a1.discover({data:{command:"schemaLevels",restrictions:{catalogName:a1.transport.catalog(),cubeName:a1.transport.cube(),hierarchyUniqueName:a0}}},function(a2){return a1.reader.levels(a2)})},schemaCubes:function(){var a0=this;return a0.discover({data:{command:"schemaCubes",restrictions:{catalogName:a0.transport.catalog()}}},function(a1){return a0.reader.cubes(a1)})},schemaCatalogs:function(){var a0=this;return a0.discover({data:{command:"schemaCatalogs"}},function(a1){return a0.reader.catalogs(a1)})},schemaMembers:function(a1){var a0=this;return a0.discover({data:{command:"schemaMembers",restrictions:ao({catalogName:a0.transport.catalog(),cubeName:a0.transport.cube()},a1)}},function(a2){return a0.reader.members(a2)})},_params:function(a1){if(this._clearAxesData){this._axes={};this._data=this._observe([]);this._clearAxesData=false;this.trigger(S)}var a0=r.fn._params.call(this,a1);a0=ao({measures:this.measures(),measuresAxis:this.measuresAxis(),columns:this.columns(),rows:this.rows()},a0);if(this.cubeBuilder){this._requestData=a0}return a0}});function ae(a0,a1,a2){if(a0.tuples.length<L(a1.tuples,a2)){return a1}return}function aR(ba,a3,a6,a1,a8){var a5,a2,a9;var a0=ba.length;var a7=L(a3,a1);var a4=a1.length||1;for(a2=0;a2<a6;a2++){for(a5=0;a5<a0;a5++){a9=aU(ba[a5],a3)*a4;a9+=a5%a4;a8[a2*a0+a5].ordinal=a2*a7+a9}}}function Q(ba,a3,a0,a1,a8){var a5,a2,a9;var a6=ba.length;var a7=L(a3,a1);var a4=a1.length||1;for(a2=0;a2<a6;a2++){a9=aU(ba[a2],a3);a9*=a4;a9+=a2%a4;for(a5=0;a5<a0;a5++){a8[a2*a0+a5].ordinal=a9*a0+a5}}}function aU(a0,a1){return h(a1,a0).index}function L(a3,a6){if(!a3.length){return 0}var a2=a3.slice();var a5=a2.shift();var a1,a4,a0=1;while(a5){if(a5.members){[].push.apply(a2,a5.members)}else{if(a5.children){if(!a5.measure){a0+=a5.children.length}[].push.apply(a2,a5.children)}}a5=a2.shift()}if(a6.length){a0=a0*a6.length}return a0}function j(a0){if(!a0){a0={tuples:[]}}if(!a0.tuples){a0.tuples=[]}return a0}function t(a0,a5,a4){if(!a0){return 0}var a1=Math.max(a4.length,1);var a2=a0.members.slice(0,a5);var a3=a2.shift();while(a3){if(a3.children){[].push.apply(a2,a3.children)}else{a1++;[].push.apply(a2,a3.members)}a3=a2.shift()}return a1}function U(a6,a0,a1){if(!a0[0]){return{parsedRoot:null,tuples:a6,memberIndex:0,index:0}}var a8=h(a6,a0[0]);if(!a8.tuple){return{parsedRoot:null,tuples:a0,memberIndex:0,index:0}}var a4=a8.tuple.members;var a2=a0[0].members;var a5=-1;if(a4.length!==a2.length){return{parsedRoot:null,tuples:a0,memberIndex:0,index:0}}for(var a7=0,a3=a4.length;a7<a3;a7++){if(!a4[a7].measure&&a2[a7].children[0]){if(a5==-1&&a2[a7].children.length){a5=a7}a4[a7].children=a2[a7].children}}a1=Math.max(a1.length,1);return{parsedRoot:a8.tuple,index:a8.index*a1,memberIndex:a5,tuples:a6}}function d(a5,a2){var a3=true;var a0,a4;var a1;a5=a5.members;a2=a2.members;for(a0=0,a4=a5.length;a0<a4;a0++){if(a5[a0].measure||a2[a0].measure){continue}a3=a3&&(J(a5[a0])===J(a2[a0]))}return a3}function h(a4,a8){var a7,a1,a6,a9,a0=0;var a5,a3,a2;for(a7=0,a1=a4.length;a7<a1;a7++){a6=a4[a7];if(d(a6,a8)){return{tuple:a6,index:a0}}a0++;for(a5=0,a3=a6.members.length;a5<a3;a5++){a2=a6.members[a5];if(a2.measure){continue}a9=h(a2.children,a8);a0+=a9.index;if(a9.tuple){return{tuple:a9.tuple,index:a0}}}}return{index:a0}}function ak(a1,a4){var a5,a2,a0,a3="";for(a2=0,a0=a1.length;a2<a0;a2++){a5=a1[a2];a3+=a5.name;if(!a4[a3]){a4[a3]=a5}}}function a(a7,a1){var a3=a7.members;var a5,a6,a4,a8="";var a2="";var a0;for(a5=0,a6=a3.length;a5<a6;a5++){a4=a3[a5];if(a0){if(a1[a8+a4.name]){a8+=a4.name;a0=a1[a8];continue}else{if(a1[a8+a4.parentName]){return a1[a8+a4.parentName]}else{if(a1[a2+a4.parentName]){return a1[a2+a4.parentName]}else{return a1[a2]}}}}a8+=a4.name;a0=a1[a4.parentName];if(!a0){a0=a1[a8];if(!a0){return null}}if(a0){a2+=a0.name}}return a0}function e(a2,a5){if(a5.length===0){return -1}var a4=a5[0];var a3=a2.members;for(var a1=0,a0=a3.length;a1<a0;a1++){if(a3[a1].name==a4.name){return a1}}}function aa(a0,a1){if(a1<0){return}var a2={name:"Measures",measure:true,children:[aG.extend({members:[],dataIndex:a0.dataIndex},a0.members[a1])]};a0.members.splice(a1,1,a2);a0.dataIndex=y}function Z(a5,a7){if(a5.length<1){return[]}var a1=[];var a6={};var a4=e(a5[0],a7);for(var a3=0;a3<a5.length;a3++){var a0=a5[a3];a0.dataIndex=a3;aa(a0,a4);var a2=a(a0,a6);if(a2){if(a4<0||!a2.measure){a2.children.push(a0)}else{a2.children.push(a0.members[a4].children[0])}}else{a1.push(a0)}ak(a0.members,a6)}return a1}function p(a4,a3){if(!a4||!a4.length){return a3}var ba=[];var a9=o(a4);var a2=a9.length;var a0=Math.max(a3.length/a2,1);var a8,a6,a1,a5;var a7;for(a8=0;a8<a2;a8++){a1=a0*a8;a5=a0*a9[a8];for(a6=0;a6<a0;a6++){a7=parseInt(a5+a6,10);ba[parseInt(a1+a6,10)]=a3[a7]||{value:"",fmtValue:"",ordinal:a7}}}return ba}function ai(a3,a2,a5){if(!a3||!a3.length){return a2}var ba=[];var a9=o(a3);var a0=a9.length;var a1=Math.max(a2.length/a0,1);var a4,a7,a8,a6;for(a7=0;a7<a1;a7++){a8=a0*a7;for(a4=0;a4<a0;a4++){a6=a9[a4]+a8;ba[a8+a4]=a2[a6]||{value:"",fmtValue:"",ordinal:a6}}}return ba}function o(a5){a5=a5.slice();var a2=[];var a1=a5.shift();var a0,a6,a3,a4,a7;while(a1){if(a1.dataIndex!==y){a2.push(a1.dataIndex)}a3=0;for(a0=0,a6=a1.members.length;a0<a6;a0++){a7=a1.members[a0];a4=a7.children;if(a7.measure){[].splice.apply(a5,[0,0].concat(a4))}else{[].splice.apply(a5,[a3,0].concat(a4))}a3+=a4.length}a1=a5.shift()}return a2}al.create=function(a0){a0=a0&&a0.push?{data:a0}:a0;var a2=a0||{},a1=a2.data;a2.data=a1;if(!(a2 instanceof al)&&a2 instanceof u.data.DataSource){throw new Error("Incorrect DataSource type. Only PivotDataSource instances are supported")}return a2 instanceof al?a2:new al(a2)};function ab(a0){var a1=a0.split(".");if(a1.length>2){return a1[0]+"."+a1[1]}return a0}function s(a4,a3){var a0=a4.length-1;var a2=a4[a0];var a1;a1=aV(a3,a2);if(a1&&a1.dir){a2="ORDER("+a2+".Children,"+a1.field+".CurrentMember.MEMBER_CAPTION,"+a1.dir+")"}else{a2+=".Children"}a4[a0]=a2;return a4}function aV(a1,a3){for(var a0=0,a2=a1.length;a0<a2;a0++){if(a3.indexOf(a1[a0].field)===0){return a1[a0]}}return null}function aQ(a2){var a0="CROSSJOIN({";var a1;if(a2.length>2){a1=a2.pop();a0+=aQ(a2)}else{a0+=a2.shift();a1=a2.pop()}a0+="},{";a0+=a1;a0+="})";return a0}function aN(a0,a3){var a1=a0.slice(0);var a2;if(a3.length>1){a1.push("{"+an(a3).join(",")+"}")}return aQ(a1)}function aT(a2){var a1=[];for(var a0=0;a0<a2.length;a0++){if(a2[a0].expand){a1.push(a2[a0])}}return a1}function an(a4){var a1=0;var a3=a4.length;var a0=[];var a2;for(;a1<a3;a1++){a2=a4[a1];a0.push(a2.name!==y?a2.name:a2)}return a0}function J(a0){a0=a0.name||a0;if(au.call(a0)==="[object Array]"){a0=a0[a0.length-1]}return a0}function aF(a1){var a2=a1.length;var a3=[];var a0=0;for(;a0<a2;a0++){a3.push(a1[a0].name[0])}return a3}function M(a6,a5){var a3;var a7;var a2;var a1=0;var a4=a6.length;var a0=a5.length;a5=a5.slice(0);for(;a1<a4;a1++){a3=a6[a1];for(a2=0;a2<a0;a2++){a7=ab(a5[a2]);if(a3.indexOf(a7)!==-1){a5[a2]=a3;break}}}return a5}function x(a5){var a8=[];var a2=[];var a9=[];var a7;var a4,a3;var ba=0;var a1=a5.length;var a0;var a6;var bb;for(;ba<a1;ba++){a7=a5[ba];a0=a7.name;bb=false;if(au.call(a0)!=="[object Array]"){a7.name=a0=[a0]}if(a0.length>1){a2.push(a7)}else{a6=ab(a0[0]);for(a4=0,a3=a9.length;a4<a3;a4++){if(a9[a4].name[0].indexOf(a6)===0){bb=true;break}}if(!bb){a9.push(a7)}if(a7.expand){a8.push(a7)}}}a8=a8.concat(a2);return{root:a9,expanded:a8}}function q(a4,a0,a5){var a2="";a4=a4||[];var a6=x(a4);var ba=a6.root;var a8=aF(ba);var a3=[];a6=a6.expanded;var a1=a6.length;var bb=0;var a7;var a9=[];if(a8.length>1||a0.length>1){a3.push(aN(a8,a0));for(;bb<a1;bb++){a7=s(a6[bb].name,a5);a9=M(a7,a8);a3.push(aN(a9,a0))}a2+=a3.join(",")}else{for(;bb<a1;bb++){a7=s(a6[bb].name,a5);a9.push(a7[0])}a2+=a8.concat(a9).join(",")}return a2}var aw={contains:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}") > 0',doesnotcontain:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}") = 0',startswith:', Left({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"',endswith:', Right({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"',eq:', {0}.CurrentMember.MEMBER_CAPTION = "{1}"',neq:', NOT {0}.CurrentMember.MEMBER_CAPTION = "{1}"'};function A(a4){var a3="";var a1=a4.value;var a2=a4.field;var a0=a4.operator;if(a0=="in"){a3+="{";a3+=a1;a3+="}"}else{a3+="Filter(";a3+=a2+".MEMBERS";a3+=u.format(aw[a0],a2,a1);a3+=")"}return a3}function ay(a2,a1){var a6="",a5;var a4=a2.filters;var a3=a4.length;var a0;for(a0=a3-1;a0>=0;a0--){a5="SELECT (";a5+=A(a4[a0]);a5+=") ON 0";if(a0==a3-1){a5+=" FROM ["+a1+"]";a6=a5}else{a6=a5+" FROM ( "+a6+" )"}}return a6}function ax(a1,a2,a4){var a0="";if(a2){a0+="<"+a1+">";var a5;for(var a3 in a2){a5=a2[a3];if(a4){a3=a3.replace(/([A-Z]+(?=$|[A-Z][a-z])|[A-Z]?[a-z]+)/g,"$1_").toUpperCase().replace(/_$/,"")}a0+="<"+a3+">"+a5+"</"+a3+">"}a0+="</"+a1+">"}else{a0+="<"+a1+"/>"}return a0}var l={schemaCubes:"MDSCHEMA_CUBES",schemaCatalogs:"DBSCHEMA_CATALOGS",schemaMeasures:"MDSCHEMA_MEASURES",schemaDimensions:"MDSCHEMA_DIMENSIONS",schemaHierarchies:"MDSCHEMA_HIERARCHIES",schemaLevels:"MDSCHEMA_LEVELS",schemaMembers:"MDSCHEMA_MEMBERS",schemaKPIs:"MDSCHEMA_KPIS"};var aq={read:function(a1,a4){var a7='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Execute xmlns="urn:schemas-microsoft-com:xml-analysis"><Command><Statement>';a7+="SELECT NON EMPTY {";var a3=a1.columns||[];var a5=a1.rows||[];var a6=a1.measures||[];var a0=a1.measuresAxis==="rows";var a2=a1.sort||[];if(!a3.length&&a5.length&&(!a6.length||(a6.length&&a0))){a3=a5;a5=[];a0=false}if(!a3.length&&!a5.length){a0=false}if(a3.length){a7+=q(a3,!a0?a6:[],a2)}else{if(a6.length&&!a0){a7+=an(a6).join(",")}}a7+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON COLUMNS";if(a5.length||(a0&&a6.length>1)){a7+=", NON EMPTY {";if(a5.length){a7+=q(a5,a0?a6:[],a2)}else{a7+=an(a6).join(",")}a7+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON ROWS"}if(a1.filter){a7+=" FROM ";a7+="(";a7+=ay(a1.filter,a1.connection.cube);a7+=")"}else{a7+=" FROM ["+a1.connection.cube+"]"}if(a6.length==1&&a3.length){a7+=" WHERE ("+an(a6).join(",")+")"}a7+="</Statement></Command><Properties><PropertyList><Catalog>"+a1.connection.catalog+"</Catalog><Format>Multidimensional</Format></PropertyList></Properties></Execute></Body></Envelope>";return a7.replace(/\&/g,"&amp;")},discover:function(a0,a1){a0=a0||{};var a2='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Discover xmlns="urn:schemas-microsoft-com:xml-analysis">';a2+="<RequestType>"+(l[a0.command]||a0.command)+"</RequestType>";a2+="<Restrictions>"+ax("RestrictionList",a0.restrictions,true)+"</Restrictions>";if(a0.connection&&a0.connection.catalog){a0.properties=aG.extend({},{Catalog:a0.connection.catalog},a0.properties)}a2+="<Properties>"+ax("PropertyList",a0.properties)+"</Properties>";a2+="</Discover></Body></Envelope>";return a2}};var W=u.data.RemoteTransport.extend({init:function(a0){var a1=a0;a0=this.options=ao(true,{},this.options,a0);u.data.RemoteTransport.call(this,a0);if(aH(a1.discover)){this.discover=a1.discover}else{if(typeof a1.discover==="string"){this.options.discover={url:a1.discover}}else{if(!a1.discover){this.options.discover=this.options.read}}}},setup:function(a0,a1){a0.data=a0.data||{};aG.extend(true,a0.data,{connection:this.options.connection});return u.data.RemoteTransport.fn.setup.call(this,a0,a1)},options:{read:{dataType:"text",contentType:"text/xml",type:"POST"},discover:{dataType:"text",contentType:"text/xml",type:"POST"},parameterMap:function(a0,a1){return aq[a1](a0,a1)}},discover:function(a0){return aG.ajax(this.setup(a0,"discover"))}});function N(a0){if(a0==null){return[]}var a1=au.call(a0);if(a1!=="[object Array]"){return[a0]}return a0}function c(a2){var bd={tuples:[]};var a7=N(u.getter("Tuples.Tuple",true)(a2));var a0=u.getter("Caption['#text']");var a8=u.getter("UName['#text']");var bc=u.getter("LName['#text']");var a9=u.getter("LNum['#text']");var bb=u.getter("CHILDREN_CARDINALITY['#text']",true);var a5=u.getter("['@Hierarchy']");var a1=u.getter("PARENT_UNIQUE_NAME['#text']",true);for(var ba=0;ba<a7.length;ba++){var a3=[];var a4=N(a7[ba].Member);for(var a6=0;a6<a4.length;a6++){a3.push({children:[],caption:a0(a4[a6]),name:a8(a4[a6]),levelName:bc(a4[a6]),levelNum:a9(a4[a6]),hasChildren:parseInt(bb(a4[a6]),10)>0,parentName:a1(a4[a6]),hierarchy:a5(a4[a6])})}bd.tuples.push({members:a3})}return bd}var C={cubes:{name:u.getter("CUBE_NAME['#text']",true),caption:u.getter("CUBE_CAPTION['#text']",true),description:u.getter("DESCRIPTION['#text']",true),type:u.getter("CUBE_TYPE['#text']",true)},catalogs:{name:u.getter("CATALOG_NAME['#text']",true),description:u.getter("DESCRIPTION['#text']",true)},measures:{name:u.getter("MEASURE_NAME['#text']",true),caption:u.getter("MEASURE_CAPTION['#text']",true),uniqueName:u.getter("MEASURE_UNIQUE_NAME['#text']",true),description:u.getter("DESCRIPTION['#text']",true),aggregator:u.getter("MEASURE_AGGREGATOR['#text']",true),groupName:u.getter("MEASUREGROUP_NAME['#text']",true),displayFolder:u.getter("MEASURE_DISPLAY_FOLDER['#text']",true),defaultFormat:u.getter("DEFAULT_FORMAT_STRING['#text']",true)},kpis:{name:u.getter("KPI_NAME['#text']",true),caption:u.getter("KPI_CAPTION['#text']",true),value:u.getter("KPI_VALUE['#text']",true),goal:u.getter("KPI_GOAL['#text']",true),status:u.getter("KPI_STATUS['#text']",true),trend:u.getter("KPI_TREND['#text']",true),statusGraphic:u.getter("KPI_STATUS_GRAPHIC['#text']",true),trendGraphic:u.getter("KPI_TREND_GRAPHIC['#text']",true),description:u.getter("KPI_DESCRIPTION['#text']",true),groupName:u.getter("MEASUREGROUP_NAME['#text']",true)},dimensions:{name:u.getter("DIMENSION_NAME['#text']",true),caption:u.getter("DIMENSION_CAPTION['#text']",true),description:u.getter("DESCRIPTION['#text']",true),uniqueName:u.getter("DIMENSION_UNIQUE_NAME['#text']",true),defaultHierarchy:u.getter("DEFAULT_HIERARCHY['#text']",true),type:u.getter("DIMENSION_TYPE['#text']",true)},hierarchies:{name:u.getter("HIERARCHY_NAME['#text']",true),caption:u.getter("HIERARCHY_CAPTION['#text']",true),description:u.getter("DESCRIPTION['#text']",true),uniqueName:u.getter("HIERARCHY_UNIQUE_NAME['#text']",true),dimensionUniqueName:u.getter("DIMENSION_UNIQUE_NAME['#text']",true),displayFolder:u.getter("HIERARCHY_DISPLAY_FOLDER['#text']",true),origin:u.getter("HIERARCHY_ORIGIN['#text']",true),defaultMember:u.getter("DEFAULT_MEMBER['#text']",true)},levels:{name:u.getter("LEVEL_NAME['#text']",true),caption:u.getter("LEVEL_CAPTION['#text']",true),description:u.getter("DESCRIPTION['#text']",true),uniqueName:u.getter("LEVEL_UNIQUE_NAME['#text']",true),dimensionUniqueName:u.getter("DIMENSION_UNIQUE_NAME['#text']",true),displayFolder:u.getter("LEVEL_DISPLAY_FOLDER['#text']",true),orderingProperty:u.getter("LEVEL_ORDERING_PROPERTY['#text']",true),origin:u.getter("LEVEL_ORIGIN['#text']",true),hierarchyUniqueName:u.getter("HIERARCHY_UNIQUE_NAME['#text']",true)},members:{name:u.getter("MEMBER_NAME['#text']",true),caption:u.getter("MEMBER_CAPTION['#text']",true),uniqueName:u.getter("MEMBER_UNIQUE_NAME['#text']",true),dimensionUniqueName:u.getter("DIMENSION_UNIQUE_NAME['#text']",true),hierarchyUniqueName:u.getter("HIERARCHY_UNIQUE_NAME['#text']",true),levelUniqueName:u.getter("LEVEL_UNIQUE_NAME['#text']",true),childrenCardinality:u.getter("CHILDREN_CARDINALITY['#text']",true)}};var V=["axes","catalogs","cubes","dimensions","hierarchies","levels","measures"];var b=u.data.XmlDataReader.extend({init:function(a0){u.data.XmlDataReader.call(this,a0);this._extend(a0)},_extend:function(a2){var a0=0;var a4=V.length;var a1;var a3;for(;a0<a4;a0++){a1=V[a0];a3=a2[a1];if(a3&&a3!==X){this[a1]=a3}}},parse:function(a1){var a0=u.data.XmlDataReader.fn.parse(a1.replace(/<(\/?)(\w|-)+:/g,"<$1"));return u.getter("['Envelope']['Body']",true)(a0)},errors:function(a0){var a1=u.getter("['Fault']",true)(a0);if(a1){return[{faultstring:u.getter("faultstring['#text']",true)(a1),faultcode:u.getter("faultcode['#text']",true)(a1)}]}return null},axes:function(a2){a2=u.getter('ExecuteResponse["return"].root',true)(a2);var a4=N(u.getter("Axes.Axis",true)(a2));var a3;var a1={columns:{},rows:{}};for(var a0=0;a0<a4.length;a0++){a3=a4[a0];if(a3["@name"].toLowerCase()!=="sliceraxis"){if(!a1.columns.tuples){a1.columns=c(a3)}else{a1.rows=c(a3)}}}return a1},data:function(a5){a5=u.getter('ExecuteResponse["return"].root',true)(a5);var a6=N(u.getter("CellData.Cell",true)(a5));var a2=[];var a4=u.getter("['@CellOrdinal']");var a1=u.getter("Value['#text']");var a3=u.getter("FmtValue['#text']");for(var a0=0;a0<a6.length;a0++){a2.push({value:a1(a6[a0]),fmtValue:a3(a6[a0]),ordinal:parseInt(a4(a6[a0]),10)})}return a2},_mapSchema:function(a2,a4){a2=u.getter('DiscoverResponse["return"].root',true)(a2);var a5=N(u.getter("row",true)(a2));var a1=[];for(var a0=0;a0<a5.length;a0++){var a6={};for(var a3 in a4){a6[a3]=a4[a3](a5[a0])}a1.push(a6)}return a1},measures:function(a0){return this._mapSchema(a0,C.measures)},kpis:function(a0){return this._mapSchema(a0,C.kpis)},hierarchies:function(a0){return this._mapSchema(a0,C.hierarchies)},levels:function(a0){return this._mapSchema(a0,C.levels)},dimensions:function(a0){return this._mapSchema(a0,C.dimensions)},cubes:function(a0){return this._mapSchema(a0,C.cubes)},catalogs:function(a0){return this._mapSchema(a0,C.catalogs)},members:function(a0){return this._mapSchema(a0,C.members)}});ao(true,u.data,{PivotDataSource:al,XmlaTransport:W,XmlaDataReader:b,PivotCubeBuilder:aI,transports:{xmla:W},readers:{xmla:b}});var f=function(a3,a1){if(!a3){return null}for(var a0=0,a2=a3.length;a0<a2;a0++){if(a3[a0].field===a1){return a3[a0]}}return null};var H=function(a4,a2){var a1=[];for(var a0=0,a3=a4.length;a0<a3;a0++){if(a4[a0].field!==a2){a1.push(a4[a0])}}return a1};u.ui.PivotSettingTarget=n.extend({init:function(a1,a0){var a2=this;n.fn.init.call(a2,a1,a0);a2.element.addClass("k-pivot-setting");a2.dataSource=u.data.PivotDataSource.create(a0.dataSource);a2._refreshHandler=aG.proxy(a2.refresh,a2);a2.dataSource.first(I,a2._refreshHandler);if(!a0.template){a2.options.template="<div data-"+u.ns+'name="${data.name || data}">${data.name || data}'+(a2.options.enabled?'<a class="k-button k-button-icon k-button-bare"><span class="k-icon k-setting-delete"></span></a>':"")+"</div>"}a2.template=u.template(a2.options.template);a2.emptyTemplate=u.template(a2.options.emptyTemplate);a2._sortable();a2.element.on("click"+aO,".k-button,.k-item",function(a5){var a4=aG(a5.target);var a3=a4.closest("["+u.attr("name")+"]").attr(u.attr("name"));if(!a3){return}if(a4.hasClass("k-setting-delete")){a2.remove(a3)}else{if(a2.options.sortable&&a4[0]===a5.currentTarget){a2.sort({field:a3,dir:a4.find(".k-i-sort-asc")[0]?"desc":"asc"})}}});if(a0.filterable||a0.sortable){a2.fieldMenu=new T.PivotFieldMenu(a2.element,{messages:a2.options.messages.fieldMenu,filter:".k-setting-fieldmenu",filterable:a0.filterable,sortable:a0.sortable,dataSource:a2.dataSource})}a2.refresh()},options:{name:"PivotSettingTarget",template:null,filterable:false,sortable:false,emptyTemplate:"<div class='k-empty'>${data}</div>",setting:"columns",enabled:true,messages:{empty:"Drop Fields Here"}},setDataSource:function(a0){this.dataSource.unbind(I,this._refreshHandler);this.dataSource=this.options.dataSource=a0;if(this.fieldMenu){this.fieldMenu.setDataSource(a0)}a0.first(I,this._refreshHandler);this.refresh()},_sortable:function(){var a0=this;if(a0.options.enabled){this.sortable=this.element.kendoSortable({connectWith:this.options.connectWith,filter:">:not(.k-empty)",hint:a0.options.hint,cursor:"move",start:function(a1){a1.item.focus().blur()},change:function(a2){var a1=a2.item.attr(u.attr("name"));if(a2.action=="receive"){a0.add(a1)}else{if(a2.action=="remove"){a0.remove(a1)}else{if(a2.action=="sort"){a0.move(a1,a2.newIndex)}}}}}).data("kendoSortable")}},_indexOf:function(a3,a1){var a0,a4,a2=-1;for(a0=0,a4=a1.length;a0<a4;a0++){if(J(a1[a0])===a3){a2=a0;break}}return a2},_isKPI:function(a0){return a0.type==="kpi"||a0.measure},validate:function(a2){var a3=(a2.type==2||"aggregator" in a2||this._isKPI(a2));if(a3){return this.options.setting==="measures"}if(this.options.setting==="measures"){return a3}var a0=this.dataSource[this.options.setting]();var a1=a2.defaultHierarchy||a2.uniqueName;if(this._indexOf(a1,a0)>-1){return false}a0=this.dataSource[this.options.setting==="columns"?"rows":"columns"]();if(this._indexOf(a1,a0)>-1){return false}return true},add:function(a3){var a2=this.dataSource[this.options.setting]();var a4,a1;var a0;a3=aG.isArray(a3)?a3.slice(0):[a3];for(a4=0,a1=a3.length;a4<a1;a4++){if(this._indexOf(a3[a4],a2)!==-1){a3.splice(a4,1);a4-=1;a1-=1}}if(a3.length){a2=a2.concat(a3);this.dataSource[this.options.setting](a2)}},move:function(a3,a2){var a1=this.dataSource[this.options.setting]();var a0=this._indexOf(a3,a1);if(a0>-1){a3=a1.splice(a0,1)[0];a1.splice(a2,0,a3);this.dataSource[this.options.setting](a1)}},remove:function(a2){var a1=this.dataSource[this.options.setting]();var a0=this._indexOf(a2,a1);if(a0>-1){a1.splice(a0,1);this.dataSource[this.options.setting](a1)}},sort:function(a4){var a5=this.options.sortable;var a1=a5===true||a5.allowUnsort;var a3=a1&&a4.dir==="asc";var a2=(this.dataSource.sort()||[]);var a0=H(a2,a4.field);if(a3&&a2.length!==a0.length){a4=null}if(a4){a0.push(a4)}this.dataSource.sort(a0)},refresh:function(){var a2="";var a1=this.dataSource[this.options.setting]();var a4=a1.length;var a0=0;var a3;if(a4){for(;a0<a4;a0++){a3=a1[a0];a3=a3.name===y?{name:a3}:a3;a2+=this.template(ao({sortIcon:this._sortIcon(a3.name)},a3))}}else{a2=this.emptyTemplate(this.options.messages.empty)}this.element.html(a2)},destroy:function(){n.fn.destroy.call(this);this.dataSource.unbind(I,this._refreshHandler);this.element.off(aO);if(this.sortable){this.sortable.destroy()}if(this.fieldMenu){this.fieldMenu.destroy()}this.element=null;this._refreshHandler=null},_sortIcon:function(a0){var a2=this.dataSource.sort();var a3=f(a2,J(a0));var a1="";if(a3){a1="k-i-sort-"+a3.dir}return a1}});var af=n.extend({init:function(a2,a0){var a3=this;var a4;var a1;n.fn.init.call(a3,a2,a0);a3._dataSource();a3._bindConfigurator();a3._wrapper();a3._createLayout();a3._columnBuilder=a4=new am();a3._rowBuilder=a1=new D();a3._contentBuilder=new ar();a3._templates();a3.columnsHeader.add(a3.rowsHeader).on("click","span.k-icon",function(){var a8=aG(this);var a9=a4;var a6="expandColumn";var ba;var bd=a8.attr(u.attr("path"));var a5={axis:"columns",path:aG.parseJSON(bd)};if(a8.parent().is("td")){a9=a1;a6="expandRow";a5.axis="rows"}var bb=a8.hasClass(aM);var bc=a9.metadata[bd];var a7=bc.expanded===y;ba=bb?ah:at;if(a3.trigger(ba,a5)){return}a9.metadata[bd].expanded=!bb;a8.toggleClass(aM,!bb).toggleClass(w,bb);if(!bb&&a7){a3.dataSource[a6](a5.path)}else{a3.refresh()}});a3._scrollable();if(a3.options.autoBind){a3.dataSource.fetch()}u.notify(a3)},events:[E,B,at,ah],options:{name:"PivotGrid",autoBind:true,reorderable:true,filterable:false,sortable:false,height:null,columnWidth:100,configurator:"",columnHeaderTemplate:null,rowHeaderTemplate:null,dataCellTemplate:null,kpiStatusTemplate:null,kpiTrendTemplate:null,messages:{measureFields:"Drop Data Fields Here",columnFields:"Drop Column Fields Here",rowFields:"Drop Rows Fields Here"}},_templates:function(){var a1=this.options.columnHeaderTemplate;var a4=this.options.rowHeaderTemplate;var a0=this.options.dataCellTemplate;var a2=this.options.kpiStatusTemplate;var a3=this.options.kpiTrendTemplate;this._columnBuilder.template=u.template(a1||aj,{useWithBlock:!!a1});this._contentBuilder.dataTemplate=u.template(a0||ap,{useWithBlock:!!a0});this._contentBuilder.kpiStatusTemplate=u.template(a2||m,{useWithBlock:!!a2});this._contentBuilder.kpiTrendTemplate=u.template(a3||aS,{useWithBlock:!!a3});this._rowBuilder.template=u.template(a4||aj,{useWithBlock:!!a4})},_bindConfigurator:function(){var a0=this.options.configurator;if(a0){aG(a0).kendoPivotConfigurator("setDataSource",this.dataSource)}},cellInfoByElement:function(a0){a0=aG(a0);return this.cellInfo(a0.index(),a0.parent("tr").index())},cellInfo:function(a1,a5){var a2=this._contentBuilder;var a3=a2.columnIndexes[a1||0];var a4=a2.rowIndexes[a5||0];var a0;if(!a3||!a4){return null}a0=(a4.index*a2.rowLength)+a3.index;return{columnTuple:a3.tuple,rowTuple:a4.tuple,measure:a3.measure||a4.measure,dataItem:this.dataSource.view()[a0]}},setDataSource:function(a0){this.options.dataSource=a0;this._dataSource();if(this.measuresTarget){this.measuresTarget.setDataSource(a0)}if(this.rowsTarget){this.rowsTarget.setDataSource(a0)}if(this.columnsTarget){this.columnsTarget.setDataSource(a0)}this._bindConfigurator();if(this.options.autoBind){a0.fetch()}},setOptions:function(a0){n.fn.setOptions.call(this,a0);this._templates()},_dataSource:function(){var a0=this;var a1=a0.options.dataSource;a1=aG.isArray(a1)?{data:a1}:a1;if(a0.dataSource&&this._refreshHandler){a0.dataSource.unbind(I,a0._refreshHandler).unbind(S,a0._stateResetHandler).unbind(aD,a0._progressHandler).unbind(F,a0._errorHandler)}else{a0._refreshHandler=aG.proxy(a0.refresh,a0);a0._progressHandler=aG.proxy(a0._requestStart,a0);a0._stateResetHandler=aG.proxy(a0._stateReset,a0);a0._errorHandler=aG.proxy(a0._error,a0)}a0.dataSource=u.data.PivotDataSource.create(a1).bind(I,a0._refreshHandler).bind(aD,a0._progressHandler).bind(S,a0._stateResetHandler).bind(F,a0._errorHandler)},_error:function(){this._progress(false)},_requestStart:function(){this._progress(true)},_stateReset:function(){this._columnBuilder.reset();this._rowBuilder.reset()},_wrapper:function(){var a0=this.options.height;this.wrapper=this.element.addClass("k-widget k-pivot");if(a0){this.wrapper.css("height",a0)}},_measureFields:function(){this.measureFields=aG(ag).addClass("k-pivot-toolbar k-header k-settings-measures");this.measuresTarget=this._createSettingTarget(this.measureFields,{setting:"measures",messages:{empty:this.options.messages.measureFields}})},_createSettingTarget:function(a2,a0){var a3='<span tabindex="0" class="k-button" data-'+u.ns+'name="${data.name}">${data.name}';var a4=a0.sortable;var a1="";if(a4){a1+="#if (data.sortIcon) {#";a1+='<span class="k-icon ${data.sortIcon} k-setting-sort"></span>';a1+="#}#"}if(a0.filterable||a4){a1+='<span class="k-icon k-i-arrowhead-s k-setting-fieldmenu"></span>'}if(this.options.reorderable){a1+='<span class="k-icon k-si-close k-setting-delete"></span>'}if(a1){a3+='<span class="k-field-actions">'+a1+"</span>"}a3+="</span>";return new u.ui.PivotSettingTarget(a2,aG.extend({template:a3,emptyTemplate:'<span class="k-empty">${data}</span>',enabled:this.options.reorderable,dataSource:this.dataSource},a0))},_initSettingTargets:function(){this.columnsTarget=this._createSettingTarget(this.columnFields,{connectWith:this.rowFields,setting:"columns",filterable:this.options.filterable,sortable:this.options.sortable,messages:{empty:this.options.messages.columnFields,fieldMenu:this.options.messages.fieldMenu}});this.rowsTarget=this._createSettingTarget(this.rowFields,{connectWith:this.columnFields,setting:"rows",filterable:this.options.filterable,sortable:this.options.sortable,messages:{empty:this.options.messages.rowFields,fieldMenu:this.options.messages.fieldMenu}})},_createLayout:function(){var a4=this;var a1=aG(ac);var a3=a1.find(".k-pivot-rowheaders");var a0=a1.find(".k-pivot-table");var a2=aG(ag).addClass("k-grid k-widget");a4._measureFields();a4.columnFields=aG(ag).addClass("k-pivot-toolbar k-header k-settings-columns");a4.rowFields=aG(ag).addClass("k-pivot-toolbar k-header k-settings-rows");a4.columnsHeader=aG('<div class="k-grid-header-wrap" />').wrap('<div class="k-grid-header" />');a4.columnsHeader.parent().css("padding-right",u.support.scrollbar());a4.rowsHeader=aG('<div class="k-grid k-widget k-alt"/>');a4.content=aG('<div class="k-grid-content" />');a3.append(a4.measureFields);a3.append(a4.rowFields);a3.append(a4.rowsHeader);a2.append(a4.columnsHeader.parent());a2.append(a4.content);a0.append(a4.columnFields);a0.append(a2);a4.wrapper.append(a1);a4.columnsHeaderTree=new u.dom.Tree(a4.columnsHeader[0]);a4.rowsHeaderTree=new u.dom.Tree(a4.rowsHeader[0]);a4.contentTree=new u.dom.Tree(a4.content[0]);a4._initSettingTargets()},_progress:function(a0){u.ui.progress(this.wrapper,a0)},_resize:function(){var a1=this.columnsHeader.children("table");var a0=this.content.children("table");if(this.content[0].firstChild){this._setSectionsWidth();this._setSectionsHeight();this._setContentWidth();this._setContentHeight()}},_setSectionsWidth:function(){var a2=this.rowsHeader;var a0=a2.parent(".k-pivot-rowheaders").width(aX);var a1;a1=Math.max(this.measureFields.outerWidth(),this.rowFields.outerWidth());a1=Math.max(a2.children("table").width(),a1);a0.width(a1)},_setSectionsHeight:function(){var a4=this.measureFields.height(aX).height();var a5=this.columnFields.height(aX).height();var a3=this.rowFields.height(aX).innerHeight();var a1=this.columnsHeader.height(aX).innerHeight();var a6=a3-this.rowFields.height();var a0=a5>a4?a5:a4;var a2=a1>a3?a1:a3;this.measureFields.height(a0);this.columnFields.height(a0);this.rowFields.height(a2-a6);this.columnsHeader.height(a2)},_setContentWidth:function(){var a2=this.content.find("table");var a4=this.columnsHeader.children("table");var a1=a2.children("colgroup").children().length;var a0=a1*this.options.columnWidth;var a3=Math.ceil((a0/this.content.width())*100);if(a3<100){a3=100}a2.add(a4).css("width",a3+"%");this._resetColspan(a4)},_setContentHeight:function(){var a3=this;var a2=a3.content;var a5=a3.rowsHeader;var a4=a3.wrapper.innerHeight();var a6=u.support.scrollbar();var a1=a2[0].offsetHeight===a2[0].clientHeight;var a0=a3.options.height;if(a3.wrapper.is(":visible")){if(!a4||!a0){if(a1){a6=0}a2.height("auto");a5.height(a2.height()-a6);return}a4-=a3.columnFields.outerHeight();a4-=a3.columnsHeader.outerHeight();if(a4<=a6*2){a4=a6*2+1;if(!a1){a4+=a6}}a2.height(a4);if(a1){a6=0}a5.height(a4-a6)}},_resetColspan:function(a2){var a1=this;var a0=a2.children("tbody").children(":first").children(":first");if(a1._colspan===y){a1._colspan=a0.attr("colspan")}a0.attr("colspan",1);clearTimeout(a1._layoutTimeout);a1._layoutTimeout=setTimeout(function(){a0.attr("colspan",a1._colspan);a1._colspan=y})},_axisMeasures:function(a2){var a1=[];var a4=this.dataSource;var a3=a4.measures();var a0=a3.length>1||(a3[0]&&a3[0].type);if(a4.measuresAxis()===a2){if(a4[a2]().length===0||a0){a1=a3}}return a1},items:function(){return[]},refresh:function(){var a7=this;var a0=a7.dataSource;var a8=a0.axes();var a3=(a8.columns||{}).tuples||[];var a9=(a8.rows||{}).tuples||[];var a4=a7._columnBuilder;var a6=a7._rowBuilder;var a5={};var a2={};if(a7.trigger(E,{action:"rebind"})){return}a4.measures=a7._axisMeasures("columns");a7.columnsHeaderTree.render(a4.build(a3));a7.rowsHeaderTree.render(a6.build(a9));a5={indexes:a4._indexes,measures:a4.measures,metadata:a4.metadata};a2={indexes:a6._indexes,measures:this._axisMeasures("rows"),metadata:a6.metadata};a7.contentTree.render(a7._contentBuilder.build(a0.view(),a5,a2));a7._resize();if(a7.touchScroller){a7.touchScroller.contentResized()}else{var a1=u.touchScroller(a7.content);if(a1&&a1.movable){a7.touchScroller=a1;a1.movable.bind("change",function(ba){a7.columnsHeader.scrollLeft(-ba.sender.x);a7.rowsHeader.scrollTop(-ba.sender.y)})}}a7._progress(false);a7.trigger(B)},_scrollable:function(){var a1=this;var a0=a1.columnsHeader;var a2=a1.rowsHeader;a1.content.scroll(function(){a0.scrollLeft(this.scrollLeft);a2.scrollTop(this.scrollTop)});a2.bind("DOMMouseScroll"+aO+" mousewheel"+aO,aG.proxy(a1._wheelScroll,a1))},_wheelScroll:function(a1){if(a1.ctrlKey){return}var a2=u.wheelDeltaY(a1);var a0=this.content.scrollTop();if(a2){a1.preventDefault();aG(a1.currentTarget).one("wheel"+aO,false);this.rowsHeader.scrollTop(a0+(-a2));this.content.scrollTop(a0+(-a2))}}});var aW=u.dom.element;var G=u.dom.html;var aC=u.dom.text;var av=function(a0,a1){return{maxChildren:0,children:0,maxMembers:0,members:0,measures:1,levelNum:a0,parentMember:a1!==0}};var R=function(a1,a2){var a3=[];var a0=0;for(;a0<=a2;a0++){a3.push(a1.members[a0].name)}return a3};var Y=function(a1,a3){var a2="";var a0=0;for(;a0<=a3;a0++){a2+=a1.members[a0].name}return a2};var am=aL.extend({init:function(a0){this.measures=1;this.metadata={}},build:function(a2){var a1=this._tbody(a2);var a0=this._colGroup();return[aW("table",null,[a0,a1])]},reset:function(){this.metadata={}},_colGroup:function(){var a2=this._rowLength();var a1=[];var a0=0;for(;a0<a2;a0++){a1.push(aW("col",null))}return aW("colgroup",null,a1)},_tbody:function(a1){var a0=a1[0];this.map={};this.rows=[];this.rootTuple=a0;this._indexes=[];if(a0){this._buildRows(a0,0);this._normalize()}else{this.rows.push(aW("tr",null,[aW("th",null,[G("&nbsp;")])]))}return aW("tbody",null,this.rows)},_normalize:function(){var a6=this.rows;var a3=a6.length;var a5=0;var a7;var a1;var a4;var a2;var a0;for(;a5<a3;a5++){a7=a6[a5];if(a7.rowSpan===1){continue}a2=a7.children;a4=0;a1=a2.length;for(;a4<a1;a4++){a0=a2[a4];if(a0.tupleAll){a0.attr.rowSpan=a7.rowSpan}}}},_rowIndex:function(a3){var a2=this.rows;var a1=a2.length;var a0=0;for(;a0<a1;a0++){if(a2[a0]===a3){break}}return a0},_rowLength:function(){var a2=this.rows[0]?this.rows[0].children:[];var a3=a2.length;var a1=0;var a0=0;if(a3){for(;a0<a3;a0++){a1+=a2[a0].attr.colSpan||1}}if(!a1){a1=this.measures}return a1},_row:function(a7,a6,a2){var a0=this.rootTuple.members[a6].name;var a5=a7.members[a6].levelNum;var a4=a0+a5;var a1=this.map;var a8;var a3;var a9=a1[a4];if(!a9){a9=aW("tr",null,[]);a9.parentMember=a2;a9.collapsed=0;a9.colSpan=0;a9.rowSpan=1;a1[a4]=a9;a8=a1[a0+(Number(a5)-1)];if(a8){a3=a8.children;if(a3[1]&&a3[1].attr.className.indexOf("k-alt")===-1){a9.notFirst=true}else{a9.notFirst=a8.notFirst}}this.rows.splice(this._rowIndex(a8)+1,0,a9)}else{a9.notFirst=false;if(!a9.parentMember||a9.parentMember!==a2){a9.parentMember=a2;a9.collapsed=0;a9.colSpan=0}}return a9},_measures:function(a6,a1,a3){var a5=this.map;var a7=a5.measureRow;var a2;if(!a7){a7=aW("tr",null,[]);a5.measureRow=a7;this.rows.push(a7)}for(var a0=0,a4=a6.length;a0<a4;a0++){a2=a6[a0];a7.children.push(this._cell((a3||""),[this._content(a2,a1)],a2))}return a4},_content:function(a1,a0){return G(this.template({member:a1,tuple:a0}))},_cell:function(a2,a1,a3){var a0=aW("th",{className:"k-header"+a2},a1);a0.value=a3.caption||a3.name;return a0},_buildRows:function(bd,a9,bf){var bi=bd.members;var a1=bi[a9];var bb=bi[a9+1];var a6,bh,a5,a2;var a0,bj,a3;var a8=[];var be;var bc=0;var ba;var a7;var a4=0;var bg=0;if(a1.measure){this._measures(a1.children,bd);return}be=u.stringify(R(bd,a9));a6=this._row(bd,a9,bf);a5=a1.children;a2=a5.length;ba=this.metadata[be];if(!ba){this.metadata[be]=ba=av(Number(a1.levelNum),a9)}this._indexes.push({path:be,tuple:bd});if(a1.hasChildren){if(ba.expanded===false){a4=ba.maxChildren;a6.collapsed+=a4;ba.children=0;a2=0}a3={className:"k-icon "+(a2?aM:w)};a3[u.attr("path")]=be;a8.push(aW("span",a3))}a8.push(this._content(a1,bd));a0=this._cell((a6.notFirst?" k-first":""),a8,a1);a6.children.push(a0);a6.colSpan+=1;if(a2){bj=this._cell(" k-alt",[this._content(a1,bd)],a1);a6.children.push(bj);for(;bc<a2;bc++){bh=this._buildRows(a5[bc],a9,a1)}a7=bh.colSpan;a4=bh.collapsed;a0.attr.colSpan=a7;ba.children=a7;ba.members=1;a6.colSpan+=a7;a6.collapsed+=a4;a6.rowSpan=bh.rowSpan+1;if(bb){if(bb.measure){a7=this._measures(bb.children,bd," k-alt")}else{bh=this._buildRows(bd,a9+1);a7=bh.colSpan;a6.collapsed+=bh.collapsed;bg=bh.collapsed}bj.attr.colSpan=a7;a7-=1;ba.members+=a7;a6.colSpan+=a7}}else{if(bb){if(bb.measure){a7=this._measures(bb.children,bd)}else{bh=this._buildRows(bd,a9+1);a7=bh.colSpan;a6.collapsed+=bh.collapsed;bg=bh.collapsed}ba.members=a7;if(a7>1){a0.attr.colSpan=a7;a6.colSpan+=a7-1}}}if(ba.maxMembers<(ba.members+bg)){ba.maxMembers=ba.members+bg}a5=ba.children+a4;if(ba.maxChildren<a5){ba.maxChildren=a5}(bj||a0).tupleAll=true;return a6}});var D=aL.extend({init:function(a0){this.metadata={}},build:function(a2){var a1=this._tbody(a2);var a0=this._colGroup();return[aW("table",null,[a0,a1])]},reset:function(){this.metadata={}},_rowLength:function(){var a2=this.rows[0].children;var a3=0;var a1=0;var a0=a2[a1];while(a0){a3+=(a0.attr.colSpan||1);a0=a2[++a1]}return a3},_colGroup:function(){var a2=this._rowLength();var a1=[];var a0=0;for(;a0<a2;a0++){a1.push(aW("col",null))}return aW("colgroup",null,a1)},_tbody:function(a1){var a0=a1[0];this.rootTuple=a0;this.rows=[];this.map={};this._indexes=[];if(a0){this._buildRows(a0,0);this._normalize()}else{this.rows.push(aW("tr",null,[aW("td",null,[G("&nbsp;")])]))}return aW("tbody",null,this.rows)},_normalize:function(){var bb=this.rows;var a3=bb.length;var a1=0;var a4=this.rootTuple.members;var a6=a4[0].name;var a5=a4.length;var a7=0;var ba;var a9;var a8;var a0=this.map;var a2;for(;a1<a3;a1++){ba=bb[a1];for(a7=0;a7<a5;a7++){a8=this[a4[a7].name];a9=ba.colSpan["dim"+a7];if(a9&&a9.levelNum<a8){a9.attr.colSpan=(a8-a9.levelNum)+1}}}ba=a0[a6];a2=a0[a6+"all"];if(ba){ba.children[0].attr.className="k-first"}if(a2){a2.children[0].attr.className+=" k-first"}},_row:function(a0){var a1=aW("tr",null,a0);a1.rowSpan=1;a1.colSpan={};this.rows.push(a1);return a1},_content:function(a1,a0){return G(this.template({member:a1,tuple:a0}))},_cell:function(a2,a1,a3){var a0=aW("td",{className:a2},a1);a0.value=a3.caption||a3.name;return a0},_buildRows:function(be,a9){var bl=this.map;var bf;var bj=be.members;var a1=bj[a9];var bc=bj[a9+1];var a6=a1.children;var a3=a6.length;var bm=Number(a1.levelNum)+1;var a5=this.rootTuple.members[a9].name;var bi=R(be,a9-1).join("");var bg=bi+(a1.parentName||"");var a7=bl[bg+"all"]||bl[bg];var bh;var a4;var bb;var a2;var ba;var a8=[];var bk;var a0;var bd;if(!a7||a7.hasChild){a7=this._row()}else{a7.hasChild=true}if(a1.measure){a2=a7.allCell?"k-grid-footer":"";a7.children.push(this._cell(a2,[this._content(a6[0],be)],a6[0]));a7.rowSpan=a3;for(bd=1;bd<a3;bd++){this._row([this._cell(a2,[this._content(a6[bd],be)],a6[bd])])}return a7}bl[bi+a1.name]=a7;bf=u.stringify(R(be,a9));bb=this.metadata[bf];if(!bb){this.metadata[bf]=bb=av(bm-1,a9)}this._indexes.push({path:bf,tuple:be});if(a1.hasChildren){if(bb.expanded===false){a3=0;bb.children=0}ba={className:"k-icon "+(a3?aM:w)};ba[u.attr("path")]=bf;a8.push(aW("span",ba))}a8.push(this._content(a1,be));a2=a7.allCell&&!a3?"k-grid-footer":"";a0=this._cell(a2,a8,a1);a0.levelNum=bm;a7.children.push(a0);a7.colSpan["dim"+a9]=a0;if(!this[a5]||this[a5]<bm){this[a5]=bm}if(a3){a7.allCell=false;a7.hasChild=false;for(bd=0;bd<a3;bd++){bh=this._buildRows(a6[bd],a9);if(a7!==bh){a7.rowSpan+=bh.rowSpan}}if(a7.rowSpan>1){a0.attr.rowSpan=a7.rowSpan}bb.children=a7.rowSpan;bk=this._cell("k-grid-footer",[this._content(a1,be)],a1);bk.levelNum=bm;a4=this._row([bk]);a4.colSpan["dim"+a9]=bk;a4.allCell=true;bl[bi+a1.name+"all"]=a4;if(bc){bh=this._buildRows(be,a9+1);bk.attr.rowSpan=bh.rowSpan}a7.rowSpan+=a4.rowSpan;bb.members=a4.rowSpan}else{if(bc){a7.hasChild=false;this._buildRows(be,a9+1);(bk||a0).attr.rowSpan=a7.rowSpan;bb.members=a7.rowSpan}}if(bb.maxChildren<bb.children){bb.maxChildren=bb.children}if(bb.maxMembers<bb.members){bb.maxMembers=bb.members}return a7}});var ar=aL.extend({init:function(){this.columnAxis={};this.rowAxis={}},build:function(a6,a4,a5){var a2=a4.indexes[0];var a3=a4.metadata[a2?a2.path:y];this.columnAxis=a4;this.rowAxis=a5;this.data=a6;this.rowLength=a3?a3.maxChildren+a3.maxMembers:a4.measures.length||1;if(!this.rowLength){this.rowLength=1}var a1=this._tbody();var a0=this._colGroup();return[aW("table",null,[a0,a1])]},_colGroup:function(){var a2=this.columnAxis.measures.length||1;var a1=[];var a0=0;if(this.rows[0]){a2=this.rows[0].children.length}for(;a0<a2;a0++){a1.push(aW("col",null))}return aW("colgroup",null,a1)},_tbody:function(){this.rows=[];if(this.data[0]){this.columnIndexes=this._indexes(this.columnAxis,this.rowLength);this.rowIndexes=this._indexes(this.rowAxis,Math.ceil(this.data.length/this.rowLength));this._buildRows()}else{this.rows.push(aW("tr",null,[aW("td",null,[G("&nbsp;")])]))}return aW("tbody",null,this.rows)},_indexes:function(a6,bb){var bf=[];var a1;var a9=a6.indexes;var bc=a6.metadata;var a2=a6.measures;var a5=a2.length||1;var ba;var a8=0;var a0=0;var bd=0;var a4=a9.length;var be;var a3;var a7;if(!a4){for(be=0;be<a5;be++){bf[be]={index:be,measure:a2[be],tuple:null}}return bf}for(;bd<a4;bd++){a1=a9[bd];ba=bc[a1.path];a3=ba.children+ba.members;a7=0;if(a3){a3-=a5}if(ba.expanded===false&&ba.children!==ba.maxChildren){a7=ba.maxChildren}if(ba.parentMember&&ba.levelNum===0){a3=-1}if(a3>-1){for(be=0;be<a5;be++){bf[a3+a0+be]={children:a3,index:a8,measure:a2[be],tuple:a1.tuple};a8+=1}while(bf[a0]!==y){a0+=1}}if(a0===bb){break}a8+=a7}return bf},_buildRows:function(){var a2=this.rowIndexes;var a1=a2.length;var a0=0;for(;a0<a1;a0++){this.rows.push(this._buildRow(a2[a0]))}},_buildRow:function(a3){var a9=a3.index*this.rowLength;var a8=this.columnIndexes;var a5=a8.length;var a6;var bc=[];var ba=0;var a4;var bb,a1;var a7,a0,a2;for(;ba<a5;ba++){a6=a8[ba];a7={};if(a6.children){a7.className="k-alt"}a1="";a0=this.data[a9+a6.index];a2=a6.measure||a3.measure;a4={columnTuple:a6.tuple,rowTuple:a3.tuple,measure:a2,dataItem:a0};if(a0.value!==""&&a2&&a2.type){if(a2.type==="status"){a1=this.kpiStatusTemplate(a4)}else{if(a2.type==="trend"){a1=this.kpiTrendTemplate(a4)}}}if(!a1){a1=this.dataTemplate(a4)}bb=aW("td",a7,[G(a1)]);bb.value=a0.value;bc.push(bb)}a7={};if(a3.children){a7.className="k-grid-footer"}return aW("tr",a7,bc)}});T.plugin(af);u.PivotExcelExporter=u.Class.extend({init:function(a0){this.options=a0;this.widget=a0.widget;this.dataSource=this.widget.dataSource},_columns:function(){var a6=this.widget.columnsHeaderTree.children[0];var a2=this.widget.rowsHeaderTree.children[0];var a5=a6.children[0].children.length;var a4=a2.children[0].children.length;var a3=this.widget.options.columnWidth;var a1=[];var a0;if(a4&&this.dataSource.data()[0]){for(a0=0;a0<a4;a0++){a1.push({autoWidth:true})}}for(a0=0;a0<a5;a0++){a1.push({autoWidth:false,width:a3})}return a1},_cells:function(a9,a3,a6){var ba=[];var a2=0;var a0=a9.length;var a4;var a8,a7;var a1,a5;for(;a2<a0;a2++){a8=[];a7=a9[a2].children;a4=a7.length;for(a1=0;a1<a4;a1++){a5=a7[a1];a8.push({background:"#7a7a7a",color:"#fff",value:a5.value,colSpan:a5.attr.colSpan||1,rowSpan:a5.attr.rowSpan||1})}if(a6){a6(a8,a2)}ba.push({cells:a8,type:a3})}return ba},_rows:function(){var a3=this.widget.columnsHeaderTree.children[0];var a9=this.widget.rowsHeaderTree.children[0];var a5=a3.children[0].children.length;var a8=a9.children[0].children.length;var a4=a3.children[1].children;var a1=a9.children[1].children;var a2=this.widget.contentTree.children[0].children[1].children;var a0=this._cells(a4,"header");if(a8){a0[0].cells.splice(0,0,{background:"#7a7a7a",color:"#fff",value:"",colSpan:a8,rowSpan:a4.length})}var a6=function(bf,bd){var bc=0;var ba,be;var bb=a2[bd].children;for(;bc<a5;bc++){ba=bb[bc];be=Number(ba.value);if(isNaN(be)){be=""}bf.push({background:"#dfdfdf",color:"#333",value:be,colSpan:1,rowSpan:1})}};var a7=this._cells(a1,"data",a6);return a0.concat(a7)},_freezePane:function(){var a3=this.widget.columnsHeaderTree.children[0];var a0=this.widget.rowsHeaderTree.children[0];var a2=a0.children[0].children.length;var a1=a3.children[1].children;return{colSplit:a2,rowSplit:a1.length}},workbook:function(){var a0;if(this.dataSource.view()[0]){a0=aG.Deferred();a0.resolve()}else{a0=this.dataSource.fetch()}return a0.then(aG.proxy(function(){return{sheets:[{columns:this._columns(),rows:this._rows(),freezePane:this._freezePane(),filter:null}]}},this))}});var aZ={extend:function(a0){a0.events.push("excelExport");a0.options.excel=aG.extend(a0.options.excel,this.options);a0.saveAsExcel=this.saveAsExcel},options:{proxyURL:"",filterable:false,fileName:"Export.xlsx"},saveAsExcel:function(){var a1=this.options.excel||{};var a0=new u.PivotExcelExporter({widget:this});a0.workbook().then(aG.proxy(function(a3){if(!this.trigger("excelExport",{workbook:a3})){var a2=new u.ooxml.Workbook(a3);u.saveAs({dataURI:a2.toDataURL(),fileName:a3.fileName||a1.fileName,proxyURL:a1.proxyURL,forceProxy:a1.forceProxy})}},this))}};u.PivotExcelMixin=aZ;if(u.ooxml&&u.ooxml.Workbook){aZ.extend(af.prototype)}if(u.PDFMixin){u.PDFMixin.extend(af.prototype);af.fn._drawPDF=function(){return this._drawPDFShadow({width:this.wrapper.width()})}}})(window.kendo.jQuery);(function(e,c){var j=window.kendo;var l=j.ui;var k=e.proxy;var i=e.extend;var g="dragstart";var d="drag";var b="drop";var f="visibility";var a="k-state-hover";var h=l.HierarchicalDragAndDrop=j.Class.extend({init:function(n,m){this.element=n;this.hovered=n;this.options=i({dragstart:e.noop,drag:e.noop,drop:e.noop,dragend:e.noop},m);this._draggable=new l.Draggable(n,{filter:m.filter,autoScrolL:m.autoScroll,cursorOffset:{left:10,top:j.support.mobileOS?-40/j.support.zoomLevel():10},hint:k(this._hint,this),dragstart:k(this.dragstart,this),dragcancel:k(this.dragcancel,this),drag:k(this.drag,this),dragend:k(this.dragend,this),$angular:m.$angular})},_hint:function(m){return"<div class='k-header k-drag-clue'><span class='k-icon k-drag-status' />"+this.options.hintText(m)+"</div>"},_removeTouchHover:function(){if(j.support.touch&&this.hovered){this.hovered.find("."+a).removeClass(a);this.hovered=false}},_hintStatus:function(m){var n=this._draggable.hint.find(".k-drag-status")[0];if(m){n.className="k-icon k-drag-status "+m}else{return e.trim(n.className.replace(/k-(icon|drag-status)/g,""))}},dragstart:function(m){this.source=m.currentTarget.closest(this.options.itemSelector);if(this.options.dragstart(this.source)){m.preventDefault()}if(this.options.reorderable){this.dropHint=e("<div class='k-drop-hint' />").css(f,"hidden").appendTo(this.element)}else{this.dropHint=e()}},drag:function(w){var A=this.options;var m=this.source;var x=this.dropTarget=e(j.eventTarget(w));var n=x.closest(A.allowedContainers);var v,o,B,u,z;var y,t,s;var p,r,q;if(!n.length){q="k-denied";this._removeTouchHover()}else{if(A.contains(m[0],x[0])){q="k-denied"}else{q="k-insert-middle";p=A.itemFromTarget(x);v=p.item;if(v.length){this._removeTouchHover();o=v.outerHeight();u=p.content;if(A.reorderable){z=o/(u.length>0?4:2);B=j.getOffset(v).top;y=w.y.location<(B+z);t=(B+o-z)<w.y.location;s=u.length&&!y&&!t}else{s=true;y=false;t=false}this.hovered=s?n:false;this.dropHint.css(f,s?"hidden":"visible");if(this._lastHover&&this._lastHover[0]!=u[0]){this._lastHover.removeClass(a)}this._lastHover=u.toggleClass(a,s);if(s){q="k-add"}else{r=v.position();r.top+=y?0:o;this.dropHint.css(r)[y?"prependTo":"appendTo"](A.dropHintContainer(v));if(y&&p.first){q="k-insert-top"}if(t&&p.last){q="k-insert-bottom"}}}else{if(x[0]!=this.dropHint[0]){if(this._lastHover){this._lastHover.removeClass(a)}if(!e.contains(this.element[0],n[0])){q="k-add"}else{q="k-denied"}}}}}this.options.drag({originalEvent:w.originalEvent,source:m,target:x,pageY:w.y.location,pageX:w.x.location,status:q.substring(2),setStatus:function(C){q=C}});if(q=="k-denied"&&this._lastHover){this._lastHover.removeClass(a)}if(q.indexOf("k-insert")!==0){this.dropHint.css(f,"hidden")}this._hintStatus(q)},dragcancel:function(){this.dropHint.remove()},dragend:function(s){var n="over",r=this.source,m,q=this.dropHint,t=this.dropTarget,o,p;if(q.css(f)=="visible"){n=this.options.dropPositionFrom(q);m=q.closest(this.options.itemSelector)}else{if(t){m=t.closest(this.options.itemSelector);if(!m.length){m=t.closest(this.options.allowedContainers)}}}o={originalEvent:s.originalEvent,source:r[0],destination:m[0],valid:this._hintStatus()!="k-denied",setValid:function(u){this.valid=u},dropTarget:t[0],position:n};p=this.options.drop(o);q.remove();this._removeTouchHover();if(this._lastHover){this._lastHover.removeClass(a)}if(!o.valid||p){this._draggable.dropped=o.valid;return}this._draggable.dropped=true;this.options.dragend({originalEvent:s.originalEvent,source:r,destination:m,position:n})},destroy:function(){this._lastHover=this.hovered=null;this._draggable.destroy()}})})(window.kendo.jQuery);(function(z,o){var B=window.kendo,H=B.ui,T=B.data,l=z.extend,f=B.template,s=z.isArray,e=H.Widget,i=T.HierarchicalDataSource,N=z.proxy,v=B.keys,E=".kendoTreeView",q="select",w="check",h="navigate",D="expand",x="change",C="error",a="checked",G="indeterminate",t="collapse",K="dragstart",r="drag",L="drop",F="dragend",j="dataBound",J="click",g="visibility",A="undefined",d="k-state-hover",M="k-treeview",W=":visible",V=".k-item",O="string",k="aria-selected",p="aria-disabled",n,c,I,X,u,P={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},R=function(Y){return(typeof HTMLElement==="object"?Y instanceof HTMLElement:Y&&typeof Y==="object"&&Y.nodeType===1&&typeof Y.nodeName===O)};function b(Y){return function(aa){var Z=aa.children(".k-animation-container");if(!Z.length){Z=aa}return Z.children(Y)}}function y(Y){return B.template(Y,{useWithBlock:false})}c=b(".k-group");I=b(".k-group,.k-content");X=function(Y){return Y.children("div").children(".k-icon")};function Q(Y){return Y.find("> div .k-checkbox [type=checkbox]")}function m(Y){return function(ab,aa){aa=aa.closest(V);var ac=aa.parent(),Z;if(ac.parent().is("li")){Z=ac.parent()}return this._dataSourceMove(ab,ac,Z,function(ae,ad){return this._insert(ae.data(),ad,aa.index()+Y)})}}u=/k-sprite/;function S(aa,Y){var Z;while(aa&&aa.nodeName.toLowerCase()!="ul"){Z=aa;aa=aa.nextSibling;if(Z.nodeType==3){Z.nodeValue=z.trim(Z.nodeValue)}if(u.test(Z.className)){Y.insertBefore(Z,Y.firstChild)}else{Y.appendChild(Z)}}}function U(Z){var ad=Z.children("div"),ac=Z.children("ul"),ab=ad.children(".k-icon"),aa=Z.children(":checkbox"),Y=ad.children(".k-in");if(Z.hasClass("k-treeview")){return}if(!ad.length){ad=z("<div />").prependTo(Z)}if(!ab.length&&ac.length){ab=z("<span class='k-icon' />").prependTo(ad)}else{if(!ac.length||!ac.children().length){ab.remove();ac.remove()}}if(aa.length){z("<span class='k-checkbox' />").appendTo(ad).append(aa)}if(!Y.length){Y=Z.children("a").eq(0).addClass("k-in");if(!Y.length){Y=z("<span class='k-in' />")}Y.appendTo(ad);if(ad.length){S(ad[0].nextSibling,Y[0])}}}n=B.ui.DataBoundWidget.extend({init:function(ab,Z){var ad=this,ac,aa=false,Y=Z&&!!Z.dataSource,ae;if(s(Z)){ac=true;Z={dataSource:Z}}if(Z&&typeof Z.loadOnDemand==A&&s(Z.dataSource)){Z.loadOnDemand=false}e.prototype.init.call(ad,ab,Z);ab=ad.element;Z=ad.options;ae=(ab.is("ul")&&ab)||(ab.hasClass(M)&&ab.children("ul"));aa=!Y&&ae.length;if(aa){Z.dataSource.list=ae}ad._animation();ad._accessors();ad._templates();if(!ab.hasClass(M)){ad._wrapper();if(ae){ad.root=ab;ad._group(ad.wrapper)}}else{ad.wrapper=ab;ad.root=ab.children("ul").eq(0)}ad._tabindex();ad.root.attr("role","tree");ad._dataSource(aa);ad._attachEvents();ad._dragging();if(!aa){if(Z.autoBind){ad._progress(true);ad.dataSource.fetch()}}else{ad._syncHtmlAndDataSource()}if(Z.checkboxes&&Z.checkboxes.checkChildren){ad.updateIndeterminate()}if(ad.element[0].id){ad._ariaId=B.format("{0}_tv_active",ad.element[0].id)}B.notify(ad)},_attachEvents:function(){var Z=this,Y=".k-in:not(.k-state-selected,.k-state-disabled)",aa="mouseenter";Z.wrapper.on(aa+E,".k-in.k-state-selected",function(ab){ab.preventDefault()}).on(aa+E,Y,function(){z(this).addClass(d)}).on("mouseleave"+E,Y,function(){z(this).removeClass(d)}).on(J+E,Y,N(Z._click,Z)).on("dblclick"+E,".k-in:not(.k-state-disabled)",N(Z._toggleButtonClick,Z)).on(J+E,".k-plus,.k-minus",N(Z._toggleButtonClick,Z)).on("keydown"+E,N(Z._keydown,Z)).on("focus"+E,N(Z._focus,Z)).on("blur"+E,N(Z._blur,Z)).on("mousedown"+E,".k-in,.k-checkbox :checkbox,.k-plus,.k-minus",N(Z._mousedown,Z)).on("change"+E,".k-checkbox :checkbox",N(Z._checkboxChange,Z)).on("click"+E,".k-checkbox :checkbox",N(Z._checkboxClick,Z)).on("click"+E,".k-request-retry",N(Z._retryRequest,Z)).on("click"+E,function(ab){if(!z(ab.target).is(":kendoFocusable")){Z.focus()}})},_checkboxClick:function(Z){var Y=z(Z.target);if(Y.data(G)){Y.data(G,false).prop(G,false).prop(a,true);this._checkboxChange(Z)}},_syncHtmlAndDataSource:function(af,Z){af=af||this.root;Z=Z||this.dataSource;var aa=Z.view();var ag=B.attr("uid");var ad=B.attr("expanded");var ac=this.options.checkboxes;var ae=af.children("li");var ab,ah,Y;for(ab=0;ab<ae.length;ab++){Y=aa[ab];ah=ae.eq(ab);ah.attr("role","treeitem").attr(ag,Y.uid);Y.expanded=ah.attr(ad)==="true";if(ac){Y.checked=Q(ah).prop(a)}this._syncHtmlAndDataSource(ah.children("ul"),Y.children)}},_animation:function(){var Y=this.options,Z=Y.animation;if(Z===false){Z={expand:{effects:{}},collapse:{hide:true,effects:{}}}}else{if(!Z.collapse||!("effects" in Z.collapse)){Z.collapse=l({reverse:true},Z.expand)}}l(Z.collapse,{hide:true});Y.animation=Z},_dragging:function(){var Y=this.options.dragAndDrop;var aa=this.dragging;if(Y&&!aa){var Z=this;this.dragging=new H.HierarchicalDragAndDrop(this.element,{reorderable:true,$angular:this.options.$angular,autoScroll:this.options.autoScroll,filter:"div:not(.k-state-disabled) .k-in",allowedContainers:".k-treeview",itemSelector:".k-treeview .k-item",hintText:N(this._hintText,this),contains:function(ac,ab){return z.contains(ac,ab)},dropHintContainer:function(ab){return ab},itemFromTarget:function(ac){var ab=ac.closest(".k-top,.k-mid,.k-bot");return{item:ab,content:ac.closest(".k-in"),first:ab.hasClass("k-top"),last:ab.hasClass("k-bot")}},dropPositionFrom:function(ab){return ab.prevAll(".k-in").length>0?"after":"before"},dragstart:function(ab){return Z.trigger(K,{sourceNode:ab[0]})},drag:function(ab){Z.trigger(r,{originalEvent:ab.originalEvent,sourceNode:ab.source[0],dropTarget:ab.target[0],pageY:ab.pageY,pageX:ab.pageX,statusClass:ab.status,setStatusClass:ab.setStatus})},drop:function(ab){return Z.trigger(L,{originalEvent:ab.originalEvent,sourceNode:ab.source,destinationNode:ab.destination,valid:ab.valid,setValid:ab.setValid,dropTarget:ab.dropTarget,dropPosition:ab.position})},dragend:function(ad){var af=ad.source;var ac=ad.destination;var ab=ad.position;function ae(ag){Z.updateIndeterminate();Z.trigger(F,{originalEvent:ad.originalEvent,sourceNode:ag&&ag[0],destinationNode:ac[0],dropPosition:ab})}if(ab=="over"){Z.append(af,ac,ae)}else{if(ab=="before"){af=Z.insertBefore(af,ac)}else{if(ab=="after"){af=Z.insertAfter(af,ac)}}ae(af)}}})}else{if(!Y&&aa){aa.destroy();this.dragging=null}}},_hintText:function(Y){return this.templates.dragClue({item:this.dataItem(Y),treeview:this.options})},_templates:function(){var aa=this,Z=aa.options,Y=N(aa._fieldAccessor,aa);if(Z.template&&typeof Z.template==O){Z.template=f(Z.template)}else{if(!Z.template){Z.template=y("# var text = "+Y("text")+"(data.item); ## if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {##= text ## } else { ##: text ## } #")}}aa._checkboxes();aa.templates={wrapperCssClass:function(ae,ad){var ab="k-item",ac=ad.index;if(ae.firstLevel&&ac===0){ab+=" k-first"}if(ac==ae.length-1){ab+=" k-last"}return ab},cssClass:function(ae,ad){var ab="",ac=ad.index,af=ae.length-1;if(ae.firstLevel&&ac===0){ab+="k-top "}if(ac===0&&ac!=af){ab+="k-top"}else{if(ac==af){ab+="k-bot"}else{ab+="k-mid"}}return ab},textClass:function(ac){var ab="k-in";if(ac.enabled===false){ab+=" k-state-disabled"}if(ac.selected===true){ab+=" k-state-selected"}return ab},toggleButtonClass:function(ac){var ab="k-icon";if(ac.expanded!==true){ab+=" k-plus"}else{ab+=" k-minus"}if(ac.enabled===false){ab+="-disabled"}return ab},groupAttributes:function(ac){var ab="";if(!ac.firstLevel){ab="role='group'"}return ab+(ac.expanded!==true?" style='display:none'":"")},groupCssClass:function(ac){var ab="k-group";if(ac.firstLevel){ab+=" k-treeview-lines"}return ab},dragClue:y("#= data.treeview.template(data) #"),group:y("<ul class='#= data.r.groupCssClass(data.group) #'#= data.r.groupAttributes(data.group) #>#= data.renderItems(data) #</ul>"),itemContent:y("# var imageUrl = "+Y("imageUrl")+"(data.item); ## var spriteCssClass = "+Y("spriteCssClass")+"(data.item); ## if (imageUrl) { #<img class='k-image' alt='' src='#= imageUrl #'># } ## if (spriteCssClass) { #<span class='k-sprite #= spriteCssClass #' /># } ##= data.treeview.template(data) #"),itemElement:y("# var item = data.item, r = data.r; ## var url = "+Y("url")+"(item); #<div class='#= r.cssClass(data.group, item) #'># if (item.hasChildren) { #<span class='#= r.toggleButtonClass(item) #' role='presentation' /># } ## if (data.treeview.checkboxes) { #<span class='k-checkbox' role='presentation'>#= data.treeview.checkboxes.template(data) #</span># } ## var tag = url ? 'a' : 'span'; ## var textAttr = url ? ' href=\\'' + url + '\\'' : ''; #<#=tag#  class='#= r.textClass(item) #'#= textAttr #>#= r.itemContent(data) #</#=tag#></div>"),item:y("# var item = data.item, r = data.r; #<li role='treeitem' class='#= r.wrapperCssClass(data.group, item) #' "+B.attr("uid")+"='#= item.uid #' aria-selected='#= item.selected ? \"true\" : \"false \" #' #=item.enabled === false ? \"aria-disabled='true'\" : ''## if (item.expanded) { #data-expanded='true' aria-expanded='true'# } #>#= r.itemElement(data) #</li>"),loading:y("<div class='k-icon k-loading' /> #: data.messages.loading #"),retry:y("#: data.messages.requestFailed # <button class='k-button k-request-retry'>#: data.messages.retry #</button>")}},items:function(){return this.element.find(".k-item > div:first-child")},setDataSource:function(Z){var Y=this.options;Y.dataSource=Z;this._dataSource();this.dataSource.fetch();if(Y.checkboxes&&Y.checkboxes.checkChildren){this.updateIndeterminate()}},_bindDataSource:function(){this._refreshHandler=N(this.refresh,this);this._errorHandler=N(this._error,this);this.dataSource.bind(x,this._refreshHandler);this.dataSource.bind(C,this._errorHandler)},_unbindDataSource:function(){var Y=this.dataSource;if(Y){Y.unbind(x,this._refreshHandler);Y.unbind(C,this._errorHandler)}},_dataSource:function(Z){var ab=this,aa=ab.options,ac=aa.dataSource;function Y(ae){for(var ad=0;ad<ae.length;ad++){ae[ad]._initChildren();ae[ad].children.fetch();Y(ae[ad].children.view())}}ac=s(ac)?{data:ac}:ac;ab._unbindDataSource();if(!ac.fields){ac.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]}ab.dataSource=ac=i.create(ac);if(Z){ac.fetch();Y(ac.view())}ab._bindDataSource()},events:[K,r,L,F,j,D,t,q,x,h,w],options:{name:"TreeView",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:100}},messages:{loading:"Loading...",requestFailed:"Request failed.",retry:"Retry"},dragAndDrop:false,checkboxes:false,autoBind:true,autoScroll:false,loadOnDemand:true,template:"",dataTextField:null},_accessors:function(){var ac=this,Z=ac.options,ab,ad,Y,aa=ac.element;for(ab in P){ad=Z[P[ab]];Y=aa.attr(B.attr(ab+"-field"));if(!ad&&Y){ad=Y}if(!ad){ad=ab}if(!s(ad)){ad=[ad]}Z[P[ab]]=ad}},_fieldAccessor:function(ab){var Z=this.options[P[ab]],aa=Z.length,Y="(function(item) {";if(aa===0){Y+="return item['"+ab+"'];"}else{Y+="var levels = ["+z.map(Z,function(ac){return"function(d){ return "+B.expr(ac)+"}"}).join(",")+"];";Y+="return levels[Math.min(item.level(), "+aa+"-1)](item)"}Y+="})";return Y},setOptions:function(Y){e.fn.setOptions.call(this,Y);this._animation();this._dragging();this._templates()},_trigger:function(Y,Z){return this.trigger(Y,{node:Z.closest(V)[0]})},_setChecked:function(Y,ab){if(!Y||!z.isFunction(Y.view)){return}for(var aa=0,Z=Y.view();aa<Z.length;aa++){Z[aa][a]=ab;if(Z[aa].children){this._setChecked(Z[aa].children,ab)}}},_setIndeterminate:function(ab){var ac=c(ab),ad,aa,Z=true,Y;if(!ac.length){return}ad=Q(ac.children());aa=ad.length;if(!aa){return}else{if(aa>1){for(Y=1;Y<aa;Y++){if(ad[Y].checked!=ad[Y-1].checked||ad[Y].indeterminate||ad[Y-1].indeterminate){Z=false;break}}}else{Z=!ad[0].indeterminate}}return Q(ab).data(G,!Z).prop(G,!Z).prop(a,Z&&ad[0].checked)},updateIndeterminate:function(Z){Z=Z||this.wrapper;var ab=c(Z).children();var Y;var aa;if(ab.length){for(Y=0;Y<ab.length;Y++){this.updateIndeterminate(ab.eq(Y))}aa=this._setIndeterminate(Z);if(aa&&aa.prop(a)){this.dataItem(Z).checked=true}}},_bubbleIndeterminate:function(Z){if(!Z.length){return}var Y=this.parent(Z),aa;if(Y.length){this._setIndeterminate(Y);aa=Y.children("div").find(".k-checkbox :checkbox");if(aa.prop(G)===false){this.dataItem(Y).set(a,aa.prop(a))}else{this.dataItem(Y).checked=false}this._bubbleIndeterminate(Y)}},_checkboxChange:function(ab){var aa=z(ab.target);var ac=aa.prop(a);var Z=aa.closest(V);var Y=this.dataItem(Z);if(Y.checked!=ac){Y.set(a,ac);this._trigger(w,Z)}},_toggleButtonClick:function(Y){this.toggle(z(Y.target).closest(V))},_mousedown:function(Z){var Y=z(Z.currentTarget).closest(V);this._clickTarget=Y;this.current(Y)},_focusable:function(Y){return Y&&Y.length&&Y.is(":visible")&&!Y.find(".k-in:first").hasClass("k-state-disabled")},_focus:function(){var Z=this.select(),Y=this._clickTarget;if(B.support.touch){return}if(Y&&Y.length){Z=Y}if(!this._focusable(Z)){Z=this.current()}if(!this._focusable(Z)){Z=this._nextVisible(z())}this.current(Z)},focus:function(){var ad=this.wrapper,Z=ad[0],ac=[],aa=[],ab=document.documentElement,Y;do{Z=Z.parentNode;if(Z.scrollHeight>Z.clientHeight){ac.push(Z);aa.push(Z.scrollTop)}}while(Z!=ab);ad.focus();for(Y=0;Y<ac.length;Y++){ac[Y].scrollTop=aa[Y]}},_blur:function(){this.current().find(".k-in:first").removeClass("k-state-focused")},_enabled:function(Y){return !Y.children("div").children(".k-in").hasClass("k-state-disabled")},parent:function(ac){var aa=/\bk-treeview\b/,ab=/\bk-item\b/,Y,Z;if(typeof ac==O){ac=this.element.find(ac)}if(!R(ac)){ac=ac[0]}Z=ab.test(ac.className);do{ac=ac.parentNode;if(ab.test(ac.className)){if(Z){Y=ac}else{Z=true}}}while(!aa.test(ac.className)&&!Y);return z(Y)},_nextVisible:function(ab){var aa=this,Z=aa._expanded(ab),Y;function ac(ad){while(ad.length&&!ad.next().length){ad=aa.parent(ad)}if(ad.next().length){return ad.next()}else{return ad}}if(!ab.length||!ab.is(":visible")){Y=aa.root.children().eq(0)}else{if(Z){Y=c(ab).children().first();if(!Y.length){Y=ac(ab)}}else{Y=ac(ab)}}if(!aa._enabled(Y)){Y=aa._nextVisible(Y)}return Y},_previousVisible:function(ab){var aa=this,Z,Y;if(!ab.length||ab.prev().length){if(ab.length){Y=ab.prev()}else{Y=aa.root.children().last()}while(aa._expanded(Y)){Z=c(Y).children().last();if(!Z.length){break}Y=Z}}else{Y=aa.parent(ab)||ab}if(!aa._enabled(Y)){Y=aa._previousVisible(Y)}return Y},_keydown:function(af){var aa=this,Z=af.keyCode,ae,ad=aa.current(),Y=aa._expanded(ad),ab=ad.find(".k-checkbox:first :checkbox"),ac=B.support.isRtl(aa.element);if(af.target!=af.currentTarget){return}if((!ac&&Z==v.RIGHT)||(ac&&Z==v.LEFT)){if(Y){ae=aa._nextVisible(ad)}else{aa.expand(ad)}}else{if((!ac&&Z==v.LEFT)||(ac&&Z==v.RIGHT)){if(Y){aa.collapse(ad)}else{ae=aa.parent(ad);if(!aa._enabled(ae)){ae=o}}}else{if(Z==v.DOWN){ae=aa._nextVisible(ad)}else{if(Z==v.UP){ae=aa._previousVisible(ad)}else{if(Z==v.HOME){ae=aa._nextVisible(z())}else{if(Z==v.END){ae=aa._previousVisible(z())}else{if(Z==v.ENTER){if(!ad.find(".k-in:first").hasClass("k-state-selected")){if(!aa._trigger(q,ad)){aa.select(ad)}}}else{if(Z==v.SPACEBAR&&ab.length){ab.prop(a,!ab.prop(a)).data(G,false).prop(G,false);aa._checkboxChange({target:ab});ae=ad}}}}}}}}if(ae){af.preventDefault();if(ad[0]!=ae[0]){aa._trigger(h,ae);aa.current(ae)}}},_click:function(ac){var ab=this,aa=z(ac.currentTarget),Z=I(aa.closest(V)),Y=aa.attr("href"),ad;if(Y){ad=Y=="#"||Y.indexOf("#"+this.element.id+"-")>=0}else{ad=Z.length&&!Z.children().length}if(ad){ac.preventDefault()}if(!aa.hasClass(".k-state-selected")&&!ab._trigger(q,aa)){ab.select(aa)}},_wrapper:function(){var ab=this,aa=ab.element,ac,Z,Y="k-widget k-treeview";if(aa.is("ul")){ac=aa.wrap("<div />").parent();Z=aa}else{ac=aa;Z=ac.children("ul").eq(0)}ab.wrapper=ac.addClass(Y);ab.root=Z},_group:function(aa){var Z=this,ac=aa.hasClass(M),ab={firstLevel:ac,expanded:ac||Z._expanded(aa)},Y=aa.children("ul");Y.addClass(Z.templates.groupCssClass(ab)).css("display",ab.expanded?"":"none");Z._nodes(Y,ab)},_nodes:function(ab,aa){var ac=this,Y=ab.children("li"),Z;aa=l({length:Y.length},aa);Y.each(function(ad,ae){ae=z(ae);Z={index:ad,expanded:ac._expanded(ae)};U(ae);ac._updateNodeClasses(ae,aa,Z);ac._group(ae)})},_checkboxes:function(){var Y=this.options;var aa=Y.checkboxes;var Z;if(aa){Z="<input type='checkbox' #= (item.enabled === false) ? 'disabled' : '' # #= item.checked ? 'checked' : '' #";if(aa.name){Z+=" name='"+aa.name+"'"}Z+=" />";aa=l({template:Z},Y.checkboxes);if(typeof aa.template==O){aa.template=f(aa.template)}Y.checkboxes=aa}},_updateNodeClasses:function(ab,Z,Y){var ad=ab.children("div"),ac=ab.children("ul"),aa=this.templates;if(ab.hasClass("k-treeview")){return}Y=Y||{};Y.expanded=typeof Y.expanded!=A?Y.expanded:this._expanded(ab);Y.index=typeof Y.index!=A?Y.index:ab.index();Y.enabled=typeof Y.enabled!=A?Y.enabled:!ad.children(".k-in").hasClass("k-state-disabled");Z=Z||{};Z.firstLevel=typeof Z.firstLevel!=A?Z.firstLevel:ab.parent().parent().hasClass(M);Z.length=typeof Z.length!=A?Z.length:ab.parent().children().length;ab.removeClass("k-first k-last").addClass(aa.wrapperCssClass(Z,Y));ad.removeClass("k-top k-mid k-bot").addClass(aa.cssClass(Z,Y));ad.children(".k-in").removeClass("k-in k-state-default k-state-disabled").addClass(aa.textClass(Y));if(ac.length||ab.attr("data-hasChildren")=="true"){ad.children(".k-icon").removeClass("k-plus k-minus k-plus-disabled k-minus-disabled").addClass(aa.toggleButtonClass(Y));ac.addClass("k-group")}},_processNodes:function(Y,aa){var Z=this;Z.element.find(Y).each(function(ab,ac){aa.call(Z,ab,z(ac).closest(V))})},dataItem:function(Z){var Y=z(Z).closest(V).attr(B.attr("uid")),aa=this.dataSource;return aa&&aa.getByUid(Y)},_insertNode:function(Y,aj,ag,ah,ad){var ai=this,al=c(ag),ak=al.children().length+1,af,ac={firstLevel:ag.hasClass(M),expanded:!ad,length:ak},ab,ae,am,aa="",Z=function(an,ao){an.appendTo(ao)};for(ae=0;ae<Y.length;ae++){am=Y[ae];am.index=aj+ae;aa+=ai._renderItem({group:ac,item:am})}ab=z(aa);if(!ab.length){return}ai.angular("compile",function(){return{elements:ab.get(),data:Y.map(function(an){return{dataItem:an}})}});if(!al.length){al=z(ai._renderGroup({group:ac})).appendTo(ag)}ah(ab,al);if(ag.hasClass("k-item")){U(ag);ai._updateNodeClasses(ag)}ai._updateNodeClasses(ab.prev().first());ai._updateNodeClasses(ab.next().last());for(ae=0;ae<Y.length;ae++){am=Y[ae];if(am.hasChildren){af=am.children.data();if(af.length){ai._insertNode(af,am.index,ab.eq(ae),Z,!ai._expanded(ab.eq(ae)))}}}return ab},_updateNodes:function(ag,ai){var af=this;var ae,ab,aj,ak,ac,ad;var aa={treeview:af.options,item:ak};var Z=ai!="expanded"&&ai!="checked";function ah(al,am){al.find(".k-checkbox :checkbox").prop(a,am).data(G,false).prop(G,false)}if(ai=="selected"){ak=ag[0];ab=af.findByUid(ak.uid).find(".k-in:first").removeClass("k-state-hover").toggleClass("k-state-selected",ak[ai]).end();if(ak[ai]){af.current(ab)}ab.attr(k,!!ak[ai])}else{var Y=z.map(ag,function(al){return af.findByUid(al.uid).children("div")});if(Z){af.angular("cleanup",function(){return{elements:Y}})}for(ae=0;ae<ag.length;ae++){aa.item=ak=ag[ae];aj=Y[ae];ab=aj.parent();if(Z){aj.children(".k-in").html(af.templates.itemContent(aa))}if(ai==a){ac=ak[ai];ah(aj,ac);if(af.options.checkboxes.checkChildren){ah(ab.children(".k-group"),ac);af._setChecked(ak.children,ac);af._bubbleIndeterminate(ab)}}else{if(ai=="expanded"){af._toggle(ab,ak,ak[ai])}else{if(ai=="enabled"){ab.find(".k-checkbox :checkbox").prop("disabled",!ak[ai]);ad=!I(ab).is(W);ab.removeAttr(p);if(!ak[ai]){if(ak.selected){ak.set("selected",false)}if(ak.expanded){ak.set("expanded",false)}ad=true;ab.attr(k,false).attr(p,true)}af._updateNodeClasses(ab,{},{enabled:ak[ai],expanded:!ad})}}}if(aj.length){this.trigger("itemChange",{item:aj,data:ak,ns:H})}}if(Z){af.angular("compile",function(){return{elements:Y,data:z.map(ag,function(al){return[{dataItem:al}]})}})}}},_appendItems:function(aa,Z,Y){var ac=c(Y);var ab=ac.children();var ad=!this._expanded(Y);if(typeof aa==A){aa=ab.length}this._insertNode(Z,aa,Y,function(ae,af){if(aa>=ab.length){ae.appendTo(af)}else{ae.insertBefore(ab.eq(aa))}},ad);if(this._expanded(Y)){this._updateNodeClasses(Y);c(Y).css("display","block")}},_refreshChildren:function(ad,af,ae){var ac,Z,Y;var ag=this.options;var ab=ag.loadOnDemand;var aa=ag.checkboxes&&ag.checkboxes.checkChildren;c(ad).empty();if(!af.length){U(ad)}else{this._appendItems(ae,af,ad);Z=c(ad).children();if(ab&&aa){this._bubbleIndeterminate(Z.last())}for(ac=0;ac<Z.length;ac++){Y=Z.eq(ac);this.trigger("itemChange",{item:Y.children("div"),data:this.dataItem(Y),ns:H})}}},_refreshRoot:function(Z){var Y=this._renderGroup({items:Z,group:{firstLevel:true,expanded:true}});if(this.root.length){this._angularItems("cleanup");var ac=z(Y);this.root.attr("class",ac.attr("class")).html(ac.html())}else{this.root=this.wrapper.html(Y).children("ul")}this.root.attr("role","tree");for(var aa=0;aa<Z.length;aa++){var ab=this.root.children(".k-item");this.trigger("itemChange",{item:ab.eq(aa),data:Z[aa],ns:H})}this._angularItems("compile")},refresh:function(ae){var Y=ae.node;var aa=ae.action;var af=ae.items;var ad=this.wrapper;var ah=this.options;var ab=ah.loadOnDemand;var Z=ah.checkboxes&&ah.checkboxes.checkChildren;var ac;if(ae.field){if(!af[0]||!af[0].level){return}return this._updateNodes(af,ae.field)}if(Y){ad=this.findByUid(Y.uid);this._progress(ad,false)}if(Z&&aa!="remove"){var ag=false;for(ac=0;ac<af.length;ac++){if("checked" in af[ac]){ag=true;break}}if(!ag&&Y&&Y.checked){for(ac=0;ac<af.length;ac++){af[ac].checked=true}}}if(aa=="add"){this._appendItems(ae.index,af,ad)}else{if(aa=="remove"){this._remove(this.findByUid(af[0].uid),false)}else{if(aa=="itemchange"){this._updateNodes(af)}else{if(aa=="itemloaded"){this._refreshChildren(ad,af,ae.index)}else{this._refreshRoot(af)}}}}if(aa!="remove"){for(ac=0;ac<af.length;ac++){if(!ab||af[ac].expanded){af[ac].load()}}}this.trigger(j,{node:Y?ad:o})},_error:function(aa){var Z=aa.node&&this.findByUid(aa.node.uid);var Y=this.templates.retry({messages:this.options.messages});if(Z){this._progress(Z,false);this._expanded(Z,false);X(Z).addClass("k-i-refresh");aa.node.loaded(false)}else{this._progress(false);this.element.html(Y)}},_retryRequest:function(Y){Y.preventDefault();this.dataSource.fetch()},expand:function(Y){this._processNodes(Y,function(Z,aa){this.toggle(aa,true)})},collapse:function(Y){this._processNodes(Y,function(Z,aa){this.toggle(aa,false)})},enable:function(Y,Z){Z=arguments.length==2?!!Z:true;this._processNodes(Y,function(aa,ab){this.dataItem(ab).set("enabled",Z)})},current:function(aa){var Z=this,ab=Z._current,Y=Z.element,ac=Z._ariaId;if(arguments.length>0&&aa&&aa.length){if(ab){if(ab[0].id===ac){ab.removeAttr("id")}ab.find(".k-in:first").removeClass("k-state-focused")}ab=Z._current=z(aa,Y).closest(V);ab.find(".k-in:first").addClass("k-state-focused");ac=ab[0].id||ac;if(ac){Z.wrapper.removeAttr("aria-activedescendant");ab.attr("id",ac);Z.wrapper.attr("aria-activedescendant",ac)}return}if(!ab){ab=Z._nextVisible(z())}return ab},select:function(aa){var Z=this,Y=Z.element;if(!arguments.length){return Y.find(".k-state-selected").closest(V)}aa=z(aa,Y).closest(V);Y.find(".k-state-selected").each(function(){var ab=Z.dataItem(this);if(ab){ab.set("selected",false);delete ab.selected}else{z(this).removeClass("k-state-selected")}});if(aa.length){Z.dataItem(aa).set("selected",true)}Z.trigger(x)},_toggle:function(ad,aa,ab){var Z=this.options;var ac=I(ad);var af=ab?"expand":"collapse";var Y,ae;if(ac.data("animating")){return}if(!this._trigger(af,ad)){this._expanded(ad,ab);Y=aa&&aa.loaded();ae=!ac.children().length;if(ab&&(!Y||ae)){if(Z.loadOnDemand){this._progress(ad,true)}ac.remove();aa.load()}else{this._updateNodeClasses(ad,{},{expanded:ab});if(!ab){ac.css("height",ac.height()).css("height")}ac.kendoStop(true,true).kendoAnimate(l({reset:true},Z.animation[af],{complete:function(){if(ab){ac.css("height","")}}}))}}},toggle:function(Z,Y){Z=z(Z);if(!X(Z).is(".k-minus,.k-plus,.k-minus-disabled,.k-plus-disabled")){return}if(arguments.length==1){Y=!this._expanded(Z)}this._expanded(Z,Y)},destroy:function(){var Y=this;e.fn.destroy.call(Y);Y.wrapper.off(E);Y._unbindDataSource();if(Y.dragging){Y.dragging.destroy()}B.destroy(Y.element);Y.root=Y.wrapper=Y.element=null},_expanded:function(aa,ab){var Z=B.attr("expanded"),Y=this.dataItem(aa);if(arguments.length==1){return aa.attr(Z)==="true"||(Y&&Y.expanded)}if(I(aa).data("animating")){return}if(Y){Y.set("expanded",ab);ab=Y.expanded}if(ab){aa.attr(Z,"true");aa.attr("aria-expanded","true")}else{aa.removeAttr(Z);aa.attr("aria-expanded","false")}},_progress:function(aa,ab){var Z=this.element;var Y=this.templates.loading({messages:this.options.messages});if(arguments.length==1){ab=aa;if(ab){Z.html(Y)}else{Z.empty()}}else{X(aa).toggleClass("k-loading",ab).removeClass("k-i-refresh")}},text:function(ab,ad){var Z=this.dataItem(ab),Y=this.options[P.text],ae=Z.level(),aa=Y.length,ac=Y[Math.min(ae,aa-1)];if(ad){Z.set(ac,ad)}else{return Z[ac]}},_objectOrSelf:function(Y){return z(Y).closest("[data-role=treeview]").data("kendoTreeView")||this},_dataSourceMove:function(ad,ae,aa,af){var Z,Y=this._objectOrSelf(aa||ae),ac=Y.dataSource;var ab=z.Deferred().resolve().promise();if(aa&&aa[0]!=Y.element[0]){Z=Y.dataItem(aa);if(!Z.loaded()){Y._progress(aa,true);ab=Z.load()}if(aa!=this.root){ac=Z.children;if(!ac||!(ac instanceof i)){Z._initChildren();Z.loaded(true);ac=Z.children}}}ad=this._toObservableData(ad);return af.call(this,ac,ad,ab)},_toObservableData:function(aa){var Y=aa,ab,Z;if(aa instanceof window.jQuery||R(aa)){ab=this._objectOrSelf(aa).dataSource;Z=z(aa).attr(B.attr("uid"));Y=ab.getByUid(Z);if(Y){Y=ab.remove(Y)}}return Y},_insert:function(ab,aa,Z){if(!(aa instanceof B.data.ObservableArray)){if(!s(aa)){aa=[aa]}}else{aa=aa.toJSON()}var Y=ab.parent();if(Y&&Y._initChildren){Y.hasChildren=true;Y._initChildren()}ab.splice.apply(ab,[Z,0].concat(aa));return this.findByUid(ab[Z].uid)},insertAfter:m(1),insertBefore:m(0),append:function(Z,Y,ac){var aa=this,ab=aa.root;if(Y){ab=c(Y)}return aa._dataSourceMove(Z,ab,Y,function(ah,ae,ad){var af;function ag(){if(Y){aa._expanded(Y,true)}var aj=ah.data(),ai=Math.max(aj.length,0);return aa._insert(aj,ae,ai)}ad.then(function(){af=ag();ac=ac||z.noop;ac(af)});return af||null})},_remove:function(ab,ad){var aa=this,Y,Z,ac;ab=z(ab,aa.element);this.angular("cleanup",function(){return{elements:ab.get()}});Y=ab.parent().parent();Z=ab.prev();ac=ab.next();ab[ad?"detach":"remove"]();if(Y.hasClass("k-item")){U(Y);aa._updateNodeClasses(Y)}aa._updateNodeClasses(Z);aa._updateNodeClasses(ac);return ab},remove:function(Z){var Y=this.dataItem(Z);if(Y){this.dataSource.remove(Y)}},detach:function(Y){return this._remove(Y,true)},findByText:function(Y){return z(this.element).find(".k-in").filter(function(aa,Z){return z(Z).text()==Y}).closest(V)},findByUid:function(ab){var Z=this.element.find(".k-item");var ac=B.attr("uid");var Y;for(var aa=0;aa<Z.length;aa++){if(Z[aa].getAttribute(ac)==ab){Y=Z[aa];break}}return z(Y)},expandPath:function(ac,Y){ac=ac.slice(0);var aa=this;var ad=this.dataSource;var ab=ad.get(ac[0]);Y=Y||z.noop;function Z(ah,af,ag){if(ah&&!ah.loaded()){ah.set("expanded",true)}else{af.call(ag)}}while(ac.length>0&&ab&&(ab.expanded||ab.loaded())){ab.set("expanded",true);ac.shift();ab=ad.get(ac[0])}if(!ac.length){return Y.call(aa)}ad.bind("change",function ae(ag){var ah=ag.node&&ag.node.id;var af;if(ah&&ah===ac[0]){ac.shift();if(ac.length){af=ad.get(ac[0]);Z(af,Y,aa)}else{Y.call(aa)}}});Z(ab,Y,aa)},_parents:function(aa){var Z=aa&&aa.parentNode();var Y=[];while(Z&&Z.parentNode){Y.push(Z);Z=Z.parentNode()}return Y},expandTo:function(aa){if(!(aa instanceof B.data.Node)){aa=this.dataSource.get(aa)}var Y=this._parents(aa);for(var Z=0;Z<Y.length;Z++){Y[Z].set("expanded",true)}},_renderItem:function(Y){if(!Y.group){Y.group={}}Y.treeview=this.options;Y.r=this.templates;return this.templates.item(Y)},_renderGroup:function(Y){var Z=this;Y.renderItems=function(ac){var ae="",ad=0,ab=ac.items,aa=ab?ab.length:0,af=ac.group;af.length=aa;for(;ad<aa;ad++){ac.group=af;ac.item=ab[ad];ac.item.index=ad;ae+=Z._renderItem(ac)}return ae};Y.r=Z.templates;return Z.templates.group(Y)}});H.plugin(n)})(window.kendo.jQuery);(function(f,b){var g=window.kendo,j=g.ui,a="kendoContextMenu",h=f.proxy,c=".kendoPivotFieldMenu",k=j.Widget;var d=k.extend({init:function(r,q){k.fn.init.call(this,r,q);this._dataSource();this._layout();g.notify(this)},events:[],options:{name:"PivotFieldMenu",filter:null,filterable:true,sortable:true,messages:{info:"Show items with value that:",sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filterFields:"Fields Filter",filter:"Filter",include:"Include Fields...",title:"Fields to include",clear:"Clear",ok:"OK",cancel:"Cancel",operators:{contains:"Contains",doesnotcontain:"Does not contain",startswith:"Starts with",endswith:"Ends with",eq:"Is equal to",neq:"Is not equal to"}}},_layout:function(){var q=this.options;this.wrapper=f(g.template(n)({ns:g.ns,filterable:q.filterable,sortable:q.sortable,messages:q.messages}));this.menu=this.wrapper[a]({filter:q.filter,target:this.element,orientation:"vertical",showOn:"click",closeOnClick:false,open:h(this._menuOpen,this),select:h(this._select,this),copyAnchorStyles:false}).data(a);this._createWindow();if(q.filterable){this._initFilterForm()}},_initFilterForm:function(){var r=this.menu.element.find(".k-filter-item");var q=h(this._filter,this);this._filterOperator=new g.ui.DropDownList(r.find("select"));this._filterValue=r.find(".k-textbox");r.on("submit"+c,q).on("click"+c,".k-button-filter",q).on("click"+c,".k-button-clear",h(this._reset,this))},_setFilterForm:function(t){var q=this._filterOperator;var r="";var s="";if(t){r=t.operator;s=t.value}q.value(r);if(!q.value()){q.select(0)}this._filterValue.val(s)},_clearFilters:function(u){var r=this.dataSource.filter()||{};var t;var q=0;var s;r.filters=r.filters||[];t=l(r,u);for(s=t.length;q<s;q++){r.filters.splice(r.filters.indexOf(t[q]),1)}return r},_filter:function(t){var r=this;var s=r._filterValue.val();t.preventDefault();if(!s){r.menu.close();return}var u={field:r.currentMember,operator:r._filterOperator.value(),value:s};var q=r._clearFilters(r.currentMember);q.filters.push(u);r.dataSource.filter(q);r.menu.close()},_reset:function(s){var r=this;var q=r._clearFilters(r.currentMember);s.preventDefault();if(!q.filters[0]){q={}}r.dataSource.filter(q);r._setFilterForm(null);r.menu.close()},_sort:function(q){var s=this.currentMember;var r=(this.dataSource.sort()||[]);r=m(r,s);r.push({field:s,dir:q});this.dataSource.sort(r);this.menu.close()},setDataSource:function(q){this.options.dataSource=q;this._dataSource()},_dataSource:function(){this.dataSource=g.data.PivotDataSource.create(this.options.dataSource)},_createWindow:function(){var q=this.options.messages;this.includeWindow=f(g.template(e)({messages:q})).on("click"+c,".k-button-ok",h(this._applyIncludes,this)).on("click"+c,".k-button-cancel",h(this._closeWindow,this));this.includeWindow=new j.Window(this.includeWindow,{title:q.title,visible:false,resizable:false,open:h(this._windowOpen,this)})},_applyIncludes:function(w){var q=[];var u;var r=this.treeView.dataSource.view();var t=r[0].checked;var v=this.dataSource.filter();var s=l(v,this.currentMember,"in")[0];p(r,q);if(s){if(t){v.filters.splice(v.filters.indexOf(s),1);if(!v.filters.length){v={}}}else{s.value=q.join(",")}u=v}if(q.length){if(!u&&!t){u={field:this.currentMember,operator:"in",value:q.join(",")};if(v){v.filters.push(u);u=v}}}if(u){this.dataSource.filter(u)}this._closeWindow(w)},_closeWindow:function(q){q.preventDefault();this.includeWindow.close()},_treeViewDataSource:function(){var q=this;return g.data.HierarchicalDataSource.create({schema:{model:{id:"uniqueName",hasChildren:function(r){return parseInt(r.childrenCardinality,10)>0}}},transport:{read:function(s){var u={};var t=q.treeView.dataSource.get(s.data.uniqueName);var r=s.data.uniqueName;if(!r){u.levelUniqueName=q.currentMember+".[(ALL)]"}else{u.memberUniqueName=t.uniqueName.replace(/\&/g,"&amp;");u.treeOp=1}q.dataSource.schemaMembers(u).done(function(v){o(q.dataSource.filter(),q.currentMember,v);s.success(v)}).fail(s.error)}}})},_createTreeView:function(q){var r=this;r.treeView=new j.TreeView(q,{autoBind:false,dataSource:r._treeViewDataSource(),dataTextField:"caption",template:"#: data.item.caption || data.item.name #",checkboxes:{checkChildren:true},dataBound:function(){j.progress(r.includeWindow.element,false)}})},_menuOpen:function(r){if(!r.event){return}var q=g.attr("name");var s;this.currentMember=f(r.event.target).closest("["+q+"]").attr(q);if(this.options.filterable){this._setFilterForm(l(this.dataSource.filter(),this.currentMember)[0])}},_select:function(r){var q=f(r.item);f(".k-pivot-filter-window").not(this.includeWindow.element).kendoWindow("close");if(q.hasClass("k-include-item")){this.includeWindow.center().open()}else{if(q.hasClass("k-sort-asc")){this._sort("asc")}else{if(q.hasClass("k-sort-desc")){this._sort("desc")}}}},_windowOpen:function(){if(!this.treeView){this._createTreeView(this.includeWindow.element.find(".k-treeview"))}j.progress(this.includeWindow.element,true);this.treeView.dataSource.read()},destroy:function(){k.fn.destroy.call(this);if(this.menu){this.menu.destroy();this.menu=null}if(this.treeView){this.treeView.destroy();this.treeView=null}if(this.includeWindow){this.includeWindow.destroy();this.includeWindow=null}this.wrapper=null;this.element=null}});function m(u,s){var r=[];for(var q=0,t=u.length;q<t;q++){if(u[q].field!==s){r.push(u[q])}}return r}function l(u,w,t){if(!u){return[]}u=u.filters;var r=0;var q=[];var v=u.length;var s;for(;r<v;r++){s=u[r].operator;if(((!t&&s!=="in")||(s===t))&&u[r].field===w){q.push(u[r])}}return q}function o(t,v,s){var r,q=0,u=s.length;t=l(t,v,"in")[0];if(!t){for(;q<u;q++){s[q].checked=true}}else{r=t.value.split(",");for(;q<u;q++){s[q].checked=f.inArray(s[q].uniqueName,r)>=0}}}function p(s,r){var q,t=s.length;for(q=0;q<t;q++){if(s[q].checked&&s[q].level()!==0){r.push(s[q].uniqueName)}if(s[q].hasChildren){p(s[q].children.view(),r)}}}var i='<div class="k-filterable k-content" tabindex="-1" data-role="fieldmenu"><form class="k-filter-menu"><div><div class="k-filter-help-text">#=messages.info#</div><select>#for(var op in messages.operators){#<option value="#=op#">#=messages.operators[op]#</option>#}#</select><input class="k-textbox" type="text" /><div><a class="k-button k-primary k-button-filter" href="\\#">#=messages.filter#</a><a class="k-button k-button-clear" href="\\#">#=messages.clear#</a></div></div></form></div>';var n='<ul class="k-pivot-fieldmenu"># if (sortable) {#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-icon k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-icon k-i-sort-desc"></span>${messages.sortDescending}</span></li># if (filterable) {#<li class="k-separator"></li># } ## } ## if (filterable) {#<li class="k-item k-include-item"><span class="k-link"><span class="k-icon k-filter"></span>${messages.include}</span></li><li class="k-separator"></li><li class="k-item k-filter-item"><span class="k-link"><span class="k-icon k-filter"></span>${messages.filterFields}</span><ul><li>'+i+"</li></ul></li># } #</ul>";var e='<div class="k-popup-edit-form k-pivot-filter-window"><div class="k-edit-form-container"><div class="k-treeview"></div><div class="k-edit-buttons k-state-default"><a class="k-button k-primary k-button-ok" href="\\#">${messages.ok}</a><a class="k-button k-button-cancel" href="\\#">${messages.cancel}</a></div></div>';j.plugin(d)})(window.kendo.jQuery);(function(d,e){var j=window.kendo,i=j.ui,c=j.data.DataSource,b=i.Widget,g="change",o="boolean",k="enums",f="string",n=".kendoFilterCell",m="Is equal to",p="Is not equal to",l=d.proxy;function a(u,w){var v=[];if(d.isPlainObject(u)){if(u.hasOwnProperty("filters")){v=u.filters}else{if(u.field==w){return u}}}if((d.isArray(u))){v=u}for(var t=0;t<v.length;t++){var s=a(v[t],w);if(s){return s}}}function r(t,s){if(t.filters){t.filters=d.grep(t.filters,function(u){r(u,s);if(u.filters){return u.filters.length}else{return u.field!=s}})}}function q(t,u){var s=j.getter(u,true);return function(A){var x=t(A),v=[],y=0,w={};while(y<x.length){var z=x[y++],B=s(z);if(!w.hasOwnProperty(B)){v.push(z);w[B]=true}}return v}}var h=b.extend({init:function(w,F){w=d(w).addClass("k-filtercell");var u=this.wrapper=d("<span/>").appendTo(w);var z=this,s,E,t=F,x,B,v=z.operators=F.operators||{},D=z.input=d("<input/>").attr(j.attr("bind"),"value: value").appendTo(u);b.fn.init.call(z,w[0],F);F=z.options;s=z.dataSource=F.dataSource;z.model=s.reader.model;B=F.type=f;var y=j.getter("reader.model.fields",true)(s)||{};var A=y[F.field];if(A&&A.type){B=F.type=A.type}if(F.values){F.type=B=k}v=v[B]||F.operators[B];if(!t.operator){for(x in v){F.operator=x;break}}z._parse=function(G){return G+""};if(z.model&&z.model.fields){var C=z.model.fields[F.field];if(C){if(C.parse){z._parse=l(C.parse,C)}}}z.viewModel=E=j.observable({operator:F.operator,value:null,operatorVisible:function(){var G=this.get("value");return G!==null&&G!==e&&G!="undefined"}});E.bind(g,l(z.updateDsFilter,z));if(B==f){z.initSuggestDataSource(F)}if(F.inputWidth!==null){D.width(F.inputWidth)}z._setInputType(F,B);if(B!=o&&F.showOperators!==false){z._createOperatorDropDown(v)}else{u.addClass("k-operator-hidden")}z._createClearIcon();j.bind(this.wrapper,E);if(B==f){if(!F.template){z.setAutoCompleteSource()}}if(B==k){z.setComboBoxSource(z.options.values)}z._refreshUI();z._refreshHandler=l(z._refreshUI,z);z.dataSource.bind(g,z._refreshHandler)},_setInputType:function(A,x){var v=this,z=v.input;if(typeof(A.template)=="function"){A.template.call(v.viewModel,{element:v.input,dataSource:v.suggestDataSource})}else{if(x==f){z.attr(j.attr("role"),"autocomplete").attr(j.attr("text-field"),A.dataTextField||A.field).attr(j.attr("filter"),A.suggestionOperator).attr(j.attr("delay"),A.delay).attr(j.attr("min-length"),A.minLength).attr(j.attr("value-primitive"),true)}else{if(x=="date"){z.attr(j.attr("role"),"datepicker")}else{if(x==o){z.remove();var t=d("<input type='radio'/>");var s=v.wrapper;var w=j.guid();var y=d("<label/>").text(A.messages.isTrue).append(t);t.attr(j.attr("bind"),"checked:value").attr("name",w).val("true");var u=y.clone().text(A.messages.isFalse);t.clone().val("false").appendTo(u);s.append([y,u])}else{if(x=="number"){z.attr(j.attr("role"),"numerictextbox")}else{if(x==k){z.attr(j.attr("role"),"combobox").attr(j.attr("text-field"),"text").attr(j.attr("suggest"),true).attr(j.attr("filter"),"contains").attr(j.attr("value-field"),"value").attr(j.attr("value-primitive"),true)}}}}}}},_createOperatorDropDown:function(s){var t=[];for(var v in s){t.push({text:s[v],value:v})}var u=d('<input class="k-dropdown-operator" '+j.attr("bind")+'="value: operator"/>').appendTo(this.wrapper);this.operatorDropDown=u.kendoDropDownList({dataSource:t,dataTextField:"text",dataValueField:"value",open:function(){this.popup.element.width(150)},valuePrimitive:true}).data("kendoDropDownList");this.operatorDropDown.wrapper.find(".k-i-arrow-s").removeClass("k-i-arrow-s").addClass("k-filter")},initSuggestDataSource:function(s){var t=s.suggestDataSource;if(!(t instanceof c)){if(!s.customDataSource&&t){t.group=e}t=this.suggestDataSource=c.create(t)}if(!s.customDataSource){t._pageSize=e;t.reader.data=q(t.reader.data,this.options.field)}this.suggestDataSource=t},setAutoCompleteSource:function(){var s=this.input.data("kendoAutoComplete");if(s){s.setDataSource(this.suggestDataSource)}},setComboBoxSource:function(s){var u=c.create({data:s});var t=this.input.data("kendoComboBox");if(t){t.setDataSource(u)}},_refreshUI:function(v){var u=this,t=a(u.dataSource.filter(),this.options.field)||{},s=u.viewModel;u.manuallyUpdatingVM=true;t=d.extend(true,{},t);if(u.options.type==o){if(s.value!==t.value){u.wrapper.find(":radio").prop("checked",false)}}if(t.operator){s.set("operator",t.operator)}s.set("value",t.value);u.manuallyUpdatingVM=false},updateDsFilter:function(w){var u=this,t=u.viewModel;if(u.manuallyUpdatingVM||(w.field=="operator"&&t.value===e)){return}var s=d.extend({},u.viewModel.toJSON(),{field:u.options.field});var x={logic:"and",filters:[]};if(s.value!==e&&s.value!==null){x.filters.push(s)}var v=u._merge(x);if(v.filters.length){u.dataSource.filter(v)}else{u.dataSource.filter({})}},_merge:function(z){var y=this,u=z.logic||"and",x=z.filters,v,t=y.dataSource.filter()||{filters:[],logic:"and"},s,w;r(t,y.options.field);for(s=0,w=x.length;s<w;s++){v=x[s];v.value=y._parse(v.value)}x=d.grep(x,function(A){return A.value!==""&&A.value!==null});if(x.length){if(t.filters.length){z.filters=x;if(t.logic!=="and"){t.filters=[{logic:t.logic,filters:t.filters}];t.logic="and"}if(x.length>1){t.filters.push(z)}else{t.filters.push(x[0])}}else{t.filters=x;t.logic=u}}return t},_createClearIcon:function(){var s=this;d("<button type='button' class='k-button k-button-icon'/>").attr(j.attr("bind"),"visible:operatorVisible").html("<span class='k-icon k-i-close'/>").click(l(s.clearFilter,s)).appendTo(s.wrapper)},clearFilter:function(){this.viewModel.set("value",null)},destroy:function(){var s=this;s.filterModel=null;b.fn.destroy.call(s);j.destroy(s.element)},events:[g],options:{name:"FilterCell",delay:200,minLength:1,inputWidth:null,values:e,customDataSource:false,field:"",dataTextField:"",type:"string",suggestDataSource:null,suggestionOperator:"startswith",operator:"eq",showOperators:true,template:null,messages:{isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",operator:"Operator"},operators:{string:{eq:m,neq:p,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with"},number:{eq:m,neq:p,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},date:{eq:m,neq:p,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before"},enums:{eq:m,neq:p}}}});i.plugin(h)})(window.kendo.jQuery);(function(H,p){var J=window.kendo,Q=J.ui,F=J.keys,n=H.extend,W=H.each,g=J.template,e=Q.Widget,v=/^(ul|a|div)$/i,M=".kendoPanelBar",N="img",V="href",O="k-last",D="k-link",h="."+D,K="error",X=".k-item",C=".k-group",ab=C+":visible",l="k-image",s="k-first",L="expand",w="select",T="k-content",o="activate",A="collapse",j="mouseenter",r="mouseleave",a="contentLoad",ac="k-state-active",U="> .k-panel",R="> .k-content",z="k-state-focused",x="k-state-disabled",I="k-state-selected",Z="."+I,S="k-state-highlight",b=X+":not(.k-state-disabled)",B="> "+b+" > "+h+", .k-panel > "+b+" > "+h,m=X+".k-state-disabled > .k-link",aa="> li > "+Z+", .k-panel > li > "+Z,E="k-state-default",k="aria-disabled",G="aria-expanded",P="aria-hidden",f="aria-selected",Y=":visible",d=":empty",i="single",c={content:g("<div role='region' class='k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:g("<ul role='group' aria-hidden='true' class='#= groupCssClass(group) #'#= groupAttributes(group) #>#= renderItems(data) #</ul>"),itemWrapper:g("<#= tag(item) # class='#= textClass(item, group) #' #= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:g("<li role='menuitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:g("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:g("<span class='#= arrowClass(item) #'></span>"),sprite:g("<span class='k-sprite #= spriteCssClass #'></span>"),empty:g("")},t={aria:function(ae){var ad="";if(ae.items||ae.content||ae.contentUrl){ad+=G+"='"+(ae.expanded?"true":"false")+"' "}if(ae.enabled===false){ad+=k+"='true'"}return ad},wrapperCssClass:function(ag,af){var ad="k-item",ae=af.index;if(af.enabled===false){ad+=" "+x}else{if(af.expanded===true){ad+=" "+ac}else{ad+=" k-state-default"}}if(ae===0){ad+=" k-first"}if(ae==ag.length-1){ad+=" k-last"}if(af.cssClass){ad+=" "+af.cssClass}return ad},textClass:function(ae,af){var ad=D;if(af.firstLevel){ad+=" k-header"}return ad},textAttributes:function(ad){return ad.url?" href='"+ad.url+"'":""},arrowClass:function(ae){var ad="k-icon";ad+=ae.expanded?" k-i-arrow-n k-panelbar-collapse":" k-i-arrow-s k-panelbar-expand";return ad},text:function(ad){return ad.encoded===false?ad.text:J.htmlEncode(ad.text)},tag:function(ad){return ad.url||ad.contentUrl?"a":"span"},groupAttributes:function(ad){return ad.expanded!==true?" style='display:none'":""},groupCssClass:function(){return"k-group k-panel"},contentAttributes:function(ad){return ad.item.expanded!==true?" style='display:none'":""},content:function(ad){return ad.content?ad.content:ad.contentUrl?"":"&nbsp;"},contentUrl:function(ad){return ad.contentUrl?'href="'+ad.contentUrl+'"':""}};function q(ad){ad=H(ad);ad.children(h).children(".k-icon").remove();ad.filter(":has(.k-panel),:has(.k-content)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var af=H(this),ae=af.parent();af.append("<span class='k-icon "+(ae.hasClass(ac)?"k-i-arrow-n k-panelbar-collapse":"k-i-arrow-s k-panelbar-expand")+"'/>")})}function u(ad){ad=H(ad);ad.filter(".k-first:not(:first-child)").removeClass(s);ad.filter(".k-last:not(:last-child)").removeClass(O);ad.filter(":first-child").addClass(s);ad.filter(":last-child").addClass(O)}var y=e.extend({init:function(ae,ad){var ag=this,af;e.fn.init.call(ag,ae,ad);ae=ag.wrapper=ag.element.addClass("k-widget k-reset k-header k-panelbar");ad=ag.options;if(ae[0].id){ag._itemId=ae[0].id+"_pb_active"}ag._tabindex();ag._initData(ad);ag._updateClasses();ag._animations(ad);ae.on("click"+M,B,function(ah){if(ag._click(H(ah.currentTarget))){ah.preventDefault()}}).on(j+M+" "+r+M,B,ag._toggleHover).on("click"+M,m,false).on("keydown"+M,H.proxy(ag._keydown,ag)).on("focus"+M,function(){var ah=ag.select();ag._current(ah[0]?ah:ag._first())}).on("blur"+M,function(){ag._current(null)}).attr("role","menu");af=ae.find("li."+ac+" > ."+T);if(af[0]){ag.expand(af.parent(),false)}J.notify(ag)},events:[L,A,w,o,K,a],options:{name:"PanelBar",animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},expandMode:"multiple"},destroy:function(){e.fn.destroy.call(this);this.element.off(M);J.destroy(this.element)},_initData:function(ad){var ae=this;if(ad.dataSource){ae.element.empty();ae.append(ad.dataSource,ae.element)}},setOptions:function(ad){var ae=this.options.animation;this._animations(ad);ad.animation=n(true,ae,ad.animation);if("dataSource" in ad){this._initData(ad)}e.fn.setOptions.call(this,ad)},expand:function(ad,ag){var ae=this,af={};ag=ag!==false;ad=this.element.find(ad);ad.each(function(ai,aj){aj=H(aj);var ah=aj.find(U).add(aj.find(R));if(!aj.hasClass(x)&&ah.length>0){if(ae.options.expandMode==i&&ae._collapseAllExpanded(aj)){return ae}ad.find("."+S).removeClass(S);aj.addClass(S);if(!ag){af=ae.options.animation;ae.options.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}if(!ae._triggerEvent(L,aj)){ae._toggleItem(aj,false)}if(!ag){ae.options.animation=af}}});return ae},collapse:function(ad,ag){var ae=this,af={};ag=ag!==false;ad=ae.element.find(ad);ad.each(function(ai,aj){aj=H(aj);var ah=aj.find(U).add(aj.find(R));if(!aj.hasClass(x)&&ah.is(Y)){aj.removeClass(S);if(!ag){af=ae.options.animation;ae.options.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}if(!ae._triggerEvent(A,aj)){ae._toggleItem(aj,true)}if(!ag){ae.options.animation=af}}});return ae},_toggleDisabled:function(ae,ad){ae=this.element.find(ae);ae.toggleClass(E,ad).toggleClass(x,!ad).attr(k,!ad)},select:function(ad){var ae=this;if(ad===p){return ae.element.find(aa).parent()}ad=ae.element.find(ad);if(!ad.length){this._updateSelected(ad)}else{ad.each(function(){var ag=H(this),af=ag.children(h);if(ag.hasClass(x)){return ae}if(!ae._triggerEvent(w,ag)){ae._updateSelected(af)}})}return ae},clearSelection:function(){this.select(H())},enable:function(ad,ae){this._toggleDisabled(ad,ae!==false);return this},disable:function(ad){this._toggleDisabled(ad,false);return this},append:function(af,ad){ad=this.element.find(ad);var ae=this._insert(af,ad,ad.length?ad.find(U):null);W(ae.items,function(){ae.group.append(this);u(this)});q(ad);u(ae.group.find(".k-first, .k-last"));ae.group.height("auto");return this},insertBefore:function(af,ad){ad=this.element.find(ad);var ae=this._insert(af,ad,ad.parent());W(ae.items,function(){ad.before(this);u(this)});u(ad);ae.group.height("auto");return this},insertAfter:function(af,ad){ad=this.element.find(ad);var ae=this._insert(af,ad,ad.parent());W(ae.items,function(){ad.after(this);u(this)});u(ad);ae.group.height("auto");return this},remove:function(ad){ad=this.element.find(ad);var af=this,ae=ad.parentsUntil(af.element,X),ag=ad.parent("ul");ad.remove();if(ag&&!ag.hasClass("k-panelbar")&&!ag.children(X).length){ag.remove()}if(ae.length){ae=ae.eq(0);q(ae);u(ae)}return af},reload:function(ad){var ae=this;ad=ae.element.find(ad);ad.each(function(){var af=H(this);ae._ajaxRequest(af,af.children("."+T),!af.is(Y))})},_first:function(){return this.element.children(b).first()},_last:function(){var ad=this.element.children(b).last(),ae=ad.children(ab);if(ae[0]){return ae.children(b).last()}return ad},_current:function(ad){var ae=this,af=ae._focused,ag=ae._itemId;if(ad===p){return af}ae.element.removeAttr("aria-activedescendant");if(af&&af.length){if(af[0].id===ag){af.removeAttr("id")}af.children(h).removeClass(z)}if(H(ad).length){ag=ad[0].id||ag;ad.attr("id",ag).children(h).addClass(z);ae.element.attr("aria-activedescendant",ag)}ae._focused=ad},_keydown:function(ag){var ae=this,ad=ag.keyCode,af=ae._current();if(ag.target!=ag.currentTarget){return}if(ad==F.DOWN||ad==F.RIGHT){ae._current(ae._nextItem(af));ag.preventDefault()}else{if(ad==F.UP||ad==F.LEFT){ae._current(ae._prevItem(af));ag.preventDefault()}else{if(ad==F.ENTER||ad==F.SPACEBAR){ae._click(af.children(h));ag.preventDefault()}else{if(ad==F.HOME){ae._current(ae._first());ag.preventDefault()}else{if(ad==F.END){ae._current(ae._last());ag.preventDefault()}}}}}},_nextItem:function(ae){if(!ae){return this._first()}var af=ae.children(ab),ad=ae.nextAll(":visible").first();if(af[0]){ad=af.children("."+s)}if(!ad[0]){ad=ae.parent(ab).parent(X).next()}if(!ad[0]){ad=this._first()}if(ad.hasClass(x)){ad=this._nextItem(ad)}return ad},_prevItem:function(af){if(!af){return this._last()}var ae=af.prevAll(":visible").first(),ad;if(!ae[0]){ae=af.parent(ab).parent(X);if(!ae[0]){ae=this._last()}}else{ad=ae;while(ad[0]){ad=ad.children(ab).children("."+O);if(ad[0]){ae=ad}}}if(ae.hasClass(x)){ae=this._prevItem(ae)}return ae},_insert:function(ak,ad,ai){var aj=this,ae,ah=H.isPlainObject(ak),ag=ad&&ad[0],af;if(!ag){ai=aj.element}af={firstLevel:ai.hasClass("k-panelbar"),expanded:ai.parent().hasClass(ac),length:ai.children().length};if(ag&&!ai.length){ai=H(y.renderGroup({group:af})).appendTo(ad)}if(ak instanceof J.Observable){ak=ak.toJSON()}if(ah||H.isArray(ak)){ae=H.map(ah?[ak]:ak,function(am,al){if(typeof am==="string"){return H(am)}else{return H(y.renderItem({group:af,item:n(am,{index:al})}))}});if(ag){ad.attr(G,false)}}else{if(typeof ak=="string"&&ak.charAt(0)!="<"){ae=aj.element.find(ak)}else{ae=H(ak)}aj._updateItemsClasses(ae)}return{items:ae,group:ai}},_toggleHover:function(ae){var ad=H(ae.currentTarget);if(!ad.parents("li."+x).length){ad.toggleClass("k-state-hover",ae.type==j)}},_updateClasses:function(){var af=this,ae,ad;ae=af.element.find("li > ul").not(function(){return H(this).parentsUntil(".k-panelbar","div").length}).addClass("k-group k-panel").attr("role","group");ae.parent().attr(G,false).not("."+ac).children("ul").attr(P,true).hide();ad=af.element.add(ae).children();af._updateItemsClasses(ad);q(ad);u(ad)},_updateItemsClasses:function(ae){var af=ae.length,ad=0;for(;ad<af;ad++){this._updateItemClasses(ae[ad],ad)}},_updateItemClasses:function(aj,ag){var ah=this._selected,ae=this.options.contentUrls,af=ae&&ae[ag],ad=this.element[0],ak,ai;aj=H(aj).addClass("k-item").attr("role","menuitem");if(J.support.browser.msie){aj.css("list-style-position","inside").css("list-style-position","")}aj.children(N).addClass(l);ai=aj.children("a").addClass(D);if(ai[0]){ai.attr("href",af);ai.children(N).addClass(l)}aj.filter(":not([disabled]):not([class*=k-state])").addClass("k-state-default");aj.filter("li[disabled]").addClass("k-state-disabled").attr(k,true).removeAttr("disabled");aj.children("div").addClass(T).attr("role","region").attr(P,true).hide().parent().attr(G,false);ai=aj.children(Z);if(ai[0]){if(ah){ah.removeAttr(f).children(Z).removeClass(I)}ai.addClass(I);this._selected=aj.attr(f,true)}if(!aj.children(h)[0]){ak="<span class='"+D+"'/>";if(ae&&ae[ag]&&aj[0].parentNode==ad){ak='<a class="k-link k-header" href="'+ae[ag]+'"/>'}aj.contents().filter(function(){return(!this.nodeName.match(v)&&!(this.nodeType==3&&!H.trim(this.nodeValue)))}).wrapAll(ak)}if(aj.parent(".k-panelbar")[0]){aj.children(h).addClass("k-header")}},_click:function(aj){var ai=this,ah=ai.element,al,ag,af,ad;if(aj.parents("li."+x).length){return}if(aj.closest(".k-widget")[0]!=ah[0]){return}var ak=aj.closest(h),am=ak.closest(X);ai._updateSelected(ak);ag=am.find(U).add(am.find(R));af=ak.attr(V);ad=af&&(af.charAt(af.length-1)=="#"||af.indexOf("#"+ai.element[0].id+"-")!=-1);al=!!(ad||ag.length);if(ag.data("animating")){return al}if(ai._triggerEvent(w,am)){al=true}if(al===false){return}if(ai.options.expandMode==i){if(ai._collapseAllExpanded(am)){return al}}if(ag.length){var ae=ag.is(Y);if(!ai._triggerEvent(!ae?L:A,am)){al=ai._toggleItem(am,ae)}}return al},_toggleItem:function(ah,ad){var ak=this,ag=ah.find(U),aj=ah.find(h),af=aj.attr(V),ae,ai;if(ag.length){this._toggleGroup(ag,ad);ae=true}else{ai=ah.children("."+T);if(ai.length){ae=true;if(!ai.is(d)||af===p){ak._toggleGroup(ai,ad)}else{ak._ajaxRequest(ah,ai,ad)}}}return ae},_toggleGroup:function(af,ad){var ah=this,ae=ah.options.animation,ai=ae.expand,aj=n({},ae.collapse),ag=aj&&"effects" in aj;if(af.is(Y)!=ad){return}af.parent().attr(G,!ad).attr(P,ad).toggleClass(ac,!ad).find("> .k-link > .k-icon").toggleClass("k-i-arrow-n",!ad).toggleClass("k-panelbar-collapse",!ad).toggleClass("k-i-arrow-s",ad).toggleClass("k-panelbar-expand",ad);if(ad){ai=n(ag?aj:n({reverse:true},ai),{hide:true})}else{ai=n({complete:function(ak){ah._triggerEvent(o,ak.closest(X))}},ai)}af.kendoStop(true,true).kendoAnimate(ai)},_collapseAllExpanded:function(ag){var af=this,ae,ah=false;var ad=ag.find(U).add(ag.find(R));if(ad.is(Y)){ah=true}if(!(ad.is(Y)||ad.length===0)){ae=ag.siblings();ae.find(U).add(ae.find(R)).filter(function(){return H(this).is(Y)}).each(function(ai,aj){aj=H(aj);ah=af._triggerEvent(A,aj.closest(X));if(!ah){af._toggleGroup(aj,true)}})}return ah},_ajaxRequest:function(ah,al,ai){var aj=this,ad=ah.find(".k-panelbar-collapse, .k-panelbar-expand"),ak=ah.find(h),af=setTimeout(function(){ad.addClass("k-loading")},100),ag={},ae=ak.attr(V);H.ajax({type:"GET",cache:false,url:ae,dataType:"html",data:ag,error:function(an,am){ad.removeClass("k-loading");if(aj.trigger(K,{xhr:an,status:am})){this.complete()}},complete:function(){clearTimeout(af);ad.removeClass("k-loading")},success:function(ao){function an(){return{elements:al.get()}}try{aj.angular("cleanup",an);al.html(ao);aj.angular("compile",an)}catch(ap){var am=window.console;if(am&&am.error){am.error(ap.name+": "+ap.message+" in "+ae)}this.error(this.xhr,"error")}aj._toggleGroup(al,ai);aj.trigger(a,{item:ah[0],contentElement:al[0]})}})},_triggerEvent:function(ad,ae){var af=this;return af.trigger(ad,{item:ae[0]})},_updateSelected:function(ah){var ag=this,ad=ag.element,af=ah.parent(X),ae=ag._selected;if(ae){ae.removeAttr(f)}ag._selected=af.attr(f,true);ad.find(aa).removeClass(I);ad.find("> ."+S+", .k-panel > ."+S).removeClass(S);ah.addClass(I);ah.parentsUntil(ad,X).filter(":has(.k-header)").addClass(S);ag._current(af[0]?af:null)},_animations:function(ad){if(ad&&("animation" in ad)&&!ad.animation){ad.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}}});n(y,{renderItem:function(ad){ad=n({panelBar:{},group:{}},ad);var af=c.empty,ae=ad.item;return c.item(n(ad,{image:ae.imageUrl?c.image:af,sprite:ae.spriteCssClass?c.sprite:af,itemWrapper:c.itemWrapper,renderContent:y.renderContent,arrow:ae.items||ae.content||ae.contentUrl?c.arrow:af,subGroup:y.renderGroup},t))},renderGroup:function(ad){return c.group(n({renderItems:function(ag){var ai="",ah=0,af=ag.items,ae=af?af.length:0,aj=n({length:ae},ag.group);for(;ah<ae;ah++){ai+=y.renderItem(n(ag,{group:aj,item:n({index:ah},af[ah])}))}return ai}},ad,t))},renderContent:function(ad){return c.content(n(ad,t))}});J.ui.plugin(y)})(window.kendo.jQuery);(function(e,b){var g=e.proxy;var c=".kendoResponsivePanel";var d="open";var f="close";var i="click"+c+" touchstart"+c;var h=kendo.ui.Widget;var a=h.extend({init:function(k,j){h.fn.init.call(this,k,j);this._toggleHandler=g(this._toggleButtonClick,this);this._closeHandler=g(this._close,this);e(document.documentElement).on(i,this.options.toggleButton,this._toggleHandler);this._registerBreakpoint();this.element.addClass("k-rpanel k-rpanel-"+this.options.orientation);this._resizeHandler=g(this.resize,this,false);e(window).on("resize"+c,this._resizeHandler)},_mediaQuery:"@media (max-width: #= breakpoint-1 #px) {.k-rpanel-animate.k-rpanel-left,.k-rpanel-animate.k-rpanel-right {-webkit-transition: -webkit-transform .2s ease-out;-ms-transition: -ms-transform .2s ease-out;transition: transform .2s ease-out;} .k-rpanel-animate.k-rpanel-top {-webkit-transition: max-height .2s linear;-ms-transition: max-height .2s linear;transition: max-height .2s linear;}} @media (min-width: #= breakpoint #px) {#= toggleButton # { display: none; } .k-rpanel-left { float: left; } .k-rpanel-right { float: right; } .k-rpanel-left, .k-rpanel-right {position: relative;-webkit-transform: translateX(0) translateZ(0);-ms-transform: translateX(0) translateZ(0);transform: translateX(0) translateZ(0);} .k-rpanel-top { max-height: none; }}",_registerBreakpoint:function(){var j=this.options;this._registerStyle(kendo.template(this._mediaQuery)({breakpoint:j.breakpoint,toggleButton:j.toggleButton}))},_registerStyle:function(l){var j=e("head,body")[0];var k=document.createElement("style");j.appendChild(k);if(k.styleSheet){k.styleSheet.cssText=l}else{k.appendChild(document.createTextNode(l))}},options:{name:"ResponsivePanel",orientation:"left",toggleButton:".k-rpanel-toggle",breakpoint:640,autoClose:true},events:[d,f],_resize:function(){this.element.removeClass("k-rpanel-animate")},_toggleButtonClick:function(j){j.preventDefault();if(this.element.hasClass("k-rpanel-expanded")){this.close()}else{this.open()}},open:function(){if(!this.trigger(d)){this.element.addClass("k-rpanel-animate k-rpanel-expanded");if(this.options.autoClose){e(document.documentElement).on(i,this._closeHandler)}}},close:function(){if(!this.trigger(f)){this.element.addClass("k-rpanel-animate").removeClass("k-rpanel-expanded");e(document.documentElement).off(i,this._closeHandler)}},_close:function(l){var k=l.isDefaultPrevented();var j=e(l.target).closest(this.options.toggleButton+",.k-rpanel");if(!j.length&&!k){this.close()}},destroy:function(){h.fn.destroy.call(this);e(window).off("resize"+c,this._resizeHandler);e(document.documentElement).off(i,this._closeHandler)}});kendo.ui.plugin(a)})(window.kendo.jQuery);(function(A,o){var B=window.kendo,H=B.ui,x=B.keys,y=A.map,N=A.each,a=A.trim,m=A.extend,g=B.template,f=H.Widget,u=/^(a|div)$/i,E=".kendoTabStrip",F="img",L="href",Q="prev",c="show",w="k-link",G="k-last",K="click",C="error",e=":empty",k="k-image",r="k-first",v="select",n="activate",J="k-content",l="contentUrl",h="mouseenter",q="mouseleave",b="contentLoad",i="k-state-disabled",p="k-state-default",I="k-state-active",j="k-state-focused",R="k-state-hover",M="k-tab-on-top",O=".k-item:not(."+i+")",z=".k-tabstrip-items > "+O+":not(."+I+")",d={content:g("<div class='k-content'#= contentAttributes(data) # role='tabpanel'>#= content(item) #</div>"),itemWrapper:g("<#= tag(item) # class='k-link'#= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) #</#= tag(item) #>"),item:g("<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \"aria-selected='true'\" : ''#>#= itemWrapper(data) #</li>"),image:g("<img class='k-image' alt='' src='#= imageUrl #' />"),sprite:g("<span class='k-sprite #= spriteCssClass #'></span>"),empty:g("")},s={wrapperCssClass:function(W,V){var T="k-item",U=V.index;if(V.enabled===false){T+=" k-state-disabled"}else{T+=" k-state-default"}if(U===0){T+=" k-first"}if(U==W.length-1){T+=" k-last"}return T},textAttributes:function(T){return T.url?" href='"+T.url+"'":""},text:function(T){return T.encoded===false?T.text:B.htmlEncode(T.text)},tag:function(T){return T.url?"a":"span"},contentAttributes:function(T){return T.active!==true?" style='display:none' aria-hidden='true' aria-expanded='false'":""},content:function(T){return T.content?T.content:T.contentUrl?"":"&nbsp;"},contentUrl:function(T){return T.contentUrl?B.attr("content-url")+'="'+T.contentUrl+'"':""}};function S(T){T.children(F).addClass(k);T.children("a").addClass(w).children(F).addClass(k);T.filter(":not([disabled]):not([class*=k-state-disabled])").addClass(p);T.filter("li[disabled]").addClass(i).removeAttr("disabled");T.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(I+" "+M);T.attr("role","tab");T.filter("."+I).attr("aria-selected",true);T.each(function(){var U=A(this);if(!U.children("."+w).length){U.contents().filter(function(){return(!this.nodeName.match(u)&&!(this.nodeType==3&&!a(this.nodeValue)))}).wrapAll("<span class='"+w+"'/>")}})}function t(U){var T=U.children(".k-item");T.filter(".k-first:not(:first-child)").removeClass(r);T.filter(".k-last:not(:last-child)").removeClass(G);T.filter(":first-child").addClass(r);T.filter(":last-child").addClass(G)}function P(U,T){return"<span class='k-button k-button-icon k-button-bare k-tabstrip-"+U+"' unselectable='on'><span class='k-icon "+T+"'></span></span>"}var D=f.extend({init:function(U,T){var W=this;f.fn.init.call(W,U,T);W._animations(W.options);T=W.options;W._wrapper();W._isRtl=B.support.isRtl(W.wrapper);W._tabindex();W._updateClasses();W._dataSource();if(T.dataSource){W.dataSource.fetch()}W._tabPosition();W._scrollable();if(W.options.contentUrls){W.wrapper.find(".k-tabstrip-items > .k-item").each(function(Y,Z){A(Z).find(">."+w).data(l,W.options.contentUrls[Y])})}W.wrapper.on(h+E+" "+q+E,z,W._toggleHover).on("focus"+E,A.proxy(W._active,W)).on("blur"+E,function(){W._current(null)});W._keyDownProxy=A.proxy(W._keydown,W);if(T.navigatable){W.wrapper.on("keydown"+E,W._keyDownProxy)}W.wrapper.children(".k-tabstrip-items").on(K+E,".k-state-disabled .k-link",false).on(K+E," > "+O,function(ab){var Y=W.wrapper[0];if(Y!==document.activeElement){var aa=B.support.browser.msie;if(aa){try{Y.setActive()}catch(Z){Y.focus()}}else{Y.focus()}}if(W._click(A(ab.currentTarget))){ab.preventDefault()}});var X=W.tabGroup.children("li."+I),V=W.contentHolder(X.index());if(X[0]&&V.length>0&&V[0].childNodes.length===0){W.activateTab(X.eq(0))}W.element.attr("role","tablist");if(W.element[0].id){W._ariaId=W.element[0].id+"_ts_active"}B.notify(W)},_active:function(){var T=this.tabGroup.children().filter("."+I);T=T[0]?T:this._endItem("first");if(T[0]){this._current(T)}},_endItem:function(T){return this.tabGroup.children(O)[T]()},_item:function(U,V){var T;if(V===Q){T="last"}else{T="first"}if(!U){return this._endItem(T)}U=U[V]();if(!U[0]){U=this._endItem(T)}if(U.hasClass(i)){U=this._item(U,V)}return U},_current:function(T){var U=this,V=U._focused,W=U._ariaId;if(T===o){return V}if(V){if(V[0].id===W){V.removeAttr("id")}V.removeClass(j)}if(T){if(!T.hasClass(I)){T.addClass(j)}U.element.removeAttr("aria-activedescendant");W=T[0].id||W;if(W){T.attr("id",W);U.element.attr("aria-activedescendant",W)}}U._focused=T},_keydown:function(Y){var U=this,T=Y.keyCode,X=U._current(),W=U._isRtl,V;if(Y.target!=Y.currentTarget){return}if(T==x.DOWN||T==x.RIGHT){V=W?Q:"next"}else{if(T==x.UP||T==x.LEFT){V=W?"next":Q}else{if(T==x.ENTER||T==x.SPACEBAR){U._click(X);Y.preventDefault()}else{if(T==x.HOME){U._click(U._endItem("first"));Y.preventDefault();return}else{if(T==x.END){U._click(U._endItem("last"));Y.preventDefault();return}}}}}if(V){U._click(U._item(X,V));Y.preventDefault()}},_dataSource:function(){var T=this;if(T.dataSource&&T._refreshHandler){T.dataSource.unbind("change",T._refreshHandler)}else{T._refreshHandler=A.proxy(T.refresh,T)}T.dataSource=B.data.DataSource.create(T.options.dataSource).bind("change",T._refreshHandler)},setDataSource:function(U){var T=this;T.options.dataSource=U;T._dataSource();T.dataSource.fetch()},_animations:function(T){if(T&&("animation" in T)&&!T.animation){T.animation={open:{effects:{}},close:{effects:{}}}}},refresh:function(aa){var Z=this,ah=Z.options,ag=B.getter(ah.dataTextField),ab=B.getter(ah.dataContentField),W=B.getter(ah.dataContentUrlField),X=B.getter(ah.dataImageUrlField),T=B.getter(ah.dataUrlField),af=B.getter(ah.dataSpriteCssClass),ae,ad=[],V,Y,ac=Z.dataSource.view(),U;aa=aa||{};Y=aa.action;if(Y){ac=aa.items}for(ae=0,U=ac.length;ae<U;ae++){V={text:ag(ac[ae])};if(ah.dataContentField){V.content=ab(ac[ae])}if(ah.dataContentUrlField){V.contentUrl=W(ac[ae])}if(ah.dataUrlField){V.url=T(ac[ae])}if(ah.dataImageUrlField){V.imageUrl=X(ac[ae])}if(ah.dataSpriteCssClass){V.spriteCssClass=af(ac[ae])}ad[ae]=V}if(aa.action=="add"){if(aa.index<Z.tabGroup.children().length){Z.insertBefore(ad,Z.tabGroup.children().eq(aa.index))}else{Z.append(ad)}}else{if(aa.action=="remove"){for(ae=0;ae<ac.length;ae++){Z.remove(aa.index)}}else{if(aa.action=="itemchange"){ae=Z.dataSource.view().indexOf(ac[0]);if(aa.field===ah.dataTextField){Z.tabGroup.children().eq(ae).find(".k-link").text(ac[0].get(aa.field))}}else{Z.trigger("dataBinding");Z.remove("li");Z.append(ad);Z.trigger("dataBound")}}}},value:function(U){var T=this;if(U!==o){if(U!=T.value()){T.tabGroup.children().each(function(){if(A.trim(A(this).text())==U){T.select(this)}})}}else{return T.select().text()}},items:function(){return this.tabGroup[0].children},setOptions:function(T){var U=this,V=U.options.animation;U._animations(T);T.animation=m(true,V,T.animation);if(T.navigatable){U.wrapper.on("keydown"+E,U._keyDownProxy)}else{U.wrapper.off("keydown"+E,U._keyDownProxy)}f.fn.setOptions.call(U,T)},events:[v,n,c,C,b,"change","dataBinding","dataBound"],options:{name:"TabStrip",dataTextField:"",dataContentField:"",dataImageUrlField:"",dataUrlField:"",dataSpriteCssClass:"",dataContentUrlField:"",tabPosition:"top",animation:{open:{effects:"expand:vertical fadeIn",duration:200},close:{duration:200}},collapsible:false,navigatable:true,contentUrls:false,scrollable:{distance:200}},destroy:function(){var T=this;f.fn.destroy.call(T);if(T._refreshHandler){T.dataSource.unbind("change",T._refreshHandler)}T.wrapper.off(E);T.wrapper.children(".k-tabstrip-items").off(E);if(T._scrollableModeActive){T._scrollPrevButton.off().remove();T._scrollNextButton.off().remove()}T.scrollWrap.children(".k-tabstrip").unwrap();B.destroy(T.wrapper)},select:function(T){var U=this;if(arguments.length===0){return U.tabGroup.children("li."+I)}if(!isNaN(T)){T=U.tabGroup.children().get(T)}T=U.tabGroup.find(T);A(T).each(function(V,W){W=A(W);if(!W.hasClass(I)&&!U.trigger(v,{item:W[0],contentElement:U.contentHolder(W.index())[0]})){U.activateTab(W)}});return U},enable:function(T,U){this._toggleDisabled(T,U!==false);return this},disable:function(T){this._toggleDisabled(T,false);return this},reload:function(T){T=this.tabGroup.find(T);var U=this;T.each(function(){var W=A(this),X=W.find("."+w).data(l),V=U.contentHolder(W.index());if(X){U.ajaxRequest(W,V,null,X)}});return U},append:function(U){var V=this,T=V._create(U);N(T.tabs,function(W){var X=T.contents[W];V.tabGroup.append(this);V.wrapper.append(X);V.angular("compile",function(){return{elements:[X]}})});t(V.tabGroup);V._updateContentElements();V.resize(true);return V},insertBefore:function(W,U){U=this.tabGroup.find(U);var X=this,V=X._create(W),T=A(X.contentElement(U.index()));N(V.tabs,function(Y){var Z=V.contents[Y];U.before(this);T.before(Z);X.angular("compile",function(){return{elements:[Z]}})});t(X.tabGroup);X._updateContentElements();X.resize(true);return X},insertAfter:function(W,U){U=this.tabGroup.find(U);var X=this,V=X._create(W),T=A(X.contentElement(U.index()));N(V.tabs,function(Y){var Z=V.contents[Y];U.after(this);T.after(Z);X.angular("compile",function(){return{elements:[Z]}})});t(X.tabGroup);X._updateContentElements();X.resize(true);return X},remove:function(W){var V=this;var T=typeof W;var U;if(T==="string"){W=V.tabGroup.find(W)}else{if(T==="number"){W=V.tabGroup.children().eq(W)}}U=W.map(function(){var X=V.contentElement(A(this).index());B.destroy(X);return X});W.remove();U.remove();V._updateContentElements();V.resize(true);return V},_create:function(V){var U=A.isPlainObject(V),Y=this,T,X,W;if(U||A.isArray(V)){V=A.isArray(V)?V:[V];T=y(V,function(aa,Z){return A(D.renderItem({group:Y.tabGroup,item:m(aa,{index:Z})}))});X=y(V,function(aa,Z){if(typeof aa.content=="string"||aa.contentUrl){return A(D.renderContent({item:m(aa,{index:Z})}))}})}else{if(typeof V=="string"&&V[0]!="<"){T=Y.element.find(V)}else{T=A(V)}X=A();T.each(function(){W=A("<div class='"+J+"'/>");if(/k-tabstrip-items/.test(this.parentNode.className)){var Z=parseInt(this.getAttribute("aria-controls").replace(/^.*-/,""),10)-1;W=A(Y.contentElement(Z))}X=X.add(W)});S(T)}return{tabs:T,contents:X}},_toggleDisabled:function(U,T){U=this.tabGroup.find(U);U.each(function(){A(this).toggleClass(p,T).toggleClass(i,!T)})},_updateClasses:function(){var V=this,U,W,T;V.wrapper.addClass("k-widget k-header k-tabstrip");V.tabGroup=V.wrapper.children("ul").addClass("k-tabstrip-items k-reset");if(!V.tabGroup[0]){V.tabGroup=A("<ul class='k-tabstrip-items k-reset'/>").appendTo(V.wrapper)}U=V.tabGroup.find("li").addClass("k-item");if(U.length){W=U.filter("."+I).index();T=W>=0?W:o;V.tabGroup.contents().filter(function(){return(this.nodeType==3&&!a(this.nodeValue))}).remove()}if(W>=0){U.eq(W).addClass(M)}V.contentElements=V.wrapper.children("div");V.contentElements.addClass(J).eq(T).addClass(I).css({display:"block"});if(U.length){S(U);t(V.tabGroup);V._updateContentElements()}},_updateContentElements:function(){var X=this,W=X.options.contentUrls||[],V=X.tabGroup.find(".k-item"),U=(X.element.attr("id")||B.guid())+"-",T=X.wrapper.children("div");if(T.length&&(V.length>T.length)){T.each(function(Y){var Z=parseInt(this.id.replace(U,""),10),aa=V.filter("[aria-controls="+U+Z+"]"),ab=U+(Y+1);aa.data("aria",ab);this.setAttribute("id",ab)});V.each(function(){var Y=A(this);this.setAttribute("aria-controls",Y.data("aria"));Y.removeData("aria")})}else{V.each(function(Y){var Z=T.eq(Y),aa=U+(Y+1);this.setAttribute("aria-controls",aa);if(!Z.length&&W[Y]){A("<div class='"+J+"'/>").appendTo(X.wrapper).attr("id",aa)}else{Z.attr("id",aa);if(!A(this).children(".k-loading")[0]&&!W[Y]){A("<span class='k-loading k-complete'/>").prependTo(this)}}Z.attr("role","tabpanel");Z.filter(":not(."+I+")").attr("aria-hidden",true).attr("aria-expanded",false);Z.filter("."+I).attr("aria-expanded",true)})}X.contentElements=X.contentAnimators=X.wrapper.children("div");X.tabsHeight=X.tabGroup.outerHeight()+parseInt(X.wrapper.css("border-top-width"),10)+parseInt(X.wrapper.css("border-bottom-width"),10);if(B.kineticScrollNeeded&&B.mobile.ui.Scroller){B.touchScroller(X.contentElements);X.contentElements=X.contentElements.children(".km-scroll-container")}},_wrapper:function(){var T=this;if(T.element.is("ul")){T.wrapper=T.element.wrapAll("<div />").parent()}else{T.wrapper=T.element}T.scrollWrap=T.wrapper.parent(".k-tabstrip-wrapper");if(!T.scrollWrap[0]){T.scrollWrap=T.wrapper.wrapAll("<div class='k-tabstrip-wrapper' />").parent()}},_tabPosition:function(){var V=this,T=V.options.tabPosition,U=V.tabGroup;V.wrapper.addClass("k-floatwrap k-tabstrip-"+T);if(T=="bottom"){V.tabGroup.appendTo(V.wrapper)}V.resize(true)},_setContentElementsDimensions:function(){var X=this,U=X.options.tabPosition;if(U=="left"||U=="right"){var aa=X.wrapper.children(".k-content"),W=aa.filter(":visible"),T="margin-"+U,V=X.tabGroup,Z=V.outerWidth();var Y=Math.ceil(V.height())-parseInt(W.css("padding-top"),10)-parseInt(W.css("padding-bottom"),10)-parseInt(W.css("border-top-width"),10)-parseInt(W.css("border-bottom-width"),10);setTimeout(function(){aa.css(T,Z).css("min-height",Y)})}},_resize:function(){this._setContentElementsDimensions();this._scrollable()},_sizeScrollWrap:function(U){if(U.is(":visible")){var T=this.options.tabPosition;var V=Math.floor(U.outerHeight(true))+(T==="left"||T==="right"?2:this.tabsHeight);this.scrollWrap.css("height",V).css("height")}},_toggleHover:function(T){A(T.currentTarget).toggleClass(R,T.type==h)},_click:function(Y){var X=this,W=Y.find("."+w),V=W.attr(L),Z=X.options.collapsible,aa=X.contentHolder(Y.index()),U,T;if(Y.closest(".k-widget")[0]!=X.wrapper[0]){return}if(Y.is("."+i+(!Z?",."+I:""))){return true}T=W.data(l)||(V&&(V.charAt(V.length-1)=="#"||V.indexOf("#"+X.element[0].id+"-")!=-1));U=!V||T;if(X.tabGroup.children("[data-animating]").length){return U}if(X.trigger(v,{item:Y[0],contentElement:aa[0]})){return true}if(U===false){return}if(Z&&Y.is("."+I)){X.deactivateTab(Y);return true}if(X.activateTab(Y)){U=true}return U},_scrollable:function(){var W=this,U=W.options,V,Y,T,X;if(W._scrollableAllowed()){W.wrapper.addClass("k-tabstrip-scrollable");V=W.wrapper[0].offsetWidth;Y=W.tabGroup[0].scrollWidth;if(Y>V&&!W._scrollableModeActive){W._nowScrollingTabs=false;W._isRtl=B.support.isRtl(W.element);W.wrapper.append(P("prev","k-i-arrow-w")+P("next","k-i-arrow-e"));T=W._scrollPrevButton=W.wrapper.children(".k-tabstrip-prev");X=W._scrollNextButton=W.wrapper.children(".k-tabstrip-next");W.tabGroup.css({marginLeft:T.outerWidth()+9,marginRight:X.outerWidth()+12});T.on("mousedown"+E,function(){W._nowScrollingTabs=true;W._scrollTabsByDelta(U.scrollable.distance*(W._isRtl?1:-1))});X.on("mousedown"+E,function(){W._nowScrollingTabs=true;W._scrollTabsByDelta(U.scrollable.distance*(W._isRtl?-1:1))});T.add(X).on("mouseup"+E,function(){W._nowScrollingTabs=false});W._scrollableModeActive=true;W._toggleScrollButtons()}else{if(W._scrollableModeActive&&Y<=V){W._scrollableModeActive=false;W._scrollPrevButton.off().remove();W._scrollNextButton.off().remove();W.tabGroup.css({marginLeft:"",marginRight:""})}}}},_scrollableAllowed:function(){var T=this.options;return T.scrollable&&!isNaN(T.scrollable.distance)&&(T.tabPosition=="top"||T.tabPosition=="bottom")},_scrollTabsToItem:function(ab){var X=this,W=X.tabGroup,T=W.scrollLeft(),Y=ab.outerWidth(),Z=X._isRtl?ab.position().left:ab.position().left-W.children().first().position().left,aa=W[0].offsetWidth,U=Math.ceil(parseFloat(W.css("padding-left"))),V;if(X._isRtl){if(Z<0){V=T+Z-(aa-T)-U}else{if(Z+Y>aa){V=T+Z-Y+U*2}}}else{if(T+aa<Z+Y){V=Z+Y-aa+U*2}else{if(T>Z){V=Z-U}}}W.finish().animate({scrollLeft:V},"fast","linear",function(){X._toggleScrollButtons()})},_scrollTabsByDelta:function(W){var V=this;var U=V.tabGroup;var T=U.scrollLeft();U.finish().animate({scrollLeft:T+W},"fast","linear",function(){if(V._nowScrollingTabs){V._scrollTabsByDelta(W)}else{V._toggleScrollButtons()}})},_toggleScrollButtons:function(){var U=this,T=U.tabGroup,V=T.scrollLeft();U._scrollPrevButton.toggle(U._isRtl?V<T[0].scrollWidth-T[0].offsetWidth-1:V!==0);U._scrollNextButton.toggle(U._isRtl?V!==0:V<T[0].scrollWidth-T[0].offsetWidth-1)},deactivateTab:function(V){var U=this,T=U.options.animation,X=T.open,Y=m({},T.close),W=Y&&"effects" in Y;V=U.tabGroup.find(V);Y=m(W?Y:m({reverse:true},X),{hide:true});if(B.size(X.effects)){V.kendoAddClass(p,{duration:X.duration});V.kendoRemoveClass(I,{duration:X.duration})}else{V.addClass(p);V.removeClass(I)}V.removeAttr("aria-selected");U.contentAnimators.filter("."+I).kendoStop(true,true).kendoAnimate(Y).removeClass(I).attr("aria-hidden",true)},activateTab:function(ai){if(this.tabGroup.children("[data-animating]").length){return}ai=this.tabGroup.find(ai);var aa=this,ad=aa.options.animation,W=ad.open,ah=m({},ad.close),ab=ah&&"effects" in ah,V=ai.parent().children(),af=V.filter("."+I),T=V.index(ai);ah=m(ab?ah:m({reverse:true},W),{hide:true});if(B.size(W.effects)){af.kendoRemoveClass(I,{duration:ah.duration});ai.kendoRemoveClass(R,{duration:ah.duration})}else{af.removeClass(I);ai.removeClass(R)}var ag=aa.contentAnimators;if(aa.inRequest){aa.xhr.abort();aa.inRequest=false}if(ag.length===0){aa.tabGroup.find("."+M).removeClass(M);ai.addClass(M).css("z-index");ai.addClass(I);aa._current(ai);aa.trigger("change");if(aa._scrollableModeActive){aa._scrollTabsToItem(ai)}return false}var U=ag.filter("."+I),ac=aa.contentHolder(T),ae=ac.closest(".k-content");aa.tabsHeight=aa.tabGroup.outerHeight()+parseInt(aa.wrapper.css("border-top-width"),10)+parseInt(aa.wrapper.css("border-bottom-width"),10);aa._sizeScrollWrap(U);if(ac.length===0){U.removeClass(I).attr("aria-hidden",true).kendoStop(true,true).kendoAnimate(ah);return false}ai.attr("data-animating",true);var Y=(ai.children("."+w).data(l)||false)&&ac.is(e),Z=function(){aa.tabGroup.find("."+M).removeClass(M);ai.addClass(M).css("z-index");if(B.size(W.effects)){af.kendoAddClass(p,{duration:W.duration});ai.kendoAddClass(I,{duration:W.duration})}else{af.addClass(p);ai.addClass(I)}af.removeAttr("aria-selected");ai.attr("aria-selected",true);aa._current(ai);aa._sizeScrollWrap(ae);ae.addClass(I).removeAttr("aria-hidden").kendoStop(true,true).attr("aria-expanded",true).kendoAnimate(m({init:function(){aa.trigger(c,{item:ai[0],contentElement:ac[0]});B.resize(ac)}},W,{complete:function(){ai.removeAttr("data-animating");aa.trigger(n,{item:ai[0],contentElement:ac[0]});B.resize(ac);aa.scrollWrap.css("height","").css("height")}}))},X=function(){if(!Y){Z();aa.trigger("change")}else{ai.removeAttr("data-animating");aa.ajaxRequest(ai,ac,function(){ai.attr("data-animating",true);Z();aa.trigger("change")})}if(aa._scrollableModeActive){aa._scrollTabsToItem(ai)}};U.removeClass(I);U.attr("aria-hidden",true);U.attr("aria-expanded",false);if(U.length){U.kendoStop(true,true).kendoAnimate(m({complete:X},ah))}else{X()}return true},contentElement:function(W){if(isNaN(W-0)){return o}var U=this.contentElements&&this.contentElements[0]&&!B.kineticScrollNeeded?this.contentElements:this.contentAnimators;W=U&&W<0?U.length+W:W;var X=new RegExp("-"+(W+1)+"$");if(U){for(var V=0,T=U.length;V<T;V++){if(X.test(U.eq(V).closest(".k-content")[0].id)){return U[V]}}}return o},contentHolder:function(U){var V=A(this.contentElement(U)),T=V.children(".km-scroll-container");return B.support.touch&&T[0]?T:V},ajaxRequest:function(Z,ab,V,U){Z=this.tabGroup.find(Z);var aa=this,ae=A.ajaxSettings.xhr,ac=Z.find("."+w),Y={},X=Z.width()/2,W=false,T=Z.find(".k-loading").removeClass("k-complete");if(!T[0]){T=A("<span class='k-loading'/>").prependTo(Z)}var af=X*2-T.width();var ad=function(){T.animate({marginLeft:(parseInt(T.css("marginLeft"),10)||0)<X?af:0},500,ad)};if(B.support.browser.msie&&B.support.browser.version<10){setTimeout(ad,40)}U=U||ac.data(l)||ac.attr(L);aa.inRequest=true;aa.xhr=A.ajax({type:"GET",cache:false,url:U,dataType:"html",data:Y,xhr:function(){var ai=this,ah=ae(),ag=ai.progressUpload?"progressUpload":ai.progress?"progress":false;if(ah){A.each([ah,ah.upload],function(){if(this.addEventListener){this.addEventListener("progress",function(aj){if(ag){ai[ag](aj)}},false)}})}ai.noProgress=!(window.XMLHttpRequest&&("upload" in new XMLHttpRequest()));return ah},progress:function(ag){if(ag.lengthComputable){var ah=parseInt((ag.loaded/ag.total*100),10)+"%";T.stop(true).addClass("k-progress").css({width:ah,marginLeft:0})}},error:function(ah,ag){if(aa.trigger("error",{xhr:ah,status:ag})){this.complete()}},stopProgress:function(){clearInterval(W);T.stop(true).addClass("k-progress")[0].style.cssText=""},complete:function(ag){aa.inRequest=false;if(this.noProgress){setTimeout(this.stopProgress,500)}else{this.stopProgress()}if(ag.statusText=="abort"){T.remove()}},success:function(ai){T.addClass("k-complete");try{var ak=this,ah=10;if(ak.noProgress){T.width(ah+"%");W=setInterval(function(){ak.progress({lengthComputable:true,loaded:Math.min(ah,100),total:100});ah+=10},40)}aa.angular("cleanup",function(){return{elements:ab.get()}});B.destroy(ab);ab.html(ai)}catch(aj){var ag=window.console;if(ag&&ag.error){ag.error(aj.name+": "+aj.message+" in "+U)}this.error(this.xhr,"error")}if(V){V.call(aa,ab)}aa.angular("compile",function(){return{elements:ab.get()}});aa.trigger(b,{item:Z[0],contentElement:ab[0]})}})}});m(D,{renderItem:function(T){T=m({tabStrip:{},group:{}},T);var V=d.empty,U=T.item;return d.item(m(T,{image:U.imageUrl?d.image:V,sprite:U.spriteCssClass?d.sprite:V,itemWrapper:d.itemWrapper},s))},renderContent:function(T){return d.content(m(T,s))}});B.ui.plugin(D)})(window.kendo.jQuery);(function(C,m){var D=window.kendo,w=D.keys,p=D.parseDate,f=D._activeElement,h=D._extractFormat,M=D.support,a=M.browser,L=D.ui,b=L.Widget,R="open",V="close",A="change",U=".kendoTimePicker",N="click"+U,Q="k-state-default",z="disabled",g="readonly",t="li",O="<span/>",I="k-state-focused",q="k-state-hover",e="mouseenter"+U+" mouseleave"+U,J="mousedown"+U,E=60000,d=86400000,x="k-state-selected",n="k-state-disabled",c="aria-selected",B="aria-expanded",K="aria-hidden",i="aria-disabled",P="aria-readonly",W="aria-activedescendant",u="id",v=C.isArray,k=C.extend,T=C.proxy,j=Date,s=new j();s=new j(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0);var r=function(X){var Y=this,Z=X.id;Y.options=X;Y.ul=C('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:M.kineticScrollNeeded?"":"auto"}).on(N,t,T(Y._click,Y)).on("mouseenter"+U,t,function(){C(this).addClass(q)}).on("mouseleave"+U,t,function(){C(this).removeClass(q)});Y.list=C("<div class='k-list-container'/>").append(Y.ul).on(J,G);if(Z){Y._timeViewID=Z+"_timeview";Y._optionID=Z+"_option_selected";Y.ul.attr(u,Y._timeViewID)}Y._popup();Y._heightHandler=T(Y._height,Y);Y.template=D.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:false})};r.prototype={current:function(X){var Y=this,Z=Y.options.active;if(X!==m){if(Y._current){Y._current.removeClass(x).removeAttr(c).removeAttr(u)}if(X){X=C(X).addClass(x).attr(u,Y._optionID).attr(c,true);Y.scroll(X[0])}Y._current=X;if(Z){Z(X)}}else{return Y._current}},close:function(){this.popup.close()},destroy:function(){var X=this;X.ul.off(U);X.list.off(U);if(X._touchScroller){X._touchScroller.destroy()}X.popup.destroy()},open:function(){var X=this;if(!X.ul[0].firstChild){X.bind()}X.popup.open();if(X._current){X.scroll(X._current[0])}},dataBind:function(X){var ac=this,ag=ac.options,ad=ag.format,Y=D.toString,af=ac.template,Z=X.length,ae=0,aa,ab="";for(;ae<Z;ae++){aa=X[ae];if(F(aa,ag.min,ag.max)){ab+=af(Y(aa,ad,ag.culture))}}ac._html(ab)},refresh:function(){var ac=this,Z=ac.options,am=Z.format,ab=H(),ae=ab<0,aj=Z.min,al=Z.max,ad=l(aj),af=l(al),an=Z.interval*E,ak=D.toString,ao=ac.template,aa=new j(+aj),ah=aa.getDate(),X,ap,ai=0,Y,ag="";if(ae){Y=(d+(ab*E))/an}else{Y=d/an}if(ad!=af){if(ad>af){af+=d}Y=((af-ad)/an)+1}ap=parseInt(Y,10);for(;ai<Y;ai++){if(ai){o(aa,an,ae)}if(af&&ap==ai){X=l(aa);if(ah<aa.getDate()){X+=d}if(X>af){aa=new j(+al)}}ag+=ao(ak(aa,am,Z.culture))}ac._html(ag)},bind:function(){var X=this,Y=X.options.dates;if(Y&&Y[0]){X.dataBind(Y)}else{X.refresh()}},_html:function(X){var Y=this;Y.ul[0].innerHTML=X;Y.popup.unbind(R,Y._heightHandler);Y.popup.one(R,Y._heightHandler);Y.current(null);Y.select(Y._value)},scroll:function(af){if(!af){return}var ac=this.ul[0],ad=af.offsetTop,Z=af.offsetHeight,X=ac.scrollTop,ae=ac.clientHeight,aa=ad+Z,Y=this._touchScroller,ab;if(Y){ab=this.list.height();if(ad>ab){ad=ad-ab+Z}Y.scrollTo(0,-ad)}else{ac.scrollTop=X>ad?ad:aa>(X+ae)?aa-ae:X}},select:function(X){var Z=this,Y=Z.options,aa=Z._current;if(X instanceof Date){X=D.toString(X,Y.format,Y.culture)}if(typeof X==="string"){if(!aa||aa.text()!==X){X=C.grep(Z.ul[0].childNodes,function(ab){return(ab.textContent||ab.innerText)==X});X=X[0]?X:null}else{X=aa}}Z.current(X)},setOptions:function(Y){var X=this.options;Y.min=p(Y.min);Y.max=p(Y.max);this.options=k(X,Y,{active:X.active,change:X.change,close:X.close,open:X.open});this.bind()},toggle:function(){var X=this;if(X.popup.visible()){X.close()}else{X.open()}},value:function(Y){var X=this;X._value=Y;if(X.ul[0].firstChild){X.select(Y)}},_click:function(ab){var Z=this,X=C(ab.currentTarget),Y=X.text(),aa=Z.options.dates;if(aa&&aa.length>0){Y=aa[X.index()]}if(!ab.isDefaultPrevented()){Z.select(X);Z.options.change(Y,true);Z.close()}},_height:function(){var Z=this;var aa=Z.list;var Y=aa.parent(".k-animation-container");var X=Z.options.height;if(Z.ul[0].children.length){aa.add(Y).show().height(Z.ul[0].scrollHeight>X?X:"auto").hide()}},_parse:function(Z){var Y=this,X=Y.options,aa=Y._value||s;if(Z instanceof j){return Z}Z=p(Z,X.parseFormats,X.culture);if(Z){Z=new j(aa.getFullYear(),aa.getMonth(),aa.getDate(),Z.getHours(),Z.getMinutes(),Z.getSeconds(),Z.getMilliseconds())}return Z},_adjustListWidth:function(){var aa=this.list,Z=aa[0].style.width,ab=this.options.anchor,Y,X;if(!aa.data("width")&&Z){return}Y=window.getComputedStyle?window.getComputedStyle(ab[0],null):0;X=Y?parseFloat(Y.width):ab.outerWidth();if(Y&&(a.mozilla||a.msie)){X+=parseFloat(Y.paddingLeft)+parseFloat(Y.paddingRight)+parseFloat(Y.borderLeftWidth)+parseFloat(Y.borderRightWidth)}Z=X-(aa.outerWidth()-aa.width());aa.css({fontFamily:ab.css("font-family"),width:Z}).data("width",Z)},_popup:function(){var Z=this,aa=Z.list,Y=Z.options,X=Y.anchor;Z.popup=new L.Popup(aa,k(Y.popup,{anchor:X,open:Y.open,close:Y.close,animation:Y.animation,isRtl:M.isRtl(Y.anchor)}));Z._touchScroller=D.touchScroller(Z.popup.element)},move:function(ab){var Z=this,Y=ab.keyCode,X=Z.ul[0],aa=Z._current,ac=Y===w.DOWN;if(Y===w.UP||ac){if(ab.altKey){Z.toggle(ac);return}else{if(ac){aa=aa?aa[0].nextSibling:X.firstChild}else{aa=aa?aa[0].previousSibling:X.lastChild}}if(aa){Z.select(aa)}Z.options.change(Z._current.text());ab.preventDefault()}else{if(Y===w.ENTER||Y===w.TAB||Y===w.ESC){ab.preventDefault();if(aa){Z.options.change(aa.text(),true)}Z.close()}}}};function o(X,aa,Z){var ab=X.getTimezoneOffset(),Y;X.setTime(X.getTime()+aa);if(!Z){Y=X.getTimezoneOffset()-ab;X.setTime(X.getTime()+Y*E)}}function H(){var X=new j(),Y=new j(X.getFullYear(),X.getMonth(),X.getDate(),0,0,0),Z=new j(X.getFullYear(),X.getMonth(),X.getDate(),12,0,0);return -1*(Y.getTimezoneOffset()-Z.getTimezoneOffset())}function l(X){return X.getHours()*60*E+X.getMinutes()*E+X.getSeconds()*1000+X.getMilliseconds()}function F(aa,Z,X){var Y=l(Z),ab=l(X),ac;if(!aa||Y==ab){return true}ac=l(aa);if(Y>ac){ac+=d}if(ab<Y){ab+=d}return ac>=Y&&ac<=ab}r.getMilliseconds=l;D.TimeView=r;var y=b.extend({init:function(aa,Y){var ac=this,Z,X,ab;b.fn.init.call(ac,aa,Y);aa=ac.element;Y=ac.options;Y.min=p(aa.attr("min"))||p(Y.min);Y.max=p(aa.attr("max"))||p(Y.max);S(Y);ac._initialOptions=k({},Y);ac._wrapper();ac.timeView=X=new r(k({},Y,{id:aa.attr(u),anchor:ac.wrapper,format:Y.format,change:function(af,ae){if(ae){ac._change(af)}else{aa.val(af)}},open:function(ae){ac.timeView._adjustListWidth();if(ac.trigger(R)){ae.preventDefault()}else{aa.attr(B,true);Z.attr(K,false)}},close:function(ae){if(ac.trigger(V)){ae.preventDefault()}else{aa.attr(B,false);Z.attr(K,true)}},active:function(ae){aa.removeAttr(W);if(ae){aa.attr(W,X._optionID)}}}));Z=X.ul;ac._icon();ac._reset();try{aa[0].setAttribute("type","text")}catch(ad){aa[0].type="text"}aa.addClass("k-input").attr({role:"combobox","aria-expanded":false,"aria-owns":X._timeViewID});ab=aa.is("[disabled]")||C(ac.element).parents("fieldset").is(":disabled");if(ab){ac.enable(false)}else{ac.readonly(aa.is("[readonly]"))}ac._old=ac._update(Y.value||ac.element.val());ac._oldText=aa.val();D.notify(ac)},options:{name:"TimePicker",min:s,max:s,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{}},events:[R,V,A],setOptions:function(X){var Y=this;var Z=Y._value;b.fn.setOptions.call(Y,X);X=Y.options;S(X);Y.timeView.setOptions(X);if(Z){Y.element.val(D.toString(Z,X.format,X.culture))}},dataBind:function(X){if(v(X)){this.timeView.dataBind(X)}},_editable:function(Z){var ab=this,Y=Z.disable,X=Z.readonly,ac=ab._arrow.off(U),aa=ab.element.off(U),ad=ab._inputWrapper.off(U);if(!X&&!Y){ad.addClass(Q).removeClass(n).on(e,ab._toggleHover);aa.removeAttr(z).removeAttr(g).attr(i,false).attr(P,false).on("keydown"+U,T(ab._keydown,ab)).on("focusout"+U,T(ab._blur,ab)).on("focus"+U,function(){ab._inputWrapper.addClass(I)});ac.on(N,T(ab._click,ab)).on(J,G)}else{ad.addClass(Y?n:Q).removeClass(Y?Q:n);aa.attr(z,Y).attr(g,X).attr(i,Y).attr(P,X)}},readonly:function(X){this._editable({readonly:X===m?true:X,disable:false})},enable:function(X){this._editable({readonly:false,disable:!(X=X===m?true:X)})},destroy:function(){var X=this;b.fn.destroy.call(X);X.timeView.destroy();X.element.off(U);X._arrow.off(U);X._inputWrapper.off(U);if(X._form){X._form.off("reset",X._resetHandler)}},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(X){return this._option("min",X)},max:function(X){return this._option("max",X)},value:function(Y){var X=this;if(Y===m){return X._value}X._old=X._update(Y);if(X._old===null){X.element.val("")}X._oldText=X.element.val()},_blur:function(){var X=this,Y=X.element.val();X.close();if(Y!==X._oldText){X._change(Y)}X._inputWrapper.removeClass(I)},_click:function(){var Y=this,X=Y.element;Y.timeView.toggle();if(!M.touch&&X[0]!==f()){X.focus()}},_change:function(Y){var X=this;Y=X._update(Y);if(+X._old!=+Y){X._old=Y;X._oldText=X.element.val();if(!X._typing){X.element.trigger(A)}X.trigger(A)}X._typing=false},_icon:function(){var Y=this,X=Y.element,Z;Z=X.next("span.k-select");if(!Z[0]){Z=C('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(X)}Y._arrow=Z.attr({role:"button","aria-controls":Y.timeView._timeViewID})},_keydown:function(ab){var Z=this,Y=ab.keyCode,X=Z.timeView,aa=Z.element.val();if(X.popup.visible()||ab.altKey){X.move(ab)}else{if(Y===w.ENTER&&aa!==Z._oldText){Z._change(aa)}else{Z._typing=true}}},_option:function(Y,aa){var Z=this,X=Z.options;if(aa===m){return X[Y]}aa=Z.timeView._parse(aa);if(!aa){return}aa=new j(+aa);X[Y]=aa;Z.timeView.options[Y]=aa;Z.timeView.bind()},_toggleHover:function(X){C(X.currentTarget).toggleClass(q,X.type==="mouseenter")},_update:function(ab){var aa=this,Z=aa.options,Y=aa.timeView,X=Y._parse(ab);if(!F(X,Z.min,Z.max)){X=null}aa._value=X;aa.element.val(X?D.toString(X,Z.format,Z.culture):ab);Y.value(X);return X},_wrapper:function(){var Y=this,X=Y.element,Z;Z=X.parents(".k-timepicker");if(!Z[0]){Z=X.wrap(O).parent().addClass("k-picker-wrap k-state-default");Z=Z.wrap(O).parent()}Z[0].style.cssText=X[0].style.cssText;Y.wrapper=Z.addClass("k-widget k-timepicker k-header").addClass(X[0].className);X.css({width:"100%",height:X[0].style.height});Y._inputWrapper=C(Z[0].firstChild)},_reset:function(){var Z=this,X=Z.element,aa=X.attr("form"),Y=aa?C("#"+aa):X.closest("form");if(Y[0]){Z._resetHandler=function(){Z.value(X[0].defaultValue);Z.max(Z._initialOptions.max);Z.min(Z._initialOptions.min)};Z._form=Y.on("reset",Z._resetHandler)}}});function S(X){var Y=X.parseFormats;X.format=h(X.format||D.getCulture(X.culture).calendars.standard.patterns.t);Y=v(Y)?Y:[Y];Y.splice(0,0,X.format);X.parseFormats=Y}function G(X){X.preventDefault()}L.plugin(y)})(window.kendo.jQuery);(function(M,n){var N=window.kendo,a=N.Class,d=N.ui.Widget,ac=M.proxy,t=N.isFunction,Z="k-toolbar",aj="k-button",J="k-overflow-button",j="k-toggle-button",Y="k-button-group",p="k-split-button",x="k-separator",Q="k-popup",s="k-toolbar-resizable",T="k-state-active",E="k-state-disabled",k="k-state-hidden",i="k-group-start",P="k-group-end",ai="k-primary",L="k-icon",c="k-i-",ag="k-button-icon",K="k-button-icontext",S="k-list-container k-split-container",ak="k-split-button-arrow",u="k-overflow-anchor",C="k-overflow-container",I="k-toolbar-first-visible",ae="k-toolbar-last-visible",R="click",f="toggle",X="open",af="close",H="overflowOpen",g="overflowClose",ad="never",r="auto",O="always",D="k-overflow-hidden",m=N.attr("uid"),e=N.template;var A=N.Class.extend({addOverflowAttr:function(){this.element.attr(N.attr("overflow"),this.options.overflow||r)},addUidAttr:function(){this.element.attr(m,this.options.uid)},addIdAttr:function(){if(this.options.id){this.element.attr("id",this.options.id)}},addOverflowIdAttr:function(){if(this.options.id){this.element.attr("id",this.options.id+"_overflow")}},attributes:function(){if(this.options.attributes){this.element.attr(this.options.attributes)}},show:function(){this.element.removeClass(k).show();this.options.hidden=false},hide:function(){this.element.addClass(k).hide();this.options.hidden=true},remove:function(){this.element.remove()},enable:function(am){if(am===n){am=true}this.element.toggleClass(E,!am);this.options.enable=am},twin:function(){var am=this.element.attr(m);if(this.overflow){return this.toolbar.element.find("["+m+"='"+am+"']").data(this.options.type)}else{if(this.toolbar.options.resizable){return this.toolbar.popup.element.find("["+m+"='"+am+"']").data(this.options.type)}}}});var W=A.extend({init:function(am,ao){var an=am.useButtonTag?M("<button></button>"):M("<a></a>");this.element=an;this.options=am;this.toolbar=ao;this.attributes();if(am.primary){an.addClass(ai)}if(am.togglable){an.addClass(j);this.toggle(am.selected)}if(am.url!==n&&!am.useButtonTag){an.attr("href",am.url);if(am.mobile){an.attr(N.attr("role"),"button")}}if(am.group){an.attr(N.attr("group"),am.group);if((this.overflow&&this.options.overflow===O)||!this.overflow){this.group=this.toolbar.addToGroup(this,am.group)}}if(!am.togglable&&am.click&&t(am.click)){this.clickHandler=am.click}if(am.togglable&&am.toggle&&t(am.toggle)){this.toggleHandler=am.toggle}},toggle:function(an,am){an=!!an;if(this.group&&an){this.group.select(this)}else{if(!this.group){this.select(an)}}if(am&&this.twin()){this.twin().toggle(an)}},getParentGroup:function(){if(this.options.isChild){return this.element.closest("."+Y).data("buttonGroup")}},_addGraphics:function(){var ao=this.element,aq=this.options.icon,ar=this.options.spriteCssClass,an=this.options.imageUrl,at,ap,am;if(ar||an||aq){at=true;ao.contents().not("span.k-sprite,span."+L+",img.k-image").each(function(au,av){if(av.nodeType==1||av.nodeType==3&&M.trim(av.nodeValue).length>0){at=false}});if(at){ao.addClass(ag)}else{ao.addClass(K)}}if(aq){ap=ao.children("span."+L).first();if(!ap[0]){ap=M('<span class="'+L+'"></span>').prependTo(ao)}ap.addClass(c+aq)}else{if(ar){ap=ao.children("span.k-sprite").first();if(!ap[0]){ap=M('<span class="k-sprite"></span>').prependTo(ao)}ap.addClass(ar)}else{if(an){am=ao.children("img.k-image").first();if(!am[0]){am=M('<img alt="icon" class="k-image" />').prependTo(ao)}am.attr("src",an)}}}}});var z=W.extend({init:function(am,ao){W.fn.init.call(this,am,ao);var an=this.element;an.addClass(aj);this.addIdAttr();if(am.align){an.addClass("k-align-"+am.align)}if(am.showText!="overflow"&&am.text){if(am.mobile){an.html('<span class="km-text">'+am.text+"</span>")}else{an.html(am.text)}}am.hasIcon=(am.showIcon!="overflow")&&(am.icon||am.spriteCssClass||am.imageUrl);if(am.hasIcon){this._addGraphics()}this.attributes();this.addUidAttr();this.addOverflowAttr();this.enable(am.enable);if(am.hidden){this.hide()}this.element.data({type:"button",button:this})},select:function(am){if(am===n){am=false}this.element.toggleClass(T,am);this.options.selected=am}});var G=W.extend({init:function(am,ao){this.overflow=true;W.fn.init.call(this,am,ao);var an=this.element;an.addClass(J+" "+aj);if(am.showText!="toolbar"&&am.text){if(am.mobile){an.html('<span class="km-text">'+am.text+"</span>")}else{an.html(am.text)}}am.hasIcon=(am.showIcon!="toolbar")&&(am.icon||am.spriteCssClass||am.imageUrl);if(am.hasIcon){this._addGraphics()}if(!am.isChild){this._wrap()}this.addOverflowIdAttr();this.attributes();this.addUidAttr();this.addOverflowAttr();this.enable(am.enable);if(am.hidden){this.hide()}this.element.data({type:"button",button:this})},_wrap:function(){this.element=this.element.wrap("<li></li>").parent()},overflowHidden:function(){this.element.addClass(D)},select:function(am){if(am===n){am=false}if(this.options.isChild){this.element.toggleClass(T,am)}else{this.element.find(".k-button").toggleClass(T,am)}this.options.selected=am}});var U=A.extend({createButtons:function(aq){var an=this.options;var am=an.buttons||[];var ap;for(var ao=0;ao<am.length;ao++){if(!am[ao].uid){am[ao].uid=N.guid()}ap=new aq(M.extend({mobile:an.mobile,isChild:true,type:"button"},am[ao]),this.toolbar);ap.element.appendTo(this.element)}},refresh:function(){this.element.children().filter(":not('."+k+"'):first").addClass(i);this.element.children().filter(":not('."+k+"'):last").addClass(P)}});var w=U.extend({init:function(am,ao){var an=this.element=M("<div></div>");this.options=am;this.toolbar=ao;this.addIdAttr();if(am.align){an.addClass("k-align-"+am.align)}this.createButtons(z);this.attributes();this.addUidAttr();this.addOverflowAttr();this.refresh();an.addClass(Y);this.element.data({type:"buttonGroup",buttonGroup:this})}});var q=U.extend({init:function(am,ao){var an=this.element=M("<li></li>");this.options=am;this.toolbar=ao;this.overflow=true;this.addOverflowIdAttr();this.createButtons(G);this.attributes();this.addUidAttr();this.addOverflowAttr();this.refresh();an.addClass((am.mobile?"":Y)+" k-overflow-group");this.element.data({type:"buttonGroup",buttonGroup:this})},overflowHidden:function(){this.element.addClass(D)}});var y=A.extend({init:function(am,ao){var an=this.element=M('<div class="'+p+'"></div>');this.options=am;this.toolbar=ao;this.mainButton=new z(am,ao);this.arrowButton=M('<a class="'+aj+" "+ak+'"><span class="'+(am.mobile?"km-icon km-arrowdown":"k-icon k-i-arrow-s")+'"></span></a>');this.popupElement=M('<ul class="'+S+'"></ul>');this.mainButton.element.appendTo(an);this.arrowButton.appendTo(an);this.popupElement.appendTo(an);if(am.align){an.addClass("k-align-"+am.align)}if(!am.id){am.id=am.uid}an.attr("id",am.id+"_wrapper");this.addOverflowAttr();this.addUidAttr();this.createMenuButtons();this.createPopup();this.mainButton.main=true;an.data({type:"splitButton",splitButton:this,kendoPopup:this.popup})},createMenuButtons:function(){var an=this.options;var am=an.menuButtons;var ap;for(var ao=0;ao<am.length;ao++){ap=new z(M.extend({mobile:an.mobile,type:"button",click:an.click},am[ao]),this.toolbar);ap.element.wrap("<li></li>").parent().appendTo(this.popupElement)}},createPopup:function(){var am=this.options;var an=this.element;this.popupElement.attr("id",am.id+"_optionlist").attr(m,am.rootUid);if(am.mobile){this.popupElement=F(this.popupElement)}this.popup=this.popupElement.kendoPopup({appendTo:am.mobile?M(am.mobile).children(".km-pane"):null,anchor:an,copyAnchorStyles:false,animation:am.animation,open:ab}).data("kendoPopup")},remove:function(){this.popup.destroy();this.element.remove()},toggle:function(){this.popup.toggle()},enable:function(am){if(am===n){am=true}this.mainButton.enable(am);this.options.enable=am}});var v=A.extend({init:function(an,ar){var ap=this.element=M('<li class="'+p+'"></li>'),am=an.menuButtons,aq;this.options=an;this.toolbar=ar;this.overflow=true;this.mainButton=new G(M.extend({isChild:true},an));this.mainButton.element.appendTo(ap);for(var ao=0;ao<am.length;ao++){aq=new G(M.extend({mobile:an.mobile,isChild:true},am[ao]),this.toolbar);aq.element.appendTo(ap)}this.addUidAttr();this.addOverflowAttr();this.mainButton.main=true;ap.data({type:"splitButton",splitButton:this})},overflowHidden:function(){this.element.addClass(D)}});var l=A.extend({init:function(am,ao){var an=this.element=M("<div>&nbsp;</div>");this.element=an;this.options=am;this.toolbar=ao;this.attributes();this.addIdAttr();this.addUidAttr();this.addOverflowAttr();an.addClass(x);an.data({type:"separator",separator:this})}});var aa=A.extend({init:function(am,ao){var an=this.element=M("<li>&nbsp;</li>");this.element=an;this.options=am;this.toolbar=ao;this.overflow=true;this.attributes();this.addUidAttr();this.addOverflowIdAttr();an.addClass(x);an.data({type:"separator",separator:this})},overflowHidden:function(){this.element.addClass(D)}});var b=A.extend({init:function(ao,am,ap){var an=t(ao)?ao(am):ao;if(!(an instanceof jQuery)){an=M("<div></div>").html(an)}else{an=an.wrap("<div></div>").parent()}this.element=an;this.options=am;this.options.type="template";this.toolbar=ap;this.attributes();this.addUidAttr();this.addIdAttr();this.addOverflowAttr();an.data({type:"template",template:this})}});var ah=A.extend({init:function(ao,am,ap){var an=t(ao)?M(ao(am)):M(ao);if(!(an instanceof jQuery)){an=M("<li></li>").html(an)}else{an=an.wrap("<li></li>").parent()}this.element=an;this.options=am;this.options.type="template";this.toolbar=ap;this.overflow=true;this.attributes();this.addUidAttr();this.addOverflowIdAttr();this.addOverflowAttr();an.data({type:"template",template:this})},overflowHidden:function(){this.element.addClass(D)}});function ab(ap){var an=this.options.anchor,am=an.outerWidth(),ao;N.wrap(this.element).addClass("k-split-wrapper");if(this.element.css("box-sizing")!=="border-box"){ao=am-(this.element.outerWidth()-this.element.width())}else{ao=am}this.element.css({fontFamily:an.css("font-family"),"min-width":ao})}function o(am){if(!am.target.is(".k-toggle-button")){am.target.toggleClass(T,am.type=="press")}}function F(am){am=M(am);return am.hasClass("km-actionsheet")?am.closest(".km-popup-wrapper"):am.addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"></div>').parent().wrap('<div class="km-popup-wrapper k-popup"></div>').parent()}function V(am){am.preventDefault()}var B={button:{toolbar:z,overflow:G},buttonGroup:{toolbar:w,overflow:q},splitButton:{toolbar:y,overflow:v},separator:{toolbar:l,overflow:aa},overflowAnchor:'<div class="k-overflow-anchor"></div>',overflowContainer:'<ul class="k-overflow-container k-list-container"></ul>'};var h=a.extend({init:function(am){this.name=am;this.buttons=[]},add:function(am){this.buttons[this.buttons.length]=am},remove:function(an){var am=M.inArray(an,this.buttons);this.buttons.splice(am,1)},select:function(an){for(var am=0;am<this.buttons.length;am++){this.buttons[am].select(false)}an.select(true)}});var al=d.extend({init:function(ao,am){var ap=this;d.fn.init.call(ap,ao,am);am=ap.options;ao=ap.wrapper=ap.element;ao.addClass(Z+" k-widget");this.uid=N.guid();this._groups={};ao.attr(m,this.uid);ap.isMobile=(typeof am.mobile==="boolean")?am.mobile:ap.element.closest(".km-root")[0];ap.animation=ap.isMobile?{open:{effects:"fade"}}:{};if(ap.isMobile){ao.addClass("km-widget");L="km-icon";c="km-";aj="km-button";Y="km-buttongroup km-widget";T="km-state-active";E="km-state-disabled"}if(am.resizable){ap._renderOverflow();ao.addClass(s);ap.overflowUserEvents=new N.UserEvents(ap.element,{threshold:5,allowSelection:true,filter:"."+u,tap:ac(ap._toggleOverflow,ap)});ap._resizeHandler=N.onResize(function(){ap.resize()})}else{ap.popup={element:M([])}}if(am.items&&am.items.length){for(var an=0;an<am.items.length;an++){ap.add(am.items[an])}}ap.userEvents=new N.UserEvents(document,{threshold:5,allowSelection:true,filter:"["+m+"="+this.uid+"] ."+aj+", ["+m+"="+this.uid+"] ."+J,tap:ac(ap._buttonClick,ap),press:o,release:o});ap.element.on(R,"."+E,V);if(am.resizable){ap.popup.element.on(R,+"."+E,V)}if(am.resizable){this._toggleOverflowAnchor()}N.notify(ap)},events:[R,f,X,af,H,g],options:{name:"ToolBar",items:[],resizable:true,mobile:null},addToGroup:function(am,ao){var an;if(!this._groups[ao]){an=this._groups[ao]=new h()}else{an=this._groups[ao]}an.add(am);return an},destroy:function(){var am=this;am.element.find("."+p).each(function(an,ao){M(ao).data("kendoPopup").destroy()});am.userEvents.destroy();if(am.options.resizable){N.unbindResize(am._resizeHandler);am.overflowUserEvents.destroy();am.popup.destroy()}d.fn.destroy.call(am)},add:function(ap){var ao=B[ap.type],aq=ap.template,an,at=this,ar=at.isMobile?"":"k-item k-state-default",am=ap.overflowTemplate,au;M.extend(ap,{uid:N.guid(),animation:at.animation,mobile:at.isMobile,rootUid:at.uid});if(aq&&!am){ap.overflow=ad}else{if(!ap.overflow){ap.overflow=r}}if(ap.overflow!==ad&&at.options.resizable){if(am){au=new ah(am,ap,at)}else{if(ao){au=new ao.overflow(ap,at);au.element.addClass(ar)}}if(au){if(ap.overflow===r){au.overflowHidden()}au.element.appendTo(at.popup.container);at.angular("compile",function(){return{elements:au.element.get()}})}}if(ap.overflow!==O){if(aq){an=new b(aq,ap,at)}else{if(ao){an=new ao.toolbar(ap,at)}}if(an){if(at.options.resizable){an.element.appendTo(at.element).css("visibility","hidden");at._shrink(at.element.innerWidth());an.element.css("visibility","visible")}else{an.element.appendTo(at.element)}at.angular("compile",function(){return{elements:an.element.get()}})}}},_getItem:function(aq){var ao,ar,am,at=this.options.resizable,ap,an;ao=this.element.find(aq);ap=ao.length?ao.data("type"):"";ar=ao.data(ap);if(ar&&ar.main){ao=ao.parent("."+p);ap="splitButton";ar=ao.data(ap)}if(!ao.length&&at){ao=this.popup.element.find(aq);ap=ao.data("type");am=ao.data(ap)}if(am&&am.main){ao=ao.parent("."+p);ap="splitButton";am=ao.data(ap)}if(ar&&at){am=ar.twin()}return{type:ap,toolbar:ar,overflow:am}},remove:function(am){var an=this._getItem(am);if(an.toolbar){an.toolbar.remove()}if(an.overflow){an.overflow.remove()}this.resize(true)},hide:function(am){var an=this._getItem(am);if(an.toolbar){an.toolbar.hide();if(an.toolbar.options.type==="button"&&an.toolbar.options.isChild){an.toolbar.getParentGroup().refresh()}}if(an.overflow){an.overflow.hide();if(an.overflow.options.type==="button"&&an.overflow.options.isChild){an.overflow.getParentGroup().refresh()}}this.resize(true)},show:function(am){var an=this._getItem(am);if(an.toolbar){an.toolbar.show();if(an.toolbar.options.type==="button"&&an.toolbar.options.isChild){an.toolbar.getParentGroup().refresh()}}if(an.overflow){an.overflow.show();if(an.overflow.options.type==="button"&&an.overflow.options.isChild){an.overflow.getParentGroup().refresh()}}this.resize(true)},enable:function(an,am){var ao=this._getItem(an);if(typeof am=="undefined"){am=true}if(ao.toolbar){ao.toolbar.enable(am)}if(ao.overflow){ao.overflow.enable(am)}},getSelectedFromGroup:function(am){return this.element.find("."+j+"[data-group='"+am+"']").filter("."+T)},toggle:function(an,ap){var am=M(an),ao=am.data("button");if(ao.options.togglable){ao.toggle(ap?ap:!ao.options.selectable,true)}},_renderOverflow:function(){var an=this,am=B.overflowContainer;an.overflowAnchor=M(B.overflowAnchor).addClass(aj);an.element.append(an.overflowAnchor);if(an.isMobile){an.overflowAnchor.append('<span class="km-icon km-more"></span>');am=F(am)}else{an.overflowAnchor.append('<span class="k-icon k-i-more"></span>')}an.popup=new N.ui.Popup(am,{origin:"bottom right",position:"top right",anchor:an.overflowAnchor,animation:an.animation,appendTo:an.isMobile?M(an.isMobile).children(".km-pane"):null,copyAnchorStyles:false,open:function(ao){var ap=N.wrap(an.popup.element).addClass("k-overflow-wrapper");if(!an.isMobile){ap.css("margin-left",(ap.outerWidth()-ap.width())/2+1)}else{an.popup.container.css("max-height",(parseFloat(M(".km-content:visible").innerHeight())-15)+"px")}if(an.trigger(H)){ao.preventDefault()}},close:function(ao){if(an.trigger(g)){ao.preventDefault()}}});if(an.isMobile){an.popup.container=an.popup.element.find("."+C)}else{an.popup.container=an.popup.element}an.popup.container.attr(m,this.uid);an.popup.element.toggleClass("k-rtl",N.support.isRtl(an.element))},_toggleOverflowAnchor:function(){if(this.popup.element.children(":not(."+D+", ."+Q+")").length>0){this.overflowAnchor.css({visibility:"visible",width:""})}else{this.overflowAnchor.css({visibility:"hidden",width:"1px"})}},_buttonClick:function(ao){var an=this,am,ap,aw,aq,au,at=ao.target.closest("."+ak).length,av,ar;ao.preventDefault();if(at){an._toggle(ao);return}ap=M(ao.target).closest("."+aj,an.element);if(ap.hasClass(u)){return}aw=ap.data("button");if(!aw&&an.popup){ap=M(ao.target).closest("."+J,an.popup.container);aw=ap.parent("li").data("button")}if(!aw.options.enable){return}if(aw.options.togglable){av=t(aw.toggleHandler)?aw.toggleHandler:null;aw.toggle(!aw.options.selected,true);ar={target:ap,group:aw.options.group,checked:aw.options.selected,id:aw.options.id};if(av){av.call(an,ar)}an.trigger(f,ar)}else{av=t(aw.clickHandler)?aw.clickHandler:null;ar={target:ap,id:aw.options.id};if(av){av.call(an,ar)}an.trigger(R,ar)}if(ap.hasClass(J)){an.popup.close()}aq=ap.closest(".k-split-container");if(aq[0]){am=aq.data("kendoPopup");(am?am:aq.parents(".km-popup-wrapper").data("kendoPopup")).close()}},_toggle:function(ao){var an=M(ao.target).closest("."+p).data("splitButton"),am;ao.preventDefault();if(!an.options.enable){return}if(an.popup.element.is(":visible")){am=this.trigger(af,{target:an.element})}else{am=this.trigger(X,{target:an.element})}if(!am){an.toggle()}},_toggleOverflow:function(){this.popup.toggle()},_resize:function(an){var am=an.width;if(!this.options.resizable){return}this.popup.close();this._shrink(am);this._stretch(am);this._markVisibles();this._toggleOverflowAnchor()},_childrenWidth:function(){var am=0;this.element.children(":visible:not('."+k+"')").each(function(){am+=M(this).outerWidth(true)});return Math.ceil(am)},_shrink:function(ap){var ao,am;if(ap<this._childrenWidth()){am=this.element.children(":visible:not([data-overflow='never'], ."+u+")");for(var an=am.length-1;an>=0;an--){ao=am.eq(an);if(ap>this._childrenWidth()){break}else{this._hideItem(ao)}}}},_stretch:function(ap){var ao,am;if(ap>this._childrenWidth()){am=this.element.children(":hidden:not('."+k+"')");for(var an=0;an<am.length;an++){ao=am.eq(an);if(ap<this._childrenWidth()||!this._showItem(ao,ap)){break}}}},_hideItem:function(am){am.hide();if(this.popup){this.popup.container.find(">li[data-uid='"+am.data("uid")+"']").removeClass(D)}},_showItem:function(am,an){if(am.length&&an>this._childrenWidth()+am.outerWidth(true)){am.show();if(this.popup){this.popup.container.find(">li[data-uid='"+am.data("uid")+"']").addClass(D)}return true}return false},_markVisibles:function(){var ap=this.popup.container.children(),ao=this.element.children(":not(.k-overflow-anchor)"),am=ap.filter(":not(.k-overflow-hidden)"),an=ao.filter(":visible");ap.add(ao).removeClass(I+" "+ae);am.first().add(an.first()).addClass(I);am.last().add(an.last()).addClass(ae)}});N.ui.plugin(al)})(window.kendo.jQuery);(function(x,l){var y=window.kendo,q=y.TimeView,o=y.parseDate,e=y._activeElement,g=y._extractFormat,K=y.calendar,z=K.isInRange,a=K.restrictValue,t=K.isEqualDatePart,k=q.getMilliseconds,E=y.ui,b=E.Widget,L="open",Q="close",v="change",P=".kendoDateTimePicker",F="click"+P,u="disabled",f="readonly",I="k-state-default",B="k-state-focused",p="k-state-hover",m="k-state-disabled",c="mouseenter"+P+" mouseleave"+P,C="mousedown"+P,d="month",G="<span/>",S="aria-activedescendant",w="aria-expanded",D="aria-hidden",N="aria-owns",h="aria-disabled",H="aria-readonly",i=Date,r=new i(1800,0,1),R=new i(2099,11,31),M={view:"date"},n={view:"time"},j=x.extend;var J=b.extend({init:function(U,T){var W=this,V;b.fn.init.call(W,U,T);U=W.element;T=W.options;T.min=o(U.attr("min"))||o(T.min);T.max=o(U.attr("max"))||o(T.max);O(T);W._initialOptions=j({},T);W._wrapper();W._views();W._icons();W._reset();W._template();try{U[0].setAttribute("type","text")}catch(X){U[0].type="text"}U.addClass("k-input").attr({role:"combobox","aria-expanded":false});W._midnight=W._calculateMidnight(T.min,T.max);V=U.is("[disabled]")||x(W.element).parents("fieldset").is(":disabled");if(V){W.enable(false)}else{W.readonly(U.is("[readonly]"))}W._old=W._update(T.value||W.element.val());W._oldText=U.val();y.notify(W)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],min:new i(r),max:new i(R),interval:30,height:200,footer:"",start:d,depth:d,animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "d")#'},events:[L,Q,v],setOptions:function(U){var Y=this,aa=Y._value,W=Y.dateView.options,Z=Y.timeView.options,V,T,X;b.fn.setOptions.call(Y,U);U=Y.options;U.min=V=o(U.min);U.max=T=o(U.max);O(U);Y._midnight=Y._calculateMidnight(U.min,U.max);X=U.value||Y._value||Y.dateView._current;if(V&&!t(V,X)){V=new i(r)}if(T&&!t(T,X)){T=new i(R)}Y.dateView.setOptions(U);Y.timeView.setOptions(j({},U,{format:U.timeFormat,min:V,max:T}));if(aa){Y.element.val(y.toString(aa,U.format,U.culture));Y._updateARIA(aa)}},_editable:function(V){var Y=this,X=Y.element.off(P),W=Y._dateIcon.off(P),Z=Y._timeIcon.off(P),aa=Y._inputWrapper.off(P),T=V.readonly,U=V.disable;if(!T&&!U){aa.addClass(I).removeClass(m).on(c,Y._toggleHover);X.removeAttr(u).removeAttr(f).attr(h,false).attr(H,false).on("keydown"+P,x.proxy(Y._keydown,Y)).on("focus"+P,function(){Y._inputWrapper.addClass(B)}).on("focusout"+P,function(){Y._inputWrapper.removeClass(B);if(X.val()!==Y._oldText){Y._change(X.val())}Y.close("date");Y.close("time")});W.on(C,A).on(F,function(){Y.toggle("date");if(!y.support.touch&&X[0]!==e()){X.focus()}});Z.on(C,A).on(F,function(){Y.toggle("time");if(!y.support.touch&&X[0]!==e()){X.focus()}})}else{aa.addClass(U?m:I).removeClass(U?I:m);X.attr(u,U).attr(f,T).attr(h,U).attr(H,T)}},readonly:function(T){this._editable({readonly:T===l?true:T,disable:false})},enable:function(T){this._editable({readonly:false,disable:!(T=T===l?true:T)})},destroy:function(){var T=this;b.fn.destroy.call(T);T.dateView.destroy();T.timeView.destroy();T.element.off(P);T._dateIcon.off(P);T._timeIcon.off(P);T._inputWrapper.off(P);if(T._form){T._form.off("reset",T._resetHandler)}},close:function(T){if(T!=="time"){T="date"}this[T+"View"].close()},open:function(T){if(T!=="time"){T="date"}this[T+"View"].open()},min:function(T){return this._option("min",T)},max:function(T){return this._option("max",T)},toggle:function(U){var T="timeView";if(U!=="time"){U="date"}else{T="dateView"}this[U+"View"].toggle();this[T].close()},value:function(U){var T=this;if(U===l){return T._value}T._old=T._update(U);if(T._old===null){T.element.val("")}T._oldText=T.element.val()},_change:function(U){var T=this;U=T._update(U);if(+T._old!=+U){T._old=U;T._oldText=T.element.val();T.trigger(v);if(!T._typing){T.element.trigger(v)}}},_option:function(U,Y){var V=this;var aa=V.options;var ab=V.timeView;var T=ab.options;var W=V._value||V._old;var X;var Z;if(Y===l){return aa[U]}Y=o(Y,aa.parseFormats,aa.culture);if(!Y){return}if(aa.min.getTime()===aa.max.getTime()){T.dates=[]}aa[U]=new i(Y.getTime());V.dateView[U](Y);V._midnight=V._calculateMidnight(aa.min,aa.max);if(W){X=t(aa.min,W);Z=t(aa.max,W)}if(X||Z){T[U]=Y;if(X&&!Z){T.max=s(aa.interval)}if(Z){if(V._midnight){ab.dataBind([R]);return}else{if(!X){T.min=r}}}}else{T.max=R;T.min=r}ab.bind()},_toggleHover:function(T){x(T.currentTarget).toggleClass(p,T.type==="mouseenter")},_update:function(ae){var aa=this,ag=aa.options,X=ag.min,ac=ag.max,T=ag.dates,ah=aa.timeView,ab=aa._value,V=o(ae,ag.parseFormats,ag.culture),W=(V===null&&ab===null)||(V instanceof Date&&ab instanceof Date),ad,Z,U,af,Y;if(+V===+ab&&W){Y=y.toString(V,ag.format,ag.culture);if(Y!==ae){aa.element.val(V===null?ae:Y)}return V}if(V!==null&&t(V,X)){V=a(V,X,ac)}else{if(!z(V,X,ac)){V=null}}aa._value=V;ah.value(V);aa.dateView.value(V);if(V){U=aa._old;Z=ah.options;if(T[0]){T=x.grep(T,function(ai){return t(V,ai)});if(T[0]){ah.dataBind(T);af=true}}if(!af){if(t(V,X)){Z.min=X;Z.max=s(ag.interval);ad=true}if(t(V,ac)){if(aa._midnight){ah.dataBind([R]);af=true}else{Z.max=ac;if(!ad){Z.min=r}ad=true}}}if(!af&&((!U&&ad)||(U&&!t(U,V)))){if(!ad){Z.max=R;Z.min=r}ah.bind()}}aa.element.val(V?y.toString(V,ag.format,ag.culture):ae);aa._updateARIA(V);return V},_keydown:function(Y){var W=this,T=W.dateView,V=W.timeView,X=W.element.val(),U=T.popup.visible();if(Y.altKey&&Y.keyCode===y.keys.DOWN){W.toggle(U?"time":"date")}else{if(U){T.move(Y);W._updateARIA(T._current)}else{if(V.popup.visible()){V.move(Y)}else{if(Y.keyCode===y.keys.ENTER&&X!==W._oldText){W._change(X)}else{W._typing=true}}}}},_views:function(){var Y=this,W=Y.element,ab=Y.options,U=W.attr("id"),X,ac,T,Z,aa,V;Y.dateView=X=new y.DateView(j({},ab,{id:U,anchor:Y.wrapper,change:function(){var ae=X.calendar.value(),ah=+ae,ad=+ab.min,ag=+ab.max,af;if(ah===ad||ah===ag){af=new i(+Y._value);af.setFullYear(ae.getFullYear(),ae.getMonth(),ae.getDate());if(z(af,ad,ag)){ae=af}}Y._change(ae);Y.close("date")},close:function(ad){if(Y.trigger(Q,M)){ad.preventDefault()}else{W.attr(w,false);T.attr(D,true);if(!ac.popup.visible()){W.removeAttr(N)}}},open:function(ad){if(Y.trigger(L,M)){ad.preventDefault()}else{if(W.val()!==Y._oldText){V=o(W.val(),ab.parseFormats,ab.culture);Y.dateView[V?"current":"value"](V)}T.attr(D,false);W.attr(w,true).attr(N,X._dateViewID);Y._updateARIA(V)}}}));T=X.div;aa=ab.min.getTime();Y.timeView=ac=new q({id:U,value:ab.value,anchor:Y.wrapper,animation:ab.animation,format:ab.timeFormat,culture:ab.culture,height:ab.height,interval:ab.interval,min:new i(r),max:new i(R),dates:aa===ab.max.getTime()?[new Date(aa)]:[],parseFormats:ab.parseFormats,change:function(ae,ad){ae=ac._parse(ae);if(ae<ab.min){ae=new i(+ab.min);ac.options.min=ae}else{if(ae>ab.max){ae=new i(+ab.max);ac.options.max=ae}}if(ad){Y._timeSelected=true;Y._change(ae)}else{W.val(y.toString(ae,ab.format,ab.culture));X.value(ae);Y._updateARIA(ae)}},close:function(ad){if(Y.trigger(Q,n)){ad.preventDefault()}else{Z.attr(D,true);W.attr(w,false);if(!X.popup.visible()){W.removeAttr(N)}}},open:function(ad){ac._adjustListWidth();if(Y.trigger(L,n)){ad.preventDefault()}else{if(W.val()!==Y._oldText){V=o(W.val(),ab.parseFormats,ab.culture);Y.timeView.value(V)}Z.attr(D,false);W.attr(w,true).attr(N,ac._timeViewID);ac.options.active(ac.current())}},active:function(ad){W.removeAttr(S);if(ad){W.attr(S,ac._optionID)}}});Z=ac.ul},_icons:function(){var V=this,U=V.element,T;T=U.next("span.k-select");if(!T[0]){T=x('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(U)}T=T.children();V._dateIcon=T.eq(0).attr({role:"button","aria-controls":V.dateView._dateViewID});V._timeIcon=T.eq(1).attr({role:"button","aria-controls":V.timeView._timeViewID})},_wrapper:function(){var U=this,T=U.element,V;V=T.parents(".k-datetimepicker");if(!V[0]){V=T.wrap(G).parent().addClass("k-picker-wrap k-state-default");V=V.wrap(G).parent()}V[0].style.cssText=T[0].style.cssText;T.css({width:"100%",height:T[0].style.height});U.wrapper=V.addClass("k-widget k-datetimepicker k-header").addClass(T[0].className);U._inputWrapper=x(V[0].firstChild)},_reset:function(){var V=this,T=V.element,W=T.attr("form"),U=W?x("#"+W):T.closest("form");if(U[0]){V._resetHandler=function(){V.value(T[0].defaultValue);V.max(V._initialOptions.max);V.min(V._initialOptions.min)};V._form=U.on("reset",V._resetHandler)}},_template:function(){this._ariaTemplate=y.template(this.options.ARIATemplate)},_calculateMidnight:function(U,T){return k(U)+k(T)===0},_updateARIA:function(U){var T;var V=this;var W=V.dateView.calendar;V.element.removeAttr(S);if(W){T=W._cell;T.attr("aria-label",V._ariaTemplate({current:U||W.current()}));V.element.attr(S,T.attr("id"))}}});function s(T){var U=new Date(2100,0,1);U.setMinutes(-T);return U}function A(T){T.preventDefault()}function O(T){var U=y.getCulture(T.culture).calendars.standard.patterns,W=!T.parseFormats.length,V;T.format=g(T.format||U.g);T.timeFormat=V=g(T.timeFormat||U.t);y.DateView.normalize(T);if(W){T.parseFormats.push("yyyy-MM-ddTHH:mm:ss")}if(x.inArray(V,T.parseFormats)===-1){T.parseFormats.splice(1,0,V)}}E.plugin(J)})(window.kendo.jQuery);(function(h,j){var u=window.kendo,t=u.ui,r=u.keys,B=h.extend,y=h.proxy,e=t.Widget,C=/^\d+(\.\d+)?px$/i,E=/^\d+(\.\d+)?%$/i,A=".kendoSplitter",c="expand",f="collapse",s="contentLoad",l="error",n="resize",H="layoutChange",I="horizontal",w="vertical",z="mouseenter",i="click",G="pane",m="mouseleave",o="k-state-focused",g="k-"+G,k="."+g;function v(J){return E.test(J)}function x(J){return C.test(J)||/^\d+$/.test(J)}function p(J){return !v(J)&&!x(J)}function D(K,L){var J=parseInt(K,10);if(v(K)){J=Math.floor(J*L/100)}return J}function F(J,K){return function(O,N){var M=this.element.find(O).data(G);if(arguments.length==1){return M[J]}M[J]=N;if(K){var L=this.element.data("kendo"+this.options.name);L.resize(true)}}}var d=e.extend({init:function(K,J){var L=this,M;e.fn.init.call(L,K,J);L.wrapper=L.element;M=L.options.orientation.toLowerCase()!=w;L.orientation=M?I:w;L._dimension=M?"width":"height";L._keys={decrease:M?r.LEFT:r.UP,increase:M?r.RIGHT:r.DOWN};L._resizeStep=10;L._marker=u.guid().substring(0,8);L._initPanes();L.resizing=new a(L);L.element.triggerHandler("init"+A)},events:[c,f,s,l,n,H],_addOverlays:function(){this._panes().append("<div class='k-splitter-overlay k-overlay' />")},_removeOverlays:function(){this._panes().children(".k-splitter-overlay").remove()},_attachEvents:function(){var K=this,J=K.options.orientation;K.element.children(".k-splitbar-draggable-"+J).on("keydown"+A,y(K._keydown,K)).on("mousedown"+A,function(L){L.currentTarget.focus()}).on("focus"+A,function(L){h(L.currentTarget).addClass(o)}).on("blur"+A,function(L){h(L.currentTarget).removeClass(o);if(K.resizing){K.resizing.end()}}).on(z+A,function(){h(this).addClass("k-splitbar-"+K.orientation+"-hover")}).on(m+A,function(){h(this).removeClass("k-splitbar-"+K.orientation+"-hover")}).on("mousedown"+A,y(K._addOverlays,K)).end().children(".k-splitbar").on("dblclick"+A,y(K._togglePane,K)).children(".k-collapse-next, .k-collapse-prev").on(i+A,K._arrowClick(f)).end().children(".k-expand-next, .k-expand-prev").on(i+A,K._arrowClick(c)).end().end();h(window).on("resize"+A+K._marker,y(K.resize,K,false)).on("mouseup"+A+K._marker,y(K._removeOverlays,K))},_detachEvents:function(){var J=this;J.element.children(".k-splitbar-draggable-"+J.orientation).off(A).end().children(".k-splitbar").off("dblclick"+A).children(".k-collapse-next, .k-collapse-prev, .k-expand-next, .k-expand-prev").off(A);h(window).off("resize"+A+J._marker)},options:{name:"Splitter",orientation:I,panes:[]},destroy:function(){e.fn.destroy.call(this);this._detachEvents();if(this.resizing){this.resizing.destroy()}u.destroy(this.element);this.wrapper=this.element=null},_keydown:function(M){var L=this,R=M.keyCode,O=L.resizing,N=h(M.currentTarget),K=L._keys,Q=R===K.increase,P=R===K.decrease,J;if(Q||P){if(M.ctrlKey){J=N[P?"next":"prev"]();if(O&&O.isResizing()){O.end()}if(!J[L._dimension]()){L._triggerAction(c,J)}else{L._triggerAction(f,N[P?"prev":"next"]())}}else{if(O){O.move((P?-1:1)*L._resizeStep,N)}}M.preventDefault()}else{if(R===r.ENTER&&O){O.end();M.preventDefault()}}},_initPanes:function(){var J=this.options.panes||[];var K=this;this.element.addClass("k-widget").addClass("k-splitter").children().each(function(L,M){if(M.nodeName.toLowerCase()!="script"){K._initPane(M,J[L])}});this.resize()},_initPane:function(K,J){K=h(K).attr("role","group").addClass(g);K.data(G,J?J:{}).toggleClass("k-scrollable",J?J.scrollable!==false:true);this.ajaxRequest(K)},ajaxRequest:function(N,J,M){var K=this,L;N=K.element.find(N);L=N.data(G);J=J||L.contentUrl;if(J){N.append("<span class='k-icon k-loading k-pane-loading' />");if(u.isLocalUrl(J)){jQuery.ajax({url:J,data:M||{},type:"GET",dataType:"html",success:function(O){K.angular("cleanup",function(){return{elements:N.get()}});N.html(O);K.angular("compile",function(){return{elements:N.get()}});K.trigger(s,{pane:N[0]})},error:function(P,O){K.trigger(l,{pane:N[0],status:O,xhr:P})}})}else{N.removeClass("k-scrollable").html("<iframe src='"+J+"' frameborder='0' class='k-content-frame'>This page requires frames in order to show content</iframe>")}}},_triggerAction:function(J,K){if(!this.trigger(J,{pane:K[0]})){this[J](K[0])}},_togglePane:function(M){var J=this,L=h(M.target),K;if(L.closest(".k-splitter")[0]!=J.element[0]){return}K=L.children(".k-icon:not(.k-resize-handle)");if(K.length!==1){return}if(K.is(".k-collapse-prev")){J._triggerAction(f,L.prev())}else{if(K.is(".k-collapse-next")){J._triggerAction(f,L.next())}else{if(K.is(".k-expand-prev")){J._triggerAction(c,L.prev())}else{if(K.is(".k-expand-next")){J._triggerAction(c,L.next())}}}}},_arrowClick:function(K){var J=this;return function(M){var L=h(M.target),N;if(L.closest(".k-splitter")[0]!=J.element[0]){return}if(L.is(".k-"+K+"-prev")){N=L.parent().prev()}else{N=L.parent().next()}J._triggerAction(K,N)}},_updateSplitBar:function(O,P,M){var K=function(T,U){return U?"<div class='k-icon "+T+"' />":""},J=this.orientation,S=(P.resizable!==false)&&(M.resizable!==false),Q=P.collapsible,L=P.collapsed,N=M.collapsible,R=M.collapsed;O.addClass("k-splitbar k-state-default k-splitbar-"+J).attr("role","separator").attr("aria-expanded",!(L||R)).removeClass("k-splitbar-"+J+"-hover").toggleClass("k-splitbar-draggable-"+J,S&&!L&&!R).toggleClass("k-splitbar-static-"+J,!S&&!Q&&!N).html(K("k-collapse-prev",Q&&!L&&!R)+K("k-expand-prev",Q&&L&&!R)+K("k-resize-handle",S)+K("k-collapse-next",N&&!R&&!L)+K("k-expand-next",N&&R&&!L));if(!S&&!Q&&!N){O.removeAttr("tabindex")}},_updateSplitBars:function(){var J=this;this.element.children(".k-splitbar").each(function(){var M=h(this),L=M.prevAll(k).first().data(G),K=M.nextAll(k).first().data(G);if(!K){return}J._updateSplitBar(M,L,K)})},_removeSplitBars:function(){this.element.children(".k-splitbar").remove()},_panes:function(){if(!this.element){return h()}return this.element.children(k)},_resize:function(){var Q=this,K=Q.element,P=K.children(k),O=Q.orientation==I,T=K.children(".k-splitbar"),Y=T.length,N=O?"width":"height",U=K[N]();Q.wrapper.addClass("k-splitter-resizing");if(Y===0){Y=P.length-1;P.slice(0,Y).after("<div tabindex='0' class='k-splitbar' data-marker='"+Q._marker+"' />");Q._updateSplitBars();T=K.children(".k-splitbar")}else{Q._updateSplitBars()}T.each(function(){U-=this[O?"offsetWidth":"offsetHeight"]});var J=0,W=0,aa=h();P.css({position:"absolute",top:0})[N](function(){var ad=h(this),ab=ad.data(G)||{},ac;ad.removeClass("k-state-collapsed");if(ab.collapsed){ac=ab.collapsedSize?D(ab.collapsedSize,U):0;ad.css("overflow","hidden").addClass("k-state-collapsed")}else{if(p(ab.size)){aa=aa.add(this);return}else{ac=D(ab.size,U)}}W++;J+=ac;return ac});U-=J;var S=aa.length,M=Math.floor(U/S);aa.slice(0,S-1).css(N,M).end().eq(S-1).css(N,U-(S-1)*M);var L=0,R=O?"height":"width",Z=O?"left":"top",X=O?"offsetWidth":"offsetHeight";if(S===0){var V=P.filter(function(){return !((h(this).data(G)||{}).collapsed)}).last();V[N](U+V[0][X])}K.children().css(R,K[R]()).each(function(ab,ac){if(ac.tagName.toLowerCase()!="script"){ac.style[Z]=Math.floor(L)+"px";L+=ac[X]}});Q._detachEvents();Q._attachEvents();Q.wrapper.removeClass("k-splitter-resizing");u.resize(P);Q.trigger(H)},toggle:function(M,J){var K=this,L;M=K.element.find(M);L=M.data(G);if(!J&&!L.collapsible){return}if(arguments.length==1){J=L.collapsed===j?false:L.collapsed}L.collapsed=!J;if(L.collapsed){M.css("overflow","hidden")}else{M.css("overflow","")}K.resize(true)},collapse:function(J){this.toggle(J,false)},expand:function(J){this.toggle(J,true)},_addPane:function(K,J,M){var L=this;if(M.length){L.options.panes.splice(J,0,K);L._initPane(M,K);L._removeSplitBars();L.resize(true)}return M},append:function(J){J=J||{};var K=this,L=h("<div />").appendTo(K.element);return K._addPane(J,K.options.panes.length,L)},insertBefore:function(K,L){L=h(L);K=K||{};var M=this,J=M.wrapper.children(".k-pane").index(L),N=h("<div />").insertBefore(h(L));return M._addPane(K,J,N)},insertAfter:function(K,L){L=h(L);K=K||{};var M=this,J=M.wrapper.children(".k-pane").index(L),N=h("<div />").insertAfter(h(L));return M._addPane(K,J+1,N)},remove:function(K){K=h(K);var J=this;if(K.length){u.destroy(K);K.each(function(L,M){J.options.panes.splice(J.wrapper.children(".k-pane").index(M),1);h(M).remove()});J._removeSplitBars();if(J.options.panes.length){J.resize(true)}}return J},size:F("size",true),min:F("min"),max:F("max")});t.plugin(d);var b={sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"};var q={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"};function a(L){var K=this,J=L.orientation;K.owner=L;K._element=L.element;K.orientation=J;B(K,J===I?q:b);K._resizable=new u.ui.Resizable(L.element,{orientation:J,handle:".k-splitbar-draggable-"+J+"[data-marker="+L._marker+"]",hint:y(K._createHint,K),start:y(K._start,K),max:y(K._max,K),min:y(K._min,K),invalidClass:"k-restricted-size-"+J,resizeend:y(K._stop,K)})}a.prototype={press:function(J){this._resizable.press(J)},move:function(K,J){if(!this.pressed){this.press(J);this.pressed=true}if(!this._resizable.target){this._resizable.press(J)}this._resizable.move(K)},end:function(){this._resizable.end();this.pressed=false},destroy:function(){this._resizable.destroy();this._resizable=this._element=this.owner=null},isResizing:function(){return this._resizable.resizing},_createHint:function(K){var J=this;return h("<div class='k-ghost-splitbar k-ghost-splitbar-"+J.orientation+" k-state-default' />").css(J.alternateSizingProperty,K[J.alternateSizingProperty]())},_start:function(S){var P=this,Q=h(S.currentTarget),V=Q.prev(),M=Q.next(),K=V.data(G),J=M.data(G),R=parseInt(V[0].style[P.positioningProperty],10),L=parseInt(M[0].style[P.positioningProperty],10)+M[0][P.sizingDomProperty]-Q[0][P.sizingDomProperty],X=parseInt(P._element.css(P.sizingProperty),10),W=function(Y){var Z=parseInt(Y,10);return(x(Y)?Z:(X*Z)/100)||0},U=W(K.min),O=W(K.max)||L-R,T=W(J.min),N=W(J.max)||L-R;P.previousPane=V;P.nextPane=M;P._maxPosition=Math.min(L-T,R+O);P._minPosition=Math.max(R+U,L-N)},_max:function(){return this._maxPosition},_min:function(){return this._minPosition},_stop:function(S){var Q=this,R=h(S.currentTarget),L=Q.owner;L._panes().children(".k-splitter-overlay").remove();if(S.keyCode!==u.keys.ESC){var N=S.position,U=R.prev(),O=R.next(),M=U.data(G),K=O.data(G),J=N-parseInt(U[0].style[Q.positioningProperty],10),T=parseInt(O[0].style[Q.positioningProperty],10)+O[0][Q.sizingDomProperty]-N-R[0][Q.sizingDomProperty],P=Q._element.children(k).filter(function(){return p(h(this).data(G).size)}).length;if(!p(M.size)||P>1){if(p(M.size)){P--}M.size=J+"px"}if(!p(K.size)||P>1){K.size=T+"px"}L.resize(true)}return false}}})(window.kendo.jQuery);(function(u,i){var v=window.kendo,z=v.ui,d=z.Widget,r=z.DataBoundWidget,I=u.proxy,N="k-virtual-wrap",M="k-virtual-list",B="k-virtual-content",F="k-list",x="k-group-header",b="k-virtual-item",K="k-item",y="k-height-container",D="k-group",p="k-state-selected",w="k-state-focused",k="k-state-hover",t="change",E="click",P="listBound",e="itemChange",h="activate",G="deactivate",j=".VirtualList";function o(Q){return Q[Q.length-1]}function n(Q){return Q instanceof Array?Q:[Q]}function l(Q){return typeof Q==="string"||typeof Q==="number"||typeof Q==="boolean"}function L(S,Q,R){return Math.ceil(S*Q/R)}function a(T,S,R){var Q=document.createElement(R||"div");if(S){Q.className=S}T.appendChild(Q);return Q}function q(){var R=u('<div class="k-popup"><ul class="k-list"><li class="k-item"><li></ul></div>'),Q;R.css({position:"absolute",left:"-200000px",visibility:"hidden"});R.appendTo(document.body);Q=parseFloat(v.getComputedStyles(R.find(".k-item")[0],["line-height"])["line-height"]);R.remove();return Q}function A(S,Q,R){return{down:S*R,up:S*(Q-1-R)}}function J(Q,T){var S=(Q.listScreens-1-Q.threshold)*T;var R=Q.threshold*T;return function(V,W,U){if(W>U){return W-V.top<S}else{return V.top===0||W-V.top>R}}}function H(Q,R){return function(S){return R(Q.scrollTop,S)}}function g(Q){return function(S,R){Q(S.items,S.index,R);return S}}function C(Q,R){if(v.support.browser.msie&&v.support.browser.version<10){Q.style.top=R+"px"}else{Q.style.webkitTransform="translateY("+R+"px)";Q.style.transform="translateY("+R+"px)"}}function m(R,Q){return function(U,T){for(var V=0,S=U.length;V<S;V++){R(U[V],T[V],Q);if(T[V].item){this.trigger(e,{item:u(U[V]),data:T[V].item,ns:v.ui});if(T[V].index===this._selectedIndex){this.select(this._selectedIndex)}}}}}function O(R,S){var Q;if(S>0){Q=R.splice(0,S);R.push.apply(R,Q)}else{Q=R.splice(S,-S);R.unshift.apply(R,Q)}return Q}function s(R,T,Q){var S=Q.template;R=u(R);if(!T.item){S=Q.placeholderTemplate}this.angular("cleanup",function(){return{elements:[R]}});R.attr("data-uid",T.item?T.item.uid:"").attr("data-offset-index",T.index).html(S(T.item||{}));R.toggleClass(w,T.current);R.toggleClass(p,T.selected);R.toggleClass("k-first",T.newGroup);R.toggleClass("k-loading-item",!T.item);if(T.index!==0&&T.newGroup){u("<div class="+D+"></div>").appendTo(R).html(Q.groupTemplate({group:T.group}))}if(T.top!==i){C(R[0],T.top)}this.angular("compile",function(){return{elements:[R],data:[{dataItem:T.item,group:T.group,newGroup:T.newGroup}]}})}function f(V,W){var T=W.length;var Q=[];var S;var U,R;for(U=0;U<V.length;U++){S=V[U];for(R=0;R<T;R++){if(S===W[R]){Q.push({index:U,item:S})}}}return Q}var c=r.extend({init:function(R,Q){var S=this;S._listCreated=false;S._fetching=false;S._filter=false;d.fn.init.call(S,R,Q);if(!S.options.itemHeight){S.options.itemHeight=q()}Q=S.options;S.element.addClass(F+" "+M).attr("role","listbox");S.content=S.element.wrap("<div unselectable='on' class='"+B+"'></div>").parent();S.wrapper=S.content.wrap("<div class='"+N+"'></div>").parent();S.header=S.content.before("<div class='"+x+"'></div>").prev();S.element.on("mouseenter"+j,"li:not(.k-loading-item)",function(){u(this).addClass(k)}).on("mouseleave"+j,"li",function(){u(this).removeClass(k)});S._values=n(S.options.value);S._selectedDataItems=[];S._selectedIndexes=[];S._rangesList={};S._activeDeferred=null;S._promisesList=[];S._optionID=v.guid();S.setDataSource(Q.dataSource);S.content.on("scroll"+j,v.throttle(function(){S._renderItems()},Q.delay));S._selectable()},options:{name:"VirtualList",autoBind:true,delay:100,height:null,listScreens:4,threshold:0.5,itemHeight:null,oppositeBuffer:1,type:"flat",selectable:false,value:[],dataValueField:null,template:"#:data#",placeholderTemplate:"loading...",groupTemplate:"#:group#",fixedGroupTemplate:"fixed header template",valueMapper:null},events:[t,E,P,e,h,G],setOptions:function(Q){d.fn.setOptions.call(this,Q);if(this._selectProxy&&this.options.selectable===false){this.element.off(E,"."+b,this._selectProxy)}else{if(!this._selectProxy&&this.options.selectable){this._selectable()}}this.refresh()},items:function(){return u(this._items)},destroy:function(){this.wrapper.off(j);this.dataSource.unbind(t,this._refreshHandler);d.fn.destroy.call(this)},setDataSource:function(S){var Q=this;var T=S||{};var R;T=u.isArray(T)?{data:T}:T;T=v.data.DataSource.create(T);if(Q.dataSource){Q.dataSource.unbind(t,Q._refreshHandler);Q.dataSource.unbind(t,Q._rangeChangeHandler);R=Q.value();Q.value([]);Q.mute(function(){Q.value(R)})}else{Q._refreshHandler=u.proxy(Q.refresh,Q);Q._rangeChangeHandler=u.proxy(Q.rangeChange,Q)}Q.dataSource=T.bind(t,Q._refreshHandler).bind(t,Q._rangeChangeHandler);if(Q.dataSource.view().length!==0){Q.refresh()}else{if(Q.options.autoBind){Q.dataSource.fetch()}}},rangeChange:function(){var Q=this;var R=Q.dataSource.page();if(Q.isBound()&&Q._rangeChange===true&&Q._lastPage!==R){Q._lastPage=R;Q.trigger(P)}},refresh:function(T){var R=this;var S=T&&T.action;var Q;if(R._mute){return}if(!R._fetching){if(R._filter){R.focus(0)}R._createList();if(!S&&R._values.length&&!R._filter){R.value(R._values,true).done(function(){R._lastPage=R.dataSource.page();R._listCreated=true;R.trigger(P)})}else{R._lastPage=R.dataSource.page();R._listCreated=true;R.trigger(P)}}else{if(R._renderItems){R._renderItems(true)}}if(S==="itemchange"){Q=f(R._selectedDataItems,T.items);if(Q.length){R.trigger("selectedItemChange",{items:Q})}}R._fetching=false},removeAt:function(Q){this._selectedIndexes.splice(Q,1);this._values.splice(Q,1);return{position:Q,dataItem:this._selectedDataItems.splice(Q,1)[0]}},setValue:function(Q){this._values=n(Q)},value:function(S,Q){var R=this;var T=R.dataSource;if(S===i){return R._values.slice()}S=n(S);if(R.options.selectable==="multiple"&&R.select().length&&S.length){R.select(-1)}if(!R._valueDeferred||R._valueDeferred.state()==="resolved"){R._valueDeferred=u.Deferred()}if(!S.length){R.select(-1)}R._values=S;if((R.isBound()&&!R._mute)||Q){R._prefetchByValue(S)}return R._valueDeferred},_prefetchByValue:function(W){var T=this,V=T._dataView,Q=T._valueGetter,Y,S=false,X=[];for(var R=0;R<W.length;R++){for(var U=0;U<V.length;U++){Y=V[U].item;if(Y){S=l(Y)?W[R]===Y:W[R]===Q(Y);if(S){X.push(U)}}}}if(X.length===W.length){T._values=[];T.select(X);return}if(typeof T.options.valueMapper==="function"){T.options.valueMapper({value:(this.options.selectable==="multiple")?W:W[0],success:function(Z){T._values=[];T._selectedIndexes=[];T._selectedDataItems=[];Z=n(Z);if(!Z.length){Z=[-1]}T.select(Z)}})}else{throw new Error("valueMapper is not provided")}},deferredRange:function(W){var Q=this.dataSource;var T=this.itemCount;var R=this._rangesList;var Y=u.Deferred();var V=[];var X=Math.floor(W/T)*T;var U=Math.ceil(W/T)*T;var S=U===X?[U]:[X,U];u.each(S,function(ac,ad){var aa=ad+T;var Z=R[ad];var ab;if(!Z||(Z.end!==aa)){ab=u.Deferred();R[ad]={end:aa,deferred:ab};Q._multiplePrefetch(ad,T,function(){ab.resolve()})}else{ab=Z.deferred}V.push(ab)});u.when.apply(u,V).then(function(){Y.resolve()});return Y},prefetch:function(S){var T=this,R=this.itemCount,U=this.dataSource,Q=!T._promisesList.length;if(!T._activeDeferred){T._activeDeferred=u.Deferred();T._promisesList=[]}u.each(S,function(W,V){var X=Math.floor(V/R)*R;T._promisesList.push(T.deferredRange(X))});if(Q){u.when.apply(u,T._promisesList).done(function(){T._activeDeferred.resolve();T._activeDeferred=null;T._promisesList=[]})}return T._activeDeferred},_findDataItem:function(R){var Q=this.dataSource.view(),T;if(this.options.type==="group"){for(var S=0;S<Q.length;S++){T=Q[S].items;if(T.length<=R){R=R-T.length}else{return T[R]}}}return Q[R]},selectedDataItems:function(){return this._selectedDataItems.slice()},scrollTo:function(Q){this.content.scrollTop(Q)},scrollToIndex:function(Q){this.scrollTo(Q*this.options.itemHeight)},focus:function(aa){var U,W,T,Q=this.dataSource,X,S=this.options.itemHeight,R=this._optionID,Y=true;if(aa===i){X=this.element.find("."+w);return X.length?X:null}if(typeof aa==="function"){T=this.dataSource.flatView();for(var Z=0;Z<T.length;Z++){if(aa(T[Z])){aa=Z;break}}}if(aa instanceof Array){aa=o(aa)}if(isNaN(aa)){U=u(aa);W=parseInt(u(U).attr("data-offset-index"),10)}else{W=aa;U=this._getElementByIndex(W)}if(W===-1){this.element.find("."+w).removeClass(w);this._focusedIndex=i;return}if(U.length){if(U.hasClass(w)){Y=false}if(this._focusedIndex!==i){X=this._getElementByIndex(this._focusedIndex);X.removeClass(w).removeAttr("id");if(Y){this.trigger(G)}}this._focusedIndex=W;U.addClass(w).attr("id",R);var V=this._getElementLocation(W);if(V==="top"){this.scrollTo(W*S)}else{if(V==="bottom"){this.scrollTo((W*S+S)-this.screenHeight)}else{if(V==="outScreen"){this.scrollTo(W*S)}}}if(Y){this.trigger(h)}}else{this._focusedIndex=W;this.items().removeClass(w);this.scrollToIndex(W)}},focusIndex:function(){return this._focusedIndex},first:function(){this.scrollTo(0);this.focus(0)},last:function(){var Q=this.dataSource.total();this.scrollTo(this.heightContainer.offsetHeight);this.focus(Q)},prev:function(){var Q=this._focusedIndex;var R;if(!isNaN(Q)&&Q>0){Q-=1;this.focus(Q);R=this.focus();if(R&&R.hasClass("k-loading-item")){Q+=1;this.focus(Q)}return Q}},next:function(){var Q=this._focusedIndex;var S=this.dataSource.total()-1;var R;if(!isNaN(Q)&&Q<S){Q+=1;this.focus(Q);R=this.focus();if(R&&R.hasClass("k-loading-item")){Q-=1;this.focus(Q)}return Q}},select:function(X){var S=this,W,V=S.options.selectable!=="multiple",T=!!S._activeDeferred,Y,U=[],R=[];if(X===i){return S._selectedIndexes.slice()}W=S._getIndecies(X);if(S._filter&&!V&&S._deselectFiltered(W)){return}if(!W.length||(V&&!S._filter&&o(W)===o(this._selectedIndexes))){return}R=S._deselect(W);if(V){S._activeDeferred=null;T=false;if(W.length){W=[o(W)]}}var Q=function(){var Z=S._select(W);S.focus(W);if(Z.length||R.length){S.trigger(t,{added:Z,removed:R})}if(S._valueDeferred){S._valueDeferred.resolve()}};Y=S.prefetch(W);if(!T){if(Y){Y.done(Q)}else{Q()}}},isBound:function(){return this._listCreated},mute:function(Q){this._mute=true;I(Q(),this);this._mute=false},filter:function(Q){if(Q===i){return this._filter}this._filter=Q;this._rangeChange=true},skipUpdate:u.noop,_getElementByIndex:function(Q){return this.items().filter(function(R,S){return Q===parseInt(u(S).attr("data-offset-index"),10)})},_clean:function(){this.result=i;this._lastScrollTop=i;this._lastPage=i;u(this.heightContainer).remove();this.heightContainer=i;this.element.empty()},_height:function(){var R=!!this.dataSource.view().length,Q=this.options.height,T=this.options.itemHeight,S=this.dataSource.total();if(!R){Q=0}else{if(Q/T>S){Q=S*T}}return Q},_screenHeight:function(){var Q=this._height(),R=this.element,S=this.content;S.height(Q);this.screenHeight=Q},_getElementLocation:function(R){var V=this.content.scrollTop(),X=this.screenHeight,W=this.options.itemHeight,T=R*W,S=T+W,U=V+X,Q;if(T===(V-W)||(S>V&&T<V)){Q="top"}else{if(T===U||(T<U&&U<S)){Q="bottom"}else{if((T>=V)&&(T<=V+(X-W))){Q="inScreen"}else{Q="outScreen"}}}return Q},_templates:function(){var R={template:this.options.template,placeholderTemplate:this.options.placeholderTemplate,groupTemplate:this.options.groupTemplate,fixedGroupTemplate:this.options.fixedGroupTemplate};for(var Q in R){if(typeof R[Q]!=="function"){R[Q]=v.template(R[Q])}}this.templates=R},_generateItems:function(R,T){var Q=[],S,U=this.options.itemHeight+"px";while(T-->0){S=document.createElement("li");S.tabIndex=-1;S.className=b+" "+K;S.setAttribute("role","option");S.style.height=U;S.style.minHeight=U;R.appendChild(S);Q.push(S)}return Q},_saveInitialRanges:function(){var Q=this.dataSource._ranges;var R=u.Deferred();R.resolve();this._rangesList={};for(var S=0;S<Q.length;S++){this._rangesList[Q[S].start]={end:Q[S].end,deferred:R}}},_createList:function(){var T=this,S=T.content.get(0),Q=T.options,U=T.dataSource,R=U.total();if(T._listCreated){T._clean()}T._saveInitialRanges();T._screenHeight();T._buildValueGetter();T.itemCount=L(T.screenHeight,Q.listScreens,Q.itemHeight);if(T.itemCount>U.total()){T.itemCount=U.total()}T._templates();T._items=T._generateItems(T.element[0],T.itemCount);T._setHeight(Q.itemHeight*U.total());T.options.type=(U.group()||[]).length?"group":"flat";if(T.options.type==="flat"){T.header.hide()}else{T.header.show()}T.getter=T._getter(function(){T._renderItems(true)});T._onScroll=function(X,W){var V=T._listItems(T.getter);return T._fixedHeader(X,V(X,W))};T._renderItems=T._whenChanged(H(S,T._onScroll),g(T._reorderList(T._items,u.proxy(s,T))));T._renderItems();T._calculateGroupPadding(T.screenHeight)},_setHeight:function(Q){var T,S=this.heightContainer;if(!S){S=this.heightContainer=a(this.content[0],y)}else{T=S.offsetHeight}if(Q!==T){S.innerHTML="";while(Q>0){var R=Math.min(Q,250000);a(S).style.height=R+"px";Q-=R}}},_getter:function(){var Q=null,V=this.dataSource,S=V.skip(),U=this.options.type,R=this.itemCount,T={};return function(ab,af){var aa=this;if(!V.inRange(af,R)){if(Q!==af){Q=af;S=af;aa._fetching=true;if(aa._getterDeferred){aa._getterDeferred.reject()}aa._getterDeferred=aa.deferredRange(af);aa._getterDeferred.then(function(){var ah=aa._indexConstraint(aa.content[0].scrollTop);aa._getterDeferred=null;if(af<=ah&&ah<=(af+R)){aa._fetching=true;aa._rangeChange=true;V.range(af,R);aa._rangeChange=false}})}return null}else{if(S!==af){aa._mute=true;aa._fetching=true;aa._rangeChange=true;V.range(af,R);S=af;aa._rangeChange=false;aa._fetching=false;aa._mute=false}var ag;if(U==="group"){if(!T[af]){var ad=T[af]=[];var X=V.view();for(var Z=0,ac=X.length;Z<ac;Z++){var ae=X[Z];for(var Y=0,W=ae.items.length;Y<W;Y++){ad.push({item:ae.items[Y],group:ae.value})}}}ag=T[af][ab-af]}else{ag=V.view()[ab-af]}return ag}}},_fixedHeader:function(V,T){var U=this.currentVisibleGroup,W=this.options.itemHeight,S=Math.floor((V-T.top)/W),R=T.items[S];if(R&&R.item){var Q=R.group;if(Q!==U){this.header[0].innerHTML=Q||"";this.currentVisibleGroup=Q}}return T},_itemMapper:function(ad,W,ab){var aa=this.options.type,R=this.options.itemHeight,Y=this._focusedIndex,T=false,X=false,Q=false,ac=null,Z=-1,V=false,S=this._valueGetter;if(aa==="group"){if(ad){Q=W===0||(this._currentGroup&&this._currentGroup!==ad.group);this._currentGroup=ad.group}ac=ad?ad.group:null;ad=ad?ad.item:null}if(ab.length&&ad){for(var U=0;U<ab.length;U++){V=l(ad)?ab[U]===ad:ab[U]===S(ad);if(V){ab.splice(U,1);T=true;break}}}if(Y===W){X=true}return{item:ad?ad:null,group:ac,newGroup:Q,selected:T,current:X,index:W,top:W*R}},_range:function(R){var W=this.itemCount,V=this._values.slice(),Q=[],U;this._view={};this._currentGroup=null;for(var S=R,T=R+W;S<T;S++){U=this._itemMapper(this.getter(S,R),S,V);Q.push(U);this._view[U.index]=U}this._dataView=Q;return Q},_getDataItemsCollection:function(S,R){var Q=this._range(this._listIndex(S,R));return{index:Q.length?Q[0].index:0,top:Q.length?Q[0].top:0,items:Q}},_listItems:function(Q){var U=this.screenHeight,S=this.itemCount,R=this.options;var T=J(R,U);return u.proxy(function(Y,X){var V=this.result,W=this._lastScrollTop;if(X||!V||!T(V,Y,W)){V=this._getDataItemsCollection(Y,W)}this._lastScrollTop=Y;this.result=V;return V},this)},_whenChanged:function(Q,S){var R;return function(T){var U=Q(T);if(U!==R){R=U;S(U,T)}}},_reorderList:function(U,Q){var S=this;var R=U.length;var T=-Infinity;Q=u.proxy(m(Q,this.templates),this);return function(aa,Z,X){var Y=Z-T;var W,V;if(X||Math.abs(Y)>=R){W=U;V=aa}else{W=O(U,Y);V=Y>0?aa.slice(-Y):aa.slice(0,-Y)}Q(W,V,S._listCreated);T=Z}},_bufferSizes:function(){var Q=this.options;return A(this.screenHeight,Q.listScreens,Q.oppositeBuffer)},_indexConstraint:function(Q){var S=this.itemCount,T=this.options.itemHeight,R=this.dataSource.total();return Math.min(Math.max(R-S,0),Math.max(0,Math.floor(Q/T)))},_listIndex:function(T,S){var R=this._bufferSizes(),Q;Q=T-((T>S)?R.down:R.up);return this._indexConstraint(Q)},_selectable:function(){if(this.options.selectable){this._selectProxy=u.proxy(this,"_clickHandler");this.element.on(E+j,"."+b,this._selectProxy)}},_getIndecies:function(S){var R=[],T;if(typeof S==="function"){T=this.dataSource.flatView();for(var Q=0;Q<T.length;Q++){if(S(T[Q])){R.push(Q);break}}}if(typeof S==="number"){R.push(S)}if(S instanceof jQuery){S=parseInt(S.attr("data-offset-index"),10);if(!isNaN(S)){R.push(S)}}if(S instanceof Array){R=S}return R},_deselect:function(V){var W=[],X,S,Q,aa=this._selectedIndexes,U=0,Y=this.options.selectable,R=0,ab;if(V[U]===-1){for(var Z=0;Z<aa.length;Z++){S=aa[Z];this._getElementByIndex(S).removeClass(p);W.push({index:S,position:Z,dataItem:this._selectedDataItems[Z]})}this._values=[];this._selectedDataItems=[];this._selectedIndexes=[];V.splice(0,V.length);return W}if(Y===true){X=V[U];S=aa[U];if(S!==i&&X!==S){this._getElementByIndex(S).removeClass(p);W.push({index:S,position:U,dataItem:this._selectedDataItems[U]});this._values=[];this._selectedDataItems=[];this._selectedIndexes=[]}}else{if(Y==="multiple"){for(var T=0;T<V.length;T++){U=u.inArray(V[T],aa);S=aa[U];if(S!==i){ab=this._getElementByIndex(S);if(!ab.hasClass("k-state-selected")){continue}ab.removeClass(p);this._values.splice(U,1);this._selectedIndexes.splice(U,1);Q=this._selectedDataItems.splice(U,1);V.splice(T,1);W.push({index:S,position:U+R,dataItem:Q});R++;T--}}}}return W},_deselectFiltered:function(Y){var Q=this.element[0].children;var V,U,S;var X=this._values;var T=[];var W=0;var R;for(;W<Y.length;W++){S=-1;U=Y[W];V=this._valueGetter(this._view[U].item);for(R=0;R<X.length;R++){if(V==X[R]){S=R;break}}if(S>-1){T.push(this.removeAt(S));u(Q[U]).removeClass("k-state-selected")}}if(T.length){this.trigger("change",{added:[],removed:T});return true}return false},_select:function(V){var W=this,ab=this.options.selectable!=="multiple",Q=this.dataSource,Y,R,X,U,Z,ac,ad,S=this.itemCount,T=this._valueGetter,aa=[];if(ab){W._selectedIndexes=[];W._selectedDataItems=[];W._values=[]}ad=Q.skip();u.each(V,function(af,ae){var ah=ae<S?1:Math.floor(ae/S)+1;var ag=(ah-1)*S;W.mute(function(){Q.range(ag,S);R=W._findDataItem([ae-ag]);W._selectedIndexes.push(ae);W._selectedDataItems.push(R);W._values.push(l(R)?R:T(R));aa.push({index:ae,dataItem:R});W._getElementByIndex(ae).addClass(p);Q.range(ad,S)})});return aa},_clickHandler:function(R){var Q=u(R.currentTarget);if(!R.isDefaultPrevented()&&Q.attr("data-uid")){this.trigger(E,{item:Q})}},_buildValueGetter:function(){this._valueGetter=v.getter(this.options.dataValueField)},_calculateGroupPadding:function(Q){var T=this.items().first(),R=this.header,S=0;if(R[0]&&R[0].style.display!=="none"){if(Q!=="auto"){S=v.support.scrollbar()}S+=parseFloat(T.css("border-right-width"),10)+parseFloat(T.children(".k-group").css("right"),10);R.css("padding-right",S)}}});v.ui.VirtualList=c;v.ui.plugin(c)})(window.kendo.jQuery);(function(w){var x=window.kendo,A=x.ui,e=A.Widget,q=x.keys,y=".kendoSchedulerView",s=Math;function o(M,N){var L=[];function O(R,Q){Q=Q[N];if(Q){var S=L[R]=L[R]||[];for(var P=0;P<Q.length;P++){S.push(Q[P]);O(R+1,Q[P])}}}O(0,M);return L}function B(){if(x.support.cssBorderSpacing){return""}return'cellspacing="0"'}function p(M,L){if(!M.length){return""}return"<table "+B()+' class="'+w.trim("k-scheduler-table "+(L||""))+'"><tr>'+M.join("</tr><tr>")+"</tr></table>"}function K(M,L){if(!M.length){return""}return"<div style='position:relative'>"+p(M,L)+"</div>"}function z(N,O,M){var P=[];if(M>0){for(var L=0;L<N;L++){P.push("<th>&nbsp;</th>")}}if(O){P.push('<th class="k-scheduler-times-all-day">'+O.text+"</th>")}if(M<1){return w()}return w('<div class="k-scheduler-times">'+p(P)+"</div>")}function a(W,U,S){var Y=[];var V;for(var X=0;X<W.length;X++){var N=W[X];var O=[];var P=U/N.length;for(V=0;V<N.length;V++){var R=N[V];O.push('<th colspan="'+(R.colspan||P)+'" class="'+(R.className||"")+'">'+R.text+"</th>")}Y.push(O.join(""))}var T=[];if(S){var M=W[W.length-1];var Q=[];var L=S.cellContent;for(V=0;V<M.length;V++){Q.push('<td class="'+(M[V].className||"")+'">'+(L?L(V):"&nbsp;")+"</th>")}T.push(Q.join(""))}return w('<div class="k-scheduler-header k-state-default"><div class="k-scheduler-header-wrap">'+p(Y)+K(T,"k-scheduler-header-all-day")+"</div></div>")}function r(M,S){var T=new Array(S).join().split(",");var N=[];var R;for(var P=0;P<M.length;P++){var L=M[P];var O=S/L.length;var Q;for(R=0;R<L.length;R++){Q=L[R].className||"";if(L[R].allDay){Q="k-scheduler-times-all-day"}T[O*R]+='<th class="'+Q+'" rowspan="'+O+'">'+L[R].text+"</th>"}}for(R=0;R<S;R++){N.push(T[R])}if(S<1){return w()}return w('<div class="k-scheduler-times">'+p(N)+"</div>")}function i(){return w('<div class="k-scheduler-content"><table '+B()+' class="k-scheduler-table"/></div>')}var D='<div class="k-marquee k-scheduler-marquee"><div class="k-marquee-color"></div><div class="k-marquee-text"><div class="k-label-top"></div><div class="k-label-bottom"></div></div></div>';x.ui.scheduler={};var l=x.Class.extend({init:function(L){this._index=L;this._timeSlotCollections=[];this._daySlotCollections=[]},addTimeSlotCollection:function(L,M){return this._addCollection(L,M,this._timeSlotCollections)},addDaySlotCollection:function(L,M){return this._addCollection(L,M,this._daySlotCollections)},_addCollection:function(L,N,M){var O=new C(L,N,this._index,M.length);M.push(O);return O},timeSlotCollectionCount:function(){return this._timeSlotCollections.length},daySlotCollectionCount:function(){return this._daySlotCollections.length},daySlotByPosition:function(L,M){return this._slotByPosition(L,M,this._daySlotCollections)},timeSlotByPosition:function(L,M){return this._slotByPosition(L,M,this._timeSlotCollections)},_slotByPosition:function(S,R,M){var N=x.support.browser;for(var Q=0;Q<M.length;Q++){var O=M[Q];for(var P=0;P<O.count();P++){var T=O.at(P);var L=T.offsetWidth;var U=T.clientHeight;if(N.msie){U=T.clientHeight-1;L=T.clientWidth}if(S>=T.offsetLeft&&S<T.offsetLeft+L&&R>=T.offsetTop&&R<=T.offsetTop+U){return T}}}},refresh:function(){var L;for(L=0;L<this._daySlotCollections.length;L++){this._daySlotCollections[L].refresh()}for(L=0;L<this._timeSlotCollections.length;L++){this._timeSlotCollections[L].refresh()}},timeSlotRanges:function(N,M){var O=this._timeSlotCollections;var P=this._startSlot(N,O);if(!P.inRange&&N>=P.slot.end){P=null}var L=P;if(N<M){L=this._endSlot(M,O)}if(L&&!L.inRange&&M<=L.slot.start){L=null}if(P===null&&L===null){return[]}if(P===null){P={inRange:true,slot:O[L.slot.collectionIndex].first()}}if(L===null){L={inRange:true,slot:O[P.slot.collectionIndex].last()}}return this._continuousRange(J,O,P,L)},daySlotRanges:function(O,M,N){var P=this._daySlotCollections;var Q=this._startSlot(O,P,N);if(!Q.inRange&&O>=Q.slot.end){Q=null}var L=Q;if(O<M){L=this._endSlot(M,P,N)}if(L&&!L.inRange&&M<=L.slot.start){L=null}if(Q===null&&L===null){return[]}if(Q===null){do{O+=x.date.MS_PER_DAY;Q=this._startSlot(O,P,N)}while(!Q.inRange&&O>=Q.slot.end)}if(L===null){do{M-=x.date.MS_PER_DAY;L=this._endSlot(M,P,N)}while(!L.inRange&&M<=L.slot.start)}return this._continuousRange(b,P,Q,L)},_continuousRange:function(S,R,N,O){var X=N.slot;var M=O.slot;var Z=X.collectionIndex;var Q=M.collectionIndex;var L=[];for(var V=Z;V<=Q;V++){var T=R[V];var P=T.first();var Y=T.last();var W=false;var U=false;if(V==Z){U=!N.inRange}if(V==Q){W=!O.inRange}if(P.start<X.start){P=X}if(Y.start>M.start){Y=M}if(Z<Q){if(V==Z){W=true}else{if(V==Q){U=true}else{W=U=true}}}L.push(new S({start:P,end:Y,collection:T,head:W,tail:U}))}return L},slotRanges:function(N,O){var M=N._startTime||x.date.toUtcTime(N.start);var L=N._endTime||x.date.toUtcTime(N.end);if(O===undefined){O=N.isMultiDay()}if(O){return this.daySlotRanges(M,L,N.isAllDay)}return this.timeSlotRanges(M,L)},ranges:function(N,L,O,M){if(typeof N!="number"){N=x.date.toUtcTime(N)}if(typeof L!="number"){L=x.date.toUtcTime(L)}if(O){return this.daySlotRanges(N,L,M)}return this.timeSlotRanges(N,L)},_startCollection:function(M,N){for(var L=0;L<N.length;L++){var O=N[L];if(O.startInRange(M)){return O}}return null},_endCollection:function(M,O,N){for(var L=0;L<O.length;L++){var P=O[L];if(P.endInRange(M,N)){return P}}return null},_getCollections:function(L){return L?this._daySlotCollections:this._timeSlotCollections},continuousSlot:function(P,L){var N=L?-1:1;var M=this._getCollections(P.isDaySlot);var O=M[P.collectionIndex+N];return O?O[L?"last":"first"]():undefined},firstSlot:function(){var L=this._getCollections(this.daySlotCollectionCount());return L[0].first()},lastSlot:function(){var L=this._getCollections(this.daySlotCollectionCount());return L[L.length-1].last()},upSlot:function(O,L){var M=this;var N=function(Q,P,R){var S=R===0;if(!L&&!Q&&S&&M.daySlotCollectionCount()){return M._daySlotCollections[0].at(P)}};if(!this.timeSlotCollectionCount()){L=true}return this._verticalSlot(O,-1,N)},downSlot:function(O,L){var N=this;var M=function(Q,P,R){if(!L&&Q&&N.timeSlotCollectionCount()){return N._timeSlotCollections[R].at(0)}};if(!this.timeSlotCollectionCount()){L=true}return this._verticalSlot(O,1,M)},leftSlot:function(L){return this._horizontalSlot(L,-1)},rightSlot:function(L){return this._horizontalSlot(L,1)},_horizontalSlot:function(R,P){var N=R.index;var M=R.isDaySlot;var L=R.collectionIndex;var O=this._getCollections(M);if(M){N+=P}else{L+=P}var Q=O[L];return Q?Q.at(N):undefined},_verticalSlot:function(S,Q,O){var N=S.index;var M=S.isDaySlot;var L=S.collectionIndex;var P=this._getCollections(M);S=O(M,L,N);if(S){return S}if(M){L+=Q}else{N+=Q}var R=P[L];return R?R.at(N):undefined},_collection:function(L,N){var M=N?this._daySlotCollections:this._timeSlotCollections;return M[L]},_startSlot:function(N,M,L){var P=this._startCollection(N,M);var O=true;if(!P){P=M[0];O=false}var Q=P.slotByStartDate(N,L);if(!Q){Q=P.first();O=false}return{slot:Q,inRange:O}},_endSlot:function(N,M,L){var P=this._endCollection(N,M,L);var O=true;if(!P){P=M[M.length-1];O=false}var Q=P.slotByEndDate(N,L);if(!Q){Q=P.last();O=false}return{slot:Q,inRange:O}},getSlotCollection:function(L,M){return this[M?"getDaySlotCollection":"getTimeSlotCollection"](L)},getTimeSlotCollection:function(L){return this._timeSlotCollections[L]},getDaySlotCollection:function(L){return this._daySlotCollections[L]}});var I=x.Class.extend({init:function(L){w.extend(this,L)},innerHeight:function(){var P=this.collection;var O=this.start.index;var N=this.end.index;var L=0;for(var M=O;M<=N;M++){L+=P.at(M).offsetHeight}return L},events:function(){return this.collection.events()},addEvent:function(L){this.events().push(L)},startSlot:function(){if(this.start.offsetLeft>this.end.offsetLeft){return this.end}return this.start},endSlot:function(){if(this.start.offsetLeft>this.end.offsetLeft){return this.start}return this.end}});var J=I.extend({innerHeight:function(){var P=this.collection;var O=this.start.index;var N=this.end.index;var L=0;for(var M=O;M<=N;M++){L+=P.at(M).offsetHeight}return L},outerRect:function(N,M,L){return this._rect("offset",N,M,L)},_rect:function(Y,O,R,Q){var X;var L;var P;var Z;var W=this.start;var N=this.end;var T=x.support.isRtl(W.element);if(typeof O!="number"){O=x.date.toUtcTime(O)}if(typeof R!="number"){R=x.date.toUtcTime(R)}if(Q){X=W.offsetTop;L=N.offsetTop+N[Y+"Height"];if(T){P=N.offsetLeft;Z=W.offsetLeft+W[Y+"Width"]}else{P=W.offsetLeft;Z=N.offsetLeft+N[Y+"Width"]}}else{var S=O-W.start;if(S<0){S=0}var M=W.end-W.start;X=W.offsetTop+W[Y+"Height"]*S/M;var V=N.end-R;if(V<0){V=0}var U=N.end-N.start;L=N.offsetTop+N[Y+"Height"]-N[Y+"Height"]*V/U;if(T){P=Math.round(N.offsetLeft+N[Y+"Width"]*V/U);Z=Math.round(W.offsetLeft+W[Y+"Width"]-W[Y+"Width"]*S/M)}else{P=Math.round(W.offsetLeft+W[Y+"Width"]*S/M);Z=Math.round(N.offsetLeft+N[Y+"Width"]-N[Y+"Width"]*V/U)}}return{top:X,bottom:L,left:P===0?P:P+1,right:Z}},innerRect:function(N,M,L){return this._rect("client",N,M,L)}});var b=I.extend({innerWidth:function(){var Q=this.collection;var P=this.start.index;var O=this.end.index;var L=0;var N=P!==O?"offsetWidth":"clientWidth";for(var M=P;M<=O;M++){L+=Q.at(M)[N]}return L}});var C=x.Class.extend({init:function(M,O,N,L){this._slots=[];this._events=[];this._start=x.date.toUtcTime(M);this._end=x.date.toUtcTime(O);this._groupIndex=N;this._collectionIndex=L},refresh:function(){for(var L=0;L<this._slots.length;L++){this._slots[L].refresh()}},startInRange:function(L){return this._start<=L&&L<this._end},endInRange:function(M,N){var L=N?M<this._end:M<=this._end;return this._start<=M&&L},slotByStartDate:function(M){var N=M;if(typeof N!="number"){N=x.date.toUtcTime(M)}for(var L=0;L<this._slots.length;L++){var O=this._slots[L];if(O.startInRange(N)){return O}}return null},slotByEndDate:function(N,L){var O=N;if(typeof O!="number"){O=x.date.toUtcTime(N)}if(L){return this.slotByStartDate(N,false)}for(var M=0;M<this._slots.length;M++){var P=this._slots[M];if(P.endInRange(O)){return P}}return null},count:function(){return this._slots.length},events:function(){return this._events},addTimeSlot:function(M,P,L,N){var O=new u(M,P,L,this._groupIndex,this._collectionIndex,this._slots.length,N);this._slots.push(O)},addDaySlot:function(M,P,L,N){var O=new j(M,P,L,this._groupIndex,this._collectionIndex,this._slots.length,N);this._slots.push(O)},first:function(){return this._slots[0]},last:function(){return this._slots[this._slots.length-1]},at:function(L){return this._slots[L]}});var f=x.Class.extend({init:function(O,Q,M,P,L,N){this.element=O;this.clientWidth=O.clientWidth;this.clientHeight=O.clientHeight;this.offsetWidth=O.offsetWidth;this.offsetHeight=O.offsetHeight;this.offsetTop=O.offsetTop;this.offsetLeft=O.offsetLeft;this.start=Q;this.end=M;this.element=O;this.groupIndex=P;this.collectionIndex=L;this.index=N;this.isDaySlot=false},startDate:function(){return x.timezone.toLocalDate(this.start)},endDate:function(){return x.timezone.toLocalDate(this.end)},startInRange:function(L){return this.start<=L&&L<this.end},endInRange:function(L){return this.start<L&&L<=this.end},startOffset:function(){return this.start},endOffset:function(){return this.end}});var u=f.extend({init:function(O,R,M,P,L,N,Q){f.fn.init.apply(this,arguments);this.isHorizontal=Q?true:false},refresh:function(){var L=this.element;this.clientWidth=L.clientWidth;this.clientHeight=L.clientHeight;this.offsetWidth=L.offsetWidth;this.offsetHeight=L.offsetHeight;this.offsetTop=L.offsetTop;this.offsetLeft=L.offsetLeft},offsetX:function(L,M){if(L){return this.offsetLeft+M}else{return this.offsetLeft+M}},startInRange:function(L){return this.start<=L&&L<this.end},endInRange:function(L){return this.start<L&&L<=this.end},startOffset:function(M,S,L){if(L){return this.start}var Q=w(this.element).offset();var P=this.end-this.start;var R;var O;if(this.isHorizontal){var N=x.support.isRtl(this.element);R=M-Q.left;O=Math.floor(P*(R/this.offsetWidth));if(N){return this.start+P-O}}else{R=S-Q.top;O=Math.floor(P*(R/this.offsetHeight))}return this.start+O},endOffset:function(M,S,L){if(L){return this.end}var Q=w(this.element).offset();var P=this.end-this.start;var R;var O;if(this.isHorizontal){var N=x.support.isRtl(this.element);R=M-Q.left;O=Math.floor(P*(R/this.offsetWidth));if(N){return this.start+P-O}}else{R=S-Q.top;O=Math.floor(P*(R/this.offsetHeight))}return this.start+O}});var j=f.extend({init:function(O,R,M,P,L,N,Q){f.fn.init.apply(this,arguments);this.eventCount=Q;this.isDaySlot=true;if(this.element.children.length){this.firstChildHeight=this.element.children[0].offsetHeight+3;this.firstChildTop=this.element.children[0].offsetTop}else{this.firstChildHeight=3;this.firstChildTop=0}},refresh:function(){this.clientHeight=this.element.clientHeight;this.offsetTop=this.element.offsetTop},startDate:function(){var L=new Date(this.start);return x.timezone.apply(L,"Etc/UTC")},endDate:function(){var L=new Date(this.end);return x.timezone.apply(L,"Etc/UTC")},startInRange:function(L){return this.start<=L&&L<this.end},endInRange:function(L){return this.start<L&&L<=this.end}});var c;function F(){c=c?c:x.support.scrollbar();return c}x.ui.SchedulerView=e.extend({init:function(M,L){e.fn.init.call(this,M,L);this._scrollbar=F();this._isRtl=x.support.isRtl(M);this._resizeHint=w();this._moveHint=w();this._cellId=x.guid();this._resourcesForGroups();this._selectedSlots=[]},_isMobile:function(){var L=this.options;return(L.mobile===true&&x.support.mobileOS)||L.mobile==="phone"||L.mobile==="tablet"},_isMobilePhoneView:function(){var L=this.options;return(L.mobile===true&&x.support.mobileOS&&!x.support.mobileOS.tablet)||L.mobile==="phone"},_addResourceView:function(){var L=new l(this.groups.length);this.groups.push(L);return L},dateForTitle:function(){return x.format(this.options.selectedDateFormat,this.startDate(),this.endDate())},shortDateForTitle:function(){return x.format(this.options.selectedShortDateFormat,this.startDate(),this.endDate())},_changeGroup:function(L,M){var O=M?"prevGroupSlot":"nextGroupSlot";var N=this[O](L.start,L.groupIndex,L.isAllDay);if(N){L.groupIndex+=M?-1:1}return N},_changeGroupContinuously:function(){return null},_changeViewPeriod:function(){return false},_horizontalSlots:function(S,N,U,P){var L=P?"leftSlot":"rightSlot";var Q=N[0].start;var M=N[N.length-1].end;var T=this.groups[S.groupIndex];if(!U){var R=this._normalizeHorizontalSelection(S,N,P);if(R){Q=M=R}}Q=T[L](Q);M=T[L](M);if(!U&&!this._isVerticallyGrouped()&&(!Q||!M)){Q=M=this._changeGroup(S,P)}var O;if(!Q||!M){O=this._continuousSlot(S,N,P);O=this._changeGroupContinuously(S,O,U,P);if(O){Q=M=O}}return{startSlot:Q,endSlot:M}},_verticalSlots:function(R,N,T,O){var P=N[0].start;var M=N[N.length-1].end;var S=this.groups[R.groupIndex];if(!T){var Q=this._normalizeVerticalSelection(R,N,O);if(Q){P=M=Q}}var L=O?"upSlot":"downSlot";P=S[L](P,T);M=S[L](M,T);if(!T&&this._isVerticallyGrouped()&&(!P||!M)){P=M=this._changeGroup(R,O)}return{startSlot:P,endSlot:M}},_normalizeHorizontalSelection:function(){return null},_normalizeVerticalSelection:function(N,L,M){var O;if(M){O=L[0].start}else{O=L[L.length-1].end}return O},_continuousSlot:function(){return null},constrainSelection:function(L){var M=this.groups[0];var N;if(!this.inRange(L)){N=M.firstSlot();L.isAllDay=N.isDaySlot;L.start=N.startDate();L.end=N.endDate()}else{if(!M.daySlotCollectionCount()){L.isAllDay=false}}if(!this.groups[L.groupIndex]){L.groupIndex=0}},move:function(S,U,N){var O=false;var T=this.groups[S.groupIndex];if(!T.timeSlotCollectionCount()){S.isAllDay=true}var M=T.ranges(S.start,S.end,S.isAllDay,false);var R,L,Q,P;if(U===q.DOWN||U===q.UP){O=true;Q=U===q.UP;this._updateDirection(S,M,N,Q,true);P=this._verticalSlots(S,M,N,Q);if(!P.startSlot&&!N&&this._changeViewPeriod(S,Q,true)){return O}}else{if(U===q.LEFT||U===q.RIGHT){O=true;Q=U===q.LEFT;this._updateDirection(S,M,N,Q,false);P=this._horizontalSlots(S,M,N,Q);if(!P.startSlot&&!N&&this._changeViewPeriod(S,Q,false)){return O}}}if(O){R=P.startSlot;L=P.endSlot;if(N){var V=S.backward;if(V&&R){S.start=R.startDate()}else{if(!V&&L){S.end=L.endDate()}}}else{if(R&&L){S.isAllDay=R.isDaySlot;S.start=R.startDate();S.end=L.endDate()}}S.events=[]}return O},moveToEventInGroup:function(S,Q,R,O){var T=S._continuousEvents||[];var U,L;var N=O?-1:1;var M=T.length;var P=O?M-1:0;while(P<M&&P>-1){L=T[P];if((!O&&L.start.startDate()>=Q.startDate())||(O&&L.start.startDate()<=Q.startDate())){if(R.length){L=T[P+N]}if(L&&w.inArray(L.uid,R)===-1){U=!!L;break}}P+=N}return L},moveToEvent:function(Q,O){var S=Q.groupIndex;var R=this.groups[S];var P=R.ranges(Q.start,Q.end,Q.isAllDay,false)[0].start;var M=this.groups.length;var N=O?-1:1;var T=Q.events;var L;while(S<M&&S>-1){L=this.moveToEventInGroup(R,P,T,O);S+=N;R=this.groups[S];if(!R||L){break}T=[];if(O){P=R.lastSlot()}else{P=R.firstSlot(true)}}if(L){Q.events=[L.uid];Q.start=L.start.startDate();Q.end=L.end.endDate();Q.isAllDay=L.start.isDaySlot;Q.groupIndex=L.start.groupIndex}return !!L},current:function(L){if(L!==undefined){this._current=L;if(this.content.has(L)){this._scrollTo(L,this.content[0])}}else{return this._current}},select:function(L){this.clearSelection();if(!this._selectEvents(L)){this._selectSlots(L)}},_selectSlots:function(T){var R=T.isAllDay;var U=this.groups[T.groupIndex];if(!U.timeSlotCollectionCount()){R=true}this._selectedSlots=[];var L=U.ranges(T.start,T.end,R,false);var N;var S;for(var M=0;M<L.length;M++){var O=L[M];var P=O.collection;for(var Q=O.start.index;Q<=O.end.index;Q++){S=P.at(Q);N=S.element;N.setAttribute("aria-selected",true);G(N);this._selectedSlots.push({start:S.startDate(),end:S.endDate(),element:N})}}if(T.backward){N=L[0].start.element}this.current(N)},_selectEvents:function(O){var Q=false;var N=O.events;var R=this.groups[O.groupIndex]._continuousEvents||[];var M,P=R.length;if(!N[0]||!R[0]){return Q}var L=w();O.events=[];for(M=0;M<P;M++){if(w.inArray(R[M].uid,N)>-1){L=L.add(R[M].element);O.events.push(R[M].uid)}}if(L[0]){L.addClass("k-state-selected").attr("aria-selected",true);this.current(L.last()[0]);this._selectedSlots=[];Q=true}return Q},inRange:function(N){var L=this.startDate();var O=x.date.addDays(this.endDate(),1);var P=N.start;var M=N.end;return L<=P&&P<O&&L<M&&M<=O},_resourceValue:function(M,L){if(M.valuePrimitive){L=x.getter(M.dataValueField)(L)}return L},_resourceBySlot:function(S){var Q=this.groupedResources;var M={};if(Q.length){var P=S.groupIndex;for(var L=Q.length-1;L>=0;L--){var O=Q[L];var N=this._resourceValue(O,O.dataSource.view()[P%O.dataSource.total()]);if(O.multiple){N=[N]}var R=x.setter(O.field);R(M,N);P=Math.floor(P/O.dataSource.total())}}return M},_createResizeHint:function(O,N,M,L){return w(D).css({left:O,top:N,width:M,height:L})},_removeResizeHint:function(){this._resizeHint.remove();this._resizeHint=w()},_removeMoveHint:function(){this._moveHint.remove();this._moveHint=w()},_scrollTo:function(P,N){var O=P.offsetTop,M=P.offsetHeight,S=N.scrollTop,R=N.clientHeight,Q=O+M,L=0;if(S>O){L=O}else{if(Q>(S+R)){if(M<=R){L=(Q-R)}else{L=O}}else{L=S}}N.scrollTop=L},_shouldInverseResourceColor:function(N){var O=new m(N.color).isDark();var L=this.element.css("color");var M=new m(L).isDark();return(O==M)},_eventTmpl:function(S,L){var T=this.options,N=w.extend({},x.Template,T.templateSettings),O=N.paramName,P="",Q=typeof S,M={storage:{},count:0};if(Q==="function"){M.storage["tmpl"+M.count]=S;P+="#=this.tmpl"+M.count+"("+O+")#";M.count++}else{if(Q==="string"){P+=S}}var R=x.template(x.format(L,P),N);if(M.count>0){R=w.proxy(R,M.storage)}return R},eventResources:function(L){var N=[],X=this.options;if(!X.resources){return N}for(var W=0;W<X.resources.length;W++){var O=X.resources[W];var U=O.field;var S=x.getter(U)(L);if(S==null){continue}if(!O.multiple){S=[S]}var Q=O.dataSource.view();for(var R=0;R<S.length;R++){var M=null;var V=S[R];if(!O.valuePrimitive){V=x.getter(O.dataValueField)(V)}for(var T=0;T<Q.length;T++){if(Q[T].get(O.dataValueField)==V){M=Q[T];break}}if(M!==null){var P=x.getter(O.dataColorField)(M);N.push({field:O.field,title:O.title,name:O.name,text:x.getter(O.dataTextField)(M),value:V,color:P})}}}return N},createLayout:function(R){var O=-1;if(!R.rows){R.rows=[]}for(var L=0;L<R.rows.length;L++){if(R.rows[L].allDay){O=L;break}}var P=R.rows[O];if(O>=0){R.rows.splice(O,1)}var Q=this.columnLevels=o(R,"columns");var N=this.rowLevels=o(R,"rows");this.table=w("<table "+B()+' class="k-scheduler-layout k-scheduler-'+this.name+'view"/>');var M=N[N.length-1].length;this.table.append(this._topSection(Q,P,M));this.table.append(this._bottomSection(Q,N,M));this.element.append(this.table);this._scroller()},refreshLayout:function(){var R=this,S=R.element.find(">.k-scheduler-toolbar"),V=R.element.innerHeight(),W=this._scrollbar,P=0,L=this._isRtl?"left":"right";for(var T=0;T<S.length;T++){V-=S.eq(T).outerHeight()}if(R.datesHeader){P=R.datesHeader.outerHeight()}if(R.timesHeader&&R.timesHeader.outerHeight()>P){P=R.timesHeader.outerHeight()}if(R.datesHeader&&R.timesHeader){var U=R.datesHeader.find("table:first tr");R.timesHeader.find("tr").height(function(X){w(this).height(U.eq(X).height())})}if(P){V-=P}if(R.footer){V-=R.footer.outerHeight()}var O=function(Z){var Y,X;if(Z[0].style.height){return true}else{Y=Z.height()}Z.height("auto");X=Z.height();if(Y!=X){Z.height("");return true}Z.height("");return false};var N=R.content[0],Q=!x.support.kineticScrollNeeded?W:0;if(O(R.element)){if(V>W*2){R.content.height(V)}else{R.content.height(W*2+1)}R.times.height(N.clientHeight);var M=R.times.find("table");if(M.length){M.height(R.content.find("table")[0].clientHeight)}}if(N.offsetWidth-N.clientWidth>0){R.table.addClass("k-scrollbar-v");R.datesHeader.css("padding-"+L,Q-parseInt(R.datesHeader.children().css("border-"+L+"-width"),10))}else{R.datesHeader.css("padding-"+L,"")}if(N.offsetHeight-N.clientHeight>0||N.clientHeight>R.content.children(".k-scheduler-table").height()){R.table.addClass("k-scrollbar-h")}else{R.table.removeClass("k-scrollbar-h")}},_topSection:function(N,M,L){this.timesHeader=z(N.length,M,L);var O=N[N.length-1].length;this.datesHeader=a(N,O,M);return w("<tr>").append(this.timesHeader.add(this.datesHeader).wrap("<td>").parent())},_bottomSection:function(N,M,L){this.times=r(M,L);this.content=i(N[N.length-1],M[M.length-1]);return w("<tr>").append(this.times.add(this.content).wrap("<td>").parent())},_scroller:function(){var M=this;this.content.bind("scroll"+y,function(){M.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(this.scrollLeft);M.times.scrollTop(this.scrollTop)});var L=x.touchScroller(this.content,{avoidScrolling:function(N){return w(N.event.target).closest(".k-event.k-event-active").length>0}});if(L&&L.movable){this._touchScroller=L;this.content=L.scrollElement;L.movable.bind("change",function(N){M.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(-N.sender.x);M.times.scrollTop(-N.sender.y)})}},_resourcesForGroups:function(){var N=[];var M=this.options.group;var P=this.options.resources;M=M&&M.resources?M.resources:[];if(P&&M.length){for(var L=0,O=P.length;L<O;L++){for(var Q=0,R=M.length;Q<R;Q++){if(P[L].name===M[Q]){N.push(P[L])}}}}this.groupedResources=N},_createColumnsLayout:function(N,L,M){return g("columns",N,L,M)},_groupOrientation:function(){var L=this.options.group;return L&&L.resources?L.orientation:"horizontal"},_isVerticallyGrouped:function(){return this.groupedResources.length&&this._groupOrientation()==="vertical"},_createRowsLayout:function(N,L,M){return g("rows",N,L,M)},selectionByElement:function(){return null},clearSelection:function(){this.content.find(".k-state-selected").removeAttr("id").attr("aria-selected",false).removeClass("k-state-selected")},destroy:function(){var L=this;e.fn.destroy.call(this);if(L.table){x.destroy(L.table);L.table.remove()}L.groups=null;L.table=null;L.content=null;L.times=null;L.datesHeader=null;L.timesHeader=null;L.footer=null;L._resizeHint=null;L._moveHint=null},calendarInfo:function(){return x.getCulture().calendars.standard},prevGroupSlot:function(L,M,O){var P;var N=this.groups[M];var Q=N.ranges(L,L,O,false)[0].start;if(M<=0){return}if(this._isVerticallyGrouped()){if(!N.timeSlotCollectionCount()){P=N._collection(N.daySlotCollectionCount()-1,true);return P.at(Q.index)}else{P=N._collection(O?Q.index:Q.collectionIndex,false);return P.last()}}else{if(!N.timeSlotCollectionCount()){P=N._collection(Q.collectionIndex,true);return P.last()}else{P=N._collection(O?0:N.timeSlotCollectionCount()-1,O);return O?P.last():P.at(Q.index)}}},nextGroupSlot:function(M,N,P){var Q;var O=this.groups[N];var R=O.ranges(M,M,P,false)[0].start;var L;if(N>=this.groups.length-1){return}if(this._isVerticallyGrouped()){if(!O.timeSlotCollectionCount()){Q=O._collection(0,true);return Q.at(R.index)}else{L=O.daySlotCollectionCount();Q=O._collection(L?0:R.collectionIndex,L);return P?Q.first():Q.at(R.collectionIndex)}}else{if(!O.timeSlotCollectionCount()){Q=O._collection(R.collectionIndex,true);return Q.first()}else{Q=O._collection(0,P);return P?Q.first():Q.at(R.index)}}},_eventOptionsForMove:function(L){return{}},_updateEventForResize:function(L){return},_updateEventForSelection:function(L){return L}});function v(P,S,M){var L,N,R,Q,O;for(L=P.length-1;L>=0;L--){N=n(P[L]);R=N.start;O=N.end;Q=R<=S&&O>=S;if(Q||(R>=S&&O<=M)||(S<=R&&M>=R)){if(R<S){S=R}if(O>M){M=O}}}return d(P,S,M)}function n(L){return{start:L.start,end:L.end}}function d(P,Q,O){var M=[];for(var L=0;L<P.length;L++){var N=n(P[L]);if((N.start<Q&&N.end>Q)||(N.start>=Q&&N.end<=O)){M.push(P[L])}}return M}function t(L){return E(L)}function k(L){return E(L)}var m=function(R){var N=this,M=m.formats,Q,P,S,O,L;if(arguments.length===1){R=N.resolveColor(R);for(O=0;O<M.length;O++){Q=M[O].re;P=M[O].process;S=Q.exec(R);if(S){L=P(S);N.r=L[0];N.g=L[1];N.b=L[2]}}}else{N.r=arguments[0];N.g=arguments[1];N.b=arguments[2]}N.r=N.normalizeByte(N.r);N.g=N.normalizeByte(N.g);N.b=N.normalizeByte(N.b)};m.prototype={resolveColor:function(L){L=L||"#000";if(L.charAt(0)=="#"){L=L.substr(1,6)}L=L.replace(/ /g,"");L=L.toLowerCase();L=m.namedColors[L]||L;return L},normalizeByte:function(L){return(L<0||isNaN(L))?0:((L>255)?255:L)},percBrightness:function(){var L=this;return s.sqrt(0.241*L.r*L.r+0.691*L.g*L.g+0.068*L.b*L.b)},isDark:function(){var M=this;var L=M.percBrightness();return L<180}};m.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(L){return[parseInt(L[1],10),parseInt(L[2],10),parseInt(L[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(L){return[parseInt(L[1],16),parseInt(L[2],16),parseInt(L[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(L){return[parseInt(L[1]+L[1],16),parseInt(L[2]+L[2],16),parseInt(L[3]+L[3],16)]}}];m.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};function E(M){var O=[];for(var Q=0;Q<M.length;Q++){var L=M[Q];var S=n(L);var N=null;for(var P=0,T=O.length;P<T;P++){var R=S.start>O[P].end;if(S.start<O[P].start||R){N=O[P];if(N.end<S.end){N.end=S.end}break}}if(!N){N={start:S.start,end:S.end,events:[]};O.push(N)}N.events.push(L)}return O}function g(L,N,T,S){var O=N[0];if(O){var M=[];var Q=O.dataSource.view();for(var R=0;R<Q.length;R++){var P={text:S({text:x.htmlEncode(x.getter(O.dataTextField)(Q[R])),color:x.getter(O.dataColorField)(Q[R]),field:O.field,title:O.title,name:O.name,value:x.getter(O.dataValueField)(Q[R])}),className:"k-slot-cell"};P[L]=g(L,N.slice(1),T,S);M.push(P)}return M}return T}function H(L){return function(N){if(w.isArray(N)||N instanceof x.data.ObservableArray){for(var M=0;M<N.length;M++){if(N[M]==L){return true}}return false}return N==L}}var h=/\s*k-state-selected/;function G(L){L.className=L.className.replace(h,"")+" k-state-selected"}w.extend(A.SchedulerView,{createColumns:t,createRows:k,rangeIndex:n,collidingEvents:v,groupEqFilter:H})})(window.kendo.jQuery);(function(d,f){var o=window.kendo,n=o.ui,m=o.date.setTime,a=n.SchedulerView,v=d.extend,s=d.proxy,j=o.date.getDate,e=o.date.MS_PER_MINUTE,b=o.date.MS_PER_DAY,w=o.date.getMilliseconds,u=".kendoMultiDayView";var r=o.template('<div title="(#=kendo.format("{0:t} - {1:t}", start, end)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template k-event-time">#:kendo.format("{0:t} - {1:t}", start, end)#</div><div class="k-event-template">${title}</div></div>'),h=o.template('<div title="(#=kendo.format("{0:t}", start)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">${title}</div></div>'),i=o.template("<span class='k-link k-nav-day'>#=kendo.toString(date, 'ddd M/dd')#</span>"),t='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color#; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#" #} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span>#if(resizable && !singleDay && !data.tail && !data.middle){#<span class="k-resize-handle k-resize-w"></span>#}##if(resizable && !singleDay && !data.head && !data.middle){#<span class="k-resize-handle k-resize-e"></span>#}#</div>',x='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#" #if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</span><span class="k-event-top-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-n"></span># } #</span><span class="k-event-bottom-actions"># if(data.head || data.middle) {#<span class="k-icon k-i-arrow-s"></span># } #</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-n"></span># } ## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-s"></span># } #</div>';function c(y){var z=new Date(1980,1,1,0,0,0);m(z,w(y));return z}function k(A,z,y){return A>=z&&A<=y}function p(A,z,y,B){B=B?A<=y:A<y;return A>z&&B}function q(F,B,E,D){var C=F._continuousEvents;var A=C[C.length-1];var z=j(B.start.startDate()).getTime();if(D&&A&&j(A.start.startDate()).getTime()==z){var y=C.length-1;for(;y>-1;y--){if(C[y].isAllDay||j(C[y].start.startDate()).getTime()<z){break}}C.splice(y+1,0,{element:E,isAllDay:true,uid:E.attr(o.attr("uid")),start:B.start,end:B.end})}else{C.push({element:E,isAllDay:D,uid:E.attr(o.attr("uid")),start:B.start,end:B.end})}}function g(y){var z=[];var A=y.workWeekStart;z.push(A);while(y.workWeekEnd!=A){if(A>6){A-=7}else{A++}z.push(A)}return z}var l=a.extend({init:function(z,y){var A=this;a.fn.init.call(A,z,y);A.title=A.options.title||A.options.name;A._workDays=g(A.options);A._templates();A._editable();A.calculateDateRange();A._groups();A._currentTime()},_currentTimeMarkerUpdater:function(){var z=new Date();var J=this.options;if(J.currentTimeMarker.useLocalTimezone===false){var E=J.dataSource.options.schema.timezone;if(J.dataSource&&E){var G=o.timezone.offset(z,E);z=o.timezone.convert(z,z.getTimezoneOffset(),G)}}this.times.find(".k-current-time").remove();var A=!J.group||J.group.orientation=="horizontal"?1:this.groups.length;for(var H=0;H<A;H++){var I=this.groups[H];var F=o.date.toUtcTime(z);var y=I.timeSlotRanges(F,F+1);if(y.length===0){return}var D=y[0].collection;var C=D.slotByStartDate(z);if(C){var B=d("<div class='k-current-time'></div>");B.appendTo(this.times).css({top:Math.round(y[0].innerRect(z,new Date(z.getTime()+1),false).top),height:"1px",right:"1px",left:0})}}},_currentTime:function(){var z=this;var y=z.options.currentTimeMarker;if(y!==false&&y.updateInterval!==f){var A=y.updateInterval;z._currentTimeMarkerUpdater();z._currentTimeUpdateTimer=setInterval(s(this._currentTimeMarkerUpdater,z),A)}},_updateResizeHint:function(z,N,D,I){var E=z.isMultiDay();var M=this.groups[N];var A=M.ranges(D,I,E,z.isAllDay);this._removeResizeHint();for(var F=0;F<A.length;F++){var H=A[F];var C=H.startSlot();var B=C.offsetWidth;var O=C.clientHeight;var K=C.offsetTop;if(E){B=H.innerWidth()}else{var J=H.outerRect(D,I,this.options.snap);K=J.top;O=J.bottom-J.top}var G=a.fn._createResizeHint.call(this,C.offsetLeft,K,B,O);this._resizeHint=this._resizeHint.add(G)}var L="t";var y=this.content;if(E){L="M/dd";y=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div");if(!y.length){y=this.content}}this._resizeHint.appendTo(y);this._resizeHint.find(".k-label-top,.k-label-bottom").text("");this._resizeHint.first().addClass("k-first").find(".k-label-top").text(o.toString(o.timezone.toLocalDate(D),L));this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(o.toString(o.timezone.toLocalDate(I),L))},_updateMoveHint:function(z,M,y){var D=z.isMultiDay();var L=this.groups[M];var B=o.date.toUtcTime(z.start)+y;var E=B+z.duration();var A=L.ranges(B,E,D,z.isAllDay);B=o.timezone.toLocalDate(B);E=o.timezone.toLocalDate(E);this._removeMoveHint();if(!D&&(w(E)===0||w(E)<w(this.startTime()))){if(A.length>1){A.pop()}}for(var C=0;C<A.length;C++){var G=A[C];var K=G.start;var F=this._createEventElement(z.clone({start:B,end:E}),!D);F.addClass("k-event-drag-hint");var H={left:K.offsetLeft+2,top:K.offsetTop};if(this._isRtl){H.left=K.clientWidth*0.1+K.offsetLeft+2}if(D){H.width=G.innerWidth()-4}else{var J=G.outerRect(B,E,this.options.snap);H.top=J.top;H.height=J.bottom-J.top;H.width=K.clientWidth*0.9-4}F.css(H);this._moveHint=this._moveHint.add(F)}var I=this.content;if(D){I=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div");if(!I.length){I=this.content}}this._moveHint.appendTo(I)},_slotByPosition:function(z,E){var D;var C;if(this._isVerticallyGrouped()){C=this.content.offset();E+=this.content[0].scrollTop;z+=this.content[0].scrollLeft}else{C=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day)").find(">div").offset()}if(C){z-=C.left;E-=C.top}z=Math.ceil(z);E=Math.ceil(E);var B;var A;for(A=0;A<this.groups.length;A++){B=this.groups[A];D=B.daySlotByPosition(z,E);if(D){return D}}if(C){z+=C.left;E+=C.top}C=this.content.offset();z-=C.left;E-=C.top;if(!this._isVerticallyGrouped()){E+=this.content[0].scrollTop;z+=this.content[0].scrollLeft}z=Math.ceil(z);E=Math.ceil(E);for(A=0;A<this.groups.length;A++){B=this.groups[A];D=B.timeSlotByPosition(z,E);if(D){return D}}return null},_groupCount:function(){var y=this.groupedResources;if(y.length){if(this._groupOrientation()==="vertical"){return this._rowCountForLevel(y.length-1)}else{return this._columnCountForLevel(y.length)/this._columnOffsetForResource(y.length)}}return 1},_columnCountInResourceView:function(){var y=this.groupedResources;if(!y.length||this._isVerticallyGrouped()){return this._columnCountForLevel(0)}return this._columnOffsetForResource(y.length)},_timeSlotGroups:function(A,R){var Q=this._timeSlotInterval();var L=this.content.find("tr:not(.k-scheduler-header-all-day)");L.attr("role","row");var I=L.length;if(this._isVerticallyGrouped()){I=Math.floor(I/A)}for(var z=0;z<A;z++){var P=0;if(this._isVerticallyGrouped()){P=z}var J=P*I;var E;var M=0;if(!this._isVerticallyGrouped()){M=z}while(J<(P+1)*I){var C=L[J].children;var F=this.groups[z];if(J%I===0){E=w(new Date(+this.startTime()))}for(var H=M*R;H<(M+1)*R;H++){var y=C[H];var N=H%R;var K=F.getTimeSlotCollection(N);var G=this._dates[N];var O=Date.UTC(G.getFullYear(),G.getMonth(),G.getDate());var D=O+E;var B=D+Q;y.setAttribute("role","gridcell");y.setAttribute("aria-selected",false);K.addTimeSlot(y,D,B)}E+=Q;J++}}},_daySlotGroups:function(I,D){var G;if(this._isVerticallyGrouped()){G=this.element.find(".k-scheduler-header-all-day")}else{G=this.element.find(".k-scheduler-header-all-day tr")}G.attr("role","row");for(var K=0;K<I;K++){var B=0;if(this._isVerticallyGrouped()){B=K}var J=this.groups[K];var C=J.getDaySlotCollection(0);var L=G[B].children;var A=0;if(!this._isVerticallyGrouped()){A=K}var F=0;for(var E=A*D;E<(A+1)*D;E++){var H=L[E];if(E%D===0){F=0}var z=this._dates[F];var y=Date.UTC(z.getFullYear(),z.getMonth(),z.getDate());F++;H.setAttribute("role","gridcell");H.setAttribute("aria-selected",false);C.addDaySlot(H,y,y+o.date.MS_PER_DAY)}}},_groups:function(){var C=this._groupCount();var B=this._columnCountInResourceView();this.groups=[];for(var y=0;y<C;y++){var z=this._addResourceView(y);for(var A=0;A<B;A++){z.addTimeSlotCollection(this._dates[A],o.date.addDays(this._dates[A],1))}if(this.options.allDaySlot){z.addDaySlotCollection(this._dates[0],o.date.addDays(this._dates[this._dates.length-1],1))}}this._timeSlotGroups(C,B);if(this.options.allDaySlot){this._daySlotGroups(C,B)}},options:{name:"MultiDayView",selectedDateFormat:"{0:D}",selectedShortDateFormat:"{0:d}",allDaySlot:true,showWorkHours:false,title:"",startTime:o.date.today(),endTime:o.date.today(),minorTickCount:2,majorTick:60,majorTimeHeaderTemplate:"#=kendo.toString(date, 't')#",minorTimeHeaderTemplate:"&nbsp;",groupHeaderTemplate:"#=text#",slotTemplate:"&nbsp;",allDaySlotTemplate:"&nbsp;",eventTemplate:r,allDayEventTemplate:h,dateHeaderTemplate:i,editable:true,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,footer:{command:"workDay"},messages:{allDay:"all day",showFullDay:"Show full day",showWorkDay:"Show business hours"},currentTimeMarker:{updateInterval:10000,useLocalTimezone:true}},events:["remove","add","edit"],_templates:function(){var y=this.options,z=v({},o.Template,y.templateSettings);this.eventTemplate=this._eventTmpl(y.eventTemplate,x);this.allDayEventTemplate=this._eventTmpl(y.allDayEventTemplate,t);this.majorTimeHeaderTemplate=o.template(y.majorTimeHeaderTemplate,z);this.minorTimeHeaderTemplate=o.template(y.minorTimeHeaderTemplate,z);this.dateHeaderTemplate=o.template(y.dateHeaderTemplate,z);this.slotTemplate=o.template(y.slotTemplate,z);this.allDaySlotTemplate=o.template(y.allDaySlotTemplate,z);this.groupHeaderTemplate=o.template(y.groupHeaderTemplate,z)},_editable:function(){if(this.options.editable){if(this._isMobile()){this._touchEditable()}else{this._mouseEditable()}}},_mouseEditable:function(){var y=this;y.element.on("click"+u,".k-event a:has(.k-si-close)",function(z){y.trigger("remove",{uid:d(this).closest(".k-event").attr(o.attr("uid"))});z.preventDefault()});if(y.options.editable.create!==false){y.element.on("dblclick"+u,".k-scheduler-content td",function(z){if(!d(this).parent().hasClass("k-scheduler-header-all-day")){var B=y._slotByPosition(z.pageX,z.pageY);if(B){var A=y._resourceBySlot(B);y.trigger("add",{eventInfo:v({start:B.startDate(),end:B.endDate()},A)})}z.preventDefault()}}).on("dblclick"+u,".k-scheduler-header-all-day td",function(z){var B=y._slotByPosition(z.pageX,z.pageY);if(B){var A=y._resourceBySlot(B);y.trigger("add",{eventInfo:v({},{isAllDay:true,start:o.date.getDate(B.startDate()),end:o.date.getDate(B.startDate())},A)})}z.preventDefault()})}if(y.options.editable.update!==false){y.element.on("dblclick"+u,".k-event",function(z){y.trigger("edit",{uid:d(this).closest(".k-event").attr(o.attr("uid"))});z.preventDefault()})}},_touchEditable:function(){var y=this;if(y.options.editable.create!==false){y._addUserEvents=new o.UserEvents(y.element,{filter:".k-scheduler-content td",tap:function(z){if(!d(z.target).parent().hasClass("k-scheduler-header-all-day")){var B=y._slotByPosition(z.x.location,z.y.location);if(B){var A=y._resourceBySlot(B);y.trigger("add",{eventInfo:v({start:B.startDate(),end:B.endDate()},A)})}z.preventDefault()}}});y._allDayUserEvents=new o.UserEvents(y.element,{filter:".k-scheduler-header-all-day td",tap:function(z){var B=y._slotByPosition(z.x.location,z.y.location);if(B){var A=y._resourceBySlot(B);y.trigger("add",{eventInfo:v({},{isAllDay:true,start:o.date.getDate(B.startDate()),end:o.date.getDate(B.startDate())},A)})}z.preventDefault()}})}if(y.options.editable.update!==false){y._editUserEvents=new o.UserEvents(y.element,{filter:".k-event",tap:function(A){var z=d(A.target).closest(".k-event");if(!z.hasClass("k-event-active")){y.trigger("edit",{uid:z.attr(o.attr("uid"))})}A.preventDefault()}})}},_layout:function(F){var A=[];var D=[];var z=this.options;var C=this;for(var y=0;y<F.length;y++){var B={};B.text=C.dateHeaderTemplate({date:F[y]});if(o.date.isToday(F[y])){B.className="k-today"}A.push(B)}var E=this.groupedResources;if(z.allDaySlot){D.push({text:z.messages.allDay,allDay:true,cellContent:function(G){var H=G;G=E.length&&C._groupOrientation()!=="vertical"?G%F.length:G;return C.allDaySlotTemplate({date:F[G],resources:function(){return C._resourceBySlot({groupIndex:H})}})}})}this._forTimeRange(this.startTime(),this.endTime(),function(H,J,G,K){var I=J?C.majorTimeHeaderTemplate:C.minorTimeHeaderTemplate;var L={text:I({date:H}),className:K?"k-slot-cell":""};D.push(L)});if(E.length){if(this._groupOrientation()==="vertical"){D=this._createRowsLayout(E,D,this.groupHeaderTemplate)}else{A=this._createColumnsLayout(E,A,this.groupHeaderTemplate)}}return{columns:A,rows:D}},_footer:function(){var y=this.options;if(y.footer!==false){var z='<div class="k-header k-scheduler-footer">';var B=y.footer.command;if(B&&B==="workDay"){z+='<ul class="k-reset k-header">';z+='<li class="k-state-default k-scheduler-fullday"><a href="#" class="k-link"><span class="k-icon k-i-clock"></span>';z+=(y.showWorkHours?y.messages.showFullDay:y.messages.showWorkDay)+"</a></li>";z+="</ul>"}else{z+="&nbsp;"}z+="</div>";this.footer=d(z).appendTo(this.element);var A=this;this.footer.on("click"+u,".k-scheduler-fullday",function(C){C.preventDefault();A.trigger("navigate",{view:A.name||y.name,date:A.startDate(),isWorkDay:!y.showWorkHours})})}},_forTimeRange:function(K,M,L,z){K=c(K);M=c(M);var D=this,E=w(K),G=w(M),C=D.options.minorTickCount,Q=D.options.majorTick*e,O=Q/C||1,B=new Date(+K),H=B.getDate(),y,J=0,A,I="";A=b/O;if(E!=G){if(E>G){G+=b}A=((G-E)/O)}A=Math.round(A);for(;J<A;J++){var R=J%(Q/O),P=R===0,N=R<C-1,F=R===C-1;I+=L(B,P,N,F);m(B,O,false)}if(G){y=w(B);if(H<B.getDate()){y+=b}if(y>G){B=new Date(+M)}}if(z){I+=z(B)}return I},_content:function(y){var I=this;var N=I.options;var B=I.startTime();var G=this.endTime();var D=1;var K=1;var J=y.length;var H="";var C=this.groupedResources;var M=this.slotTemplate;var F=this.allDaySlotTemplate;var E=false;var A;if(C.length){E=I._groupOrientation()==="vertical";if(E){K=this._rowCountForLevel(this.rowLevels.length-2);if(N.allDaySlot){A=function(R){var P='<tr class="k-scheduler-header-all-day">';var S=function(){return I._resourceBySlot({groupIndex:R})};for(var O=0,Q=y.length;O<Q;O++){P+="<td>"+F({date:y[O],resources:S})+"</td>"}return P+"</tr>"}}}else{D=this._columnCountForLevel(this.columnLevels.length-2)}}H+="<tbody>";var L=function(R,Q){var T="";var V;var O;var S="";var U;var W=0;T="<tr"+(Q?' class="k-middle-row"':"")+">";var P=function(X){return function(){return I._resourceBySlot({groupIndex:X})}};for(;W<D;W++){for(V=0,O=J;V<O;V++){S="";if(o.date.isToday(y[V])){S+="k-today"}if(o.date.getMilliseconds(R)<o.date.getMilliseconds(I.options.workDayStart)||o.date.getMilliseconds(R)>=o.date.getMilliseconds(I.options.workDayEnd)||!I._isWorkDay(y[V])){S+=" k-nonwork-hour"}T+="<td"+(S!==""?' class="'+S+'"':"")+">";U=o.date.getDate(y[V]);o.date.setTime(U,o.date.getMilliseconds(R));T+=M({date:U,resources:P(E?z:W)});T+="</td>"}}T+="</tr>";return T};for(var z=0;z<K;z++){H+=A?A(z):"";H+=this._forTimeRange(B,G,L)}H+="</tbody>";this.content.find("table").append(H)},_isWorkDay:function(z){var y=z.getDay();var B=this._workDays;for(var A=0;A<B.length;A++){if(B[A]===y){return true}}return false},_render:function(A){var z=this;A=A||[];this._dates=A;this._startDate=A[0];this._endDate=A[(A.length-1)||0];this.createLayout(this._layout(A));this._content(A);this._footer();this.refreshLayout();var y=this.element.find(".k-scheduler-header-all-day td");if(y.length){this._allDayHeaderHeight=y.first()[0].clientHeight}z.datesHeader.on("click"+u,".k-nav-day",function(C){var B=d(C.currentTarget).closest("th");var D=B.offset();var E=z._slotByPosition(D.left,D.top+B.outerHeight());z.trigger("navigate",{view:"day",date:E.startDate()})})},startTime:function(){var y=this.options;return y.showWorkHours?y.workDayStart:y.startTime},endTime:function(){var y=this.options;return y.showWorkHours?y.workDayEnd:y.endTime},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_end:function(y){var z=w(this.endTime())||b;if(y){z=0}return new Date(this._endDate.getTime()+z)},nextDate:function(){return o.date.nextDay(this.endDate())},previousDate:function(){return o.date.previousDay(this.startDate())},calculateDateRange:function(){this._render([this.options.date])},destroy:function(){var y=this;if(y._currentTimeUpdateTimer){clearInterval(y._currentTimeUpdateTimer)}if(y.datesHeader){y.datesHeader.off(u)}if(y.element){y.element.off(u)}if(y.footer){y.footer.remove()}a.fn.destroy.call(this);if(this._isMobile()&&y.options.editable){if(y.options.editable.create!==false){y._addUserEvents.destroy();y._allDayUserEvents.destroy()}if(y.options.editable.update!==false){y._editUserEvents.destroy()}}},inRange:function(A){var C=a.fn.inRange.call(this,A);var B=w(this.startTime());var z=w(this.endTime())||o.date.MS_PER_DAY;var D=w(A.start);var y=w(A.end)||o.date.MS_PER_DAY;return C&&B<=D&&y<=z},selectionByElement:function(y){var z=y.offset();return this._slotByPosition(z.left,z.top)},_timeSlotInterval:function(){var y=this.options;return(y.majorTick/y.minorTickCount)*e},_timeSlotIndex:function(A){var z=this.options;var C=w(A);var B=w(this.startTime());var y=((z.majorTick/z.minorTickCount)*e);return(C-B)/(y)},_slotIndex:function(y,z){if(z){return this._dateSlotIndex(y)}return this._timeSlotIndex(y)},_dateSlotIndex:function(z,F){var y;var B;var A=this._dates||[];var E;var C;var D=1;for(y=0,B=A.length;y<B;y++){E=o.date.getDate(A[y]);C=new Date(o.date.getDate(A[y]).getTime()+b-(F?0:1));if(k(z,E,C)){return y*D}}return -1},_positionAllDayEvent:function(y,z){var D=z.innerWidth();var C=z.start.index;var A=z.end.index;var J=a.collidingEvents(z.events(),C,A);var F=this._headerColumnCount||0;var I=2;var K=C!==A?5:4;var G=this._allDayHeaderHeight;var E=z.startSlot();y.css({left:E.offsetLeft+I,width:D-K});z.addEvent({slotIndex:C,start:C,end:A,element:y});J.push({slotIndex:C,start:C,end:A,element:y});var H=a.createRows(J);if(H.length&&H.length>F){this._headerColumnCount=H.length}var M=z.start.offsetTop;for(var L=0,B=H.length;L<B;L++){var N=H[L].events;for(var O=0,P=N.length;O<P;O++){d(N[O].element).css({top:M+L*G})}}},_arrangeColumns:function(H,K,N,I){var L=I.start;H={element:H,slotIndex:L.index,start:K,end:K+N};var E,B=L.clientWidth,F=B*0.1,J,A=I.events(),y=a.collidingEvents(A,H.start,H.end);I.addEvent(H);y.push(H);E=a.createColumns(y);var D=(B-F)/E.length;for(var M=0,C=E.length;M<C;M++){J=E[M].events;for(var G=0,z=J.length;G<z;G++){J[G].element[0].style.width=D-4+"px";J[G].element[0].style.left=(this._isRtl?F:0)+L.offsetLeft+M*D+2+"px"}}},_positionEvent:function(D,B,A){var E=D._startTime||D.start;var z=D._endTime||D.end;var C=A.innerRect(E,z,false);var y=C.bottom-C.top-2;if(y<0){y=0}B.css({top:C.top,height:y});this._arrangeColumns(B,C.top,B[0].clientHeight,A)},_createEventElement:function(L,Q,C,F){var R=Q?this.eventTemplate:this.allDayEventTemplate;var A=this.options;var K=A.editable;var J=this._isMobile();var I=K&&K.destroy!==false&&!J;var E=K&&K.resize!==false;var z=j(this.startDate());var M=j(this.endDate());var H=w(this.startTime());var B=w(this.endTime());var D=L._time("start");var P=L._time("end");var T;if(H>=B){B=w(new Date(this.endTime().getTime()+b-1))}if(!Q&&!L.isAllDay){M=new Date(M.getTime()+b)}var O=L.start;var G=L.end;if(L.isAllDay){G=j(L.end)}if((!k(j(O),z,M)&&!k(G,z,M))||(Q&&D<H&&P>B)){T=true}else{if(j(O)<z||(Q&&D<H)){F=true}else{if((G>M&&!Q)||(Q&&P>B)){C=true}}}var N=this.eventResources(L);if(L._startTime){O=new Date(D);O=o.timezone.apply(O,"Etc/UTC")}if(L.endTime){G=new Date(P);G=o.timezone.apply(G,"Etc/UTC")}var S=v({},{ns:o.ns,resizable:E,showDelete:I,middle:T,head:C,tail:F,singleDay:this._dates.length==1,resources:N,inverseColor:N&&N[0]?this._shouldInverseResourceColor(N[0]):false},L,{start:O,end:G});var y=d(R(S));this.angular("compile",function(){return{elements:y,data:[{dataItem:S}]}});return y},_isInTimeSlot:function(B){var z=this.startTime(),D=this.endTime(),A=B._startTime||B.start,y=B._endTime||B.end;if(w(D)===w(o.date.getDate(D))){D=o.date.getDate(D);m(D,b-1)}if(B._date("end")>B._date("start")){y=+B._date("end")+(b-1)}y=y-B._date("end");A=A-B._date("start");D=w(D);z=w(z);if(z===A&&A===y){return true}var C=A!==D;return p(A,z,D,C)||p(y,z,D,C)||p(z,A,y)||p(D,A,y)},_isInDateSlot:function(B){var y=this.groups[0];var D=y.firstSlot().start;var C=y.lastSlot().end-1;var A=o.date.toUtcTime(B.start);var z=o.date.toUtcTime(B.end);return(k(A,D,C)||k(z,D,C)||k(D,A,z)||k(C,A,z))&&(!k(z,D,D)||k(z,A,A)||B.isAllDay)},_updateAllDayHeaderHeight:function(y){if(this._height!==y){this._height=y;var z=this.element.find(".k-scheduler-header-all-day td");if(z.length){z.parent().add(this.element.find(".k-scheduler-times-all-day").parent()).height(y);for(var A=0;A<this.groups.length;A++){this.groups[A].refresh()}}}},_renderEvents:function(y,B){var K=this.datesHeader.find(".k-scheduler-header-wrap > div");var M;var L;var D;for(L=0,D=y.length;L<D;L++){M=y[L];if(this._isInDateSlot(M)){var N=M.isAllDay||M.end.getTime()-M.start.getTime()>=b;var I=N&&!this._isVerticallyGrouped()?K:this.content;var z;var A;var H;if(!N){if(this._isInTimeSlot(M)){H=this.groups[B];if(!H._continuousEvents){H._continuousEvents=[]}A=H.slotRanges(M);var O=A.length;for(var P=0;P<O;P++){var J=A[P];var F=M.start;var C=M.end;if(O>1){if(P===0){C=J.end.endDate()}else{if(P==O-1){F=J.start.startDate()}else{F=J.start.startDate();C=J.end.endDate()}}}var E=M.clone({start:F,end:C,_startTime:M._startTime,_endTime:M.endTime});if(this._isInTimeSlot(E)){var G=J.head;z=this._createEventElement(M,!N,G,J.tail);z.appendTo(I);this._positionEvent(E,z,J);q(H,J,z,false)}}}}else{if(this.options.allDaySlot){H=this.groups[B];if(!H._continuousEvents){H._continuousEvents=[]}A=H.slotRanges(M);if(A.length){z=this._createEventElement(M,!N);this._positionAllDayEvent(z,A[0]);q(H,A[0],z,true);z.appendTo(I)}}}}}},render:function(B){this._headerColumnCount=0;this._groups();this.element.find(".k-event").remove();B=new o.data.Query(B).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var A=[];this._eventsByResource(B,this.groupedResources,A);var C=this;var z=d.map(this._dates,function(E){return Math.max.apply(null,d.map(A,function(F){return d.grep(F,function(G){return G.isMultiDay()&&k(E,j(G.start),j(G.end))}).length}))});var y=Math.max.apply(null,z);this._updateAllDayHeaderHeight((y+1)*this._allDayHeaderHeight);for(var D=0;D<A.length;D++){this._renderEvents(A[D],D)}this.refreshLayout();this.trigger("activate")},_eventsByResource:function(A,E,y){var D=E[0];if(D){var z=D.dataSource.view();for(var B=0;B<z.length;B++){var C=this._resourceValue(D,z[B]);var F=new o.data.Query(A).filter({field:D.field,operator:a.groupEqFilter(C)}).toArray();if(E.length>1){this._eventsByResource(F,E.slice(1),y)}else{y.push(F)}}}else{y.push(A)}},_columnOffsetForResource:function(y){return this._columnCountForLevel(y)/this._columnCountForLevel(y-1)},_columnCountForLevel:function(z){var y=this.columnLevels[z];return y?y.length:0},_rowCountForLevel:function(z){var y=this.rowLevels[z];return y?y.length:0},clearSelection:function(){this.content.add(this.datesHeader).find(".k-state-selected").removeAttr("id").attr("aria-selected",false).removeClass("k-state-selected")},_updateDirection:function(E,A,z,C,B){var y=E.isAllDay;var F=A[0].start;var D=A[A.length-1].end;if(z){if(B){if(!y&&F.index===D.index&&F.collectionIndex===D.collectionIndex){E.backward=C}}else{if((y&&F.index===D.index)||(!y&&F.collectionIndex===D.collectionIndex)){E.backward=C}}}},_changeViewPeriod:function(C,B,z){if(!z){var A=B?this.previousDate():this.nextDate();var E=C.start;var y=C.end;C.start=new Date(A);C.end=new Date(A);var D=C.isAllDay?b:w(y);m(C.start,w(E));m(C.end,D);if(!this._isVerticallyGrouped()){C.groupIndex=B?this.groups.length-1:0}C.events=[];return true}}});v(true,n,{MultiDayView:l,DayView:l.extend({options:{name:"DayView",title:"Day"},name:"day"}),WeekView:l.extend({options:{name:"WeekView",title:"Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}"},name:"week",calculateDateRange:function(){var z=this.options.date,C=o.date.dayOfWeek(z,this.calendarInfo().firstDay,-1),y,A,B=[];for(y=0,A=7;y<A;y++){B.push(C);C=o.date.nextDay(C)}this._render(B)}}),WorkWeekView:l.extend({options:{name:"WorkWeekView",title:"Work Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}"},name:"workWeek",nextDate:function(){return o.date.dayOfWeek(o.date.nextDay(this.endDate()),this.options.workWeekStart,1)},previousDate:function(){return o.date.previousDay(this.startDate())},calculateDateRange:function(){var z=this.options.date,B=o.date.dayOfWeek(z,this.options.workWeekStart,-1),y=o.date.dayOfWeek(B,this.options.workWeekEnd,1),A=[];while(B<=y){A.push(B);B=o.date.nextDay(B)}this._render(A)}})})})(window.kendo.jQuery);(function(d){var f=window.kendo,h=f.ui,b=".kendoAgendaView";var e='<div class="k-task" title="#:title.replace(/"/g,"\'")#" data-#=kendo.ns#uid="#=uid#"># if (resources[0]) {#<span class="k-scheduler-mark" style="background-color:#=resources[0].color#"></span># } ## if (data.isException()) { #<span class="k-icon k-i-exception"></span># } else if (data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #{0}#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</div>';h.AgendaView=h.SchedulerView.extend({init:function(k,j){h.SchedulerView.fn.init.call(this,k,j);j=this.options;if(j.editable){j.editable=d.extend({"delete":true},j.editable,{create:false,update:false})}this.title=j.title;this.name="agenda";this._eventTemplate=this._eventTmpl(j.eventTemplate,e);this._dateTemplate=f.template(j.eventDateTemplate);this._groupTemplate=f.template(j.eventGroupTemplate);this._timeTemplate=f.template(j.eventTimeTemplate);this.element.on("mouseenter"+b,".k-scheduler-agenda .k-scheduler-content tr","_mouseenter").on("mouseleave"+b,".k-scheduler-agenda .k-scheduler-content tr","_mouseleave").on("click"+b,".k-scheduler-agenda .k-scheduler-content .k-link:has(.k-si-close)","_remove");this._renderLayout(j.date)},_mouseenter:function(j){d(j.currentTarget).addClass("k-state-hover")},_mouseleave:function(j){d(j.currentTarget).removeClass("k-state-hover")},_remove:function(j){j.preventDefault();this.trigger("remove",{uid:d(j.currentTarget).closest(".k-task").attr(f.attr("uid"))})},nextDate:function(){return f.date.nextDay(this.startDate())},startDate:function(){return this._startDate},endDate:function(){return this._endDate},previousDate:function(){return f.date.previousDay(this.startDate())},_renderLayout:function(j){this._startDate=j;this._endDate=f.date.addDays(j,7);this.createLayout(this._layout());this.table.addClass("k-scheduler-agenda")},_layout:function(){var k=[{text:this.options.messages.time,className:"k-scheduler-timecolumn"},{text:this.options.messages.event}];if(!this._isMobilePhoneView()){k.splice(0,0,{text:this.options.messages.date,className:"k-scheduler-datecolumn"})}var l=this.groupedResources;if(l.length){var m=[];for(var j=0;j<l.length;j++){m.push({text:"",className:"k-scheduler-groupcolumn"})}k=m.concat(k)}return{columns:k}},_tasks:function(r){var o=[];for(var q=0;q<r.length;q++){var k=r[q];var l=k.start;var n=k.end;var j=(f.date.getDate(n)-f.date.getDate(l))/f.date.MS_PER_DAY+1;var m=k.clone();m.startDate=f.date.getDate(l);if(m.startDate>=this.startDate()){o.push(m)}if(j>1){m.end=f.date.nextDay(l);m.head=true;for(var p=1;p<j;p++){l=m.end;m=k.clone();m.start=l;m.startDate=f.date.getDate(l);m.end=f.date.nextDay(l);if(p==j-1){m.end=new Date(m.start.getFullYear(),m.start.getMonth(),m.start.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds());m.tail=true}else{m.isAllDay=true;m.middle=true}if(m.end<=this.endDate()&&m.start>=this.startDate()){o.push(m)}}}}return new f.data.Query(o).sort([{field:"start",dir:"asc"},{field:"end",dir:"asc"}]).groupBy({field:"startDate"}).toArray()},_renderTaskGroups:function(u,p){var v=[];var o=this.options.editable;var j=o&&o.destroy!==false&&!this._isMobile();var k=this._isMobilePhoneView();for(var n=0;n<u.length;n++){var q=u[n].value;var r=u[n].items;var t=f.date.isToday(q);for(var s=0;s<r.length;s++){var m=r[s];var l=[];var w=!k?l:[];if(n===0&&s===0&&p.length){for(var x=0;x<p.length;x++){w.push(f.format('<td class="k-scheduler-groupcolumn{2}" rowspan="{0}">{1}</td>',p[x].rowSpan,this._groupTemplate({value:p[x].text}),p[x].className))}}if(s===0){if(k){w.push(f.format('<td class="k-scheduler-datecolumn" colspan="2">{0}</td>',this._dateTemplate({date:q})));v.push('<tr role="row" aria-selected="false"'+(t?' class="k-today">':">")+w.join("")+"</tr>")}else{l.push(f.format('<td class="k-scheduler-datecolumn{3}{2}" rowspan="{0}">{1}</td>',r.length,this._dateTemplate({date:q}),n==u.length-1&&!p.length?" k-last":"",!p.length?" k-first":""))}}if(m.head){m.format="{0:t}"}else{if(m.tail){m.format="{1:t}"}else{m.format="{0:t}-{1:t}"}}m.resources=this.eventResources(m);l.push(f.format('<td class="k-scheduler-timecolumn"><div>{0}{1}{2}</div></td><td>{3}</td>',m.tail||m.middle?'<span class="k-icon k-i-arrow-w"></span>':"",this._timeTemplate(m.clone({start:m._startTime||m.start,end:m.endTime||m.end})),m.head||m.middle?'<span class="k-icon k-i-arrow-e"></span>':"",this._eventTemplate(m.clone({showDelete:j}))));v.push('<tr role="row" aria-selected="false"'+(t?' class="k-today">':">")+l.join("")+"</tr>")}}return v.join("")},render:function(l){var m=this.content.find("table").empty();var j=[];if(l.length>0){var n=this.groupedResources;if(n.length){j=this._createGroupConfiguration(l,n,null);this._renderGroups(j,m,[])}else{j=this._tasks(l);m.append(this._renderTaskGroups(j,[]))}}var k=this._eventsList=a(j);this._angularItems(m,k);this.refreshLayout();this.trigger("activate")},_angularItems:function(k,j){this.angular("compile",function(){var m=[],l=j.map(function(n){m.push({dataItem:n});return k.find(".k-task["+f.attr("uid")+"="+n.uid+"]")});return{elements:l,data:m}})},_renderGroups:function(k,o,m){for(var j=0,n=k.length;j<n;j++){var l=m.splice(0);l.push(k[j]);if(k[j].groups){this._renderGroups(k[j].groups,o,l)}else{o.append(this._renderTaskGroups(k[j].items,l))}}},_createGroupConfiguration:function(w,l,v){var m=l[0];var k=[];var q=m.dataSource.view();var j=this._isMobilePhoneView();for(var s=0;s<q.length;s++){var u=i(m,q[s]);var p=new f.data.Query(w).filter({field:m.field,operator:h.SchedulerView.groupEqFilter(u)}).toArray();if(p.length){var n=this._tasks(p);var r=v?"":" k-first";if(s===q.length-1&&(!v||v.className.indexOf("k-last")>-1)){r+=" k-last"}var o={text:f.getter(m.dataTextField)(q[s]),value:u,rowSpan:0,className:r};if(l.length>1){o.groups=this._createGroupConfiguration(p,l.slice(1),o);if(v){v.rowSpan+=o.rowSpan}}else{o.items=n;var t=g(o.items);if(j){t+=o.items.length}o.rowSpan=t;if(v){v.rowSpan+=t}}k.push(o)}}return k},selectionByElement:function(j){var k,m;j=d(j);if(j.hasClass("k-scheduler-datecolumn")||!this._eventsList.length){return}if(j.is(".k-task")){j=j.closest("td")}if(this._isMobile()){var l=j.parent();k=l.parent().children().filter(function(){return d(this).children(":not(.k-scheduler-datecolumn)").length}).index(l)}else{k=j.parent().index()}m=this._eventsList[k];return{index:k,start:m.start,end:m.end,isAllDay:m.isAllDay,uid:m.uid}},select:function(j){this.clearSelection();var k=this.table.find(".k-task").eq(j.index).closest("tr").addClass("k-state-selected").attr("aria-selected",true)[0];this.current(k)},move:function(l,k){var n=false;var j=l.index;if(k==f.keys.UP){j--;n=true}else{if(k==f.keys.DOWN){j++;n=true}}if(n){var m=this._eventsList[j];if(m){l.start=m.start;l.end=m.end;l.isAllDay=m.isAllDay;l.events=[m.uid];l.index=j}}return n},moveToEvent:function(){return false},constrainSelection:function(j){var k=this._eventsList[0];if(k){j.start=k.start;j.end=k.end;j.isAllDay=k.isAllDay;j.events=[k.uid];j.index=0}},isInRange:function(){return true},destroy:function(){if(this.element){this.element.off(b)}h.SchedulerView.fn.destroy.call(this)},options:{title:"Agenda",name:"agenda",editable:true,selectedDateFormat:"{0:D}-{1:D}",selectedShortDateFormat:"{0:d} - {1:d}",eventTemplate:"#:title#",eventTimeTemplate:"#if(data.isAllDay) {##=this.options.messages.allDay##} else { ##=kendo.format(format, start, end)## } #",eventDateTemplate:'<strong class="k-scheduler-agendaday">#=kendo.toString(date, "dd")#</strong><em class="k-scheduler-agendaweek">#=kendo.toString(date,"dddd")#</em><span class="k-scheduler-agendadate">#=kendo.toString(date, "y")#</span>',eventGroupTemplate:'<strong class="k-scheduler-adgendagroup">#=value#</strong>',messages:{event:"Event",date:"Date",time:"Time",allDay:"all day"}}});function g(m){var k=0;for(var j=0,l=m.length;j<l;j++){k+=m[j].items.length}return k}function i(k,j){if(k.valuePrimitive){j=f.getter(k.dataValueField)(j)}return j}function a(l){var k=0,n=l.length,m,j=[];for(;k<n;k++){m=l[k];if(m.groups){m=c(m.groups);j=j.concat(m)}else{j=j.concat(c(m.items))}}return j}function c(k){var l=[].concat(k),n=l.shift(),j=[],m=[].push;while(n){if(n.groups){m.apply(l,n.groups)}else{if(n.items){m.apply(l,n.items)}else{m.call(j,n)}}n=l.shift()}return j}})(window.kendo.jQuery);(function(c){var k=window.kendo,j=k.ui,a=j.SchedulerView,n=".kendoMonthView",o=c.extend,l=c.proxy,h=k.date.getDate,b=k.date.MS_PER_DAY,q=6,d=7,p=k.template('<span class="k-link k-nav-day">#:kendo.toString(date, "dd")#</span>'),r='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span>#}#</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-w"></span>#}## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-e"></span>#}#</div>',e=k.template('<div title="#=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">#:title#</div></div>');var f=k.template('<div style="width:#=width#px;left:#=left#px;top:#=top#px" class="k-more-events k-button"><span>...</span></div>');j.MonthView=a.extend({init:function(t,s){var u=this;a.fn.init.call(u,t,s);u.title=u.options.title;u.name="month";u._templates();u._editable();u._renderLayout(u.options.date);u._groups()},_updateDirection:function(z,t,B,x,u){if(B){var y=t[0].start;var s=t[t.length-1].end;var v=y.index===s.index;var w=y.collectionIndex===s.collectionIndex;var A;if(u){A=(v&&w)||w}else{A=v&&w}if(A){z.backward=x}}},_changeViewPeriod:function(u,t,s){var v=s?7:1;if(t){v*=-1}u.start=k.date.addDays(u.start,v);u.end=k.date.addDays(u.end,v);if(!s||(s&&this._isVerticallyGrouped())){u.groupIndex=t?this.groups.length-1:0}u.events=[];return true},_continuousSlot:function(v,s,u){var t=v.backward?0:s.length-1;var w=this.groups[v.groupIndex];return w.continuousSlot(s[t].start,u)},_changeGroupContinuously:function(x,w,s,v){if(!s){var y=x.groupIndex;var t=this.groups.length-1;var u=this._isVerticallyGrouped();var z=this.groups[y];if(!w&&u){w=z[v?"lastSlot":"firstSlot"]();y+=(v?-1:1)}else{if(w&&!u){y=v?t:0}}if(y<0||y>t){y=v?t:0;w=null}x.groupIndex=y}return w},_normalizeHorizontalSelection:function(u,s,t){var v;if(t){v=s[0].start}else{v=s[s.length-1].end}return v},_normalizeVerticalSelection:function(t,s){var u;if(t.backward){u=s[0].start}else{u=s[s.length-1].end}return u},_templates:function(){var s=this.options,t=o({},k.Template,s.templateSettings);this.eventTemplate=this._eventTmpl(s.eventTemplate,r);this.dayTemplate=k.template(s.dayTemplate,t);this.groupHeaderTemplate=k.template(s.groupHeaderTemplate,t)},dateForTitle:function(){return k.format(this.options.selectedDateFormat,this._firstDayOfMonth,this._lastDayOfMonth)},shortDateForTitle:function(){return k.format(this.options.selectedShortDateFormat,this._firstDayOfMonth,this._lastDayOfMonth)},nextDate:function(){return k.date.nextDay(this._lastDayOfMonth)},previousDate:function(){return k.date.previousDay(this._firstDayOfMonth)},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_renderLayout:function(s){var t=this;this._firstDayOfMonth=k.date.firstDayOfMonth(s);this._lastDayOfMonth=k.date.lastDayOfMonth(s);this._startDate=g(s,this.calendarInfo());this.createLayout(this._layout());this._content();this.refreshLayout();this.content.on("click"+n,".k-nav-day,.k-more-events",function(u){var v=c(u.currentTarget).offset();var w=t._slotByPosition(v.left,v.top);u.preventDefault();t.trigger("navigate",{view:"day",date:w.startDate()})})},_editable:function(){if(this.options.editable&&!this._isMobilePhoneView()){if(this._isMobile()){this._touchEditable()}else{this._mouseEditable()}}},_mouseEditable:function(){var s=this;s.element.on("click"+n,".k-scheduler-monthview .k-event a:has(.k-si-close)",function(t){s.trigger("remove",{uid:c(this).closest(".k-event").attr(k.attr("uid"))});t.preventDefault()});if(s.options.editable.create!==false){s.element.on("dblclick"+n,".k-scheduler-monthview .k-scheduler-content td",function(t){var v=c(t.currentTarget).offset();var w=s._slotByPosition(v.left,v.top);if(w){var u=s._resourceBySlot(w);s.trigger("add",{eventInfo:o({isAllDay:true,start:w.startDate(),end:w.startDate()},u)})}t.preventDefault()})}if(s.options.editable.update!==false){s.element.on("dblclick"+n,".k-scheduler-monthview .k-event",function(t){s.trigger("edit",{uid:c(this).closest(".k-event").attr(k.attr("uid"))});t.preventDefault()})}},_touchEditable:function(){var s=this;if(s.options.editable.create!==false){s._addUserEvents=new k.UserEvents(s.element,{filter:".k-scheduler-monthview .k-scheduler-content td",tap:function(t){var v=c(t.target).offset();var w=s._slotByPosition(v.left,v.top);if(w){var u=s._resourceBySlot(w);s.trigger("add",{eventInfo:o({isAllDay:true,start:w.startDate(),end:w.startDate()},u)})}t.preventDefault()}})}if(s.options.editable.update!==false){s._editUserEvents=new k.UserEvents(s.element,{filter:".k-scheduler-monthview .k-event",tap:function(t){if(c(t.event.target).closest("a:has(.k-si-close)").length===0){s.trigger("edit",{uid:c(t.target).closest(".k-event").attr(k.attr("uid"))});t.preventDefault()}}})}},selectionByElement:function(s){var t=c(s).offset();return this._slotByPosition(t.left,t.top)},_columnCountForLevel:function(t){var s=this.columnLevels[t];return s?s.length:0},_rowCountForLevel:function(t){var s=this.rowLevels[t];return s?s.length:0},_content:function(){var s="<tbody>";var u=1;var t=this.groupedResources;if(t.length){if(this._isVerticallyGrouped()){u=this._rowCountForLevel(t.length-1)}}for(var v=0;v<u;v++){s+=this._createCalendar(v)}s+="</tbody>";this.content.find("table").html(s)},_createCalendar:function(z){var u=this.startDate();var B=d*q;var x=d;var E=[u];var y="";var C=1;var s=this._isVerticallyGrouped();var w=this.groupedResources;if(w.length){if(!s){C=this._columnCountForLevel(w.length-1)}}this._slotIndices={};for(var t=0,v=B/x;t<v;t++){y+="<tr>";E.push(u);var A=t*x;for(var D=0;D<C;D++){y+=this._createRow(u,A,x,s?z:D)}u=k.date.addDays(u,x);y+="</tr>"}this._weekStartDates=E;this._endDate=k.date.previousDay(u);return y},_createRow:function(t,B,w,D){var z=this;var x=z._firstDayOfMonth;var C=z._lastDayOfMonth;var A=z.dayTemplate;var v="";var y="";var u=function(){return z._resourceBySlot({groupIndex:D})};for(var s=0;s<w;s++){v="";if(k.date.isToday(t)){v+="k-today"}if(!k.date.isInDateRange(t,x,C)){v+=" k-other-month"}y+="<td ";if(v!==""){y+='class="'+v+'"'}y+=">";y+=A({date:t,resources:u});y+="</td>";z._slotIndices[h(t).getTime()]=B+s;t=k.date.nextDay(t)}return y},_layout:function(){var t=this.calendarInfo();var u=this._isMobile()?t.days.namesShort:t.days.names;var z=m(u,t.firstDay);var w=c.map(z,function(A){return{text:A}});var y=this.groupedResources;var x;if(y.length){if(this._isVerticallyGrouped()){var v=[];for(var s=0;s<6;s++){v.push({text:"<div>&nbsp;</div>",className:"k-hidden k-slot-cell"})}x=this._createRowsLayout(y,v,this.groupHeaderTemplate)}else{w=this._createColumnsLayout(y,w,this.groupHeaderTemplate)}}return{columns:w,rows:x}},_createEventElement:function(w){var t=this.options;var v=t.editable;var s=this._isMobile();w.showDelete=v&&v.destroy!==false&&!s;w.resizable=v&&v.resize!==false&&!s;w.ns=k.ns;w.resources=this.eventResources(w);w.inverseColor=w.resources&&w.resources[0]?this._shouldInverseResourceColor(w.resources[0]):false;var u=c(this.eventTemplate(w));this.angular("compile",function(){return{elements:u,data:[{dataItem:w}]}});return u},_isInDateSlot:function(v){var s=this.groups[0];var x=s.firstSlot().start;var w=s.lastSlot().end-1;var u=k.date.toUtcTime(v.start);var t=k.date.toUtcTime(v.end);return(i(u,x,w)||i(t,x,w)||i(x,u,t)||i(w,u,t))&&(!i(t,x,x)||i(t,u,u)||v.isAllDay)},_slotIndex:function(s){return this._slotIndices[h(s).getTime()]},_positionMobileEvent:function(w,u,A){var x=w.start;if(w.start.offsetLeft>w.end.offsetLeft){x=w.end}var z=w.start.index;var v=z;var s=3;var B=a.collidingEvents(w.events(),z,v);B.push({element:u,start:z,end:v});var C=a.createRows(B);var y=w.collection.at(z);var t=y.container;if(!t){t=c(k.format('<div class="k-events-container" style="top:{0};left:{1};width:{2}"/>',x.offsetTop+x.firstChildTop+x.firstChildHeight-3+"px",x.offsetLeft+"px",x.offsetWidth+"px"));y.container=t;this.content[0].appendChild(t[0])}if(C.length<=s){w.addEvent({element:u,start:z,end:v,groupIndex:x.groupIndex});A._continuousEvents.push({element:u,uid:u.attr(k.attr("uid")),start:w.start,end:w.end});t[0].appendChild(u[0])}},_positionEvent:function(u,t,C){var B=this.options.eventHeight;var E=u.start;if(u.start.offsetLeft>u.end.offsetLeft){E=u.end}var z=u.start.index;var v=u.end.index;var A=E.eventCount;var s=a.collidingEvents(u.events(),z,v);var F=z!==v?5:4;s.push({element:t,start:z,end:v});var D=a.createRows(s);for(var H=0,y=Math.min(D.length,A);H<y;H++){var I=D[H].events;var w=E.offsetTop+E.firstChildHeight+H*B+3*H+"px";for(var J=0,L=I.length;J<L;J++){I[J].element[0].style.top=w}}if(D.length>A){for(var K=z;K<=v;K++){var G=u.collection;var x=G.at(K);if(x.more){return}x.more=c(f({ns:k.ns,start:K,end:K,width:x.clientWidth-2,left:x.offsetLeft+2,top:x.offsetTop+x.firstChildHeight+A*B+3*A}));this.content[0].appendChild(x.more[0])}}else{u.addEvent({element:t,start:z,end:v,groupIndex:E.groupIndex});t[0].style.width=u.innerWidth()-F+"px";t[0].style.left=E.offsetLeft+2+"px";t[0].style.height=B+"px";C._continuousEvents.push({element:t,uid:t.attr(k.attr("uid")),start:u.start,end:u.end});t.appendTo(this.content)}},_slotByPosition:function(s,w){var u=this.content.offset();s-=u.left;w-=u.top;w+=this.content[0].scrollTop;s+=this.content[0].scrollLeft;s=Math.ceil(s);w=Math.ceil(w);for(var t=0;t<this.groups.length;t++){var v=this.groups[t].daySlotByPosition(s,w);if(v){return v}}return null},_createResizeHint:function(t){var w=t.startSlot().offsetLeft;var v=t.start.offsetTop;var u=t.innerWidth();var s=t.start.clientHeight-2;var x=a.fn._createResizeHint.call(this,w,v,u,s);x.appendTo(this.content);this._resizeHint=this._resizeHint.add(x)},_updateResizeHint:function(w,x,v,u){this._removeResizeHint();var y=this.groups[x];var t=y.ranges(v,u,true,w.isAllDay);for(var s=0;s<t.length;s++){this._createResizeHint(t[s])}this._resizeHint.find(".k-label-top,.k-label-bottom").text("");this._resizeHint.first().addClass("k-first").find(".k-label-top").text(k.toString(k.timezone.toLocalDate(v),"M/dd"));this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(k.toString(k.timezone.toLocalDate(u),"M/dd"))},_updateMoveHint:function(u,D,t){var w=k.date.toUtcTime(u.start)+t;var x=w+u.duration();var C=this.groups[D];var v=C.ranges(w,x,true,u.isAllDay);this._removeMoveHint();for(var y=0;y<v.length;y++){var A=v[y];var B=A.startSlot();var s=A.endSlot();var z=this._createEventElement(u.clone({head:A.head,tail:A.tail}));z.css({left:B.offsetLeft+2,top:B.offsetTop+B.firstChildHeight,height:this.options.eventHeight,width:A.innerWidth()-(B.index!==s.index?5:4)});z.addClass("k-event-drag-hint");z.appendTo(this.content);this._moveHint=this._moveHint.add(z)}},_groups:function(){var u=this._groupCount();var K=d;var C=q;this.groups=[];for(var E=0;E<u;E++){this._addResourceView(E)}var G=this.content[0].getElementsByTagName("tr");for(var t=0;t<u;t++){var A=0;var J=0;if(this._isVerticallyGrouped()){J=t}for(var D=J*C;D<(J+1)*C;D++){var z=this.groups[t];var F=z.addDaySlotCollection(k.date.addDays(this.startDate(),A),k.date.addDays(this.startDate(),A+K));var L=G[D];var v=L.children;var I=0;L.setAttribute("role","row");if(!this._isVerticallyGrouped()){I=t}for(var B=I*K;B<(I+1)*K;B++){var s=v[B];var y=s.clientHeight;var H=s.children.length?s.children[0].offsetHeight+3:0;var x=k.date.toUtcTime(k.date.addDays(this.startDate(),A));A++;var w=Math.floor((y-H-this.options.moreButtonHeight)/(this.options.eventHeight+3));s.setAttribute("role","gridcell");s.setAttribute("aria-selected",false);F.addDaySlot(s,x,x+k.date.MS_PER_DAY,w)}}}},render:function(s){this.content.children(".k-event,.k-more-events,.k-events-container").remove();this._groups();s=new k.data.Query(s).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var t=this.groupedResources;if(t.length){this._renderGroups(s,t,0,1)}else{this._renderEvents(s,0)}this.refreshLayout();this.trigger("activate")},_renderEvents:function(F,D){var s;var A;var v;var E=this._isMobilePhoneView();for(A=0,v=F.length;A<v;A++){s=F[A];if(this._isInDateSlot(s)){var C=this.groups[D];if(!C._continuousEvents){C._continuousEvents=[]}var t=C.slotRanges(s,true);var y=t.length;for(var x=0;x<y;x++){var z=t[x];var u=s.start;var w=s.end;if(y>1){if(x===0){w=z.end.endDate()}else{if(x==y-1){u=z.start.startDate()}else{u=z.start.startDate();w=z.end.endDate()}}}var B=s.clone({start:u,end:w,head:z.head,tail:z.tail});if(E){this._positionMobileEvent(z,this._createEventElement(B),C)}else{this._positionEvent(z,this._createEventElement(B),C)}}}}},_renderGroups:function(A,u,w,t){var v=u[0];if(v){var y=v.dataSource.view();for(var s=0;s<y.length;s++){var z=this._resourceValue(v,y[s]);var x=new k.data.Query(A).filter({field:v.field,operator:a.groupEqFilter(z)}).toArray();if(u.length>1){w=this._renderGroups(x,u.slice(1),w++,t+1)}else{this._renderEvents(x,w++)}}}return w},_groupCount:function(){var s=this.groupedResources;if(s.length){if(this._isVerticallyGrouped()){return this._rowCountForLevel(s.length-1)}else{return this._columnCountForLevel(s.length)/this._columnOffsetForResource(s.length)}}return 1},_columnOffsetForResource:function(s){return this._columnCountForLevel(s)/this._columnCountForLevel(s-1)},destroy:function(){if(this.table){this.table.removeClass("k-scheduler-monthview")}if(this.content){this.content.off(n)}if(this.element){this.element.off(n)}a.fn.destroy.call(this);if(this._isMobile()&&!this._isMobilePhoneView()&&this.options.editable){if(this.options.editable.create!==false){this._addUserEvents.destroy()}if(this.options.editable.update!==false){this._editUserEvents.destroy()}}},events:["remove","add","edit","navigate"],options:{title:"Month",name:"month",eventHeight:25,moreButtonHeight:13,editable:true,selectedDateFormat:"{0:y}",selectedShortDateFormat:"{0:y}",groupHeaderTemplate:"#=text#",dayTemplate:p,eventTemplate:e}});function m(t,s){return t.slice(s).concat(t.slice(0,s))}function g(v,s){var t=s.firstDay,u=new Date(v.getFullYear(),v.getMonth(),0,v.getHours(),v.getMinutes(),v.getSeconds(),v.getMilliseconds());while(u.getDay()!=t){k.date.setTime(u,-1*b)}return u}function i(v,u,s){var t=u,w=s,x;x=v;return x>=t&&x<=w}})(window.kendo.jQuery);(function(aj,o){var m=window.kendo,Q=m.timezone,ap=m.Class,D=m.ui,j=D.Widget,W=D.DropDownList,ab=m.date,g=ab.setTime,H=ab.setDayOfWeek,al=ab.adjustDST,p=ab.firstDayOfMonth,I=ab.getMilliseconds,n=[0,31,60,91,121,152,182,213,244,274,305,335,366],O=[0,31,59,90,120,151,181,212,243,273,304,334,365],w=[31,28,30,31,30,31,30,31,30,31,30,31],t={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},d={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},s=["yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-ddTHH","yyyy-MM-dd","yyyyMMddTHHmmssfffzzz","yyyyMMddTHHmmsszzz","yyyyMMddTHHmmss","yyyyMMddTHHmm","yyyyMMddTHH","yyyyMMdd"],i=["months","weeks","yearDays","monthDays","weekDays","hours","minutes","seconds"],ad=i.length,ae="yyyyMMddTHHmmssZ",x={months:function(ax,aw,az){var ay=az.months,av=ak(ay,ax.getMonth()+1),aA=false;if(av!==null){if(av.length){ax.setMonth(av[0]-1,1)}else{ax.setFullYear(ax.getFullYear()+1,ay[0]-1,1)}aA=true}return aA},monthDays:function(av,aw,aB){var aA,az,aD,ay=false,aC=av.getHours(),ax=function(aE){if(aE<0){aE=aA+aE}return aE};while(av<=aw){az=av.getMonth();aA=T(av);aD=ak(aB.monthDays,av.getDate(),ax);if(aD===null){return ay}ay=true;if(aD.length){av.setMonth(az,aD.sort(C)[0]);al(av,aC);if(az===av.getMonth()){break}}else{av.setMonth(az+1,1)}}return ay},yearDays:function(az,ax,aB){var aA,av,aC=false,aw=az.getHours(),ay=function(aD){if(aD<0){aD=aA+aD}return aD};while(az<ax){aA=q(az)?366:365;av=ak(aB.yearDays,b(az),ay);if(av===null){return aC}aC=true;aA=az.getFullYear();if(av.length){az.setFullYear(aA,0,av.sort(C)[0]);al(az,aw);break}else{az.setFullYear(aA+1,0,1)}}return aC},weeks:function(aw,ax,aB){var aE=aB.weekStart,aA,av,aC,az=false,aD=aw.getHours(),ay=function(aF){if(aF<0){aF=53+aF}return aF};while(aw<ax){av=ak(aB.weeks,ag(aw,aE),ay);if(av===null){return az}az=true;aA=aw.getFullYear();if(av.length){aC=(av.sort(C)[0]*7)-1;aw.setFullYear(aA,0,aC);H(aw,aE,-1);al(aw,aD);break}else{aw.setFullYear(aA+1,0,1)}}return az},weekDays:function(aw,ay,aA){var ax=aA.weekDays;var aD=aA.weekStart;var aC=P(ax,aw,aD);var aB=aw.getHours();var av,az;if(aC===null){return false}av=aC[0];if(!av){av=ax[0];H(aw,aD)}az=av.day;if(av.offset){while(aw<=ay&&!u(aw,av,aD)){if(z(aw,aD)===ah(aw,aD)){aw.setMonth(aw.getMonth()+1,1);al(aw,aB)}else{aw.setDate(aw.getDate()+7);al(aw,aB);H(aw,aD,-1)}}}if(aw.getDay()!==az){H(aw,az)}return true},hours:function(ay,ax,aB){var av=aB.hours,az=aB._startTime,aA=az.getHours(),aw=ak(av,aA),aC=false;if(aw!==null){aC=true;ay.setHours(aA);al(ay,aA);if(aw.length){aw=aw[0];ay.setHours(aw)}else{aw=ay.getHours();ay.setDate(ay.getDate()+1);al(ay,aw);aw=av[0];ay.setHours(aw);al(ay,aw)}if(aB.minutes){ay.setMinutes(0)}az.setHours(aw,ay.getMinutes())}return aC},minutes:function(az,ax,aB){var av=aB.minutes,ay=az.getMinutes(),aA=ak(av,ay),aw=aB._startTime.getHours(),aC=false;if(aA!==null){aC=true;if(aA.length){aA=aA[0]}else{aw+=1;aA=av[0]}if(aB.seconds){az.setSeconds(0)}az.setHours(aw,aA);aw=aw%24;al(az,aw);aB._startTime.setHours(aw,aA,az.getSeconds())}return aC},seconds:function(ay,ax,aA){var aw=aA.seconds,av=aA._startTime.getHours(),aC=ak(aw,ay.getSeconds()),az=ay.getMinutes(),aB=false;if(aC!==null){aB=true;if(aC.length){ay.setSeconds(aC[0])}else{az+=1;ay.setMinutes(az,aw[0]);if(az>59){az=az%60;av=(av+1)%24}}aA._startTime.setHours(av,az,ay.getSeconds())}return aB}},v=ap.extend({next:function(aw,az){var ay=az._startTime,av=ay.getDate(),ax,aA;if(az.seconds){aA=aw.getSeconds()+1;aw.setSeconds(aA);ay.setSeconds(aA);ay.setDate(av)}else{if(az.minutes){ax=aw.getMinutes()+1;aw.setMinutes(ax);ay.setMinutes(ax);ay.setDate(av)}else{return false}}return true},normalize:function(av){var aw=av.rule;if(av.idx===4&&aw.hours){aw._startTime.setHours(0);this._hour(av.date,aw)}},limit:function(aw,ax,aA){var av=aA.interval,aB,ay,aD,aC,az;while(aw<=ax){aD=ay=o;az=aw.getDate();for(aC=0;aC<ad;aC++){aB=i[aC];if(aA[aB]){aD=x[aB](aw,ax,aA);if(ay!==o&&aD){break}else{ay=aD}}if(aD){this.normalize({date:aw,rule:aA,day:az,idx:aC})}}if((av===1||!this.interval(aA,aw))&&aC===ad){break}}},interval:function(aE,aA){var aw=new Date(aE._startPeriod);var ay=new Date(aA);var aF=aA.getHours();var aI=aE.weekStart;var ax=aE.interval;var aC=aE.freq;var aH=false;var aB=0;var az=0;var aD=1;var aG;var av;if(aC==="hourly"){aG=ay.getTimezoneOffset()-aw.getTimezoneOffset();av=aE._startTime.getHours();ay=ay.getTime();if(aF!==av){ay+=(av-aF)*ab.MS_PER_HOUR}ay-=aw;if(aG){ay-=aG*ab.MS_PER_MINUTE}aG=Math.floor(ay/ab.MS_PER_HOUR);aB=A(aG,ax);if(aB!==0){this._hour(aA,aE,aB);aH=true}}else{if(aC==="daily"){ab.setTime(ay,-aw);aG=Math.floor(ay/ab.MS_PER_DAY);aB=A(aG,ax);if(aB!==0){this._date(aA,aE,aB);aH=true}}else{if(aC==="weekly"){aG=(aA.getFullYear()-aw.getFullYear())*52;aB=ag(aA,aI)-ag(aw,aI)+aG;aB=A(aB,ax);if(aB!==0){ab.setDayOfWeek(aA,aE.weekStart,-1);aA.setDate(aA.getDate()+(aB*7));al(aA,aF);aH=true}}else{if(aC==="monthly"){aG=aA.getFullYear()-aw.getFullYear();aG=aA.getMonth()-aw.getMonth()+(aG*12);aB=A(aG,ax);if(aB!==0){aD=aE._hasRuleValue?1:aA.getDate();aA.setFullYear(aA.getFullYear(),aA.getMonth()+aB,aD);al(aA,aF);aH=true}}else{if(aC==="yearly"){aG=aA.getFullYear()-aw.getFullYear();aB=A(aG,ax);if(!aE.months){az=aA.getMonth()}if(!aE.yearDays&&!aE.monthDays&&!aE.weekDays){aD=aA.getDate()}if(aB!==0){aA.setFullYear(aA.getFullYear()+aB,az,aD);al(aA,aF);aH=true}}}}}}return aH},_hour:function(ax,az,aw){var ay=az._startTime,av=ay.getHours();if(aw){av+=aw}ax.setHours(av);av=av%24;ay.setHours(av);al(ax,av)},_date:function(ax,ay,aw){var av=ax.getHours();ax.setDate(ax.getDate()+aw);if(!al(ax,av)){this._hour(ax,ay)}}}),F=v.extend({next:function(av,aw){if(!v.fn.next(av,aw)){this._hour(av,aw,1)}},normalize:function(av){var aw=av.rule;if(av.idx===4){aw._startTime.setHours(0);this._hour(av.date,aw)}}}),an=v.extend({next:function(av,aw){if(!v.fn.next(av,aw)){this[aw.hours?"_hour":"_date"](av,aw,1)}}}),M=an.extend({setup:function(aw,av){if(!aw.weekDays){aw.weekDays=[{day:av.getDay(),offset:0}]}}}),at=v.extend({next:function(ax,ay){var aw,av;if(!v.fn.next(ax,ay)){if(ay.hours){this._hour(ax,ay,1)}else{if(ay.monthDays||ay.weekDays||ay.yearDays||ay.weeks){this._date(ax,ay,1)}else{aw=ax.getDate();av=ax.getHours();ax.setMonth(ax.getMonth()+1);al(ax,av);while(ax.getDate()!==aw){ax.setDate(aw);al(ax,av)}this._hour(ax,ay)}}}},normalize:function(ax){var ay=ax.rule,aw=ax.date,av=aw.getHours();if(ax.idx===0&&!ay.monthDays&&!ay.weekDays){aw.setDate(ax.day);al(aw,av)}else{v.fn.normalize(ax)}},setup:function(ax,aw,av){if(!ax.monthDays&&!ax.weekDays){av.setDate(aw.getDate())}}}),S=at.extend({next:function(ax,ay){var aw,av=ax.getHours();if(!v.fn.next(ax,ay)){if(ay.hours){this._hour(ax,ay,1)}else{if(ay.monthDays||ay.weekDays||ay.yearDays||ay.weeks){this._date(ax,ay,1)}else{if(ay.months){aw=ax.getDate();ax.setMonth(ax.getMonth()+1);al(ax,av);while(ax.getDate()!==aw){ax.setDate(aw);al(ax,av)}this._hour(ax,ay)}else{ax.setFullYear(ax.getFullYear()+1);al(ax,av);this._hour(ax,ay)}}}}},setup:function(){}}),f={hourly:new F(),daily:new an(),weekly:new M(),monthly:new at(),yearly:new S()},ai="click";function A(ax,aw){var av;if(ax!==0&&ax<aw){av=aw-ax}else{av=ax%aw;if(av){av=aw-av}}return av}function b(av){var aw=av.getMonth();var ax=q(av)?n[aw]:O[aw];return ax+av.getDate()}function ag(aw,av){var ax,ay;aw=new Date(aw.getFullYear(),aw.getMonth(),aw.getDate());al(aw,0);ax=aw.getFullYear();if(av!==o){H(aw,av,-1);aw.setDate(aw.getDate()+4)}else{aw.setDate(aw.getDate()+(4-(aw.getDay()||7)))}al(aw,0);ay=Math.floor((aw.getTime()-new Date(ax,0,1,-6))/86400000);return 1+Math.floor(ay/7)}function z(aw,av){var ax=p(aw).getDay();var ay=7-(ax+7-(av||7))||7;if(ay<0){ay+=7}return Math.ceil((aw.getDate()-ay)/7)+1}function af(aw,av){return aw+(aw<av?7:0)}function E(aw,ay,aD){var ax=ay.offset;if(!ax){return z(aw,aD)}var av=new Date(aw.getFullYear(),aw.getMonth()+1,0);var aA=z(av,aD);var az=af(ay.day,aD);var aC=az<af(new Date(aw.getFullYear(),aw.getMonth(),1).getDay(),aD);var aB=az>af(av.getDay(),aD);if(ax<0){ax=aA+(ax+1-(aB?1:0))}else{if(aC){ax+=1}}aA-=(aB?1:0);if(ax<(aC?1:0)||ax>aA){return null}return ax}function ah(aw,av){return z(new Date(aw.getFullYear(),aw.getMonth()+1,0),av)}function u(aw,ax,av){return z(aw,av)===E(aw,ax,av)}function P(az,ay,aF){var aA=af(ay.getDay(),aF);var ax=az.length;var aw;var aB,aC;var av;var aE=[];var aD=0;for(;aD<ax;aD++){aB=az[aD];av=z(ay,aF);aw=E(ay,aB,aF);if(aw===null){continue}if(av<aw){aE.push(aB)}else{if(av===aw){aC=af(aB.day,aF);if(aA<aC){aE.push(aB)}else{if(aA===aC){return null}}}}}return aE}function ak(az,ay,aw){var av=0,ax=az.length,aB=[],aA;for(;av<ax;av++){aA=az[av];if(aw){aA=aw(aA)}if(ay===aA){return null}else{if(ay<aA){aB.push(aA)}}}return aB}function aq(az,aw){var av=0,ax=az.length,ay;for(;av<ax;av++){ay=parseInt(az[av],10);if(isNaN(ay)||ay<aw.start||ay>aw.end||(ay===0&&aw.start<0)){return null}az[av]=ay}return az.sort(C)}function e(aA){var av=0,ay=aA.length,az,ax,aw;for(;av<ay;av++){az=aA[av];ax=az.length;aw=az.substring(ax-2).toUpperCase();aw=d[aw];if(aw===o){return null}aA[av]={offset:parseInt(az.substring(0,ax-2),10)||0,day:aw}}return aA}function G(aA){var aw=0,ay=aA.length,az,ax,av=[];for(;aw<ay;aw++){az=aA[aw];if(typeof az==="string"){ax=az}else{ax=""+t[az.day];if(az.offset){ax=az.offset+ax}}av.push(ax)}return av.toString()}function T(av){var aw=av.getMonth();if(aw===1){if(new Date(av.getFullYear(),1,29).getMonth()===1){return 29}return 28}return w[aw]}function q(av){av=av.getFullYear();return((av%4===0)&&(av%100!==0))||(av%400===0)}function C(aw,av){return aw-av}function ar(ay,aw){var av=0,az,ax,aA=[];if(ay){ay=ay.split(";");az=ay.length;for(;av<az;av++){ax=h(ay[av],aw);if(ax){aA.push(ax)}}}return aA}function Z(ay,ax,aw){var aB=aj.isArray(ay)?ay:ar(ay,aw),aA=ax.getTime()-ax.getMilliseconds(),av=0,az=aB.length;for(;av<az;av++){if(aB[av].getTime()===aA){return true}}return false}function am(aA,ax){var aw=0;var az;var ay;var av=[].concat(aA);for(az=av.length;aw<az;aw++){ay=av[aw];ay=m.timezone.convert(ay,ax||ay.getTimezoneOffset(),"Etc/UTC");av[aw]=m.toString(ay,ae)}return av.join(";")+";"}function r(ax,aw){var av=new Date(ax);switch(aw.freq){case"yearly":av.setFullYear(av.getFullYear(),0,1);break;case"monthly":av.setFullYear(av.getFullYear(),av.getMonth(),1);break;case"weekly":H(av,aw.weekStart,-1);break;default:break}if(aw.hours){av.setHours(0)}if(aw.minutes){av.setMinutes(0)}if(aw.seconds){av.setSeconds(0)}return av}function U(ax,aw){var av=new Date(ax);switch(aw.freq){case"yearly":av.setFullYear(av.getFullYear(),11,31);break;case"monthly":av.setFullYear(av.getFullYear(),av.getMonth()+1,0);break;case"weekly":H(av,aw.weekStart,-1);av.setDate(av.getDate()+6);break;default:break}if(aw.hours){av.setHours(23)}if(aw.minutes){av.setMinutes(59)}if(aw.seconds){av.setSeconds(59)}return av}function V(aF,aw,aD){var ay=aF.slice(aD._startIdx);var aC=ay.length;var az=aD.positions;var aB=[];var aA;var av;for(var aE=0,ax=az.length;aE<ax;aE++){aA=az[aE];if(aA<0){aA=aC+aA}else{aA-=1}av=ay[aA];if(av&&av.start>=aw){aB.push(av)}}aF=aF.slice(0,aD._startIdx).concat(aB);aD._startIdx=aF.length;return aF}function R(aQ,aA,ax,aU){var aE=X(aQ.recurrenceRule,aU),aK,ay,aS,aR,aP,aG,aO,aC,aJ,aL,aN,aH,aT,aV,aB,aW,aw,aD,az,aF,aM,av=[];if(!aE){return[aQ]}aF=aE.positions;aM=aF?0:1;aL=aE.start;aN=aE.end;if(aL||aN){aQ=aQ.clone({start:aL?new Date(aL.value[0]):o,end:aN?new Date(aN.value[0]):o})}aw=aQ.start;aW=aw.getTime();aB=I(aw);aV=ar(aQ.recurrenceException,aU);if(!aV[0]&&aE.exdates){aV=aE.exdates.value;aQ.set("recurrenceException",am(aV,aU))}aC=aA=new Date(aA);ax=new Date(ax);aT=aE.freq;az=f[aT];aD=aE.count;if(aE.until&&aE.until<ax){ax=new Date(aE.until)}aH=aT==="yearly"||aT==="monthly"||aT==="weekly";if(aA<aW||aD||aE.interval>1||aH){aA=new Date(aW)}else{aR=aA.getHours();aP=aA.getMinutes();aG=aA.getSeconds();if(!aE.hours){aR=aw.getHours()}if(!aE.minutes){aP=aw.getMinutes()}if(!aE.seconds){aG=aw.getSeconds()}aA.setHours(aR,aP,aG,aw.getMilliseconds())}aE._startPeriod=new Date(aA);if(aF){aA=r(aA,aE);ax=U(ax,aE);var aI=I(ax)-I(aA);if(aI<0){aR=aA.getHours();ax.setHours(aR,aA.getMinutes(),aA.getSeconds(),aA.getMilliseconds());ab.adjustDST(ax,aR)}aE._startPeriod=new Date(aA);aE._endPeriod=U(aA,aE);aE._startIdx=0}aO=aQ.duration();aE._startTime=aK=ab.toInvariantTime(aA);if(az.setup){az.setup(aE,aw,aA)}az.limit(aA,ax,aE);while(aA<=ax){aS=new Date(aA);g(aS,aO);aJ=aA>=aC||aS>aC;if(aJ&&!Z(aV,aA,aU)||aF){aK=ab.toUtcTime(ab.getDate(aA))+I(aE._startTime);ay=aK+aO;if(aW!==aA.getTime()||aB!==I(aE._startTime)){av.push(aQ.toOccurrence({start:new Date(aA),end:aS,_startTime:aK,_endTime:ay}))}else{aQ._startTime=aK;aQ._endTime=ay;av.push(aQ)}}if(aF){az.next(aA,aE);az.limit(aA,ax,aE);if(aA>aE._endPeriod){av=V(av,aw,aE);aE._endPeriod=U(aA,aE);aM=av.length}if(aD&&aD===aM){break}}else{if(aD&&aD===aM){break}aM++;az.next(aA,aE);az.limit(aA,ax,aE)}}return av}function h(aw,av){aw=m.parseDate(aw,s);if(aw&&av){aw=Q.convert(aw,aw.getTimezoneOffset(),av)}return aw}function L(az,aA){var av=az.split(";");var ay;var aE;var aC;var ax;var aF,aD;for(var aB=0,aw=av.length;aB<aw;aB++){ay=av[aB].split(":");aE=ay[0];aC=ay[1];if(aE.indexOf("TZID")!==-1){ax=aE.substring(aE.indexOf("TZID")).split("=")[1]}if(aC){aC=aC.split(",");for(aF=0,aD=aC.length;aF<aD;aF++){aC[aF]=h(aC[aF],ax||aA)}}}if(aC){return{value:aC,tzid:ax}}}function X(aA,aB){var aI={};var aD,aE;var aF=0,aw;var az=false;var aC,av,ay;var aH,aJ,ax;var aG=function(aL,aK){var aN=aL.day,aM=aK.day;if(aN<aJ){aN+=7}if(aM<aJ){aM+=7}return aN-aM};if(!aA){return null}ay=aA.split("\n");if(!ay[1]&&(aA.indexOf("DTSTART")!==-1||aA.indexOf("DTEND")!==-1||aA.indexOf("EXDATE")!==-1)){ay=aA.split(" ")}for(aF=0,aw=ay.length;aF<aw;aF++){av=aj.trim(ay[aF]);if(av.indexOf("DTSTART")!==-1){aI.start=L(av,aB)}else{if(av.indexOf("DTEND")!==-1){aI.end=L(av,aB)}else{if(av.indexOf("EXDATE")!==-1){aI.exdates=L(av,aB)}else{if(av.indexOf("RRULE")!==-1){aC=av.substring(6)}else{if(aj.trim(av)){aC=av}}}}}}aC=aC.split(";");for(aF=0,aw=aC.length;aF<aw;aF++){aH=aC[aF];aD=aH.split("=");aE=aj.trim(aD[1]).split(",");switch(aj.trim(aD[0]).toUpperCase()){case"FREQ":aI.freq=aE[0].toLowerCase();break;case"UNTIL":aI.until=h(aE[0],aB);break;case"COUNT":aI.count=parseInt(aE[0],10);break;case"INTERVAL":aI.interval=parseInt(aE[0],10);break;case"BYSECOND":aI.seconds=aq(aE,{start:0,end:60});az=true;break;case"BYMINUTE":aI.minutes=aq(aE,{start:0,end:59});az=true;break;case"BYHOUR":aI.hours=aq(aE,{start:0,end:23});az=true;break;case"BYMONTHDAY":aI.monthDays=aq(aE,{start:-31,end:31});az=true;break;case"BYYEARDAY":aI.yearDays=aq(aE,{start:-366,end:366});az=true;break;case"BYMONTH":aI.months=aq(aE,{start:1,end:12});az=true;break;case"BYDAY":aI.weekDays=ax=e(aE);az=true;break;case"BYWEEKNO":aI.weeks=aq(aE,{start:-53,end:53});az=true;break;case"BYSETPOS":aI.positions=aq(aE,{start:-366,end:366});break;case"WKST":aI.weekStart=aJ=d[aE[0]];break}}if(aI.freq===o||(aI.count!==o&&aI.until)){return null}if(!aI.interval){aI.interval=1}if(aJ===o){aI.weekStart=aJ=m.culture().calendar.firstDay}if(ax){aI.weekDays=ax.sort(aG)}if(aI.positions&&!az){aI.positions=null}aI._hasRuleValue=az;return aI}function c(az,aw){var ay=az.value;var aB=az.tzid||"";var ax=ay.length;var av=0;var aA;for(;av<ax;av++){aA=ay[av];aA=Q.convert(aA,aB||aw||aA.getTimezoneOffset(),"Etc/UTC");ay[av]=m.toString(aA,"yyyyMMddTHHmmssZ")}if(aB){aB=";TZID="+aB}return aB+":"+ay.join(",")+" "}function a(aA,ay){var ax=aA.weekStart;var az="FREQ="+aA.freq.toUpperCase();var av=aA.exdates||"";var aC=aA.start||"";var aw=aA.end||"";var aB=aA.until;if(aA.interval>1){az+=";INTERVAL="+aA.interval}if(aA.count){az+=";COUNT="+aA.count}if(aB){aB=Q.convert(aB,ay||aB.getTimezoneOffset(),"Etc/UTC");az+=";UNTIL="+m.toString(aB,"yyyyMMddTHHmmssZ")}if(aA.months){az+=";BYMONTH="+aA.months}if(aA.weeks){az+=";BYWEEKNO="+aA.weeks}if(aA.yearDays){az+=";BYYEARDAY="+aA.yearDays}if(aA.monthDays){az+=";BYMONTHDAY="+aA.monthDays}if(aA.weekDays){az+=";BYDAY="+G(aA.weekDays)}if(aA.hours){az+=";BYHOUR="+aA.hours}if(aA.minutes){az+=";BYMINUTE="+aA.minutes}if(aA.seconds){az+=";BYSECOND="+aA.seconds}if(aA.positions){az+=";BYSETPOS="+aA.positions}if(ax!==o){az+=";WKST="+t[ax]}if(aC){aC="DTSTART"+c(aC,ay)}if(aw){aw="DTEND"+c(aw,ay)}if(av){av="EXDATE"+c(av,ay)}if(aC||aw||av){az=aC+aw+av+"RRULE:"+az}return az}m.recurrence={rule:{parse:X,serialize:a},expand:R,dayInYear:b,weekInYear:ag,weekInMonth:z,numberOfWeeks:ah,isException:Z,toExceptionString:am};var y=function(ay){var az=m.culture().calendar.days.namesShort,aA=az.length,aw="",av=0,ax=[];for(;av<aA;av++){ax.push(av)}az=az.slice(ay).concat(az.slice(0,ay));ax=ax.slice(ay).concat(ax.slice(0,ay));for(av=0;av<aA;av++){aw+='<label class="k-check"><input class="k-recur-weekday-checkbox" type="checkbox" value="'+ax[av]+'" /> '+az[av]+"</label>"}return aw};var k=m.template('# if (frequency !== "never") { #<div class="k-edit-label"><label>#:messages.repeatEvery#</label></div><div class="k-edit-field"><input class="k-recur-interval"/>#:messages.interval#</div># } ## if (frequency === "weekly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field">#=weekDayCheckBoxes(firstWeekDay)#</div># } else if (frequency === "monthly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-month-radio" type="radio" name="month" value="monthday" />#:messages.day#</label><input class="k-recur-monthday" /></li><li><input class="k-recur-month-radio" type="radio" name="month" value="weekday" /><input class="k-recur-weekday-offset" /><input class="k-recur-weekday" /></li></ul></div># } else if (frequency === "yearly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field"><ul class="k-reset"><li><input class="k-recur-year-radio" type="radio" name="year" value="monthday" /><input class="k-recur-month" /><input class="k-recur-monthday" /></li><li><input class="k-recur-year-radio" type="radio" name="year" value="weekday" /><input class="k-recur-weekday-offset" /><input class="k-recur-weekday" />#:messages.of#<input class="k-recur-month" /></li></ul></div># } ## if (frequency !== "never") { #<div class="k-edit-label"><label>#:end.label#</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-end-never" type="radio" name="end" value="never" />#:end.never#</label></li><li><label><input class="k-recur-end-count" type="radio" name="end" value="count" />#:end.after#</label><input class="k-recur-count" />#:end.occurrence#</li><li><label><input class="k-recur-end-until" type="radio" name="end" value="until" />#:end.on#</label><input class="k-recur-until" /></li></ul></div># } #');var ao=[{day:0,offset:0},{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0},{day:6,offset:0}];var J=[{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0}];var B=[{day:0,offset:0},{day:6,offset:0}];var ac=j.extend({init:function(aw,av){var az;var ax=this;var ay=av&&av.frequencies;j.fn.init.call(ax,aw,av);ax.wrapper=ax.element;av=ax.options;av.start=az=av.start||ab.today();if(ay){av.frequencies=ay}if(typeof az==="string"){av.start=m.parseDate(az,"yyyyMMddTHHmmss")}if(av.firstWeekDay===null){av.firstWeekDay=m.culture().calendar.firstDay}ax._namespace="."+av.name},options:{value:"",start:"",timezone:"",spinners:true,firstWeekDay:null,frequencies:["never","daily","weekly","monthly","yearly"],mobile:false,messages:{frequencies:{never:"Never",hourly:"Hourly",daily:"Daily",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly"},hourly:{repeatEvery:"Repeat every: ",interval:" hour(s)"},daily:{repeatEvery:"Repeat every: ",interval:" day(s)"},weekly:{interval:" week(s)",repeatEvery:"Repeat every: ",repeatOn:"Repeat on: "},monthly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" month(s)",day:"Day "},yearly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" year(s)",of:" of "},end:{label:"End:",mobileLabel:"Ends",never:"Never",after:"After ",occurrence:" occurrence(s)",on:"On "},offsetPositions:{first:"first",second:"second",third:"third",fourth:"fourth",last:"last"},weekdays:{day:"day",weekday:"weekday",weekend:"weekend day"}}},events:["change"],_initInterval:function(){var av=this;var aw=av._value;av._container.find(".k-recur-interval").kendoNumericTextBox({spinners:av.options.spinners,value:aw.interval||1,decimals:0,format:"#",min:1,change:function(){aw.interval=this.value();av._trigger()}})},_weekDayRule:function(av){var ax=this;var ay=(ax._weekDay.element||ax._weekDay).val();var aA=Number((ax._weekDayOffset.element||ax._weekDayOffset).val());var az=null;var aw=null;if(!av){if(ay==="day"){az=ao;aw=aA}else{if(ay==="weekday"){az=J;aw=aA}else{if(ay==="weekend"){az=B;aw=aA}else{az=[{offset:aA,day:Number(ay)}]}}}}ax._value.weekDays=az;ax._value.positions=aw},_weekDayView:function(){var aA=this;var aB=aA._value.weekDays;var aw=aA._value.positions;var ax=aA._weekDayOffset;var ay;var av;var az;var aC;if(aB){az=aB.length;if(aw){if(az===7){av="day";ay=aw}else{if(az===5){av="weekday";ay=aw}else{if(az===2){av="weekend";ay=aw}}}}if(!av){aB=aB[0];av=aB.day;ay=aB.offset||""}aC=ax.value?"value":"val";ax[aC](ay);aA._weekDay[aC](av)}},_initWeekDay:function(){var ay=this,az;var av=ay.options.messages.weekdays;var ax=ay.options.messages.offsetPositions;var aw=ay._container.find(".k-recur-weekday");var aA=function(){ay._weekDayRule();ay._trigger()};if(aw[0]){ay._weekDayOffset=new W(ay._container.find(".k-recur-weekday-offset"),{change:aA,dataTextField:"text",dataValueField:"value",dataSource:[{text:ax.first,value:"1"},{text:ax.second,value:"2"},{text:ax.third,value:"3"},{text:ax.fourth,value:"4"},{text:ax.last,value:"-1"}]});az=[{text:av.day,value:"day"},{text:av.weekday,value:"weekday"},{text:av.weekend,value:"weekend"}];ay._weekDay=new W(aw,{value:ay.options.start.getDay(),change:aA,dataTextField:"text",dataValueField:"value",dataSource:az.concat(aj.map(m.culture().calendar.days.names,function(aC,aB){return{text:aC,value:aB}}))});ay._weekDayView()}},_initWeekDays:function(){var aA=this;var aB=aA._value;var aC=aA._container.find(".k-recur-weekday-checkbox");if(aC[0]){aC.on(ai+aA._namespace,function(){aB.weekDays=aj.map(aC.filter(":checked"),function(aD){return{day:Number(aD.value),offset:0}});if(!aA.options.mobile){aA._trigger()}});if(aB.weekDays){var av,ax;var ay=0,aw=aC.length;var az=aB.weekDays.length;for(;ay<aw;ay++){ax=aC[ay];for(av=0;av<az;av++){if(ax.value==aB.weekDays[av].day){ax.checked=true}}}}}},_initMonthDay:function(){var aw=this;var ax=aw._value;var av=aw._container.find(".k-recur-monthday");if(av[0]){aw._monthDay=new m.ui.NumericTextBox(av,{spinners:aw.options.spinners,min:1,max:31,decimals:0,format:"#",value:ax.monthDays?ax.monthDays[0]:aw.options.start.getDate(),change:function(){var ay=this.value();ax.monthDays=ay?[ay]:ay;aw._trigger()}})}},_initCount:function(){var aw=this,av=aw._container.find(".k-recur-count"),ax=aw._value;aw._count=av.kendoNumericTextBox({spinners:aw.options.spinners,value:ax.count||1,decimals:0,format:"#",min:1,change:function(){ax.count=this.value();aw._trigger()}}).data("kendoNumericTextBox")},_initUntil:function(){var aw=this,av=aw._container.find(".k-recur-until"),az=aw.options.start,ax=aw._value,ay=ax.until;aw._until=av.kendoDatePicker({min:ay&&ay<az?ay:az,value:ay||new Date(az.getFullYear(),az.getMonth(),az.getDate(),23,59,59),change:function(){var aA=this.value();ax.until=new Date(aA.getFullYear(),aA.getMonth(),aA.getDate(),23,59,59);aw._trigger()}}).data("kendoDatePicker")},_trigger:function(){if(!this.options.mobile){this.trigger("change")}}});var Y=ac.extend({init:function(aw,av){var ax=this;ac.fn.init.call(ax,aw,av);ax._initFrequency();ax._initContainer();ax.value(ax.options.value)},options:{name:"RecurrenceEditor"},events:["change"],destroy:function(){var av=this;av._frequency.destroy();av._container.find("input[type=radio],input[type=checkbox]").off(ai+av._namespace);m.destroy(av._container);ac.fn.destroy.call(av)},value:function(ax){var aw=this;var av=aw.options.timezone;var ay;if(ax===o){if(!aw._value.freq){return""}return a(aw._value,av)}aw._value=X(ax,av)||{};ay=aw._value.freq;if(ay){aw._frequency.value(ay)}else{aw._frequency.select(0)}aw._initView(aw._frequency.value())},_initContainer:function(){var aw=this.element,av=aj('<div class="k-recur-view" />'),ax=aw.parent(".k-edit-field");if(ax[0]){av.insertAfter(ax)}else{aw.append(av)}this._container=av},_initFrequency:function(){var ax=this,av=ax.options,az=av.frequencies,aw=av.messages.frequencies,aA=aj("<input />"),ay;az=aj.map(az,function(aB){return{text:aw[aB],value:aB}});ay=az[0];if(ay&&ay.value==="never"){ay.value=""}ax.element.append(aA);ax._frequency=new W(aA,{dataTextField:"text",dataValueField:"value",dataSource:az,change:function(){ax._value={};ax._initView(ax._frequency.value());ax.trigger("change")}})},_initView:function(az){var aw=this;var ay=aw._value;var av=aw.options;var ax={frequency:az||"never",weekDayCheckBoxes:y,firstWeekDay:av.firstWeekDay,messages:av.messages[az],end:av.messages.end};m.destroy(aw._container);aw._container.html(k(ax));if(!az){aw._value={};return}ay.freq=az;if(az==="weekly"&&!ay.weekDays){ay.weekDays=[{day:av.start.getDay(),offset:0}]}aw._initInterval();aw._initWeekDays();aw._initMonthDay();aw._initWeekDay();aw._initMonth();aw._initCount();aw._initUntil();aw._period();aw._end()},_initMonth:function(){var ax=this;var az=ax._value;var ay=az.months||[ax.options.start.getMonth()+1];var av=ax._container.find(".k-recur-month");var aw;if(av[0]){aw={change:function(){az.months=[Number(this.value())];ax.trigger("change")},dataTextField:"text",dataValueField:"value",dataSource:aj.map(m.culture().calendar.months.names,function(aB,aA){return{text:aB,value:aA+1}})};ax._month1=new W(av[0],aw);ax._month2=new W(av[1],aw);if(ay){ay=ay[0];ax._month1.value(ay);ax._month2.value(ay)}}},_end:function(){var az=this;var aA=az._value;var av=az._container;var ax=az._namespace;var ay=function(aB){az._toggleEnd(aB.currentTarget.value);az.trigger("change")};var aw;az._buttonNever=av.find(".k-recur-end-never").on(ai+ax,ay);az._buttonCount=av.find(".k-recur-end-count").on(ai+ax,ay);az._buttonUntil=av.find(".k-recur-end-until").on(ai+ax,ay);if(aA.count){aw="count"}else{if(aA.until){aw="until"}}az._toggleEnd(aw)},_period:function(){var az=this;var aA=az._value;var aw=aA.freq==="monthly";var ay=aw?az._toggleMonthDay:az._toggleYear;var av=".k-recur-"+(aw?"month":"year")+"-radio";var ax=az._container.find(av);if(!aw&&aA.freq!=="yearly"){return}ax.on(ai+az._namespace,function(aB){ay.call(az,aB.currentTarget.value);az.trigger("change")});az._buttonMonthDay=ax.eq(0);az._buttonWeekDay=ax.eq(1);ay.call(az,aA.weekDays?"weekday":"monthday")},_toggleEnd:function(aw){var az=this;var ay,aA;var av,ax;if(aw==="count"){az._buttonCount.prop("checked",true);av=true;ax=false;ay=az._count.value();aA=null}else{if(aw==="until"){az._buttonUntil.prop("checked",true);av=false;ax=true;ay=null;aA=az._until.value()}else{az._buttonNever.prop("checked",true);av=ax=false;ay=aA=null}}az._count.enable(av);az._until.enable(ax);az._value.count=ay;az._value.until=aA},_toggleMonthDay:function(az){var ay=this;var ax=false;var aw=true;var av=false;var aA;if(az==="monthday"){ay._buttonMonthDay.prop("checked",true);aA=[ay._monthDay.value()];ax=true;aw=false;av=true}else{ay._buttonWeekDay.prop("checked",true);aA=null}ay._weekDay.enable(aw);ay._weekDayOffset.enable(aw);ay._monthDay.enable(ax);ay._value.monthDays=aA;ay._weekDayRule(av)},_toggleYear:function(az){var ax=this;var aw=false;var av=true;var ay;if(az==="monthday"){aw=true;av=false;ay=ax._month1.value()}else{ay=ax._month2.value()}ax._month1.enable(aw);ax._month2.enable(av);ax._value.months=[ay];ax._toggleMonthDay(az)}});D.plugin(Y);var N=m.template('<div class="k-edit-label"><label>#:headerTitle#</label></div><div class="k-edit-field k-recur-pattern k-scheduler-toolbar"></div><div class="k-recur-view"></div>');var au=m.template('# if (frequency !== "never") { #<div class="k-edit-label"><label>#:messages.repeatEvery#</label></div><div class="k-edit-field"><input class="k-recur-interval" pattern="\\\\d*"/>#:messages.interval#</div># } ## if (frequency === "weekly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field">#=weekDayCheckBoxes(firstWeekDay)#</div># } else if (frequency === "monthly") { #<div class="k-edit-label"><label>#:messages.repeatBy#</label></div><div class="k-edit-field k-scheduler-toolbar k-repeat-rule"></div><div class="k-monthday-view" style="display:none"><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><input class="k-recur-monthday" pattern="\\\\d*"/></div></div><div class="k-weekday-view" style="display:none"><div class="k-edit-label"><label>#:messages.every#</label></div><div class="k-edit-field"><select class="k-recur-weekday-offset"></select></div><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><select class="k-recur-weekday"></select></div></div># } else if (frequency === "yearly") { #<div class="k-edit-label"><label>#:messages.repeatBy#</label></div><div class="k-edit-field k-scheduler-toolbar k-repeat-rule"></div><div class="k-monthday-view" style="display:none"><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><input class="k-recur-monthday" pattern="\\\\d*"/></div></div><div class="k-weekday-view" style="display:none"><div class="k-edit-label"><label>#:messages.every#</label></div><div class="k-edit-field"><select class="k-recur-weekday-offset"></select></div><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><select class="k-recur-weekday"></select></div></div><div class="k-edit-label"><label>#:messages.month#</label></div><div class="k-edit-field"><select class="k-recur-month"></select></div># } #');var l=m.template('# if (endPattern === "count") { #<div class="k-edit-label"><label>#:messages.after#</label></div><div class="k-edit-field"><input class="k-recur-count" pattern="\\\\d*" /></div># } else if (endPattern === "until") { #<div class="k-edit-label"><label>#:messages.on#</label></div><div class="k-edit-field"><input type="date" class="k-recur-until" /></div># } #');var K=m.template('<ul class="k-reset k-header k-scheduler-navigation">#for (var i = 0, length = dataSource.length; i < length; i++) {#<li class="k-state-default #= value === dataSource[i].value ? "k-state-selected" : "" #"><a role="button" href="\\#" class="k-link" data-#=ns#value="#=dataSource[i].value#">#:dataSource[i].text#</a></li>#}#</ul>');var aa=ac.extend({init:function(aw,av){var ax=this;ac.fn.init.call(ax,aw,av);av=ax.options;ax._optionTemplate=m.template('<option value="#:value#">#:text#</option>');ax.value(av.value);ax._pane=av.pane;ax._initRepeatButton();ax._initRepeatEnd();ax._defaultValue=ax._value},options:{name:"MobileRecurrenceEditor",animations:{left:"slide",right:"slide:right"},mobile:true,messages:{cancel:"Cancel",update:"Save",endTitle:"Repeat ends",repeatTitle:"Repeat pattern",headerTitle:"Repeat event",end:{patterns:{never:"Never",after:"After...",on:"On..."},never:"Never",after:"End repeat after",on:"End repeat on"},daily:{interval:""},hourly:{interval:""},weekly:{interval:""},monthly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every",every:"Every",day:"Day "},yearly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every: ",every:"Every",month:"Month",day:"Day"}}},events:["change"],value:function(ax){var aw=this;var av=aw.options.timezone;if(ax===o){if(!aw._value.freq){return""}return a(aw._value,av)}aw._value=X(ax,av)||{}},destroy:function(){this._destroyView();m.destroy(this._endFields);this._repeatButton.off(ai+this._namespace);ac.fn.destroy.call(this)},_initRepeatButton:function(){var av=this;var aw=av.options.messages.frequencies[this._value.freq||"never"];av._repeatButton=aj('<a href="#" class="k-button k-scheduler-recur">'+aw+"</a>").on(ai+av._namespace,function(ax){ax.preventDefault();av._createView("repeat");av._pane.navigate("recurrence",av.options.animations.left)});av.element.append(av._repeatButton)},_initRepeatEnd:function(){var aw=this;var av=aj('<div class="k-edit-label"><label>'+aw.options.messages.end.mobileLabel+"</label></div>").insertAfter(aw.element.parent(".k-edit-field"));var ax=aj('<div class="k-edit-field"><a href="#" class="k-button k-scheduler-recur-end"></a></div>').on(ai+aw._namespace,function(ay){ay.preventDefault();if(!aw._value.freq){return}aw._createView("end");aw._pane.navigate("recurrence",aw.options.animations.left)}).insertAfter(av);aw._endFields=av.add(ax).toggleClass("k-state-disabled",!aw._value.freq);aw._endButton=ax.find(".k-scheduler-recur-end").text(aw._endText())},_endText:function(){var aw=this._value;var av=this.options.messages.end;var ax=av.never;if(aw.count){ax=m.format("{0} {1}",av.after,aw.count)}else{if(aw.until){ax=m.format("{0} {1:d}",av.on,aw.until)}}return ax},_initFrequency:function(){var aw=this;var ax=aw.options.messages.frequencies;var av=K({dataSource:aj.map(this.options.frequencies,function(ay){return{text:ax[ay],value:ay!=="never"?ay:""}}),value:aw._value.freq||"",ns:m.ns});aw._view.element.find(".k-recur-pattern").append(av).on(ai+aw._namespace,".k-scheduler-navigation li",function(az){var ay=aj(this);az.preventDefault();ay.addClass("k-state-selected").siblings().removeClass("k-state-selected");aw._value={freq:ay.children("a").attr(m.attr("value"))};aw._initRepeatView()})},_initEndNavigation:function(){var ax=this;var av=ax.options.messages.end.patterns;var az=ax._value;var ay="";if(az.count){ay="count"}else{if(az.until){ay="until"}}var aw=K({dataSource:[{text:av.never,value:""},{text:av.after,value:"count"},{text:av.on,value:"until"}],value:ay,ns:m.ns});ax._view.element.find(".k-recur-pattern").append(aw).on(ai+ax._namespace,".k-scheduler-navigation li",function(aC){var aA=aj(this);var aB=null;var aD=null;aC.preventDefault();aA.addClass("k-state-selected").siblings().removeClass("k-state-selected");ax._initEndView(aA.children("a").attr(m.attr("value")));if(ax._count){aB=ax._count.value();aD=null}else{if(ax._until){aB=null;aD=ax._until.val?m.parseDate(ax._until.val(),"yyyy-MM-dd"):ax._until.value()}}az.count=aB;az.until=aD})},_createView:function(av){var az=this;var aw=az.options;var ay=aw.messages;var aA=ay[av==="repeat"?"repeatTitle":"endTitle"];var ax='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="recurrence"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+ay.cancel+"</a>"+ay.headerTitle+'<a href="#" class="k-button k-scheduler-update">'+ay.update+"</a></div>";var aB=az._pane.view().id;az._view=az._pane.append(ax+N({headerTitle:aA}));az._view.element.on(ai+az._namespace,"a.k-scheduler-cancel, a.k-scheduler-update",function(aD){aD.preventDefault();aD.stopPropagation();if(aj(this).hasClass("k-scheduler-update")){az.trigger("change");az._defaultValue=aj.extend({},az._value)}else{az._value=az._defaultValue}var aC=az._value.freq;az._endButton.text(az._endText());az._endFields.toggleClass("k-state-disabled",!aC);az._repeatButton.text(ay.frequencies[aC||"never"]);az._pane.one("viewShow",function(){az._destroyView()});az._pane.navigate(aB,az.options.animations.right)});az._container=az._view.element.find(".k-recur-view");if(av==="repeat"){az._initFrequency();az._initRepeatView()}else{az._initEndNavigation();az._initEndView()}},_destroyView:function(){if(this._view){this._view.destroy();this._view.element.remove()}this._view=null},_initRepeatView:function(){var ax=this;var aA=ax._value.freq||"never";var ay={frequency:aA,weekDayCheckBoxes:y,firstWeekDay:ax.options.firstWeekDay,messages:ax.options.messages[aA]};var aw=au(ay);var av=ax._container;var az=ax._value;m.destroy(av);av.html(aw);if(!aw){ax._value={};return}if(aA==="weekly"&&!az.weekDays){az.weekDays=[{day:ax.options.start.getDay(),offset:0}]}ax._initInterval();ax._initMonthDay();ax._initWeekDays();ax._initWeekDay();ax._initMonth();ax._period()},_initEndView:function(ax){var av=this;var ay=av._value;if(ax===o){if(ay.count){ax="count"}else{if(ay.until){ax="until"}}}var aw={endPattern:ax,messages:av.options.messages.end};m.destroy(av._container);av._container.html(l(aw));av._initCount();av._initUntil()},_initWeekDay:function(){var ay=this,az;var av=ay.options.messages.weekdays;var ax=ay.options.messages.offsetPositions;var aw=ay._container.find(".k-recur-weekday");var aA=function(){ay._weekDayRule();ay.trigger("change")};if(aw[0]){ay._weekDayOffset=ay._container.find(".k-recur-weekday-offset").html(ay._options([{text:ax.first,value:"1"},{text:ax.second,value:"2"},{text:ax.third,value:"3"},{text:ax.fourth,value:"4"},{text:ax.last,value:"-1"}])).change(aA);az=[{text:av.day,value:"day"},{text:av.weekday,value:"weekday"},{text:av.weekend,value:"weekend"}];az=az.concat(aj.map(m.culture().calendar.days.names,function(aC,aB){return{text:aC,value:aB}}));ay._weekDay=aw.html(ay._options(az)).change(aA).val(ay.options.start.getDay());ay._weekDayView()}},_initMonth:function(){var ax=this;var aA=ax._value;var aB=ax.options.start;var az=aA.months||[aB.getMonth()+1];var av=ax._container.find(".k-recur-month");var aw=m.culture().calendar.months.names;if(av[0]){var ay=aj.map(aw,function(aD,aC){return{text:aD,value:aC+1}});av.html(ax._options(ay)).change(function(){aA.months=[Number(this.value)]});ax._monthSelect=av;if(az){av.val(az[0])}}},_period:function(){var aB=this;var aC=aB._value;var ax=aB._container;var az=aB.options.messages[aC.freq];var av=ax.find(".k-repeat-rule");var aw=ax.find(".k-weekday-view");var ay=ax.find(".k-monthday-view");if(av[0]){var aD=aC.weekDays?"weekday":"monthday";var aA=K({value:aD,dataSource:[{text:az.dayOfMonth,value:"monthday"},{text:az.dayOfWeek,value:"weekday"}],ns:m.ns});var aE=function(aJ){var aG=aB._weekDay.val();var aF=aB._weekDayOffset.val();var aH=aB._monthDay.value();var aI=aB._monthSelect?aB._monthSelect.val():null;if(aJ==="monthday"){aC.weekDays=null;aC.monthDays=aH?[aH]:aH;aC.months=aI?[Number(aI)]:aI;aw.hide();ay.show()}else{aC.monthDays=null;aC.months=aI?[Number(aI)]:aI;aC.weekDays=[{offset:Number(aF),day:Number(aG)}];aw.show();ay.hide()}};av.append(aA).on(ai+aB._namespace,".k-scheduler-navigation li",function(aH){var aF=aj(this).addClass("k-state-selected");aH.preventDefault();aF.siblings().removeClass("k-state-selected");var aG=aF.children("a").attr(m.attr("value"));aE(aG)});aE(aD)}},_initUntil:function(){var ax=this;var av=ax._container.find(".k-recur-until");var aA=ax.options.start;var ay=ax._value;var az=ay.until;var aw=az&&az<aA?az:aA;if(m.support.input.date){ax._until=av.attr("min",m.toString(aw,"yyyy-MM-dd")).val(m.toString(az||aA,"yyyy-MM-dd")).on("change",function(){ay.until=m.parseDate(this.value,"yyyy-MM-dd")})}else{ax._until=av.kendoDatePicker({min:aw,value:az||aA,change:function(){ay.until=this.value()}}).data("kendoDatePicker")}},_options:function(aA,az){var av=0;var aw="";var ay=aA.length;var ax=this._optionTemplate;if(az){aw+=ax({value:"",text:az})}for(;av<ay;av++){aw+=ax(aA[av])}return aw}});D.plugin(aa)})(window.kendo.jQuery);(function(d,f){var m=window.kendo,l=m.ui,k=m.date.setTime,a=l.SchedulerView,t=d.extend,r=d.proxy,j=m.date.getDate,u=m.date.getMilliseconds,b=m.date.MS_PER_DAY,e=m.date.MS_PER_MINUTE,s=".kendoTimelineView";var h=m.template('<div><div class="k-event-template k-event-time">#:kendo.format("{0:t} - {1:t}", start, end)#</div><div class="k-event-template">${title}</div></div>'),i=m.template("<span class='k-link k-nav-day'>#=kendo.format('{0:m}', date)#</span>"),v='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color#; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#" #} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head) {#<span class="k-icon k-i-arrow-e"></span>#}#</span>#if(resizable && !data.tail){#<span class="k-resize-handle k-resize-w"></span>#}##if(resizable && !data.head){#<span class="k-resize-handle k-resize-e"></span>#}#</div>';function c(w){var x=new Date(1980,1,1,0,0,0);k(x,u(w));return x}function g(w){var x=[];var y=w.workWeekStart;x.push(y);while(w.workWeekEnd!=y){if(y>6){y-=7}else{y++}x.push(y)}return x}function q(w){var y=0;if(w.columns){for(var x=0;x<w.columns.length;x++){y+=q(w.columns[x])}w.colspan=y;return y}else{w.colspan=1;return 1}}function o(A,B,x){var w,y,C,z;for(w=A.length-1;w>=0;w--){y=A[w].rectLeft;z=A[w].rectRight;C=y<=B&&z>=B;if(C||(y>=B&&z<=x)||(B<=y&&x>=y)){if(y<B){B=y}if(z>x){x=z}}}return p(A,B,x)}function p(A,B,y){var x=[];for(var w=0;w<A.length;w++){var z={rectLeft:A[w].rectLeft,rectRight:A[w].rectRight};if((z.rectLeft<B&&z.rectRight>B)||(z.rectLeft>=B&&z.rectRight<=y)){x.push(A[w])}}return x}var n=a.extend({init:function(x,w){var y=this;a.fn.init.call(y,x,w);y.title=y.options.title||y.options.name;y._workDays=g(y.options);y._templates();y._editable();y.calculateDateRange();y._groups();y._currentTime()},name:"timeline",_currentTimeMarkerUpdater:function(){var x=new Date();var J=this.options;this.datesHeader.find(".k-current-time").remove();if(!this._isInDateSlot({start:x,end:x})){return}if(J.currentTimeMarker.useLocalTimezone===false){var D=J.dataSource.options.schema.timezone;if(J.dataSource&&D){var G=m.timezone.offset(x,D);x=m.timezone.convert(x,x.getTimezoneOffset(),G)}}var y=!J.group||J.group.orientation=="vertical"?1:this.groups.length;for(var H=0;H<y;H++){var I=this.groups[H];var F=m.date.toUtcTime(x);var w=I.timeSlotRanges(F,F+1);if(w.length===0){return}var C=w[0].collection;var B=C.slotByStartDate(x);if(B){var A=d("<div class='k-current-time'></div>");var E=this.datesHeader;var z=Math.round(w[0].innerRect(x,new Date(x.getTime()+1),false).left);A.appendTo(E.find(".k-scheduler-header-wrap")).css({left:this._adjustLeftPosition(z),width:"1px",bottom:"1px",top:0})}}},_adjustLeftPosition:function(w){if(this._isRtl){w-=(this.content[0].scrollWidth-this.content[0].offsetWidth)}return w},_currentTime:function(){var x=this;var w=x.options.currentTimeMarker;if(w!==false&&w.updateInterval!==f){var y=w.updateInterval;x._currentTimeMarkerUpdater();x._currentTimeUpdateTimer=setInterval(r(this._currentTimeMarkerUpdater,x),y)}},_editable:function(){if(this.options.editable){if(this._isMobile()){this._touchEditable()}else{this._mouseEditable()}}},_mouseEditable:function(){var w=this;w.element.on("click"+s,".k-event a:has(.k-si-close)",function(x){w.trigger("remove",{uid:d(this).closest(".k-event").attr(m.attr("uid"))});x.preventDefault()});if(w.options.editable.create!==false){w.element.on("dblclick"+s,".k-scheduler-content td",function(x){var z=w._slotByPosition(x.pageX,x.pageY);if(z){var y=w._resourceBySlot(z);w.trigger("add",{eventInfo:t({start:z.startDate(),end:z.endDate()},y)})}x.preventDefault()})}if(w.options.editable.update!==false){w.element.on("dblclick"+s,".k-event",function(x){w.trigger("edit",{uid:d(this).closest(".k-event").attr(m.attr("uid"))});x.preventDefault()})}},_touchEditable:function(){var w=this;if(w.options.editable.create!==false){w._addUserEvents=new m.UserEvents(w.element,{filter:".k-scheduler-content td",tap:function(x){var z=w._slotByPosition(x.x.location,x.y.location);if(z){var y=w._resourceBySlot(z);w.trigger("add",{eventInfo:t({start:z.startDate(),end:z.endDate()},y)})}x.preventDefault()}})}if(w.options.editable.update!==false){w._editUserEvents=new m.UserEvents(w.element,{filter:".k-event",tap:function(y){var x=d(y.target).closest(".k-event");if(!x.hasClass("k-event-active")){w.trigger("edit",{uid:x.attr(m.attr("uid"))})}y.preventDefault()}})}},_slotByPosition:function(w,F){var E;var A=this.content;var D=A.offset();var C;var B;w-=D.left;F-=D.top;if(this._isRtl){var z=m.support.browser;if(z.mozilla){w+=(A[0].scrollWidth-A[0].offsetWidth);w+=A[0].scrollLeft}else{if(z.msie){w-=A.scrollLeft();w+=A[0].scrollWidth-A[0].offsetWidth}else{if(z.webkit){w+=A[0].scrollLeft}}}}else{w+=A[0].scrollLeft}F+=A[0].scrollTop;w=Math.ceil(w);F=Math.ceil(F);for(B=0;B<this.groups.length;B++){C=this.groups[B];E=C.timeSlotByPosition(w,F);if(E){return E}}return null},options:{name:"TimelineView",title:"Timeline",selectedDateFormat:"{0:D}",selectedShortDateFormat:"{0:d}",date:m.date.today(),startTime:m.date.today(),endTime:m.date.today(),showWorkHours:false,minorTickCount:2,editable:true,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,majorTick:60,eventHeight:25,eventMinWidth:0,columnWidth:100,groupHeaderTemplate:"#=text#",majorTimeHeaderTemplate:"#=kendo.toString(date, 't')#",slotTemplate:"&nbsp;",eventTemplate:h,dateHeaderTemplate:i,footer:{command:"workDay"},currentTimeMarker:{updateInterval:10000,useLocalTimezone:true},messages:{defaultRowText:"All events",showFullDay:"Show full day",showWorkDay:"Show business hours"}},events:["remove","add","edit"],_templates:function(){var w=this.options,x=t({},m.Template,w.templateSettings);this.eventTemplate=this._eventTmpl(w.eventTemplate,v);this.majorTimeHeaderTemplate=m.template(w.majorTimeHeaderTemplate,x);this.dateHeaderTemplate=m.template(w.dateHeaderTemplate,x);this.slotTemplate=m.template(w.slotTemplate,x);this.groupHeaderTemplate=m.template(w.groupHeaderTemplate,x)},_render:function(x){var w=this;x=x||[];w._dates=x;w._startDate=x[0];w._endDate=x[(x.length-1)||0];w._calculateSlotRanges();w.createLayout(w._layout(x));w._content(x);w._footer();w._setContentWidth();w.refreshLayout();w.datesHeader.on("click"+s,".k-nav-day",function(z){var y=d(z.currentTarget).closest("th");var A=w._slotByPosition(y.offset().left,w.content.offset().top);w.trigger("navigate",{view:"timeline",date:A.startDate()})});w.timesHeader.find("table tr:last").hide();w.datesHeader.find("table tr:last").hide()},_setContentWidth:function(){var A=this.content;var x=A.width();var y=this.content.find("table");var B=y.find("tr:first").children().length;var z=100;var w=B*this.options.columnWidth;if(x<w){z=Math.ceil((w/x)*100)}y.add(this.datesHeader.find("table")).css("width",z+"%")},_calculateSlotRanges:function(){var B=this._dates;var x=this.startTime();var C=this.endTime();if(u(C)===u(m.date.getDate(C))){C=m.date.getDate(C);k(C,b-1)}C=u(C);x=u(x);var A=[];for(var w=0;w<B.length;w++){var z=j(B[w]);k(z,x);var y=j(B[w]);k(y,C);A.push({start:m.date.toUtcTime(z),end:m.date.toUtcTime(y)})}this._slotRanges=A},_forTimeRange:function(L,N,M,y){L=c(L);N=c(N);var D=this,E=u(L),F=u(N),B=D.options.minorTickCount,Q=D.options.majorTick*e,O=Q/B||1,A=new Date(+L),G=A.getDate(),w,K=0,z,H="";z=b/O;if(E!=F){if(E>F){F+=b}z=((F-E)/O)}z=Math.round(z);for(;K<z;K++){var R=K%(Q/O);var C=R===0;var x=R<B-1;var J=R===B-1;var P=B;if(z%B!==0){var I=(z-(K+1))<B;if(C&&I){P=z%B}}H+=M(A,C,x,J,P);k(A,O,false)}if(F){w=u(A);if(G<A.getDate()){w+=b}if(w>F){A=new Date(+N)}}if(y){H+=y(A)}return H},_layout:function(w){var A=[];var y=[];var z=this;var E=[{text:z.options.messages.defaultRowText}];var C=[];for(var B=0;B<z.options.minorTickCount;B++){C.push({text:"",className:""})}this._forTimeRange(z.startTime(),z.endTime(),function(G,K,F,J,I){var H=z.majorTimeHeaderTemplate;if(K){var L={text:H({date:G}),className:J?"k-slot-cell":"",columns:C.slice(0,I)};q(L);A.push(L)}});for(var D=0;D<w.length;D++){y.push({text:z.dateHeaderTemplate({date:w[D]}),className:"k-slot-cell",columns:A.slice(0)})}var x=this.groupedResources;if(x.length){if(this._groupOrientation()==="vertical"){E=z._createRowsLayout(x,null,this.groupHeaderTemplate)}else{y=z._createColumnsLayout(x,y,this.groupHeaderTemplate)}}return{columns:y,rows:E}},_footer:function(){var w=this.options;if(w.footer!==false){var x='<div class="k-header k-scheduler-footer">';var z=w.footer.command;if(z&&z==="workDay"){x+='<ul class="k-reset k-header">';x+='<li class="k-state-default k-scheduler-fullday"><a href="#" class="k-link"><span class="k-icon k-i-clock"></span>';x+=(w.showWorkHours?w.messages.showFullDay:w.messages.showWorkDay)+"</a></li>";x+="</ul>"}else{x+="&nbsp;"}x+="</div>";this.footer=d(x).appendTo(this.element);var y=this;this.footer.on("click"+s,".k-scheduler-fullday",function(A){A.preventDefault();y.trigger("navigate",{view:y.name||w.name,date:y.startDate(),isWorkDay:!w.showWorkHours})})}},_columnCountForLevel:function(x){var w=this.columnLevels[x];return w?w.length:0},_rowCountForLevel:function(x){var w=this.rowLevels[x];return w?w.length:0},_isWorkDay:function(x){var w=x.getDay();var z=this._workDays;for(var y=0;y<z.length;y++){if(z[y]===w){return true}}return false},_content:function(w){var F=this;var M=F.options;var z=F.startTime();var D=this.endTime();var C=1;var H=1;var G=w.length;var E="";var B=this.groupedResources;var L=this.slotTemplate;var y=false;if(B.length){y=F._groupOrientation()==="vertical";if(y){H=F._groupCount()}else{C=F._groupCount()}}E+="<tbody>";var J=function(N,Q){var P="";var O="";var S;var R=function(T){return function(){return F._resourceBySlot({groupIndex:T})}};if(m.date.isToday(w[I])){O+="k-today"}if(m.date.getMilliseconds(N)<m.date.getMilliseconds(M.workDayStart)||m.date.getMilliseconds(N)>=m.date.getMilliseconds(M.workDayEnd)||!F._isWorkDay(w[I])){O+=" k-nonwork-hour"}P+="<td"+(O!==""?' class="'+O+'"':"")+">";S=m.date.getDate(w[I]);m.date.setTime(S,m.date.getMilliseconds(N));P+=L({date:S,resources:R(y?x:K)});P+="</td>";return P};for(var x=0;x<H;x++){E+="<tr>";for(var K=0;K<C;K++){for(var I=0,A=G;I<A;I++){E+=this._forTimeRange(z,D,J)}}E+="</tr>"}E+="</tbody>";this.content.find("table").append(E)},_groups:function(){var C=this._groupCount();var A=this._dates;var z=A.length;this.groups=[];for(var w=0;w<C;w++){var y=this._addResourceView(w);var B=A[0];var x=A[(A.length-1)||0];y.addTimeSlotCollection(B,m.date.addDays(x,1))}this._timeSlotGroups(C,z)},_isVerticallyGrouped:function(){return this.groupedResources.length&&this._groupOrientation()==="vertical"},_isHorizontallyGrouped:function(){return this.groupedResources.length&&this._groupOrientation()==="horizontal"},_timeSlotGroups:function(y,O){var T=this._timeSlotInterval();var K=this._isVerticallyGrouped();var N=this.content.find("tr");var I=N.length;N.attr("role","row");if(K){I=Math.floor(I/y)}for(var x=0;x<y;x++){var S=0;var F=this.groups[x];var D;if(K){S=x}var J=S*I;var P=0;if(!K){P=x}var A=N[J].children;var C=A.length/(!K?y:1);var H=C/O;for(var L=0;L<O;L++){var Q=L*H+(C*P);D=u(new Date(+this.startTime()));for(var G=0;G<H;G++){var w=A[G+Q];var M=F.getTimeSlotCollection(0);var E=this._dates[L];var R=Date.UTC(E.getFullYear(),E.getMonth(),E.getDate());var B=R+D;var z=B+T;w.setAttribute("role","gridcell");w.setAttribute("aria-selected",false);M.addTimeSlot(w,B,z,true);D+=T}}}},startDate:function(){return this._startDate},endDate:function(){return this._endDate},startTime:function(){var w=this.options;return w.showWorkHours?w.workDayStart:w.startTime},endTime:function(){var w=this.options;return w.showWorkHours?w.workDayEnd:w.endTime},_timeSlotInterval:function(){var w=this.options;return(w.majorTick/w.minorTickCount)*e},nextDate:function(){return m.date.nextDay(this.endDate())},previousDate:function(){return m.date.previousDay(this.startDate())},calculateDateRange:function(){this._render([this.options.date])},render:function(x){this._headerColumnCount=0;this._groups();this.element.find(".k-event").remove();x=new m.data.Query(x).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var w=[];this._eventsByResource(x,this.groupedResources,w);var A=[];var z=0;for(var y=0;y<w.length;y++){var B={groupIndex:y,maxRowCount:0,events:{}};A.push(B);this._renderEvents(w[y],y,B);if(z<B.maxRowCount){z=B.maxRowCount}}this._setRowsHeight(A,w.length,z);this._positionEvents(A,w.length);this.trigger("activate")},_positionEvents:function(B,y){for(var A=0;A<y;A++){var z=B[A].events;for(var x in z){var w=z[x];this._positionEvent(w)}}},_setRowsHeight:function(x,y,z){var B=this.options.eventHeight+2;var D=this._getBottomRowOffset();y=this._isVerticallyGrouped()?y:1;for(var C=0;C<y;C++){var A=this._isVerticallyGrouped()?x[C].maxRowCount:z;A=A?A:1;var w=((B+2)*A)+D;var E=d(this.times.find("tr")[C]);var F=d(this.content.find("tr")[C]);E.height(w);F.height(w)}this._setContentWidth();this.refreshLayout();this._refreshSlots()},_getBottomRowOffset:function(){var z=this.options.eventHeight*0.5;var w=this._isMobile();var y;var x;if(w){y=30;x=60}else{y=15;x=30}if(z>x){z=x}else{if(z<y){z=y}}return z},_positionEvent:function(w){var C=this.options.eventHeight+2;var A=w.slotRange.innerRect(w.start,w.end,false);var B=this._adjustLeftPosition(A.left);var z=A.right-A.left-2;if(z<0){z=0}if(z<this.options.eventMinWidth){var y=w.slotRange.collection;var D=y._slots[y._slots.length-1];var x=D.offsetLeft+D.offsetWidth;z=this.options.eventMinWidth;if(x<B+z){z=x-A.left-2}}w.element.css({top:w.slotRange.start.offsetTop+w.rowIndex*(C+2)+"px",left:B,width:z})},_refreshSlots:function(){for(var w=0;w<this.groups.length;w++){this.groups[w].refresh()}},_eventsByResource:function(y,C,w){var B=C[0];if(B){var x=B.dataSource.view();for(var z=0;z<x.length;z++){var A=this._resourceValue(B,x[z]);var D=new m.data.Query(y).filter({field:B.field,operator:a.groupEqFilter(A)}).toArray();if(C.length>1){this._eventsByResource(D,C.slice(1),w)}else{w.push(D)}}}else{w.push(y)}},_isInDateSlot:function(y){var x=y.start;var w=y.end;var A=j(this._startDate);var z=m.date.addDays(j(this._endDate),1);if(x<z&&A<=w){return true}return false},_isInTimeSlot:function(z){var y=z._startTime||m.date.toUtcTime(z.start);var x=z._endTime||m.date.toUtcTime(z.end);var A=this._slotRanges;if(y===x){x=x+1}for(var w=0;w<A.length;w++){if(y<A[w].end&&A[w].start<x){return true}}return false},_adjustEvent:function(w){var x=w.start;var A=w.end;var C=w._time("start");var G=w._time("end");var y=u(this.startTime());var B=u(this.endTime());var z=null;var E=null;var H;var F=false;var D=false;if(w.isAllDay){z=j(x);if(y>C){k(z,y);D=true}E=j(A);if(B===u(j(this.endTime()))){E=m.date.addDays(E,1)}else{k(E,B);F=true}}else{B=B===0?b:B;if(y>C){z=j(x);k(z,y);D=true}else{if(B<C){z=j(x);z=m.date.addDays(z,1);k(z,y);D=true}}if(B<G){E=j(A);k(E,B);F=true}else{if(y>G){E=j(A);E=m.date.addDays(E,-1);k(E,B);F=true}}}H=w.clone({start:z?z:x,end:E?E:A,_startTime:z?m.date.toUtcTime(z):w._startTime,_endTime:E?m.date.toUtcTime(E):w._endTime,isAllDay:false});return{occurrence:H,head:F,tail:D}},_renderEvents:function(J,H,C){var x;var F;var z;for(F=0,z=J.length;F<z;F++){x=J[F];if(this._isInDateSlot(x)){var A=x.isAllDay||x.end.getTime()-x.start.getTime()>=b;var y=this.content;if(A||this._isInTimeSlot(x)){var I=this._adjustEvent(x);var G=this.groups[H];if(!G._continuousEvents){G._continuousEvents=[]}var w=G.slotRanges(I.occurrence,false);var E=w[0];var D;if(this._isInTimeSlot(I.occurrence)){D=this._createEventElement(I.occurrence,x,E.head||I.head,E.tail||I.tail);D.appendTo(y).css({top:0,height:this.options.eventHeight});var B={start:I.occurrence._startTime||I.occurrence.start,end:I.occurrence._endTime||I.occurrence.end,element:D,uid:x.uid,slotRange:E,rowIndex:0,offsetTop:0};C.events[x.uid]=B;this.addContinuousEvent(G,E,D,x.isAllDay);this._arrangeRows(B,E,C)}}}}},addContinuousEvent:function(A,w,z,y){var x=A._continuousEvents;x.push({element:z,isAllDay:y,uid:z.attr(m.attr("uid")),start:w.start,end:w.end})},_createEventElement:function(K,y,H,F){var L=this.eventTemplate;var A=this.options.editable;var G=this._isMobile();var w=A&&A.destroy!==false&&!G;var x=A&&A.resize!==false;var E=y._time("start");var J=y._time("end");var D=y.start;var I=y.end;var z=this.eventResources(y);if(y._startTime){D=new Date(E);D=m.timezone.apply(D,"Etc/UTC")}if(y.endTime){I=new Date(J);I=m.timezone.apply(I,"Etc/UTC")}var C=t({},{ns:m.ns,resizable:x,showDelete:w,head:H,tail:F,singleDay:this._dates.length==1,resources:z,inverseColor:z&&z[0]?this._shouldInverseResourceColor(z[0]):false},y,{start:D,end:I});var B=d(L(C));this.angular("compile",function(){return{elements:B,data:[{dataItem:C}]}});return B},_arrangeRows:function(A,E,B){var H=E.start.index;var D=E.end.index;var F=A.slotRange.innerRect(A.start,A.end,false);var y=F.right+this.options.eventMinWidth;var I=o(E.events(),F.left,y);E.addEvent({slotIndex:H,start:H,end:D,rectLeft:F.left,rectRight:y,element:A.element,uid:A.uid});I.push({start:H,end:D,uid:A.uid});var J=a.createRows(I);if(B.maxRowCount<J.length){B.maxRowCount=J.length}for(var G=0,z=J.length;G<z;G++){var w=J[G].events;for(var C=0,x=w.length;C<x;C++){B.events[w[C].uid].rowIndex=G}}},_groupCount:function(){var w=this.groupedResources;if(w.length){if(this._groupOrientation()==="vertical"){return this._rowCountForLevel(w.length-1)}else{return this._columnCountForLevel(w.length-1)}}return 1},_updateEventForSelection:function(x){var w=this._adjustEvent(x.clone());return w.occurrence},_eventOptionsForMove:function(w){if(w.isAllDay){return{isAllDay:false}}return{}},_updateEventForResize:function(w){if(w.isAllDay){w.set("isAllDay",false)}},_updateMoveHint:function(x,L,w){var K=this.groups[L];var A=x.clone({start:x.start,end:x.end});var B=A.duration();A.start=new Date(A.start.getTime()+w);A.end=new Date(+A.start+B);var M=this._adjustEvent(A);var y=K.slotRanges(M.occurrence,false);this._removeMoveHint();for(var D=0;D<y.length;D++){var F=y[D];var J=F.start;var E=this._createEventElement(M.occurrence,M.occurrence,false,false);E.addClass("k-event-drag-hint");var I=F.innerRect(M.occurrence.start,M.occurrence.end,this.options.snap);var z=I.right-I.left-2;if(z<0){z=0}var C=this._adjustLeftPosition(I.left);var G={left:C,top:J.offsetTop,height:J.offsetHeight-2,width:z};E.css(G);this._moveHint=this._moveHint.add(E)}var H=this.content;this._moveHint.appendTo(H)},_updateResizeHint:function(x,K,B,G){var J=this.groups[K];var y=J.ranges(B,G,false,false);this._removeResizeHint();for(var D=0;D<y.length;D++){var F=y[D];var A=F.startSlot();var H=F.innerRect(B,G,false);H.top=A.offsetTop;var z=H.right-H.left;var L=A.offsetHeight;var C=this._adjustLeftPosition(H.left);var E=a.fn._createResizeHint.call(this,C,H.top,z,L);this._resizeHint=this._resizeHint.add(E)}var I="t";var w=this.content;this._resizeHint.appendTo(w);this._resizeHint.find(".k-label-top,.k-label-bottom").text("");this._resizeHint.first().addClass("k-first").find(".k-label-top").text(m.toString(m.timezone.toLocalDate(B),I));this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(m.toString(m.timezone.toLocalDate(G),I))},selectionByElement:function(w){var x=w.offset();return this._slotByPosition(x.left,x.top)},_updateDirection:function(B,x,w,z,y){var C=x[0].start;var A=x[x.length-1].end;if(w&&!y){if(C.index===A.index&&C.collectionIndex===A.collectionIndex){B.backward=z}}},_changeGroup:function(w,x){var z=x?"prevGroupSlot":"nextGroupSlot";var y=this[z](w.start,w.groupIndex,false);if(y){w.groupIndex+=x?-1:1}return y},prevGroupSlot:function(w,x,z){var y=this.groups[x];var B=y.ranges(w,w,z,false)[0].start;if(x<=0){return}if(this._isVerticallyGrouped()){return B}else{var A=y._collection(0,z);return A.last()}},nextGroupSlot:function(w,x,z){var y=this.groups[x];var B=y.ranges(w,w,z,false)[0].start;if(x>=this.groups.length-1){return}if(this._isVerticallyGrouped()){return B}else{var A=y._collection(0,z);return A.first()}},_verticalSlots:function(A,x,w,y){var D=y?"leftSlot":"rightSlot";var B=x[0].start;var z=x[x.length-1].end;var C=this.groups[A.groupIndex];B=C[D](B);z=C[D](z);if(!w&&this._isVerticallyGrouped()&&(!B||!z)){B=z=this._changeGroup(A,y)}return{startSlot:B,endSlot:z}},_horizontalSlots:function(A,x,w,y){var D=y?"upSlot":"downSlot";var B=x[0].start;var z=x[x.length-1].end;var C=this.groups[A.groupIndex];B=C[D](B);z=C[D](z);if(!w&&this._isHorizontallyGrouped()&&(!B||!z)){B=z=this._changeGroup(A,y)}return{startSlot:B,endSlot:z}},_changeViewPeriod:function(A,z,x){var y=z?this.previousDate():this.nextDate();var C=A.start;var w=A.end;A.start=new Date(y);A.end=new Date(y);if(this._isHorizontallyGrouped()){A.groupIndex=z?this.groups.length-1:0}var B=w-C;if(z){w=u(this.endTime());w=w===0?b:w;k(A.start,w-B);k(A.end,w)}else{C=u(this.startTime());k(A.start,C);k(A.end,C+B)}A.events=[];return true},move:function(D,F,y){var z=false;var E=this.groups[D.groupIndex];var G=m.keys;var x=E.ranges(D.start,D.end,false,false);var C,w,B,A;if(F===G.DOWN||F===G.UP){z=true;B=F===G.UP;this._updateDirection(D,x,y,B,true);A=this._verticalSlots(D,x,y,B)}else{if(F===G.LEFT||F===G.RIGHT){z=true;B=F===G.LEFT;this._updateDirection(D,x,y,B,false);A=this._horizontalSlots(D,x,y,B);if((!A.startSlot||!A.endSlot)&&!y&&this._changeViewPeriod(D,B,false)){return z}}}if(z){C=A.startSlot;w=A.endSlot;if(y){var H=D.backward;if(H&&C){D.start=C.startDate()}else{if(!H&&w){D.end=w.endDate()}}}else{if(C&&w){D.start=C.startDate();D.end=w.endDate()}}D.events=[]}return z},destroy:function(){var w=this;if(w.element){w.element.off(s)}if(w.footer){w.footer.remove()}if(w._currentTimeUpdateTimer){clearInterval(w._currentTimeUpdateTimer)}a.fn.destroy.call(this);if(this._isMobile()&&w.options.editable){if(w.options.editable.create!==false){w._addUserEvents.destroy()}if(w.options.editable.update!==false){w._editUserEvents.destroy()}}}});t(true,l,{TimelineView:n,TimelineWeekView:n.extend({options:{name:"TimelineWeekView",title:"Timeline Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}",majorTick:120},name:"timelineWeek",calculateDateRange:function(){var x=this.options.date,A=m.date.dayOfWeek(x,this.calendarInfo().firstDay,-1),w,y,z=[];for(w=0,y=7;w<y;w++){z.push(A);A=m.date.nextDay(A)}this._render(z)}}),TimelineWorkWeekView:n.extend({options:{name:"TimelineWorkWeekView",title:"Timeline Work Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}",majorTick:120},name:"timelineWorkWeek",nextDate:function(){return m.date.dayOfWeek(m.date.nextDay(this.endDate()),this.options.workWeekStart,1)},previousDate:function(){return m.date.previousDay(this.startDate())},calculateDateRange:function(){var x=this.options.date,z=m.date.dayOfWeek(x,this.options.workWeekStart,-1),w=m.date.dayOfWeek(z,this.options.workWeekEnd,1),y=[];while(z<=w){y.push(z);z=m.date.nextDay(z)}this._render(y)}}),TimelineMonthView:n.extend({options:{name:"TimelineMonthView",title:"Timeline Month",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}",workDayStart:new Date(1980,1,1,0,0,0),workDayEnd:new Date(1980,1,1,23,59,59),footer:false,majorTick:1440,minorTickCount:1},name:"timelineMonth",calculateDateRange:function(){var y=this.options.date,B=m.date.firstDayOfMonth(y),x=m.date.lastDayOfMonth(y),w,z,A=[];for(w=0,z=x.getDate();w<z;w++){A.push(B);B=m.date.nextDay(B)}this._render(A)}})})})(window.kendo.jQuery);(function(an,v){var p=window.kendo,q=p.date,Q=p.support.input,B=q.MS_PER_DAY,ax=q.getDate,U=p.date.getMilliseconds,ar=p.recurrence,E=p.keys,M=p.ui,h=M.Widget,b=M.DataBoundWidget,av="string",ah=M.Popup,s=M.Calendar,k=p.data.DataSource,A=an.isPlainObject,Z=an.extend,w=an.proxy,af=Object.prototype.toString,a=an.isArray,au=".kendoScheduler",al="click",C="change",X="cancel",aB="remove",am="save",W="add",D="edit",aA=/(?:value:start|value:end)(?:,|$)/,e=ax(new Date()),aC="recurrenceException",i="Are you sure you want to delete this event?",H="Do you want to delete only this event occurrence or the whole series?",G="Do you want to edit only this event occurrence or the whole series?",aE="Are you sure you want to delete this event occurrence?",ad="Are you sure you want to delete the whole series?",O='<a class="k-button #=className#" #=attr# href="\\#">#=text#</a>',T=p.template('<li class="k-current-view" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>'),L=p.template('<div class="k-floatwrap k-header k-scheduler-toolbar"># if (pdf) { #<ul class="k-reset k-scheduler-tools"><li><a role="button" href="\\#" class="k-button k-pdf"><span class="k-icon k-i-pdf"></span>${messages.pdf}</a></li></ul># } #<ul class="k-reset k-scheduler-navigation"><li class="k-state-default k-header k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li><li class="k-state-default k-header k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-header k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li><li class="k-state-default k-nav-current"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-calendar"></span><span class="k-sm-date-format" data-#=ns#bind="text: formattedShortDate"></span><span class="k-lg-date-format" data-#=ns#bind="text: formattedDate"></span></a></li></ul>#if(viewsCount === 1){#<a role="button" data-#=ns#name="#=view#" href="\\#" class="k-link k-scheduler-refresh"><span class="k-icon k-i-refresh"></span></a>#}else{#<ul class="k-reset k-header k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul>#}#</div>'),ao=p.template('<div class="k-floatwrap k-header k-scheduler-toolbar"><ul class="k-reset k-header k-scheduler-navigation"><li class="k-state-default k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li></ul>#if(viewsCount === 1){#<a role="button" data-#=ns#name="#=view#" href="\\#" class="k-link k-scheduler-refresh"><span class="k-icon k-i-refresh"></span></a>#}else{#<ul class="k-reset k-header k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul>#}#</div><div class="k-floatwrap k-header k-scheduler-toolbar"><ul class="k-reset k-header k-scheduler-navigation"><li class="k-state-default k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-nav-current"><span class="k-sm-date-format" data-#=ns#bind="text: formattedShortDate"></span><span class="k-lg-date-format" data-#=ns#bind="text: formattedDate"></span></li><li class="k-state-default k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li></ul></div>'),aw=function(aJ,aK){var aI={name:aK.field};var aM=!Q.date?p.attr("role")+'="datepicker" ':"";var aH=p.attr("role")+'="datetimepicker" ';var aL=aK.model.isAllDay;var aN=p.attr("validate")+"='"+(!aL)+"'";var aG=p.attr("validate")+"='"+aL+"'";aa(aI,aK);ae(aI,aK);an('<input type="datetime-local" required '+p.attr("type")+'="date" '+aH+p.attr("bind")+'="value:'+aK.field+',invisible:isAllDay" '+aN+"/>").attr(aI).appendTo(aJ);an('<input type="date" required '+p.attr("type")+'="date" '+aM+p.attr("bind")+'="value:'+aK.field+',visible:isAllDay" '+aG+"/>").attr(aI).appendTo(aJ);an("<span "+p.attr("for")+'="'+aK.field+'" class="k-invalid-msg"/>').hide().appendTo(aJ)},ab=function(aI,aJ){var aH={name:aJ.field},aK=aJ.model.isAllDay,aL=p.attr("validate")+"='"+(!aK)+"' ",aG=p.attr("validate")+"='"+aK+"' ";aa(aH,aJ);ae(aH,aJ);an('<input type="text" required '+p.attr("type")+'="date" '+p.attr("role")+'="datetimepicker" '+p.attr("bind")+'="value:'+aJ.field+',invisible:isAllDay" '+aL+"/>").attr(aH).appendTo(aI);an('<input type="text" required '+p.attr("type")+'="date" '+p.attr("role")+'="datepicker" '+p.attr("bind")+'="value:'+aJ.field+',visible:isAllDay" '+aG+"/>").attr(aH).appendTo(aI);an("<span "+p.attr("bind")+'="text: '+aJ.field+'Timezone"></span>').appendTo(aI);if(aJ.field==="end"){an("<span "+p.attr("bind")+'="text: startTimezone, invisible: endTimezone"></span>').appendTo(aI)}an("<span "+p.attr("for")+'="'+aJ.field+'" class="k-invalid-msg"/>').hide().appendTo(aI)},at=function(aG,aH){an("<div "+p.attr("bind")+'="value:'+aH.field+'" />').attr({name:aH.field}).appendTo(aG).kendoRecurrenceEditor({start:aH.model.start,timezone:aH.timezone,messages:aH.messages})},c=function(aG,aH){an("<div "+p.attr("bind")+'="value:'+aH.field+'" />').attr({name:aH.field}).appendTo(aG).kendoMobileRecurrenceEditor({start:aH.model.start,timezone:aH.timezone,messages:aH.messages,pane:aH.pane,value:aH.model[aH.field]})},V=function(aG,aH){var aI=aD(aH.model,aH.messages.noTimezone);an('<a href="#" class="k-button k-timezone-button" data-bind="invisible:isAllDay">'+aI+"</a>").click(aH.click).appendTo(aG)},z=function(aG,aH){an('<a href="#" class="k-button" data-bind="invisible:isAllDay">'+aH.messages.timezoneEditorButton+"</a>").click(aH.click).appendTo(aG)},aj=function(aG,aH){an("<div "+p.attr("bind")+'="value:'+aH.field+'" />').attr({name:aH.field}).toggle(aH.visible).appendTo(aG).kendoMobileTimezoneEditor({optionLabel:aH.noTimezone})},ac=function(aG,aH){an("<div "+p.attr("bind")+'="value:'+aH.field+'" />').attr({name:aH.field}).toggle(aH.visible).appendTo(aG).kendoTimezoneEditor({optionLabel:aH.noTimezone})};function aD(aG,aH){aH=aH||"";if(aG.startTimezone){aH=aG.startTimezone;if(aG.endTimezone){aH+=" | "+aG.endTimezone}}return aH}function aa(aH,aG){var aI=aG.timezone;if(aI){aH[p.attr("timezone")]=aI}}function ae(aJ,aI){var aH=aI.model.fields[aI.field].validation;if(aH){var aG=aH.dateCompare;if(aG&&A(aG)&&aG.message){aJ[p.attr("dateCompare-msg")]=aG.message}}}function I(aH,aG){return function(aI){aI=aH(aI);ag(aI,"apply",aG);return aI||[]}}function y(aH,aG){return function(aI){if(aI){if(af.call(aI)!=="[object Array]"&&!(aI instanceof p.data.ObservableArray)){aI=[aI]}}ag(aI,"remove",aG,true);aI=aH(aI);return aI||[]}}function ag(aL,aM,aK,aH){var aJ,aG,aI;aL=aL||[];for(aG=0,aI=aL.length;aG<aI;aG++){aJ=aL[aG];if(aH){if(aJ.startTimezone||aJ.endTimezone){if(aK){aJ.start=p.timezone.convert(aJ.start,aJ.startTimezone||aJ.endTimezone,aK);aJ.end=p.timezone.convert(aJ.end,aJ.endTimezone||aJ.startTimezone,aK);aJ.start=p.timezone[aM](aJ.start,aK);aJ.end=p.timezone[aM](aJ.end,aK)}else{aJ.start=p.timezone[aM](aJ.start,aJ.startTimezone||aJ.endTimezone);aJ.end=p.timezone[aM](aJ.end,aJ.endTimezone||aJ.startTimezone)}}else{if(aK){aJ.start=p.timezone[aM](aJ.start,aK);aJ.end=p.timezone[aM](aJ.end,aK)}}}else{if(aJ.startTimezone||aJ.endTimezone){aJ.start=p.timezone[aM](aJ.start,aJ.startTimezone||aJ.endTimezone);aJ.end=p.timezone[aM](aJ.end,aJ.endTimezone||aJ.startTimezone);if(aK){aJ.start=p.timezone.convert(aJ.start,aJ.startTimezone||aJ.endTimezone,aK);aJ.end=p.timezone.convert(aJ.end,aJ.endTimezone||aJ.startTimezone,aK)}}else{if(aK){aJ.start=p.timezone[aM](aJ.start,aK);aJ.end=p.timezone[aM](aJ.end,aK)}}}if(aH){delete aJ.uid}}return aL}function aF(aK,aH){var aJ=aK.length,aG=0,aI;for(;aG<aJ;aG++){aI=aK[aG];if(aI.uid===aH){return aI}}}var o=p.Class.extend({init:function(aI,aG){var aH=aI.timezone;this.reader=aG;if(aG.model){this.model=aG.model}this.timezone=aH;this.data=I(an.proxy(this.data,this),aH);this.serialize=y(an.proxy(this.serialize,this),aH)},errors:function(aG){return this.reader.errors(aG)},parse:function(aG){return this.reader.parse(aG)},data:function(aG){return this.reader.data(aG)},total:function(aG){return this.reader.total(aG)},groups:function(aG){return this.reader.groups(aG)},aggregates:function(aG){return this.reader.aggregates(aG)},serialize:function(aG){return this.reader.serialize(aG)}});function t(aI,aH,aG){if(aG){aI=p.timezone.convert(aI,aH,aG)}else{aI=p.timezone.remove(aI,aH)}return aI}function u(aQ){if(aQ.filter("[name=end]").length){var aH=aQ.closest(".k-scheduler-edit-form");var aG=aH.find("[name=start]:visible");var aP=aH.find("[name=end]:visible");if(aP[0]&&aG[0]){var aI,aL;var aR=p.widgetInstance(aG,p.ui);var aS=p.widgetInstance(aP,p.ui);var aJ=aH.data("kendoEditable");var aM=aJ?aJ.options.model:null;if(aR&&aS){aI=aR.value();aL=aS.value()}else{aI=p.parseDate(aG.val());aL=p.parseDate(aP.val())}if(aI&&aL){if(aM){var aO=aG.attr(p.attr("timezone"));var aN=aM.startTimezone;var aK=aM.endTimezone;aN=aN||aK;aK=aK||aN;if(aN){aI=t(aI,aN,aO);aL=t(aL,aK,aO)}}return aI<=aL}}}return true}var F=p.data.Model.define({init:function(aH){var aG=this;p.data.Model.fn.init.call(aG,aH);aG._defaultId=aG.defaults[aG.idField]},_time:function(aI){var aG=this[aI];var aH="_"+aI+"Time";if(this[aH]){return this[aH]-p.date.toUtcTime(p.date.getDate(aG))}return U(aG)},_date:function(aH){var aG="_"+aH+"Time";if(this[aG]){return this[aG]-this._time(aH)}return p.date.getDate(this[aH])},clone:function(aG,aJ){var aH=this.uid,aI=new this.constructor(an.extend({},this.toJSON(),aG));if(!aJ){aI.uid=aH}return aI},duration:function(){var aG=this.end;var aI=this.start;var aH=(aG.getTimezoneOffset()-aI.getTimezoneOffset())*p.date.MS_PER_MINUTE;return aG-aI-aH},expand:function(aI,aH,aG){return ar?ar.expand(this,aI,aH,aG):[this]},update:function(aG){for(var aH in aG){this.set(aH,aG[aH])}if(this._startTime){this.set("_startTime",p.date.toUtcTime(this.start))}if(this._endTime){this.set("_endTime",p.date.toUtcTime(this.end))}},isMultiDay:function(){return this.isAllDay||this.duration()>=p.date.MS_PER_DAY},isException:function(){return !this.isNew()&&this.recurrenceId},isOccurrence:function(){return this.isNew()&&this.recurrenceId},isRecurring:function(){return !!(this.recurrenceRule||this.recurrenceId)},isRecurrenceHead:function(){return !!(this.id&&this.recurrenceRule)},toOccurrence:function(aG){aG=an.extend(aG,{recurrenceException:null,recurrenceRule:null,recurrenceId:this.id||this.recurrenceId});aG[this.idField]=this.defaults[this.idField];return this.clone(aG,true)},toJSON:function(){var aG=p.data.Model.fn.toJSON.call(this);aG.uid=this.uid;delete aG._startTime;delete aG._endTime;return aG},shouldSerialize:function(aG){return p.data.Model.fn.shouldSerialize.call(this,aG)&&aG!=="_defaultId"},set:function(aJ,aK){var aI=this.isAllDay||false;p.data.Model.fn.set.call(this,aJ,aK);if(aJ=="isAllDay"&&aK!=aI){var aL=p.date.getDate(this.start);var aG=new Date(this.end);var aH=p.date.getMilliseconds(aG);if(aH===0&&aK){aH=B}this.set("start",aL);if(aK===true){p.date.setTime(aG,-aH);if(aG<aL){aG=aL}}else{p.date.setTime(aG,B-aH)}this.set("end",aG)}},id:"id",fields:{id:{type:"number"},title:{defaultValue:"",type:"string"},start:{type:"date",validation:{required:true}},startTimezone:{type:"string"},end:{type:"date",validation:{required:true,dateCompare:{value:u}}},endTimezone:{type:"string"},recurrenceRule:{defaultValue:"",type:"string"},recurrenceException:{defaultValue:"",type:"string"},isAllDay:{type:"boolean",defaultValue:false},description:{type:"string"}}});var az=k.extend({init:function(aG){k.fn.init.call(this,Z(true,{},{schema:{modelBase:F,model:F}},aG));this.reader=new o(this.options.schema,this.reader)},expand:function(aJ,aG){var aI=this.view(),aH={};if(aJ&&aG){aG=new Date(aG.getTime()+B-1);aH={logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:aJ},{field:"end",operator:"gte",value:aJ},{field:"start",operator:"lte",value:aG}]},{logic:"and",filters:[{field:"start",operator:"lte",value:new Date(aJ.getTime()+B-1)},{field:"end",operator:"gte",value:aJ}]}]};aI=new p.data.Query(l(aI,aJ,aG,this.reader.timezone)).filter(aH).toArray()}return aI},cancelChanges:function(aG){if(aG&&aG.isOccurrence()){this._removeExceptionDate(aG)}k.fn.cancelChanges.call(this,aG)},insert:function(aH,aG){if(!aG){return}if(!(aG instanceof F)){var aI=aG;aG=this._createNewModel();aG.accept(aI)}if((!this._pushCreated&&aG.isRecurrenceHead())||aG.recurrenceId){aG=aG.recurrenceId?aG:aG.toOccurrence();this._addExceptionDate(aG)}return k.fn.insert.call(this,aH,aG)},pushCreate:function(aG){this._pushCreated=true;k.fn.pushCreate.call(this,aG);this._pushCreated=false},remove:function(aG){if(aG.isRecurrenceHead()){this._removeExceptions(aG)}else{if(aG.isRecurring()){this._addExceptionDate(aG)}}return k.fn.remove.call(this,aG)},_removeExceptions:function(aG){var aI=this.data().slice(0),aH=aI.shift(),aJ=aG.id;while(aH){if(aH.recurrenceId===aJ){k.fn.remove.call(this,aH)}aH=aI.shift()}aG.set(aC,"")},_removeExceptionDate:function(aG){if(aG.recurrenceId){var aH=this.get(aG.recurrenceId);if(aH){var aI=aG.start;aH.set(aC,aH.recurrenceException.replace(ar.toExceptionString(aI,this.reader.timezone),""))}}},_addExceptionDate:function(aH){var aK=aH.start;var aG=this.reader.timezone;var aJ=this.get(aH.recurrenceId);var aI=aJ.recurrenceException||"";if(!ar.isException(aI,aK,aG)){aJ.set(aC,aI+ar.toExceptionString(aK,aG))}}});function l(aJ,aM,aI,aH){var aK=aJ.length,aL=[],aG=0;for(;aG<aK;aG++){aL=aL.concat(aJ[aG].expand(aM,aI,aH))}return aL}az.create=function(aG){if(a(aG)||aG instanceof p.data.ObservableArray){aG={data:aG}}var aI=aG||{},aH=aI.data;aI.data=aH;if(!(aI instanceof az)&&aI instanceof p.data.DataSource){throw new Error("Incorrect DataSource type. Only SchedulerDataSource instances are supported")}return aI instanceof az?aI:new az(aI)};Z(true,p.data,{SchedulerDataSource:az,SchedulerDataReader:o,SchedulerEvent:F});var K={update:{text:"Save",className:"k-primary k-scheduler-update"},canceledit:{text:"Cancel",className:"k-scheduler-cancel"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-primary k-scheduler-delete",iconClass:"k-icon"}};function S(aG){delete aG.name;delete aG.prefix;delete aG.remove;delete aG.edit;delete aG.add;delete aG.navigate;return aG}function R(aG){aG=aG!=null?aG:"";return aG.type||an.type(aG)||"string"}function r(aK,aO){var aG=(aK.fields||aK)[aO];var aJ=["url","email","number","date","boolean"];var aH=aG?aG.validation:{};var aM=R(aG);var aI=p.attr("type");var aQ=an.inArray;var aP;var aN;var aL={};for(aP in aH){aN=aH[aP];if(aQ(aP,aJ)>=0){aL[aI]=aP}else{if(!p.isFunction(aN)){aL[aP]=A(aN)?(aN.value||aP):aN}}aL[p.attr(aP+"-msg")]=aN.message}return aL}function aq(aI,aH){var aG=r(aH,aI.field);return function(aJ){an(p.format('<select data-{0}bind="value:{1}">',p.ns,aI.field)).appendTo(aJ).attr(aG).kendoDropDownList({dataTextField:aI.dataTextField,dataValueField:aI.dataValueField,dataSource:aI.dataSource,valuePrimitive:aI.valuePrimitive,optionLabel:"None",template:p.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',aI.dataColorField,aI.dataTextField)})}}function N(aH){var aG=r(aH.model,aH.field);return function(aI){an('<textarea name="description" class="k-textbox"/>').attr(aG).appendTo(aI)}}function d(aI,aH){var aG=r(aH,aI.field);return function(aJ){an(p.format('<select data-{0}bind="value:{1}">',p.ns,aI.field)).appendTo(aJ).attr(aG).kendoMultiSelect({dataTextField:aI.dataTextField,dataValueField:aI.dataValueField,dataSource:aI.dataSource,valuePrimitive:aI.valuePrimitive,itemTemplate:p.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',aI.dataColorField,aI.dataTextField),tagTemplate:p.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',aI.dataColorField,aI.dataTextField)})}}function x(aI,aH){var aG=r(aH,aI.field);return function(aL){var aM="";var aK=aI.dataSource.view();for(var aJ=0,aN=aK.length;aJ<aN;aJ++){aM+=p.format('<option value="{0}">{1}</option>',p.getter(aI.dataValueField)(aK[aJ]),p.getter(aI.dataTextField)(aK[aJ]))}an(p.format('<select data-{0}bind="value:{1}" multiple="multiple" data-{0}value-primitive="{3}">{2}</select>',p.ns,aI.field,aM,aI.valuePrimitive)).appendTo(aL).attr(aG)}}function J(aH,aK){var aI=aH.end.getTime()-aH.start.getTime();var aJ=new Date(aH.start.getTime());p.date.setTime(aJ,aK);var aG=new Date(aJ.getTime());p.date.setTime(aG,aI,true);return{start:aJ,end:aG}}var m={mobile:{dateRange:aw,timezonePopUp:V,timezone:aj,recurrence:c,description:N,multipleResources:x,resources:aq},desktop:{dateRange:ab,timezonePopUp:z,timezone:ac,recurrence:at,description:N,multipleResources:d,resources:aq}};var P=p.Observable.extend({init:function(aH,aG){p.Observable.fn.init.call(this);this.element=aH;this.options=Z(true,{},this.options,aG);this.createButton=this.options.createButton;this.toggleDateValidationHandler=w(this._toggleDateValidation,this)},_toggleDateValidation:function(aM){if(aM.field=="isAllDay"){var aH=this.container,aL=this.editable.options.model.isAllDay,aK=p.attr("bind"),aJ,aG,aI;aH.find("["+aK+"*=end],["+aK+"*=start]").each(function(){aJ=an(this);if(aA.test(aJ.attr(aK))){aG=aJ.is("["+p.attr("role")+"=datetimepicker],[type*=datetime]");aI=aL!==aG;aJ.attr(p.attr("validate"),aI)}})}},fields:function(aN,aI){var aL=this;var aH=aL.options.messages;var aM=aL.options.timezone;var aO=function(aP){aP.preventDefault();aL._initTimezoneEditor(aI,this)};var aJ=[{field:"title",title:aH.editor.title},{field:"start",title:aH.editor.start,editor:aN.dateRange,timezone:aM},{field:"end",title:aH.editor.end,editor:aN.dateRange,timezone:aM},{field:"isAllDay",title:aH.editor.allDayEvent}];if(p.timezone.windows_zones){aJ.push({field:"timezone",title:aH.editor.timezone,editor:aN.timezonePopUp,click:aO,messages:aH.editor,model:aI});aJ.push({field:"startTimezone",title:aH.editor.startTimezone,editor:aN.timezone,noTimezone:aH.editor.noTimezone});aJ.push({field:"endTimezone",title:aH.editor.endTimezone,editor:aN.timezone,noTimezone:aH.editor.noTimezone})}if(!aI.recurrenceId){aJ.push({field:"recurrenceRule",title:aH.editor.repeat,editor:aN.recurrence,timezone:aM,messages:aH.recurrenceEditor,pane:this.pane})}if("description" in aI){aJ.push({field:"description",title:aH.editor.description,editor:aN.description({model:aI,field:"description"})})}for(var aK=0;aK<this.options.resources.length;aK++){var aG=this.options.resources[aK];aJ.push({field:aG.field,title:aG.title,editor:aG.multiple?aN.multipleResources(aG,aI):aN.resources(aG,aI)})}return aJ},end:function(){return this.editable.end()},_buildEditTemplate:function(aL,aM,aR){var aI=this.options.messages;var aH=Z({},p.Template,this.options.templateSettings);var aJ=aH.paramName;var aQ=this.options.editable.template;var aK="";if(aQ){if(typeof aQ===av){aQ=window.unescape(aQ)}aK+=(p.template(aQ,aH))(aL)}else{for(var aP=0,aG=aM.length;aP<aG;aP++){var aO=aM[aP];if(aO.field==="startTimezone"){aK+='<div class="k-popup-edit-form k-scheduler-edit-form k-scheduler-timezones" style="display:none">';aK+='<div class="k-edit-form-container">';aK+='<div class="k-edit-label"></div>';aK+='<div class="k-edit-field"><label class="k-check"><input class="k-timezone-toggle" type="checkbox" />'+aI.editor.separateTimezones+"</label></div>"}aK+='<div class="k-edit-label"><label for="'+aO.field+'">'+(aO.title||aO.field||"")+"</label></div>";if((!aL.editable||aL.editable(aO.field))){aR.push(aO);aK+="<div "+p.attr("container-for")+'="'+aO.field+'" class="k-edit-field"></div>'}else{var aN="#:";if(aO.field){aO=p.expr(aO.field,aJ);aN+=aO+"==null?'':"+aO}else{aN+="''"}aN+="#";aN=p.template(aN,aH);aK+='<div class="k-edit-field">'+aN(aL)+"</div>"}if(aO.field==="endTimezone"){aK+=this._createEndTimezoneButton()}}}return aK},_createEndTimezoneButton:function(){return"</div></div>"},_revertTimezones:function(aG){aG.set("startTimezone",this._startTimezone);aG.set("endTimezone",this._endTimezone);delete this._startTimezone;delete this._endTimezone}});var g=P.extend({init:function(){P.fn.init.apply(this,arguments);this.pane=p.mobile.ui.Pane.wrap(this.element);this.pane.element.parent().css("height",this.options.height);this.view=this.pane.view();this._actionSheetButtonTemplate=p.template('<li><a #=attr# class="k-button #=className#" href="\\#">#:text#</a></li>');this._actionSheetPopupOptions=an(document.documentElement).hasClass("km-root")?{modal:false}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"}},options:{animations:{left:"slide",right:"slide:right"}},destroy:function(){this.close();this.unbind();this.pane.destroy()},_initTimezoneEditor:function(aM){var aO=this;var aJ=aO.pane;var aK=aO.options.messages;var aG=aO.timezoneView;var aI=aO.container.find(".k-scheduler-timezones");var aN=aI.find(".k-timezone-toggle");var aP=aI.find(".k-edit-label:last").add(aI.find(".k-edit-field:last"));var aH=function(aR){if(aR.field==="startTimezone"){var aQ=aM.startTimezone;aN.prop("disabled",!aQ);if(!aQ){aP.hide();aM.set("endTimezone","");aN.prop("checked",false)}}};aO._startTimezone=aM.startTimezone||"";aO._endTimezone=aM.endTimezone||"";if(!aG){var aL='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+aK.cancel+"</a>"+aK.editor.timezoneTitle+'<a href="#" class="k-button k-scheduler-update">'+aK.save+"</a></div></div>";this.timezoneView=aG=aJ.append(aL);aG.contentElement().append(aI.show());aG.element.on(al+au,".k-scheduler-cancel, .k-scheduler-update",function(aQ){aQ.preventDefault();aQ.stopPropagation();if(an(this).hasClass("k-scheduler-cancel")){aO._revertTimezones(aM)}aM.unbind("change",aH);var aS=aJ.element.find("#edit").data("kendoMobileView");var aR=aD(aM,aK.editor.noTimezone);aS.contentElement().find(".k-timezone-button").text(aR);aJ.navigate(aS,aO.options.animations.right)});aN.click(function(){aP.toggle(aN.prop("checked"));aM.set("endTimezone","")});aM.bind("change",aH)}aN.prop("checked",aM.endTimezone).prop("disabled",!aM.startTimezone);if(aM.endTimezone){aP.show()}else{aP.hide()}aJ.navigate(aG,aO.options.animations.left)},_createActionSheetButton:function(aG){aG.template=this._actionSheetButtonTemplate;return this.createButton(aG)},showDialog:function(aG){var aJ="";var aH='<ul><li class="km-actionsheet-title">'+aG.title+"</li>";var aL=this.element.find(".k-event["+p.attr("uid")+"='"+aG.model.uid+"']");if(this.container){aL=this.container.find(".k-scheduler-delete");if(aL[0]){aJ="phone"}}for(var aK=0;aK<aG.buttons.length;aK++){aH+=this._createActionSheetButton(aG.buttons[aK])}aH+="</ul>";var aI=an(aH).appendTo(this.pane.view().element).kendoMobileActionSheet({type:aJ,cancel:this.options.messages.cancel,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(aN){var aM=aI.element.find("li:not(.km-actionsheet-cancel) > .k-button").index(an(aN.currentTarget));if(aM>-1){aI.close();aG.buttons[aM].click()}},popup:this._actionSheetPopupOptions}).data("kendoMobileActionSheet");aI.open(aL)},editEvent:function(aM){var aI=this.pane;var aL="";var aK=this.options.messages;var aH=aK.save;var aQ=aK.destroy;var aJ=aK.cancel;var aS=aK.editor.editorTitle;aL+='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="edit" '+p.attr("uid")+'="'+aM.uid+'"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+aJ+"</a>"+aS+'<a href="#" class="k-button k-scheduler-update">'+aH+"</a></div>";var aN=this.fields(m.mobile,aM);var aO=this;var aR=[];aL+=this._buildEditTemplate(aM,aN,aR);if(!aM.isNew()&&this.options.editable&&this.options.editable.destroy!==false){aL+='<div class="k-edit-buttons"><a href="#" class="k-scheduler-delete k-button">'+aQ+"</a></div>"}aL+="</div>";var aP=aI.append(aL);var aG=this.container=aP.element;this.editable=aG.kendoEditable({fields:aR,model:aM,clearContainer:false,target:aO.options.target,validateOnBlur:true}).data("kendoEditable");aG.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){an(this).next().children("input").click()});if(!this.trigger("edit",{container:aG,model:aM})){aG.on(al+au,"a.k-scheduler-edit, a.k-scheduler-cancel, a.k-scheduler-update, a.k-scheduler-delete",function(aV){aV.preventDefault();aV.stopPropagation();var aU=an(this);if(!aU.hasClass("k-scheduler-edit")){var aT="cancel";if(aU.hasClass("k-scheduler-update")){aT="save"}else{if(aU.hasClass("k-scheduler-delete")){aT="remove"}}aO.trigger(aT,{container:aG,model:aM})}else{aI.navigate("#edit",aO.options.animations.right)}});aI.navigate(aP,aO.options.animations.left);aM.bind("change",aO.toggleDateValidationHandler)}else{this.trigger("cancel",{container:aG,model:aM})}return this.editable},_views:function(){return this.pane.element.find(p.roleSelector("view")).not(this.view.element)},close:function(){if(this.container){this.pane.navigate("",this.options.animations.right);var aI=this._views();var aH;for(var aG=0,aJ=aI.length;aG<aJ;aG++){aH=aI.eq(aG).data("kendoMobileView");if(aH){aH.purge()}}aI.remove();this.container=null;if(this.editable){this.editable.options.model.unbind("change",this.toggleDateValidationHandler);this.editable.destroy();this.editable=null}this.timezoneView=null}}});var ap=P.extend({destroy:function(){this.close();this.unbind()},editEvent:function(aN){var aP=this;var aJ=aP.options.editable;var aM="<div "+p.attr("uid")+'="'+aN.uid+'" class="k-popup-edit-form k-scheduler-edit-form"><div class="k-edit-form-container">';var aL=aP.options.messages;var aI=aL.save;var aK=aL.cancel;var aH=aL.destroy;var aO=this.fields(m.desktop,aN);var aR=[];aM+=this._buildEditTemplate(aN,aO,aR);var aQ;var aS=A(aJ)?aJ.window:{};aM+='<div class="k-edit-buttons k-state-default">';aM+=this.createButton({name:"update",text:aI,attr:aQ})+this.createButton({name:"canceledit",text:aK,attr:aQ});if(!aN.isNew()&&aJ.destroy!==false){aM+=this.createButton({name:"delete",text:aH,attr:aQ})}aM+="</div></div></div>";var aG=this.container=an(aM).appendTo(aP.element).eq(0).kendoWindow(Z({modal:true,resizable:false,draggable:true,title:aL.editor.editorTitle,visible:false,close:function(aT){if(aT.userTriggered){if(aP.trigger(X,{container:aG,model:aN})){aT.preventDefault()}}}},aS));aP.editable=aG.kendoEditable({fields:aR,model:aN,clearContainer:false,validateOnBlur:true,target:aP.options.target}).data("kendoEditable");if(!aP.trigger(D,{container:aG,model:aN})){aG.data("kendoWindow").center().open();aG.on(al+au,"a.k-scheduler-cancel",function(aT){aT.preventDefault();aT.stopPropagation();aP.trigger(X,{container:aG,model:aN})});aG.on(al+au,"a.k-scheduler-update",function(aT){aT.preventDefault();aT.stopPropagation();aP.trigger("save",{container:aG,model:aN})});aG.on(al+au,"a.k-scheduler-delete",function(aT){aT.preventDefault();aT.stopPropagation();aP.trigger(aB,{container:aG,model:aN})});p.cycleForm(aG);aN.bind("change",aP.toggleDateValidationHandler)}else{aP.trigger(X,{container:aG,model:aN})}return aP.editable},close:function(){var aH=this;var aG=function(){if(aH.editable){aH.editable.options.model.unbind("change",aH.toggleDateValidationHandler);aH.editable.destroy();aH.editable=null;aH.container=null}if(aH.popup){aH.popup.destroy();aH.popup=null}};if(aH.editable){if(aH._timezonePopup&&aH._timezonePopup.data("kendoWindow")){aH._timezonePopup.data("kendoWindow").destroy();aH._timezonePopup=null}if(aH.container.is(":visible")){aH.container.data("kendoWindow").bind("deactivate",aG).close()}else{aG()}}else{aG()}},_createEndTimezoneButton:function(){var aH=this.options.messages;var aG="";aG+='<div class="k-edit-buttons k-state-default">';aG+=this.createButton({name:"savetimezone",text:aH.save})+this.createButton({name:"canceltimezone",text:aH.cancel});aG+="</div></div></div>";return aG},showDialog:function(aH){var aI=p.format("<div class='k-popup-edit-form'><div class='k-edit-form-container'><p class='k-popup-message'>{0}</p>",aH.text);aI+='<div class="k-edit-buttons k-state-default">';for(var aJ=0;aJ<aH.buttons.length;aJ++){aI+=this.createButton(aH.buttons[aJ])}aI+="</div></div></div>";var aK=this.element;if(this.popup){this.popup.destroy()}var aG=this.popup=an(aI).appendTo(aK).eq(0).on("click",".k-button",function(aM){aM.preventDefault();aG.close();var aL=an(aM.currentTarget).index();aH.buttons[aL].click()}).kendoWindow({modal:true,resizable:false,draggable:false,title:aH.title,visible:false,close:function(){this.destroy();aK.focus()}}).getKendoWindow();aG.center().open()},_initTimezoneEditor:function(aL,aN){var aO=this;var aH=aO.container.find(".k-scheduler-timezones");var aM=aH.find(".k-timezone-toggle");var aP=aH.find(".k-edit-label:last").add(aH.find(".k-edit-field:last"));var aK=aH.find(".k-scheduler-savetimezone");var aI=aH.find(".k-scheduler-canceltimezone");var aQ=aO._timezonePopup;var aG=function(aS){if(aS.field==="startTimezone"){var aR=aL.startTimezone;aM.prop("disabled",!aR);if(!aR){aP.hide();aL.set("endTimezone","");aM.prop("checked",false)}}};var aJ;aO._startTimezone=aL.startTimezone;aO._endTimezone=aL.endTimezone;if(!aQ){aO._timezonePopup=aQ=aH.kendoWindow({modal:true,resizable:false,draggable:true,title:aO.options.messages.editor.timezoneEditorTitle,visible:false,close:function(aR){aL.unbind("change",aG);if(aR.userTriggered){aO._revertTimezones(aL)}if(aN){aN.focus()}}});aM.click(function(){aP.toggle(aM.prop("checked"));aL.set("endTimezone","")});aK.click(function(aR){aR.preventDefault();aJ.close()});aI.click(function(aR){aR.preventDefault();aO._revertTimezones(aL);aJ.close()});aL.bind("change",aG)}aM.prop("checked",aL.endTimezone).prop("disabled",!aL.startTimezone);if(aL.endTimezone){aP.show()}else{aP.hide()}aJ=aQ.data("kendoWindow");aJ.center().open()}});var j=b.extend({init:function(aH,aG){var aI=this;h.fn.init.call(aI,aH,aG);if(!aI.options.views||!aI.options.views.length){aI.options.views=["day","week"]}aI.resources=[];aI._initModel();aI._wrapper();aI._views();aI._toolbar();aI._dataSource();aI._resources();aI._resizeHandler=function(){aI.resize()};aI.wrapper.on("mousedown"+au+" selectstart"+au,function(aJ){if(!an(aJ.target).is(":kendoFocusable")){aJ.preventDefault()}});if(aI.options.editable&&aI.options.editable.resize!==false){aI._resizable()}aI._movable();aI._bindResize();if(aI.options.messages&&aI.options.messages.recurrence){ar.options=aI.options.messages.recurrence}aI._selectable();aI._ariaId=p.guid();aI._createEditor()},_bindResize:function(){an(window).on("resize"+au,this._resizeHandler)},_unbindResize:function(){an(window).off("resize"+au,this._resizeHandler)},dataItems:function(){var aM=this;var aN=aM.items();var aQ=aM._data;var aL=an.map(aN,function(aR){return an(aR).attr("data-uid")});var aJ;var aP;var aH={};var aI=aL.length;for(aJ=0;aJ<aI;aJ++){aH[aL[aJ]]=null}var aK=aQ.length;for(aJ=0;aJ<aK;aJ++){var aG=aQ[aJ];if(aH[aG.uid]!==v){aH[aG.uid]=aG}}var aO=[];for(aP in aH){aO.push(aH[aP])}return aO},_isMobile:function(){var aG=this.options;return(aG.mobile===true&&p.support.mobileOS)||aG.mobile==="phone"||aG.mobile==="tablet"},_isMobilePhoneView:function(){var aG=this.options;return(aG.mobile===true&&p.support.mobileOS&&!p.support.mobileOS.tablet)||aG.mobile==="phone"},_groupsByResource:function(aI,aR,aJ,aH,aO){if(!aJ){aJ=[]}var aL=aI[0];if(aL){var aQ;var aM=aL.dataSource.view();var aK=0;for(var aP=0;aP<aM.length;aP++){var aG=p.getter(aL.dataValueField)(aM[aP]);var aN=aR+aK+aP;aQ=this._groupsByResource(aI.slice(1),aN,aJ,aG,aL.field);aQ[aL.field]=aG;aK=aQ.groupIndex;if(aO&&aH){aQ[aO]=aH}if(aI.length===1){aQ.groupIndex=aR+aP;aJ.push(aQ)}}return aQ}else{return{}}},data:function(){return this._data},select:function(aU){var aM=this;var aO=aM.view();var aP=aM._selection;var aL=aO.groups;var aI;if(aU===v){var aQ;var aN=aO._selectedSlots;if(!aP){return[]}if(aP&&aP.events){aQ=aM._selectedEvents()}return{start:aP.start,end:aP.end,events:aQ,slots:aN,resources:aO._resourceBySlot(aP)}}if(!aU){aM._selection=null;aO.clearSelection();return}if(an.isArray(aU)){aU={events:aU.splice(0)}}if(aU.resources){var aT;var aK=[];var aJ=[];if(aO.groupedResources){aM._groupsByResource(aO.groupedResources,0,aJ)}for(aT in aU.resources){aK.push({field:aT,operator:"eq",value:aU.resources[aT]})}aI=new p.data.Query(aJ).filter(aK).toArray()}if(aU.events&&aU.events.length){aM._selectEvents(aU.events,aI);aM._select();return}if(aL&&(aU.start&&aU.end)){var aS=ax(aO._startDate);var aH=p.date.addDays(ax(aO._endDate),1);var aR;var aG;if(aU.start<aH&&aS<=aU.end){if(aI&&aI.length){aR=aL[aI[0].groupIndex]}else{aR=aL[0]}aG=aR.ranges(aU.start,aU.end,aU.isAllDay,false);if(aG.length){aM._selection={start:p.timezone.toLocalDate(aG[0].start.start),end:p.timezone.toLocalDate(aG[aG.length-1].end.end),groupIndex:aG[0].start.groupIndex,index:aG[0].start.index,isAllDay:aG[0].start.isDaySlot,events:[]};aM._select()}}}},_selectEvents:function(aM,aH){var aN=this;var aQ;var aP=aN.view();var aK=aP.groups;var aO=aM.length;var aR=aH&&aH.length;for(aQ=0;aQ<aO;aQ++){if(aK&&aR){var aS=aK[aH[0].groupIndex];var aT=[];var aJ=aS.timeSlotCollectionCount();var aI=aS.daySlotCollectionCount();for(var aG=0;aG<aJ;aG++){aT=aT.concat(aS.getTimeSlotCollection(aG).events())}for(var aU=0;aU<aI;aU++){aT=aT.concat(aS.getDaySlotCollection(aU).events())}aT=new p.data.Query(aT).filter({field:"element[0].getAttribute('data-uid')",operator:"eq",value:aM[aQ]}).toArray();if(aT[0]){aN._createSelection(aT[0].element)}}else{var aL=aP.element.find(p.format(".k-event[data-uid={0}], .k-task[data-uid={0}]",aM[aQ]));if(aL.length){aN._createSelection(aL[0])}}}},_selectable:function(){var aI=this,aJ=aI.wrapper,aH=p.support.mobileOS?"touchend":"mousedown";if(!aI.options.selectable){return}aI._tabindex();aJ.on(aH+au,".k-scheduler-header-all-day td, .k-scheduler-content td, .k-event",function(aN){var aO=aN.which;var aL=aN.button;var aK=p.support.browser;var aM=aO&&aO===3||aL&&aL==2;if(p.support.mobileOS&&aN.isDefaultPrevented()){return}if(!aM){aI._createSelection(aN.currentTarget)}aJ.focus();if(aK.msie&&aK.version<9){setTimeout(function(){aJ.focus()})}});var aG=an.proxy(aI._mouseMove,aI);aJ.on("mousedown"+au,".k-scheduler-header-all-day td, .k-scheduler-content td",function(aM){var aN=aM.which;var aK=aM.button;var aL=aN&&aN===3||aK&&aK==2;if(!aL){aJ.on("mousemove"+au,".k-scheduler-header-all-day td, .k-scheduler-content td",aG)}});aJ.on("mouseup"+au+" mouseleave"+au,function(){aJ.off("mousemove"+au,".k-scheduler-header-all-day td, .k-scheduler-content td",aG)});aJ.on("focus"+au,function(){if(!aI._selection){aI._createSelection(aI.wrapper.find(".k-scheduler-content").find("td:first"))}aI._select()});aJ.on("focusout"+au,function(){aI.view().clearSelection();aI._ctrlKey=aI._shiftKey=false});aJ.on("keydown"+au,w(aI._keydown,aI));aJ.on("keyup"+au,function(aK){aI._ctrlKey=aK.ctrlKey;aI._shiftKey=aK.shiftKey})},_select:function(){var aK=this;var aN=aK.view();var aG=aK.wrapper;var aM=aN.current();var aO=aK._selection;if(aM){aM.removeAttribute("id");aM.removeAttribute("aria-label");aG.removeAttr("aria-activedescendant")}aN.select(aO);aM=aN.current();if(aM&&aK._old!==aM){var aI=an(aM).data("uid");if(aK._old&&aI&&aI===an(aK._old).data("uid")){return}var aH;var aJ=aO;var aP=aK._selectedEvents();var aL=aN._selectedSlots;if(aP[0]){aJ=aP[0]||aO;aH=p.format(aK.options.messages.ariaEventLabel,aJ.title,aJ.start,aJ.start)}else{aH=p.format(aK.options.messages.ariaSlotLabel,aJ.start,aJ.end)}aM.setAttribute("id",aK._ariaId);aM.setAttribute("aria-label",aH);aG.attr("aria-activedescendant",aK._ariaId);aK._old=aM;aK.trigger("change",{start:aO.start,end:aO.end,events:aP,slots:aL,resources:aN._resourceBySlot(aO)})}},_selectedEvents:function(){var aK=this._selection.events;var aJ=aK.length;var aG=0;var aI;var aH=[];for(;aG<aJ;aG++){aI=this.occurrenceByUid(aK[aG]);if(aI){aH.push(aI)}}return aH},_mouseMove:function(aH){var aG=this;clearTimeout(aG._moveTimer);aG._moveTimer=setTimeout(function(){var aJ=aG.view();var aK=aG._selection;if(aK){var aM=aJ.selectionByElement(an(aH.currentTarget));if(aM&&aK.groupIndex===aM.groupIndex){var aI=aM.startDate();var aL=aM.endDate();if(aI>=aK.end){aK.backward=false}else{if(aL<=aK.start){aK.backward=true}}if(aK.backward){aK.start=aI}else{aK.end=aL}aG._select()}}},5)},_viewByIndex:function(aI){var aH,aG=this.views;for(aH in aG){if(!aI){return aH}aI--}},_keydown:function(aM){var aL=this,aJ=aM.keyCode,aG=aL.view(),aI=aG.options.editable,aK=aL._selection,aH=aM.shiftKey;aL._ctrlKey=aM.ctrlKey;aL._shiftKey=aM.shiftKey;if(aJ===E.TAB){if(aG.moveToEvent(aK,aH)){aL._select();aM.preventDefault()}}else{if(aI&&aJ===E.ENTER){if(aK.events.length){if(aI.update!==false){aL.editEvent(aK.events[0])}}else{if(aI.create!==false){if(aK.isAllDay){aK=an.extend({},aK,{end:p.date.addDays(aK.end,-1)})}aL.addEvent(Z({},aK,aG._resourceBySlot(aK)))}}}else{if(aJ===E.DELETE&&aI!==false&&aI.destroy!==false){aL.removeEvent(aK.events[0])}else{if(aJ>=49&&aJ<=57){aL.view(aL._viewByIndex(aJ-49))}else{if(aG.move(aK,aJ,aH)){if(aG.inRange(aK)){aL._select()}else{aL.date(aK.start)}aM.preventDefault()}}}}}aL._adjustSelectedDate()},_createSelection:function(aI){var aG,aJ,aH;if(!this._selection||(!this._ctrlKey&&!this._shiftKey)){this._selection={events:[],groupIndex:0}}aI=an(aI);aH=this._selection;if(aI.is(".k-event")){aG=aI.attr(p.attr("uid"))}aJ=this.view().selectionByElement(aI);if(aJ){aH.groupIndex=aJ.groupIndex||0}if(aG){aJ=aF(this._data,aG)}if(aJ&&aJ.uid){aG=[aJ.uid]}this._updateSelection(aJ,aG);this._adjustSelectedDate()},_updateSelection:function(aH,aI){var aJ=this._selection;if(aH&&aJ){var aG=this.view();if(aH.uid){aH=aG._updateEventForSelection(aH)}if(this._shiftKey&&aJ.start&&aJ.end){var aK=aH.end<aJ.end;aJ.end=aH.endDate?aH.endDate():aH.end;if(aK&&aG._timeSlotInterval){p.date.setTime(aJ.end,-aG._timeSlotInterval())}}else{aJ.start=aH.startDate?aH.startDate():aH.start;aJ.end=aH.endDate?aH.endDate():aH.end}if("isDaySlot" in aH){aJ.isAllDay=aH.isDaySlot}else{aJ.isAllDay=aH.isAllDay}aJ.index=aH.index;if(this._ctrlKey){aJ.events=aJ.events.concat(aI||[])}else{aJ.events=aI||[]}}},options:{name:"Scheduler",date:e,editable:true,autoBind:true,snap:true,mobile:false,timezone:"",allDaySlot:true,min:new Date(1900,0,1),max:new Date(2099,11,31),toolbar:null,messages:{today:"Today",pdf:"Export to PDF",save:"Save",cancel:"Cancel",destroy:"Delete",deleteWindowTitle:"Delete event",ariaSlotLabel:"Selected from {0:t} to {1:t}",ariaEventLabel:"{0} on {1:D} at {2:t}",views:{day:"Day",week:"Week",workWeek:"Work Week",agenda:"Agenda",month:"Month",timeline:"Timeline",timelineWeek:"Timeline Week",timelineWorkWeek:"Timeline Work Week",timelineMonth:"Timeline Month"},recurrenceMessages:{deleteWindowTitle:"Delete Recurring Item",deleteWindowOccurrence:"Delete current occurrence",deleteWindowSeries:"Delete the series",editWindowTitle:"Edit Recurring Item",editWindowOccurrence:"Edit current occurrence",editWindowSeries:"Edit the series"},editable:{confirmation:i},editor:{title:"Title",start:"Start",end:"End",allDayEvent:"All day event",description:"Description",repeat:"Repeat",timezone:" ",startTimezone:"Start timezone",endTimezone:"End timezone",separateTimezones:"Use separate start and end time zones",timezoneEditorTitle:"Timezones",timezoneEditorButton:"Time zone",timezoneTitle:"Time zones",noTimezone:"No timezone",editorTitle:"Event"}},height:null,width:null,resources:[],group:{resources:[],direction:"horizontal"},views:[],selectable:false},events:[aB,D,X,am,"add","dataBinding","dataBound","moveStart","move","moveEnd","resizeStart","resize","resizeEnd","navigate","change"],destroy:function(){var aH=this,aG;h.fn.destroy.call(aH);if(aH.dataSource){aH.dataSource.unbind(C,aH._refreshHandler);aH.dataSource.unbind("progress",aH._progressHandler);aH.dataSource.unbind("error",aH._errorHandler)}if(aH.calendar){aH.calendar.destroy();aH.popup.destroy()}if(aH.view()){aH.view().destroy()}if(aH._editor){aH._editor.destroy()}if(this._moveDraggable){this._moveDraggable.destroy()}if(this._resizeDraggable){this._resizeDraggable.destroy()}aG=aH.element.add(aH.wrapper).add(aH.toolbar).add(aH.popup);aG.off(au);clearTimeout(aH._moveTimer);aH._model=null;aH.toolbar=null;aH.element=null;an(window).off("resize"+au,aH._resizeHandler);p.destroy(aH.wrapper)},setDataSource:function(aG){this.options.dataSource=aG;this._dataSource();if(this.options.autoBind){aG.fetch()}},items:function(){return this.wrapper.find(".k-scheduler-content").children(".k-event, .k-task")},_movable:function(){var aO;var aI;var aK;var aL;var aH;var aJ;var aM=this;var aP;var aN=aM._isMobile();var aQ=aM.options.editable&&aM.options.editable.move!==false;var aG=aM.options.editable&&aM.options.editable.resize!==false;if(aQ||(aG&&aN)){aM._moveDraggable=new p.ui.Draggable(aM.element,{distance:0,filter:".k-event",ignore:".k-resize-handle",holdToDrag:aN});if(aQ){aM._moveDraggable.bind("dragstart",function(aT){var aR=aM.view();var aS=aT.currentTarget;if(!aR.options.editable||aR.options.editable.move===false){aT.preventDefault();return}if(aN&&!aS.hasClass("k-event-active")){aM.element.find(".k-event-active").removeClass("k-event-active");aT.preventDefault();return}aH=aM.occurrenceByUid(aS.attr(p.attr("uid")));aJ=aH.clone();aJ.update(aR._eventOptionsForMove(aJ));aO=aR._slotByPosition(aT.x.startLocation,aT.y.startLocation);aK=aO.startOffset(aT.x.startLocation,aT.y.startLocation,aM.options.snap);aI=aO;aP=aO;if(!aO||aM.trigger("moveStart",{event:aH})){aT.preventDefault()}}).bind("drag",function(aT){var aR=aM.view();var aV=aR._slotByPosition(aT.x.location,aT.y.location);var aU;var aS;if(!aV){return}aL=aV.startOffset(aT.x.location,aT.y.location,aM.options.snap);if(aV.isDaySlot!==aO.isDaySlot){aO=aR._slotByPosition(aT.x.location,aT.y.location);aK=aO.startOffset(aT.x.location,aT.y.location,aM.options.snap);aU=aL-aK;aJ.isAllDay=aV.isDaySlot;aJ.start=p.timezone.toLocalDate(aK);aJ.end=p.timezone.toLocalDate(aL);aR._updateMoveHint(aJ,aV.groupIndex,aU);aS={start:aJ.start,end:aJ.end}}else{aU=aL-aK;aR._updateMoveHint(aJ,aV.groupIndex,aU);aS=J(aJ,aU)}if(!aM.trigger("move",{event:aH,slot:{element:aV.element,start:aV.startDate(),end:aV.endDate(),isDaySlot:aV.isDaySlot},resources:aR._resourceBySlot(aV),start:aS.start,end:aS.end})){aI=aV}else{aR._updateMoveHint(aJ,aV.groupIndex,aU)}}).bind("dragend",function(aY){aM.view()._removeMoveHint();var aR=aL-aK;var aX=J(aJ,aR);var aS=aX.start;var aW=aX.end;var a0=aM.view()._resourceBySlot(aI);var aT=aM.view()._resourceBySlot(aO);var aU=aM.trigger("moveEnd",{event:aH,slot:{element:aI.element,start:aI.startDate(),end:aI.endDate()},start:aS,end:aW,resources:a0});if(!aU&&(aH.start.getTime()!==aS.getTime()||aH.end.getTime()!==aW.getTime()||aP.isDaySlot!==aI.isDaySlot||p.stringify(a0)!==p.stringify(aT))){var aZ=aM.view()._eventOptionsForMove(aH);var aV;if(aP.isDaySlot!==aI.isDaySlot){if(aI.isDaySlot){aV=an.extend({start:aI.startDate(),end:aI.startDate(),isAllDay:aI.isDaySlot},aZ,a0)}else{aV=an.extend({isAllDay:aI.isDaySlot,start:aS,end:aW},aZ,a0)}}else{aV=an.extend({isAllDay:aH.isAllDay,start:aS,end:aW},aZ,a0)}aM._updateEvent(null,aH,aV)}aY.currentTarget.removeClass("k-event-active");this.cancelHold()}).bind("dragcancel",function(){aM.view()._removeMoveHint();this.cancelHold()})}if(aN){aM._moveDraggable.bind("hold",function(aR){if(aM.element.find(".k-scheduler-monthview").length){aR.preventDefault()}aM.element.find(".k-event-active").removeClass("k-event-active");aR.currentTarget.addClass("k-event-active")});aM._moveDraggable.userEvents.bind("press",function(aR){aR.preventDefault()})}}},_resizable:function(){var aI;var aG;var aK;var aH;var aM;var aJ=this;function aL(aO){var aP={"k-resize-e":"east","k-resize-w":"west","k-resize-n":"north","k-resize-s":"south"};for(var aN in aP){if(aO.hasClass(aN)){return aP[aN]}}}aJ._resizeDraggable=new p.ui.Draggable(aJ.element,{distance:0,filter:".k-resize-handle",dragstart:function(aR){var aN=an(aR.currentTarget);var aP=aN.closest(".k-event");var aQ=aP.attr(p.attr("uid"));var aO=aJ.view();aK=aJ.occurrenceByUid(aQ);aH=aK.clone();aO._updateEventForResize(aH);aM=aO._slotByPosition(aR.x.startLocation,aR.y.startLocation);if(aJ.trigger("resizeStart",{event:aK})){aR.preventDefault()}aI=p.date.toUtcTime(aH.start);aG=p.date.toUtcTime(aH.end)},drag:function(aT){if(!aM){return}var aN=an(aT.currentTarget);var aQ=aL(aN);var aO=aJ.view();var aS=aO._slotByPosition(aT.x.location,aT.y.location);if(!aS||aM.groupIndex!=aS.groupIndex){return}aM=aS;var aR=aI;var aP=aG;if(aQ=="south"){if(!aM.isDaySlot&&aM.end-p.date.toUtcTime(aH.start)>=aO._timeSlotInterval()){if(aH.isAllDay){aG=aM.startOffset(aT.x.location,aT.y.location,aJ.options.snap)}else{aG=aM.endOffset(aT.x.location,aT.y.location,aJ.options.snap)}}}else{if(aQ=="north"){if(!aM.isDaySlot&&p.date.toUtcTime(aH.end)-aM.start>=aO._timeSlotInterval()){aI=aM.startOffset(aT.x.location,aT.y.location,aJ.options.snap)}}else{if(aQ=="east"){if(aM.isDaySlot&&p.date.toUtcTime(p.date.getDate(aM.endDate()))>=p.date.toUtcTime(p.date.getDate(aH.start))){if(aH.isAllDay){aG=aM.startOffset(aT.x.location,aT.y.location,aJ.options.snap)}else{aG=aM.endOffset(aT.x.location,aT.y.location,aJ.options.snap)}}else{if(!aM.isDaySlot&&aM.end-p.date.toUtcTime(aH.start)>=aO._timeSlotInterval()){aG=aM.endOffset(aT.x.location,aT.y.location,aJ.options.snap)}}}else{if(aQ=="west"){if(aM.isDaySlot&&p.date.toUtcTime(p.date.getDate(aH.end))>=p.date.toUtcTime(p.date.getDate(aM.startDate()))){aI=aM.startOffset(aT.x.location,aT.y.location,aJ.options.snap)}else{if(!aM.isDaySlot&&p.date.toUtcTime(aH.end)-aM.start>=aO._timeSlotInterval()){aI=aM.startOffset(aT.x.location,aT.y.location,aJ.options.snap)}}}}}}if(!aJ.trigger("resize",{event:aK,slot:{element:aM.element,start:aM.startDate(),end:aM.endDate()},start:p.timezone.toLocalDate(aI),end:p.timezone.toLocalDate(aG),resources:aO._resourceBySlot(aM)})){aO._updateResizeHint(aH,aM.groupIndex,aI,aG)}else{aI=aR;aG=aP}},dragend:function(aR){var aN=an(aR.currentTarget);var aS=new Date(aH.start.getTime());var aO=new Date(aH.end.getTime());var aP=aL(aN);aJ.view()._removeResizeHint();if(aP=="south"){aO=p.timezone.toLocalDate(aG)}else{if(aP=="north"){aS=p.timezone.toLocalDate(aI)}else{if(aP=="east"){if(aM.isDaySlot){aO=p.date.getDate(p.timezone.toLocalDate(aG))}else{aO=p.timezone.toLocalDate(aG)}}else{if(aP=="west"){if(aM.isDaySlot){aS=new Date(p.timezone.toLocalDate(aI));aS.setHours(0);aS.setMinutes(0)}else{aS=p.timezone.toLocalDate(aI)}}}}}var aQ=aJ.trigger("resizeEnd",{event:aK,slot:{element:aM.element,start:aM.startDate(),end:aM.endDate()},start:aS,end:aO,resources:aJ.view()._resourceBySlot(aM)});if(!aQ&&aO.getTime()>=aS.getTime()){if(aH.start.getTime()!=aS.getTime()||aH.end.getTime()!=aO.getTime()){aJ.view()._updateEventForResize(aK);aJ._updateEvent(aP,aK,{start:aS,end:aO})}}aM=null;aK=null},dragcancel:function(){aJ.view()._removeResizeHint();aM=null;aK=null}})},_updateEvent:function(aJ,aG,aL){var aK=this;var aO=function(aP,aQ){try{aK._preventRefresh=true;aP.update(aL);aK._convertDates(aP)}finally{aK._preventRefresh=false}if(!aK.trigger(am,{event:aP})){if(aQ){aQ()}aK._updateSelection(aP);aK.dataSource.sync()}};var aI=function(aP){if(aP.recurrenceRule){return aK.dataSource.getByUid(aP.uid)}else{return aK.dataSource.get(aP.recurrenceId)}};var aM=function(){var aQ=aI(aG);if(aJ=="south"||aJ=="north"){if(aL.start){var aR=p.date.getDate(aQ.start);p.date.setTime(aR,U(aL.start));aL.start=aR}if(aL.end){var aP=p.date.getDate(aQ.end);p.date.setTime(aP,U(aL.end));aL.end=aP}}aK.dataSource._removeExceptions(aQ);aO(aQ)};var aH=function(){var aQ=aI(aG);var aR=function(){aK._convertDates(aQ)};var aP=aQ.toOccurrence({start:aG.start,end:aG.end});aO(aK.dataSource.add(aP),aR)};if(aG.recurrenceRule||aG.isOccurrence()){var aN=aK.options.messages.recurrenceMessages;aK._showRecurringDialog(aG,aH,aM,{title:aN.editWindowTitle,text:aN.editRecurring?aN.editRecurring:G,occurrenceText:aN.editWindowOccurrence,seriesText:aN.editWindowSeries})}else{aO(aK.dataSource.getByUid(aG.uid))}},_modelForContainer:function(aG){aG=an(aG).closest("["+p.attr("uid")+"]");return this.dataSource.getByUid(aG.attr(p.attr("uid")))},showDialog:function(aG){this._editor.showDialog(aG)},focus:function(){this.wrapper.focus()},_confirmation:function(aN,aH){var aI=this.options.editable;if(aI===true||aI.confirmation!==false){var aK=this.options.messages;var aM=aK.deleteWindowTitle;var aL=typeof aI.confirmation===av?aI.confirmation:aK.editable.confirmation;if(this._isEditorOpened()&&aH.isRecurring()){var aG=this.options.messages.recurrenceMessages;aM=aG.deleteWindowTitle;if(aH.isException()){aL=aG.deleteRecurringConfirmation?aG.deleteRecurringConfirmation:aE}else{aL=aG.deleteSeriesConfirmation?aG.deleteSeriesConfirmation:ad}}var aJ=[{name:"destroy",text:aK.destroy,click:function(){aN()}}];if(!(this._isMobile()&&p.mobile.ui.Pane)){aJ.push({name:"canceledit",text:aK.cancel,click:function(){aN(true)}})}this._unbindResize();this.showDialog({model:aH,text:aL,title:aM,buttons:aJ});this._bindResize()}else{aN()}},addEvent:function(aJ){var aG=this._editor.editable;var aK=this.dataSource;var aH;aJ=aJ||{};var aI=this.trigger("add",{event:aJ});if(!aI&&((aG&&aG.end())||!aG)){this.cancelEvent();if(aJ&&aJ.toJSON){aJ=aJ.toJSON()}aH=aK.add(aJ);if(aH){this.cancelEvent();this._editEvent(aH)}}},saveEvent:function(){var aJ=this._editor;if(!aJ){return}var aI=aJ.editable;var aG=aJ.container;var aH=this._modelForContainer(aG);if(aG&&aI&&aI.end()&&!this.trigger(am,{container:aG,event:aH})){if(aH.isRecurrenceHead()){this.dataSource._removeExceptions(aH)}if(!aH.dirty&&!aH.isOccurrence()){this._convertDates(aH,"remove")}this.dataSource.sync()}},cancelEvent:function(){var aI=this._editor;var aG=aI.container;var aH;if(aG){aH=this._modelForContainer(aG);if(aH&&aH.isOccurrence()){this._convertDates(aH,"remove");this._convertDates(this.dataSource.get(aH.recurrenceId),"remove")}this.dataSource.cancelChanges(aH);aI.close()}},editEvent:function(aH){var aG=typeof aH=="string"?this.occurrenceByUid(aH):aH;if(!aG){return}this.cancelEvent();if(aG.isRecurring()){this._editRecurringDialog(aG)}else{this._editEvent(aG)}},_editEvent:function(aG){this._unbindResize();this._createPopupEditor(aG);this._bindResize()},_editRecurringDialog:function(aH){var aI=this;var aK=function(){if(aH.isException()){aI._editEvent(aH)}else{aI.addEvent(aH)}};var aJ=function(){if(aH.recurrenceId){aH=aI.dataSource.get(aH.recurrenceId)}aI._editEvent(aH)};var aG=aI.options.messages.recurrenceMessages;aI._showRecurringDialog(aH,aK,aJ,{title:aG.editWindowTitle,text:aG.editRecurring?aG.editRecurring:G,occurrenceText:aG.editWindowOccurrence,seriesText:aG.editWindowSeries})},_showRecurringDialog:function(aG,aL,aK,aJ){var aI=this;var aH=aI.options.editable;var aM=A(aH)?aH.editRecurringMode:"dialog";if(aM==="series"){aK()}else{if(aM==="occurrence"){aL()}else{this._unbindResize();aI.showDialog({model:aG,title:aJ.title,text:aJ.text,buttons:[{text:aJ.occurrenceText,click:aL},{text:aJ.seriesText,click:aK}]});this._bindResize()}}},_createButton:function(aJ){var aI=aJ.template||O,aH=typeof aJ===av?aJ:aJ.name||aJ.text,aG={className:"k-scheduler-"+(aH||"").replace(/\s/g,""),text:aH,attr:""};if(!aH&&!(A(aJ)&&aJ.template)){throw new Error("Custom commands should have name specified")}if(A(aJ)){if(aJ.className){aJ.className+=" "+aG.className}if(aH==="edit"&&A(aJ.text)){aJ=Z(true,{},aJ);aJ.text=aJ.text.edit}aG=Z(true,aG,K[aH],aJ)}else{aG=Z(true,aG,K[aH])}return p.template(aI)(aG)},_convertDates:function(aJ,aM){var aK=this.dataSource.reader.timezone;var aG=aJ.startTimezone;var aI=aJ.endTimezone;var aL=aJ.start;var aH=aJ.start;aM=aM||"apply";aG=aG||aI;aI=aI||aG;if(aG){if(aK){if(aM==="apply"){aL=p.timezone.convert(aJ.start,aK,aG);aH=p.timezone.convert(aJ.end,aK,aI)}else{aL=p.timezone.convert(aJ.start,aG,aK);aH=p.timezone.convert(aJ.end,aI,aK)}}else{aL=p.timezone[aM](aJ.start,aG);aH=p.timezone[aM](aJ.end,aI)}aJ._set("start",aL);aJ._set("end",aH)}},_createEditor:function(){var aH=this;var aG;if(this._isMobile()&&p.mobile.ui.Pane){aG=aH._editor=new g(this.wrapper,Z({},this.options,{target:this,timezone:aH.dataSource.reader.timezone,resources:aH.resources,createButton:w(this._createButton,this)}))}else{aG=aH._editor=new ap(this.wrapper,Z({},this.options,{target:this,createButton:w(this._createButton,this),timezone:aH.dataSource.reader.timezone,resources:aH.resources}))}aG.bind("cancel",function(aI){if(aH.trigger("cancel",{container:aI.container,event:aI.model})){aI.preventDefault();return}aH.cancelEvent();aH.focus()});aG.bind("edit",function(aI){if(aH.trigger(D,{container:aI.container,event:aI.model})){aI.preventDefault()}});aG.bind("save",function(){aH.saveEvent()});aG.bind("remove",function(aI){aH.removeEvent(aI.model)})},_createPopupEditor:function(aG){var aH=this._editor;if(!aG.isNew()||aG.isOccurrence()){if(aG.isOccurrence()){this._convertDates(aG.recurrenceId?this.dataSource.get(aG.recurrenceId):aG)}this._convertDates(aG)}this.editable=aH.editEvent(aG)},removeEvent:function(aH){var aI=this,aG=typeof aH=="string"?aI.occurrenceByUid(aH):aH;if(!aG){return}if(aG.isRecurring()){aI._deleteRecurringDialog(aG)}else{aI._confirmation(function(aJ){if(!aJ){aI._removeEvent(aG)}},aG)}},occurrenceByUid:function(aG){var aH=this.dataSource.getByUid(aG);if(!aH){aH=aF(this._data,aG)}return aH},occurrencesInRange:function(aH,aG){return new p.data.Query(this._data).filter({logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:aH},{field:"end",operator:"gte",value:aH},{field:"start",operator:"lt",value:aG}]},{logic:"and",filters:[{field:"start",operator:"lte",value:aH},{field:"end",operator:"gt",value:aH}]}]}).toArray()},_removeEvent:function(aG){if(!this.trigger(aB,{event:aG})){if(this.dataSource.remove(aG)){this.dataSource.sync()}}},_deleteRecurringDialog:function(aJ){var aL=this;var aK=aJ;var aH=aL.options.editable;var aN;var aO;var aP;var aI;var aM=A(aH)?aH.editRecurringMode:"dialog";aN=function(){var aT=aK.recurrenceId?aK:aK.toOccurrence();var aS=aL.dataSource.get(aT.recurrenceId);aL._convertDates(aS);aL._removeEvent(aT)};aO=function(){if(aK.recurrenceId){aK=aL.dataSource.get(aK.recurrenceId)}aL._removeEvent(aK)};if(aM!="dialog"||aL._isEditorOpened()){aP=function(){aL._confirmation(function(aS){if(!aS){aN()}},aK)};aI=function(){aL._confirmation(function(aS){if(!aS){aO()}},aK)}}var aG=aI||aO;var aR=aP||aN;if(aL._isEditorOpened()){if(aJ.isException()){aR()}else{aG()}}else{var aQ=aL.options.messages.recurrenceMessages;aL._showRecurringDialog(aJ,aR,aG,{title:aQ.deleteWindowTitle,text:aQ.deleteRecurring?aQ.deleteRecurring:H,occurrenceText:aQ.deleteWindowOccurrence,seriesText:aQ.deleteWindowSeries})}},_isEditorOpened:function(){return !!this._editor.container},_unbindView:function(aG){var aH=this;aH.angular("cleanup",function(){return{elements:aH.items()}});aG.destroy()},_bindView:function(aG){var aH=this;if(aH.options.editable){if(aH._viewRemoveHandler){aG.unbind(aB,aH._viewRemoveHandler)}aH._viewRemoveHandler=function(aI){aH.removeEvent(aI.uid)};aG.bind(aB,aH._viewRemoveHandler);if(aH._viewAddHandler){aG.unbind(W,aH._viewAddHandler)}aH._viewAddHandler=function(aI){aH.addEvent(aI.eventInfo)};aG.bind(W,this._viewAddHandler);if(aH._viewEditHandler){aG.unbind(D,aH._viewEditHandler)}aH._viewEditHandler=function(aI){aH.editEvent(aI.uid)};aG.bind(D,this._viewEditHandler)}if(aH._viewNavigateHandler){aG.unbind("navigate",aH._viewNavigateHandler)}aH._viewNavigateHandler=function(aJ){if(aJ.view){var aK="isWorkDay" in aJ;var aI=aK?"changeWorkDay":"changeView";if(!aH.trigger("navigate",{view:aJ.view,isWorkDay:aJ.isWorkDay,action:aI,date:aJ.date})){if(aK){aH._workDayMode=aJ.isWorkDay}aH._selectView(aJ.view);aH.date(aJ.date)}}};aG.bind("navigate",aH._viewNavigateHandler);if(aH._viewActivateHandler){aG.unbind("activate",aH._viewActivateHandler)}aH._viewActivateHandler=function(){var aI=this;if(aH._selection){aI.constrainSelection(aH._selection);aH._select();aH._adjustSelectedDate()}};aG.bind("activate",aH._viewActivateHandler)},_selectView:function(aG){var aJ=this;if(aG&&aJ.views[aG]){if(aJ._selectedView){aJ._unbindView(aJ._selectedView)}aJ._selectedView=aJ._renderView(aG);aJ._selectedViewName=aG;if(aJ._viewsCount>1){var aI=T({views:aJ.views,view:aG,ns:p.ns});var aK=aJ.toolbar.find(".k-scheduler-views li:first-child");if(aK.is(".k-current-view")){aK.replaceWith(aI)}else{aJ.toolbar.find(".k-scheduler-views").prepend(aI)}var aH=aJ.toolbar.find(".k-scheduler-views li").removeClass("k-state-selected");aH.end().find(".k-view-"+aG.replace(/\./g,"\\.").toLowerCase()).addClass("k-state-selected")}}},view:function(aG){var aH=this;if(aG){aH._selectView(aG);aH.rebind();return}return aH._selectedView},viewName:function(){return this.view().name},_renderView:function(aH){var aG=this._initializeView(aH);this._bindView(aG);this._model.set("formattedDate",aG.dateForTitle());this._model.set("formattedShortDate",aG.shortDateForTitle());return aG},resize:function(aJ){var aI=this.getSize();var aH=this._size;var aG=this.view();if(!aG||!aG.groups){return}if(aJ||!aH||aI.width!==aH.width||aI.height!==aH.height){this.refresh({action:"resize"});this._size=aI}},_adjustSelectedDate:function(){var aG=this._model.selectedDate,aH=this._selection,aI=aH.start;if(aI&&!p.date.isInDateRange(aG,ax(aI),ax(aH.end))){aG.setFullYear(aI.getFullYear(),aI.getMonth(),aI.getDate())}},_initializeView:function(aI){var aG=this.views[aI];if(aG){var aH=A(aG),aJ=aG.type;if(typeof aJ===av){aJ=p.getter(aG.type)(window)}if(aJ){aG=new aJ(this.wrapper,S(Z(true,{},this.options,aH?aG:{},{resources:this.resources,date:this.date(),showWorkHours:this._workDayMode})))}else{throw new Error("There is no such view")}}return aG},_views:function(){var aP=this.options.views;var aN;var aL;var aK;var aG;var aH;var aM;var aO;var aI;this.views={};this._viewsCount=0;for(aO=0,aI=aP.length;aO<aI;aO++){var aJ=false;aN=aP[aO];aG=A(aN);if(aG){aM=aH=aN.type?aN.type:aN;if(typeof aM!==av){aH=aN.title;aJ=true}}else{aM=aH=aN}aL=f[aH];if(aL&&!aJ){aN.type=aL.type;aL.title=this.options.messages.views[aH];if(aL.type==="day"){aL.messages={allDay:this.options.messages.allDay}}else{if(aL.type==="agenda"){aL.messages={event:this.options.messages.event,date:this.options.messages.date,time:this.options.messages.time}}}}aN=Z({title:aH},aL,aG?aN:{});if(aH){this.views[aH]=aN;this._viewsCount++;if(!aK||aN.selected){aK=aH}}}if(aK){this._selectedViewName=aK}},rebind:function(){this.dataSource.fetch()},_dataSource:function(){var aH=this,aG=aH.options,aI=aG.dataSource;aI=a(aI)?{data:aI}:aI;if(aG.timezone&&!(aI instanceof az)){aI=Z(true,aI,{schema:{timezone:aG.timezone}})}else{if(aI instanceof az){aG.timezone=aI.options.schema?aI.options.schema.timezone:""}}if(aH.dataSource&&aH._refreshHandler){aH.dataSource.unbind(C,aH._refreshHandler).unbind("progress",aH._progressHandler).unbind("error",aH._errorHandler)}else{aH._refreshHandler=w(aH.refresh,aH);aH._progressHandler=w(aH._requestStart,aH);aH._errorHandler=w(aH._error,aH)}aH.dataSource=p.data.SchedulerDataSource.create(aI).bind(C,aH._refreshHandler).bind("progress",aH._progressHandler).bind("error",aH._errorHandler);aH.options.dataSource=aH.dataSource},_error:function(){this._progress(false)},_requestStart:function(){this._progress(true)},_progress:function(aG){var aH=this.element.find(".k-scheduler-content");p.ui.progress(aH,aG)},_resources:function(){var aI=this;var aL=aI.options.resources;for(var aG=0;aG<aL.length;aG++){var aJ=aL[aG];var aK=aJ.field;var aM=aJ.dataSource;if(!aK||!aM){throw new Error('The "field" and "dataSource" options of the scheduler resource are mandatory.')}aI.resources.push({field:aK,name:aJ.name||aK,title:aJ.title||aK,dataTextField:aJ.dataTextField||"text",dataValueField:aJ.dataValueField||"value",dataColorField:aJ.dataColorField||"color",valuePrimitive:aJ.valuePrimitive!=null?aJ.valuePrimitive:true,multiple:aJ.multiple||false,dataSource:p.data.DataSource.create(aM)})}var aH=an.map(aI.resources,function(aN){return aN.dataSource.fetch()});an.when.apply(null,aH).then(function(){if(aI.options.autoBind){aI.view(aI._selectedViewName)}else{aI._selectView(aI._selectedViewName)}})},_initModel:function(){var aG=this;aG._model=p.observable({selectedDate:new Date(this.options.date),formattedDate:"",formattedShortDate:""});aG._model.bind("change",function(aH){if(aH.field==="selectedDate"){aG.view(aG._selectedViewName)}})},_wrapper:function(){var aJ=this;var aH=aJ.options;var aG=aH.height;var aI=aH.width;aJ.wrapper=aJ.element.addClass("k-widget k-scheduler k-floatwrap").attr("role","grid").attr("aria-multiselectable",true);if(aJ._isMobile()){aJ.wrapper.addClass("k-scheduler-mobile")}if(aJ._isMobilePhoneView()){aJ.wrapper.addClass("k-scheduler-phone")}if(aG){aJ.wrapper.height(aG)}if(aI){aJ.wrapper.width(aI)}},date:function(aG){if(aG!=null&&ax(aG)>=ax(this.options.min)&&ax(aG)<=ax(this.options.max)){this._model.set("selectedDate",aG)}return ax(this._model.get("selectedDate"))},_toolbar:function(){var aK=this;var aH=aK.options;var aG=[];if(aH.toolbar){aG=an.isArray(aH.toolbar)?aH.toolbar:[aH.toolbar]}var aI=this._isMobilePhoneView()?ao:L;var aJ=an(aI({messages:aH.messages,pdf:an.grep(aG,function(aL){return aL=="pdf"||aL.name=="pdf"}).length>0,ns:p.ns,views:aK.views,viewsCount:aK._viewsCount}));aK.wrapper.append(aJ);aK.toolbar=aJ;p.bind(aK.toolbar,aK._model);aJ.on(al+au,".k-pdf",function(aL){aL.preventDefault();aK.saveAsPDF()});aJ.on(al+au,".k-scheduler-navigation li",function(aO){var aL=an(this);var aM=new Date(aK.date());var aN="";aO.preventDefault();if(aL.hasClass("k-nav-today")){aN="today";aM=new Date()}else{if(aL.hasClass("k-nav-next")){aN="next";aM=aK.view().nextDate()}else{if(aL.hasClass("k-nav-prev")){aN="previous";aM=aK.view().previousDate()}else{if(aL.hasClass("k-nav-current")&&!aK._isMobilePhoneView()){aK._showCalendar();return}}}}if(!aK.trigger("navigate",{view:aK._selectedViewName,action:aN,date:aM})){aK.date(aM)}});aJ.on(al+au,".k-scheduler-views li, .k-scheduler-refresh",function(aM){aM.preventDefault();var aL=an(this).attr(p.attr("name"));if(!aK.trigger("navigate",{view:aL,action:"changeView",date:aK.date()})){aK.view(aL);aK.element.find(".k-state-expanded").removeClass("k-state-expanded")}});aJ.on(al+au,".k-scheduler-views li.k-current-view",function(aL){aK.element.find(".k-scheduler-views").toggleClass("k-state-expanded")});aJ.find("li").hover(function(){an(this).addClass("k-state-hover")},function(){an(this).removeClass("k-state-hover")})},_showCalendar:function(){var aH=this,aI=aH.toolbar.find(".k-nav-current"),aG=an('<div class="k-calendar-container"><div class="k-scheduler-calendar"/></div>');if(!aH.popup){aH.popup=new ah(aG,{anchor:aI,activate:function(){if(!aH.calendar){aH.calendar=new s(this.element.find(".k-scheduler-calendar"),{change:function(){var aJ=this.value();if(!aH.trigger("navigate",{view:aH._selectedViewName,action:"changeDate",date:aJ})){aH.date(aJ);aH.popup.close()}},min:aH.options.min,max:aH.options.max})}aH.calendar.value(aH.date())},copyAnchorStyles:false})}aH.popup.open()},refresh:function(aI){var aH=this;var aG=this.view();this._progress(false);this.angular("cleanup",function(){return{elements:aH.items()}});aI=aI||{};if(!aG){return}if(aI&&aI.action==="itemchange"&&(this._editor.editable||this._preventRefresh)){return}if(this.trigger("dataBinding",{action:aI.action||"rebind",index:aI.index,items:aI.items})){return}if(!(aI&&aI.action==="resize")&&this._editor){this._editor.close()}this._data=this.dataSource.expand(aG.startDate(),aG.endDate());aG.render(this._data);this.trigger("dataBound")},slotByPosition:function(aG,aJ){var aH=this.view();if(!aH._slotByPosition){return null}var aI=aH._slotByPosition(aG,aJ);if(!aI){return null}return{startDate:aI.startDate(),endDate:aI.endDate(),groupIndex:aI.groupIndex,element:aI.element,isDaySlot:aI.isDaySlot}},slotByElement:function(aG){var aH=an(aG).offset();return this.slotByPosition(aH.left,aH.top)},resourcesBySlot:function(aG){return this.view()._resourceBySlot(aG)}});var f={day:{type:"kendo.ui.DayView"},week:{type:"kendo.ui.WeekView"},workWeek:{type:"kendo.ui.WorkWeekView"},agenda:{type:"kendo.ui.AgendaView"},month:{type:"kendo.ui.MonthView"},timeline:{type:"kendo.ui.TimelineView"},timelineWeek:{type:"kendo.ui.TimelineWeekView"},timelineWorkWeek:{type:"kendo.ui.TimelineWorkWeekView"},timelineMonth:{type:"kendo.ui.TimelineMonthView"}};M.plugin(j);if(p.PDFMixin){p.PDFMixin.extend(j.prototype);var ay="k-scheduler-pdf-export";j.fn._drawPDF=function(){var aJ=this.wrapper;var aH=aJ[0].style.cssText;aJ.css({width:aJ.width(),height:aJ.height()});aJ.addClass(ay);this.resize(true);var aI=this._drawPDFShadow();var aG=this;aI.always(function(){aJ[0].style.cssText=aH;aJ.removeClass(ay);aG.resize(true)});return aI}}var ai=h.extend({init:function(aI,aH){var aJ=this,aG=p.timezone.windows_zones;if(!aG||!p.timezone.zones_titles){throw new Error("kendo.timezones.min.js is not included.")}h.fn.init.call(aJ,aI,aH);aJ.wrapper=aJ.element;aJ._zonesQuery=new p.data.Query(aG);aJ._zoneTitleId=p.guid();aJ._zoneTitlePicker();aJ._zonePicker();aJ._zoneTitle.bind("cascade",function(){if(!this.value()){aJ._zone.wrapper.hide()}});aJ._zone.bind("cascade",function(){aJ._value=this.value();aJ.trigger("change")});aJ.value(aJ.options.value)},options:{name:"TimezoneEditor",value:"",optionLabel:"No timezone"},events:["change"],_zoneTitlePicker:function(){var aH=this,aG=an('<input id="'+aH._zoneTitleId+'"/>').appendTo(aH.wrapper);aH._zoneTitle=new p.ui.DropDownList(aG,{dataSource:p.timezone.zones_titles,dataValueField:"other_zone",dataTextField:"name",optionLabel:aH.options.optionLabel})},_zonePicker:function(){var aH=this,aG=an("<input />").appendTo(this.wrapper);aH._zone=new p.ui.DropDownList(aG,{dataValueField:"zone",dataTextField:"territory",dataSource:aH._zonesQuery.data,cascadeFrom:aH._zoneTitleId,dataBound:function(){aH._value=this.value();this.wrapper.toggle(this.dataSource.view().length>1)}});aH._zone.wrapper.hide()},destroy:function(){h.fn.destroy.call(this);p.destroy(this.wrapper)},value:function(aI){var aH=this,aG;if(aI===v){return aH._value}aG=aH._zonesQuery.filter({field:"zone",operator:"eq",value:aI}).data[0];if(aG){aH._zoneTitle.value(aG.other_zone);aH._zone.value(aG.zone)}else{aH._zoneTitle.select(0)}}});M.plugin(ai);var n=p.template('<option value="#=other_zone#">#=name#</option>');var ak=p.template('<option value="#=zone#">#=territory#</option>');var Y=h.extend({init:function(aI,aH){var aJ=this,aG=p.timezone.windows_zones;if(!aG||!p.timezone.zones_titles){throw new Error("kendo.timezones.min.js is not included.")}h.fn.init.call(aJ,aI,aH);aJ.wrapper=aJ.element;aJ._zonesQuery=new p.data.Query(aG);aJ._zoneTitlePicker();aJ._zonePicker();aJ.value(aJ.options.value)},options:{name:"MobileTimezoneEditor",optionLabel:"No timezone",value:""},events:["change"],_bindZones:function(aH){var aG=aH?this._filter(aH):[];this._zone.html(this._options(aG,ak))},_filter:function(aG){return this._zonesQuery.filter({field:"other_zone",operator:"eq",value:aG}).data},_options:function(aL,aI,aK){var aG=0;var aH="";var aJ=aL.length;if(aK){aH+=aI({other_zone:"",name:aK})}for(;aG<aJ;aG++){aH+=aI(aL[aG])}return aH},_zoneTitlePicker:function(){var aH=this;var aG=aH._options(p.timezone.zones_titles,n,aH.options.optionLabel);aH._zoneTitle=an("<select>"+aG+"</select>").appendTo(aH.wrapper).change(function(){var aJ=this.value;var aI=aH._zone;aH._bindZones(aJ);if(aJ&&aI[0].children.length>1){aI.show()}else{aI.hide()}aH._value=aI[0].value;aH.trigger("change")})},_zonePicker:function(){var aG=this;aG._zone=an('<select style="display:none"></select>').appendTo(this.wrapper).change(function(){aG._value=this.value;aG.trigger("change")});aG._bindZones(aG._zoneTitle.val());aG._value=aG._zone[0].value},destroy:function(){h.fn.destroy.call(this);p.destroy(this.wrapper)},value:function(aL){var aK=this;var aJ=aK._zone;var aH="";var aI="";var aG;if(aL===v){return aK._value}aG=aK._zonesQuery.filter({field:"zone",operator:"eq",value:aL}).data[0];if(aG){aI=aG.zone;aH=aG.other_zone}aK._zoneTitle.val(aH);aK._bindZones(aH);aJ.val(aI);aI=aJ[0].value;if(aI&&aJ[0].children.length>1){aJ.show()}else{aJ.hide()}aK._value=aI}});M.plugin(Y)})(window.kendo.jQuery);(function(e,h){var g=window.kendo,d=g.ui.Widget,b=e.proxy,a=Math.abs,f=20;var c=d.extend({init:function(j,i){var l=this;d.fn.init.call(l,j,i);i=l.options;j=l.element;l.wrapper=j;function k(n){return function(o){l._triggerTouch(n,o)}}function m(n){return function(o){l.trigger(n,{touches:o.touches,distance:o.distance,center:o.center,event:o.event})}}l.events=new g.UserEvents(j,{filter:i.filter,surface:i.surface,minHold:i.minHold,multiTouch:i.multiTouch,allowSelection:true,press:k("touchstart"),hold:k("hold"),tap:b(l,"_tap"),gesturestart:m("gesturestart"),gesturechange:m("gesturechange"),gestureend:m("gestureend")});if(i.enableSwipe){l.events.bind("start",b(l,"_swipestart"));l.events.bind("move",b(l,"_swipemove"))}else{l.events.bind("start",b(l,"_dragstart"));l.events.bind("move",k("drag"));l.events.bind("end",k("dragend"))}g.notify(l)},events:["touchstart","dragstart","drag","dragend","tap","doubletap","hold","swipe","gesturestart","gesturechange","gestureend"],options:{name:"Touch",surface:null,global:false,multiTouch:false,enableSwipe:false,minXDelta:30,maxYDelta:20,maxDuration:1000,minHold:800,doubleTapTimeout:800},cancel:function(){this.events.cancel()},_triggerTouch:function(i,j){if(this.trigger(i,{touch:j.touch,event:j.event})){j.preventDefault()}},_tap:function(j){var i=this,l=i.lastTap,k=j.touch;if(l&&(k.endTime-l.endTime<i.options.doubleTapTimeout)&&g.touchDelta(k,l).distance<f){i._triggerTouch("doubletap",j);i.lastTap=null}else{i._triggerTouch("tap",j);i.lastTap=k}},_dragstart:function(i){this._triggerTouch("dragstart",i)},_swipestart:function(i){if(a(i.x.velocity)*2>=a(i.y.velocity)){i.sender.capture()}},_swipemove:function(m){var j=this,i=j.options,n=m.touch,l=m.event.timeStamp-n.startTime,k=n.x.initialDelta>0?"right":"left";if(a(n.x.initialDelta)>=i.minXDelta&&a(n.y.initialDelta)<i.maxYDelta&&l<i.maxDuration){j.trigger("swipe",{direction:k,touch:m.touch});n.cancel()}}});g.ui.plugin(c)})(window.kendo.jQuery);(function(e){var k=window.kendo;var m=k.dom;var o=m.element;var c=m.text;var t=k.support.browser;var l=k.support.mobileOS;var j=k.ui;var d=j.Widget;var q=e.extend;var u=e.map;var b=e.isFunction;var i=k.keys;var v={title:"Title",start:"Start Time",end:"End Time",percentComplete:"% Done",parentId:"Predecessor ID",id:"ID",orderId:"Order ID"};var h="string";var p=".kendoGanttList";var f="click";var n=".";var g={wrapper:"k-treelist k-grid k-widget",header:"k-header",alt:"k-alt",editCell:"k-edit-cell",group:"k-treelist-group",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",selected:"k-state-selected",icon:"k-icon",iconCollapse:"k-i-collapse",iconExpand:"k-i-expand",iconHidden:"k-i-none",iconPlaceHolder:"k-icon k-i-none",input:"k-input",dropPositions:"k-insert-top k-insert-bottom k-add k-insert-middle",dropTop:"k-insert-top",dropBottom:"k-insert-bottom",dropAdd:"k-add",dropMiddle:"k-insert-middle",dropDenied:"k-denied",dragStatus:"k-drag-status",dragClue:"k-drag-clue",dragClueText:"k-clue-text"};function s(w){var y=[];var z=w.className;for(var x=0,A=w.level;x<A;x++){y.push(o("span",{className:z}))}return y}function a(){var w=k._activeElement();if(w.nodeName.toLowerCase()!=="body"){e(w).blur()}}var r=j.GanttList=d.extend({init:function(x,w){d.fn.init.call(this,x,w);if(this.options.columns.length===0){this.options.columns.push("title")}this.dataSource=this.options.dataSource;this._columns();this._layout();this._domTrees();this._header();this._sortable();this._editable();this._selectable();this._draggable();this._attachEvents();this._adjustHeight()},_adjustHeight:function(){this.content.height(this.element.height()-this.header.parent().outerHeight())},destroy:function(){d.fn.destroy.call(this);if(this._reorderDraggable){this._reorderDraggable.destroy()}if(this._tableDropArea){this._tableDropArea.destroy()}if(this._contentDropArea){this._contentDropArea.destroy()}if(this.touch){this.touch.destroy()}if(this.timer){clearTimeout(this.timer)}this.content.off(p);this.header=null;this.content=null;this.levels=null;k.destroy(this.element)},options:{name:"GanttList",selectable:true,editable:true},_attachEvents:function(){var w=this;var x=r.styles;w.content.on(f+p,"td > span."+x.icon+":not(."+x.iconHidden+")",function(A){var z=e(this);var y=w._modelFromElement(z);y.set("expanded",!y.get("expanded"));A.stopPropagation()})},_domTrees:function(){this.headerTree=new m.Tree(this.header[0]);this.contentTree=new m.Tree(this.content[0])},_columns:function(){var x=this.options.columns;var y;var w=function(){this.field="";this.title="";this.editable=false;this.sortable=false};this.columns=u(x,function(z){z=typeof z==="string"?{field:z,title:v[z]}:z;return q(new w(),z)})},_layout:function(){var w=this.element;var x=r.styles;w.addClass(x.wrapper).append("<div class='"+x.gridHeader+"'><div class='"+x.gridHeaderWrap+"'></div></div>").append("<div class='"+x.gridContentWrap+"'></div>");this.header=w.find(n+x.gridHeaderWrap);this.content=w.find(n+x.gridContent)},_header:function(){var z=this.headerTree;var w;var y;var x;w=o("colgroup",null,this._cols());y=o("thead",{role:"rowgroup"},[o("tr",{role:"row"},this._ths())]);x=o("table",{style:{minWidth:this.options.listWidth+"px"},role:"grid"},[w,y]);z.render([x])},_render:function(z){var w;var x;var y;this.levels=[{field:null,value:0}];w=o("colgroup",null,this._cols());x=o("tbody",{role:"rowgroup"},this._trs(z));y=o("table",{style:{minWidth:this.options.listWidth+"px"},tabIndex:0,role:"treegrid"},[w,x]);this.contentTree.render([y]);this.trigger("render")},_ths:function(){var z=this.columns;var A;var w;var x=[];for(var y=0,B=z.length;y<B;y++){A=z[y];w={"data-field":A.field,"data-title":A.title,className:r.styles.header,role:"columnheader"};x.push(o("th",w,[c(A.title)]))}return x},_cols:function(){var x=this.columns;var A;var z;var y;var C=[];for(var w=0,B=x.length;w<B;w++){A=x[w];y=A.width;if(y&&parseInt(y,10)!==0){z={style:{width:typeof y===h?y:y+"px"}}}else{z=null}C.push(o("col",z,[]))}return C},_trs:function(A){var y;var E=[];var C;var D=[];var w;var z=r.styles;for(var B=0,x=A.length;B<x;B++){y=A[B];w=this._levels({idx:y.parentId,id:y.id,summary:y.summary});C={"data-uid":y.uid,"data-level":w,role:"row"};if(y.summary){C["aria-expanded"]=y.expanded}if(B%2!==0){D.push(z.alt)}if(y.summary){D.push(z.group)}if(D.length){C.className=D.join(" ")}E.push(this._tds({task:y,attr:C,level:w}));D=[]}return E},_tds:function(x){var A=[];var z=this.columns;var B;for(var y=0,w=z.length;y<w;y++){B=z[y];A.push(this._td({task:x.task,column:B,level:x.level}))}return o("tr",x.attr,A)},_td:function(F){var w=[];var E=this.options.resourcesField;var y=r.styles;var x=F.task;var z=F.column;var D=x.get(z.field)||[];var B;if(z.field==E){B=[];for(var A=0;A<D.length;A++){B.push(k.format("{0} [{1}]",D[A].get("name"),D[A].get("formatedValue")))}B=B.join(", ")}else{B=z.format?k.format(z.format,D):D}var C;if(z.field==="title"){w=s({level:F.level,className:y.iconPlaceHolder});w.push(o("span",{className:y.icon+" "+(x.summary?(x.expanded?y.iconCollapse:y.iconExpand):y.iconHidden)}));C=k.format("{0}, {1:P0}",B,x.percentComplete)}w.push(o("span",{"aria-label":C},[c(B)]));return o("td",{role:"gridcell"},w)},_levels:function(y){var B=this.levels;var D;var x=y.summary;var w=y.idx;var C=y.id;for(var z=0,A=B.length;z<A;z++){D=B[z];if(D.field==w){if(x){B.push({field:C,value:D.value+1})}return D.value}}},_sortable:function(){var D=this.options.resourcesField;var A=this.columns;var B;var y;var z=this.header.find("th");var x;for(var w=0,C=z.length;w<C;w++){B=A[w];if(B.sortable&&B.field!==D){x=z.eq(w);y=x.data("kendoColumnSorter");if(y){y.destroy()}x.attr("data-"+k.ns+"field",B.field).kendoColumnSorter({dataSource:this.dataSource})}}z=null},_selectable:function(){var x=this;var w=this.options.selectable;if(w){this.content.on(f+p,"tr",function(z){var y=e(this);if(!z.ctrlKey){x.select(y)}else{x.clearSelection()}})}},select:function(y){var x=this.content.find(y);var w=r.styles.selected;if(x.length){x.siblings(n+w).removeClass(w).attr("aria-selected",false).end().addClass(w).attr("aria-selected",true);this.trigger("change");return}return this.content.find(n+w)},clearSelection:function(){var w=this.select();if(w.length){w.removeClass(r.styles.selected);this.trigger("change")}},_setDataSource:function(w){this.dataSource=w},_editable:function(){var y=this;var A=r.styles;var z="span."+A.icon+":not("+A.iconHidden+")";var w=function(){if(y.editable&&y.editable.end()){y._closeCell()}};var x=function(C){var B=e(C.currentTarget);if(!B.hasClass(A.editCell)){a()}};if(!this.options.editable){return}this._startEditHandler=function(C){var D=C.currentTarget?e(C.currentTarget):C;var B=y._columnFromElement(D);if(y.editable){return}if(B.editable){y._editCell({cell:D,column:B})}};y.content.on("focusin"+p,function(){clearTimeout(y.timer);y.timer=null}).on("focusout"+p,function(){y.timer=setTimeout(w,1)}).on("keydown"+p,function(E){var D=E.keyCode;var B;var C;switch(D){case i.ENTER:a();w();break;case i.ESC:if(y.editable){B=y._editableContainer;C=y._modelFromElement(B);if(!y.trigger("cancel",{model:C,cell:B})){y._closeCell(true)}}break}});if(!l){y.content.on("mousedown"+p,"td",function(B){x(B)}).on("dblclick"+p,"td",function(B){if(!e(B.target).is(z)){y._startEditHandler(B)}})}else{y.touch=y.content.kendoTouch({filter:"td",touchstart:function(B){x(B.touch)},doubletap:function(B){if(!e(B.touch.initialTouch).is(z)){y._startEditHandler(B.touch)}}}).data("kendoTouch")}},_editCell:function(I){var H=this.options.resourcesField;var x=r.styles;var G=I.cell;var y=I.column;var A=this._modelFromElement(G);var D=this.dataSource._createNewModel(A.toJSON());var E=D.fields[y.field]||D[y.field];var w=E.validation;var F=k.attr("type");var z=k.attr("bind");var C={name:y.field,required:E.validation?E.validation.required===true:false};var B;if(y.field===H){y.editor(G,D);return}this._editableContent=G.children().detach();this._editableContainer=G;G.data("modelCopy",D);if((E.type==="date"||e.type(E)==="date")&&/H|m|s|F|g|u/.test(y.format)){if(y.field==="start"){delete E.validation.dateCompare}C[z]="value:"+y.field;C[F]="date";B=function(J,K){e('<input type="text"/>').attr(C).appendTo(J).kendoDateTimePicker({format:K.format})}}this.editable=G.addClass(x.editCell).kendoEditable({fields:{field:y.field,format:y.format,editor:y.editor||B},model:D,clearContainer:false}).data("kendoEditable");if(w&&w.dateCompare&&b(w.dateCompare)&&w.message){e("<span "+k.attr("for")+'="'+y.field+'" class="k-invalid-msg"/>').hide().appendTo(G);G.find("[name="+y.field+"]").attr(k.attr("dateCompare-msg"),w.message)}if(this.trigger("edit",{model:A,cell:G})){this._closeCell(true)}},_closeCell:function(A){var C=r.styles;var w=this._editableContainer;var x=this._modelFromElement(w);var z=this._columnFromElement(w);var B=z.field;var D=w.data("modelCopy");var y={};y[B]=D.get(B);w.empty().removeData("modelCopy").removeClass(C.editCell).append(this._editableContent);this.editable.destroy();this.editable=null;this._editableContainer=null;this._editableContent=null;if(!A){if(B==="start"){y.end=new Date(y.start.getTime()+x.duration())}this.trigger("update",{task:x,updateInfo:y})}},_draggable:function(){var E=this;var F=null;var H=true;var w;var x=r.styles;var y="tr["+k.attr("level")+" = 0]:last";var z={};var B=function(){F=null;w=null;H=true;z={}};var C=function(I){var J=I;while(J){if(F.get("id")===J.get("id")){H=false;break}J=E.dataSource.taskParent(J)}};var D=function(){var I=e(w).height();var J=k.getOffset(w).top;q(w,{beforeLimit:J+I*0.25,afterLimit:J+I*0.75})};var G=function(N){var I=N.location;var K=x.dropAdd;var L="add";var M=parseInt(w.attr(k.attr("level")),10);var J;if(I<=w.beforeLimit){J=w.prev();K=x.dropTop;L="insert-before"}else{if(I>=w.afterLimit){J=w.next();K=x.dropBottom;L="insert-after"}}if(J&&parseInt(J.attr(k.attr("level")),10)===M){K=x.dropMiddle}z.className=K;z.command=L};var A=function(){return E._reorderDraggable.hint.children(n+x.dragStatus).removeClass(x.dropPositions)};if(!this.options.editable){return}this._reorderDraggable=this.content.kendoDraggable({distance:10,holdToDrag:l,group:"listGroup",filter:"tr[data-uid]",ignore:n+x.input,hint:function(I){return e('<div class="'+x.header+" "+x.dragClue+'"/>').css({width:300,paddingLeft:I.css("paddingLeft"),paddingRight:I.css("paddingRight"),lineHeight:I.height()+"px",paddingTop:I.css("paddingTop"),paddingBottom:I.css("paddingBottom")}).append('<span class="'+x.icon+" "+x.dragStatus+'" /><span class="'+x.dragClueText+'"/>')},cursorOffset:{top:-20,left:0},container:this.content,dragstart:function(I){if(E.editable){I.preventDefault()}F=E._modelFromElement(I.currentTarget);this.hint.children(n+x.dragClueText).text(F.get("title"))},drag:function(I){if(H){G(I.y);A().addClass(z.className)}},dragend:function(I){B()},dragcancel:function(I){B()}}).data("kendoDraggable");this._tableDropArea=this.content.kendoDropTargetArea({distance:0,group:"listGroup",filter:"tr[data-uid]",dragenter:function(I){w=I.dropTarget;C(E._modelFromElement(w));D();A().toggleClass(x.dropDenied,!H)},dragleave:function(I){H=true;A()},drop:function(L){var K=E._modelFromElement(w);var I=K.orderId;var J={parentId:K.parentId};if(H){switch(z.command){case"add":J.parentId=K.id;break;case"insert-before":if(K.parentId===F.parentId&&K.orderId>F.orderId){J.orderId=I-1}else{J.orderId=I}break;case"insert-after":if(K.parentId===F.parentId&&K.orderId>F.orderId){J.orderId=I}else{J.orderId=I+1}break}E.trigger("update",{task:F,updateInfo:J})}}}).data("kendoDropTargetArea");this._contentDropArea=this.element.kendoDropTargetArea({distance:0,group:"listGroup",filter:n+x.gridContent,drop:function(L){var K=E._modelFromElement(E.content.find(y));var I=K.orderId;var J={parentId:null,orderId:F.parentId!==null?I+1:I};E.trigger("update",{task:F,updateInfo:J})}}).data("kendoDropTargetArea")},_modelFromElement:function(x){var y=x.closest("tr");var w=this.dataSource.getByUid(y.attr(k.attr("uid")));return w},_columnFromElement:function(x){var z=x.closest("td");var y=z.parent();var w=y.children().index(z);return this.columns[w]}});q(true,j.GanttList,{styles:g})})(window.kendo.jQuery);(function(s){var c=kendo.ui.Widget;var x=kendo.dom.element;var A=kendo.dom.text;var F=s.isPlainObject;var h=s.extend;var D=s.proxy;var a=kendo.support.browser;var u=kendo.support.mobileOS;var J=false;var q=kendo.keys;var w=kendo.data.Query;var v=".kendoGanttTimeline";var z="click";var l="dblclick";var C="mousemove";var d="mouseenter";var j="mouseleave";var G="keydown";var k=".";var o=kendo.template("#=kendo.toString(start, 't')#");var m=kendo.template("#=kendo.toString(start, 'ddd M/dd')#");var b=kendo.template("#=kendo.toString(start, 'ddd M/dd')# - #=kendo.toString(kendo.date.addDays(end, -1), 'ddd M/dd')#");var y=kendo.template("#=kendo.toString(start, 'MMM')#");var t=kendo.template("#=kendo.toString(start, 'yyyy')#");var B=kendo.template('<div class="#=styles.marquee#"><div class="#=styles.marqueeColor#"></div></div>');var H=kendo.template('<div style="z-index: 100002;" class="#=styles.tooltipWrapper#"><div class="#=styles.tooltipContent#"><div>#=messages.start#: #=kendo.toString(start, format)#</div><div>#=messages.end#: #=kendo.toString(end, format)#</div></div></div>');var i=kendo.template('<div style="z-index: 100002;" class="#=styles.tooltipWrapper#" ><div class="#=styles.tooltipContent#">#=text#%</div><div class="#=styles.tooltipCallout#" style="left:13px;"></div></div>');var E=kendo.template('<div class="#=styles.taskDetails#"><strong>#=task.title#</strong><div class="#=styles.taskDetailsPercent#">#=kendo.toString(task.percentComplete, "p0")#</div><ul class="#=styles.reset#"><li>#=messages.start#: #=kendo.toString(task.start, "h:mm tt ddd, MMM d")#</li><li>#=messages.end#: #=kendo.toString(task.end, "h:mm tt ddd, MMM d")#</li></ul></div>');var r={day:{type:"kendo.ui.GanttDayView"},week:{type:"kendo.ui.GanttWeekView"},month:{type:"kendo.ui.GanttMonthView"},year:{type:"kendo.ui.GanttYearView"}};function I(L){delete L.name;delete L.prefix;delete L.views;return L}function K(L){var M=[];var N=L.workWeekStart;M.push(N);while(L.workWeekEnd!=N){if(N>6){N-=7}else{N++}M.push(N)}return M}function n(){var L=kendo._activeElement();if(L.nodeName.toLowerCase()!=="body"){s(L).blur()}}var p={alt:"k-alt",reset:"k-reset",nonWorking:"k-nonwork-hour",header:"k-header",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",tasksWrapper:"k-gantt-tables",rowsTable:"k-gantt-rows",columnsTable:"k-gantt-columns",tasksTable:"k-gantt-tasks",dependenciesWrapper:"k-gantt-dependencies",resource:"k-resource",resourceAlt:"k-resource k-alt",task:"k-task",taskSingle:"k-task-single",taskMilestone:"k-task-milestone",taskSummary:"k-task-summary",taskWrap:"k-task-wrap",taskMilestoneWrap:"k-milestone-wrap",resourcesWrap:"k-resources-wrap",taskDot:"k-task-dot",taskDotStart:"k-task-start",taskDotEnd:"k-task-end",taskDragHandle:"k-task-draghandle",taskContent:"k-task-content",taskTemplate:"k-task-template",taskActions:"k-task-actions",taskDelete:"k-task-delete",taskComplete:"k-task-complete",taskDetails:"k-task-details",taskDetailsPercent:"k-task-pct",link:"k-link",icon:"k-icon",iconDelete:"k-si-close",taskResizeHandle:"k-resize-handle",taskResizeHandleWest:"k-resize-w",taskResizeHandleEast:"k-resize-e",taskSummaryProgress:"k-task-summary-progress",taskSummaryComplete:"k-task-summary-complete",line:"k-line",lineHorizontal:"k-line-h",lineVertical:"k-line-v",arrowWest:"k-arrow-w",arrowEast:"k-arrow-e",dragHint:"k-drag-hint",dependencyHint:"k-dependency-hint",tooltipWrapper:"k-widget k-tooltip k-popup k-group k-reset",tooltipContent:"k-tooltip-content",tooltipCallout:"k-callout k-callout-s",callout:"k-callout",marquee:"k-marquee k-gantt-marquee",marqueeColor:"k-marquee-color"};var f=kendo.ui.GanttView=c.extend({init:function(M,L){c.fn.init.call(this,M,L);this.title=this.options.title||this.options.name;this.header=this.element.find(k+f.styles.gridHeader);this.content=this.element.find(k+f.styles.gridContent);this.contentWidth=this.content.width();this._workDays=K(this.options);this._headerTree=L.headerTree;this._taskTree=L.taskTree;this._dependencyTree=L.dependencyTree;this._taskCoordinates={};this._currentTime()},destroy:function(){c.fn.destroy.call(this);clearTimeout(this._tooltipTimeout);this.headerRow=null;this.header=null;this.content=null;this._dragHint=null;this._resizeHint=null;this._resizeTooltip=null;this._taskTooltip=null;this._percentCompleteResizeTooltip=null;this._headerTree=null;this._taskTree=null;this._dependencyTree=null},options:{showWorkHours:false,showWorkDays:false,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,hourSpan:1,slotSize:100,currentTimeMarker:{updateInterval:10000}},renderLayout:function(){this._slots=this._createSlots();this._tableWidth=this._calculateTableWidth();this.createLayout(this._layout());this._slotDimensions();this._adjustHeight();this.content.find(k+f.styles.dependenciesWrapper).width(this._tableWidth)},_adjustHeight:function(){this.content.height(this.element.height()-this.header.outerHeight())},createLayout:function(O){var P=this._headers(O);var M=this._colgroup();var L=this._headerTree;var Q=x("thead",null,P);var N=x("table",{style:{width:this._tableWidth+"px"}},[M,Q]);L.render([N]);this.headerRow=this.header.find("table:first tr").last()},_slotDimensions:function(){var O=this.headerRow[0].children;var M=this._timeSlots();var Q;var P;for(var L=0,N=O.length;L<N;L++){P=O[L];Q=M[L];Q.offsetLeft=P.offsetLeft;Q.offsetWidth=P.offsetWidth}},render:function(S){var P=S.length;var O=f.styles;var L;var N=this._rowsTable(P);var Q=this._columnsTable(P);var R=this._tasksTable(S);var M=this.options.currentTimeMarker;this._taskTree.render([N,Q,R]);L=this.content.find(k+O.rowsTable);this._contentHeight=L.height();this._rowHeight=this._contentHeight/L.find("tr").length;this.content.find(k+O.columnsTable).height(this._contentHeight);if(M!==false&&M.updateInterval!==undefined){this._renderCurrentTime()}},_rowsTable:function(M){var P=[];var Q;var O=f.styles;var L=[null,{className:O.alt}];for(var N=0;N<M;N++){Q=x("tr",L[N%2],[x("td",null,[A("\u00a0")])]);P.push(Q)}return this._createTable(1,P,{className:O.rowsTable})},_columnsTable:function(R){var U=[];var V;var T=f.styles;var O=this._timeSlots();var Q=O.length;var S;var L;var P=0;var M;for(var N=0;N<Q;N++){S=O[N];M={};L=S.span;P+=L;if(L!==1){M.colspan=L}if(S.isNonWorking){M.className=T.nonWorking}U.push(x("td",M,[A("\u00a0")]))}V=x("tr",null,U);return this._createTable(P,[V],{className:T.columnsTable})},_tasksTable:function(W){var T=[];var R;var L;var ad;var aa;var S=f.styles;var N=this._taskCoordinates={};var V=this._calculateMilestoneWidth();var Z=Math.round(V.width);var O=this.options.resourcesField;var M=[S.resource,S.resourceAlt];var P;var U=this._calculateResourcesMargin();var ab=this._calculateTaskBorderWidth();var Q;var ac=function(ag){var af;var ae;af=ad.left;ae=af+ad.width;if(aa.isMilestone()){af-=Z/2;ae=af+Z}N[aa.id]={start:af,end:ae,rowIndex:ag}};for(var Y=0,X=W.length;Y<X;Y++){aa=W[Y];ad=this._taskPosition(aa);ad.borderWidth=ab;R=x("tr",null);L=x("td",null,[this._renderTask(W[Y],ad)]);if(aa[O]&&aa[O].length){if(J){P=this._tableWidth-ad.left}else{P=Math.max((ad.width||V.clientWidth),0)+ad.left}Q={width:(this._tableWidth-(P+U))+"px"};Q[J?"right":"left"]=P+"px";L.children.push(x("div",{className:S.resourcesWrap,style:Q},this._renderResources(aa[O],M[Y%2])))}R.children.push(L);T.push(R);ac(Y)}return this._createTable(1,T,{className:f.styles.tasksTable})},_createTable:function(R,P,O){var Q=[];var L;var M;for(var N=0;N<R;N++){Q.push(x("col"))}L=x("colgroup",null,Q);M=x("tbody",null,P);if(!O.style){O.style={}}O.style.width=this._tableWidth+"px";return x("table",O,[L,M])},_calculateTableWidth:function(){var Q=this._timeSlots();var M=0;var N=0;var O;var L;for(var P=0,R=Q.length;P<R;P++){O=Q[P].span;N+=O;if(O>M){M=O}}L=Math.round((N*this.options.slotSize)/M);return L},_calculateMilestoneWidth:function(){var L;var M=f.styles.task+" "+f.styles.taskMilestone;var N=s("<div class='"+M+"' style='visibility: hidden; position: absolute'>");var O;this.content.append(N);O=N[0].getBoundingClientRect();L={width:O.right-O.left,clientWidth:N[0].clientWidth};N.remove();return L},_calculateResourcesMargin:function(){var L;var M=s("<div class='"+f.styles.resourcesWrap+"' style='visibility: hidden; position: absolute'>");this.content.append(M);L=parseInt(M.css(J?"margin-right":"margin-left"),10);M.remove();return L},_calculateTaskBorderWidth:function(){var O;var N=f.styles.task+" "+f.styles.taskSingle;var M=s("<div class='"+N+"' style='visibility: hidden; position: absolute'>");var L;this.content.append(M);L=kendo.getComputedStyles(M[0],["border-left-width"]);O=parseFloat(L["border-left-width"],10);M.remove();return O},_renderTask:function(N,S){var T;var M;var O=this.options.editable;var R;var Q=S.left;var U=f.styles;var P=U.taskWrap;var L={};if(N.summary){M=this._renderSummary(N,S)}else{if(N.isMilestone()){M=this._renderMilestone(N,S);P+=" "+U.taskMilestoneWrap}else{M=this._renderSingleTask(N,S)}}T=x("div",{className:P,style:{left:Q+"px"}},[M]);if(O){T.children.push(x("div",{className:U.taskDot+" "+U.taskDotStart}));T.children.push(x("div",{className:U.taskDot+" "+U.taskDotEnd}))}if(!N.summary&&!N.isMilestone()&&O){R=Math.round(S.width*N.percentComplete);L[J?"right":"left"]=R+"px";T.children.push(x("div",{className:U.taskDragHandle,style:L}))}return T},_renderSingleTask:function(N,L){var Q=f.styles;var M=Math.round(L.width*N.percentComplete);var P=x("div",{className:Q.taskContent},[x("div",{className:Q.taskTemplate},[A(N.title)])]);if(this.options.editable){P.children.push(x("span",{className:Q.taskActions},[x("a",{className:Q.link+" "+Q.taskDelete,href:"#"},[x("span",{className:Q.icon+" "+Q.iconDelete})])]));P.children.push(x("span",{className:Q.taskResizeHandle+" "+Q.taskResizeHandleWest}));P.children.push(x("span",{className:Q.taskResizeHandle+" "+Q.taskResizeHandleEast}))}var O=x("div",{className:Q.task+" "+Q.taskSingle,"data-uid":N.uid,style:{width:Math.max((L.width-L.borderWidth*2),0)+"px"}},[x("div",{className:Q.taskComplete,style:{width:M+"px"}}),P]);return O},_renderMilestone:function(M,L){var O=f.styles;var N=x("div",{className:O.task+" "+O.taskMilestone,"data-uid":M.uid});return N},_renderSummary:function(N,L){var P=f.styles;var M=Math.round(L.width*N.percentComplete);var O=x("div",{className:P.task+" "+P.taskSummary,"data-uid":N.uid,style:{width:L.width+"px"}},[x("div",{className:P.taskSummaryProgress,style:{width:M+"px"}},[x("div",{className:P.taskSummaryComplete,style:{width:L.width+"px"}})])]);return O},_renderResources:function(Q,N){var M=[];var P;for(var L=0,O=Q.length;L<O;L++){P=Q[L];M.push(x("span",{className:N,style:{color:P.get("color")}},[A(P.get("name"))]))}if(J){M.reverse()}return M},_taskPosition:function(N){var M=Math.round;var O=M(this._offset(J?N.end:N.start));var L=M(this._offset(J?N.start:N.end));return{left:O,width:L-O}},_offset:function(M){var P=this._timeSlots();var R;var L;var O;var N=0;var Q;if(!P.length){return 0}Q=this._slotIndex("start",M);R=P[Q];if(R.end<M){N=R.offsetWidth}else{if(R.start<=M){L=M-R.start;O=R.end-R.start;N=(L/O)*R.offsetWidth}}if(J){N=(R.offsetWidth+1)-N}return R.offsetLeft+N},_slotIndex:function(R,Q,M){var P=this._timeSlots();var O=0;var N=P.length-1;var L;if(M){P=[].slice.call(P).reverse()}do{L=Math.ceil((N+O)/2);if(P[L][R]<Q){O=L}else{if(L===N){L--}N=L}}while(O!==N);if(M){O=(P.length-1)-O}return O},_timeByPosition:function(M,L,N){var R=this._slotByPosition(M);if(L){return N?R.end:R.start}var P=M-s(k+f.styles.tasksTable).offset().left;var Q=R.end-R.start;var O=P-R.offsetLeft;if(J){O=R.offsetWidth-O}return new Date(R.start.getTime()+(Q*(O/R.offsetWidth)))},_slotByPosition:function(L){var N=L-s(k+f.styles.tasksTable).offset().left;var M=this._slotIndex("offsetLeft",N,J);return this._timeSlots()[M]},_renderDependencies:function(P){var O=[];var L=this._dependencyTree;for(var N=0,M=P.length;N<M;N++){O.push.apply(O,this._renderDependency(P[N]))}L.render(O)},_renderDependency:function(M){var O=this._taskCoordinates[M.predecessorId];var L=this._taskCoordinates[M.successorId];var Q;var R;if(!O||!L){return[]}R="_render"+["FF","FS","SF","SS"][J?3-M.type:M.type];Q=this[R](O,L);for(var N=0,P=Q.length;N<P;N++){Q[N].attr["data-uid"]=M.uid}return Q},_renderFF:function(N,M){var L=this._dependencyFF(N,M,false);L[L.length-1].children[0]=this._arrow(true);return L},_renderSS:function(N,M){var L=this._dependencyFF(M,N,true);L[0].children[0]=this._arrow(false);return L.reverse()},_renderFS:function(N,M){var L=this._dependencyFS(N,M,false);L[L.length-1].children[0]=this._arrow(false);return L},_renderSF:function(N,M){var L=this._dependencyFS(M,N,true);L[0].children[0]=this._arrow(true);return L.reverse()},_dependencyFF:function(aa,Q,U){var S=this;var N=[];var R=0;var W=0;var Z=0;var X=0;var Y=U?"start":"end";var ac;var M=2;var V=1;var P=this._rowHeight;var O=10;var L=aa.rowIndex*P+Math.floor(P/2)-1;var ae=Q.rowIndex*P+Math.floor(P/2)-1;var T=f.styles;var ad=function(){N.push(S._line(T.line+" "+T.lineHorizontal,{left:R+"px",top:W+"px",width:Z+"px"}))};var ab=function(){N.push(S._line(T.line+" "+T.lineVertical,{left:R+"px",top:W+"px",height:X+"px"}))};R=aa[Y];W=L;Z=O;ac=Q[Y]-aa[Y];if((ac)>0!==U){Z=Math.abs(ac)+O}if(U){R-=Z;Z-=V;ad()}else{ad();R+=Z-M}if(ae<W){X=W-ae;X+=M;W=ae;ab()}else{X=ae-W;X+=M;ab();W+=(X-M)}Z=Math.abs(R-Q[Y]);if(!U){Z-=V;R-=Z}ad();return N},_dependencyFS:function(ab,Q,U){var S=this;var N=[];var R=0;var Y=0;var aa=0;var Z=0;var P=this._rowHeight;var V=Math.floor(P/2);var O=10;var W=2*O;var ad=Q.start-ab.end;var M=2;var X=1;var L=ab.rowIndex*P+Math.floor(P/2)-1;var af=Q.rowIndex*P+Math.floor(P/2)-1;var T=f.styles;var ae=function(){N.push(S._line(T.line+" "+T.lineHorizontal,{left:R+"px",top:Y+"px",width:aa+"px"}))};var ac=function(){N.push(S._line(T.line+" "+T.lineVertical,{left:R+"px",top:Y+"px",height:Z+"px"}))};R=ab.end;Y=L;aa=O;if(U){R+=X;if(ad>W){aa=ad-(O-M)}aa-=X}ae();R+=aa-M;if((ad)<=W){Z=U?Math.abs(af-L)-V:V;if(af<L){Y-=Z;Z+=M;ac()}else{ac();Y+=Z}aa=(ab.end-Q.start)+W;if(aa<O){aa=O}R-=aa-M;ae()}if(af<L){Z=Y-af;Y=af;Z+=M;ac()}else{Z=af-Y;ac();Y+=Z}aa=Q.start-R;if(!U){aa-=X}ae();return N},_line:function(L,M){return x("div",{className:L,style:M})},_arrow:function(L){return x("span",{className:L?f.styles.arrowWest:f.styles.arrowEast})},_colgroup:function(){var N=this._timeSlots();var P=N.length;var Q=[];for(var M=0;M<P;M++){for(var L=0,O=N[M].span;L<O;L++){Q.push(x("col"))}}return x("colgroup",null,Q)},_createDragHint:function(L){this._dragHint=L.clone().addClass(f.styles.dragHint).css("cursor","move");L.parent().append(this._dragHint)},_updateDragHint:function(M){var L=this._offset(M);this._dragHint.css({left:L})},_removeDragHint:function(){this._dragHint.remove();this._dragHint=null},_createResizeHint:function(M){var Q=f.styles;var L=this._taskCoordinates[M.id].rowIndex*this._rowHeight;var R;var O;var N=this.options;var P=N.messages;this._resizeHint=s(B({styles:Q})).css({top:0,height:this._contentHeight});this.content.append(this._resizeHint);this._resizeTooltip=s(H({styles:Q,start:M.start,end:M.end,messages:P.views,format:N.resizeTooltipFormat})).css({top:0,left:0});this.content.append(this._resizeTooltip);this._resizeTooltipWidth=this._resizeTooltip.outerWidth();R=this._resizeTooltip.outerHeight();O=L-R;if(O<0){O=L+this._rowHeight}this._resizeTooltipTop=O},_updateResizeHint:function(L,O,S){var N=this._offset(J?O:L);var T=this._offset(J?L:O);var M=T-N;var U=(S!==J)?N:T;var R=this._tableWidth-kendo.support.scrollbar();var Q=this._resizeTooltipWidth;var W=this.options;var P=W.messages;var V=s(k+f.styles.tasksTable).offset().left-s(k+f.styles.tasksWrapper).offset().left;if(J){N+=V}this._resizeHint.css({left:N,width:M});if(this._resizeTooltip){this._resizeTooltip.remove()}U-=Math.round(Q/2);if(U<0){U=0}else{if(U+Q>R){U=R-Q}}if(J){U+=V}this._resizeTooltip=s(H({styles:f.styles,start:L,end:O,messages:P.views,format:W.resizeTooltipFormat})).css({top:this._resizeTooltipTop,left:U,"min-width":Q}).appendTo(this.content)},_removeResizeHint:function(){this._resizeHint.remove();this._resizeHint=null;this._resizeTooltip.remove();this._resizeTooltip=null},_updatePercentCompleteTooltip:function(Q,P,R){this._removePercentCompleteTooltip();var O=this._percentCompleteResizeTooltip=s(i({styles:f.styles,text:R})).appendTo(this.element);var L=Math.round(O.outerWidth()/2);var N=O.find(k+f.styles.callout);var M=Math.round(N.outerWidth()/2);O.css({top:Q-(O.outerHeight()+M),left:P-L});N.css("left",L-M)},_removePercentCompleteTooltip:function(){if(this._percentCompleteResizeTooltip){this._percentCompleteResizeTooltip.remove()}this._percentCompleteResizeTooltip=null},_updateDependencyDragHint:function(N,M,L){this._removeDependencyDragHint();if(L){this._creteVmlDependencyDragHint(N,M)}else{this._creteDependencyDragHint(N,M)}},_creteDependencyDragHint:function(R,Q){var O=f.styles;var M=Q.x-R.x;var L=Q.y-R.y;var N=Math.sqrt(M*M+L*L);var P=Math.atan(L/M);if(M<0){P+=Math.PI}s("<div class='"+O.line+" "+O.lineHorizontal+" "+O.dependencyHint+"'></div>").css({top:R.y,left:R.x,width:N,"transform-origin":"0% 0","-ms-transform-origin":"0% 0","-webkit-transform-origin":"0% 0",transform:"rotate("+P+"rad)","-ms-transform":"rotate("+P+"rad)","-webkit-transform":"rotate("+P+"rad)"}).appendTo(this.content)},_creteVmlDependencyDragHint:function(N,M){var L=s("<kvml:line class='"+f.styles.dependencyHint+"' style='position:absolute; top: 0px; left: 0px;' strokecolor='black' strokeweight='2px' from='"+N.x+"px,"+N.y+"px' to='"+M.x+"px,"+M.y+"px'></kvml:line>").appendTo(this.content);L[0].outerHTML=L[0].outerHTML},_removeDependencyDragHint:function(){this.content.find(k+f.styles.dependencyHint).remove()},_createTaskTooltip:function(M,Q,W){var X=f.styles;var aa=this.options;var T=this.content;var P=T.offset();var L=T.width();var N=T.scrollLeft();var Z=s(Q).parents("tr").first();var S=Z.offset();var V=(aa.tooltip&&aa.tooltip.template)?kendo.template(aa.tooltip.template):E;var O=W-(P.left-T.scrollLeft());var U=(S.top+Z.outerHeight()-P.top)+T.scrollTop();var Y=this._taskTooltip=s('<div style="z-index: 100002;" class="'+X.tooltipWrapper+'" ><div class="'+X.taskContent+'"></div></div>');var R;Y.css({left:O,top:U}).appendTo(T).find(k+X.taskContent).append(V({styles:X,task:M,messages:aa.messages.views}));if(Y.outerHeight()<S.top-P.top){Y.css("top",((S.top-P.top)-Y.outerHeight())+T.scrollTop())}R=Y.outerWidth();if((R+O)-N>L){O-=R;if(O<N){O=(N+L)-(R+17)}Y.css("left",O)}},_removeTaskTooltip:function(){if(this._taskTooltip){this._taskTooltip.remove()}this._taskTooltip=null},_scrollTo:function(S){var P=S.offset().left;var X=S.width();var T=P+X;var ab=S.closest("tr");var N=ab.offset().top;var M=ab.height();var O=N+M;var V=this.content;var Q=V.offset();var Z=Q.top;var Y=V.height();var aa=Z+Y;var R=Q.left;var L=V.width();var W=R+L;var U=kendo.support.scrollbar();if(N<Z){V.scrollTop(V.scrollTop()+(N-Z))}else{if(O>aa){V.scrollTop(V.scrollTop()+(O+U-aa))}}if(P<R&&X>L&&T<W||T>W&&X<L){V.scrollLeft(V.scrollLeft()+(T+U-W))}else{if(T>W&&X>L&&P>R||P<R&&X<L){V.scrollLeft(V.scrollLeft()+(P-R))}}},_timeSlots:function(){if(!this._slots||!this._slots.length){return[]}return this._slots[this._slots.length-1]},_headers:function(T){var V=[];var L;var M;var P;var Q;var U=f.styles;for(var O=0,N=T.length;O<N;O++){L=T[O];M=[];for(var S=0,R=L.length;S<R;S++){P=L[S];Q=A(P.text);M.push(x("th",{colspan:P.span,className:U.header+(P.isNonWorking?(" "+U.nonWorking):"")},[Q]))}V.push(x("tr",null,M))}return V},_hours:function(L,N){var M;var P=[];var U=this.options;var S=U.workDayStart.getHours();var Q=U.workDayEnd.getHours();var T;var R;var O=U.hourSpan;L=new Date(L);N=new Date(N);while(L<N){M=new Date(L);R=M.getHours();T=R>=S&&R<Q;M.setHours(M.getHours()+O);if(R==M.getHours()){M.setHours(M.getHours()+2*O)}if(!U.showWorkHours||T){P.push({start:L,end:M,isNonWorking:!T,span:1})}L=M}return P},_days:function(P,L){var N;var M=[];var O;P=new Date(P);L=new Date(L);while(P<L){N=kendo.date.nextDay(P);O=this._isWorkDay(P);if(!this.options.showWorkDays||O){M.push({start:P,end:N,isNonWorking:!O,span:1})}P=N}return M},_weeks:function(R,L){var Q;var O=[];var M=this.calendarInfo().firstDay;var P;var N;R=new Date(R);L=new Date(L);while(R<L){Q=kendo.date.dayOfWeek(kendo.date.addDays(R,1),M,1);if(Q>L){Q=L}P=this._days(R,Q);N=P.length;if(N>0){O.push({start:P[0].start,end:P[N-1].end,span:N})}R=Q}return O},_months:function(Q,L){var P;var N=[];var O;var M;Q=new Date(Q);L=new Date(L);while(Q<L){P=new Date(Q);P.setMonth(P.getMonth()+1);O=this._days(Q,P);M=O.length;if(M>0){N.push({start:O[0].start,end:O[M-1].end,span:M})}Q=P}return N},_years:function(O,L){var N;var M=[];O=new Date(O);L=new Date(L);while(O<L){N=new Date(O);N.setFullYear(N.getFullYear()+1);M.push({start:O,end:N,span:12});O=N}return M},_slotHeaders:function(P,O){var N=[];var Q;for(var M=0,L=P.length;M<L;M++){Q=P[M];N.push({text:O(Q),isNonWorking:!!Q.isNonWorking,span:Q.span})}return N},_isWorkDay:function(N){var M=N.getDay();var P=this._workDays;for(var O=0,L=P.length;O<L;O++){if(P[O]===M){return true}}return false},calendarInfo:function(){return kendo.getCulture().calendars.standard},_renderCurrentTime:function(){var N=this._getCurrentTime();var L=this._offset(N);var M=s("<div class='k-current-time'></div>");var O=f.styles;var R=s(k+O.tasksWrapper);var Q=s(k+O.tasksTable);var P;if(!this.content||!this._timeSlots().length){return}this.content.find(".k-current-time").remove();P=this._timeSlots()[this._slotIndex("start",N)];if(N<P.start||N>P.end){return}if(R.length&&Q.length){L+=Q.offset().left-R.offset().left}M.css({left:L+"px",top:"0px",width:"1px",height:this._contentHeight+"px"}).appendTo(this.content)},_getCurrentTime:function(){return new Date()},_currentTime:function(){var L=this.options.currentTimeMarker;if(L!==false&&L.updateInterval!==undefined){this._renderCurrentTime();this._currentTimeUpdateTimer=setInterval(D(this._renderCurrentTime,this),L.updateInterval)}}});h(true,f,{styles:p});kendo.ui.GanttDayView=f.extend({name:"day",options:{timeHeaderTemplate:o,dayHeaderTemplate:m,resizeTooltipFormat:"h:mm tt ddd, MMM d"},range:function(L){this.start=kendo.date.getDate(L.start);this.end=kendo.date.getDate(L.end);if(kendo.date.getMilliseconds(L.end)>0||this.end.getTime()===this.start.getTime()){this.end=kendo.date.addDays(this.end,1)}},_createSlots:function(){var R;var Q;var P;var M;var O=[];R=this._days(this.start,this.end);P=[];for(var N=0,L=R.length;N<L;N++){Q=R[N];M=this._hours(Q.start,Q.end);Q.span=M.length;P.push.apply(P,M)}O.push(R);O.push(P);return O},_layout:function(){var M=[];var L=this.options;M.push(this._slotHeaders(this._slots[0],kendo.template(L.dayHeaderTemplate)));M.push(this._slotHeaders(this._slots[1],kendo.template(L.timeHeaderTemplate)));return M}});kendo.ui.GanttWeekView=f.extend({name:"week",options:{dayHeaderTemplate:m,weekHeaderTemplate:b,resizeTooltipFormat:"h:mm tt ddd, MMM d"},range:function(N){var L=this.calendarInfo();var M=L.firstDay;var O=N.end;if(M===O.getDay()){O.setDate(O.getDate()+7)}this.start=kendo.date.getDate(kendo.date.dayOfWeek(N.start,M,-1));this.end=kendo.date.getDate(kendo.date.dayOfWeek(O,M,1))},_createSlots:function(){var L=[];L.push(this._weeks(this.start,this.end));L.push(this._days(this.start,this.end));return L},_layout:function(){var M=[];var L=this.options;M.push(this._slotHeaders(this._slots[0],kendo.template(L.weekHeaderTemplate)));M.push(this._slotHeaders(this._slots[1],kendo.template(L.dayHeaderTemplate)));return M}});kendo.ui.GanttMonthView=f.extend({name:"month",options:{weekHeaderTemplate:b,monthHeaderTemplate:y,resizeTooltipFormat:"dddd, MMM d, yyyy"},range:function(L){this.start=kendo.date.firstDayOfMonth(L.start);this.end=kendo.date.addDays(kendo.date.getDate(kendo.date.lastDayOfMonth(L.end)),1)},_createSlots:function(){var L=[];L.push(this._months(this.start,this.end));L.push(this._weeks(this.start,this.end));return L},_layout:function(){var M=[];var L=this.options;M.push(this._slotHeaders(this._slots[0],kendo.template(L.monthHeaderTemplate)));M.push(this._slotHeaders(this._slots[1],kendo.template(L.weekHeaderTemplate)));return M}});kendo.ui.GanttYearView=f.extend({name:"year",options:{yearHeaderTemplate:t,monthHeaderTemplate:y,resizeTooltipFormat:"dddd, MMM d, yyyy"},range:function(L){this.start=kendo.date.firstDayOfMonth(new Date(L.start.setMonth(0)));this.end=kendo.date.firstDayOfMonth(new Date(L.end.setMonth(12)))},_createSlots:function(){var M=[];var L=this._months(this.start,this.end);s(L).each(function(N,O){O.span=1});M.push(this._years(this.start,this.end));M.push(L);return M},_layout:function(){var M=[];var L=this.options;M.push(this._slotHeaders(this._slots[0],kendo.template(L.yearHeaderTemplate)));M.push(this._slotHeaders(this._slots[1],kendo.template(L.monthHeaderTemplate)));return M}});var e={wrapper:"k-timeline k-grid k-widget",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",tasksWrapper:"k-gantt-tables",dependenciesWrapper:"k-gantt-dependencies",task:"k-task",line:"k-line",taskResizeHandle:"k-resize-handle",taskResizeHandleWest:"k-resize-w",taskDragHandle:"k-task-draghandle",taskComplete:"k-task-complete",taskDelete:"k-task-delete",taskWrapActive:"k-task-wrap-active",taskWrap:"k-task-wrap",taskDot:"k-task-dot",taskDotStart:"k-task-start",taskDotEnd:"k-task-end",hovered:"k-state-hover",selected:"k-state-selected",origin:"k-origin"};var g=kendo.ui.GanttTimeline=c.extend({init:function(M,L){c.fn.init.call(this,M,L);if(!this.options.views||!this.options.views.length){this.options.views=["day","week","month"]}J=kendo.support.isRtl(M);this._wrapper();this._domTrees();this._views();this._selectable();this._draggable();this._resizable();this._percentResizeDraggable();this._createDependencyDraggable();this._attachEvents();this._tooltip()},options:{name:"GanttTimeline",messages:{views:{day:"Day",week:"Week",month:"Month",year:"Year",start:"Start",end:"End"}},snap:true,selectable:true,editable:true},destroy:function(){c.fn.destroy.call(this);clearTimeout(this._tooltipTimeout);if(this._currentTimeUpdateTimer){clearInterval(this._currentTimeUpdateTimer)}this._unbindView(this._selectedView);if(this._moveDraggable){this._moveDraggable.destroy()}if(this._resizeDraggable){this._resizeDraggable.destroy()}if(this._percentDraggable){this._percentDraggable.destroy()}if(this._dependencyDraggable){this._dependencyDraggable.destroy()}if(this.touch){this.touch.destroy()}this._headerTree=null;this._taskTree=null;this._dependencyTree=null;this.wrapper.off(v);kendo.destroy(this.wrapper)},_wrapper:function(){var L=g.styles;this.wrapper=this.element.addClass(L.wrapper).append("<div class='"+L.gridHeader+"'><div class='"+L.gridHeaderWrap+"'></div></div>").append("<div class='"+L.gridContentWrap+"'><div class='"+L.tasksWrapper+"'></div><div class='"+L.dependenciesWrapper+"'></div></div>")},_domTrees:function(){var M=g.styles;var L=kendo.dom.Tree;var N=this.wrapper;this._headerTree=new L(N.find(k+M.gridHeaderWrap)[0]);this._taskTree=new L(N.find(k+M.tasksWrapper)[0]);this._dependencyTree=new L(N.find(k+M.dependenciesWrapper)[0])},_views:function(){var N=this.options.views;var M;var P;var O;var S;var R;this.views={};for(var Q=0,L=N.length;Q<L;Q++){M=N[Q];P=F(M);if(P&&M.selectable===false){continue}O=P?((typeof M.type!=="string")?M.title:M.type):M;S=r[O];if(S){if(P){M.type=S.type}S.title=this.options.messages.views[O]}M=h({title:O},S,P?M:{});if(O){this.views[O]=M;if(!R||M.selected){R=O}}}if(R){this._selectedViewName=R}},view:function(L){if(L){this._selectView(L);this.trigger("navigate",{view:L,action:"changeView"})}return this._selectedView},_selectView:function(L){if(L&&this.views[L]){if(this._selectedView){this._unbindView(this._selectedView)}this._selectedView=this._initializeView(L);this._selectedViewName=L}},_viewByIndex:function(N){var M;var L=this.views;for(M in L){if(!N){return M}N--}},_initializeView:function(M){var L=this.views[M];if(L){var N=L.type;if(typeof N==="string"){N=kendo.getter(L.type)(window)}if(N){L=new N(this.wrapper,I(h(true,{headerTree:this._headerTree,taskTree:this._taskTree,dependencyTree:this._dependencyTree},L,this.options)))}else{throw new Error("There is no such view")}}return L},_unbindView:function(L){if(L){L.destroy()}},_range:function(P){var N={field:"start",dir:"asc"};var M={field:"end",dir:"desc"};if(!P||!P.length){return{start:new Date(),end:new Date()}}var O=new w(P).sort(N).toArray()[0].start||new Date();var L=new w(P).sort(M).toArray()[0].end||new Date();return{start:new Date(O),end:new Date(L)}},_render:function(N){var L=this.view();var M=this._range(N);this._tasks=N;L.range(M);L.renderLayout();L.render(N)},_renderDependencies:function(L){this.view()._renderDependencies(L)},_taskByUid:function(N){var P=this._tasks;var O=P.length;var L;for(var M=0;M<O;M++){L=P[M];if(L.uid===N){return L}}},_draggable:function(){var Q=this;var O;var N;var S;var M;var L=this.options.snap;var P=g.styles;var R=function(){Q.view()._removeDragHint();if(O){O.css("opacity",1)}O=null;N=null;Q.dragInProgress=false};if(!this.options.editable){return}this._moveDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:k+P.task,holdToDrag:kendo.support.mobileOS,ignore:k+P.taskResizeHandle});this._moveDraggable.bind("dragstart",function(U){var T=Q.view();O=U.currentTarget.parent();N=Q._taskByUid(U.currentTarget.attr("data-uid"));if(Q.trigger("moveStart",{task:N})){U.preventDefault();return}S=N.start;M=T._timeByPosition(U.x.location,L)-S;T._createDragHint(O);O.css("opacity",0.5);clearTimeout(Q._tooltipTimeout);Q.dragInProgress=true}).bind("drag",kendo.throttle(function(W){if(!Q.dragInProgress){return}var T=Q.view();var U=new Date(T._timeByPosition(W.x.location,L)-M);var V=U;if(!Q.trigger("move",{task:N,start:U})){S=U;if(J){V=new Date(S.getTime()+N.duration())}T._updateDragHint(V)}},15)).bind("dragend",function(T){Q.trigger("moveEnd",{task:N,start:S});R()}).bind("dragcancel",function(T){R()}).userEvents.bind("select",function(T){n()})},_resizable:function(){var R=this;var Q;var M;var L;var N;var S;var P=this.options.snap;var T=g.styles;var O=function(){R.view()._removeResizeHint();Q=null;M=null;R.dragInProgress=false};if(!this.options.editable){return}this._resizeDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:k+T.taskResizeHandle,holdToDrag:false});this._resizeDraggable.bind("dragstart",function(U){S=U.currentTarget.hasClass(T.taskResizeHandleWest);if(J){S=!S}Q=U.currentTarget.closest(k+T.task);M=R._taskByUid(Q.attr("data-uid"));if(R.trigger("resizeStart",{task:M})){U.preventDefault();return}L=M.start;N=M.end;R.view()._createResizeHint(M);clearTimeout(R._tooltipTimeout);R.dragInProgress=true}).bind("drag",kendo.throttle(function(W){if(!R.dragInProgress){return}var U=R.view();var V=U._timeByPosition(W.x.location,P,!S);if(S){if(V<N){L=V}else{L=N}}else{if(V>L){N=V}else{N=L}}if(!R.trigger("resize",{task:M,start:L,end:N})){U._updateResizeHint(L,N,S)}},15)).bind("dragend",function(U){R.trigger("resizeEnd",{task:M,resizeStart:S,start:L,end:N});O()}).bind("dragcancel",function(U){O()}).userEvents.bind("select",function(U){n()})},_percentResizeDraggable:function(){var P=this;var M;var L;var U;var T;var S;var Y;var Q;var O;var W;var X=g.styles;var V;var N=function(){P.view()._removePercentCompleteTooltip();L=null;M=null;P.dragInProgress=false};var R=function(Z){L.find(k+X.taskComplete).width(Z).end().siblings(k+X.taskDragHandle).css(J?"right":"left",Z)};if(!this.options.editable){return}this._percentDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:k+X.taskDragHandle,holdToDrag:false});this._percentDraggable.bind("dragstart",function(Z){L=Z.currentTarget.siblings(k+X.task);M=P._taskByUid(L.attr("data-uid"));Q=M.percentComplete;U=L.offset();T=this.element.offset();S=L.find(k+X.taskComplete).width();Y=L.outerWidth();clearTimeout(P._tooltipTimeout);P.dragInProgress=true}).bind("drag",kendo.throttle(function(aa){if(!P.dragInProgress){return}V=J?-aa.x.initialDelta:aa.x.initialDelta;var Z=Math.max(0,Math.min(Y,S+V));Q=Math.round((Z/Y)*100);R(Z);O=U.top-T.top;W=U.left+Z-T.left;if(J){W+=(Y-2*Z)}P.view()._updatePercentCompleteTooltip(O,W,Q)},15)).bind("dragend",function(Z){P.trigger("percentResizeEnd",{task:M,percentComplete:Q/100});N()}).bind("dragcancel",function(Z){R(S);N()}).userEvents.bind("select",function(Z){n()})},_createDependencyDraggable:function(){var R=this;var M;var T=s();var S=s();var Q;var P;var N=a.msie&&a.version<9;var U=g.styles;var O=function(){M.css("display","").removeClass(U.hovered);M.parent().removeClass(U.origin);M=null;L(false);S=s();T=s();R.view()._removeDependencyDragHint();R.dragInProgress=false};var L=function(V){if(!S.hasClass(U.origin)){S.find(k+U.taskDot).css("display",V?"block":"");T.toggleClass(U.hovered,V)}};if(!this.options.editable){return}if(N&&document.namespaces){document.namespaces.add("kvml","urn:schemas-microsoft-com:vml","#default#VML")}this._dependencyDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:k+U.taskDot,holdToDrag:false});this._dependencyDraggable.bind("dragstart",function(X){M=X.currentTarget.css("display","block").addClass(U.hovered);M.parent().addClass(U.origin);var W=M.offset();var V=s(k+U.tasksWrapper).offset();Q=Math.round(W.left-V.left+(M.outerHeight()/2));P=Math.round(W.top-V.top+(M.outerWidth()/2));clearTimeout(R._tooltipTimeout);R.dragInProgress=true}).bind("drag",kendo.throttle(function(Z){if(!R.dragInProgress){return}R.view()._removeDependencyDragHint();var Y=s(kendo.elementUnderCursor(Z));var W=s(k+U.tasksWrapper).offset();var X=Z.x.location-W.left;var V=Z.y.location-W.top;R.view()._updateDependencyDragHint({x:Q,y:P},{x:X,y:V},N);L(false);T=(Y.hasClass(U.taskDot))?Y:s();S=Y.closest(k+U.taskWrap);L(true)},15)).bind("dragend",function(aa){if(T.length){var W=M.hasClass(U.taskDotStart);var X=T.hasClass(U.taskDotStart);var Z=W?(X?3:2):(X?1:0);var Y=R._taskByUid(M.siblings(k+U.task).attr("data-uid"));var V=R._taskByUid(T.siblings(k+U.task).attr("data-uid"));if(Y!==V){R.trigger("dependencyDragEnd",{type:Z,predecessor:Y,successor:V})}}O()}).bind("dragcancel",function(V){O()}).userEvents.bind("select",function(V){n()})},_selectable:function(){var M=this;var L=g.styles;if(this.options.selectable){this.wrapper.on(z+v,k+L.task,function(N){N.stopPropagation();if(!N.ctrlKey){M.trigger("select",{uid:s(this).attr("data-uid")})}else{M.trigger("clear")}}).on(z+v,k+L.taskWrap,function(O){O.stopPropagation();s(this).css("z-index","0");var N=s(document.elementFromPoint(O.clientX,O.clientY));if(N.hasClass(L.line)){N.click()}s(this).css("z-index","")}).on(z+v,k+L.tasksWrapper,function(N){if(M.selectDependency().length>0){M.clearSelection()}else{M.trigger("clear")}}).on(z+v,k+L.line,function(N){N.stopPropagation();M.selectDependency(this)})}},select:function(N){var L=this.wrapper.find(N);var M=g.styles;if(L.length){this.clearSelection();L.addClass(M.selected);if(kendo.support.mobileOS){L.parent().addClass(M.taskWrapActive)}return}return this.wrapper.find(k+M.task+k+M.selected)},selectDependency:function(O){var M=this.wrapper.find(O);var L;var N=g.styles;if(M.length){this.clearSelection();this.trigger("clear");L=s(M).attr("data-uid");this.wrapper.find(k+N.line+"[data-uid='"+L+"']").addClass(N.selected);return}return this.wrapper.find(k+N.line+k+N.selected)},clearSelection:function(){var L=g.styles;this.wrapper.find(k+L.selected).removeClass(L.selected);if(kendo.support.mobileOS){this.wrapper.find(k+L.taskWrapActive).removeClass(L.taskWrapActive)}},_attachEvents:function(){var M=this;var L=g.styles;if(this.options.editable){this._tabindex();this.wrapper.on(z+v,k+L.taskDelete,function(N){M.trigger("removeTask",{uid:s(this).closest(k+L.task).attr("data-uid")});N.stopPropagation();N.preventDefault()}).on(G+v,function(O){var N;if(O.keyCode===q.DELETE){N=M.selectDependency();if(N.length){M.trigger("removeDependency",{uid:N.attr("data-uid")});M.clearSelection()}}});if(!u){this.wrapper.on(l+v,k+L.task,function(N){M.trigger("editTask",{uid:s(this).attr("data-uid")});N.stopPropagation();N.preventDefault()})}else{this.touch=this.wrapper.kendoTouch({filter:k+L.task,doubletap:function(N){M.trigger("editTask",{uid:s(N.touch.currentTarget).attr("data-uid")})}}).data("kendoTouch")}}},_tooltip:function(){var O=this;var M=this.options.tooltip;var N=g.styles;var P;var L=function(Q){P=Q.clientX};if(M&&M.visible===false){return}this.wrapper.on(d+v,k+N.task,function(S){var R=this;var Q=O._taskByUid(s(this).attr("data-uid"));if(O.dragInProgress){return}O._tooltipTimeout=setTimeout(function(){O.view()._createTaskTooltip(Q,R,P)},800);s(this).on(C,L)}).on(j+v,k+N.task,function(Q){clearTimeout(O._tooltipTimeout);O.view()._removeTaskTooltip();s(this).off(C,L)})}});h(true,g,{styles:e})})(window.kendo.jQuery);(function(H,o){var I=window.kendo;var c=I.support.browser;var f=I.Observable;var h=I.ui.Widget;var K=I.data.DataSource;var p=I.data.ObservableObject;var r=I.data.ObservableArray;var L=I.data.Query;var z=H.isArray;var Z=H.inArray;var q=I.isFunction;var U=H.proxy;var n=H.extend;var ab=H.isPlainObject;var E=H.map;var C=I.keys;var J=".kendoGantt";var a="p0";var B="tabIndex";var P="click";var g="width";var V="string";var X={down:{origin:"bottom center",position:"top center"},up:{origin:"top center",position:"bottom center"}};var O="aria-activedescendant";var D="gantt_active_cell";var d="action-option-focused";var x=".";var l="Are you sure you want to delete this task?";var u="Are you sure you want to delete this dependency?";var Q='<button class="#=styles.button# #=className#" #if (action) {#data-action="#=action#"#}#><span class="#=iconClass#"></span>#=text#</button>';var S='<a class="#=className#" #=attr# href="\\#">#=text#</a>';var v=I.template('<ul class="#=styles.viewsWrapper#">#for(var view in views){#<li class="#=styles.viewButtonDefault# #=styles.viewButton#-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a href="\\#" class="#=styles.link#">#=views[view].title#</a></li>#}#</ul>');var aa=I.template('<div class="#=styles.popupWrapper#"><ul class="#=styles.popupList#" role="listbox">#for(var i = 0, l = actions.length; i < l; i++){#<li class="#=styles.item#" data-action="#=actions[i].data#" role="option">#=actions[i].text#</span>#}#</ul></div>');var Y=function(ae,ag){var ad={name:ag.field};var af=ag.model.fields[ag.field].validation;if(af&&ab(af)&&af.message){ad[I.attr("dateCompare-msg")]=af.message}H('<input type="text" required '+I.attr("type")+'="date" '+I.attr("role")+'="datetimepicker" '+I.attr("bind")+'="value:'+ag.field+'" '+I.attr("validate")+"='true' />").attr(ad).appendTo(ae);H("<span "+I.attr("for")+'="'+ag.field+'" class="k-invalid-msg"/>').hide().appendTo(ae)};var e=function(ad,ae){H('<a href="#" class="'+ae.styles.button+'">'+ae.messages.assignButton+"</a>").click(ae.click).appendTo(ad)};var w={wrapper:"k-widget k-gantt",listWrapper:"k-gantt-layout k-gantt-treelist",list:"k-gantt-treelist",timelineWrapper:"k-gantt-layout k-gantt-timeline",timeline:"k-gantt-timeline",splitBarWrapper:"k-splitbar k-state-default k-splitbar-horizontal k-splitbar-draggable-horizontal k-gantt-layout",splitBar:"k-splitbar",splitBarHover:"k-splitbar-horizontal-hover",popupWrapper:"k-list-container",popupList:"k-list k-reset",resizeHandle:"k-resize-handle",icon:"k-icon",item:"k-item",line:"k-line",buttonDelete:"k-gantt-delete",buttonCancel:"k-gantt-cancel",buttonSave:"k-gantt-update",primary:"k-primary",hovered:"k-state-hover",selected:"k-state-selected",focused:"k-state-focused",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",popup:{form:"k-popup-edit-form",editForm:"k-gantt-edit-form",formContainer:"k-edit-form-container",resourcesFormContainer:"k-resources-form-container",message:"k-popup-message",buttonsContainer:"k-edit-buttons k-state-default",button:"k-button",editField:"k-edit-field",editLabel:"k-edit-label",resourcesField:"k-gantt-resources"},toolbar:{headerWrapper:"k-floatwrap k-header k-gantt-toolbar",footerWrapper:"k-floatwrap k-header k-gantt-toolbar",toolbar:"k-gantt-toolbar",views:"k-gantt-views",viewsWrapper:"k-reset k-header k-gantt-views",actions:"k-gantt-actions",button:"k-button k-button-icontext",iconPlus:"k-icon k-i-plus",iconPdf:"k-icon k-i-pdf",viewButtonDefault:"k-state-default",viewButton:"k-view",link:"k-link",pdfButton:"k-gantt-pdf",appendButton:"k-gantt-create"}};function j(ad){return"["+I.attr("uid")+(ad?"='"+ad+"']":"]")}function ac(ad){delete ad.name;delete ad.prefix;delete ad.remove;delete ad.edit;delete ad.add;delete ad.navigate;return ad}function W(ae){if(ae.filter("[name=end], [name=start]").length){var aj=ae.attr("name");var ag=I.widgetInstance(ae,I.ui);var ai={};var ad=ae;var ah;var af;while(ad!==window&&!ah){ad=ad.parent();ah=ad.data("kendoEditable")}af=ah?ah.options.model:null;if(!af){return true}ai.start=af.start;ai.end=af.end;ai[aj]=ag?ag.value():I.parseDate(ae.value());return ai.start<=ai.end}return true}function b(af,ai){var ah=af.parents("["+I.attr("role")+'="gantt"]');var ad=[];var ae=M(ah);af.attr(B,0);if(ai){ae.each(function(aj,ak){ad[aj]=H(ak).scrollTop()})}try{af[0].setActive()}catch(ag){af[0].focus()}if(ai){ae.each(function(aj,ak){H(ak).scrollTop(ad[aj])})}}function M(ad){return H(ad).parentsUntil("body").filter(function(af,ag){var ae=I.getComputedStyles(ag,["overflow"]);return ae.overflow!="visible"}).add(window)}var N={append:{text:"Add Task",action:"add",className:w.toolbar.appendButton,iconClass:w.toolbar.iconPlus},pdf:{text:"Export to PDF",className:w.toolbar.pdfButton,iconClass:w.toolbar.iconPdf}};var t=f.extend({init:function(ae,ad){f.fn.init.call(this);this.element=ae;this.options=n(true,{},this.options,ad);this._popup()},options:{direction:"down",navigatable:false},_current:function(ag){var af=F.styles;var ae=this.list.find(x+af.focused);var ad=ae[ag]();if(ad.length){ae.removeClass(af.focused).removeAttr("id");ad.addClass(af.focused).attr("id",d);this.list.find("ul").removeAttr(O).attr(O,d)}},_popup:function(){var ae=this;var af=F.styles;var ad="li"+x+af.item;var ah=this.options.messages.actions;var ag=this.options.navigatable;this.list=H(aa({styles:af,actions:[{data:"add",text:ah.addChild},{data:"insert-before",text:ah.insertBefore},{data:"insert-after",text:ah.insertAfter}]}));this.element.append(this.list);this.popup=new I.ui.Popup(this.list,n({anchor:this.element,open:function(ai){ae._adjustListWidth()},animation:this.options.animation},X[this.options.direction]));this.element.on(P+J,x+af.toolbar.appendButton,function(ak){var aj=H(this);var ai=aj.attr(I.attr("action"));ak.preventDefault();if(ai){ae.trigger("command",{type:ai})}else{ae.popup.open();if(ag){ae.list.find("li:first").addClass(af.focused).attr("id",d).end().find("ul").attr({TABINDEX:0,"aria-activedescendant":d}).focus()}}});this.list.find(ad).hover(function(){H(this).addClass(af.hovered)},function(){H(this).removeClass(af.hovered)}).end().on(P+J,ad,function(ai){ae.trigger("command",{type:H(this).attr(I.attr("action"))});ae.popup.close()});if(ag){this.popup.bind("close",function(){ae.list.find(ad).removeClass(af.focused).end().find("ul").attr(B,0);ae.element.parents("["+I.attr("role")+'="gantt"]').find(x+af.gridContent+" > table:first").focus()});this.list.find("ul").on("keydown"+J,function(aj){var ai=aj.keyCode;switch(ai){case C.UP:aj.preventDefault();ae._current("prev");break;case C.DOWN:aj.preventDefault();ae._current("next");break;case C.ENTER:ae.list.find(x+af.focused).click();break;case C.ESC:aj.preventDefault();ae.popup.close();break}})}},_adjustListWidth:function(){var ag=this.list;var af=ag[0].style.width;var ah=this.element;var ae;var ad;if(!ag.data(g)&&af){return}ae=window.getComputedStyle?window.getComputedStyle(ah[0],null):0;ad=ae?parseFloat(ae.width):ah.outerWidth();if(ae&&(c.mozilla||c.msie)){ad+=parseFloat(ae.paddingLeft)+parseFloat(ae.paddingRight)+parseFloat(ae.borderLeftWidth)+parseFloat(ae.borderRightWidth)}if(ag.css("box-sizing")!=="border-box"){af=ad-(ag.outerWidth()-ag.width())}else{af=ad}ag.css({fontFamily:ah.css("font-family"),width:af}).data(g,af)},destroy:function(){clearTimeout(this._focusTimeout);this.popup.destroy();this.element.off(J);this.list.off(J);this.unbind()}});var R=function(ae,ad){return function(af){af=z(ah)?{data:af}:af;var ah=af||{};var ag=ah.data;ah.data=ag;if(!(ah instanceof ae)&&ah instanceof K){throw new Error("Incorrect DataSource type. Only "+ad+" instances are supported")}return ah instanceof ae?ah:new ae(ah)}};var k=I.data.Model.define({id:"id",fields:{id:{type:"number"},predecessorId:{type:"number"},successorId:{type:"number"},type:{type:"number"}}});var m=K.extend({init:function(ad){K.fn.init.call(this,n(true,{},{schema:{modelBase:k,model:k}},ad))},successors:function(ad){return this._dependencies("predecessorId",ad)},predecessors:function(ad){return this._dependencies("successorId",ad)},dependencies:function(af){var ae=this.predecessors(af);var ad=this.successors(af);ae.push.apply(ae,ad);return ae},_dependencies:function(af,ag){var ae=this.view();var ad={field:af,operator:"eq",value:ag};ae=new L(ae).filter(ad).toArray();return ae}});m.create=R(m,"GanttDependencyDataSource");var T=I.data.Model.define({duration:function(){var ad=this.end;var ae=this.start;return ad-ae},isMilestone:function(){return this.duration()===0},_offset:function(ae){var ag=["start","end"];var af;for(var ad=0;ad<ag.length;ad++){af=new Date(this.get(ag[ad]).getTime()+ae);this.set(ag[ad],af)}},id:"id",fields:{id:{type:"number"},parentId:{type:"number",defaultValue:null,validation:{required:true}},orderId:{type:"number",validation:{required:true}},title:{type:"string",defaultValue:""},start:{type:"date",validation:{required:true,dateCompare:W,message:"Start date should be before or equal to the end date"}},end:{type:"date",validation:{required:true,dateCompare:W,message:"End date should be after or equal to the start date"}},percentComplete:{type:"number",validation:{required:true,min:0,max:1,step:0.01}},summary:{type:"boolean"},expanded:{type:"boolean",defaultValue:true}}});var i=K.extend({init:function(ad){K.fn.init.call(this,n(true,{},{schema:{modelBase:T,model:T}},ad))},remove:function(ad){var af=ad.get("parentId");var ae=this.taskAllChildren(ad);this._removeItems(ae);ad=K.fn.remove.call(this,ad);this._childRemoved(af,ad.get("orderId"));return ad},add:function(ad){if(!ad){return}ad=this._toGanttTask(ad);return this.insert(this.taskSiblings(ad).length,ad)},insert:function(ae,ad){if(!ad){return}ad=this._toGanttTask(ad);ad.set("orderId",ae);ad=K.fn.insert.call(this,ae,ad);this._reorderSiblings(ad,this.taskSiblings(ad).length-1);this._resolveSummaryFields(this.taskParent(ad));return ad},taskChildren:function(ae){var ah=this.view();var ag={field:"parentId",operator:"eq",value:null};var ad=this._sort||{field:"orderId",dir:"asc"};var af;if(!!ae){af=ae.get("id");if(af===o||af===null||af===""){return[]}ag.value=af}ah=new L(ah).filter(ag).sort(ad).toArray();return ah},taskAllChildren:function(ad){var af=[];var ae=this;var ag=function(ah){var ai=ae.taskChildren(ah);af.push.apply(af,ai);E(ai,ag)};if(!!ad){ag(ad)}else{af=this.view()}return af},taskSiblings:function(ad){if(!ad){return null}var ae=this.taskParent(ad);return this.taskChildren(ae)},taskParent:function(ad){if(!ad||ad.get("parentId")===null){return null}return this.get(ad.parentId)},taskLevel:function(ad){var af=0;var ae=this.taskParent(ad);while(ae!==null){af+=1;ae=this.taskParent(ae)}return af},taskTree:function(ae){var ah=[];var ai;var aj=this.taskChildren(ae);for(var ag=0,ad=aj.length;ag<ad;ag++){ai=aj[ag];ah.push(ai);if(ai.get("expanded")){var af=this.taskTree(ai);ah.push.apply(ah,af)}}return ah},update:function(ad,ag){var ah=this;var ae;var af=function(an,ao){var am=ah.taskAllChildren(an);for(var al=0,ak=am.length;al<ak;al++){am[al]._offset(ao)}};var aj=function(am){var al=am.field;var ak=am.sender;switch(al){case"start":ah._resolveSummaryStart(ah.taskParent(ak));af(ak,ak.get(al).getTime()-ae.getTime());break;case"end":ah._resolveSummaryEnd(ah.taskParent(ak));break;case"percentComplete":ah._resolveSummaryPercentComplete(ah.taskParent(ak));break;case"orderId":ah._reorderSiblings(ak,ae);break}};if(ag.parentId!==o){ae=ad.get("parentId");if(ae!==ag.parentId){ad.set("parentId",ag.parentId);ah._childRemoved(ae,ad.get("orderId"));ad.set("orderId",ah.taskSiblings(ad).length-1);ah._resolveSummaryFields(ah.taskParent(ad))}delete ag.parentId}ad.bind("change",aj);for(var ai in ag){ae=ad.get(ai);ad.set(ai,ag[ai])}ad.unbind("change",aj)},_resolveSummaryFields:function(ad){if(!ad){return}this._updateSummary(ad);if(!this.taskChildren(ad).length){return}this._resolveSummaryStart(ad);this._resolveSummaryEnd(ad);this._resolveSummaryPercentComplete(ad)},_resolveSummaryStart:function(ad){var af=this;var ae=function(ak){var aj=af.taskChildren(ak);var ai=aj[0].start.getTime();var al;for(var ah=1,ag=aj.length;ah<ag;ah++){al=aj[ah].start.getTime();if(al<ai){ai=al}}return new Date(ai)};this._updateSummaryRecursive(ad,"start",ae)},_resolveSummaryEnd:function(ae){var af=this;var ad=function(al){var aj=af.taskChildren(al);var ag=aj[0].end.getTime();var ak;for(var ai=1,ah=aj.length;ai<ah;ai++){ak=aj[ai].end.getTime();if(ak>ag){ag=ak}}return new Date(ag)};this._updateSummaryRecursive(ae,"end",ad)},_resolveSummaryPercentComplete:function(ae){var af=this;var ad=function(ai){var ag=af.taskChildren(ai);var ah=new L(ag).aggregate([{field:"percentComplete",aggregate:"average"}]);return ah.percentComplete.average};this._updateSummaryRecursive(ae,"percentComplete",ad)},_updateSummaryRecursive:function(ad,ag,ah){if(!ad){return}var af=ah(ad);ad.set(ag,af);var ae=this.taskParent(ad);if(ae){this._updateSummaryRecursive(ae,ag,ah)}},_childRemoved:function(ai,ae){var ah=ai===null?null:this.get(ai);var ag=this.taskChildren(ah);for(var af=ae,ad=ag.length;af<ad;af++){ag[af].set("orderId",af)}this._resolveSummaryFields(ah)},_reorderSiblings:function(ad,af){var ae=ad.get("orderId");var aj=ae>af;var ak=aj?af:ae;var ah=aj?ae:af;var al=aj?ak:ak+1;var ai=this.taskSiblings(ad);ah=Math.min(ah,ai.length-1);for(var ag=ak;ag<=ah;ag++){if(ai[ag]===ad){continue}ai[ag].set("orderId",al);al+=1}},_updateSummary:function(ae){if(ae!==null){var ad=this.taskChildren(ae).length;ae.set("summary",ad>0)}},_toGanttTask:function(ad){if(!(ad instanceof T)){var ae=ad;ad=this._createNewModel();ad.accept(ae)}return ad}});i.create=R(i,"GanttDataSource");n(true,I.data,{GanttDataSource:i,GanttTask:T,GanttDependencyDataSource:m,GanttDependency:k});var A={desktop:{dateRange:Y,resources:e}};var y=I.Observable.extend({init:function(ae,ad){I.Observable.fn.init.call(this);this.element=ae;this.options=n(true,{},this.options,ad);this.createButton=this.options.createButton},fields:function(aj,af){var ai=this;var ae=this.options;var ah=ae.messages.editor;var ak=ae.resources;var ad;var ag=function(al){al.preventDefault();ak.editor(ai.container.find(x+F.styles.popup.resourcesField),af)};if(ae.editable.template){ad=H.map(af.fields,function(am,al){return{field:al}})}else{ad=[{field:"title",title:ah.title},{field:"start",title:ah.start,editor:aj.dateRange},{field:"end",title:ah.end,editor:aj.dateRange},{field:"percentComplete",title:ah.percentComplete,format:a}];if(af.get(ak.field)){ad.push({field:ak.field,title:ah.resources,messages:ah,editor:aj.resources,click:ag,styles:F.styles.popup})}}return ad},_buildEditTemplate:function(aj,ak,ap){var ae=this.options.resources;var ao=this.options.editable.template;var af=n({},I.Template,this.options.templateSettings);var ai=af.paramName;var al=F.styles.popup;var ah="";if(ao){if(typeof ao===V){ao=window.unescape(ao)}ah+=(I.template(ao,af))(aj)}else{for(var ag=0,ad=ak.length;ag<ad;ag++){var an=ak[ag];ah+='<div class="'+al.editLabel+'"><label for="'+an.field+'">'+(an.title||an.field||"")+"</label></div>";if(an.field===ae.field){ah+='<div class="'+al.resourcesField+'" style="display:none"></div>'}if((!aj.editable||aj.editable(an.field))){ap.push(an);ah+="<div "+I.attr("container-for")+'="'+an.field+'" class="'+al.editField+'"></div>'}else{var am="#:";if(an.field){an=I.expr(an.field,ai);am+=an+"==null?'':"+an}else{am+="''"}am+="#";am=I.template(am,af);ah+='<div class="'+al.editField+'">'+am(aj)+"</div>"}}}return ah}});var G=y.extend({destroy:function(){this.close();this.unbind()},editTask:function(ad){this.editable=this._createPopupEditor(ad)},close:function(){var ae=this;var ad=function(){if(ae.editable){ae.editable.destroy();ae.editable=null;ae.container=null}if(ae.popup){ae.popup.destroy();ae.popup=null}};if(this.editable&&this.container.is(":visible")){this.container.data("kendoWindow").bind("deactivate",ad).close()}else{ad()}},showDialog:function(ae){var aj=ae.buttons;var ah=F.styles.popup;var ag=I.format('<div class="{0}"><div class="{1}"><p class="{2}">{3}</p><div class="{4}">',ah.form,ah.formContainer,ah.message,ae.text,ah.buttonsContainer);for(var af=0,ai=aj.length;af<ai;af++){ag+=this.createButton(aj[af])}ag+="</div></div></div>";var ak=this.element;if(this.popup){this.popup.destroy()}var ad=this.popup=H(ag).appendTo(ak).eq(0).on("click",x+ah.button,function(am){am.preventDefault();ad.close();var al=H(am.currentTarget).index();aj[al].click()}).kendoWindow({modal:true,resizable:false,draggable:false,title:ae.title,visible:false,close:function(){this.destroy();ak.focus()}}).getKendoWindow();ad.center().open()},_createPopupEditor:function(af){var aj=this;var an={};var ag=this.options.messages;var ak=F.styles;var al=ak.popup;var ah=I.format('<div {0}="{1}" class="{2} {3}"><div class="{4}">',I.attr("uid"),af.uid,al.form,al.editForm,al.formContainer);var ai=this.fields(A.desktop,af);var am=[];ah+=this._buildEditTemplate(af,ai,am);ah+='<div class="'+al.buttonsContainer+'">';ah+=this.createButton({name:"update",text:ag.save,className:F.styles.primary});ah+=this.createButton({name:"cancel",text:ag.cancel});ah+=this.createButton({name:"delete",text:ag.destroy});ah+="</div></div></div>";var ad=this.container=H(ah).appendTo(this.element).eq(0).kendoWindow(n({modal:true,resizable:false,draggable:true,title:ag.editor.editorTitle,visible:false,close:function(ao){if(ao.userTriggered){if(aj.trigger("cancel",{container:ad,model:af})){ao.preventDefault()}}}},an));var ae=ad.kendoEditable({fields:am,model:af,clearContainer:false,validateOnBlur:true,target:aj.options.target}).data("kendoEditable");I.cycleForm(ad);if(!this.trigger("edit",{container:ad,model:af})){ad.data("kendoWindow").center().open();ad.on(P+J,x+ak.buttonCancel,function(ao){ao.preventDefault();ao.stopPropagation();aj.trigger("cancel",{container:ad,model:af})});ad.on(P+J,x+ak.buttonSave,function(au){au.preventDefault();au.stopPropagation();var ao=aj.fields(A.desktop,af);var aq={};var at;for(var ap=0,ar=ao.length;ap<ar;ap++){at=ao[ap].field;aq[at]=af.get(at)}aj.trigger("save",{container:ad,model:af,updateInfo:aq})});ad.on(P+J,x+ak.buttonDelete,function(ao){ao.preventDefault();ao.stopPropagation();aj.trigger("remove",{container:ad,model:af})})}else{aj.trigger("cancel",{container:ad,model:af})}return ae}});var s=h.extend({init:function(ae,ad){h.fn.init.call(this,ae,ad);this.wrapper=this.element;this.model=this.options.model;this.resourcesField=this.options.resourcesField;this.createButton=this.options.createButton;this._initContainer();this._attachHandlers()},events:["save"],open:function(){this.window.center().open();this.grid.resize(true)},close:function(){this.window.bind("deactivate",U(this.destroy,this)).close()},destroy:function(){this._dettachHandlers();this.grid.destroy();this.grid=null;this.window.destroy();this.window=null;h.fn.destroy.call(this);I.destroy(this.wrapper);this.element=this.wrapper=null},_attachHandlers:function(){var af=F.styles;var ad=this.grid;var ae=this._cancelProxy=U(this._cancel,this);this.container.on(P+J,x+af.buttonCancel,this._cancelProxy);this._saveProxy=U(this._save,this);this.container.on(P+J,x+af.buttonSave,this._saveProxy);this.window.bind("close",function(ag){if(ag.userTriggered){ae(ag)}});ad.wrapper.on(P+J,"input[type='checkbox']",function(aj){var ah=H(this);var ak=H(ah).closest("tr");var ag=ad.dataSource.getByUid(ak.attr(I.attr("uid")));var ai=H(ah).is(":checked")?1:"";ag.set("value",ai)})},_dettachHandlers:function(){this._cancelProxy=null;this._saveProxy=null;this.container.off(J);this.grid.wrapper.off()},_cancel:function(ad){ad.preventDefault();this.close()},_save:function(ad){ad.preventDefault();this._updateModel();if(!this.wrapper.is(x+F.styles.popup.resourcesField)){this.trigger("save",{container:this.wrapper,model:this.model})}this.close()},_initContainer:function(){var ad=F.styles.popup;var ae=I.format('<div class="{0} {1}"><div class="{2} {3}"/></div>"',ad.form,ad.editForm,ad.formContainer,ad.resourcesFormContainer);ae=H(ae);this.container=ae.find(x+ad.resourcesFormContainer);this.window=ae.kendoWindow({modal:true,resizable:false,draggable:true,visible:false,title:this.options.messages.resourcesEditorTitle}).data("kendoWindow");this._resourceGrid();this._createButtons()},_resourceGrid:function(){var af=this;var ae=this.options.messages;var ad=H('<div id="resources-grid"/>').appendTo(this.container);this.grid=new I.ui.Grid(ad,{columns:[{field:"name",title:ae.resourcesHeader,template:"<label><input type='checkbox' value='#=name#'# if (value > 0 && value !== null) {#checked='checked'# } #/>#=name#</labe>"},{field:"value",title:ae.unitsHeader,template:function(ag){var ai=ag.format;var ah=ag.value!==null?ag.value:"";return ai?I.toString(ah,ai):ah}}],height:280,sortable:true,editable:true,filterable:true,dataSource:{data:af.options.data,schema:{model:{id:"id",fields:{id:{from:"id"},name:{from:"name",type:"string",editable:false},value:{from:"value",type:"number",defaultValue:""},format:{from:"format",type:"string"}}}}},save:function(ah){var ag=!!ah.values.value;ah.container.parent().find("input[type='checkbox']").prop("checked",ag)}})},_createButtons:function(){var ag=this.options.buttons;var ae='<div class="'+F.styles.popup.buttonsContainer+'">';for(var ad=0,af=ag.length;ad<af;ad++){ae+=this.createButton(ag[ad])}ae+="</div>";this.container.append(ae)},_updateModel:function(){var ah=[];var ag;var af=this.grid.dataSource.data();for(var ad=0,ae=af.length;ad<ae;ad++){ag=af[ad].get("value");if(ag!==null&&ag>0){ah.push(af[ad])}}this.model[this.resourcesField]=ah}});var F=h.extend({init:function(ae,ad){if(z(ad)){ad={dataSource:ad}}h.fn.init.call(this,ae,ad);this._wrapper();this._resources();this._timeline();this._toolbar();this._footer();this._adjustDimensions();this._preventRefresh=true;this.view(this.timeline._selectedViewName);this._preventRefresh=false;this._dataSource();this._assignments();this._dropDowns();this._list();this._dependencies();this._resizable();this._scrollable();this._dataBind();this._attachEvents();this._createEditor();I.notify(this)},events:["dataBinding","dataBound","add","edit","remove","cancel","save","change","navigate","moveStart","move","moveEnd","resizeStart","resize","resizeEnd"],options:{name:"Gantt",autoBind:true,navigatable:false,selectable:true,editable:true,columns:[],views:[],dataSource:{},dependencies:{},resources:{},assignments:{},messages:{save:"Save",cancel:"Cancel",destroy:"Delete",deleteTaskConfirmation:l,deleteDependencyConfirmation:u,deleteTaskWindowTitle:"Delete task",deleteDependencyWindowTitle:"Delete dependency",views:{day:"Day",week:"Week",month:"Month",year:"Year",start:"Start",end:"End"},actions:{append:"Add Task",addChild:"Add Child",insertBefore:"Add Above",insertAfter:"Add Below",pdf:"Export to PDF"},editor:{editorTitle:"Task",resourcesEditorTitle:"Resources",title:"Title",start:"Start",end:"End",percentComplete:"Complete",resources:"Resources",assignButton:"Assign",resourcesHeader:"Resources",unitsHeader:"Units"}},showWorkHours:true,showWorkDays:true,toolbar:null,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,hourSpan:1,snap:true,height:600,listWidth:"30%"},select:function(ae){var ad=this.list;if(!ae){return ad.select()}ad.select(ae);return},clearSelection:function(){this.list.clearSelection()},destroy:function(){h.fn.destroy.call(this);if(this.dataSource){this.dataSource.unbind("change",this._refreshHandler);this.dataSource.unbind("progress",this._progressHandler);this.dataSource.unbind("error",this._errorHandler)}if(this.dependencies){this.dependencies.unbind("change",this._dependencyRefreshHandler);this.dependencies.unbind("error",this._dependencyErrorHandler)}if(this.timeline){this.timeline.unbind();this.timeline.destroy()}if(this.list){this.list.unbind();this.list.destroy()}if(this.footerDropDown){this.footerDropDown.destroy()}if(this.headerDropDown){this.headerDropDown.destroy()}if(this._editor){this._editor.destroy()}if(this._resizeDraggable){this._resizeDraggable.destroy()}this.toolbar.off(J);H(window).off("resize"+J,this._resizeHandler);H(this.wrapper).off(J);this.toolbar=null;this.footer=null},_attachEvents:function(){this._resizeHandler=U(this.resize,this,false);H(window).on("resize"+J,this._resizeHandler)},_wrapper:function(){var ah=F.styles;var ag=[ah.icon,ah.resizeHandle].join(" ");var ae=this.options;var ad=ae.height;var af=ae.width;this.wrapper=this.element.addClass(ah.wrapper).append("<div class='"+ah.listWrapper+"'><div></div></div>").append("<div class='"+ah.splitBarWrapper+"'><div class='"+ag+"'></div></div>").append("<div class='"+ah.timelineWrapper+"'><div></div></div>");this.wrapper.find(x+ah.list).width(ae.listWidth);if(ad){this.wrapper.height(ad)}if(af){this.wrapper.width(af)}},_toolbar:function(){var af=this;var ag=F.styles;var ae=x+ag.toolbar.views+" > li";var ai=x+ag.toolbar.pdfButton;var ak=ag.hovered;var ad=this.options.toolbar;var al=H("<div class='"+ag.toolbar.actions+"'>");var ah;var aj;if(!q(ad)){ad=(typeof ad===V?ad:this._actions(ad));ad=U(I.template(ad),this)}aj=H(v({ns:I.ns,views:this.timeline.views,styles:ag.toolbar}));al.append(ad({}));ah=H("<div class='"+ag.toolbar.headerWrapper+"'>").append(al).append(aj);this.wrapper.prepend(ah);this.toolbar=ah;ah.on(P+J,ae,function(an){an.preventDefault();var am=H(this).attr(I.attr("name"));if(!af.trigger("navigate",{view:am})){af.view(am)}}).on(P+J,ai,function(am){af.saveAsPDF()});this.wrapper.find(x+ag.toolbar.toolbar+" li").hover(function(){H(this).addClass(ak)},function(){H(this).removeClass(ak)})},_actions:function(){var ad=this.options;var ah=ad.toolbar;var af="";if(!z(ah)){if(ad.editable){ah=["append"]}else{return af}}for(var ae=0,ag=ah.length;ae<ag;ae++){af+=this._createButton(ah[ae])}return af},_footer:function(){if(!this.options.editable){return}var ag=F.styles.toolbar;var af=this.options.messages.actions;var ad=H(I.template(Q)(n(true,{styles:ag},N.append,{text:af.append})));var ae=H("<div class='"+ag.actions+"'>").append(ad);var ah=H("<div class='"+ag.footerWrapper+"'>").append(ae);this.wrapper.append(ah);this.footer=ah},_createButton:function(ai){var ag=ai.template||Q;var ah=this.options.messages.actions;var ae=typeof ai===V?ai:ai.name||ai.text;var af=N[ae]?N[ae].className:"k-gantt-"+(ae||"").replace(/\s/g,"");var ad={iconClass:"",action:"",text:ae,className:af,styles:F.styles.toolbar};if(!ae&&!(ab(ai)&&ai.template)){throw new Error("Custom commands should have name specified")}ad=n(true,ad,N[ae],{text:ah[ae]});if(ab(ai)){if(ai.className&&Z(ad.className,ai.className.split(" "))<0){ai.className+=" "+ad.className}ad=n(true,ad,ai)}return I.template(ag)(ad)},_adjustDimensions:function(){var ae=this.element;var ah=F.styles;var aj=x+ah.list;var ak=x+ah.timeline;var an=x+ah.splitBar;var am=this.toolbar.outerHeight();var al=this.footer?this.footer.outerHeight():0;var ag=ae.height();var af=ae.width();var ai=ae.find(an).outerWidth();var ad=ae.find(aj).outerWidth();ae.children([aj,ak,an].join(",")).height(ag-(am+al)).end().children(ak).width(af-(ai+ad))},_scrollTo:function(ag){var ae=this.timeline.view();var ad=I.attr("uid");var ah=typeof ag==="string"?ag:ag.closest("tr"+j()).attr(ad);var af=ae.content.find(j(ah));if(af.length!==0){ae._scrollTo(af)}},_dropDowns:function(){var ag=this;var ad=x+F.styles.toolbar.actions;var ah=this.options.messages.actions;var ai=this.dataSource;var af=this.timeline;var ae=function(aq){var ao=aq.type;var aj;var al=ai._createNewModel();var an=ag.dataItem(ag.select());var am=ai.taskParent(an);var ak=af.view()._timeSlots()[0];var ap=ao==="add"?an:am;al.set("title","New task");if(ap){al.set("parentId",ap.get("id"));al.set("start",ap.get("start"));al.set("end",ap.get("end"))}else{al.set("start",ak.start);al.set("end",ak.end)}if(ao!=="add"){aj=an.get("orderId");aj=ao==="insert-before"?aj:aj+1}ag._createTask(al,aj)};if(!this.options.editable){return}this.footerDropDown=new t(this.footer.children(ad).eq(0),{messages:{actions:ah},direction:"up",animation:{open:{effects:"slideIn:up"}},navigatable:ag.options.navigatable});this.headerDropDown=new t(this.toolbar.children(ad).eq(0),{messages:{actions:ah},navigatable:ag.options.navigatable});this.footerDropDown.bind("command",ae);this.headerDropDown.bind("command",ae)},_list:function(){var aj=this;var al=aj.options.navigatable;var ak=F.styles;var ah=this.wrapper.find(x+ak.list);var ag=ah.find("> div");var am=this.wrapper.find(x+ak.toolbar.actions+" > button");var an={columns:this.options.columns||[],dataSource:this.dataSource,selectable:this.options.selectable,editable:this.options.editable,listWidth:ah.outerWidth(),resourcesField:this.resources.field};var ae=an.columns;var ad;var ai=function(){if(al){aj._current(aj._cachedCurrent);b(aj.list.content.find("table"),true)}delete aj._cachedCurrent};for(var af=0;af<ae.length;af++){ad=ae[af];if(ad.field===this.resources.field&&typeof ad.editor!=="function"){ad.editor=U(this._createResourceEditor,this)}}this.list=new I.ui.GanttList(ag,an);this.list.bind("render",function(){aj._navigatable()},true).bind("edit",function(ao){aj._cachedCurrent=ao.cell;if(aj.trigger("edit",{task:ao.model,container:ao.cell})){ao.preventDefault()}}).bind("cancel",function(ao){if(aj.trigger("cancel",{task:ao.model,container:ao.cell})){ao.preventDefault()}ai()}).bind("update",function(ao){aj._updateTask(ao.task,ao.updateInfo);ai()}).bind("change",function(){aj.trigger("change");var ao=aj.list.select();if(ao.length){am.removeAttr("data-action","add");aj.timeline.select("[data-uid='"+ao.attr("data-uid")+"']")}else{am.attr("data-action","add");aj.timeline.clearSelection()}})},_timeline:function(){var af=this;var ag=F.styles;var ad=ac(n(true,{resourcesField:this.resources.field},this.options));var ae=this.wrapper.find(x+ag.timeline+" > div");this.timeline=new I.ui.GanttTimeline(ae,ad);this.timeline.bind("navigate",function(ah){af.toolbar.find(x+ag.toolbar.views+" > li").removeClass(ag.selected).end().find(x+ag.toolbar.viewButton+"-"+ah.view.replace(/\./g,"\\.").toLowerCase()).addClass(ag.selected);af.refresh()}).bind("moveStart",function(ah){if(af.trigger("moveStart",{task:ah.task})){ah.preventDefault()}}).bind("move",function(aj){var ai=aj.task;var ak=aj.start;var ah=new Date(ak.getTime()+ai.duration());if(af.trigger("move",{task:ai,start:ak,end:ah})){aj.preventDefault()}}).bind("moveEnd",function(aj){var ai=aj.task;var ak=aj.start;var ah=new Date(ak.getTime()+ai.duration());if(!af.trigger("moveEnd",{task:ai,start:ak,end:ah})){af._updateTask(af.dataSource.getByUid(ai.uid),{start:ak,end:ah})}}).bind("resizeStart",function(ah){if(af.trigger("resizeStart",{task:ah.task})){ah.preventDefault()}}).bind("resize",function(ah){if(af.trigger("resize",{task:ah.task,start:ah.start,end:ah.end})){ah.preventDefault()}}).bind("resizeEnd",function(aj){var ah=aj.task;var ai={};if(aj.resizeStart){ai.start=aj.start}else{ai.end=aj.end}if(!af.trigger("resizeEnd",{task:ah,start:aj.start,end:aj.end})){af._updateTask(af.dataSource.getByUid(ah.uid),ai)}}).bind("percentResizeEnd",function(ah){af._updateTask(af.dataSource.getByUid(ah.task.uid),{percentComplete:ah.percentComplete})}).bind("dependencyDragEnd",function(ai){var ah=af.dependencies._createNewModel({type:ai.type,predecessorId:ai.predecessor.id,successorId:ai.successor.id});af._createDependency(ah)}).bind("select",function(ah){af.select("[data-uid='"+ah.uid+"']")}).bind("editTask",function(ah){af.editTask(ah.uid)}).bind("clear",function(ah){af.clearSelection()}).bind("removeTask",function(ah){af.removeTask(af.dataSource.getByUid(ah.uid))}).bind("removeDependency",function(ah){af.removeDependency(af.dependencies.getByUid(ah.uid))})},_dataSource:function(){var ad=this.options;var ae=ad.dataSource;ae=z(ae)?{data:ae}:ae;if(this.dataSource&&this._refreshHandler){this.dataSource.unbind("change",this._refreshHandler).unbind("progress",this._progressHandler).unbind("error",this._errorHandler)}else{this._refreshHandler=U(this.refresh,this);this._progressHandler=U(this._requestStart,this);this._errorHandler=U(this._error,this)}this.dataSource=I.data.GanttDataSource.create(ae).bind("change",this._refreshHandler).bind("progress",this._progressHandler).bind("error",this._errorHandler)},_dependencies:function(){var ad=this.options.dependencies||{};var ae=z(ad)?{data:ad}:ad;if(this.dependencies&&this._dependencyRefreshHandler){this.dependencies.unbind("change",this._dependencyRefreshHandler).unbind("error",this._dependencyErrorHandler)}else{this._dependencyRefreshHandler=U(this.refreshDependencies,this);this._dependencyErrorHandler=U(this._error,this)}this.dependencies=I.data.GanttDependencyDataSource.create(ae).bind("change",this._dependencyRefreshHandler).bind("error",this._dependencyErrorHandler)},_resources:function(){var ad=this.options.resources;var ae=ad.dataSource||{};this.resources={field:"resources",dataTextField:"name",dataColorField:"color",dataFormatField:"format"};n(this.resources,ad);this.resources.dataSource=I.data.DataSource.create(ae)},_assignments:function(){var ad=this.options.assignments;var ae=ad.dataSource||{};if(this.assignments){this.assignments.dataSource.unbind("change",this._assignmentsRefreshHandler)}else{this._assignmentsRefreshHandler=U(this.refresh,this)}this.assignments={dataTaskIdField:"taskId",dataResourceIdField:"resourceId",dataValueField:"value"};n(this.assignments,ad);this.assignments.dataSource=I.data.DataSource.create(ae);this.assignments.dataSource.bind("change",this._assignmentsRefreshHandler)},_createEditor:function(af){var ae=this;var ad=this._editor=new G(this.wrapper,n({},this.options,{target:this,resources:{field:this.resources.field,editor:U(this._createResourceEditor,this)},createButton:U(this._createPopupButton,this)}));ad.bind("cancel",function(ah){var ag=ae.dataSource.getByUid(ah.model.uid);if(ae.trigger("cancel",{container:ah.container,task:ag})){ah.preventDefault();return}ae.cancelTask()}).bind("edit",function(ah){var ag=ae.dataSource.getByUid(ah.model.uid);if(ae.trigger("edit",{container:ah.container,task:ag})){ah.preventDefault()}}).bind("save",function(ah){var ag=ae.dataSource.getByUid(ah.model.uid);ae.saveTask(ag,ah.updateInfo)}).bind("remove",function(ag){ae.removeTask(ag.model.uid)})},_createResourceEditor:function(ad,af){var ai=this;var ae=af instanceof p?af:af.model;var ak=ae.get("id");var ah=this.options.messages;var aj=ai.resources.field;var ag=this._resourceEditor=new s(ad,{resourcesField:aj,data:this._wrapResourceData(ak),model:ae,messages:n({},ah.editor),buttons:[{name:"update",text:ah.save,className:F.styles.primary},{name:"cancel",text:ah.cancel}],createButton:U(this._createPopupButton,this),save:function(al){ai._updateAssignments(al.model.get("id"),al.model.get(aj))}});ag.open()},_createPopupButton:function(af){var ae=af.name||af.text;var ad={className:F.styles.popup.button+" k-gantt-"+(ae||"").replace(/\s/g,""),text:ae,attr:""};if(!ae&&!(ab(af)&&af.template)){throw new Error("Custom commands should have name specified")}if(ab(af)){if(af.className){af.className+=" "+ad.className}ad=n(true,ad,af)}return I.template(S)(ad)},view:function(ad){return this.timeline.view(ad)},dataItem:function(af){if(!af){return null}var ae=this.list;var ad=ae.content.find(af);return ae._modelFromElement(ad)},setDataSource:function(ad){this.options.dataSource=ad;this._dataSource();this.list._setDataSource(this.dataSource);if(this.options.autoBind){ad.fetch()}},setDependenciesDataSource:function(ad){this.options.dependencies=ad;this._dependencies();if(this.options.autoBind){ad.fetch()}},items:function(){return this.wrapper.children(".k-task")},_updateAssignments:function(af,ai){var ad=this.assignments.dataSource;var ap=this.assignments.dataTaskIdField;var an=this.assignments.dataResourceIdField;var ao=false;var ae=new L(ad.view()).filter({field:ap,operator:"eq",value:af}).toArray();var ah;var ak;var aq;while(ae.length){ah=ae[0];for(var am=0,ag=ai.length;am<ag;am++){ak=ai[am];if(ah.get(an)===ak.get("id")){aq=ai[am].get("value");this._updateAssignment(ah,aq);ai.splice(am,1);ao=true;break}}if(!ao){this._removeAssignment(ah)}ao=false;ae.shift()}for(var al=0,aj=ai.length;al<aj;al++){ak=ai[al];this._createAssignment(ak,af)}ad.sync()},cancelTask:function(){var ae=this._editor;var ad=ae.container;if(ad){ae.close()}},editTask:function(ae){var ad=typeof ae==="string"?this.dataSource.getByUid(ae):ae;if(!ad){return}var af=this.dataSource._createNewModel(ad.toJSON());af.uid=ad.uid;this.cancelTask();this._editTask(af)},_editTask:function(ad){this._editor.editTask(ad)},saveTask:function(ae,ag){var ah=this._editor;var ad=ah.container;var af=ah.editable;if(ad&&af&&af.end()){this._updateTask(ae,ag)}},_updateTask:function(ad,ae){var af=this.resources.field;if(!this.trigger("save",{task:ad,values:ae})){this._preventRefresh=true;this.dataSource.update(ad,ae);if(ae[af]){this._updateAssignments(ad.get("id"),ae[af])}this._syncDataSource()}},_updateAssignment:function(af,ad){var ae=this.assignments.dataValueField;af.set(ae,ad)},removeTask:function(ae){var af=this;var ad=typeof ae==="string"?this.dataSource.getByUid(ae):ae;if(!ad){return}this._taskConfirm(function(ag){if(!ag){af._removeTask(ad)}},ad)},_createTask:function(ad,ae){if(!this.trigger("add",{task:ad,dependency:null})){var af=this.dataSource;this._preventRefresh=true;if(ae===o){af.add(ad)}else{af.insert(ae,ad)}this._scrollToUid=ad.uid;this._syncDataSource()}},_createDependency:function(ad){if(!this.trigger("add",{task:null,dependency:ad})){this._preventDependencyRefresh=true;this.dependencies.add(ad);this._preventDependencyRefresh=false;this.dependencies.sync()}},_createAssignment:function(ag,ak){var ae=this.assignments;var ai=ae.dataSource;var af=ae.dataTaskIdField;var aj=ae.dataResourceIdField;var ad=ae.dataValueField;var ah=ai._createNewModel();ah[af]=ak;ah[aj]=ag.get("id");ah[ad]=ag.get("value");ai.add(ah)},removeDependency:function(ae){var af=this;var ad=typeof ae==="string"?this.dependencies.getByUid(ae):ae;if(!ad){return}this._dependencyConfirm(function(ag){if(!ag){af._removeDependency(ad)}},ad)},_removeTaskDependencies:function(ad,ag){this._preventDependencyRefresh=true;for(var ae=0,af=ag.length;ae<af;ae++){this.dependencies.remove(ag[ae])}this._preventDependencyRefresh=false;this.dependencies.sync()},_removeTaskAssignments:function(ae){var ai=this.assignments.dataSource;var ad=ai.view();var ag={field:this.assignments.dataTaskIdField,operator:"eq",value:ae.get("id")};ad=new L(ad).filter(ag).toArray();this._preventRefresh=true;for(var af=0,ah=ad.length;af<ah;af++){ai.remove(ad[af])}this._preventRefresh=false;ai.sync()},_removeTask:function(ad){var ae=this.dependencies.dependencies(ad.id);if(!this.trigger("remove",{task:ad,dependencies:ae})){this._removeTaskDependencies(ad,ae);this._removeTaskAssignments(ad);this._preventRefresh=true;if(this.dataSource.remove(ad)){this._syncDataSource()}this._preventRefresh=false}},_removeDependency:function(ad){if(!this.trigger("remove",{task:null,dependencies:[ad]})){if(this.dependencies.remove(ad)){this.dependencies.sync()}}},_removeAssignment:function(ad){this.assignments.dataSource.remove(ad)},_taskConfirm:function(af,ad){var ae=this.options.messages;this._confirm(af,{model:ad,text:ae.deleteTaskConfirmation,title:ae.deleteTaskWindowTitle})},_dependencyConfirm:function(af,ad){var ae=this.options.messages;this._confirm(af,{model:ad,text:ae.deleteDependencyConfirmation,title:ae.deleteDependencyWindowTitle})},_confirm:function(ah,ad){var ae=this.options.editable;var ag;var af;if(ae===true||ae.confirmation!==false){ag=this.options.messages;af=[{name:"delete",text:ag.destroy,className:F.styles.primary,click:function(){ah()}},{name:"cancel",text:ag.cancel,click:function(){ah(true)}}];this.showDialog(n(true,{},ad,{buttons:af}))}else{ah()}},showDialog:function(ad){this._editor.showDialog(ad)},refresh:function(ah){if(this._preventRefresh||this.list.editable){return}this._progress(false);var aj=this.dataSource;var ag=aj.taskTree();var ai=this._scrollToUid;var af;var ae;var ad=-1;if(this.current){ae=this.current.closest("tr").attr(I.attr("uid"));ad=this.current.index()}if(this.trigger("dataBinding")){return}if(this.resources.dataSource.data().length!==0){this._assignResources(ag)}if(this._editor){this._editor.close()}this.clearSelection();this.list._render(ag);this.timeline._render(ag);this.timeline._renderDependencies(this.dependencies.view());if(ai){this._scrollTo(ai);this.select(j(ai))}if((ai||ae)&&ad>=0){af=this.list.content.find("tr"+j((ai||ae))+" > td:eq("+ad+")");this._current(af)}this._scrollToUid=null;this.trigger("dataBound")},refreshDependencies:function(ad){if(this._preventDependencyRefresh){return}if(this.trigger("dataBinding")){return}this.timeline._renderDependencies(this.dependencies.view());this.trigger("dataBound")},_assignResources:function(ad){var al=this;var ah=this.resources;var ae=this.assignments;var am=function(){var an=ae.dataSource.view();var ao={field:ae.dataTaskIdField};an=new L(an).group(ao).toArray();return an};var ai=am();var ak=function(an,ar){var ap=an.get("id");I.setter(ah.field)(an,new r([]));for(var ao=0,aq=ai.length;ao<aq;ao++){if(ai[ao].value===ap){ar(an,ai[ao].items)}}};var af=function(ao,au){for(var aq=0,an=au.length;aq<an;aq++){var aw=au[aq];var ap=ah.dataSource.get(aw.get(ae.dataResourceIdField));var av=aw.get(ae.dataValueField);var ax=aw.get(ae.dataResourceIdField);var at=ap.get(ah.dataFormatField)||a;var ar=I.toString(av,at);ao[ah.field].push(new p({id:ax,name:ap.get(ah.dataTextField),color:ap.get(ah.dataColorField),value:av,formatedValue:ar}))}};for(var aj=0,ag=ad.length;aj<ag;aj++){ak(ad[aj],af)}},_wrapResourceData:function(ae){var ak=this;var am=[];var ah;var ag=this.resources.dataSource.view();var ad=this.assignments.dataSource.view();var ai=new L(ad).filter({field:ak.assignments.dataTaskIdField,operator:"eq",value:ae}).toArray();var al=function(ao){var an=null;new L(ai).filter({field:ak.assignments.dataResourceIdField,operator:"eq",value:ao}).select(function(ap){an+=ap.get(ak.assignments.dataValueField)});return an};for(var aj=0,af=ag.length;aj<af;aj++){ah=ag[aj];am.push({id:ah.get("id"),name:ah.get(ak.resources.dataTextField),format:ah.get(ak.resources.dataFormatField)||a,value:al(ah.id)})}return am},_syncDataSource:function(){this._preventRefresh=false;this._requestStart();this.dataSource.sync()},_requestStart:function(){this._progress(true)},_error:function(){this._progress(false)},_progress:function(ad){I.ui.progress(this.element,ad)},_resizable:function(){var ag=this;var ae=this.wrapper;var ah=F.styles;var aj=x+ah.gridContent;var ai=ae.find(x+ah.list);var al=ae.find(x+ah.timeline);var af;var ak;var ad;this._resizeDraggable=ae.find(x+ah.splitBar).height(ai.height()).hover(function(am){H(this).addClass(ah.splitBarHover)},function(am){H(this).removeClass(ah.splitBarHover)}).end().kendoResizable({orientation:"horizontal",handle:x+ah.splitBar,start:function(am){af=ai.width();ak=al.width();ad=al.find(aj).scrollLeft()},resize:function(am){var an=am.x.initialDelta;if(I.support.isRtl(ae)){an*=-1}if(af+an<0||ak-an<0){return}ai.width(af+an);al.width(ak-an);al.find(aj).scrollLeft(ad+an);ag.timeline.view()._renderCurrentTime()}}).data("kendoResizable")},_scrollable:function(){var ag=F.styles;var ae=x+ag.gridContent;var af=x+ag.gridHeaderWrap;var ah=this.timeline.element;var ad=this.list.element;ah.find(ae).on("scroll",function(ai){ah.find(af).scrollLeft(this.scrollLeft);ad.find(ae).scrollTop(this.scrollTop)});ad.find(ae).on("scroll",function(ai){ad.find(af).scrollLeft(this.scrollLeft)}).on("DOMMouseScroll"+J+" mousewheel"+J,function(ak){var ai=ah.find(ae);var aj=ai.scrollTop();var al=I.wheelDeltaY(ak);if(al){ak.preventDefault();H(ak.currentTarget).one("wheel"+J,false);ai.scrollTop(aj+(-al))}})},_navigatable:function(){var ah=this;var ao=this.options.navigatable;var ae=this.options.editable;var ar=this.list.header.find("table");var at=this.list.content.find("table");var am=F.styles;var ak=I.support.isRtl(this.wrapper);var af=this.timeline.element.find(x+am.gridContent);var au=ar.add(at);var aj=j();var al;var ad={collapse:false,expand:true};var aq=function(av){var aw=ah.timeline.view()._timeSlots()[0].offsetWidth;af.scrollLeft(af.scrollLeft()+(av?-aw:aw))};var ag=function(ay){var aw=ah.current.parent("tr"+j());var av=ah.current.index();var ax=aw[ay]();if(ah.select().length!==0){ah.clearSelection()}if(ax.length!==0){ah._current(ax.children("td:eq("+av+")"));ah._scrollTo(ah.current)}else{if(ah.current.is("td")&&ay=="prev"){b(ar)}else{if(ah.current.is("th")&&ay=="next"){b(at)}}}};var ap=function(aw){var av=ah.current[aw]();if(av.length!==0){ah._current(av);al=ah.current.index()}};var an=function(aw){var av=ah.dataItem(ah.current);if(av.summary&&av.expanded!==aw){av.set("expanded",aw)}};var ai=function(){if(!ah.options.editable||ah.list.editable){return}var av=ah.select();var aw=I.attr("uid");if(av.length){ah.removeTask(av.attr(aw))}};H(this.wrapper).on("mousedown"+J,"tr"+aj+", div"+aj+":not("+x+am.line+")",function(ay){var ax=H(ay.currentTarget);var av=H(ay.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap");var aw;if(ay.ctrlKey){return}if(ao){if(ax.is("tr")){aw=H(ay.target).closest("td")}else{aw=ah.list.content.find("tr"+j(ax.attr(I.attr("uid")))+" > td:first")}ah._current(aw)}if((ao||ae)&&!av){ah._focusTimeout=setTimeout(function(){b(ah.list.content.find("table"),true)},2)}});if(ao!==true){at.on("keydown"+J,function(av){if(av.keyCode==C.DELETE){ai()}});return}au.on("focus"+J,function(az){var av=this===at.get(0)?"td":"th";var ax=H(this);var aw=ah.select();var ay=ah.current||H((aw.length?aw:this)).find(av+":eq("+(al||0)+")");ah._current(ay)}).on("blur"+J,function(){ah._current();if(this==ar){H(this).attr(B,-1)}}).on("keydown"+J,function(ax){var aw=ax.keyCode;var av;if(!ah.current){return}av=ah.current.is("td");switch(aw){case C.RIGHT:ax.preventDefault();if(ax.altKey){aq()}else{if(ax.ctrlKey){an(ak?ad.collapse:ad.expand)}else{ap(ak?"prev":"next")}}break;case C.LEFT:ax.preventDefault();if(ax.altKey){aq(true)}else{if(ax.ctrlKey){an(ak?ad.expand:ad.collapse)}else{ap(ak?"next":"prev")}}break;case C.UP:ax.preventDefault();ag("prev");break;case C.DOWN:ax.preventDefault();ag("next");break;case C.SPACEBAR:ax.preventDefault();if(av){ah.select(ah.current.closest("tr"))}break;case C.ENTER:ax.preventDefault();if(av){if(ah.options.editable){ah._cachedCurrent=ah.current;ah.list._startEditHandler(ah.current);ax.stopPropagation()}}else{ah.current.children("a.k-link").click()}break;case C.ESC:ax.stopPropagation();break;case C.DELETE:if(av){ai()}break;default:if(aw>=49&&aw<=57){ah.view(ah.timeline._viewByIndex(aw-49))}break}})},_current:function(ad){var af=F.styles;var ae;if(this.current&&this.current.length){this.current.removeClass(af.focused).removeAttr("id")}if(ad&&ad.length){this.current=ad.addClass(af.focused).attr("id",D);ae=H(I._activeElement());if(ae.is("table")&&this.wrapper.find(ae).length>0){ae.removeAttr(O).attr(O,D)}}else{this.current=null}},_dataBind:function(){var ae=this;if(ae.options.autoBind){this._preventRefresh=true;this._preventDependencyRefresh=true;var ad=H.map([this.dataSource,this.dependencies,this.resources.dataSource,this.assignments.dataSource],function(af){return af.fetch()});H.when.apply(null,ad).done(function(){ae._preventRefresh=false;ae._preventDependencyRefresh=false;ae.refresh()})}},_resize:function(){this._adjustDimensions();this.timeline.view()._adjustHeight();this.timeline.view()._renderCurrentTime();this.list._adjustHeight()}});if(I.PDFMixin){I.PDFMixin.extend(F.fn);F.fn._drawPDF=function(){var ad="."+w.list;var af=this.wrapper.find(ad).width();var ae=this.wrapper.clone();ae.find(ad).css("width",af);return this._drawPDFShadow({content:ae})}}I.ui.plugin(F);n(true,F,{styles:w})})(window.kendo.jQuery);(function(x,f){var ad=kendo.data;var e=x.extend;var i=kendo.dom;var J=i.element;var R=i.text;var h=i.html;var I=kendo.ui;var u=I.DataBoundWidget;var D=ad.DataSource;var j=ad.ObservableArray;var E=ad.Query;var W=ad.Model;var Y=x.proxy;var t=x.map;var ae=x.grep;var ab=x.inArray;var ag=x.isPlainObject;var T=Array.prototype.push;var Z="string";var v="change";var z="error";var p="progress";var l=".";var C=".kendoTreeList";var N="click";var F="mousedown";var M="edit";var O="save";var B="expand";var o="collapse";var b="remove";var V="dataBinding";var d="dataBound";var H="cancel";var s="filterMenuInit";var g="columnHide";var c="columnShow";var Q="th.k-header";var aa="columnReorder";var P="columnResize";var af="columnMenuInit";var r="columnLock";var L="columnUnlock";var n={wrapper:"k-treelist k-grid k-widget",header:"k-header",button:"k-button",alt:"k-alt",editCell:"k-edit-cell",group:"k-treelist-group",gridToolbar:"k-grid-toolbar",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",gridFilter:"k-grid-filter",footerTemplate:"k-footer-template",loading:"k-loading",refresh:"k-i-refresh",retry:"k-request-retry",selected:"k-state-selected",status:"k-status",link:"k-link",withIcon:"k-with-icon",filterable:"k-filterable",icon:"k-icon",iconFilter:"k-filter",iconCollapse:"k-i-collapse",iconExpand:"k-i-expand",iconHidden:"k-i-none",iconPlaceHolder:"k-icon k-i-none",input:"k-input",dropPositions:"k-insert-top k-insert-bottom k-add k-insert-middle",dropTop:"k-insert-top",dropBottom:"k-insert-bottom",dropAdd:"k-add",dropMiddle:"k-insert-middle",dropDenied:"k-denied",dragStatus:"k-drag-status",dragClue:"k-drag-clue",dragClueText:"k-clue-text"};var G={create:{imageClass:"k-add",className:"k-grid-add",methodName:"addRow"},createchild:{imageClass:"k-add",className:"k-grid-add",methodName:"addRow"},destroy:{imageClass:"k-delete",className:"k-grid-delete",methodName:"removeRow"},edit:{imageClass:"k-edit",className:"k-grid-edit",methodName:"editRow"},update:{imageClass:"k-update",className:"k-primary k-grid-update",methodName:"saveRow"},canceledit:{imageClass:"k-cancel",className:"k-grid-cancel",methodName:"_cancelEdit"},excel:{imageClass:"k-i-excel",className:"k-grid-excel",methodName:"saveAsExcel"},pdf:{imageClass:"k-i-pdf",className:"k-grid-pdf",methodName:"saveAsPDF"}};var ac=W.define({id:"id",fields:{id:{type:"number"},parentId:{type:"number",nullable:true}},init:function(ah){W.fn.init.call(this,ah);this._loaded=false},loaded:function(ah){if(ah!==f){this._loaded=ah}else{return this._loaded}},shouldSerialize:function(ah){return W.fn.shouldSerialize.call(this,ah)&&ah!=="_loaded"&&ah!="_error"&&ah!="_edit"}});function q(ah){return function(ai){return ai[ah]}}function U(ah){return function(ai){return !ah(ai)}}var S=D.extend({init:function(ah){D.fn.init.call(this,e(true,{},{schema:{modelBase:ac,model:ac}},ah))},_createNewModel:function(aj){var ah={};var ai=aj instanceof W;if(ai){ah=aj}ah=D.fn._createNewModel.call(this,ah);if(!ai){ah.accept(aj)}return ah},_shouldWrap:function(ah){return true},_readData:function(ah){var ai=this.data();ah=D.fn._readData.call(this,ah);this._concat(ah,ai);if(ah instanceof j){return ah}return ai},_concat:function(aj,ak){var ai=ak.length;for(var ah=0;ah<aj.length;ah++){ak[ai++]=aj[ah]}ak.length=ai},_readAggregates:function(ai){var ah=e(this._aggregateResult,this.reader.aggregates(ai));if("" in ah){ah[this._defaultParentId()]=ah[""];delete ah[""]}return ah},remove:function(ah){var ai=this._subtree(this._childrenMap(this.data()),ah.id);this._removeItems(ai);D.fn.remove.call(this,ah)},_filterCallback:function(al){var ai,aj;var am={};var ah=[];var ak=al.toArray();for(ai=0;ai<ak.length;ai++){aj=ak[ai];while(aj){if(!am[aj.id]){am[aj.id]=true;ah.push(aj)}if(!am[aj.parentId]){am[aj.parentId]=true;aj=this.parentNode(aj);if(aj){ah.push(aj)}}else{break}}}return new E(ah)},_subtree:function(ak,am){var ai=ak[am]||[];var al=this._defaultParentId();for(var aj=0,ah=ai.length;aj<ah;aj++){if(ai[aj].id!==al){ai=ai.concat(this._subtree(ak,ai[aj].id))}}return ai},_childrenMap:function(aj){var ak={};var ah,ai,am,al;aj=this._observeView(aj);for(ah=0;ah<aj.length;ah++){ai=aj[ah];am=ai.id;al=ai.parentId;ak[am]=ak[am]||[];ak[al]=ak[al]||[];ak[al].push(ai)}return ak},_calculateAggregates:function(ak,ap){ap=ap||{};var aq={};var ao,an,al,aj,am;var ai=ap.filter;if(ai){ak=E.process(ak,{filter:ai,filterCallback:Y(this._filterCallback,this)}).data}var ah=this._childrenMap(ak);aq[this._defaultParentId()]=new E(this._subtree(ah,this._defaultParentId())).aggregate(ap.aggregate);for(al=0;al<ak.length;al++){ao=ak[al];an=this._subtree(ah,ao.id);aq[ao.id]=new E(an).aggregate(ap.aggregate)}return aq},_queryProcess:function(aj,ao){ao=ao||{};ao.filterCallback=Y(this._filterCallback,this);var am=this._defaultParentId();var ap=E.process(aj,ao);var ah=this._childrenMap(ap.data);var al,ak,an,ai;aj=ah[am]||[];for(ak=0;ak<aj.length;ak++){an=aj[ak];if(an.id===am){continue}ai=ah[an.id];al=!!(ai&&ai.length);if(!an.loaded()){an.loaded(al||!an.hasChildren)}if(an.loaded()||an.hasChildren!==true){an.hasChildren=al}if(al){aj=aj.slice(0,ak+1).concat(ai,aj.slice(ak+1))}}ap.data=aj;return ap},_queueRequest:function(ah,ai){ai.call(this)},_modelLoaded:function(ai){var ah=this.get(ai);ah.loaded(true);ah.hasChildren=this.childNodes(ah).length>0},_modelError:function(ai,ah){this.get(ai)._error=ah},success:function(ai,ah){if(!ah||!ah.id){this._data=this._observe([])}return D.fn.success.call(this,ai,ah)},load:function(ah){var ak="_query";var aj=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates;var ai=x.Deferred().resolve().promise();if(ah.loaded()){if(aj){return ai}}else{if(ah.hasChildren){ak="read"}}return this[ak]({id:ah.id}).then(Y(this._modelLoaded,this,ah.id),Y(this._modelError,this,ah.id))},contains:function(ai,aj){var ah=ai.id;while(aj){if(aj.parentId===ah){return true}aj=this.parentNode(aj)}return false},_byParentId:function(am,aj){var ah=[];var ai=this.view();var al;if(am===aj){return[]}for(var ak=0;ak<ai.length;ak++){al=ai.at(ak);if(al.parentId==am){ah.push(al)}}return ah},_defaultParentId:function(){return this.reader.model.fn.defaults.parentId},childNodes:function(ah){return this._byParentId(ah.id,this._defaultParentId())},rootNodes:function(){return this._byParentId(this._defaultParentId())},parentNode:function(ah){return this.get(ah.parentId)},level:function(ai){var ah=-1;if(!(ai instanceof ac)){ai=this.get(ai)}do{ai=this.parentNode(ai);ah++}while(ai);return ah},filter:function(ai){var ah=D.fn.filter;if(ai===f){return ah.call(this,ai)}ah.call(this,ai)}});S.create=function(ah){if(x.isArray(ah)){ah={data:ah}}else{if(ah instanceof j){ah={data:ah.toJSON()}}}return ah instanceof S?ah:new S(ah)};function A(){return this.style.display!=="none"}function K(ah){var al=ah.find(">tr:not(.k-filter-row)");var aj=function(){var am=x(this);return !am.hasClass("k-group-cell")&&!am.hasClass("k-hierarchy-cell")};var ai=x();if(al.length>1){ai=al.find("th").filter(aj).filter(function(){return this.rowSpan>1})}ai=ai.add(al.last().find("th").filter(aj));var ak=kendo.attr("index");ai.sort(function(an,am){an=x(an);am=x(am);var ap=an.attr(ak);var ao=am.attr(ak);if(ap===f){ap=x(an).index()}if(ao===f){ao=x(am).index()}ap=parseInt(ap,10);ao=parseInt(ao,10);return ap>ao?1:(ap<ao?-1:0)});return ai}function k(ah){var aj=[];var ak=ah.className;for(var ai=0,al=ah.level;ai<al;ai++){aj.push(J("span",{className:ak}))}return aj}function a(al){var aj,ai=0;for(var ah=0,ak=al.length;ah<ak;ah++){aj=al[ah].style.width;if(aj&&aj.indexOf("%")==-1){ai+=parseInt(aj,10)}}return ai}function X(aj,ai){aj=aj[0];ai=ai[0];if(aj.rows.length!==ai.rows.length){var ah=aj.offsetHeight;var ak=ai.offsetHeight;var am;var al;if(ah>ak){am=ai.rows[ai.rows.length-1];al=ah-ak}else{am=aj.rows[aj.rows.length-1];al=ak-ah}am.style.height=am.offsetHeight+al+"px"}}var m=kendo.Observable.extend({init:function(ai,ah){kendo.Observable.fn.init.call(this);ah=this.options=e(true,{},this.options,ah);this.element=ai;this.bind(this.events,ah);this.model=this.options.model;this.fields=this._fields(this.options.columns);this._initContainer();this.createEditable()},events:[],_initContainer:function(){this.wrapper=this.element},createEditable:function(){var ah=this.options;this.editable=new I.Editable(this.wrapper,{fields:this.fields,target:ah.target,clearContainer:ah.clearContainer,model:this.model})},_isEditable:function(ah){return ah.field&&this.model.editable(ah.field)},_fields:function(aj){var ai=[];var ah,al,ak;for(ah=0,al=aj.length;ah<al;ah++){ak=aj[ah];if(this._isEditable(ak)){ai.push({field:ak.field,format:ak.format,editor:ak.editor})}}return ai},end:function(){return this.editable.end()},close:function(){this.destroy()},destroy:function(){this.editable.destroy();this.editable.element.find("["+kendo.attr("container-for")+"]").empty().end().removeAttr(kendo.attr("role"));this.model=this.wrapper=this.element=this.columns=this.editable=null}});var w=m.extend({init:function(ai,ah){m.fn.init.call(this,ai,ah);this._attachHandlers();kendo.cycleForm(this.wrapper);this.open()},events:[H,O],options:{window:{modal:true,resizable:false,draggable:true,title:"Edit",visible:false}},_initContainer:function(){var ah=this.options;var ai=[];this.wrapper=x('<div class="k-popup-edit-form"/>').attr(kendo.attr("uid"),this.model.uid).append('<div class="k-edit-form-container"/>');if(ah.template){this._appendTemplate(ai);this.fields=[]}else{this._appendFields(ai)}this._appendButtons(ai);new i.Tree(this.wrapper.children()[0]).render(ai);this.wrapper.appendTo(ah.appendTo);this.window=new I.Window(this.wrapper,ah.window)},_appendTemplate:function(ai){var ah=this.options.template;if(typeof ah===Z){ah=window.unescape(ah)}ah=kendo.template(ah)(this.model);ai.push(h(ah))},_appendFields:function(am){var ah,al,ak;var ai=this.model;var aj=this.options.columns;for(ah=0,al=aj.length;ah<al;ah++){ak=aj[ah];if(ak.command){continue}am.push(h('<div class="k-edit-label"><label for="'+ak.field+'">'+(ak.title||ak.field||"")+"</label></div>"));if(this._isEditable(ak)){am.push(h("<div "+kendo.attr("container-for")+'="'+ak.field+'" class="k-edit-field"></div>'))}else{am.push(J("div",{"class":"k-edit-field"},[this.options.fieldRenderer(ak,this.model)]))}}},_appendButtons:function(ah){ah.push(J("div",{"class":"k-edit-buttons k-state-default"},this.options.commandRenderer()))},_attachHandlers:function(){var ah=this._cancelProxy=Y(this._cancel,this);this.wrapper.on(N+C,".k-grid-cancel",this._cancelProxy);this._saveProxy=Y(this._save,this);this.wrapper.on(N+C,".k-grid-update",this._saveProxy);this.window.bind("close",function(ai){if(ai.userTriggered){ah(ai)}})},_dettachHandlers:function(){this._cancelProxy=null;this._saveProxy=null;this.wrapper.off(C)},_cancel:function(ah){this.trigger(H,ah)},_save:function(ah){this.trigger(O)},open:function(){this.window.center().open()},close:function(){this.window.bind("deactivate",Y(this.destroy,this)).close()},destroy:function(){this.window.destroy();this.window=null;this._dettachHandlers();m.fn.destroy.call(this)}});var y=u.extend({init:function(ai,ah){u.fn.init.call(this,ai,ah);this._dataSource(this.options.dataSource);this._columns();this._layout();this._selectable();this._sortable();this._resizable();this._filterable();this._attachEvents();this._toolbar();this._scrollable();this._reorderable();this._columnMenu();this._minScreenSupport();this._draggable();if(this.options.autoBind){this.dataSource.fetch()}if(this._hasLockedColumns){var aj=this;this.wrapper.addClass("k-grid-lockedcolumns");this._resizeHandler=function(){aj.resize()};x(window).on("resize"+C,this._resizeHandler)}kendo.notify(this)},_draggable:function(){var ah=this.options.editable;if(!ah||!ah.move){return}this._dragging=new kendo.ui.HierarchicalDragAndDrop(this.wrapper,{$angular:this.$angular,autoScroll:true,filter:"tbody>tr",itemSelector:"tr",allowedContainers:"#"+this.wrapper.attr("id"),hintText:function(ak){var aj=function(){return x(this).text()};var ai="<span class='k-header k-drag-separator' />";return ak.children("td").map(aj).toArray().join(ai)},contains:Y(function(ak,ai){var aj=this.dataItem(ai);var al=this.dataItem(ak);return al==aj||this.dataSource.contains(al,aj)},this),itemFromTarget:function(aj){var ai=aj.closest("tr");return{item:ai,content:ai}},dragstart:Y(function(){this.wrapper.addClass("k-treelist-dragging")},this),drop:Y(function(){this.wrapper.removeClass("k-treelist-dragging")},this),dragend:Y(function(aj){var ai=this.dataItem(aj.destination);var ak=this.dataItem(aj.source);ak.set("parentId",ai?ai.id:null)},this),reorderable:false,dropHintContainer:function(ai){return ai.children("td:eq(1)")},dropPositionFrom:function(ai){return ai.prevAll(".k-i-none").length>0?"after":"before"}})},_scrollable:function(){if(this.options.scrollable){var ai=this.thead.closest(".k-grid-header-wrap");var aj=x(this.lockedContent).bind("DOMMouseScroll"+C+" mousewheel"+C,Y(this._wheelScroll,this));this.content.bind("scroll"+C,function(){ai.scrollLeft(this.scrollLeft);aj.scrollTop(this.scrollTop)});var ah=kendo.touchScroller(this.content);if(ah&&ah.movable){this._touchScroller=ah;ah.movable.bind("change",function(ak){ai.scrollLeft(-ak.sender.x);if(aj){aj.scrollTop(-ak.sender.y)}})}}},_wheelScroll:function(ah){if(ah.ctrlKey){return}var ai=kendo.wheelDeltaY(ah);if(ai){ah.preventDefault();x(ah.currentTarget).one("wheel"+C,false);this.content.scrollTop(this.content.scrollTop()+(-ai))}},_progress:function(){var ah=this.options.messages;if(!this.tbody.find("tr").length){this._showStatus(kendo.template("<span class='#= className #' /> #: messages.loading #")({className:n.icon+" "+n.loading,messages:ah}))}},_error:function(ah){if(!this.dataSource.rootNodes().length){this._render({error:ah})}},refresh:function(ah){ah=ah||{};if(ah.action=="itemchange"&&this.editor){return}if(this.trigger(V)){return}this._cancelEditor();this._render();this._adjustHeight();this.trigger(d)},_angularFooters:function(ak){var aj,am,al;var ah=this.dataSource.aggregates();var ai=this._footerItems();for(aj=0;aj<ai.length;aj++){am=ai.eq(aj);al=ah[am.attr("data-parentId")];this._angularFooter(ak,am.find("td").get(),al)}},_angularFooter:function(aj,ah,ak){var ai=this.columns;this.angular(aj,function(){return{elements:ah,data:t(ai,function(al,am){return{column:al,aggregate:ak&&ak[al.field]}})}})},items:function(){if(this._hasLockedColumns){return this._items(this.tbody).add(this._items(this.lockedTable))}else{return this._items(this.tbody)}},_items:function(ah){return ah.find("tr").filter(function(){return !x(this).hasClass(n.footerTemplate)})},_footerItems:function(){var ah=this.tbody;if(this._hasLockedColumns){ah=ah.add(this.lockedTable)}return ah.find("tr").filter(function(){return x(this).hasClass(n.footerTemplate)})},dataItems:function(){var ah=kendo.ui.DataBoundWidget.fn.dataItems.call(this);if(this._hasLockedColumns){var ak=ah.length,aj=new Array(2*ak);for(var ai=ak;--ai>=0;){aj[ai]=aj[ai+ak]=ah[ai]}ah=aj}return ah},_showStatus:function(aj){var ah=this.element.find(".k-status");var ai=x(this.content).add(this.lockedContent);if(!ah.length){ah=x("<div class='k-status' />").appendTo(this.element)}this._contentTree.render([]);if(this._hasLockedColumns){this._lockedContentTree.render([])}ai.hide();ah.html(aj)},_hideStatus:function(){this.element.find(".k-status").remove();x(this.content).add(this.lockedContent).show()},_adjustHeight:function(){var ai=this.element;var an=ai.find(l+n.gridContentWrap);var am=ai.find(l+n.gridHeader);var aj=ai.find(l+n.gridToolbar);var ah;var al=kendo.support.scrollbar();ai.height(this.options.height);var ak=function(aq){var ap,ao;if(aq[0].style.height){return true}else{ap=aq.height()}aq.height("auto");ao=aq.height();aq.height("");return(ap!=ao)};if(ak(ai)){ah=ai.height()-am.outerHeight()-aj.outerHeight();an.height(ah);if(this._hasLockedColumns){al=this.table[0].offsetWidth>this.table.parent()[0].clientWidth?al:0;this.lockedContent.height(ah-al)}}},_resize:function(){this._applyLockedContainersWidth();this._adjustHeight()},_minScreenSupport:function(){var ah=this.hideMinScreenCols();if(ah){this.minScreenResizeHandler=Y(this.hideMinScreenCols,this);x(window).on("resize",this.minScreenResizeHandler)}},hideMinScreenCols:function(){var am=this.columns,al=false,ak=(window.innerWidth>0)?window.innerWidth:screen.width;for(var ai=0;ai<am.length;ai++){var ah=am[ai];var aj=ah.minScreenWidth;if(aj!==f&&aj!==null){al=true;if(aj>ak){this.hideColumn(ah)}else{this.showColumn(ah)}}}return al},destroy:function(){u.fn.destroy.call(this);var ah=this.dataSource;ah.unbind(v,this._refreshHandler);ah.unbind(z,this._errorHandler);ah.unbind(p,this._progressHandler);if(this._resizeHandler){x(window).off("resize"+C,this._resizeHandler)}if(this._dragging){this._dragging.destroy();this._dragging=null}if(this.resizable){this.resizable.destroy();this.resizable=null}if(this.reorderable){this.reorderable.destroy();this.reorderable=null}if(this._draggableInstance&&this._draggableInstance.element){this._draggableInstance.destroy();this._draggableInstance=null}if(this.minScreenResizeHandler){x(window).off("resize",this.minScreenResizeHandler)}this._destroyEditor();this.element.off(C);if(this._touchScroller){this._touchScroller.destroy()}this._autoExpandable=null;this._refreshHandler=this._errorHandler=this._progressHandler=null;this.thead=this.content=this.tbody=this.table=this.element=this.lockedHeader=this.lockedContent=null;this._statusTree=this._headerTree=this._contentTree=this._lockedHeaderColsTree=this._lockedContentColsTree=this._lockedHeaderTree=this._lockedContentTree=null},options:{name:"TreeList",columns:[],autoBind:true,scrollable:true,selectable:false,sortable:false,toolbar:null,height:null,columnMenu:false,messages:{noRows:"No records to display",loading:"Loading...",requestFailed:"Request failed.",retry:"Retry",commands:{edit:"Edit",update:"Update",canceledit:"Cancel",create:"Add new record",createchild:"Add child record",destroy:"Delete",excel:"Export to Excel",pdf:"Export to PDF"}},excel:{hierarchy:true},resizable:false,filterable:false,editable:false,reorderable:false},events:[v,M,O,b,B,o,V,d,H,s,g,c,aa,P,af,r,L],_toggle:function(ai,aj){var ah=ai.loaded();if(ai._error){ai.expanded=false;ai._error=f}if(!ah&&ai.expanded){return}if(typeof aj=="undefined"){aj=!ai.expanded}ai.expanded=aj;if(!ah){this.dataSource.load(ai).always(Y(function(){this._render();this._syncLockedContentHeight()},this))}this._render();this._syncLockedContentHeight()},expand:function(ah){this._toggle(this.dataItem(ah),true)},collapse:function(ah){this._toggle(this.dataItem(ah),false)},_toggleChildren:function(ak){var ai=x(ak.currentTarget);var ah=this.dataItem(ai);var aj=!ah.expanded?B:o;if(!this.trigger(aj,{model:ah})){this._toggle(ah)}ak.preventDefault()},_attachEvents:function(){var ai=l+n.iconCollapse+", ."+n.iconExpand+", ."+n.refresh;var ah=l+n.retry;var aj=this.dataSource;this.element.on(F+C,ai,Y(this._toggleChildren,this)).on(N+C,ah,Y(aj.fetch,aj)).on(N+C,".k-button[data-command]",Y(this._commandClick,this))},_commandByName:function(ak){var am=this.columns;var an=x.isArray(this.options.toolbar)?this.options.toolbar:[];var al,aj,ah,ai;ak=ak.toLowerCase();if(G[ak]){return G[ak]}for(al=0;al<am.length;al++){ah=am[al].command;if(ah){for(aj=0;aj<ah.length;aj++){ai=ah[aj].name;if(!ai){continue}if(ai.toLowerCase()==ak){return ah[aj]}}}}for(al=0;al<an.length;al++){ai=an[al].name;if(!ai){continue}if(ai.toLowerCase()==ak){return an[al]}}},_commandClick:function(aj){var ai=x(aj.currentTarget);var ah=ai.attr("data-command");var al=this._commandByName(ah);var ak=ai.parentsUntil(this.wrapper,"tr");ak=ak.length?ak:f;if(al){if(al.methodName){this[al.methodName](ak)}else{if(al.click){al.click.call(this,aj)}}aj.preventDefault()}},_ensureExpandableColumn:function(){if(this._autoExpandable){delete this._autoExpandable.expandable}var ah=ae(this.columns,U(q("hidden")));var ai=ae(ah,q("expandable"));if(this.columns.length&&!ai.length){this._autoExpandable=ah[0];ah[0].expandable=true}},_columns:function(){var ah=this.options.columns||[];this.columns=t(ah,function(aj){aj=(typeof aj==="string")?{field:aj}:aj;return e({encoded:true},aj)});var ai=this._lockedColumns();if(ai.length>0){this._hasLockedColumns=true;this.columns=ai.concat(this._nonLockedColumns())}this._ensureExpandableColumn();this._columnTemplates();this._columnAttributes()},_columnTemplates:function(){var ah,ak,aj;var ai=this.columns;for(ah=0,ak=ai.length;ah<ak;ah++){aj=ai[ah];if(aj.template){aj.template=kendo.template(aj.template)}if(aj.headerTemplate){aj.headerTemplate=kendo.template(aj.headerTemplate)}if(aj.footerTemplate){aj.footerTemplate=kendo.template(aj.footerTemplate)}}},_columnAttributes:function(){var ai,al,ak;var aj=this.columns;function ah(am){var ap,ao,aq;if(am&&am.style){ap=am.style.split(";");am.style={};for(ao=0;ao<ap.length;ao++){aq=ap[ao].split(":");var an=x.trim(aq[0]);if(an){am.style[x.camelCase(an)]=x.trim(aq[1])}}}}for(ai=0,al=aj.length;ai<al;ai++){ah(aj[ai].attributes);ah(aj[ai].headerAttributes)}},_layout:function(){var ai=this.columns;var ah=this.element;var ak="";this.wrapper=ah.addClass(n.wrapper);ak="<div class='#= gridHeader #' style=\"padding-right: "+kendo.support.scrollbar()+'px;">';if(this._hasLockedColumns){ak+="<div class='k-grid-header-locked'><table role='grid'><colgroup></colgroup><thead role='rowgroup' /></table></div>"}ak+="<div class='#= gridHeaderWrap #'><table role='grid'><colgroup></colgroup><thead role='rowgroup' /></table></div></div>";if(this._hasLockedColumns){ak+="<div class='k-grid-content-locked'><table role='treegrid' tabindex='0'><colgroup></colgroup><tbody /></table></div>"}ak+="<div class='#= gridContentWrap #'><table role='treegrid' tabindex='0'><colgroup></colgroup><tbody /></table></div>";if(!this.options.scrollable){ak="<table role='treegrid' tabindex='0'><colgroup></colgroup><thead class='#= gridHeader #' role='rowgroup' /><tbody /></table>"}if(this.options.toolbar){ak="<div class='#= header # #= gridToolbar #' />"+ak}ah.append(kendo.template(ak)(n)+"<div class='k-status' />");this.toolbar=ah.find(l+n.gridToolbar);var al=ah.find(l+n.gridHeader).find("thead").addBack().filter("thead");this.thead=al.last();var aj=ah.find(l+n.gridContentWrap);if(!aj.length){aj=ah}else{this.content=aj}this.table=aj.find(">table");this.tbody=this.table.find(">tbody");if(this._hasLockedColumns){this.lockedHeader=al.first().closest(".k-grid-header-locked");this.lockedContent=ah.find(".k-grid-content-locked");this.lockedTable=this.lockedContent.children()}this._initVirtualTrees();this._renderCols();this._renderHeader();this.angular("compile",function(){return{elements:al.find("th.k-header").get(),data:t(ai,function(am){return{column:am}})}})},_initVirtualTrees:function(){this._headerColsTree=new i.Tree(this.thead.prev()[0]);this._contentColsTree=new i.Tree(this.tbody.prev()[0]);this._headerTree=new i.Tree(this.thead[0]);this._contentTree=new i.Tree(this.tbody[0]);this._statusTree=new i.Tree(this.element.children(".k-status")[0]);if(this.lockedHeader){this._lockedHeaderColsTree=new i.Tree(this.lockedHeader.find("colgroup")[0]);this._lockedContentColsTree=new i.Tree(this.lockedTable.find(">colgroup")[0]);this._lockedHeaderTree=new i.Tree(this.lockedHeader.find("thead")[0]);this._lockedContentTree=new i.Tree(this.lockedTable.find(">tbody")[0])}},_toolbar:function(){var ah=this.options.toolbar;var aj=this.toolbar;if(!ah){return}if(x.isArray(ah)){var ai=this._buildCommands(ah);new i.Tree(aj[0]).render(ai)}else{aj.append(kendo.template(ah)({}))}this.angular("compile",function(){return{elements:aj.get()}})},_lockedColumns:function(){return ae(this.columns,q("locked"))},_nonLockedColumns:function(){return ae(this.columns,U(q("locked")))},_render:function(ah){ah=ah||{};var aj=this.options.messages;var ak=this.dataSource.rootNodes();var al=this.dataSource.aggregates();var ai=this.select().map(function(am,an){return x(an).attr("data-uid")});this._absoluteIndex=0;this._angularItems("cleanup");this._angularFooters("cleanup");if(ah.error){this._showStatus(kendo.template("#: messages.requestFailed # <button class='#= buttonClass #'>#: messages.retry #</button>")({buttonClass:[n.button,n.retry].join(" "),messages:aj}))}else{if(!ak.length){this._showStatus(kendo.htmlEncode(aj.noRows))}else{this._hideStatus();this._contentTree.render(this._trs({columns:this._nonLockedColumns(),aggregates:ah.aggregates,selected:ai,data:ak,visible:true,level:0}));if(this._hasLockedColumns){this._absoluteIndex=0;this._lockedContentTree.render(this._trs({columns:this._lockedColumns(),aggregates:ah.aggregates,selected:ai,data:ak,visible:true,level:0}))}}}if(this._touchScroller){this._touchScroller.contentResized()}this._angularItems("compile");this._angularFooters("compile");this._adjustRowsHeight()},_adjustRowsHeight:function(){if(!this._hasLockedColumns){return}var at=this.table;var ak=this.lockedTable;var av=at[0].rows;var ai=av.length;var aq;var al=ak[0].rows;var aj=at.add(ak);var ao=aj.length;var ap=[];var am=this.lockedHeader.find("tr");var an=this.thead.find("tr");am.add(an).height("auto").height(Math.max(am.height(),an.height()));for(aq=0;aq<ai;aq++){if(!al[aq]){break}if(av[aq].style.height){av[aq].style.height=al[aq].style.height=""}var ah=av[aq].offsetHeight;var au=al[aq].offsetHeight;var ar=0;if(ah>au){ar=ah}else{if(ah<au){ar=au}}ap.push(ar)}for(aq=0;aq<ao;aq++){aj[aq].style.display="none"}for(aq=0;aq<ai;aq++){if(ap[aq]){av[aq].style.height=al[aq].style.height=(ap[aq]+1)+"px"}}for(aq=0;aq<ao;aq++){aj[aq].style.display=""}},_ths:function(am){var ah=this.options.filterable;var ai=[];var al,ar,ak,aq,ao,ap;for(var an=0,aj=am.length;an<aj;an++){al=am[an];ak=[];aq=[n.header];if(al.headerTemplate){ar=al.headerTemplate({})}else{ar=al.title||al.field||""}if(al.headerTemplate){ap=h(ar)}else{ap=R(ar)}if(al.sortable){ak.push(J("a",{href:"#",className:n.link},[ap]))}else{ak.push(ap)}ao={"data-field":al.field,"data-title":al.title,style:al.hidden===true?{display:"none"}:{},className:aq.join(" "),role:"columnheader"};ao=e(true,{},ao,al.headerAttributes);ai.push(J("th",ao,ak))}return ai},_cols:function(aj){var al=[];var ak,ah;for(var ai=0;ai<aj.length;ai++){if(aj[ai].hidden===true){continue}ak=aj[ai].width;ah={};if(ak&&parseInt(ak,10)!==0){ah.style={width:typeof ak==="string"?ak:ak+"px"}}al.push(J("col",ah))}return al},_renderCols:function(){var ah=this._nonLockedColumns();this._headerColsTree.render(this._cols(ah));if(this.options.scrollable){this._contentColsTree.render(this._cols(ah))}if(this._hasLockedColumns){ah=this._lockedColumns();this._lockedHeaderColsTree.render(this._cols(ah));this._lockedContentColsTree.render(this._cols(ah))}},_renderHeader:function(){var ah=this._nonLockedColumns();this._headerTree.render([J("tr",{role:"row"},this._ths(ah))]);if(this._hasLockedColumns){ah=this._lockedColumns();this._lockedHeaderTree.render([J("tr",{role:"row"},this._ths(ah))]);this._applyLockedContainersWidth()}},_applyLockedContainersWidth:function(){if(!this._hasLockedColumns){return}var ai=a(this.lockedHeader.find(">table>colgroup>col"));var aj=this.thead.parent();var al=a(aj.find(">colgroup>col"));var ah=this.wrapper[0].clientWidth;var am=kendo.support.scrollbar();if(ai>=ah){ai=ah-3*am}this.lockedHeader.add(this.lockedContent).width(ai);aj.add(this.table).width(al);var ak=ah-ai-2;this.content.width(ak);aj.parent().width(ak-am)},_trs:function(aw){var ao,ar,at,ap,au,am,aj,an;var av=[];var ai=aw.level;var al=aw.data;var ah=this.dataSource;var aq=ah.aggregates()||{};var ak=aw.columns;for(am=0,aj=al.length;am<aj;am++){at=[];ao=al[am];au=ao.loaded()&&ah.childNodes(ao);ap=au&&au.length;ar={"data-uid":ao.uid,role:"row"};if(ap){ar["aria-expanded"]=!!ao.expanded}if(aw.visible){if(this._absoluteIndex%2!==0){at.push(n.alt)}this._absoluteIndex++}else{ar.style={display:"none"}}if(x.inArray(ao.uid,aw.selected)>=0){at.push(n.selected)}if(ap){at.push(n.group)}if(ao._edit){at.push("k-grid-edit-row")}ar.className=at.join(" ");av.push(this._tds({model:ao,attr:ar,level:ai},ak,Y(this._td,this)));if(ap){av=av.concat(this._trs({columns:ak,parentId:ao.id,aggregates:aq,selected:aw.selected,visible:aw.visible&&!!ao.expanded,data:au,level:ai+1}))}}if(this._hasFooterTemplate()){an=aw.parentId||null;ar={className:n.footerTemplate,"data-parentId":an};if(!aw.visible){ar.style={display:"none"}}av.push(this._tds({model:aq[an],attr:ar,level:ai},ak,this._footerTd))}return av},_footerTd:function(ai){var al=[];var ak=ai.column;var aj=ai.column.footerTemplate||x.noop;var am=ai.model[ak.field]||{};var ah={role:"gridcell",style:ak.hidden===true?{display:"none"}:{}};if(ak.expandable){al=al.concat(k({level:ai.level+1,className:n.iconPlaceHolder}))}if(ak.attributes){e(ah,ak.attributes)}al.push(h(aj(am)||""));return J("td",ah,al)},_hasFooterTemplate:function(){return !!ae(this.columns,function(ah){return ah.footerTemplate}).length},_tds:function(ai,al,an){var ak=[];var am;for(var aj=0,ah=al.length;aj<ah;aj++){am=al[aj];ak.push(an({model:ai.model,column:am,level:ai.level}))}return J("tr",ai.attr,ak)},_td:function(ak){var al=[];var aj=ak.model;var am=ak.column;var ai;var ah={role:"gridcell",style:am.hidden===true?{display:"none"}:{}};if(aj._edit&&am.field&&aj.editable(am.field)){ah[kendo.attr("container-for")]=am.field}else{if(am.expandable){al=k({level:ak.level,className:n.iconPlaceHolder});ai=[n.icon];if(aj.hasChildren){ai.push(aj.expanded?n.iconCollapse:n.iconExpand)}else{ai.push(n.iconHidden)}if(aj._error){ai.push(n.refresh)}else{if(!aj.loaded()&&aj.expanded){ai.push(n.loading)}}al.push(J("span",{className:ai.join(" ")}));ah.style["white-space"]="nowrap"}if(am.attributes){e(true,ah,am.attributes)}if(am.command){if(aj._edit){al=this._buildCommands(["update","canceledit"])}else{al=this._buildCommands(am.command)}}else{al.push(this._cellContent(am,aj))}}return J("td",ah,al)},_cellContent:function(ai,ah){var aj;if(ai.template){aj=ai.template(ah)}else{if(ai.field){aj=ah.get(ai.field);if(ai.format){aj=kendo.format(ai.format,aj)}}}if(aj===null||typeof aj=="undefined"){aj=""}if(ai.template||!ai.encoded){return h(aj)}else{return R(aj)}},_buildCommands:function(ai){var aj,ah=[];for(aj=0;aj<ai.length;aj++){ah.push(this._button(ai[aj]))}return ah},_button:function(ak){var ah=(ak.name||ak).toLowerCase();var aj=this.options.messages.commands[ah];var ai=[];ak=e({},G[ah],{text:aj},ak);if(ak.imageClass){ai.push(J("span",{className:["k-icon",ak.imageClass].join(" ")}))}return J("button",{"data-command":ah,className:["k-button","k-button-icontext",ak.className].join(" ")},ai.concat([R(ak.text||ak.name)]))},_positionResizeHandle:function(ao){var ai=x(ao.currentTarget);var al=3;var aq=this.resizeHandle;var am=ai.position();var aj=am.left;var ak=ai.outerWidth();var ah=ai.closest(".k-grid-header-wrap,.k-grid-header-locked,.k-treelist");aj+=ah.scrollLeft();if(!aq){aq=this.resizeHandle=x('<div class="k-resize-handle"><div class="k-resize-handle-inner" /></div>')}ah.append(aq);if(ao.clientX>aj+ak/2){aj+=ak}else{ai=ai.prev()}var ap=!!ai.length&&aj>al;aq.toggle(ap).css({top:am.top,left:aj-al-1,height:ai.outerHeight(),width:al*3}).data("th",ai);var an=this;aq.off("dblclick"+C).on("dblclick"+C,function(){var ar=ai.index();if(x.contains(an.thead[0],ai[0])){ar+=ae(an.columns,function(au,at){return au.locked&&!au.hidden}).length}an.autoFitColumn(ar)})},autoFitColumn:function(ai){var ap=this,al=ap.options,ah=ap.columns,ao,aE=kendo.support.browser,an,aA,aw,ar,aC=ap.lockedHeader?K(ap.lockedHeader.find(">table>thead")).filter(A).length:0,am;if(typeof ai=="number"){ai=ah[ai]}else{if(ag(ai)){ai=ae(ah,function(aH){return aH===ai})[0]}else{ai=ae(ah,function(aH){return aH.field===ai})[0]}}if(!ai||ai.hidden){return}ao=ab(ai,ah);ar=ai.locked;if(ar){aw=ap.lockedHeader.children("table")}else{aw=ap.thead.parent()}an=aw.find("[data-index='"+ao+"']");var aB=ar?ap.lockedTable:ap.table,ay=ap.footer||x();if(ap.footer&&ap.lockedContent){ay=ar?ap.footer.children(".k-grid-footer-locked"):ap.footer.children(".k-grid-footer-wrap")}var aF=ay.find("table").first();if(ap.lockedHeader&&aC>=ao&&!ar){ao-=aC}for(var az=0;az<ah.length;az++){if(ah[az]===ai){break}else{if(ah[az].hidden){ao--}}}if(al.scrollable){am=aw.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+ao+")").add(aB.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+ao+")")).add(aF.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+ao+")"))}else{am=aB.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+ao+")")}var aq=aw.add(aB).add(aF);var aG=an.outerWidth();am.width("");aq.css("table-layout","fixed");am.width("auto");aq.addClass("k-autofitting");aq.css("table-layout","");var at=Math.max(aw.width(),aB.width(),aF.width());var au=Math.ceil(Math.max(an.outerWidth(),aB.find("tr").eq(0).children("td:visible").eq(ao).outerWidth(),aF.find("tr").eq(0).children("td:visible").eq(ao).outerWidth()));am.width(au);ai.width=au;if(al.scrollable){var av=aw.find("col"),aD,aj=0;for(var ax=0,ak=av.length;ax<ak;ax+=1){aD=av[ax].style.width;if(aD&&aD.indexOf("%")==-1){aj+=parseInt(aD,10)}else{aj=0;break}}if(aj){aq.each(function(){this.style.width=aj+"px"})}}if(aE.msie&&aE.version==8){aq.css("display","inline-table");setTimeout(function(){aq.css("display","table")},1)}aq.removeClass("k-autofitting");ap.trigger(P,{column:ai,oldWidth:aG,newWidth:au});ap._applyLockedContainersWidth();ap._syncLockedContentHeight();ap._syncLockedHeaderHeight()},_adjustLockedHorizontalScrollBar:function(){var ai=this.table,ah=ai.parent();var aj=ai[0].offsetWidth>ah[0].clientWidth?kendo.support.scrollbar():0;this.lockedContent.height(ah.height()-aj)},_syncLockedContentHeight:function(){if(this.lockedTable){if(!this._touchScroller){this._adjustLockedHorizontalScrollBar()}this._adjustRowsHeight(this.table,this.lockedTable)}},_syncLockedHeaderHeight:function(){if(this.lockedHeader){var ah=this.lockedHeader.children("table");var ai=this.thead.parent();this._adjustRowsHeight(ah,ai);X(ah,ai)}},_resizable:function(){if(!this.options.resizable){return}if(this.resizable){this.resizable.destroy()}var ah=this;x(this.lockedHeader).find("thead").add(this.thead).on("mousemove"+C,"th",x.proxy(this._positionResizeHandle,this));this.resizable=new kendo.ui.Resizable(this.wrapper,{handle:".k-resize-handle",start:function(al){var ak=x(al.currentTarget).data("th");var aj="col:eq("+ak.index()+")";var am,ai;ah.wrapper.addClass("k-grid-column-resizing");if(ah.lockedHeader&&x.contains(ah.lockedHeader[0],ak[0])){am=ah.lockedHeader;ai=ah.lockedTable}else{am=ah.thead.parent();ai=ah.table}this.col=ai.children("colgroup").find(aj).add(am.find(aj));this.th=ak;this.startLocation=al.x.location;this.columnWidth=ak.outerWidth();this.table=this.col.closest("table");this.totalWidth=this.table.width()},resize:function(aj){var ai=11;var ak=aj.x.location-this.startLocation;if(this.columnWidth+ak<ai){ak=ai-this.columnWidth}this.table.width(this.totalWidth+ak);this.col.width(this.columnWidth+ak)},resizeend:function(){ah.wrapper.removeClass("k-grid-column-resizing");var ak=this.th.attr("data-field");var ai=ae(ah.columns,function(al){return al.field==ak});var aj=Math.floor(this.th.outerWidth());ai[0].width=aj;ah._resize();ah._adjustRowsHeight();ah.trigger(P,{column:ai,oldWidth:this.columnWidth,newWidth:aj});this.table=this.col=this.th=null}})},_sortable:function(){var aj=this.columns;var ai;var ap;var ao=x(this.lockedHeader).add(this.thead).find("th");var an,am,ah;var al=kendo.attr("field");var ak=this.options.sortable;if(!ak){return}for(am=0,ah=ao.length;am<ah;am++){ai=aj[am];if(ai.sortable!==false&&!ai.command&&ai.field){an=ao.eq(am);ap=an.data("kendoColumnSorter");if(ap){ap.destroy()}an.attr(al,ai.field).kendoColumnSorter(e({},ak,ai.sortable,{dataSource:this.dataSource}))}}},_filterable:function(){var aj=x(this.lockedHeader).add(this.thead).find("th");var am=this.options.filterable;var ai,al,ak,ah,an;if(!am||this.options.columnMenu){return}var ao=Y(function(ap){this.trigger(s,{field:ap.field,container:ap.container})},this);for(ai=0,al=aj.length;ai<al;ai++){ak=this.columns[ai];ah=aj.eq(ai);an=ah.data("kendoFilterMenu");if(an){an.destroy()}if(ak.command||ak.filterable===false){continue}ah.kendoFilterMenu(e(true,{},am,ak.filterable,{dataSource:this.dataSource,init:ao}))}},_change:function(){this.trigger(v)},_selectable:function(){var ai=this.options.selectable;var ak;var aj=this.table;var ah;if(ai){ai=kendo.ui.Selectable.parseOptions(ai);if(this._hasLockedColumns){aj=aj.add(this.lockedTable);ah=ai.multiple&&ai.cell}ak=">tbody>tr:not(.k-footer-template)";if(ai.cell){ak=ak+">td"}this.selectable=new kendo.ui.Selectable(aj,{filter:ak,aria:true,multiple:ai.multiple,change:Y(this._change,this),useAllItems:ah,continuousItems:Y(this._continuousItems,this,ak,ai.cell),relatedTarget:!ai.cell&&this._hasLockedColumns?Y(this._selectableTarget,this):f})}},_continuousItems:function(al,aj){if(!this.lockedContent){return}var ao=x(al,this.lockedTable);var an=x(al,this.table);var ak=aj?this._lockedColumns().length:1;var am=aj?this.columns.length-ak:1;var ai=[];for(var ah=0;ah<ao.length;ah+=ak){T.apply(ai,ao.slice(ah,ah+ak));T.apply(ai,an.splice(0,am))}return ai},_selectableTarget:function(aj){var al;var ai=x();for(var ah=0,ak=aj.length;ah<ak;ah++){al=this._relatedRow(aj[ah]);if(ab(al[0],aj)<0){ai=ai.add(al)}}return ai},_relatedRow:function(ak){var ai=this.lockedTable;ak=x(ak);if(!ai){return ak}var aj=ak.closest(this.table.add(this.lockedTable));var ah=aj.find(">tbody>tr").index(ak);aj=aj[0]===this.table[0]?ai:this.table;return aj.find(">tbody>tr").eq(ah)},select:function(ai){var ah=this.selectable;if(!ah){return x()}if(typeof ai!=="undefined"){if(!ah.options.multiple){ah.clear();ai=ai.first()}if(this._hasLockedColumns){ai=ai.add(x.map(ai,Y(this._relatedRow,this)))}}return ah.value(ai)},clearSelection:function(){var ah=this.select();if(ah.length){this.selectable.clear();this.trigger(v)}},_dataSource:function(ai){var ah=this.dataSource;if(ah){ah.unbind(v,this._refreshHandler);ah.unbind(z,this._errorHandler);ah.unbind(p,this._progressHandler)}this._refreshHandler=Y(this.refresh,this);this._errorHandler=Y(this._error,this);this._progressHandler=Y(this._progress,this);ah=this.dataSource=S.create(ai);ah.bind(v,this._refreshHandler);ah.bind(z,this._errorHandler);ah.bind(p,this._progressHandler)},setDataSource:function(ah){this._dataSource(ah);this._sortable();this._filterable();this._contentTree.render([]);if(this.options.autoBind){this.dataSource.fetch()}},dataItem:function(ai){var aj=x(ai).closest("tr");var ah=this.dataSource.getByUid(aj.attr(kendo.attr("uid")));return ah},editRow:function(ai){var ah;if(typeof ai===Z){ai=this.tbody.find(ai)}ah=this.dataItem(ai);if(!ah){return}if(this._editMode()!="popup"){ah._edit=true}this._cancelEditor();this._render();this._createEditor(ah);this.trigger(M,{container:this.editor.wrapper,model:ah})},_cancelEdit:function(ah){ah=e(ah,{container:this.editor.wrapper,model:this.editor.model});if(this.trigger(H,ah)){return}this.cancelRow()},cancelRow:function(){this._cancelEditor();this._render()},saveRow:function(){var ai=this.editor;var ah;if(!ai){return}ah={model:ai.model,container:ai.wrapper};if(ai.end()&&!this.trigger(O,ah)){this.dataSource.sync()}},addRow:function(ak){var aj=this.editor;var ai=0;var ah={};if(aj&&!aj.end()){return}if(ak){if(!(ak instanceof ac)){ak=this.dataItem(ak)}ah.parentId=ak.id;ai=this.dataSource.indexOf(ak)+1;ak.set("expanded",true);this.dataSource.load(ak).then(Y(this._insertAt,this,ah,ai));return}this._insertAt(ah,ai)},_insertAt:function(ai,ah){ai=this.dataSource.insert(ah,ai);var aj=this.tbody.find("["+kendo.attr("uid")+"="+ai.uid+"]");this.editRow(aj)},removeRow:function(aj){var ai=this.dataItem(aj);var ah={model:ai,row:aj};if(ai&&!this.trigger(b,ah)){this.dataSource.remove(ai);this.dataSource.sync()}},_cancelEditor:function(){var ah;var ai=this.editor;if(ai){ah=ai.model;this._destroyEditor();this.dataSource.cancelChanges(ah);ah._edit=false}},_destroyEditor:function(){if(!this.editor){return}this.editor.close();this.editor=null},_createEditor:function(ai){var ak=this.tbody.find("["+kendo.attr("uid")+"="+ai.uid+"]");ak=ak.add(this._relatedRow(ak));var aj=this._editMode();var ah={columns:this.columns,model:ai,target:this,clearContainer:false,template:this.options.editable.template};if(aj=="inline"){this.editor=new m(ak,ah)}else{e(ah,{window:this.options.editable.window,commandRenderer:Y(function(){return this._buildCommands(["update","canceledit"])},this),fieldRenderer:this._cellContent,save:Y(this.saveRow,this),cancel:Y(this._cancelEdit,this),appendTo:this.wrapper});this.editor=new w(ak,ah)}},_editMode:function(){var ai="inline",ah=this.options.editable;if(ah!==true){if(typeof ah=="string"){ai=ah}else{ai=ah.mode||ai}}return ai.toLowerCase()},hideColumn:function(ah){this._toggleColumnVisibility(ah,true)},showColumn:function(ah){this._toggleColumnVisibility(ah,false)},_toggleColumnVisibility:function(ah,ai){ah=this._findColumn(ah);if(!ah||ah.hidden===ai){return}ah.hidden=ai;this._ensureExpandableColumn();this._renderCols();this._renderHeader();this._render();this._adjustTablesWidth();this.trigger(ai?g:c,{column:ah});if(!ai&&!ah.width){this.table.add(this.thead.closest("table")).width("")}},_findColumn:function(ah){if(typeof ah=="number"){ah=this.columns[ah]}else{if(ag(ah)){ah=ae(this.columns,function(ai){return ai===ah})[0]}else{ah=ae(this.columns,function(ai){return ai.field===ah})[0]}}return ah},_adjustTablesWidth:function(){var ah,ak;var al=this.thead.prev().children();var aj,ai=0;for(ah=0,ak=al.length;ah<ak;ah++){aj=al[ah].style.width;if(aj&&aj.indexOf("%")==-1){ai+=parseInt(aj,10)}else{ai=0;break}}if(ai){this.table.add(this.thead.closest("table")).width(ai)}},_reorderable:function(){if(!this.options.reorderable){return}var aj=this.options.scrollable===true;var ah=(aj?".k-grid-header:first ":"table:first>.k-grid-header ")+Q;var ai=this;this._draggableInstance=new I.Draggable(this.wrapper,{group:kendo.guid(),filter:ah,hint:function(ak){return x('<div class="k-header k-drag-clue" />').css({width:ak.width(),paddingLeft:ak.css("paddingLeft"),paddingRight:ak.css("paddingRight"),lineHeight:ak.height()+"px",paddingTop:ak.css("paddingTop"),paddingBottom:ak.css("paddingBottom")}).html(ak.attr(kendo.attr("title"))||ak.attr(kendo.attr("field"))||ak.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}});this.reorderable=new I.Reorderable(this.wrapper,{draggable:this._draggableInstance,dragOverContainers:Y(this._allowDragOverContainers,this),inSameContainer:function(ak){return x(ak.source).parent()[0]===x(ak.target).parent()[0]},change:function(an){var ak=an.newIndex;var ao=an.oldIndex;var am=an.position==="before";var al=ai.columns[ao];ai.trigger(aa,{newIndex:ak,oldIndex:ao,column:al});ai.reorderColumn(ak,al,am)}})},_allowDragOverContainers:function(ah){return this.columns[ah].lockable!==false},reorderColumn:function(am,ak,aq){var aj;var al=this.columns;var ao=ab(ak,al);var ap=al[am];var ai=!!ap.locked;var ar=this._nonLockedColumns().length;if(ao===am){return}if(ai&&!ak.locked&&ar==1){return}if(!ai&&ak.locked&&(al.length-ar==1)){return}if(aq===f){aq=am<ao}aj=!!ak.locked;aj=aj!=ai;ak.locked=ai;al.splice(aq?am:am+1,0,ak);al.splice(ao<am?ao:ao+1,1);this._renderCols();var ah=x(this.lockedHeader).add(this.thead).find("th");ah.eq(ao)[aq?"insertBefore":"insertAfter"](ah.eq(am));var an=this._headerTree.children[0].children;if(this._hasLockedColumns){an=this._lockedHeaderTree.children[0].children.concat(an)}an.splice(aq?am:am+1,0,an[ao]);an.splice(ao<am?ao:ao+1,1);if(this._hasLockedColumns){this._lockedHeaderTree.children[0].children=an.splice(0,this._lockedColumns().length);this._headerTree.children[0].children=an}this._applyLockedContainersWidth();this.refresh();if(!aj){return}if(ai){this.trigger(r,{column:ak})}else{this.trigger(L,{column:ak})}},lockColumn:function(aj){var ai=this.columns;if(typeof aj=="number"){aj=ai[aj]}else{aj=ae(ai,function(ak){return ak.field===aj})[0]}if(!aj||aj.hidden){return}var ah=this._lockedColumns().length-1;this.reorderColumn(ah,aj,false)},unlockColumn:function(aj){var ai=this.columns;if(typeof aj=="number"){aj=ai[aj]}else{aj=ae(ai,function(ak){return ak.field===aj})[0]}if(!aj||aj.hidden){return}var ah=this._lockedColumns().length;this.reorderColumn(ah,aj,true)},_columnMenu:function(){var ai=x(this.lockedHeader).add(this.thead).find("th");var ao=this.columns;var at=this.options;var am=at.columnMenu;var an,ak,al,aq,ah;var ar=Y(this._columnMenuInit,this);var aj=this._lockedColumns().length;if(!am){return}if(typeof am=="boolean"){am={}}for(var ap=0;ap<ai.length;ap++){an=ao[ap];if(!an.field){continue}ak=ai.eq(ap).data("kendoColumnMenu");if(ak){ak.destroy()}aq=false;if(an.sortable!==false&&am.sortable!==false&&at.sortable!==false){aq=e({},at.sortable,{compare:(an.sortable||{}).compare})}ah=false;if(at.filterable&&an.filterable!==false&&am.filterable!==false){ah=e({pane:this.pane},an.filterable,at.filterable)}al={dataSource:this.dataSource,values:an.values,columns:am.columns,sortable:aq,filterable:ah,messages:am.messages,owner:this,closeCallback:x.noop,init:ar,pane:this.pane,lockedColumns:an.lockable!==false&&aj>0};if(at.$angular){al.$angular=at.$angular}ai.eq(ap).kendoColumnMenu(al)}},_columnMenuInit:function(ah){this.trigger(af,{field:ah.field,container:ah.container})}});if(kendo.ExcelMixin){kendo.ExcelMixin.extend(y.prototype)}if(kendo.PDFMixin){kendo.PDFMixin.extend(y.prototype)}e(true,kendo.data,{TreeListDataSource:S,TreeListModel:ac});e(true,kendo.ui,{TreeList:y});I.plugin(y)})(window.kendo.jQuery);(function(f,b){var k=window.kendo,l=k.ui,m=l.Widget,n=".kendoPivotConfigurator",i="mouseenter"+n+" mouseleave"+n,e=k.template('<p class="k-reset"><span class="k-icon #=icon#"></span>${name}</p><div class="k-list-container k-reset"/>');function d(s){var r;var p=0;var q=s.length;for(;p<q;p++){if(s[p].type==2){r=true;break}}if(r){s.splice(p+1,0,{caption:"KPIs",defaultHierarchy:"[KPIs]",name:"KPIs",uniqueName:"[KPIs]"})}}function o(p){return{name:p.uniqueName,type:p.type}}function h(r){for(var p=0,q=r.length;p<q;p++){r[p].uniqueName=r[p].name;r[p].type="kpi"}return r}function j(p){var q=f(p).closest(".k-pivot-setting");if(q.length){return q.data("kendoPivotSettingTarget")}return null}var a=m.extend({init:function(q,p){m.fn.init.call(this,q,p);this.element.addClass("k-widget k-fieldselector k-alt k-edit-form-container");this._dataSource();this._layout();this.refresh();k.notify(this)},events:[],options:{name:"PivotConfigurator",filterable:false,sortable:false,messages:{measures:"Drop Data Fields Here",columns:"Drop Column Fields Here",rows:"Drop Rows Fields Here",measuresLabel:"Measures",columnsLabel:"Columns",rowsLabel:"Rows",fieldsLabel:"Fields"}},_dataSource:function(){var p=this;if(p.dataSource&&p._refreshHandler){p.dataSource.unbind("change",p._refreshHandler).unbind("error",p._errorHandler).unbind("progress",p._progressHandler)}else{p._errorHandler=f.proxy(p._error,p);p._refreshHandler=f.proxy(p.refresh,p);p._progressHandler=f.proxy(p._requestStart,p)}p.dataSource=k.data.PivotDataSource.create(p.options.dataSource);p.dataSource.bind("change",p._refreshHandler).bind("error",p._errorHandler).bind("progress",p._progressHandler)},setDataSource:function(p){this.options.dataSource=p;this._dataSource();if(this.measures){this.measures.setDataSource(p)}if(this.rows){this.rows.setDataSource(p)}if(this.columns){this.columns.setDataSource(p)}this.refresh()},_treeViewDataSource:function(){var p=this;return k.data.HierarchicalDataSource.create({schema:{model:{id:"uniqueName",hasChildren:function(q){return !("hierarchyUniqueName" in q)&&!("aggregator" in q)}}},transport:{read:function(q){var t;var r;var s;if(f.isEmptyObject(q.data)){t=p.dataSource.schemaDimensions();t.done(function(u){if(!p.dataSource.cubeBuilder){d(u)}q.success(u)}).fail(q.error)}else{r=p.treeView.dataSource.get(q.data.uniqueName);if(r.uniqueName==="[KPIs]"){s=true;t=p.dataSource.schemaKPIs();t.done(function(u){q.success(h(u))}).fail(q.error)}else{if(r.type=="kpi"){s=true;q.success(g(r))}}if(!s){if(r.type==2){t=p.dataSource.schemaMeasures()}else{if(r.dimensionUniqueName){t=p.dataSource.schemaLevels(q.data.uniqueName)}else{t=p.dataSource.schemaHierarchies(q.data.uniqueName)}}t.done(q.success).fail(q.error)}}}}})},_progress:function(p){k.ui.progress(this.element,p)},_error:function(){this._progress(false)},_requestStart:function(){this._progress(true)},_layout:function(){this.form=f('<div class="k-columns k-state-default k-floatwrap"/>').appendTo(this.element);this._fields();this._targets()},_fields:function(){var p=f('<div class="k-state-default"><p class="k-reset"><span class="k-icon k-i-group"></span>'+this.options.messages.fieldsLabel+"</p></div>").appendTo(this.form);var r=this;var q='# if (item.type == 2 || item.uniqueName == "[KPIs]") { #<span class="k-icon k-i-#= (item.type == 2 ? "sum" : "kpi") #"></span># } else if (item.type && item.type !== "kpi") { #<span class="k-icon k-i-dimension"></span># } ##: item.caption || item.name #';this.treeView=f("<div/>").appendTo(p).kendoTreeView({template:q,dataTextField:"caption",dragAndDrop:true,autoBind:false,dataSource:this._treeViewDataSource(),dragstart:function(t){var s=this.dataItem(t.sourceNode);if((!s.hasChildren&&!s.aggregator&&!s.measure)||(s.type==2)||s.uniqueName==="[KPIs]"){t.preventDefault()}},drag:function(u){var s="k-denied";var t=j(u.dropTarget);if(t&&t.validate(this.dataItem(u.sourceNode))){s="k-add"}u.setStatusClass(s)},drop:function(y){y.preventDefault();var u=j(y.dropTarget);var w=this.dataItem(y.sourceNode);var s,v,x;var t;if(u&&u.validate(w)){t=w.defaultHierarchy||w.uniqueName;if(w.type==="kpi"){x=g(w);v=x.length;t=[];for(s=0;s<v;s++){t.push(o(x[s]))}}else{if(w.kpi){t=[o(w)]}}u.add(t)}}}).data("kendoTreeView")},_createTarget:function(r,p){var s='<li class="k-item k-header" data-'+k.ns+'name="${data.name}">${data.name}';var t=p.sortable;var q="";if(t){q+="#if (data.sortIcon) {#";q+='<span class="k-icon ${data.sortIcon} k-setting-sort"></span>';q+="#}#"}if(p.filterable||t){q+='<span class="k-icon k-i-arrowhead-s k-setting-fieldmenu"></span>'}q+='<span class="k-icon k-si-close k-setting-delete"></span>';s+='<span class="k-field-actions">'+q+"</span></li>";return new k.ui.PivotSettingTarget(r,f.extend({dataSource:this.dataSource,hint:function(u){var v=f('<div class="k-fieldselector"><ul class="k-list k-reset"></ul></div>');v.find(".k-list").append(u.clone());return v},template:s,emptyTemplate:'<li class="k-item k-empty">${data}</li>'},p))},_targets:function(){var r=f('<div class="k-state-default"/>').appendTo(this.form);var q=f(e({name:this.options.messages.columnsLabel,icon:"k-i-vbars"})).appendTo(r);var t=f('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(q.last());var w=f(e({name:this.options.messages.rowsLabel,icon:"k-i-hbars"})).appendTo(r);var u=f('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(w.last());var p=f(e({name:this.options.messages.measuresLabel,icon:"k-i-sum"})).appendTo(r);var v=f('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(p.last());var s=this.options;this.columns=this._createTarget(t,{filterable:s.filterable,sortable:s.sortable,connectWith:u,messages:{empty:s.messages.columns,fieldMenu:s.messages.fieldMenu}});this.rows=this._createTarget(u,{filterable:s.filterable,setting:"rows",connectWith:t,messages:{empty:this.options.messages.rows,fieldMenu:this.options.messages.fieldMenu}});this.measures=this._createTarget(v,{setting:"measures",messages:{empty:s.messages.measures}});t.add(u).add(v).on(i,".k-item:not(.k-empty)",this._toggleHover)},_toggleHover:function(p){f(p.currentTarget).toggleClass("k-state-hover",p.type==="mouseenter")},_resize:function(){var s=this.element;var q=this.options.height;var r,p;if(!q){return}if(s.is(":visible")){s.height(q);p=s.children(".k-columns").children("div.k-state-default");r=(s.outerHeight()-s.innerHeight())/2;q=q-(p.outerHeight(true)-p.height())-r;p.height(q)}},refresh:function(){var p=this.dataSource;if(p.cubeBuilder||this._cube!==p.cube()||this._catalog!==p.catalog()){this.treeView.dataSource.fetch()}this._catalog=this.dataSource.catalog();this._cube=this.dataSource.cube();this._resize();this._progress(false)},destroy:function(){m.fn.destroy.call(this);this.dataSource.unbind("change",this._refreshHandler);this.form.find(".k-list").off(n);this.rows.destroy();this.columns.destroy();this.measures.destroy();this.treeView.destroy();this.element=null;this._refreshHandler=null}});function c(p,r,q){return{hierarchyUniqueName:p,uniqueName:r,caption:r,measure:r,name:r,type:q,kpi:true}}function g(q){var p=q.name;return[c(p,q.value,"value"),c(p,q.goal,"goal"),c(p,q.status,"status"),c(p,q.trend,"trend")]}l.plugin(a)})(window.kendo.jQuery);(function(v,p,i){if(!p){return}var d=p.module("kendo.directives",[]),x=p.injector(["ng"]),I=x.get("$parse"),w=x.get("$timeout"),s,J=x.get("$log");function c(M){var L=w;try{w=function(N){return N()};return M()}finally{w=L}}var u;var D=(function(){var L={TreeList:"TreeListDataSource",TreeView:"HierarchicalDataSource",Scheduler:"SchedulerDataSource",PanelBar:"$PLAIN",Menu:"$PLAIN",ContextMenu:"$PLAIN"};var M=function(O,N){if(N=="$PLAIN"){return O}return kendo.data[N].create(O)};return function(P,N,S,R){var O=L[S]||"DataSource";var Q=M(P.$eval(R),O);P.$watch(R,function(W,T){if(W!==T){var V=M(W,O);var U=k(N);if(U&&typeof U.setDataSource=="function"){U.setDataSource(V)}}});return Q}}());var b={kDataSource:true,kOptions:true,kRebind:true,kNgModel:true,kNgDelay:true};var r={name:true,title:true,style:true};function t(N,M,L,O){M[L]=p.copy(N.$eval(O));if(M[L]===i&&O.match(/^\w*$/)){J.warn(L+" attribute resolved to undefined. Maybe you meant to use a string literal like: '"+O+"'?")}}function E(X,P,V,Q,L,M){if(!(P instanceof jQuery)){throw new Error("The Kendo UI directives require jQuery to be available before AngularJS. Please include jquery before angular in the document.")}var W=V.kNgDelay,T=X.$eval(W);M=M||[];var O=M[0],N=M[1];if(W&&!T){var R=X.$root||X;var U=function(){var Y=X.$watch(W,function(aa,Z){if(aa!==Z){Y();P.removeAttr(V.$attr.kNgDelay);W=null;w(S)}})};if(/^\$(digest|apply)$/.test(R.$$phase)){U()}else{X.$apply(U)}return}else{return S()}function S(){var aj;if(V.kRebind){aj=v(v(P)[0].cloneNode(true))}var ad=Q.replace(/^kendo/,"");var ak=p.extend({},V.defaultOptions,X.$eval(V.kOptions||V.options));var ag=v(P)[Q];if(!ag){window.console.error("Could not find: "+Q);return null}var ab=ag.widget.prototype.options;var ae=ag.widget.prototype.events;v.each(V,function(ao,aq){if(ao==="source"||ao==="kDataSource"||ao==="kScopeField"){return}var al="data"+ao.charAt(0).toUpperCase()+ao.slice(1);if(ao.indexOf("on")===0){var an=ao.replace(/^on./,function(ar){return ar.charAt(2).toLowerCase()});if(ae.indexOf(an)>-1){ak[an]=aq}}if(ab.hasOwnProperty(al)){t(X,ak,al,aq)}else{if(ab.hasOwnProperty(ao)&&!r[ao]){t(X,ak,ao,aq)}else{if(!b[ao]){var am=ao.match(/^k(On)?([A-Z].*)/);if(am){var ap=am[2].charAt(0).toLowerCase()+am[2].slice(1);if(am[1]&&ao!="kOnLabel"){ak[ap]=aq}else{if(ao=="kOnLabel"){ap="onLabel"}t(X,ak,ap,aq)}}}}}});var Z=V.kDataSource||V.source;if(Z){ak.dataSource=D(X,P,ad,Z)}ak.$angular=[X];if(P.is("select")){(function(al){if(al.length>0){var am=v(al[0]);if(!/\S/.test(am.text())&&/^\?/.test(am.val())){am.remove()}}}(P[0].options))}var ac=ag.call(P,u=ak).data(Q);A(ac,X,V,Q,L);X.$emit("kendoWidgetCreated",ac);var Y=H(X,ac);if(V.kRebind){F(ac,X,P,aj,V.kRebind,Y,V)}if(V.kNgDisabled){var af=V.kNgDisabled;var ah=X.$eval(af);if(ah){ac.enable(!ah)}K(ac,X,P,af)}if(V.kNgReadonly){var ai=V.kNgReadonly;var aa=X.$eval(ai);if(aa){ac.readonly(aa)}q(ac,X,P,ai)}if(V.kNgModel){C(ac,X,V.kNgModel)}if(O){y(ac,X,P,O,N)}if(ac){o(ac,P)}return ac}}function K(O,N,M,L){if((kendo.ui.PanelBar&&O instanceof kendo.ui.PanelBar)||(kendo.ui.Menu&&O instanceof kendo.ui.Menu)){J.warn("k-ng-disabled specified on a widget that does not have the enable() method: "+(O.options.name));return}N.$apply(function(){N.$watch(L,function(Q,P){if(Q!=P){O.enable(!Q)}})})}function q(O,N,M,L){if(typeof O.readonly!="function"){J.warn("k-ng-readonly specified on a widget that does not have the readonly() method: "+(O.options.name));return}N.$apply(function(){N.$watch(L,function(Q,P){if(Q!=P){O.readonly(Q)}})})}function A(P,N,M,O,L){if(M[L]){var Q=I(M[L]).assign;if(Q){Q(N,P)}else{throw new Error(L+" attribute used but expression in it is not assignable: "+M[O])}}}function g(L){if(/checkbox|radio/i.test(L.attr("type"))){return L.prop("checked")}return L.val()}var j=/^(input|select|textarea)$/i;function h(L){return j.test(L[0].tagName)}function y(P,T,O,N,M){if(!P.value){return}var R;if(h(O)){R=function(){return g(O)}}else{R=function(){return P.value()}}N.$render=function(){var U=N.$viewValue;if(U===i){U=N.$modelValue}if(U===i){U=null}setTimeout(function(){if(P){P.value(U)}},0)};var S=false;if(h(O)){O.on("change",function(){S=true})}var Q=function(U){return function(){var V;if(S){return}S=false;if(U&&M){V=M.$pristine}N.$setViewValue(R());if(U){N.$setPristine();if(V){M.$setPristine()}}z(T)}};P.first("change",Q(false));if(!(kendo.ui.AutoComplete&&P instanceof kendo.ui.AutoComplete)){P.first("dataBound",Q(true))}var L=R();if(L!=N.$viewValue){if(!N.$isEmpty(N.$viewValue)){P.value(N.$viewValue)}else{if(L!=null&&L!==""&&L!=N.$viewValue){N.$setViewValue(L)}}}N.$setPristine()}function C(P,S,T){if(typeof P.value!="function"){J.warn("k-ng-model specified on a widget that does not have the value() method: "+(P.options.name));return}var L=v(P.element).parents("form");var M=S[L.attr("name")];var Q=I(T);var O=Q.assign;var R=false;P.$angular_setLogicValue(Q(S));var N=function(V,U){if(V===i){V=null}if(R){return}if(V===U){return}P.$angular_setLogicValue(V)};if(kendo.ui.MultiSelect&&P instanceof kendo.ui.MultiSelect){S.$watchCollection(T,N)}else{S.$watch(T,N)}P.first("change",function(){R=true;if(M&&M.$pristine){M.$setDirty()}S.$apply(function(){O(S,P.$angular_getLogicValue())});R=false})}function H(L,N){var M=L.$on("$destroy",function(){M();if(N){if(N.element){N=k(N.element);if(N){N.destroy()}}N=null}});return M}function o(Q,L){if(!(window.MutationObserver&&Q.wrapper)){return}var N=[].slice.call(v(L)[0].classList);var P=new MutationObserver(function(R){M();if(!Q){return}R.forEach(function(U){var S=v(Q.wrapper)[0];switch(U.attributeName){case"class":var T=[].slice.call(U.target.classList);T.forEach(function(V){if(N.indexOf(V)<0){S.classList.add(V);if(kendo.ui.ComboBox&&Q instanceof kendo.ui.ComboBox){Q.input[0].classList.add(V)}}});N.forEach(function(V){if(T.indexOf(V)<0){S.classList.remove(V);if(kendo.ui.ComboBox&&Q instanceof kendo.ui.ComboBox){Q.input[0].classList.remove(V)}}});N=T;break;case"disabled":if(typeof Q.enable=="function"){Q.enable(!v(U.target).attr("disabled"))}break;case"readonly":if(typeof Q.readonly=="function"){Q.readonly(!!v(U.target).attr("readonly"))}break}});O()});function M(){P.disconnect()}function O(){P.observe(v(L)[0],{attributes:true})}O();Q.first("destroy",M)}function F(S,Q,P,L,M,R,N){var O=Q.$watch(M,function(Y,U){if(Y!==U){O();var V=f[S.options.name];if(V){V.forEach(function(aa){var Z=Q.$eval(N["k"+aa]);if(Z){L.append(v(Z).attr(kendo.toHyphens("k"+aa),""))}})}var X=v(S.wrapper)[0];var T=v(S.element)[0];var W=P.injector().get("$compile");S.destroy();if(R){R()}S=null;if(X&&T){X.parentNode.replaceChild(T,X);v(P).replaceWith(L)}W(L)(Q)}},true);z(Q)}d.factory("directiveFactory",["$compile",function(N){var M;var O=false;s=N;var L=function(Q,P){return{restrict:"AC",require:["?ngModel","^?form"],scope:false,controller:["$scope","$attrs","$element",function(T,R,S){var U=this;U.template=function(V,W){R[V]=kendo.stringify(W)};T.$on("$destroy",function(){U.template=null;U=null})}],link:function(V,U,T,X){var S=v(U);var R=Q.replace(/([A-Z])/g,"-$1");S.attr(R,S.attr("data-"+R));S[0].removeAttribute("data-"+R);var W=E(V,U,T,Q,P,X);if(!W){return}if(M){clearTimeout(M)}M=setTimeout(function(){V.$emit("kendoRendered");if(!O){O=true;v("form").each(function(){var Y=v(this).controller("form");if(Y){Y.$setPristine()}})}})}}};return{create:L}}]);var n={Editor:"textarea",NumericTextBox:"input",DatePicker:"input",DateTimePicker:"input",TimePicker:"input",AutoComplete:"input",ColorPicker:"input",MaskedTextBox:"input",MultiSelect:"input",Upload:"input",Validator:"form",Button:"button",MobileButton:"a",MobileBackButton:"a",MobileDetailButton:"a",ListView:"ul",MobileListView:"ul",TreeView:"ul",Menu:"ul",ContextMenu:"ul",ActionSheet:"ul"};var a=["MobileView","MobileLayout","MobileSplitView","MobilePane","MobileModalView"];var G=["MobileApplication","MobileView","MobileModalView","MobileLayout","MobileActionSheet","MobileDrawer","MobileSplitView","MobilePane","MobileScrollView","MobilePopOver"];p.forEach(["MobileNavBar","MobileButton","MobileBackButton","MobileDetailButton","MobileTabStrip","MobileScrollView","MobileScroller"],function(L){G.push(L);L="kendo"+L;d.directive(L,function(){return{restrict:"A",link:function(O,N,M,P){E(O,N,M,L,L)}}})});function B(O,N){function P(U,T){d.directive(U,["directiveFactory",function(V){return V.create(T,U)}])}var Q=N?"Mobile":"";Q+=O.fn.options.name;var R=Q;var M="kendo"+Q.charAt(0)+Q.substr(1).toLowerCase();Q="kendo"+Q;var L=Q.replace(/([A-Z])/g,"-$1");if(a.indexOf(Q.replace("kendo",""))==-1){var S=Q===M?[Q]:[Q,M];p.forEach(S,function(T){d.directive(T,function(){return{restrict:"E",replace:true,template:function(W,V){var U=n[R]||"div";var X=V.kScopeField;return"<"+U+" "+L+(X?('="'+X+'"'):"")+">"+W.html()+"</"+U+">"}}})})}if(G.indexOf(Q.replace("kendo",""))>-1){return}P(Q,Q);if(M!=Q){P(M,Q)}}(function(){function L(M){return function(N){p.forEach(N,function(O){if(O.fn&&O.fn.options&&O.fn.options.name&&(/^[A-Z]/).test(O.fn.options.name)){B(O,M)}})}}p.forEach([kendo.ui,kendo.dataviz&&kendo.dataviz.ui],L(false));p.forEach([kendo.mobile&&kendo.mobile.ui],L(true))})();function k(L){L=v(L);return kendo.widgetInstance(L,kendo.ui)||kendo.widgetInstance(L,kendo.mobile.ui)||kendo.widgetInstance(L,kendo.dataviz.ui)}function z(N,O){var L=N.$root||N;var M=/^\$(digest|apply)$/.test(L.$$phase);if(O){if(M){O()}else{L.$apply(O)}}else{if(!M){L.$digest()}}}function m(M,L){M.$destroy();if(L){v(L).removeData("$scope").removeData("$$kendoScope").removeData("$isolateScope").removeData("$isolateScopeNoTemplate").removeClass("ng-scope")}}var e=[];function l(M,O,P){if(v.isArray(M)){return p.forEach(M,function(R){l(R,O,P)})}if(typeof M=="string"){var N=M.split(".");var L=kendo;while(L&&N.length>0){L=L[N.shift()]}if(!L){e.push([M,O,P]);return false}M=L.prototype}var Q=M[O];M[O]=function(){var R=this,S=arguments;return P.apply({self:R,next:function(){return Q.apply(R,arguments.length>0?arguments:S)}},S)};return true}l(kendo.ui,"plugin",function(L,M,N){this.next();e=v.grep(e,function(O){return !l.apply(null,O)});B(L,N=="Mobile")});l(["ui.Widget","mobile.ui.Widget"],"angular",function(O,L){var M=this.self;if(O=="init"){if(!L&&u){L=u}u=null;if(L&&L.$angular){M.$angular_scope=L.$angular[0];M.$angular_init(M.element,L)}return}var N=M.$angular_scope;if(N){c(function(){var P=L(),S=P.elements,R=P.data;if(S.length>0){switch(O){case"cleanup":p.forEach(S,function(U){var V=v(U).data("$$kendoScope");if(V&&V!==N&&V.$$kendoScope){m(V,U)}});break;case"compile":var T=M.element.injector();var Q=T?T.get("$compile"):s;p.forEach(S,function(V,U){var W;if(P.scopeFrom){W=P.scopeFrom}else{var X=R&&R[U];if(X!==i){W=v.extend(N.$new(),X);W.$$kendoScope=true}else{W=N}}v(V).data("$$kendoScope",W);Q(V)(W)});z(N);break}}})}});l("ui.Widget","$angular_getLogicValue",function(){return this.self.value()});l("ui.Widget","$angular_setLogicValue",function(L){this.self.value(L)});l("ui.Select","$angular_getLogicValue",function(){var M=this.self.dataItem(),L=this.self.options.dataValueField;if(M){if(this.self.options.valuePrimitive){if(!!L){return M[L]}else{return M}}else{return M.toJSON()}}else{return null}});l("ui.Select","$angular_setLogicValue",function(P){var L=this.self;var N=L.options;var M=N.dataValueField;var O=N.text||"";if(P===i){P=""}if(M&&!N.valuePrimitive&&P){O=P[N.dataTextField]||"";P=P[M||N.dataTextField]}if(L.options.autoBind===false&&!L.listView.isBound()){if(!O&&P&&N.valuePrimitive){L.value(P)}else{L._preselect(P,O)}}else{L.value(P)}});l("ui.MultiSelect","$angular_getLogicValue",function(){var M=this.self.dataItems().slice(0);var L=this.self.options.dataValueField;if(L&&this.self.options.valuePrimitive){M=v.map(M,function(N){return N[L]})}return M});l("ui.MultiSelect","$angular_setLogicValue",function(P){if(P==null){P=[]}var L=this.self;var N=L.options;var M=N.dataValueField;var O=P;if(M&&!N.valuePrimitive){P=v.map(P,function(Q){return Q[M]})}if(N.autoBind===false&&!N.valuePrimitive&&!L.listView.isBound()){L._preselect(O,P)}else{L.value(P)}});l("ui.AutoComplete","$angular_getLogicValue",function(){var U=this.self.options;var S=this.self.value().split(U.separator);var M=U.valuePrimitive;var P=this.self.dataSource.data();var R=[];for(var Q=0,N=P.length;Q<N;Q++){var T=P[Q];var L=U.dataTextField?T[U.dataTextField]:T;for(var O=0;O<S.length;O++){if(L===S[O]){if(M){R.push(L)}else{R.push(T.toJSON())}break}}}return R});l("ui.AutoComplete","$angular_setLogicValue",function(M){if(M==null){M=[]}var L=this.self,N=L.options.dataTextField;if(N&&!L.options.valuePrimitive){M=v.map(M,function(O){return O[N]})}L.value(M)});l("ui.Widget","$angular_init",function(O,M){var L=this.self;if(M&&!v.isArray(M)){var Q=L.$angular_scope;for(var N=L.events.length;--N>=0;){var R=L.events[N];var P=M[R];if(P&&typeof P=="string"){M[R]=L.$angular_makeEventHandler(R,Q,P)}}}});l("ui.Widget","$angular_makeEventHandler",function(N,M,L){L=I(L);return function(O){z(M,function(){L(M,{kendoEvent:O})})}});l(["ui.Grid","ui.ListView","ui.TreeView"],"$angular_makeEventHandler",function(N,M,L){if(N!="change"){return this.next()}L=I(L);return function(W){var U=W.sender;var Z=U.options;var X,aa,Q={kendoEvent:W},P,V,R,T;if(p.isString(Z.selectable)){X=Z.selectable.indexOf("cell")!==-1;aa=Z.selectable.indexOf("multiple")!==-1}P=Q.selected=this.select();V=Q.data=[];R=Q.columns=[];for(var S=0;S<P.length;S++){var Y=X?P[S].parentNode:P[S];var O=U.dataItem(Y);if(X){if(p.element.inArray(O,V)<0){V.push(O)}T=p.element(P[S]).index();if(p.element.inArray(T,R)<0){R.push(T)}}else{V.push(O)}}if(!aa){Q.dataItem=Q.data=V[0];Q.selected=P[0]}z(M,function(){L(M,Q)})}});l("ui.Grid","$angular_init",function(M,L){this.next();if(L.columns){var N=v.extend({},kendo.Template,L.templateSettings);p.forEach(L.columns,function(O){if(O.field&&!O.template&&!O.format&&!O.values&&(O.encoded===i||O.encoded)){O.template="<span ng-bind='"+kendo.expr(O.field,"dataItem")+"'>#: "+kendo.expr(O.field,N.paramName)+"#</span>"}})}});l("mobile.ui.ButtonGroup","value",function(M){var L=this.self;if(M!=null){L.select(L.element.children("li.km-button").eq(M));L.trigger("change");L.trigger("select",{index:L.selectedIndex})}return L.selectedIndex});l("mobile.ui.ButtonGroup","_select",function(){this.next();this.self.trigger("change")});d.directive("kendoMobileApplication",function(){return{terminal:true,link:function(N,M,L,O){E(N,M,L,"kendoMobileApplication","kendoMobileApplication")}}}).directive("kendoMobileView",function(){return{scope:true,link:{pre:function(N,M,L,O){L.defaultOptions=N.viewOptions;L._instance=E(N,M,L,"kendoMobileView","kendoMobileView")},post:function(N,M,L){L._instance._layout();L._instance._scroller()}}}}).directive("kendoMobileDrawer",function(){return{scope:true,link:{pre:function(N,M,L,O){L.defaultOptions=N.viewOptions;L._instance=E(N,M,L,"kendoMobileDrawer","kendoMobileDrawer")},post:function(N,M,L){L._instance._layout();L._instance._scroller()}}}}).directive("kendoMobileModalView",function(){return{scope:true,link:{pre:function(N,M,L,O){L.defaultOptions=N.viewOptions;L._instance=E(N,M,L,"kendoMobileModalView","kendoMobileModalView")},post:function(N,M,L){L._instance._layout();L._instance._scroller()}}}}).directive("kendoMobileSplitView",function(){return{terminal:true,link:{pre:function(N,M,L,O){L.defaultOptions=N.viewOptions;L._instance=E(N,M,L,"kendoMobileSplitView","kendoMobileSplitView")},post:function(N,M,L){L._instance._layout()}}}}).directive("kendoMobilePane",function(){return{terminal:true,link:{pre:function(N,M,L,O){L.defaultOptions=N.viewOptions;E(N,M,L,"kendoMobilePane","kendoMobilePane")}}}}).directive("kendoMobileLayout",function(){return{link:{pre:function(N,M,L,O){E(N,M,L,"kendoMobileLayout","kendoMobileLayout")}}}}).directive("kendoMobileActionSheet",function(){return{restrict:"A",link:function(N,M,L,O){M.find("a[k-action]").each(function(){v(this).attr("data-"+kendo.ns+"action",v(this).attr("k-action"))});E(N,M,L,"kendoMobileActionSheet","kendoMobileActionSheet")}}}).directive("kendoMobilePopOver",function(){return{terminal:true,link:{pre:function(N,M,L,O){L.defaultOptions=N.viewOptions;E(N,M,L,"kendoMobilePopOver","kendoMobilePopOver")}}}}).directive("kendoViewTitle",function(){return{restrict:"E",replace:true,template:function(M,L){return"<span data-"+kendo.ns+"role='view-title'>"+M.html()+"</span>"}}}).directive("kendoMobileHeader",function(){return{restrict:"E",link:function(N,M,L,O){M.addClass("km-header").attr("data-role","header")}}}).directive("kendoMobileFooter",function(){return{restrict:"E",link:function(N,M,L,O){M.addClass("km-footer").attr("data-role","footer")}}}).directive("kendoMobileScrollViewPage",function(){return{restrict:"E",replace:true,template:function(M,L){return"<div data-"+kendo.ns+"role='page'>"+M.html()+"</div>"}}});p.forEach(["align","icon","rel","transition","actionsheetContext"],function(L){var M="k"+L.slice(0,1).toUpperCase()+L.slice(1);d.directive(M,function(){return{restrict:"A",priority:2,link:function(P,O,N){O.attr(kendo.attr(kendo.toHyphens(L)),P.$eval(N[M]))}}})});var f={TreeMap:["Template"],MobileListView:["HeaderTemplate","Template"],MobileScrollView:["EmptyTemplate","Template"],Grid:["AltRowTemplate","DetailTemplate","RowTemplate"],ListView:["EditTemplate","Template","AltTemplate"],Pager:["SelectTemplate","LinkTemplate"],PivotGrid:["ColumnHeaderTemplate","DataCellTemplate","RowHeaderTemplate"],Scheduler:["AllDayEventTemplate","DateHeaderTemplate","EventTemplate","MajorTimeHeaderTemplate","MinorTimeHeaderTemplate"],TreeView:["Template"],Validator:["ErrorTemplate"]};(function(){var L={};p.forEach(f,function(M,N){p.forEach(M,function(O){if(!L[O]){L[O]=[]}L[O].push("?^^kendo"+N)})});p.forEach(L,function(N,P){var M="k"+P;var O=kendo.toHyphens(M);d.directive(M,function(){return{restrict:"A",require:N,terminal:true,compile:function(R,Q){if(Q[M]!==""){return}R.removeAttr(O);var S=R[0].outerHTML;return function(W,V,U,X){var T;while(!T&&X.length){T=X.shift()}if(!T){J.warn(O+" without a matching parent widget found. It can be one of the following: "+N.join(", "))}else{T.template(M,S);R.remove()}}}}})})})()})(window.kendo.jQuery,window.angular);(function(aU,I){var Q=document,x=window.kendo,aW=x.util,W=aW.append,j=aW.defined,ap=aW.last,a8=aW.limitValue,h=aW.valueOrDefault,aC=x.dataviz,a9=aC.geometry,aJ=aC.drawing,S=aJ.util.measureText,ak=a9.Matrix,a3=x.Class,Z=x.template,J=aU.map,aQ=aU.noop,r=aU.inArray,O=aU.isPlainObject,aX=aU.trim,ae=Math,bd=x.deepExtend;var aj="k-";var ao=10,aS="axisLabelClick",E=1,H="#000",aV="bottom",N="center",af=3,m="clip",n="circle",p="cross",aA="12px sans-serif",ah=400,am=7,aM=6,t=600,aN=ae.PI/180,l="fadeIn",d=/\{\d+:?/,a0="height",M="k",aI=1000,ax=10000,ay=100000,aH=600,q="inside",c="left",bc="linear",aq=Number.MAX_VALUE,i=-Number.MAX_VALUE,au="none",aO="noteClick",s="noteHover",aZ="outside",g="radial",k="right",P="swing",o="top",aP="triangle",aF="undefined",aY=/([A-Z])/g,V="width",w="#fff",av="x",at="y",aR=0.2;function C(Y,X){var be={top:0,right:0,bottom:0,left:0};X=X||0;if(typeof(Y)==="number"){be[o]=be[k]=be[aV]=be[c]=Y}else{be[o]=Y[o]||X;be[k]=Y[k]||X;be[aV]=Y[aV]||X;be[c]=Y[c]||X}return be}var b=function(Y,be){var X=this;if(!(X instanceof b)){return new b(Y,be)}X.x=Y||0;X.y=be||0};b.fn=b.prototype={clone:function(){var X=this;return new b(X.x,X.y)},equals:function(X){return X&&X.x===this.x&&X.y===this.y},rotate:function(X,bf){var bk=this,Y=bf*aN,bh=ae.cos(Y),bl=ae.sin(Y),bg=X.x,be=X.y,bj=bk.x,bi=bk.y;bk.x=T(bg+(bj-bg)*bh+(bi-be)*bl,af);bk.y=T(be+(bi-be)*bh-(bj-bg)*bl,af);return bk},multiply:function(Y){var X=this;X.x*=Y;X.y*=Y;return X},distanceTo:function(X){var be=this.x-X.x,Y=this.y-X.y;return ae.sqrt(be*be+Y*Y)}};b.onCircle=function(be,X,Y){X*=aN;return new b(be.x-Y*ae.cos(X),be.y-Y*ae.sin(X))};var B=function(Y,bf,X,be){var bg=this;if(!(bg instanceof B)){return new B(Y,bf,X,be)}bg.x1=Y||0;bg.x2=X||0;bg.y1=bf||0;bg.y2=be||0};B.fn=B.prototype={width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1},translate:function(Y,X){var be=this;be.x1+=Y;be.x2+=Y;be.y1+=X;be.y2+=X;return be},move:function(Y,bg){var bf=this,X=bf.height(),be=bf.width();if(j(Y)){bf.x1=Y;bf.x2=bf.x1+be}if(j(bg)){bf.y1=bg;bf.y2=bf.y1+X}return bf},wrap:function(X){var Y=this;Y.x1=ae.min(Y.x1,X.x1);Y.y1=ae.min(Y.y1,X.y1);Y.x2=ae.max(Y.x2,X.x2);Y.y2=ae.max(Y.y2,X.y2);return Y},wrapPoint:function(X){this.wrap(new B(X.x,X.y,X.x,X.y));return this},snapTo:function(X,Y){var be=this;if(Y==av||!Y){be.x1=X.x1;be.x2=X.x2}if(Y==at||!Y){be.y1=X.y1;be.y2=X.y2}return be},alignTo:function(bi,bg){var bh=this,bk=bh.height(),Y=bh.width(),be=bg==o||bg==aV?at:av,bf=be==at?bk:Y;if(bg===N){var bj=bi.center();var X=bh.center();bh.x1+=bj.x-X.x;bh.y1+=bj.y-X.y}else{if(bg===o||bg===c){bh[be+1]=bi[be+1]-bf}else{bh[be+1]=bi[be+2]}}bh.x2=bh.x1+Y;bh.y2=bh.y1+bk;return bh},shrink:function(X,be){var Y=this;Y.x2-=X;Y.y2-=be;return Y},expand:function(X,Y){this.shrink(-X,-Y);return this},pad:function(Y){var X=this,be=C(Y);X.x1-=be.left;X.x2+=be.right;X.y1-=be.top;X.y2+=be.bottom;return X},unpad:function(Y){var X=this,be=C(Y);be.left=-be.left;be.top=-be.top;be.right=-be.right;be.bottom=-be.bottom;return X.pad(be)},clone:function(){var X=this;return new B(X.x1,X.y1,X.x2,X.y2)},center:function(){var X=this;return new b(X.x1+X.width()/2,X.y1+X.height()/2)},containsPoint:function(X){var Y=this;return X.x>=Y.x1&&X.x<=Y.x2&&X.y>=Y.y1&&X.y<=Y.y2},points:function(){var X=this;return[new b(X.x1,X.y1),new b(X.x2,X.y1),new b(X.x2,X.y2),new b(X.x1,X.y2)]},getHash:function(){var X=this;return[X.x1,X.y1,X.x2,X.y2].join(",")},overlaps:function(X){return !(X.y2<this.y1||this.y2<X.y1||X.x2<this.x1||this.x2<X.x1)},rotate:function(bm){var bk=this;var bf=bk.width();var bl=bk.height();var X=bk.center();var bj=X.x;var bi=X.y;var bh=ar(0,0,bj,bi,bm);var bg=ar(bf,0,bj,bi,bm);var be=ar(bf,bl,bj,bi,bm);var Y=ar(0,bl,bj,bi,bm);bf=ae.max(bh.x,bg.x,be.x,Y.x)-ae.min(bh.x,bg.x,be.x,Y.x);bl=ae.max(bh.y,bg.y,be.y,Y.y)-ae.min(bh.y,bg.y,be.y,Y.y);bk.x2=bk.x1+bf;bk.y2=bk.y1+bl;return bk},toRect:function(){return new a9.Rect([this.x1,this.y1],[this.width(),this.height()])},hasSize:function(){return this.width()!==0&&this.height()!==0},align:function(X,bg,bj){var bi=this,bf=bg+1,be=bg+2,bh=bg===av?V:a0,Y=bi[bh]();if(F(bj,[c,o])){bi[bf]=X[bf];bi[be]=bi[bf]+Y}else{if(F(bj,[k,aV])){bi[be]=X[be];bi[bf]=bi[be]-Y}else{if(bj==N){bi[bf]=X[bf]+(X[bh]()-Y)/2;bi[be]=bi[bf]+Y}}}}};var ag=a3.extend({init:function(Y,bg,X,bf,bh){var be=this;be.c=Y;be.ir=bg;be.r=X;be.startAngle=bf;be.angle=bh},clone:function(){var X=this;return new ag(X.c,X.ir,X.r,X.startAngle,X.angle)},middle:function(){return this.startAngle+this.angle/2},radius:function(X,be){var Y=this;if(be){Y.ir=X}else{Y.r=X}return Y},point:function(Y,bg){var be=this,bj=Y*aN,X=ae.cos(bj),bk=ae.sin(bj),bf=bg?be.ir:be.r,bi=T(be.c.x-(X*bf),af),bh=T(be.c.y-(bk*bf),af);return new b(bi,bh)},adjacentBox:function(X,Y,bn){var be=this.clone().expand(X),bh=be.middle(),bk=be.point(bh),bi=Y/2,bf=bn/2,bm=bk.x-bi,bj=bk.y-bf,bl=ae.sin(bh*aN),bg=ae.cos(bh*aN);if(ae.abs(bl)<0.9){bm+=bi*-bg/ae.abs(bg)}if(ae.abs(bg)<0.9){bj+=bf*-bl/ae.abs(bl)}return new B(bm,bj,bm+Y,bj+bn)},containsPoint:function(be){var bh=this,bn=bh.c,bk=bh.ir,X=bh.r,bl=bh.startAngle,bg=bh.startAngle+bh.angle,bq=be.x-bn.x,bp=be.y-bn.y,bf=new b(bq,bp),Y=bh.point(bl),bi=new b(Y.x-bn.x,Y.y-bn.y),bo=bh.point(bg),bj=new b(bo.x-bn.x,bo.y-bn.y),bm=T(bq*bq+bp*bp,af);return(bi.equals(bf)||a5(bi,bf))&&!a5(bj,bf)&&bm>=bk*bk&&bm<=X*X},getBBox:function(){var X=this,bf=new B(aq,aq,i,i),bj=T(X.startAngle%360),bg=T((bj+X.angle)%360),bi=X.ir,bl=[0,90,180,270,bj,bg].sort(ba),Y=r(bj,bl),bm=r(bg,bl),bh,be,bk;if(bj==bg){bh=bl}else{if(Y<bm){bh=bl.slice(Y,bm+1)}else{bh=[].concat(bl.slice(0,bm+1),bl.slice(Y,bl.length))}}for(be=0;be<bh.length;be++){bk=X.point(bh[be]);bf.wrapPoint(bk);bf.wrapPoint(bk,bi)}if(!bi){bf.wrapPoint(X.c)}return bf},expand:function(X){this.r+=X;return this}});var z=ag.extend({init:function(Y,X,be,bf){ag.fn.init.call(this,Y,0,X,be,bf)},expand:function(X){return ag.fn.expand.call(this,X)},clone:function(){var X=this;return new z(X.c,X.r,X.startAngle,X.angle)},radius:function(X){return ag.fn.radius.call(this,X)},point:function(X){return ag.fn.point.call(this,X)}});var D=function(){};D.fn=D.prototype={createRing:function(bf,bl){var bi=bf.startAngle+180;var be=bf.angle+bi;var X=new a9.Point(bf.c.x,bf.c.y);var bh=ae.max(bf.r,0);var bj=ae.max(bf.ir,0);var Y=new a9.Arc(X,{startAngle:bi,endAngle:be,radiusX:bh,radiusY:bh});var bk=aJ.Path.fromArc(Y,bl).close();if(bj){Y.radiusX=Y.radiusY=bj;var bg=Y.pointAt(be);bk.lineTo(bg.x,bg.y);bk.arc(be,bi,bj,bj,true)}else{bk.lineTo(X.x,X.y)}return bk}};D.current=new D();var aG=a3.extend({init:function(X){var Y=this;Y.children=[];Y.options=bd({},Y.options,X)},reflow:function(X){var bf=this,be=bf.children,bg,Y,bh;for(Y=0;Y<be.length;Y++){bh=be[Y];bh.reflow(X);bg=bg?bg.wrap(bh.box):bh.box.clone()}bf.box=bg||X},destroy:function(){var bf=this,be=bf.children,X=bf.getRoot(),Y;if(this.animation){this.animation.destroy()}for(Y=0;Y<be.length;Y++){be[Y].destroy()}},getRoot:function(){var X=this.parent;return X?X.getRoot():null},translateChildren:function(Y,X){var bh=this,bg=bh.children,bf=bg.length,be;for(be=0;be<bf;be++){bg[be].box.translate(Y,X)}},append:function(){W(this.children,arguments);for(var X=0;X<arguments.length;X++){arguments[X].parent=this}},renderVisual:function(){if(this.options.visible===false){return}this.createVisual();this.addVisual();this.renderChildren();this.createAnimation();this.renderComplete()},addVisual:function(){if(this.visual){this.visual.chartElement=this;if(this.parent){this.parent.appendVisual(this.visual)}}},renderChildren:function(){var Y=this.children;for(var X=0;X<Y.length;X++){Y[X].renderVisual()}},createVisual:function(){this.visual=new aC.drawing.Group({zIndex:this.options.zIndex,visible:h(this.options.visible,true)})},createAnimation:function(){if(this.visual){this.animation=aJ.Animation.create(this.visual,this.options.animation)}},appendVisual:function(X){if(!X.chartElement){X.chartElement=this}if(X.options.noclip){this.clipRoot().visual.append(X)}else{if(j(X.options.zIndex)){this.stackRoot().stackVisual(X)}else{if(this.visual){this.visual.append(X)}else{this.parent.appendVisual(X)}}}},clipRoot:function(){if(this.parent){return this.parent.clipRoot()}return this},stackRoot:function(){if(this.parent){return this.parent.stackRoot()}return this},stackVisual:function(be){var bh=be.options.zIndex||0;var bf=this.visual.children;for(var bg=0;bg<bf.length;bg++){var Y=bf[bg];var X=h(Y.options.zIndex,0);if(X>bh){break}}this.visual.insertAt(be,bg)},traverse:function(bf){var Y=this.children;for(var X=0;X<Y.length;X++){var be=Y[X];bf(be);if(be.traverse){be.traverse(bf)}}},closest:function(Y){var be=this;var X=false;while(be&&!X){X=Y(be);if(!X){be=be.parent}}if(X){return be}},renderComplete:aU.noop,hasHighlight:function(){var X=(this.options||{}).highlight;return !(!this.createHighlight||(X&&X.visible===false))},toggleHighlight:function(X){var bh=this;var Y=bh._highlight;var be=(bh.options||{}).highlight;var bg=(be||{}).visual;if(!Y){var bf={fill:{color:w,opacity:0.2},stroke:{color:w,width:1,opacity:0.2}};if(bg){Y=bh._highlight=bg(bd(bh.highlightVisualArgs(),{createVisual:function(){return bh.createHighlight(bf)},series:bh.series,dataItem:bh.dataItem,category:bh.category,value:bh.value,percentage:bh.percentage,runningTotal:bh.runningTotal,total:bh.total}));if(!Y){return}}else{Y=bh._highlight=bh.createHighlight(bf)}Y.options.zIndex=bh.options.zIndex;bh.appendVisual(Y)}Y.visible(X)},createGradientOverlay:function(be,Y,bf){var X=new aJ.Path(bd({stroke:{color:au},fill:this.createGradient(bf),closed:be.options.closed},Y));X.segments.elements(be.segments.elements());return X},createGradient:function(X){if(this.parent){return this.parent.createGradient(X)}}});var a=aG.extend({init:function(Y){var X=this;X.gradients={};aG.fn.init.call(X,Y)},options:{width:t,height:ah,background:w,border:{color:H,width:0},margin:C(5),zIndex:-2},reflow:function(){var Y=this,be=Y.options,bg=Y.children,X=new B(0,0,be.width,be.height);Y.box=X.unpad(be.margin);for(var bf=0;bf<bg.length;bf++){bg[bf].reflow(X);X=aw(X,bg[bf].box)||B()}},createVisual:function(){this.visual=new aJ.Group();this.createBackground()},createBackground:function(){var Y=this.options;var X=Y.border||{};var bf=this.box.clone().pad(Y.margin).unpad(X.width);var be=aJ.Path.fromRect(bf.toRect(),{stroke:{color:X.width?X.color:"",width:X.width,dashType:X.dashType},fill:{color:Y.background,opacity:Y.opacity},zIndex:-10});this.visual.append(be)},getRoot:function(){return this},createGradient:function(be){var X=this.gradients;var Y=aW.objectKey(be);var bh=aC.Gradients[be.gradient];var bf;if(X[Y]){bf=X[Y]}else{var bg=bd({},bh,be);if(bh.type=="linear"){bf=new aJ.LinearGradient(bg)}else{if(be.innerRadius){bg.stops=al(bg)}bf=new aJ.RadialGradient(bg);bf.supportVML=bh.supportVML!==false}X[Y]=bf}return bf}});var aK=aG.extend({options:{align:c,vAlign:o,margin:{},padding:{},border:{color:H,width:0},background:"",shrinkToFit:false,width:0,height:0,visible:true},reflow:function(bk){var bi=this,bj,bl,br=bi.options,Y=br.width,bo=br.height,bf=Y&&bo,bq=br.shrinkToFit,bg=C(br.margin),bm=C(br.padding),X=br.border.width,be=bi.children,bh,bp;function bn(){bi.align(bk,av,br.align);bi.align(bk,at,br.vAlign);bi.paddingBox=bj.clone().unpad(bg).unpad(X)}bl=bk.clone();if(bf){bl.x2=bl.x1+Y;bl.y2=bl.y1+bo}if(bq){bl.unpad(bg).unpad(X).unpad(bm)}aG.fn.reflow.call(bi,bl);if(bf){bj=bi.box=B(0,0,Y,bo)}else{bj=bi.box}if(bq&&bf){bn();bl=bi.contentBox=bi.paddingBox.clone().unpad(bm)}else{bl=bi.contentBox=bj.clone();bj.pad(bm).pad(X).pad(bg);bn()}bi.translateChildren(bj.x1-bl.x1+bg.left+X+bm.left,bj.y1-bl.y1+bg.top+X+bm.top);for(bh=0;bh<be.length;bh++){bp=be[bh];bp.reflow(bp.box)}},align:function(X,Y,be){this.box.align(X,Y,be)},hasBox:function(){var X=this.options;return X.border.width||X.background},createVisual:function(){aG.fn.createVisual.call(this);var X=this.options;if(X.visible&&this.hasBox()){this.visual.append(aJ.Path.fromRect(this.paddingBox.toRect(),this.visualStyle()))}},visualStyle:function(){var be=this,Y=be.options,X=Y.border||{};return{stroke:{width:X.width,color:X.color,opacity:h(X.opacity,Y.opacity),dashType:X.dashType},fill:{color:Y.background,opacity:Y.opacity},cursor:Y.cursor}}});var bb=aG.extend({init:function(Y,X){var be=this;aG.fn.init.call(be,X);be.content=Y;be.reflow(B())},options:{font:aA,color:H,align:c,vAlign:""},reflow:function(X){var bg=this,Y=bg.options,be,bf;be=Y.size=S(bg.content,{font:Y.font});bg.baseline=be.baseline;bg.box=B(X.x1,X.y1,X.x1+be.width,X.y1+be.height)},createVisual:function(){var X=this.options;this.visual=new aJ.Text(this.content,this.box.toRect().topLeft(),{font:X.font,fill:{color:X.color,opacity:X.opacity},cursor:X.cursor})}});var U=aG.extend({init:function(X){aG.fn.init.call(this,X);this._initDirection()},_initDirection:function(){var X=this.options;if(X.vertical){this.groupAxis=av;this.elementAxis=at;this.groupSizeField=V;this.elementSizeField=a0;this.groupSpacing=X.spacing;this.elementSpacing=X.vSpacing}else{this.groupAxis=at;this.elementAxis=av;this.groupSizeField=a0;this.elementSizeField=V;this.groupSpacing=X.vSpacing;this.elementSpacing=X.spacing}},options:{vertical:true,wrap:true,vSpacing:0,spacing:0},reflow:function(X){this.box=X.clone();this.reflowChildren()},reflowChildren:function(){var by=this;var bp=by.box;var bh=by.options;var bg=by.elementSpacing;var bz=by.groupSpacing;var bq=by.elementAxis;var bs=by.groupAxis;var bi=by.elementSizeField;var bj=by.groupSizeField;var bl=by.groupOptions();var bv=bl.groups;var bu=bv.length;var bt=bp[bs+1]+by.alignStart(bl.groupsSize,bp[bj]());var be=bt;var bo;var Y;var bk;var bx;var bn;var br;var bm;var bf;var bw;var X;if(bu){for(bm=0;bm<bu;bm++){bk=bv[bm];bx=bk.groupElements;bn=bx.length;bo=bp[bq+1];for(br=0;br<bn;br++){bf=bx[br];X=by.elementSize(bf);Y=be+by.alignStart(X[bj],bk.groupSize);bw=B();bw[bs+1]=Y;bw[bs+2]=Y+X[bj];bw[bq+1]=bo;bw[bq+2]=bo+X[bi];bf.reflow(bw);bo+=X[bi]+by.elementSpacing}be+=bk.groupSize+by.groupSpacing}bp[bs+1]=bt;bp[bs+2]=bt+bl.groupsSize;bp[bq+2]=bp[bq+1]+bl.maxGroupElementsSize}},alignStart:function(X,bf){var be=0;var Y=this.options.align;if(Y==k||Y==aV){be=bf-X}else{if(Y==N){be=(bf-X)/2}}return be},groupOptions:function(){var bs=this;var bn=bs.box;var bi=bs.children;var br=bi.length;var bj=this.elementSizeField;var bl=this.groupSizeField;var bf=this.elementSpacing;var bt=this.groupSpacing;var bg=T(bn[bj]());var bo=0;var Y=0;var X;var be;var bk=0;var bm=0;var bp=[];var bq=[];var bh=0;for(bo=0;bo<br;bo++){be=bi[bo];if(!be.box){be.reflow(bn)}X=this.elementSize(be);if(bs.options.wrap&&T(bk+bf+X[bj])>bg){bp.push({groupElements:bq,groupSize:Y,groupElementsSize:bk});bh=ae.max(bh,bk);bm+=bt+Y;Y=0;bk=0;bq=[]}Y=ae.max(Y,X[bl]);if(bk>0){bk+=bf}bk+=X[bj];bq.push(be)}bp.push({groupElements:bq,groupSize:Y,groupElementsSize:bk});bh=ae.max(bh,bk);bm+=Y;return{groups:bp,groupsSize:bm,maxGroupElementsSize:bh}},elementSize:function(X){return{width:X.box.width(),height:X.box.height()}},createVisual:aQ});var ac=aK.extend({ROWS_SPLIT_REGEX:/\n|\\n/m,init:function(be,Y){var X=this;X.content=be;aK.fn.init.call(X,Y);X._initContainer();X.reflow(B())},_initContainer:function(){var X=this;var bf=X.options;var bi=(X.content+"").split(X.ROWS_SPLIT_REGEX);var be=new U({vertical:true,align:bf.align,wrap:false});var Y=bd({},bf,{opacity:1,animation:null});var bg=X.hasBox();var bj;var bh;X.container=be;X.append(be);for(bh=0;bh<bi.length;bh++){bj=new bb(aX(bi[bh]),Y);be.append(bj)}},reflow:function(X){var Y=this.options;var be=Y.visual;this.container.options.align=Y.align;if(be&&!this._boxReflow){if(!X.hasSize()){this._boxReflow=true;this.reflow(X);this._boxReflow=false;X=this.box}this.visual=be(this.visualContext(X));var bh=X;if(this.visual){bh=R(this.visual.clippedBBox()||new a9.Rect());this.visual.options.zIndex=Y.zIndex;this.visual.options.noclip=Y.noclip}this.box=this.contentBox=this.paddingBox=bh}else{aK.fn.reflow.call(this,X);if(Y.rotation){var bg=C(Y.margin);var bf=this.box.unpad(bg);this.targetBox=X;this.normalBox=bf.clone();bf=this.rotate();bf.translate(bg.left-bg.right,bg.top-bg.bottom);this.rotatedBox=bf.clone();bf.pad(bg)}}},createVisual:function(){var X=this.options;if(!X.visible){return}this.visual=new aC.drawing.Group({transform:this.rotationTransform(),zIndex:X.zIndex,noclip:X.noclip});if(this.hasBox()){var Y=aJ.Path.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(Y)}},renderVisual:function(){if(this.options.visual){this.addVisual();this.createAnimation()}else{aK.fn.renderVisual.call(this)}},visualOptions:function(){var X=this.options;return{background:X.background,border:X.border,color:X.color,font:X.font,margin:X.margin,padding:X.padding,visible:X.visible}},visualContext:function(Y){var X=this;return{text:X.content,rect:Y.toRect(),options:X.visualOptions(),createVisual:function(){X._boxReflow=true;X.reflow(Y);X._boxReflow=false;return X.getDefaultVisual()}}},getDefaultVisual:function(){this.createVisual();this.renderChildren();var X=this.visual;delete this.visual;return X},rotate:function(){var X=this.options;this.box.rotate(X.rotation);this.align(this.targetBox,av,X.align);this.align(this.targetBox,at,X.vAlign);return this.box},rotationTransform:function(){var be=this.options.rotation;if(!be){return null}var Y=this.normalBox.center();var X=Y.x;var bg=Y.y;var bf=this.rotatedBox.center();return a9.transform().translate(bf.x-X,bf.y-bg).rotate(be,[X,bg])}});var y=aG.extend({init:function(X){var Y=this;aG.fn.init.call(Y,X);X=Y.options;Y.append(new ac(X.text,bd({},X,{vAlign:X.position})))},options:{color:H,position:o,align:N,margin:C(5),padding:C(5)},reflow:function(X){var Y=this;aG.fn.reflow.call(Y,X);Y.box.snapTo(X,av)}});y.buildTitle=function(Y,be,X){var bf;if(typeof Y==="string"){Y={text:Y}}Y=bd({visible:true},X,Y);if(Y&&Y.visible&&Y.text){bf=new y(Y);be.append(bf)}return bf};var a2=ac.extend({init:function(bg,bh,bf,be,Y){var X=this;X.text=bh;X.value=bg;X.index=bf;X.dataItem=be;ac.fn.init.call(X,bh,Y)},visualContext:function(X){var Y=ac.fn.visualContext.call(this,X);Y.value=this.value;Y.dataItem=this.dataItem;Y.format=this.options.format;Y.culture=this.options.culture;return Y},click:function(Y,be){var X=this;Y.trigger(aS,{element:aU(be.target),value:X.value,text:X.text,index:X.index,dataItem:X.dataItem,axis:X.parent.options})},rotate:function(){if(this.options.alignRotation!=N){var Y=this.normalBox.toRect();var X=this.rotationTransform();this.box=R(Y.bbox(X.matrix()))}else{ac.fn.rotate.call(this)}return this.box},rotationTransform:function(){var Y=this.options;var bp=Y.rotation;if(!bp){return null}if(Y.alignRotation==N){return ac.fn.rotationTransform.call(this)}var bj=a9.transform().rotate(bp).matrix();var bh=this.normalBox.toRect();var X=this.targetBox.toRect();var br=Y.rotationOrigin||o;var bn=br==o||br==aV?av:at;var bt=br==o||br==aV?at:av;var be=br==o||br==c?X.origin:X.bottomRight();var bo=bh.topLeft().transformCopy(bj);var bm=bh.topRight().transformCopy(bj);var bf=bh.bottomRight().transformCopy(bj);var bq=bh.bottomLeft().transformCopy(bj);var bg=a9.Rect.fromPoints(bo,bm,bf,bq);var bk={};bk[bt]=X.origin[bt]-bg.origin[bt];var bv=ae.abs(bo[bt]+bk[bt]-be[bt]);var bi=ae.abs(bm[bt]+bk[bt]-be[bt]);var bu;var bs;if(T(bv,aM)===T(bi,aM)){bu=bo;bs=bm}else{if(bi<bv){bu=bm;bs=bf}else{bu=bo;bs=bq}}var bl=bu[bn]+(bs[bn]-bu[bn])/2;bk[bn]=X.center()[bn]-bl;return a9.transform().translate(bk.x,bk.y).rotate(bp)}});function aD(bf,be){var Y=bf.tickX,bh=bf.tickY,X=bf.position;var bg=new aJ.Path({stroke:{width:be.width,color:be.color}});if(bf.vertical){bg.moveTo(Y,X).lineTo(Y+be.size,X)}else{bg.moveTo(X,bh).lineTo(X,bh+be.size)}ad(bg);return bg}function G(bf,bi){var bg=bf.lineStart,bh=bf.lineEnd,X=bf.position,bj,be;var Y=new aJ.Path({stroke:{width:bi.width,color:bi.color,dashType:bi.dashType}});if(bf.vertical){Y.moveTo(bg,X).lineTo(bh,X)}else{Y.moveTo(X,bg).lineTo(X,bh)}ad(Y);return Y}var L=aG.extend({init:function(X){var Y=this;aG.fn.init.call(Y,X);if(!Y.options.visible){Y.options=bd({},Y.options,{labels:{visible:false},line:{visible:false},margin:0,majorTickSize:0,minorTickSize:0})}Y.options.minorTicks=bd({},{color:Y.options.line.color,width:Y.options.line.width,visible:Y.options.minorTickType!=au},Y.options.minorTicks,{size:Y.options.minorTickSize,align:Y.options.minorTickType});Y.options.majorTicks=bd({},{color:Y.options.line.color,width:Y.options.line.width,visible:Y.options.majorTickType!=au},Y.options.majorTicks,{size:Y.options.majorTickSize,align:Y.options.majorTickType});if(!this.options._deferLables){Y.createLabels()}Y.createTitle();Y.createNotes()},options:{labels:{visible:true,rotation:0,mirror:false,step:1,skip:0},line:{width:1,color:H,visible:true},title:{visible:true,position:N},majorTicks:{align:aZ,size:4,skip:0,step:1},minorTicks:{align:aZ,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:aZ,minorTickType:au,majorGridLines:{skip:0,step:1},minorGridLines:{visible:false,width:1,color:H,skip:0,step:1},margin:5,visible:true,reverse:false,justified:true,notes:{label:{text:""}},_alignLines:true,_deferLabels:false},createLabels:function(){var be=this,bk=be.options,bh=bk.vertical?k:N,bg=bd({},bk.labels,{align:bh,zIndex:bk.zIndex}),Y=ae.max(1,bg.step);be.children=aU.grep(be.children,function(bl){return !(bl instanceof a2)});be.labels=[];if(bg.visible){var X=be.labelsCount(),bj=bg.rotation,bi,bf;if(O(bj)){bg.alignRotation=bj.align;bg.rotation=bj.angle}if(bg.rotation=="auto"){bg.rotation=0;bk.autoRotateLabels=true}for(bf=bg.skip;bf<X;bf+=Y){bi=be.createAxisLabel(bf,bg);if(bi){be.append(bi);be.labels.push(bi)}}}},lineBox:function(){var be=this,bm=be.options,bi=be.box,bf=bm.vertical,bk=be.labels,bg=bf?a0:V,bh=bm.justified,bl=bm.labels.mirror,Y=bl?bi.x1:bi.x2,X=bl?bi.y2:bi.y1,bj=bm.line.width||0;return bf?B(Y,bi.y1,Y,bi.y2-bj):B(bi.x1,X,bi.x2-bj,X)},createTitle:function(){var Y=this,X=Y.options,be=bd({rotation:X.vertical?-90:0,text:"",zIndex:1,visualSize:true},X.title),bf;if(be.visible&&be.text){bf=new ac(be.text,be);Y.append(bf);Y.title=bf}},createNotes:function(){var Y=this,bk=Y.options,bf=bk.notes,bg=bf.data||[],X,be,bi,bj,bh;Y.notes=[];for(be=0;be<bg.length;be++){bj=bd({},bf,bg[be]);bj.value=Y.parseNoteValue(bj.value);bh=new v(bj.value,bj.label.text,null,null,null,bj);if(bh.options.visible){if(j(bh.options.position)){if(bk.vertical&&!F(bh.options.position,[c,k])){bh.options.position=bk.reverse?c:k}else{if(!bk.vertical&&!F(bh.options.position,[o,aV])){bh.options.position=bk.reverse?aV:o}}}else{if(bk.vertical){bh.options.position=bk.reverse?c:k}else{bh.options.position=bk.reverse?aV:o}}Y.append(bh);Y.notes.push(bh)}}},parseNoteValue:function(X){return X},renderVisual:function(){aG.fn.renderVisual.call(this);this.createPlotBands()},createVisual:function(){aG.fn.createVisual.call(this);this.createBackground();this.createLine()},gridLinesVisual:function(){var X=this._gridLines;if(!X){X=this._gridLines=new aJ.Group({zIndex:-2});this.appendVisual(this._gridLines)}return X},createTicks:function(bf){var be=this,bl=be.options,bh=be.lineBox(),bj=bl.labels.mirror,bi=bl.majorTicks.visible?bl.majorUnit:0,bk={vertical:bl.vertical},Y,bg;function X(bn,bm,bp){var bo,bq=bn.length;if(bm.visible){for(bo=bm.skip;bo<bq;bo+=bm.step){if(j(bp)&&(bo%bp===0)){continue}bk.tickX=bj?bh.x2:bh.x2-bm.size;bk.tickY=bj?bh.y1-bm.size:bh.y1;bk.position=bn[bo];bf.append(aD(bk,bm))}}}X(be.getMajorTickPositions(),bl.majorTicks);X(be.getMinorTickPositions(),bl.minorTicks,bi/bl.minorUnit)},createLine:function(){var bg=this,bf=bg.options,Y=bf.line,X=bg.lineBox(),be;if(Y.width>0&&Y.visible){var bi=new aJ.Path({stroke:{width:Y.width,color:Y.color,dashType:Y.dashType}});bi.moveTo(X.x1,X.y1).lineTo(X.x2,X.y2);if(bf._alignLines){ad(bi)}var bh=this._lineGroup=new aJ.Group();bh.append(bi);this.visual.append(bh);this.createTicks(bh)}},getActualTickSize:function(){var Y=this,X=Y.options,be=0;if(X.majorTicks.visible&&X.minorTicks.visible){be=ae.max(X.majorTicks.size,X.minorTicks.size)}else{if(X.majorTicks.visible){be=X.majorTicks.size}else{if(X.minorTicks.visible){be=X.minorTicks.size}}}return be},createBackground:function(){var be=this,X=be.options,Y=X.background,bf=be.box;if(Y){be._backgroundPath=aJ.Path.fromRect(bf.toRect(),{fill:{color:Y},stroke:null});this.visual.append(be._backgroundPath)}},createPlotBands:function(){var be=this,bn=be.options,bm=bn.plotBands||[],bf=bn.vertical,X=be.plotArea,bi,bh,bk,bj;if(bm.length===0){return}var bl=this._plotbandGroup=new aJ.Group({zIndex:-1});var Y=aU.grep(be.pane.axes,function(bo){return bo.options.vertical!==be.options.vertical})[0];var bg=this.range();aU.each(bm,function(bp,bq){bk=h(bq.from,i);bj=h(bq.to,aq);var bo=[];if(bf){bi=(Y||X.axisX).lineBox();bh=be.getSlot(bq.from,bq.to,true)}else{bi=be.getSlot(bq.from,bq.to,true);bh=(Y||X.axisY).lineBox()}if(bi.width()!==0&&bh.height()!==0){var br=new a9.Rect([bi.x1,bh.y1],[bi.width(),bh.height()]);var bs=aJ.Path.fromRect(br,{fill:{color:bq.color,opacity:bq.opacity},stroke:null});bl.append(bs)}});be.appendVisual(bl)},createGridLines:function(be){var bf=this,bp=bf.options,bo=be.options.line.visible,bm=bp.majorGridLines,bj=bm.visible?bp.majorUnit:0,bg=bp.vertical,bi=be.lineBox(),bl=bi[bg?"y1":"x1"],bn={lineStart:bi[bg?"x1":"y1"],lineEnd:bi[bg?"x2":"y2"],vertical:bg},bk,bh=[];var X=this.gridLinesVisual();function Y(bq,bu,bs){var bt=bq.length,br;if(bu.visible){for(br=bu.skip;br<bt;br+=bu.step){bk=T(bq[br]);if(!F(bk,bh)){if(br%bs!==0&&(!bo||bl!==bk)){bn.position=bk;X.append(G(bn,bu));bh.push(bk)}}}}}Y(bf.getMajorTickPositions(),bp.majorGridLines);Y(bf.getMinorTickPositions(),bp.minorGridLines,bj/bp.minorUnit);return X.children},reflow:function(bm){var bh=this,bq=bh.options,bi=bq.vertical,bn=bh.labels,bo=bn.length,bp=bh.title,bf=bi?V:a0,be=bp?bp.box[bf]():0,X=bh.getActualTickSize()+bq.margin+be,Y=0,bl=(this.getRoot()||{}).box||bm,bg=bl[bf](),bj,bk;for(bk=0;bk<bo;bk++){bj=bn[bk].box[bf]();if(bj+X<=bg){Y=ae.max(Y,bj)}}if(bi){bh.box=B(bm.x1,bm.y1,bm.x1+Y+X,bm.y2)}else{bh.box=B(bm.x1,bm.y1,bm.x2,bm.y1+Y+X)}bh.arrangeTitle();bh.arrangeLabels();bh.arrangeNotes()},arrangeLabels:function(){var bf=this,bg=bf.options,bt=bf.labels,bm=!bg.justified,be=bg.vertical,X=bf.lineBox(),bn=bg.labels.mirror,bu=bf.getMajorTickPositions(),br=bf.getActualTickSize()+bg.margin,bq,bk,bs;for(bs=0;bs<bt.length;bs++){var bi=bt[bs],bh=bi.index,bj=be?bi.box.height():bi.box.width(),bo=bu[bh]-(bj/2),bp,Y,bv,bl;if(be){if(bm){bp=bu[bh];Y=bu[bh+1];bv=bp+(Y-bp)/2;bo=bv-(bj/2)}bl=X.x2;if(bn){bl+=br;bi.options.rotationOrigin=c}else{bl-=br+bi.box.width();bi.options.rotationOrigin=k}bq=bi.box.move(bl,bo)}else{if(bm){bp=bu[bh];Y=bu[bh+1]}else{bp=bo;Y=bo+bj}bk=X.y1;if(bn){bk-=br+bi.box.height();bi.options.rotationOrigin=aV}else{bk+=br;bi.options.rotationOrigin=o}bq=B(bp,bk,Y,bk+bi.box.height())}bi.reflow(bq)}},autoRotateLabels:function(){if(this.options.autoRotateLabels&&!this.options.vertical){var Y=this.getMajorTickPositions();var bh=this.labels;var be,bg,bf,X;for(X=0;X<bh.length;X++){bf=Y[X+1]-Y[X];be=bh[X].box;if(be.height()>bf){bg=-90;break}if(be.width()>bf){bg=-45}}if(bg){for(X=0;X<bh.length;X++){bh[X].options.rotation=bg;bh[X].reflow(B())}return true}}},arrangeTitle:function(){var be=this,Y=be.options,bf=Y.labels.mirror,X=Y.vertical,bg=be.title;if(bg){if(X){bg.options.align=bf?k:c;bg.options.vAlign=bg.options.position}else{bg.options.align=bg.options.position;bg.options.vAlign=bf?o:aV}bg.reflow(be.box)}},arrangeNotes:function(){var Y=this,X,be,bg,bf;for(X=0;X<Y.notes.length;X++){be=Y.notes[X];bf=be.options.value;if(j(bf)){if(Y.shouldRenderNote(bf)){be.show()}else{be.hide()}bg=Y.getSlot(bf)}else{be.hide()}be.reflow(bg||Y.lineBox())}},alignTo:function(be){var bf=this,X=be.lineBox(),Y=bf.options.vertical,bg=Y?at:av;bf.box.snapTo(X,bg);if(Y){bf.box.shrink(0,bf.lineBox().height()-X.height())}else{bf.box.shrink(bf.lineBox().width()-X.width(),0)}bf.box[bg+1]-=bf.lineBox()[bg+1]-X[bg+1];bf.box[bg+2]-=bf.lineBox()[bg+2]-X[bg+2]},axisLabelText:function(bf,be,Y){var bg=bf;if(Y.template){var X=Z(Y.template);bg=X({value:bf,dataItem:be,format:Y.format,culture:Y.culture})}else{if(Y.format){if(Y.format.match(d)){bg=x.format(Y.format,bf)}else{bg=x.toString(bf,Y.format,Y.culture)}}}return bg},slot:function(be,Y){var X=this.getSlot(be,Y);if(X){return X.toRect()}},contentBox:function(){var X=this.box.clone();if(this.labels.length){X.wrap(this.labels[0].box).wrap(ap(this.labels).box)}return X}});var v=aK.extend({init:function(bh,bi,Y,bg,be,X){var bf=this;aK.fn.init.call(bf,X);bf.value=bh;bf.text=bi;bf.dataItem=Y;bf.category=bg;bf.series=be;bf.render()},options:{icon:{visible:true,type:n},label:{position:q,visible:true,align:N,vAlign:N},line:{visible:true},visible:true,position:o,zIndex:2},hide:function(){this.options.visible=false},show:function(){this.options.visible=true},render:function(){var bg=this,bm=bg.options,bi=bm.label,bk=bg.text,bh=bm.icon,bl=bh.size,bf=B(),be,X,bj,Y;if(bm.visible){if(j(bi)&&bi.visible){if(bi.template){Y=Z(bi.template);bk=Y({dataItem:bg.dataItem,category:bg.category,value:bg.value,text:bk,series:bg.series})}else{if(bi.format){bk=aL(bi.format,bk)}}bg.label=new ac(bk,bd({},bi));if(bi.position===q&&!j(bl)){if(bh.type===n){bl=ae.max(bg.label.box.width(),bg.label.box.height())}else{X=bg.label.box.width();bj=bg.label.box.height()}bf.wrap(bg.label.box)}}bh.width=X||bl||am;bh.height=bj||bl||am;be=new az(bd({},bh));bg.marker=be;bg.append(be);if(bg.label){bg.append(bg.label)}be.reflow(B());bg.wrapperBox=bf.wrap(be.box)}},reflow:function(bj){var bk=this,bn=bk.options,X=bj.center(),bm=bk.wrapperBox,Y=bn.line.length,bg=bn.position,bl=bk.label,be=bk.marker,bh,bf,bi;if(bn.visible){if(F(bg,[c,k])){if(bg===c){bi=bm.alignTo(bj,bg).translate(-Y,bj.center().y-bm.center().y);if(bn.line.visible){bh=[ae.floor(bj.x1),X.y];bk.linePoints=[bh,[ae.floor(bi.x2),X.y]];bf=bi.clone().wrapPoint(bh)}}else{bi=bm.alignTo(bj,bg).translate(Y,bj.center().y-bm.center().y);if(bn.line.visible){bh=[ae.floor(bj.x2),X.y];bk.linePoints=[bh,[ae.floor(bi.x1),X.y]];bf=bi.clone().wrapPoint(bh)}}}else{if(bg===aV){bi=bm.alignTo(bj,bg).translate(bj.center().x-bm.center().x,Y);if(bn.line.visible){bh=[ae.floor(X.x),ae.floor(bj.y2)];bk.linePoints=[bh,[ae.floor(X.x),ae.floor(bi.y1)]];bf=bi.clone().wrapPoint(bh)}}else{bi=bm.alignTo(bj,bg).translate(bj.center().x-bm.center().x,-Y);if(bn.line.visible){bh=[ae.floor(X.x),ae.floor(bj.y1)];bk.linePoints=[bh,[ae.floor(X.x),ae.floor(bi.y2)]];bf=bi.clone().wrapPoint(bh)}}}if(be){be.reflow(bi)}if(bl){bl.reflow(bi);if(be){if(bn.label.position===aZ){bl.box.alignTo(be.box,bg)}bl.reflow(bl.box)}}bk.contentBox=bi;bk.targetBox=bj;bk.box=bf||bi}},createVisual:function(){aK.fn.createVisual.call(this);if(this.options.visible){this.createLine()}},renderVisual:function(){var be=this;var X=be.options;var Y=X.visual;if(X.visible&&Y){var bf=be.targetPoint;be.visual=Y({dataItem:be.dataItem,category:be.category,value:be.value,text:be.text,series:be.series,rect:be.targetBox.toRect(),options:{background:X.background,border:X.background,icon:X.icon,label:X.label,line:X.line,position:X.position,visible:X.visible},createVisual:function(){be.createVisual();be.renderChildren();var bg=be.visual;delete be.visual;return bg}});be.addVisual()}else{aK.fn.renderVisual.call(be)}},createLine:function(){var X=this.options.line;if(this.linePoints){var Y=aJ.Path.fromPoints(this.linePoints,{stroke:{color:X.color,width:X.width,dashType:X.dashType}});ad(Y);this.visual.append(Y)}},click:function(Y,be){var X=this.eventArgs(be);if(!Y.trigger(aO,X)){be.preventDefault()}},hover:function(Y,be){var X=this.eventArgs(be);if(!Y.trigger(s,X)){be.preventDefault()}},leave:function(X){X._unsetActivePoint()},eventArgs:function(be){var Y=this,X=Y.options;return{element:aU(be.target),text:j(X.label)?X.label.text:"",dataItem:Y.dataItem,series:Y.series,value:Y.value,category:Y.category}}});var az=aK.extend({init:function(Y,X){this.pointData=X;aK.fn.init.call(this,Y)},options:{type:n,align:N,vAlign:N},getElement:function(){var bh=this,bm=bh.options,bj=bm.type,bl=bm.rotation,bi=bh.paddingBox,bg,X=bi.center(),bf=bi.width()/2,bk,be;if(!bm.visible||!bh.hasBox()){return}var Y=bh.visualStyle();if(bj===n){bg=new aJ.Circle(new a9.Circle([T(bi.x1+bf,af),T(bi.y1+bi.height()/2,af)],bf),Y)}else{if(bj===aP){bg=aJ.Path.fromPoints([[bi.x1+bf,bi.y1],[bi.x1,bi.y2],[bi.x2,bi.y2]],Y).close()}else{if(bj===p){bg=new aJ.MultiPath(Y);bg.moveTo(bi.x1,bi.y1).lineTo(bi.x2,bi.y2);bg.moveTo(bi.x1,bi.y2).lineTo(bi.x2,bi.y1)}else{bg=aJ.Path.fromRect(bi.toRect(),Y)}}}if(bl){bg.transform(a9.transform().rotate(-bl,[X.x,X.y]))}bg.options.zIndex=this.options.zIndex;return bg},createElement:function(){var bf=this;var Y=bf.options.visual;var X=bf.pointData||{};var be;if(Y){be=Y({value:X.value,dataItem:X.dataItem,series:X.series,category:X.category,rect:bf.paddingBox.toRect(),options:bf.visualOptions(),createVisual:function(){return bf.getElement()}})}else{be=bf.getElement()}return be},visualOptions:function(){var X=this.options;return{background:X.background,border:X.border,margin:X.margin,padding:X.padding,type:X.type,size:X.width,visible:X.visible}},createVisual:function(){this.visual=this.createElement()}});var aB=L.extend({init:function(X,bg,be){var bf=this,Y=bf.initDefaults(X,bg,be);L.fn.init.call(bf,Y)},startValue:function(){return 0},options:{type:"numeric",min:0,max:1,vertical:true,majorGridLines:{visible:true,width:1,color:H},labels:{format:"#.####################"},zIndex:1},initDefaults:function(be,bh,bk){var Y=this,bl=bk.narrowRange,bi=Y.autoAxisMin(be,bh,bl),X=Y.autoAxisMax(be,bh,bl),bg=e(bi,X),bf={majorUnit:bg},bj;if(bk.roundToMajorUnit!==false){if(bi<0&&a6(bi,bg,1/3)){bi-=bg}if(X>0&&a6(X,bg,1/3)){X+=bg}}bf.min=an(bi,bg);bf.max=aT(X,bg);if(bk){bj=j(bk.min)||j(bk.max);if(bj){if(bk.min===bk.max){if(bk.min>0){bk.min=0}else{bk.max=1}}}if(bk.majorUnit){bf.min=an(bf.min,bk.majorUnit);bf.max=aT(bf.max,bk.majorUnit)}else{if(bj){bk=bd(bf,bk);bf.majorUnit=e(bk.min,bk.max)}}}bf.minorUnit=(bk.majorUnit||bf.majorUnit)/5;return bd(bf,bk)},range:function(){var X=this.options;return{min:X.min,max:X.max}},autoAxisMax:function(Y,X,bg){var bf,be;if(!Y&&!X){return 1}if(Y<=0&&X<=0){X=Y==X?0:X;be=ae.abs((X-Y)/X);if(bg===false||(!bg&&be>aR)){return 0}bf=ae.min(0,X-((Y-X)/2))}else{Y=Y==X?0:Y;bf=X}return bf},autoAxisMin:function(be,X,bg){var Y,bf;if(!be&&!X){return 0}if(be>=0&&X>=0){be=be==X?0:be;bf=(X-be)/X;if(bg===false||(!bg&&bf>aR)){return 0}Y=ae.max(0,be-((X-be)/2))}else{X=be==X?0:X;Y=be}return Y},getDivisions:function(X){if(X===0){return 1}var be=this.options,Y=be.max-be.min;return ae.floor(T(Y/X,af))+1},getTickPositions:function(bp,bi){var bf=this,bg=bf.options,be=bg.vertical,bn=bg.reverse,X=bf.lineBox(),bj=be?X.height():X.width(),bq=bg.max-bg.min,bt=bj/bq,bl=bp*bt,Y=0,bh=bf.getDivisions(bp),br=(be?-1:1)*(bn?-1:1),bo=br===1?1:2,bk=X[(be?at:av)+bo],bm=[],bs;if(bi){Y=bi/bp}for(bs=0;bs<bh;bs++){if(bs%Y!==0){bm.push(T(bk,af))}bk=bk+bl*br}return bm},getMajorTickPositions:function(){var X=this;return X.getTickPositions(X.options.majorUnit)},getMinorTickPositions:function(){var X=this;return X.getTickPositions(X.options.minorUnit)},getSlot:function(bm,bl,bh){var bf=this,br=bf.options,bk=br.reverse,bg=br.vertical,bq=bg?at:av,bj=bf.lineBox(),bi=bj[bq+(bk?2:1)],bo=bg?bj.height():bj.width(),be=bk?-1:1,X=be*(bo/(br.max-br.min)),bp,bn,Y=new B(bj.x1,bj.y1,bj.x1,bj.y1);if(!j(bm)){bm=bl||0}if(!j(bl)){bl=bm||0}if(bh){bm=ae.max(ae.min(bm,br.max),br.min);bl=ae.max(ae.min(bl,br.max),br.min)}if(bg){bp=br.max-ae.max(bm,bl);bn=br.max-ae.min(bm,bl)}else{bp=ae.min(bm,bl)-br.min;bn=ae.max(bm,bl)-br.min}Y[bq+1]=ae.max(ae.min(bi+X*(bk?bn:bp),ay),-ay);Y[bq+2]=ae.max(ae.min(bi+X*(bk?bp:bn),ay),-ay);return Y},getValue:function(bo){var bf=this,br=bf.options,bl=br.reverse,bg=br.vertical,bm=br.max*1,bi=br.min*1,bq=bg?at:av,bk=bf.lineBox(),bj=bk[bq+(bl?2:1)],bp=bg?bk.height():bk.width(),be=bl?-1:1,bh=be*(bo[bq]-bj),Y=(bm-bi)/bp,X=bh*Y,bn;if(bh<0||bh>bp){return null}bn=bg?bm-X:bi+X;return T(bn,aM)},translateRange:function(bj){var X=this,bl=X.options,bh=X.lineBox(),be=bl.vertical,bi=bl.reverse,bk=be?bh.height():bh.width(),bg=bl.max-bl.min,Y=bk/bg,bf=T(bj/Y,aM);if((be||bi)&&!(be&&bi)){bf=-bf}return{min:bl.min+bf,max:bl.max+bf}},scaleRange:function(bf){var Y=this,X=Y.options,be=-bf*X.majorUnit;return{min:X.min-be,max:X.max+be}},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(be,X){var bf=this,Y=bf.options,bg=T(Y.min+(be*Y.majorUnit),aM),bh=bf.axisLabelText(bg,null,X);return new a2(bg,bh,be,null,X)},shouldRenderNote:function(Y){var X=this.range();return X.min<=Y&&Y<=X.max}});var a7=L.extend({init:function(X,be,Y){this.options=this._initOptions(X,be,Y);L.fn.init.call(this,Y)},startValue:function(){return this.options.min},options:{type:"log",majorUnit:10,minorUnit:1,axisCrossingValue:1,vertical:true,majorGridLines:{visible:true,width:1,color:H},zIndex:1},getSlot:function(bu,bt,bs){var bi=this,bj=bi.options,bo=bj.reverse,bg=bj.vertical,br=bg?at:av,X=bi.lineBox(),bp=X[br+(bo?2:1)],bm=bg?X.height():X.width(),bq=bo?-1:1,bk=bj.majorUnit,be=bi.logMin,bh=bi.logMax,bn=bq*(bm/(bh-be)),bf,Y,bl=new B(X.x1,X.y1,X.x1,X.y1);if(!j(bu)){bu=bt||1}if(!j(bt)){bt=bu||1}if(bu<=0||bt<=0){return}if(bs){bu=ae.max(ae.min(bu,bj.max),bj.min);bt=ae.max(ae.min(bt,bj.max),bj.min)}bu=f(bu,bk);bt=f(bt,bk);if(bg){bf=bh-ae.max(bu,bt);Y=bh-ae.min(bu,bt)}else{bf=ae.min(bu,bt)-be;Y=ae.max(bu,bt)-be}bl[br+1]=bp+bn*(bo?Y:bf);bl[br+2]=bp+bn*(bo?bf:Y);return bl},getValue:function(br){var bg=this,bh=bg.options,bm=bh.reverse,be=bh.vertical,X=bg.lineBox(),bi=bh.majorUnit,Y=bg.logMin,bf=bg.logMax,bp=be===bm?1:-1,bn=bp===1?1:2,bk=be?X.height():X.width(),bl=((bf-Y)/bk),bs=be?at:av,bo=X[bs+bn],bj=bp*(br[bs]-bo),bt=bj*bl,bq;if(bj<0||bj>bk){return null}bq=Y+bt;return T(ae.pow(bi,bq),aM)},range:function(){var X=this.options;return{min:X.min,max:X.max}},scaleRange:function(bg){var Y=this,X=Y.options,be=X.majorUnit,bf=-bg;return{min:ae.pow(be,Y.logMin-bf),max:ae.pow(be,Y.logMax+bf)}},translateRange:function(bl){var be=this,bn=be.options,Y=bn.majorUnit,bj=be.lineBox(),bg=bn.vertical,bk=bn.reverse,bm=bg?bj.height():bj.width(),X=be.logMin,bi=be.logMax,bf=bm/(be.logMax-be.logMin),bh=T(bl/bf,aM);if((bg||bk)&&!(bg&&bk)){bh=-bh}return{min:ae.pow(Y,be.logMin+bh),max:ae.pow(Y,be.logMax+bh)}},labelsCount:function(){var Y=this,X=ae.floor(Y.logMax),be=ae.floor(X-Y.logMin)+1;return be},getMajorTickPositions:function(){var X=this,Y=[];X.traverseMajorTicksPositions(function(be){Y.push(be)},{step:1,skip:0});return Y},createTicks:function(bf){var be=this,bl=[],bn=be.options,bj=be.lineBox(),bk=bn.labels.mirror,bi=bn.majorTicks,bg=bn.minorTicks,bm={vertical:bn.vertical},Y,bh;function X(bo,bp){bm.tickX=bk?bj.x2:bj.x2-bp.size;bm.tickY=bk?bj.y1-bp.size:bj.y1;bm.position=bo;bf.append(aD(bm,bp))}if(bi.visible){be.traverseMajorTicksPositions(X,bi)}if(bg.visible){be.traverseMinorTicksPositions(X,bg)}return bl},createGridLines:function(be){var bf=this,bo=bf.options,bn=be.options.line.visible,bk=bo.majorGridLines,bl=bo.minorGridLines,bg=bo.vertical,bi=be.lineBox(),bm={lineStart:bi[bg?"x1":"y1"],lineEnd:bi[bg?"x2":"y2"],vertical:bg},bj,bh=[];var X=this.gridLinesVisual();function Y(bp,bq){if(!F(bp,bh)){bm.position=bp;X.append(G(bm,bq));bh.push(bp)}}if(bk.visible){bf.traverseMajorTicksPositions(Y,bk)}if(bl.visible){bf.traverseMinorTicksPositions(Y,bl)}return X.children},traverseMajorTicksPositions:function(bk,be){var bg=this,bl=bg._lineOptions(),bj=bl.lineStart,bf=bl.step,X=bg.logMin,bh=bg.logMax,Y,bi;for(Y=ae.ceil(X)+be.skip;Y<=bh;Y+=be.step){bi=T(bj+bf*(Y-X),aM);bk(bi,be)}},traverseMinorTicksPositions:function(bh,bk){var be=this,bf=be.options,bq=be._lineOptions(),bm=bq.lineStart,bu=bq.step,bi=bf.majorUnit,X=be.logMin,Y=be.logMax,bg=ae.floor(X),bp=bf.max,bo=bf.min,bt=bf.minorUnit,bj,bn,br,bs;for(bj=bg;bj<Y;bj++){bs=be._minorIntervalOptions(bj);for(var bl=bk.skip;bl<bt;bl+=bk.step){bn=bs.value+bl*bs.minorStep;if(bn>bp){break}if(bn>=bo){br=T(bm+bu*(f(bn,bi)-X),aM);bh(br,bk)}}}},createAxisLabel:function(be,X){var bg=this,Y=bg.options,bf=ae.ceil(bg.logMin+be),bh=Math.pow(Y.majorUnit,bf),bi=bg.axisLabelText(bh,null,X);return new a2(bh,bi,be,null,X)},shouldRenderNote:function(Y){var X=this.range();return X.min<=Y&&Y<=X.max},_throwNegativeValuesError:function(){throw new Error("Non positive values cannot be used for a logarithmic axis")},_initOptions:function(be,bi,bk){var Y=this,bh=bd({},Y.options,{min:be,max:bi},bk),bg=bh.min,bj=bh.max,X=bh.majorUnit,bf;if(bh.axisCrossingValue<=0){Y._throwNegativeValuesError()}if(!j(bk.max)){bf=T(f(bj,X),aM)%1;if(bj<=0){bj=X}else{if(bf!==0&&(bf<0.3||bf>0.9)){bj=ae.pow(X,f(bj,X)+0.2)}else{bj=ae.pow(X,ae.ceil(f(bj,X)))}}}else{if(bk.max<=0){Y._throwNegativeValuesError()}}if(!j(bk.min)){if(bg<=0){bg=bj<=1?ae.pow(X,-2):1}else{if(!bk.narrowRange){bg=ae.pow(X,ae.floor(f(bg,X)))}}}else{if(bk.min<=0){Y._throwNegativeValuesError()}}Y.logMin=T(f(bg,X),aM);Y.logMax=T(f(bj,X),aM);bh.max=bj;bh.min=bg;bh.minorUnit=bk.minorUnit||T(X-1,aM);return bh},_minorIntervalOptions:function(be){var bg=this.options.majorUnit,bf=ae.pow(bg,be),X=ae.pow(bg,be+1),bh=X-bf,Y=bh/this.options.minorUnit;return{value:bf,minorStep:Y}},_lineOptions:function(){var be=this,bm=be.options,bj=bm.reverse,bg=bm.vertical,bl=bg?at:av,bi=be.lineBox(),bf=bg===bj?1:-1,X=bf===1?1:2,bk=bg?bi.height():bi.width(),Y=bf*(bk/(be.logMax-be.logMin)),bh=bi[bl+X];return{step:Y,lineStart:bh,lineBox:bi}}});aC.Gradients={glass:{type:bc,rotation:0,stops:[{offset:0,color:w,opacity:0},{offset:0.25,color:w,opacity:0.3},{offset:1,color:w,opacity:0}]},sharpBevel:{type:g,stops:[{offset:0,color:w,opacity:0.55},{offset:0.65,color:w,opacity:0},{offset:0.95,color:w,opacity:0.25}]},roundedBevel:{type:g,stops:[{offset:0.33,color:w,opacity:0.06},{offset:0.83,color:w,opacity:0.2},{offset:0.95,color:w,opacity:0}]},roundedGlass:{type:g,supportVML:false,stops:[{offset:0,color:w,opacity:0},{offset:0.5,color:w,opacity:0.3},{offset:0.99,color:w,opacity:0}]},sharpGlass:{type:g,supportVML:false,stops:[{offset:0,color:w,opacity:0.2},{offset:0.15,color:w,opacity:0.15},{offset:0.17,color:w,opacity:0.35},{offset:0.85,color:w,opacity:0.05},{offset:0.87,color:w,opacity:0.15},{offset:0.99,color:w,opacity:0}]}};var aE={extend:function(X,Y){if(!X.exportVisual){throw new Error("Mixin target has no exportVisual method defined.")}X.exportSVG=this.exportSVG;X.exportImage=this.exportImage;X.exportPDF=this.exportPDF;if(!Y){X.svg=this.svg;X.imageDataURL=this.imageDataURL}},exportSVG:function(X){return aJ.exportSVG(this.exportVisual(),X)},exportImage:function(X){return aJ.exportImage(this.exportVisual(),X)},exportPDF:function(X){return aJ.exportPDF(this.exportVisual(),X)},svg:function(){if(aJ.svg.Surface){return aJ.svg._exportGroup(this.exportVisual())}else{throw new Error("SVG Export failed. Unable to export instantiate kendo.drawing.svg.Surface")}},imageDataURL:function(){if(!x.support.canvas){return null}if(aJ.canvas.Surface){var Y=aU("<div />").css({display:"none",width:this.element.width(),height:this.element.height()}).appendTo(document.body);var X=new aJ.canvas.Surface(Y);X.draw(this.exportVisual());var be=X._rootElement.toDataURL();X.destroy();Y.remove();return be}else{throw new Error("Image Export failed. Unable to export instantiate kendo.drawing.canvas.Surface")}}};function e(bf,be){var bg=T(be-bf,aM-1);if(bg===0){if(be===0){return 0.1}bg=ae.abs(be)}var bh=ae.pow(10,ae.floor(ae.log(bg)/ae.log(10))),Y=T((bg/bh),aM),X=1;if(Y<1.904762){X=0.2}else{if(Y<4.761904){X=0.5}else{if(Y<9.523809){X=1}else{X=2}}}return T(bh*X,aM)}function u(X){var be=[];for(var Y in X){be.push(Y+X[Y])}return be.sort().join(" ")}function ar(Y,bh,X,bg,bf){var be=bf*aN;return new b(X+(Y-X)*ae.cos(be)+(bh-bg)*ae.sin(be),bg-(Y-X)*ae.sin(be)+(bh-bg)*ae.cos(be))}function aw(X,bm){if(X.x1==bm.x1&&X.y1==bm.y1&&X.x2==bm.x2&&X.y2==bm.y2){return bm}var bk=ae.min(X.x1,bm.x1),bj=ae.max(X.x1,bm.x1),bi=ae.min(X.x2,bm.x2),bh=ae.max(X.x2,bm.x2),bg=ae.min(X.y1,bm.y1),bf=ae.max(X.y1,bm.y1),be=ae.min(X.y2,bm.y2),Y=ae.max(X.y2,bm.y2),bl=[];bl[0]=B(bj,bg,bi,bf);bl[1]=B(bk,bf,bj,be);bl[2]=B(bi,bf,bh,be);bl[3]=B(bj,be,bi,Y);if(X.x1==bk&&X.y1==bg||bm.x1==bk&&bm.y1==bg){bl[4]=B(bk,bg,bj,bf);bl[5]=B(bi,be,bh,Y)}else{bl[4]=B(bi,bg,bh,bf);bl[5]=B(bk,be,bj,Y)}return aU.grep(bl,function(bn){return bn.height()>0&&bn.width()>0})[0]}function F(X,Y){return r(X,Y)!=-1}function aT(Y,X){return T(ae.ceil(Y/X)*X,aM)}function an(Y,X){return T(ae.floor(Y/X)*X,aM)}function T(be,X){var Y=ae.pow(10,X||0);return ae.round(be*Y)/Y}function f(Y,X){return ae.log(Y)/ae.log(X)}function a6(bf,bg,Y){var be=T(ae.abs(bf%bg),aM),X=bg*(1-Y);return be===0||be>X}function ai(be,X,Y){return T(be+(X-be)*Y,af)}function ba(Y,X){return Y-X}function ab(X,bg,bf){var Y,be=X.length;for(Y=0;Y<be;Y++){X[Y][bg]=bf}}function aL(Y,X){if(Y.match(d)){return x.format.apply(this,arguments)}return x.toString(X,Y)}function a1(X){var Y=X.parentNode;while(Y&&Y.parentNode){Y=Y.parentNode}return Y!==Q}function a5(Y,X){return -Y.x*X.y+Y.y*X.x<0}function K(Y,X){if(Y&&X){return Y.getTime()-X.getTime()}return -1}var a4=function(X){this.closed=X};a4.prototype=a4.fn={WEIGHT:0.333,EXTREMUM_ALLOWED_DEVIATION:0.01,process:function(bm){var bi=this,bj=bi.closed,bn=bm.slice(0),X=bn.length,bh=[],bq,bo,bl,br,bg,Y,bp;if(X>2){bi.removeDuplicates(0,bn);X=bn.length}if(X<2||(X==2&&bn[0].equals(bn[1]))){return bh}bq=bn[0];bo=bn[1];bl=bn[2];bh.push(new aJ.Segment(bq));while(bq.equals(bn[X-1])){bj=true;bn.pop();X--}if(X==2){bp=bi.tangent(bq,bo,av,at);ap(bh).controlOut(bi.firstControlPoint(bp,bq,bo,av,at));bh.push(new aJ.Segment(bo,bi.secondControlPoint(bp,bq,bo,av,at)));return bh}if(bj){bq=bn[X-1];bo=bn[0];bl=bn[1];br=bi.controlPoints(bq,bo,bl);bg=br[1];Y=br[0]}else{bp=bi.tangent(bq,bo,av,at);bg=bi.firstControlPoint(bp,bq,bo,av,at)}var bf=bg;for(var bk=0;bk<=X-3;bk++){bi.removeDuplicates(bk,bn);X=bn.length;if(bk+3<=X){bq=bn[bk];bo=bn[bk+1];bl=bn[bk+2];br=bi.controlPoints(bq,bo,bl);ap(bh).controlOut(bf);bf=br[1];var be=br[0];bh.push(new aJ.Segment(bo,be))}}if(bj){bq=bn[X-2];bo=bn[X-1];bl=bn[0];br=bi.controlPoints(bq,bo,bl);ap(bh).controlOut(bf);bh.push(new aJ.Segment(bo,br[0]));ap(bh).controlOut(br[1]);bh.push(new aJ.Segment(bl,Y))}else{bp=bi.tangent(bo,bl,av,at);ap(bh).controlOut(bf);bh.push(new aJ.Segment(bl,bi.secondControlPoint(bp,bo,bl,av,at)))}return bh},removeDuplicates:function(X,Y){while(Y[X].equals(Y[X+1])||Y[X+1].equals(Y[X+2])){Y.splice(X+1,1)}},invertAxis:function(bi,bh,bg){var bf=this,be,Y,X=false;if(bi.x===bh.x){X=true}else{if(bh.x===bg.x){if((bh.y<bg.y&&bi.y<=bh.y)||(bg.y<bh.y&&bh.y<=bi.y)){X=true}}else{be=bf.lineFunction(bi,bh);Y=bf.calculateFunction(be,bg.x);if(!(bi.y<=bh.y&&bg.y<=Y)&&!(bh.y<=bi.y&&bg.y>=Y)){X=true}}}return X},isLine:function(bh,bg,bf){var be=this,Y=be.lineFunction(bh,bg),X=be.calculateFunction(Y,bf.x);return(bh.x==bg.x&&bg.x==bf.x)||T(X,1)===T(bf.y,1)},lineFunction:function(bf,be){var Y=(be.y-bf.y)/(be.x-bf.x),X=bf.y-Y*bf.x;return[X,Y]},controlPoints:function(bq,bo,bn){var bk=this,bg=av,bm=at,Y=false,bl=false,bp,X,bj,bi,bh=bk.EXTREMUM_ALLOWED_DEVIATION;if(bk.isLine(bq,bo,bn)){bp=bk.tangent(bq,bo,av,at)}else{X={x:bk.isMonotonicByField(bq,bo,bn,av),y:bk.isMonotonicByField(bq,bo,bn,at)};if(X.x&&X.y){bp=bk.tangent(bq,bn,av,at);Y=true}else{if(bk.invertAxis(bq,bo,bn)){bg=at;bm=av}if(X[bg]){bp=0}else{var be;if((bn[bm]<bq[bm]&&bq[bm]<=bo[bm])||(bq[bm]<bn[bm]&&bo[bm]<=bq[bm])){be=bk.sign((bn[bm]-bq[bm])*(bo[bg]-bq[bg]))}else{be=-bk.sign((bn[bg]-bq[bg])*(bo[bm]-bq[bm]))}bp=bh*be;bl=true}}}bi=bk.secondControlPoint(bp,bq,bo,bg,bm);if(bl){var bf=bg;bg=bm;bm=bf}bj=bk.firstControlPoint(bp,bo,bn,bg,bm);if(Y){bk.restrictControlPoint(bq,bo,bi,bp);bk.restrictControlPoint(bo,bn,bj,bp)}return[bi,bj]},sign:function(X){return X<=0?-1:1},restrictControlPoint:function(bf,be,Y,X){if(bf.y<be.y){if(be.y<Y.y){Y.x=bf.x+(be.y-bf.y)/X;Y.y=be.y}else{if(Y.y<bf.y){Y.x=be.x-(be.y-bf.y)/X;Y.y=bf.y}}}else{if(Y.y<be.y){Y.x=bf.x-(bf.y-be.y)/X;Y.y=be.y}else{if(bf.y<Y.y){Y.x=be.x+(bf.y-be.y)/X;Y.y=bf.y}}}},tangent:function(bi,bg,be,Y){var bf,X=bg[be]-bi[be],bh=bg[Y]-bi[Y];if(X===0){bf=0}else{bf=bh/X}return bf},isMonotonicByField:function(bf,be,Y,X){return(Y[X]>be[X]&&be[X]>bf[X])||(Y[X]<be[X]&&be[X]<bf[X])},firstControlPoint:function(bk,bj,bi,Y,bh){var bg=this,bf=bj[Y],be=bi[Y],X=(be-bf)*bg.WEIGHT;return bg.point(bf+X,bj[bh]+X*bk,Y,bh)},secondControlPoint:function(bk,bj,bi,Y,bh){var bg=this,bf=bj[Y],be=bi[Y],X=(be-bf)*bg.WEIGHT;return bg.point(be-X,bi[bh]-X*bk,Y,bh)},point:function(bf,Y,bg,be){var X=new a9.Point();X[bg]=bf;X[be]=Y;return X},calculateFunction:function(bf,Y){var X=0,bg=bf.length;for(var be=0;be<bg;be++){X+=Math.pow(Y,be)*bf[be]}return X}};function A(Y){var X=Y.originalEvent,be=0;if(X.wheelDelta){be=-X.wheelDelta/120;be=be>0?ae.ceil(be):ae.floor(be)}if(X.detail){be=T(X.detail/3)}return be}function aa(Y){if(!Y||!Y.indexOf||Y.indexOf("&")<0){return Y}else{var X=aa._element;X.innerHTML=Y;return X.textContent||X.innerText}}function ad(Y){if(!x.support.vml){for(var X=0;X<Y.segments.length;X++){Y.segments[X].anchor().round(0).translate(0.5,0.5)}}return Y}function al(Y){var bi=this,bh=Y.stops,bj=((Y.innerRadius/Y.radius)*100),bf,bg=bh.length,X,be=[];for(bf=0;bf<bg;bf++){X=bd({},bh[bf]);X.offset=(X.offset*(100-bj)+bj)/100;be.push(X)}return be}function R(be){var X=be.origin;var Y=be.bottomRight();return new B(X.x,X.y,Y.x,Y.y)}aa._element=document.createElement("span");bd(x.dataviz,{AXIS_LABEL_CLICK:aS,COORD_PRECISION:af,DEFAULT_PRECISION:aM,DEFAULT_WIDTH:t,DEFAULT_HEIGHT:ah,DEFAULT_FONT:aA,INITIAL_ANIMATION_DURATION:aH,NOTE_CLICK:aO,NOTE_HOVER:s,CLIP:m,Axis:L,AxisLabel:a2,Box2D:B,BoxElement:aK,ChartElement:aG,CurveProcessor:a4,ExportMixin:aE,FloatElement:U,LogarithmicAxis:a7,Note:v,NumericAxis:aB,Point2D:b,Ring:ag,RootElement:a,Sector:z,ShapeBuilder:D,ShapeElement:az,Text:bb,TextBox:ac,Title:y,alignPathToPixel:ad,autoFormat:aL,autoMajorUnit:e,boxDiff:aw,dateComparer:K,decodeEntities:aa,getSpacing:C,inArray:F,interpolateValue:ai,mwDelta:A,rectToBox:R,rotatePoint:ar,round:T,ceil:aT,floor:an})})(window.kendo.jQuery);(function(d){var l=window.kendo,k=l.dataviz.ui,j=l.deepExtend;var i=1.5,h=0.4,b="#000",a="Arial,Helvetica,sans-serif",f="11px "+a,e="12px "+a,c="16px "+a,r="#fff";var p={title:{font:c},legend:{labels:{font:e}},seriesDefaults:{visible:true,labels:{font:f},donut:{margin:1},line:{width:2},vericalLine:{width:2},scatterLine:{width:1},area:{opacity:0.4,markers:{visible:false,size:6},highlight:{markers:{border:{color:"#fff",opacity:1,width:1}}},line:{opacity:1,width:0}},verticalArea:{opacity:0.4,markers:{visible:false,size:6},line:{opacity:1,width:0}},radarLine:{width:2,markers:{visible:false}},radarArea:{opacity:0.5,markers:{visible:false,size:6},line:{opacity:1,width:0}},candlestick:{line:{width:1,color:b},border:{width:1,_brightness:0.8},gap:1,spacing:0.3,downColor:r,highlight:{line:{width:2},border:{width:2,opacity:1}}},ohlc:{line:{width:1},gap:1,spacing:0.3,highlight:{line:{width:3,opacity:1}}},bubble:{opacity:0.6,border:{width:0},labels:{background:"transparent"}},bar:{gap:i,spacing:h},column:{gap:i,spacing:h},rangeColumn:{gap:i,spacing:h},rangeBar:{gap:i,spacing:h},waterfall:{gap:0.5,spacing:h,line:{width:1,color:b}},horizontalWaterfall:{gap:0.5,spacing:h,line:{width:1,color:b}},bullet:{gap:i,spacing:h,target:{color:"#ff0000"}},verticalBullet:{gap:i,spacing:h,target:{color:"#ff0000"}},boxPlot:{outliersField:"",meanField:"",whiskers:{width:1,color:b},mean:{width:1,color:b},median:{width:1,color:b},border:{width:1,_brightness:0.8},gap:1,spacing:0.3,downColor:r,highlight:{whiskers:{width:2},border:{width:2,opacity:1}}},funnel:{labels:{color:"",background:""}},notes:{icon:{border:{width:1}},label:{padding:3,font:e},line:{length:10,width:1},visible:true}},categoryAxis:{majorGridLines:{visible:true}},axisDefaults:{labels:{font:e},title:{font:c,margin:5},crosshair:{tooltip:{font:e}},notes:{icon:{size:7,border:{width:1}},label:{padding:3,font:e},line:{length:10,width:1},visible:true}},tooltip:{font:e},navigator:{pane:{height:90,margin:{top:10}}}};var g={scale:{labels:{font:e}}};var o={shapeDefaults:{hover:{opacity:0.2},stroke:{width:0}},editable:{resize:{handles:{width:7,height:7}}},selectable:{stroke:{width:1,dashType:"dot"}},connectionDefaults:{stroke:{width:2},selection:{handles:{width:8,height:8}},editable:{tools:["edit","delete"]}}};var m=k.themes,n=k.registerTheme=function(u,t){var s={};s.chart=j({},p,t.chart);s.gauge=j({},g,t.gauge);s.diagram=j({},o,t.diagram);s.treeMap=j({},t.treeMap);var v=s.chart.seriesDefaults;v.verticalLine=j({},v.line);v.verticalArea=j({},v.area);v.polarArea=j({},v.radarArea);v.polarLine=j({},v.radarLine);m[u]=s};n("black",{chart:{title:{color:r},legend:{labels:{color:r},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:r},errorBars:{color:r},notes:{icon:{background:"#3b3b3b",border:{color:"#8e8e8e"}},label:{color:r},line:{color:"#8e8e8e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#3d3d3d"}},scatter:{markers:{background:"#3d3d3d"}},scatterLine:{markers:{background:"#3d3d3d"}},waterfall:{line:{color:"#8e8e8e"}},horizontalWaterfall:{line:{color:"#8e8e8e"}},candlestick:{downColor:"#555",line:{color:r},border:{_brightness:1.5,opacity:1},highlight:{border:{color:r,opacity:0.2}}},ohlc:{line:{color:r}}},chartArea:{background:"#3d3d3d"},seriesColors:["#0081da","#3aafff","#99c900","#ffeb3d","#b20753","#ff4195"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:r},majorGridLines:{color:"#545454"},minorGridLines:{color:"#454545"},title:{color:r},crosshair:{color:"#8e8e8e"},notes:{icon:{background:"#3b3b3b",border:{color:"#8e8e8e"}},label:{color:r},line:{color:"#8e8e8e"}}}},gauge:{pointer:{color:"#0070e4"},scale:{rangePlaceholderColor:"#1d1d1d",labels:{color:r},minorTicks:{color:r},majorTicks:{color:r},line:{color:r}}},diagram:{shapeDefaults:{fill:{color:"#0066cc"},connectorDefaults:{fill:{color:r},stroke:{color:"#384049"},hover:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}},content:{color:r}},editable:{resize:{handles:{fill:{color:"#3d3d3d"},stroke:{color:r},hover:{fill:{color:r},stroke:{color:r}}}},rotate:{thumb:{stroke:{color:r},fill:{color:r}}}},selectable:{stroke:{color:r}},connectionDefaults:{stroke:{color:r},content:{color:r},selection:{handles:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}}}},treeMap:{colors:[["#0081da","#314b5c"],["#3aafff","#3c5464"],["#99c900","#4f5931"],["#ffeb3d","#64603d"],["#b20753","#543241"],["#ff4195","#643e4f"]]}});n("blueopal",{chart:{title:{color:"#293135"},legend:{labels:{color:"#293135"},inactiveItems:{labels:{color:"#27A5BA"},markers:{color:"#27A5BA"}}},seriesDefaults:{labels:{color:b,background:r,opacity:0.5},errorBars:{color:"#293135"},candlestick:{downColor:"#c4d0d5",line:{color:"#9aabb2"}},waterfall:{line:{color:"#9aabb2"}},horizontalWaterfall:{line:{color:"#9aabb2"}},notes:{icon:{background:"transparent",border:{color:"#9aabb2"}},label:{color:"#293135"},line:{color:"#9aabb2"}}},seriesColors:["#0069a5","#0098ee","#7bd2f6","#ffb800","#ff8517","#e34a00"],axisDefaults:{line:{color:"#9aabb2"},labels:{color:"#293135"},majorGridLines:{color:"#c4d0d5"},minorGridLines:{color:"#edf1f2"},title:{color:"#293135"},crosshair:{color:"#9aabb2"},notes:{icon:{background:"transparent",border:{color:"#9aabb2"}},label:{color:"#293135"},line:{color:"#9aabb2"}}}},gauge:{pointer:{color:"#005c83"},scale:{rangePlaceholderColor:"#daecf4",labels:{color:"#293135"},minorTicks:{color:"#293135"},majorTicks:{color:"#293135"},line:{color:"#293135"}}},diagram:{shapeDefaults:{fill:{color:"#7ec6e3"},connectorDefaults:{fill:{color:"#003f59"},stroke:{color:r},hover:{fill:{color:r},stroke:{color:"#003f59"}}},content:{color:"#293135"}},editable:{resize:{handles:{fill:{color:r},stroke:{color:"#003f59"},hover:{fill:{color:"#003f59"},stroke:{color:"#003f59"}}}},rotate:{thumb:{stroke:{color:"#003f59"},fill:{color:"#003f59"}}}},selectable:{stroke:{color:"#003f59"}},connectionDefaults:{stroke:{color:"#003f59"},content:{color:"#293135"},selection:{handles:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}}}},treeMap:{colors:[["#0069a5","#bad7e7"],["#0098ee","#b9e0f5"],["#7bd2f6","#ceeaf6"],["#ffb800","#e6e3c4"],["#ff8517","#e4d8c8"],["#e34a00","#ddccc2"]]}});n("highcontrast",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#66465B"},markers:{color:"#66465B"}}},seriesDefaults:{labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#ffffff"}},label:{color:"#ffffff"},line:{color:"#ffffff"}},pie:{overlay:{gradient:"sharpGlass"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#2c232b"}},scatter:{markers:{background:"#2c232b"}},scatterLine:{markers:{background:"#2c232b"}},area:{opacity:0.5},waterfall:{line:{color:"#ffffff"}},horizontalWaterfall:{line:{color:"#ffffff"}},candlestick:{downColor:"#664e62",line:{color:"#ffffff"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#ffffff",opacity:1}}},ohlc:{line:{color:"#ffffff"}}},chartArea:{background:"#2c232b"},seriesColors:["#a7008f","#ffb800","#3aafff","#99c900","#b20753","#ff4195"],axisDefaults:{line:{color:"#ffffff"},labels:{color:"#ffffff"},majorGridLines:{color:"#664e62"},minorGridLines:{color:"#4f394b"},title:{color:"#ffffff"},crosshair:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#ffffff"}},label:{color:"#ffffff"},line:{color:"#ffffff"}}}},gauge:{pointer:{color:"#a7008f"},scale:{rangePlaceholderColor:"#2c232b",labels:{color:"#ffffff"},minorTicks:{color:"#2c232b"},majorTicks:{color:"#664e62"},line:{color:"#ffffff"}}},diagram:{shapeDefaults:{fill:{color:"#a7018f"},connectorDefaults:{fill:{color:r},stroke:{color:"#2c232b"},hover:{fill:{color:"#2c232b"},stroke:{color:r}}},content:{color:r}},editable:{resize:{handles:{fill:{color:"#2c232b"},stroke:{color:r},hover:{fill:{color:r},stroke:{color:r}}}},rotate:{thumb:{stroke:{color:r},fill:{color:r}}}},selectable:{stroke:{color:r}},connectionDefaults:{stroke:{color:r},content:{color:r},selection:{handles:{fill:{color:"#2c232b"},stroke:{color:r}}}}},treeMap:{colors:[["#a7008f","#451c3f"],["#ffb800","#564122"],["#3aafff","#2f3f55"],["#99c900","#424422"],["#b20753","#471d33"],["#ff4195","#562940"]]}});n("default",{chart:{title:{color:"#8e8e8e"},legend:{labels:{color:"#232323"},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:b,background:r,opacity:0.5},errorBars:{color:"#232323"},candlestick:{downColor:"#dedede",line:{color:"#8d8d8d"}},waterfall:{line:{color:"#8e8e8e"}},horizontalWaterfall:{line:{color:"#8e8e8e"}},notes:{icon:{background:"transparent",border:{color:"#8e8e8e"}},label:{color:"#232323"},line:{color:"#8e8e8e"}}},seriesColors:["#ff6800","#a0a700","#ff8d00","#678900","#ffb53c","#396000"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:"#232323"},minorGridLines:{color:"#f0f0f0"},majorGridLines:{color:"#dfdfdf"},title:{color:"#232323"},crosshair:{color:"#8e8e8e"},notes:{icon:{background:"transparent",border:{color:"#8e8e8e"}},label:{color:"#232323"},line:{color:"#8e8e8e"}}}},gauge:{pointer:{color:"#ea7001"},scale:{rangePlaceholderColor:"#dedede",labels:{color:"#2e2e2e"},minorTicks:{color:"#2e2e2e"},majorTicks:{color:"#2e2e2e"},line:{color:"#2e2e2e"}}},diagram:{shapeDefaults:{fill:{color:"#e15613"},connectorDefaults:{fill:{color:"#282828"},stroke:{color:r},hover:{fill:{color:r},stroke:{color:"#282828"}}},content:{color:"#2e2e2e"}},editable:{resize:{handles:{fill:{color:r},stroke:{color:"#282828"},hover:{fill:{color:"#282828"},stroke:{color:"#282828"}}}},rotate:{thumb:{stroke:{color:"#282828"},fill:{color:"#282828"}}}},selectable:{stroke:{color:"#a7018f"}},connectionDefaults:{stroke:{color:"#282828"},content:{color:"#2e2e2e"},selection:{handles:{fill:{color:r},stroke:{color:"#282828"}}}}},treeMap:{colors:[["#ff6800","#edcfba"],["#a0a700","#dadcba"],["#ff8d00","#edd7ba"],["#678900","#cfd6ba"],["#ffb53c","#eddfc6"],["#396000","#c6ceba"]]}});n("silver",{chart:{title:{color:"#4e5968"},legend:{labels:{color:"#4e5968"},inactiveItems:{labels:{color:"#B1BCC8"},markers:{color:"#B1BCC8"}}},seriesDefaults:{labels:{color:"#293135",background:"#eaeaec",opacity:0.5},errorBars:{color:"#4e5968"},notes:{icon:{background:"transparent",border:{color:"#4e5968"}},label:{color:"#4e5968"},line:{color:"#4e5968"}},line:{markers:{background:"#eaeaec"}},scatter:{markers:{background:"#eaeaec"}},scatterLine:{markers:{background:"#eaeaec"}},pie:{connectors:{color:"#A6B1C0"}},donut:{connectors:{color:"#A6B1C0"}},waterfall:{line:{color:"#a6b1c0"}},horizontalWaterfall:{line:{color:"#a6b1c0"}},candlestick:{downColor:"#a6afbe"}},chartArea:{background:"#eaeaec"},seriesColors:["#007bc3","#76b800","#ffae00","#ef4c00","#a419b7","#430B62"],axisDefaults:{line:{color:"#a6b1c0"},labels:{color:"#4e5968"},majorGridLines:{color:"#dcdcdf"},minorGridLines:{color:"#eeeeef"},title:{color:"#4e5968"},crosshair:{color:"#a6b1c0"},notes:{icon:{background:"transparent",border:{color:"#4e5968"}},label:{color:"#4e5968"},line:{color:"#4e5968"}}}},gauge:{pointer:{color:"#0879c0"},scale:{rangePlaceholderColor:"#f3f3f4",labels:{color:"#515967"},minorTicks:{color:"#515967"},majorTicks:{color:"#515967"},line:{color:"#515967"}}},diagram:{shapeDefaults:{fill:{color:"#1c82c2"},connectorDefaults:{fill:{color:"#515967"},stroke:{color:r},hover:{fill:{color:r},stroke:{color:"#282828"}}},content:{color:"#515967"}},editable:{resize:{handles:{fill:{color:r},stroke:{color:"#515967"},hover:{fill:{color:"#515967"},stroke:{color:"#515967"}}}},rotate:{thumb:{stroke:{color:"#515967"},fill:{color:"#515967"}}}},selectable:{stroke:{color:"#515967"}},connectionDefaults:{stroke:{color:"#515967"},content:{color:"#515967"},selection:{handles:{fill:{color:r},stroke:{color:"#515967"}}}}},treeMap:{colors:[["#007bc3","#c2dbea"],["#76b800","#dae7c3"],["#ffae00","#f5e5c3"],["#ef4c00","#f2d2c3"],["#a419b7","#e3c7e8"],["#430b62","#d0c5d7"]]}});n("metro",{chart:{title:{color:"#777777"},legend:{labels:{color:"#777777"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:b},errorBars:{color:"#777777"},notes:{icon:{background:"transparent",border:{color:"#777777"}},label:{color:"#777777"},line:{color:"#777777"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},waterfall:{line:{color:"#c7c7c7"}},horizontalWaterfall:{line:{color:"#c7c7c7"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#8ebc00","#309b46","#25a0da","#ff6900","#e61e26","#d8e404","#16aba9","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#c7c7c7"},labels:{color:"#777777"},minorGridLines:{color:"#c7c7c7"},majorGridLines:{color:"#c7c7c7"},title:{color:"#777777"},crosshair:{color:"#c7c7c7"},notes:{icon:{background:"transparent",border:{color:"#777777"}},label:{color:"#777777"},line:{color:"#777777"}}}},gauge:{pointer:{color:"#8ebc00"},scale:{rangePlaceholderColor:"#e6e6e6",labels:{color:"#777"},minorTicks:{color:"#777"},majorTicks:{color:"#777"},line:{color:"#777"}}},diagram:{shapeDefaults:{fill:{color:"#8ebc00"},connectorDefaults:{fill:{color:b},stroke:{color:r},hover:{fill:{color:r},stroke:{color:b}}},content:{color:"#777"}},editable:{resize:{handles:{fill:{color:r},stroke:{color:"#787878"},hover:{fill:{color:"#787878"},stroke:{color:"#787878"}}}},rotate:{thumb:{stroke:{color:"#787878"},fill:{color:"#787878"}}}},selectable:{stroke:{color:"#515967"}},connectionDefaults:{stroke:{color:"#787878"},content:{color:"#777"},selection:{handles:{fill:{color:r},stroke:{color:"#787878"}}}}},treeMap:{colors:[["#8ebc00","#e8f2cc"],["#309b46","#d6ebda"],["#25a0da","#d3ecf8"],["#ff6900","#ffe1cc"],["#e61e26","#fad2d4"],["#d8e404","#f7facd"],["#16aba9","#d0eeee"],["#7e51a1","#e5dcec"],["#313131","#d6d6d6"],["#ed1691","#fbd0e9"]]}});n("metroblack",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#797979"},markers:{color:"#797979"}}},seriesDefaults:{border:{_brightness:1},labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#cecece"}},label:{color:"#ffffff"},line:{color:"#cecece"}},line:{markers:{background:"#0e0e0e"}},bubble:{opacity:0.6},scatter:{markers:{background:"#0e0e0e"}},scatterLine:{markers:{background:"#0e0e0e"}},candlestick:{downColor:"#828282",line:{color:"#ffffff"}},waterfall:{line:{color:"#cecece"}},horizontalWaterfall:{line:{color:"#cecece"}},overlay:{gradient:"none"}},chartArea:{background:"#0e0e0e"},seriesColors:["#00aba9","#309b46","#8ebc00","#ff6900","#e61e26","#d8e404","#25a0da","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#cecece"},labels:{color:"#ffffff"},minorGridLines:{color:"#2d2d2d"},majorGridLines:{color:"#333333"},title:{color:"#ffffff"},crosshair:{color:"#cecece"},notes:{icon:{background:"transparent",border:{color:"#cecece"}},label:{color:"#ffffff"},line:{color:"#cecece"}}}},gauge:{pointer:{color:"#00aba9"},scale:{rangePlaceholderColor:"#2d2d2d",labels:{color:"#ffffff"},minorTicks:{color:"#333333"},majorTicks:{color:"#cecece"},line:{color:"#cecece"}}},diagram:{shapeDefaults:{fill:{color:"#00aba9"},connectorDefaults:{fill:{color:r},stroke:{color:"#0e0e0e"},hover:{fill:{color:"#0e0e0e"},stroke:{color:r}}},content:{color:r}},editable:{resize:{handles:{fill:{color:"#0e0e0e"},stroke:{color:"#787878"},hover:{fill:{color:"#787878"},stroke:{color:"#787878"}}}},rotate:{thumb:{stroke:{color:r},fill:{color:r}}}},selectable:{stroke:{color:"#787878"}},connectionDefaults:{stroke:{color:r},content:{color:r},selection:{handles:{fill:{color:"#0e0e0e"},stroke:{color:r}}}}},treeMap:{colors:[["#00aba9","#0b2d2d"],["#309b46","#152a19"],["#8ebc00","#28310b"],["#ff6900","#3e200b"],["#e61e26","#391113"],["#d8e404","#36390c"],["#25a0da","#132b37"],["#7e51a1","#241b2b"],["#313131","#151515"],["#ed1691","#3b1028"]]}});n("moonlight",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#A1A7AB"},markers:{color:"#A1A7AB"}}},seriesDefaults:{labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#8c909e"}},label:{color:"#ffffff"},line:{color:"#8c909e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#212a33"}},bubble:{opacity:0.6},scatter:{markers:{background:"#212a33"}},scatterLine:{markers:{background:"#212a33"}},area:{opacity:0.3},candlestick:{downColor:"#757d87",line:{color:"#ea9d06"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:r,opacity:0.2}}},waterfall:{line:{color:"#8c909e"}},horizontalWaterfall:{line:{color:"#8c909e"}},ohlc:{line:{color:"#ea9d06"}}},chartArea:{background:"#212a33"},seriesColors:["#ffca08","#ff710f","#ed2e24","#ff9f03","#e13c02","#a00201"],axisDefaults:{line:{color:"#8c909e"},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},labels:{color:"#ffffff"},majorGridLines:{color:"#3e424d"},minorGridLines:{color:"#2f3640"},title:{color:"#ffffff"},crosshair:{color:"#8c909e"},notes:{icon:{background:"transparent",border:{color:"#8c909e"}},label:{color:"#ffffff"},line:{color:"#8c909e"}}}},gauge:{pointer:{color:"#f4af03"},scale:{rangePlaceholderColor:"#2f3640",labels:{color:r},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},line:{color:"#8c909e"}}},diagram:{shapeDefaults:{fill:{color:"#f3ae03"},connectorDefaults:{fill:{color:r},stroke:{color:"#414550"},hover:{fill:{color:"#414550"},stroke:{color:r}}},content:{color:r}},editable:{resize:{handles:{fill:{color:"#414550"},stroke:{color:r},hover:{fill:{color:r},stroke:{color:r}}}},rotate:{thumb:{stroke:{color:r},fill:{color:r}}}},selectable:{stroke:{color:r}},connectionDefaults:{stroke:{color:r},content:{color:r},selection:{handles:{fill:{color:"#414550"},stroke:{color:r}}}}},treeMap:{colors:[["#ffca08","#4e4b2b"],["#ff710f","#4e392d"],["#ed2e24","#4b2c31"],["#ff9f03","#4e422a"],["#e13c02","#482e2a"],["#a00201","#3b232a"]]}});n("uniform",{chart:{title:{color:"#686868"},legend:{labels:{color:"#686868"},inactiveItems:{labels:{color:"#B6B6B6"},markers:{color:"#B6B6B6"}}},seriesDefaults:{labels:{color:"#686868"},errorBars:{color:"#686868"},notes:{icon:{background:"transparent",border:{color:"#9e9e9e"}},label:{color:"#686868"},line:{color:"#9e9e9e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:0.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:0.3},candlestick:{downColor:"#cccccc",line:{color:"#cccccc"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#cccccc",opacity:0.2}}},waterfall:{line:{color:"#9e9e9e"}},horizontalWaterfall:{line:{color:"#9e9e9e"}},ohlc:{line:{color:"#cccccc"}}},chartArea:{background:"#ffffff"},seriesColors:["#527aa3","#6f91b3","#8ca7c2","#a8bdd1","#c5d3e0","#e2e9f0"],axisDefaults:{line:{color:"#9e9e9e"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},labels:{color:"#686868"},majorGridLines:{color:"#dadada"},minorGridLines:{color:"#e7e7e7"},title:{color:"#686868"},crosshair:{color:"#9e9e9e"},notes:{icon:{background:"transparent",border:{color:"#9e9e9e"}},label:{color:"#686868"},line:{color:"#9e9e9e"}}}},gauge:{pointer:{color:"#527aa3"},scale:{rangePlaceholderColor:"#e7e7e7",labels:{color:"#686868"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},line:{color:"#9e9e9e"}}},diagram:{shapeDefaults:{fill:{color:"#d1d1d1"},connectorDefaults:{fill:{color:"#686868"},stroke:{color:r},hover:{fill:{color:r},stroke:{color:"#686868"}}},content:{color:"#686868"}},editable:{resize:{handles:{fill:{color:r},stroke:{color:"#686868"},hover:{fill:{color:"#686868"},stroke:{color:"#686868"}}}},rotate:{thumb:{stroke:{color:"#686868"},fill:{color:"#686868"}}}},selectable:{stroke:{color:"#686868"}},connectionDefaults:{stroke:{color:"#686868"},content:{color:"#686868"},selection:{handles:{fill:{color:r},stroke:{color:"#686868"}}}}},treeMap:{colors:[["#527aa3","#d0d8e1"],["#6f91b3","#d6dde4"],["#8ca7c2","#dce1e7"],["#a8bdd1","#e2e6ea"],["#c5d3e0","#e7eaed"],["#e2e9f0","#edeff0"]]}});n("bootstrap",{chart:{title:{color:"#333333"},legend:{labels:{color:"#333333"},inactiveItems:{labels:{color:"#999999"},markers:{color:"#9A9A9A"}}},seriesDefaults:{labels:{color:"#333333"},overlay:{gradient:"none"},errorBars:{color:"#343434"},notes:{icon:{background:"#000000",border:{color:"#000000"}},label:{color:"#333333"},line:{color:"#000000"}},pie:{overlay:{gradient:"none"}},donut:{overlay:{gradient:"none"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:0.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:0.8},candlestick:{downColor:"#d0d0d0",line:{color:"#333333"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#b8b8b8",opacity:0.2}}},waterfall:{line:{color:"#cccccc"}},horizontalWaterfall:{line:{color:"#cccccc"}},ohlc:{line:{color:"#333333"}}},chartArea:{background:"#ffffff"},seriesColors:["#428bca","#5bc0de","#5cb85c","#f2b661","#e67d4a","#da3b36"],axisDefaults:{line:{color:"#cccccc"},minorTicks:{color:"#ebebeb"},majorTicks:{color:"#cccccc"},labels:{color:"#333333"},majorGridLines:{color:"#cccccc"},minorGridLines:{color:"#ebebeb"},title:{color:"#333333"},crosshair:{color:"#000000"},notes:{icon:{background:"#000000",border:{color:"#000000"}},label:{color:"#ffffff"},line:{color:"#000000"}}}},gauge:{pointer:{color:"#428bca"},scale:{rangePlaceholderColor:"#cccccc",labels:{color:"#333333"},minorTicks:{color:"#ebebeb"},majorTicks:{color:"#cccccc"},line:{color:"#cccccc"}}},diagram:{shapeDefaults:{fill:{color:"#428bca"},connectorDefaults:{fill:{color:"#333333"},stroke:{color:r},hover:{fill:{color:r},stroke:{color:"#333333"}}},content:{color:"#333333"}},editable:{resize:{handles:{fill:{color:r},stroke:{color:"#333333"},hover:{fill:{color:"#333333"},stroke:{color:"#333333"}}}},rotate:{thumb:{stroke:{color:"#333333"},fill:{color:"#333333"}}}},selectable:{stroke:{color:"#333333"}},connectionDefaults:{stroke:{color:"#c4c4c4"},content:{color:"#333333"},selection:{handles:{fill:{color:r},stroke:{color:"#333333"}},stroke:{color:"#333333"}}}},treeMap:{colors:[["#428bca","#d1e0ec"],["#5bc0de","#d6eaf0"],["#5cb85c","#d6e9d6"],["#5cb85c","#f4e8d7"],["#e67d4a","#f2ddd3"],["#da3b36","#f0d0cf"]]}});n("flat",{chart:{title:{color:"#4c5356"},legend:{labels:{color:"#4c5356"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#4c5356"},errorBars:{color:"#4c5356"},notes:{icon:{background:"transparent",border:{color:"#cdcdcd"}},label:{color:"#4c5356"},line:{color:"#cdcdcd"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:0.9},waterfall:{line:{color:"#cdcdcd"}},horizontalWaterfall:{line:{color:"#cdcdcd"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#10c4b2","#ff7663","#ffb74f","#a2df53","#1c9ec4","#ff63a5","#1cc47b"],axisDefaults:{line:{color:"#cdcdcd"},labels:{color:"#4c5356"},minorGridLines:{color:"#cdcdcd"},majorGridLines:{color:"#cdcdcd"},title:{color:"#4c5356"},crosshair:{color:"#cdcdcd"},notes:{icon:{background:"transparent",border:{color:"#cdcdcd"}},label:{color:"#4c5356"},line:{color:"#cdcdcd"}}}},gauge:{pointer:{color:"#10c4b2"},scale:{rangePlaceholderColor:"#cdcdcd",labels:{color:"#4c5356"},minorTicks:{color:"#4c5356"},majorTicks:{color:"#4c5356"},line:{color:"#4c5356"}}},diagram:{shapeDefaults:{fill:{color:"#10c4b2"},connectorDefaults:{fill:{color:"#363940"},stroke:{color:r},hover:{fill:{color:r},stroke:{color:"#363940"}}},content:{color:"#4c5356"}},editable:{resize:{handles:{fill:{color:r},stroke:{color:"#363940"},hover:{fill:{color:"#363940"},stroke:{color:"#363940"}}}},rotate:{thumb:{stroke:{color:"#363940"},fill:{color:"#363940"}}}},selectable:{stroke:{color:"#363940"}},connectionDefaults:{stroke:{color:"#cdcdcd"},content:{color:"#4c5356"},selection:{handles:{fill:{color:r},stroke:{color:"#363940"}},stroke:{color:"#363940"}}}},treeMap:{colors:[["#10c4b2","#cff3f0"],["#ff7663","#ffe4e0"],["#ffb74f","#fff1dc"],["#a2df53","#ecf9dd"],["#1c9ec4","#d2ecf3"],["#ff63a5","#ffe0ed"],["#1cc47b","#d2f3e5"]]}});n("material",{chart:{title:{color:"#444444"},legend:{labels:{color:"#444444"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#444444"},errorBars:{color:"#444444"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#444444"},line:{color:"#e5e5e5"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:0.9},waterfall:{line:{color:"#e5e5e5"}},horizontalWaterfall:{line:{color:"#e5e5e5"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#ff9800","#ff5722"],axisDefaults:{line:{color:"#e5e5e5"},labels:{color:"#444444"},minorGridLines:{color:"#e5e5e5"},majorGridLines:{color:"#e5e5e5"},title:{color:"#444444"},crosshair:{color:"#7f7f7f"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#444444"},line:{color:"#e5e5e5"}}}},gauge:{pointer:{color:"#3f51b5"},scale:{rangePlaceholderColor:"#e5e5e5",labels:{color:"#444444"},minorTicks:{color:"#444444"},majorTicks:{color:"#444444"},line:{color:"#444444"}}},diagram:{shapeDefaults:{fill:{color:"#3f51b5"},connectorDefaults:{fill:{color:"#7f7f7f"},stroke:{color:r},hover:{fill:{color:r},stroke:{color:"#7f7f7f"}}},content:{color:"#444444"}},editable:{resize:{handles:{fill:{color:r},stroke:{color:"#444444"},hover:{fill:{color:"#444444"},stroke:{color:"#444444"}}}},rotate:{thumb:{stroke:{color:"#444444"},fill:{color:"#444444"}}}},selectable:{stroke:{color:"#444444"}},connectionDefaults:{stroke:{color:"#7f7f7f"},content:{color:"#444444"},selection:{handles:{fill:{color:r},stroke:{color:"#444444"}},stroke:{color:"#444444"}}}},treeMap:{colors:[["#3f51b5","#cff3f0"],["#03a9f4","#e5f6fe"],["#4caf50","#edf7ed"],["#f9ce1d","#fefae8"],["#ff9800","#fff4e5"],["#ff5722","#ffeee8"]]}});n("materialblack",{chart:{title:{color:"#fff"},legend:{labels:{color:"#fff"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#fff"},errorBars:{color:"#fff"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#fff"},line:{color:"#e5e5e5"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:0.9},waterfall:{line:{color:"#4d4d4d"}},horizontalWaterfall:{line:{color:"#4d4d4d"}},overlay:{gradient:"none"},border:{_brightness:1}},chartArea:{background:"#1c1c1c"},seriesColors:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#ff9800","#ff5722"],axisDefaults:{line:{color:"#4d4d4d"},labels:{color:"#fff"},minorGridLines:{color:"#4d4d4d"},majorGridLines:{color:"#4d4d4d"},title:{color:"#fff"},crosshair:{color:"#7f7f7f"},notes:{icon:{background:"transparent",border:{color:"#4d4d4d"}},label:{color:"#fff"},line:{color:"#4d4d4d"}}}},gauge:{pointer:{color:"#3f51b5"},scale:{rangePlaceholderColor:"#4d4d4d",labels:{color:"#fff"},minorTicks:{color:"#fff"},majorTicks:{color:"#fff"},line:{color:"#fff"}}},diagram:{shapeDefaults:{fill:{color:"#3f51b5"},connectorDefaults:{fill:{color:"#7f7f7f"},stroke:{color:r},hover:{fill:{color:r},stroke:{color:"#7f7f7f"}}},content:{color:"#fff"}},editable:{resize:{handles:{fill:{color:r},stroke:{color:"#fff"},hover:{fill:{color:"#fff"},stroke:{color:"#fff"}}}},rotate:{thumb:{stroke:{color:"#fff"},fill:{color:"#fff"}}}},selectable:{stroke:{color:"#fff"}},connectionDefaults:{stroke:{color:"#7f7f7f"},content:{color:"#fff"},selection:{handles:{fill:{color:r},stroke:{color:"#fff"}},stroke:{color:"#fff"}}}},treeMap:{colors:[["#3f51b5","#cff3f0"],["#03a9f4","#e5f6fe"],["#4caf50","#edf7ed"],["#f9ce1d","#fefae8"],["#ff9800","#fff4e5"],["#ff5722","#ffeee8"]]}});(function(){var y="#333333";var u="#7f7f7f";var x="#bdbdbd";var s="#c8c8c8";var z="#dddddd";var v=["#008fd3","#99d101","#f39b02","#f05662","#c03c53","#acacac"];var w=["#cbe8f5","#eaf5cb","#fceacc","#fbdcdf","#f2d7dc","#eeeeee"];var A=v[0];var B=r;function t(){return{icon:{background:"#007cc0",border:{color:"#007cc0"}},label:{color:"#ffffff"},line:{color:s}}}n("fiori",{chart:{title:{color:y},legend:{labels:{color:y},inactiveItems:{labels:{color:u},markers:{color:u}}},seriesDefaults:{labels:{color:y},errorBars:{color:y},notes:t(),candlestick:{downColor:s,line:{color:x}},area:{opacity:0.8},waterfall:{line:{color:s}},horizontalWaterfall:{line:{color:s}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:v,axisDefaults:{line:{color:s},labels:{color:y},minorGridLines:{color:z},majorGridLines:{color:s},title:{color:y},crosshair:{color:u},notes:t()}},gauge:{pointer:{color:A},scale:{rangePlaceholderColor:s,labels:{color:y},minorTicks:{color:y},majorTicks:{color:y},line:{color:y}}},diagram:{shapeDefaults:{fill:{color:A},connectorDefaults:{fill:{color:y},stroke:{color:B},hover:{fill:{color:B},stroke:{color:y}}},content:{color:y}},editable:{resize:{handles:{fill:{color:B},stroke:{color:x},hover:{fill:{color:x},stroke:{color:x}}}},rotate:{thumb:{stroke:{color:x},fill:{color:x}}}},selectable:{stroke:{color:x}},connectionDefaults:{stroke:{color:x},content:{color:x},selection:{handles:{fill:{color:B},stroke:{color:x}},stroke:{color:x}}}},treeMap:{colors:q(v,w)}})})();(function(){var y="#4e4e4e";var u="#7f7f7f";var x="#bdbdbd";var s="#c8c8c8";var z="#e5e5e5";var v=["#0072c6","#5db2ff","#008a17","#82ba00","#ff8f32","#ac193d"];var w=["#cbe2f3","#deeffe","#cbe7d0","#e5f0cb","#fee8d5","#eed0d7"];var A=v[0];var B=r;function t(){return{icon:{background:"#00b0ff",border:{color:"#00b0ff"}},label:{color:"#ffffff"},line:{color:s}}}n("office365",{chart:{title:{color:y},legend:{labels:{color:y},inactiveItems:{labels:{color:u},markers:{color:u}}},seriesDefaults:{labels:{color:y},errorBars:{color:y},notes:t(),candlestick:{downColor:s,line:{color:x}},area:{opacity:0.8},waterfall:{line:{color:s}},horizontalWaterfall:{line:{color:s}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:v,axisDefaults:{line:{color:s},labels:{color:y},minorGridLines:{color:z},majorGridLines:{color:s},title:{color:y},crosshair:{color:u},notes:t()}},gauge:{pointer:{color:A},scale:{rangePlaceholderColor:s,labels:{color:y},minorTicks:{color:y},majorTicks:{color:y},line:{color:y}}},diagram:{shapeDefaults:{fill:{color:A},connectorDefaults:{fill:{color:y},stroke:{color:B},hover:{fill:{color:B},stroke:{color:y}}},content:{color:y}},editable:{resize:{handles:{fill:{color:B},stroke:{color:x},hover:{fill:{color:x},stroke:{color:x}}}},rotate:{thumb:{stroke:{color:x},fill:{color:x}}}},selectable:{stroke:{color:x}},connectionDefaults:{stroke:{color:x},content:{color:x},selection:{handles:{fill:{color:B},stroke:{color:x}},stroke:{color:x}}}},treeMap:{colors:q(v,w)}})})();function q(t,s){return d.map(t,function(v,u){return[[v,s[u]]]})}})(window.kendo.jQuery);(function(er,es){var bG=er.each,U=er.isArray,cw=er.isPlainObject,bp=er.map,eC=Math,dy=er.noop,eF=er.extend,ba=er.proxy,cX=window.kendo,az=cX.Class,bq=cX.Observable,dt=cX.data.DataSource,a6=cX.ui.Widget,aL=cX.deepExtend,co=cX.getter,cP=cX.isFunction,l=cX.template,ck=cX.dataviz,cu=ck.Axis,dB=ck.AxisLabel,cK=ck.Box2D,a=ck.BoxElement,ec=ck.ChartElement,G=cX.drawing.Color,bM=ck.CurveProcessor,c7=ck.FloatElement,cg=ck.Note,dL=ck.LogarithmicAxis,cp=ck.NumericAxis,d1=ck.Point2D,bv=ck.RootElement,ei=ck.Ring,u=ck.ShapeElement,d4=ck.ShapeBuilder,dI=ck.Text,a4=ck.TextBox,w=ck.Title,eI=ck.alignPathToPixel,b9=ck.autoFormat,bx=ck.dateComparer,bz=ck.getSpacing,dO=ck.inArray,aP=ck.interpolateValue,o=ck.mwDelta,cB=ck.round,d9=cX.util,b6=d9.append,bO=d9.defined,dV=d9.last,cx=d9.limitValue,a1=d9.sparseArrayLimits,bT=d9.sparseArrayMin,dm=d9.sparseArrayMax,I=d9.renderTemplate,bQ=d9.valueOrDefault,av=ck.geometry,eK=ck.drawing;var di=".kendoChart",b3="above",dg="area",bk="auto",aE="fit",P=ck.AXIS_LABEL_CLICK,cr="bar",br=6,ed=0.8,ea="below",aW="#000",i="both",eD="bottom",bt="boxPlot",bE="bubble",dc="bullet",ac="candlestick",cQ="category",eA="center",ag="change",bs="circle",cH="contextmenu"+di,bB=ck.CLIP,bL="color",bH="column",dp=ck.COORD_PRECISION,ev="cross",x="k-",aO="custom",bY="dataBound",eb="date",c2="days",a5=ck.DEFAULT_FONT,cM=ck.DEFAULT_HEIGHT,r=ck.DEFAULT_PRECISION,d0=ck.DEFAULT_WIDTH,dE=4,cv="donut",ek=50,bo="drag",g="dragEnd",c8="dragStart",eg="errorLow",cb="errorHigh",ap="xErrorLow",L="xErrorHigh",A="yErrorLow",dl="yErrorHigh",d5="fadeIn",cq="first",O="from",ew="funnel",aU="glass",dr="horizontal",eG="horizontalWaterfall",c0="hours",Q=ck.INITIAL_ANIMATION_DURATION,ce="insideBase",C="insideEnd",c="interpolate",dd="leave",c9="left",bP="legendItemClick",ao="legendItemHover",bD="line",dM=8,c6="linear",dD="log",dw="max",eh=5,cR=Number.MAX_VALUE,b7="min",dv=-Number.MAX_VALUE,D="minutes",q="months",aT="mouseleave"+di,W="mousemove.tracking",ct="mouseover"+di,aK="mouseout"+di,dT="mousemove"+di,e=20,aI=150,b5="DOMMouseScroll"+di+" mousewheel"+di,bI=ck.NOTE_CLICK,al=ck.NOTE_HOVER,aS="noteText",d="object",ar="ohlc",aX="outsideEnd",ep="_outline",dh="pie",el=70,bn="plotAreaClick",dR="pointer",aQ="rangeBar",ay="rangeColumn",aq="render",eu="right",aG="roundedBevel",dk="roundedGlass",ab="scatter",M="scatterLine",b8="seconds",j="selectStart",cn="select",aD="selectEnd",bw="seriesClick",aa="seriesHover",be=0.001,z="step",aV="smooth",cj="stderr",a7="stddev",k="string",dJ="summary",cW=1000,aC=60*cW,cc=60*aC,dA=24*cc,B=7*dA,d3=31*dA,cl=365*dA,a3={years:cl,months:d3,weeks:B,days:dA,hours:cc,minutes:aC,seconds:cW},cd="to",b2="top",K=150,h=5,N=100,H=100,bV="chart-tooltip-inverse",cS="value",cz="vertical",bi="verticalArea",a0="verticalBullet",eJ="verticalLine",bC="waterfall",bu="weeks",ca="#fff",d8="x",d7="y",et="years",bW="zero",eB=3,cO="zoomStart",n="zoom",a2="zoomEnd",bN=[b8,D,c0,c2,bu,q,et],dG=[cr,bH,ar,ac,bt,dc,ay,aQ,bC,eG];var dz={seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"};var cF=a6.extend({init:function(Y,eN){var eL=this,X,eM;cX.destroy(Y);a6.fn.init.call(eL,Y);eL.element.addClass(x+this.options.name.toLowerCase()).css("position","relative");if(eN){eM=eN.dataSource;eN.dataSource=es}X=aL({},eL.options,eN);eL._originalOptions=aL({},X);eL._initTheme(X);eL._initSurface();eL.bind(eL.events,eL.options);eL.wrapper=eL.element;if(eN){eN.dataSource=eM}eL._initDataSource(eN);cX.notify(eL,ck.ui)},_initTheme:function(eR){var eO=this,eQ=ck.ui.themes||{},eN=eR.theme,eL=eQ[eN]||eQ[eN.toLowerCase()],eP=eN&&eL?eL.chart:{},X=[],eM=eR.series||[],Y;for(Y=0;Y<eM.length;Y++){X.push(er.extend({},eM[Y]))}eR.series=X;y(eR);eO._applyDefaults(eR,eP);if(eR.seriesColors===null){eR.seriesColors=es}eO.options=aL({},eP,eR);ah(eO.options)},_initDataSource:function(eL){var X=this,Y=(eL||{}).dataSource;X._dataChangeHandler=ba(X._onDataChanged,X);X.dataSource=dt.create(Y).bind(ag,X._dataChangeHandler);X._bindCategories();if(Y){X._hasDataSource=true}X._redraw();X._attachEvents();if(Y){if(X.options.autoBind){X.dataSource.fetch()}}},setDataSource:function(Y){var X=this;X.dataSource.unbind(ag,X._dataChangeHandler);X.dataSource=Y=dt.create(Y);X._hasDataSource=true;X._hasData=false;Y.bind(ag,X._dataChangeHandler);if(X.options.autoBind){Y.fetch()}},events:[bY,bw,aa,P,bP,ao,bn,c8,bo,g,cO,n,a2,j,cn,aD,bI,al,aq],items:function(){return er()},options:{name:"Chart",renderAs:"",theme:"default",chartArea:{},legend:{visible:true,labels:{}},categoryAxis:{},autoBind:true,seriesDefaults:{type:bH,data:[],highlight:{visible:true},labels:{},negativeValues:{visible:false}},series:[],seriesColors:null,tooltip:{visible:false},transitions:true,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}]},refresh:function(){var X=this;X._applyDefaults(X.options);ah(X.options);X._bindSeries();X._bindCategories();X.trigger(bY);X._redraw()},getSize:function(){return cX.dimensions(this.element)},_resize:function(){var X=this.options.transitions;this.options.transitions=false;this._redraw();this.options.transitions=X},redraw:function(X){var Y=this,eM,eL;Y._applyDefaults(Y.options);ah(Y.options);if(X){eL=Y._model._plotArea;eM=eL.findPane(X);eL.redraw(eM)}else{Y._redraw()}},getAxis:function(Y){var eL=this._plotArea.axes;for(var X=0;X<eL.length;X++){if(eL[X].options.name===Y){return new cL(eL[X])}}},toggleHighlight:function(eP,eR){var X=this._plotArea;var Y=this._highlight;var eM=(X.srcSeries||X.series||[])[0];var eN,eL,eQ;if(cw(eR)){eN=eR.series;eL=eR.category}else{eN=eL=eR}if(eM.type===cv){eQ=ee(X.pointsBySeriesName(eN),eL)}else{if(eM.type===dh||eM.type===ew){eQ=ee((X.charts[0]||{}).points,eL)}else{eQ=X.pointsBySeriesName(eN)}}if(eQ){for(var eO=0;eO<eQ.length;eO++){Y.togglePointHighlight(eQ[eO],eP)}}},_initSurface:function(){var X=this.surface;var Y=this._surfaceWrap();var eL=this.options.chartArea;if(eL.width){Y.css("width",eL.width)}if(eL.height){Y.css("height",eL.height)}if(!X||X.options.type!==this.options.renderAs){if(X){X.destroy()}this.surface=eK.Surface.create(Y,{type:this.options.renderAs})}else{this.surface.clear();this.surface.resize()}},_surfaceWrap:function(){return this.element},_redraw:function(){var eL=this,Y=eL._getModel(),X;eL._destroyView();eL._model=Y;eL._plotArea=Y._plotArea;Y.renderVisual();if(this.options.transitions!==false){Y.traverse(function(eM){if(eM.animation){eM.animation.setup()}})}eL._initSurface();eL.surface.draw(Y.visual);if(this.options.transitions!==false){Y.traverse(function(eM){if(eM.animation){eM.animation.play()}})}eL._tooltip=eL._createTooltip();eL._highlight=new aJ(X);eL._setupSelection();if(!eL._hasDataSource||eL._hasData||!eL.options.autoBind){eL.trigger(aq)}},exportVisual:function(){return this.surface.exportVisual()},_sharedTooltip:function(){var Y=this,X=Y.options;return Y._plotArea instanceof dX&&X.tooltip.shared},_createTooltip:function(){var eL=this,X=eL.options,Y=eL.element,eM;if(eL._sharedTooltip()){eM=new bF(Y,eL._plotArea,X.tooltip)}else{eM=new dP(Y,X.tooltip)}eM.bind(dd,ba(eL._tooltipleave,eL));return eM},_tooltipleave:function(){var Y=this,eL=Y._plotArea,X=Y._highlight;eL.hideCrosshairs();X.hide()},_applyDefaults:function(Y,X){v(Y,X);dW(Y,X)},_getModel:function(){var eL=this,Y=eL.options,X=new bv(eL._modelOptions()),eM;X.chart=eL;w.buildTitle(Y.title,X);eM=X._plotArea=eL._createPlotArea();if(Y.legend.visible){X.append(new dx(eM.options.legend))}X.append(eM);X.reflow();return X},_modelOptions:function(){var eN=this,Y=eN.options,eL=eN.element,X=eC.floor(eL.height()),eM=eC.floor(eL.width());eN._size=null;return aL({width:eM||d0,height:X||cM,transitions:Y.transitions},Y.chartArea)},_createPlotArea:function(Y){var eL=this,X=eL.options;return a8.current.create(Y?[]:X.series,X)},_setupSelection:function(){var eP=this,X=eP._plotArea,eO=X.axes,Y=eP._selections=[],eR,eN,eL,eM,eQ,eS;if(!eP._selectStartHandler){eP._selectStartHandler=ba(eP._selectStart,eP);eP._selectHandler=ba(eP._select,eP);eP._selectEndHandler=ba(eP._selectEnd,eP)}for(eN=0;eN<eO.length;eN++){eL=eO[eN];eS=eL.options;if(eL instanceof bS&&eS.select&&!eS.vertical){eM=0;eQ=eS.categories.length-1;if(eL instanceof bX){eM=eS.categories[eM];eQ=eS.categories[eQ]}if(!eS.justified){if(eL instanceof bX){eQ=cG(eQ,1,eS.baseUnit,eS.weekStartDay)}else{eQ++}}eR=new eo(eP,eL,aL({min:eM,max:eQ},eS.select));eR.bind(j,eP._selectStartHandler);eR.bind(cn,eP._selectHandler);eR.bind(aD,eP._selectEndHandler);Y.push(eR)}}},_selectStart:function(X){return this.trigger(j,X)},_select:function(X){return this.trigger(cn,X)},_selectEnd:function(X){return this.trigger(aD,X)},_attachEvents:function(){var Y=this,X=Y.element;X.on(cH,ba(Y._click,Y));X.on(ct,ba(Y._mouseover,Y));X.on(aK,ba(Y._mouseout,Y));X.on(b5,ba(Y._mousewheel,Y));X.on(aT,ba(Y._mouseleave,Y));Y._mousemove=cX.throttle(ba(Y._mousemove,Y),e);if(Y._shouldAttachMouseMove()){X.on(dT,Y._mousemove)}if(cX.UserEvents){Y._userEvents=new cX.UserEvents(X,{global:true,filter:":not(.k-selector)",multiTouch:false,tap:ba(Y._tap,Y),start:ba(Y._start,Y),move:ba(Y._move,Y),end:ba(Y._end,Y)})}},_mouseout:function(eL){var Y=this,X=Y._getChartElement(eL);if(X&&X.leave){X.leave(Y,eL)}},_start:function(eL){var Y=this,X=Y._events;if(bO(X[c8]||X[bo]||X[g])){Y._startNavigation(eL,c8)}},_move:function(eP){var eR=this,X=eR._navState,eQ,Y={},eO,eL,eN,eM,eS;if(X){eP.preventDefault();eQ=X.axes;for(eO=0;eO<eQ.length;eO++){eL=eQ[eO];eN=eL.options.name;if(eN){eM=eL.options.vertical?eP.y:eP.x;eS=eM.startLocation-eM.location;if(eS!==0){Y[eL.options.name]=eL.translateRange(eS)}}}X.axisRanges=Y;eR.trigger(bo,{axisRanges:Y,originalEvent:eP})}},_end:function(X){this._endNavigation(X,g)},_mousewheel:function(eQ){var eS=this,eU=eQ.originalEvent,eM,eT=o(eQ),eN,Y=eS._navState,eR,eP,eL,eO,X={};if(!Y){eM=eS._startNavigation(eU,cO);if(!eM){Y=eS._navState}}if(Y){eN=Y.totalDelta||eT;Y.totalDelta=eN+eT;eR=eS._navState.axes;for(eP=0;eP<eR.length;eP++){eL=eR[eP];eO=eL.options.name;if(eO){X[eO]=eL.scaleRange(-eN)}}eS.trigger(n,{delta:eT,axisRanges:X,originalEvent:eQ});if(eS._mwTimeout){clearTimeout(eS._mwTimeout)}eS._mwTimeout=setTimeout(function(){eS._endNavigation(eQ,a2)},aI)}},_startNavigation:function(eQ,eP){var eS=this,eT=eS._eventCoordinates(eQ),X=eS._model._plotArea,eM=X.findPointPane(eT),eR=X.axes.slice(0),eO,Y,eN=false,eL;if(!eM){return}for(eO=0;eO<eR.length;eO++){Y=eR[eO];if(Y.box.containsPoint(eT)){eN=true;break}}if(!eN&&X.backgroundBox().containsPoint(eT)){eL=eS.trigger(eP,{axisRanges:cI(eR),originalEvent:eQ});if(eL){eS._userEvents.cancel()}else{eS._suppressHover=true;eS._unsetActivePoint();eS._navState={pane:eM,axes:eR}}}},_endNavigation:function(eL,Y){var X=this;if(X._navState){X.trigger(Y,{axisRanges:X._navState.axisRanges,originalEvent:eL});X._suppressHover=false;X._navState=null}},_getChartElement:function(eL,X){var Y=this.surface.eventTarget(eL);if(!Y){return}var eM;while(Y&&!eM){eM=Y.chartElement;Y=Y.parent}if(eM){if(eM.aliasFor){eM=eM.aliasFor(eL,this._eventCoordinates(eL))}if(X){eM=eM.closest(X)}return eM}},_eventCoordinates:function(eN){var eL=this,X=bO((eN.x||{}).client),eM=X?eN.x.client:eN.clientX,Y=X?eN.y.client:eN.clientY;return eL._toModelCoordinates(eM,Y)},_toModelCoordinates:function(eN,eL){var Y=this.element,eP=Y.offset(),X=parseInt(Y.css("paddingLeft"),10),eM=parseInt(Y.css("paddingTop"),10),eO=er(window);return new d1(eN-eP.left-X+eO.scrollLeft(),eL-eP.top-eM+eO.scrollTop())},_tap:function(eL){var Y=this,X=Y._getChartElement(eL);if(Y._activePoint===X){Y._click(eL)}else{if(!Y._startHover(eL)){Y._unsetActivePoint()}Y._click(eL)}},_click:function(eL){var Y=this,X=Y._getChartElement(eL);while(X){if(X.click){X.click(Y,eL)}X=X.parent}},_startHover:function(eP){var eN=this,eM=eN._getChartElement(eP),eO=eN._tooltip,Y=eN._highlight,eL=eN.options.tooltip,X;if(eN._suppressHover||!Y||Y.isHighlighted(eM)||eN._sharedTooltip()){return}X=eN._getChartElement(eP,function(eQ){return eQ.hover});if(X&&!X.hover(eN,eP)){eN._activePoint=X;eL=aL({},eL,X.options.tooltip);if(eL.visible){eO.show(X)}Y.show(X);return X.tooltipTracking}},_mouseover:function(Y){var X=this;if(X._startHover(Y)){er(document).on(W,ba(X._mouseMoveTracking,X))}},_mouseMoveTracking:function(eM){var eO=this,eS=eO.options,eR=eO._tooltip,eL=eO._highlight,eP=eO._eventCoordinates(eM),eQ=eO._activePoint,Y,X,eN;if(eO._plotArea.box.containsPoint(eP)){if(eQ&&eQ.tooltipTracking&&eQ.series&&eQ.parent.getNearestPoint){eN=eQ.parent.getNearestPoint(eP.x,eP.y,eQ.seriesIx);if(eN&&eN!=eQ){eN.hover(eO,eM);eO._activePoint=eN;Y=aL({},eS.tooltip,eQ.options.tooltip);if(Y.visible){eR.show(eN)}eL.show(eN)}}}else{er(document).off(W);eO._unsetActivePoint()}},_mousemove:function(Y){var X=this._eventCoordinates(Y);this._trackCrosshairs(X);if(this._sharedTooltip()){this._trackSharedTooltip(X,Y)}},_trackCrosshairs:function(eL){var X=this._plotArea.crosshairs,Y,eM;for(Y=0;Y<X.length;Y++){eM=X[Y];if(eM.box.containsPoint(eL)){eM.showAt(eL)}else{eM.hide()}}},_trackSharedTooltip:function(eS,eQ){var eR=this,eV=eR.options,X=eR._plotArea,eO=X.categoryAxis,eU=eR._tooltip,eN=eV.tooltip,eM=eR._highlight,eP,eT;if(X.box.containsPoint(eS)){eP=eO.pointCategoryIndex(eS);if(eP!==eR._tooltipCategoryIx){eT=X.pointsByCategoryIndex(eP);var eL=er.map(eT,function(eW){return eW.eventArgs(eQ)});var Y=eL[0]||{};Y.categoryPoints=eL;if(eT.length>0&&!this.trigger(aa,Y)){if(eN.visible){eU.showAt(eT,eS)}eM.show(eT)}else{eU.hide()}eR._tooltipCategoryIx=eP}}},_mouseleave:function(eO){var Y=this,eM=Y._plotArea,eL=Y._tooltip,X=Y._highlight,eN=eO.relatedTarget;if(!(eN&&er(eN).closest(eL.element).length)){Y._mousemove.cancel();eM.hideCrosshairs();X.hide();setTimeout(ba(eL.hide,eL),H);Y._tooltipCategoryIx=null}},_unsetActivePoint:function(){var Y=this,eL=Y._tooltip,X=Y._highlight;Y._activePoint=null;if(eL){eL.hide()}if(X){X.hide()}},_onDataChanged:function(){var eN=this,eQ=eN.options,eM=eN._sourceSeries||eQ.series,eR,X=eM.length,eL=eN.dataSource.view(),eO=(eN.dataSource.group()||[]).length>0,Y=[],eP;for(eR=0;eR<X;eR++){eP=eM[eR];if(eN._isBindable(eP)&&eO){b6(Y,aw(eP,eL))}else{Y.push(eP||[])}}eN._sourceSeries=eM;eQ.series=Y;ah(eN.options);eN._bindSeries();eN._bindCategories();eN._hasData=true;eN._deferRedraw()},_deferRedraw:function(){var X=this;if(cX.support.vml){X._clearRedrawTimeout();X._redrawTimeout=setTimeout(function(){if(!X.surface){return}X.trigger(bY);X._redraw()},0)}else{X.trigger(bY);X._redraw()}},_clearRedrawTimeout:function(){if(this._redrawTimeout){clearInterval(this._redrawTimeout);this._redrawTimeout=null}},_bindSeries:function(){var eO=this,eQ=eO.dataSource.view(),eN=eO.options.series,X,Y=eN.length,eM,eP,eL;for(X=0;X<Y;X++){eM=eN[X];if(eO._isBindable(eM)){eP=eM._groupIx;eL=bO(eP)?(eQ[eP]||{}).items:eQ;if(eM.autoBind!==false){eM.data=eL}}}},_bindCategories:function(){var eO=this,eQ=eO.dataSource.view()||[],eN=(eO.dataSource.group()||[]).length>0,X=eQ,Y=eO.options,eM=[].concat(Y.categoryAxis),eP,eL;if(eN){if(eQ.length){X=eQ[0].items}}for(eP=0;eP<eM.length;eP++){eL=eM[eP];if(eL.autoBind!==false){eO._bindCategoryAxis(eL,X,eP)}}},_bindCategoryAxis:function(X,eN,eM){var eL=(eN||[]).length,eP,Y,eO;if(X.field){X.categories=[];for(eP=0;eP<eL;eP++){eO=eN[eP];Y=c4(X.field,eO);if(eP===0){X.categories=[Y];X.dataItems=[eO]}else{X.categories.push(Y);X.dataItems.push(eO)}}}else{this._bindCategoryAxisFromSeries(X,eM)}},_bindCategoryAxisFromSeries:function(eL,eP){var eU=this,eV=[],eR,eQ=eU.options.series,eZ=eQ.length,eW,eT,eY,e0,eN,eO,eS,eX,X={},eM,Y;for(eW=0;eW<eZ;eW++){eT=eQ[eW];eY=eT.categoryAxis===eL.name||(!eT.categoryAxis&&eP===0);e0=eT.data;eO=e0.length;if(eT.categoryField&&eY&&eO>0){Y=cE(eL,c4(eT.categoryField,e0[0]));eM=Y?ai:c4;for(eN=0;eN<eO;eN++){eS=e0[eN];eX=eM(eT.categoryField,eS);if(Y||!X[eX]){eV.push([eX,eS]);if(!Y){X[eX]=true}}}}}if(eV.length>0){if(Y){eV=V(eV,function(e2,e1){return bx(e2[0],e1[0])})}eR=db(eV);eL.categories=eR[0];eL.dataItems=eR[1]}},_isBindable:function(eM){var Y=bA.current.valueFields(eM),X=true,eN,eL;for(eL=0;eL<Y.length;eL++){eN=Y[eL];if(eN===cS){eN="field"}else{eN=eN+"Field"}if(!bO(eM[eN])){X=false;break}}return X},_legendItemClick:function(eL,eO){var eN=this,X=eN._plotArea,eR=(X.srcSeries||X.series)[eL],eQ=(eN._sourceSeries||[])[eL]||eR,eM,Y,eP;if(dO(eR.type,[dh,cv,ew])){eP=eQ.data[eO];if(!bO(eP.visible)){Y=false}else{Y=!eP.visible}eP.visible=Y}else{Y=!eQ.visible;eQ.visible=Y;eR.visible=Y}if(eN.options.transitions){eN.options.transitions=false;eM=true}eN.redraw();if(eM){eN.options.transitions=true}},_legendItemHover:function(eL,eP){var eO=this,eQ=eO._plotArea,Y=eO._highlight,eN=(eQ.srcSeries||eQ.series)[eL],eM,X;if(dO(eN.type,[dh,cv,ew])){eM=eP}else{eM=eL}X=eQ.pointsBySeriesIndex(eM);Y.show(X)},_shouldAttachMouseMove:function(){var X=this;return X._plotArea.crosshairs.length||(X._tooltip&&X._sharedTooltip())},setOptions:function(X){var Y=this,eL=X.dataSource;X.dataSource=es;Y._originalOptions=aL(Y._originalOptions,X);Y.options=aL({},Y._originalOptions);Y._sourceSeries=null;er(document).off(dT);a6.fn._setEvents.call(Y,X);Y._initTheme(Y.options);if(eL){Y.setDataSource(eL)}if(Y._hasDataSource){Y.refresh()}else{Y._bindCategories();Y.redraw()}if(Y._shouldAttachMouseMove()){Y.element.on(dT,Y._mousemove)}},destroy:function(){var X=this,Y=X.dataSource;X.element.off(di);Y.unbind(ag,X._dataChangeHandler);er(document).off(W);if(X._userEvents){X._userEvents.destroy()}X._destroyView();X.surface.destroy();X.surface=null;X._clearRedrawTimeout();a6.fn.destroy.call(X)},_destroyView:function(){var eL=this,X=eL._model,Y=eL._selections;if(X){X.destroy();eL._model=null}if(Y){while(Y.length>0){Y.shift().destroy()}}eL._unsetActivePoint();if(eL._tooltip){eL._tooltip.destroy()}if(eL._highlight){eL._highlight.destroy()}}});ck.ExportMixin.extend(cF.fn);if(cX.PDFMixin){cX.PDFMixin.extend(cF.fn)}var a8=az.extend({init:function(){this._registry=[]},register:function(Y,X){this._registry.push({type:Y,seriesTypes:X})},create:function(eP,eL){var X=this._registry,Y=X[0],eN,eO,eM;for(eN=0;eN<X.length;eN++){eO=X[eN];eM=aZ(eP,eO.seriesTypes);if(eM.length>0){Y=eO;break}}return new Y.type(eM,eL)}});a8.current=new a8();var bA=az.extend({init:function(){this._valueFields={};this._otherFields={};this._nullValue={};this._undefinedValue={}},register:function(eL,X,eO){var Y=this,eM,eN;X=X||[cS];for(eM=0;eM<eL.length;eM++){eN=eL[eM];Y._valueFields[eN]=X;Y._otherFields[eN]=eO;Y._nullValue[eN]=Y._makeValue(X,null);Y._undefinedValue[eN]=Y._makeValue(X,es)}},canonicalFields:function(X){return this.valueFields(X).concat(this.otherFields(X))},valueFields:function(X){return this._valueFields[X.type]||[cS]},otherFields:function(X){return this._otherFields[X.type]||[cS]},bindPoint:function(eO,eP){var eU=this,eN=eO.data,eT=eN[eP],eV={valueFields:{value:eT}},eQ,eM,eR,Y,eL=eU.valueFields(eO),X=eU._otherFields[eO.type],eS;if(eT===null){eS=eU._nullValue[eO.type]}else{if(!bO(eT)){eS=eU._undefinedValue[eO.type]}else{if(U(eT)){eM=eT.slice(eL.length);eS=eU._bindFromArray(eT,eL);eQ=eU._bindFromArray(eM,X)}else{if(typeof eT===d){eR=eU.sourceFields(eO,eL);Y=eU.sourceFields(eO,X);eS=eU._bindFromObject(eT,eL,eR);eQ=eU._bindFromObject(eT,X,Y)}}}}if(bO(eS)){if(eL.length===1){eV.valueFields.value=eS[eL[0]]}else{eV.valueFields=eS}}eV.fields=eQ||{};return eV},_makeValue:function(Y,X){var eN={},eL,eM=Y.length,eO;for(eL=0;eL<eM;eL++){eO=Y[eL];eN[eO]=X}return eN},_bindFromArray:function(eN,X){var eM={},Y,eL;if(X){eL=eC.min(X.length,eN.length);for(Y=0;Y<eL;Y++){eM[X[Y]]=eN[Y]}}return eM},_bindFromObject:function(eL,X,Y){var eO={},eM,eN,eQ,eP;if(X){eN=X.length;Y=Y||X;for(eM=0;eM<eN;eM++){eQ=X[eM];eP=Y[eM];eO[eQ]=c4(eP,eL)}}return eO},sourceFields:function(eL,eM){var Y,eN,eP,eO,X;if(eM){eN=eM.length;eO=[];for(Y=0;Y<eN;Y++){eP=eM[Y];X=eP===cS?"field":eP+"Field";eO.push(eL[X]||eP)}}return eO}});bA.current=new bA();var bf=ec.extend({init:function(eL,Y){var X=this;ec.fn.init.call(X,Y);this.textBox=new a4(eL,X.options);X.append(this.textBox)},options:{position:aX,margin:bz(3),padding:bz(4),color:aW,background:"",border:{width:1,color:""},aboveAxis:true,vertical:false,animation:{type:d5,delay:Q},zIndex:2},createVisual:function(){this.textBox.options.noclip=this.options.noclip},reflow:function(Y){var eM=this,eL=eM.options,X=eL.vertical,eQ=eL.aboveAxis,eP=eM.children[0],eN=eP.box,eO=eP.options.padding;eP.options.align=X?eA:c9;eP.options.vAlign=X?b2:eA;if(eL.position==C){if(X){eP.options.vAlign=b2;if(!eQ&&eN.height()<Y.height()){eP.options.vAlign=eD}}else{eP.options.align=eQ?eu:c9}}else{if(eL.position==eA){eP.options.vAlign=eA;eP.options.align=eA}else{if(eL.position==ce){if(X){eP.options.vAlign=eQ?eD:b2}else{eP.options.align=eQ?c9:eu}}else{if(eL.position==aX){if(X){if(eQ){Y=new cK(Y.x1,Y.y1-eN.height(),Y.x2,Y.y1)}else{Y=new cK(Y.x1,Y.y2,Y.x2,Y.y2+eN.height())}}else{eP.options.align=eA;if(eQ){Y=new cK(Y.x2,Y.y1,Y.x2+eN.width(),Y.y2)}else{Y=new cK(Y.x1-eN.width(),Y.y1,Y.x1,Y.y2)}}}}}}if(!eL.rotation){if(X){eO.left=eO.right=(Y.width()-eP.contentBox.width())/2}else{eO.top=eO.bottom=(Y.height()-eP.contentBox.height())/2}}eP.reflow(Y)},alignToClipBox:function(X){var eP=this,eL=eP.options.vertical,eQ=eL?d7:d8,Y=eQ+"1",eM=eQ+"2",eR=eP.children[0],eN=eP.parent.box,eO;if(eN[Y]<X[Y]||X[eM]<eN[eM]){eO=eR.paddingBox.clone();eO[Y]=eC.max(eN[Y],X[Y]);eO[eM]=eC.min(eN[eM],X[eM]);this.reflow(eO)}}});var au=a.extend({init:function(X){var Y=this;a.fn.init.call(Y,X);Y.createContainer();Y.createMarker();Y.createLabel()},createContainer:function(){var X=this;X.container=new c7({vertical:false,wrap:false,align:eA});X.append(X.container)},createMarker:function(){this.container.append(new u(this.markerOptions()))},markerOptions:function(){var Y=this.options;var X=Y.markerColor;return aL({},Y.markers,{background:X,border:{color:X}})},createLabel:function(){var eL=this,Y=eL.options,X=aL({},Y.labels);eL.container.append(new a4(Y.text,X))},renderComplete:function(){ec.fn.renderComplete.call(this);var Y=this.options.cursor||{};var X=this._itemOverlay=eK.Path.fromRect(this.container.box.toRect(),{fill:{color:ca,opacity:0},stroke:null,cursor:Y.style||Y});this.appendVisual(X)},click:function(Y,eL){var X=this.eventArgs(eL);if(!Y.trigger(bP,X)){eL.preventDefault();Y._legendItemClick(X.seriesIndex,X.pointIndex)}},hover:function(Y,eL){var X=this.eventArgs(eL);if(!Y.trigger(ao,X)){eL.preventDefault();Y._legendItemHover(X.seriesIndex,X.pointIndex)}return true},leave:function(X){X._unsetActivePoint()},eventArgs:function(Y){var X=this.options;return{element:er(Y.target),text:X.text,series:X.series,seriesIndex:X.series.index,pointIndex:X.pointIndex}},renderVisual:function(){var eL=this;var X=eL.options;var Y=X.visual;if(Y){eL.visual=Y({active:X.active,series:X.series,options:{markers:eL.markerOptions(),labels:X.labels},createVisual:function(){ec.fn.renderVisual.call(eL);var eM=eL.visual;delete eL.visual;return eM}});this.addVisual()}else{ec.fn.renderVisual.call(eL)}}});var ez=ec.extend({render:function(){var Y,eM=this.children;var eN=this.options;var eL=eN.vertical;var eP=eN.spacing;var eO=this.visual=new eK.Layout(null,{spacing:eL?0:eN.spacing,lineSpacing:eL?eN.spacing:0,orientation:eL?"vertical":"horizontal"});for(var X=0;X<eM.length;X++){Y=eM[X];Y.reflow(new cK());Y.renderVisual()}},reflow:function(X){this.visual.rect(X.toRect());this.visual.reflow();var Y=this.visual.clippedBBox();if(Y){this.box=ck.rectToBox(Y)}else{this.box=new cK()}},renderVisual:function(){this.addVisual()},createVisual:dy});var dx=ec.extend({init:function(X){var Y=this;ec.fn.init.call(Y,X);if(!dO(Y.options.position,[b2,eu,eD,c9,aO])){Y.options.position=eu}Y.createContainer();Y.createItems()},options:{position:eu,items:[],labels:{margin:{left:6}},offsetX:0,offsetY:0,margin:bz(5),padding:bz(5),border:{color:aW,width:0},item:{cursor:dR},spacing:6,background:"",zIndex:1,markers:{border:{width:1},width:7,height:7,type:"rect",align:c9,vAlign:eA}},createContainer:function(){var eM=this,eL=eM.options,Y=eL.align,X=eL.position,eO=X,eN=eA;if(X==aO){eO=c9}else{if(dO(X,[b2,eD])){if(Y=="start"){eO=c9}else{if(Y=="end"){eO=eu}else{eO=eA}}eN=X}else{if(Y){if(Y=="start"){eN=b2}else{if(Y=="end"){eN=eD}}}}}eM.container=new a({margin:eL.margin,padding:eL.padding,background:eL.background,border:eL.border,vAlign:eN,align:eO,zIndex:eL.zIndex,shrinkToFit:true});eM.append(eM.container)},createItems:function(){var eN=this,eL=eN.options,Y=eL.items,eP=Y.length,X=eN.isVertical(),eQ,eM,eO;eQ=new ez({vertical:X,spacing:eL.spacing});if(eL.reverse){Y=Y.slice(0).reverse()}for(eM=0;eM<eP;eM++){eO=Y[eM];eQ.append(new au(aL({},{markers:eL.markers,labels:eL.labels},eL.item,eO)))}eQ.render();eN.container.append(eQ)},isVertical:function(){var eN=this,eM=eN.options,eL=eM.orientation,X=eM.position,Y=(X==aO&&eL!=dr)||(bO(eL)?eL!=dr:dO(X,[c9,eu]));return Y},hasItems:function(){return this.container.children[0].children.length>0},reflow:function(Y){var eM=this,eL=eM.options,X=eM.container;Y=Y.clone();if(!eM.hasItems()){eM.box=Y;return}if(eL.position===aO){eM.containerCustomReflow(Y);eM.box=Y}else{eM.containerReflow(Y)}},containerReflow:function(eQ){var eS=this,eU=eS.options,eP=eU.position,eR=eP==b2||eP==eD?d8:d7,Y=eQ.clone(),X=eS.container,eL=eU.width,eT=eU.height,eN=eS.isVertical(),eM=eQ.clone(),eO;if(eP==c9||eP==eu){Y.y1=eM.y1=0}if(eN&&eT){Y.y2=Y.y1+eT;Y.align(eM,d7,X.options.vAlign)}else{if(!eN&&eL){Y.x2=Y.x1+eL;Y.align(eM,d8,X.options.align)}}X.reflow(Y);Y=X.box;eO=Y.clone();if(eU.offsetX||eU.offsetY){Y.translate(eU.offsetX,eU.offsetY);eS.container.reflow(Y)}eO[eR+1]=eQ[eR+1];eO[eR+2]=eQ[eR+2];eS.box=eO},containerCustomReflow:function(eP){var eQ=this,eS=eQ.options,eO=eS.offsetX,eN=eS.offsetY,X=eQ.container,eL=eS.width,eR=eS.height,eM=eQ.isVertical(),Y=eP.clone();if(eM&&eR){Y.y2=Y.y1+eR}else{if(!eM&&eL){Y.x2=Y.x1+eL}}X.reflow(Y);Y=X.box;X.reflow(cK(eO,eN,eO+Y.width(),eN+Y.height()))},renderVisual:function(){if(this.hasItems()){ec.fn.renderVisual.call(this)}}});var bS=cu.extend({init:function(X){var Y=this;cu.fn.init.call(Y,X);X=Y.options;X.categories=X.categories.slice(0);Y._ticks={}},options:{type:cQ,categories:[],vertical:false,majorGridLines:{visible:false,width:1,color:aW},labels:{zIndex:1},justified:false},range:function(){return{min:0,max:this.options.categories.length}},getTickPositions:function(eV){var Y=this,eU=Y.options,eL=eU.vertical,eM=eU.justified,eR=Y.lineBox(),eT=eL?eR.height():eR.width(),eQ=eV-(eM?1:0),X=eT/eQ,eP=eL?d7:d8,eS=eR[eP+1],eO=[],eN;for(eN=0;eN<eV;eN++){eO.push(cB(eS,dp));eS+=X}if(!eM){eO.push(eR[eP+2])}return eU.reverse?eO.reverse():eO},getMajorTickPositions:function(){return this.getTicks().majorTicks},getMinorTickPositions:function(){return this.getTicks().minorTicks},getTicks:function(){var eO=this,eL=eO._ticks,eN=eO.options,eP=eN.categories.length,eM=eN.reverse,X=eN.justified,Y=eO.lineBox(),eQ;eQ=Y.getHash()+eP+eM+X;if(eL._hash!==eQ){eL._hash=eQ;eL.majorTicks=eO.getTickPositions(eP);eL.minorTicks=eO.getTickPositions(eP*2)}return eL},getSlot:function(eU,eV){var eL=this,eZ=eL.options,eP=eL.getTicks().majorTicks,eT=eZ.reverse,eN=eZ.justified,eY=eZ.vertical?d7:d8,eS=eL.lineBox(),eR=eS[eY+(eT?2:1)],eO=eS[eY+(eT?1:2)],Y=eS.clone(),eQ=eC.max(1,eP.length-(eN?0:1)),eX,eW,X;var eM=!bO(eV);eU=bQ(eU,0);eV=bQ(eV,eU);eU=cx(eU,0,eQ);eV=cx(eV-1,eU,eQ);eV=eC.max(eU,eV);eX=eU===0?eR:(eP[eU]||eO);eW=eN?eX:eP[eV];X=eV-eU;if(X>0||(eU===eV)){eW=eP[eV+1]||eO}if(eM&&eN){if(eU===eQ){eX=eW}else{eW=eX}}Y[eY+1]=eT?eW:eX;Y[eY+2]=eT?eX:eW;return Y},pointCategoryIndex:function(eV){var X=this,eY=X.options,eS=eY.reverse,Y=eY.vertical,eW=Y?d7:d8,eR=X.lineBox(),eQ=eR[eW+1],eL=eR[eW+2],eT=eV[eW],eO=X.getMajorTickPositions(),eU=cR,eN,eX,eM,eP;if(eT<eQ||eT>eL){return null}for(eM=0;eM<eO.length;eM++){eN=eO[eM];eX=eO[eM+1];if(!bO(eX)){eX=eS?eQ:eL}if(eS){eN=eX;eX=eO[eM]}if(eY.justified){if(eT===eX){eP=eC.max(0,Y?eO.length-eM-1:eM+1);break}if(eC.abs(eT-eN)<eU){eU=eT-eN;eP=eM}}else{if(eT>=eN&&eT<=eX){eP=eM;break}}}return eP},getCategory:function(X){var Y=this.pointCategoryIndex(X);if(Y===null){return null}return this.options.categories[Y]},categoryIndex:function(X){return cs(X,this.options.categories)},translateRange:function(eQ){var eN=this,eL=eN.options,X=eN.lineBox(),eM=eL.vertical?X.height():X.width(),Y=eL.categories.length,eP=eM/Y,eO=cB(eQ/eP,r);return{min:eO,max:Y+eO}},scaleRange:function(eM){var eL=this,Y=eL.options,X=Y.categories.length,eN=eM*X;return{min:-eN,max:X+eN}},labelsCount:function(){return this.options.categories.length},createAxisLabel:function(eM,X){var eN=this,eL=eN.options,Y=eL.dataItems?eL.dataItems[eM]:null,eO=bQ(eL.categories[eM],""),eP=eN.axisLabelText(eO,Y,X);return new dB(eO,eP,eM,Y,X)},shouldRenderNote:function(Y){var X=this.options.categories;return X.length&&(X.length>Y&&Y>=0)}});var bX=bS.extend({init:function(Y){var eL=this,eM,X;Y=Y||{};Y=aL({roundToBaseUnit:true},Y,{categories:cA(Y.categories),min:cA(Y.min),max:cA(Y.max)});if(Y.categories&&Y.categories.length>0){eM=(Y.baseUnit||"").toLowerCase();X=eM!==aE&&!dO(eM,bN);if(X){Y.baseUnit=eL.defaultBaseUnit(Y)}if(eM===aE||Y.baseUnitStep===bk){eL.autoBaseUnit(Y)}eL.groupCategories(Y)}else{Y.baseUnit=Y.baseUnit||c2}bS.fn.init.call(eL,Y)},options:{type:eb,labels:{dateFormats:dz},autoBaseUnitSteps:{seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10},shouldRenderNote:function(eM){var eL=this,Y=eL.range(),X=eL.options.categories||[];return bx(eM,Y.min)>=0&&bx(eM,Y.max)<=0&&X.length},parseNoteValue:function(X){return cA(X)},translateRange:function(eR){var X=this,eU=X.options,eO=eU.baseUnit,eS=eU.weekStartDay,eN=X.lineBox(),eT=eU.vertical?eN.height():eN.width(),eM=X.range(),Y=eT/(eM.max-eM.min),eL=cB(eR/Y,r),eQ,eP;if(eM.min&&eM.max){eQ=m(eU.min||eM.min,eL);eP=m(eU.max||eM.max,eL);eM={min:cG(eQ,0,eO,eS),max:cG(eP,0,eO,eS)}}return eM},scaleRange:function(eP){var eL=this,X=eC.abs(eP),Y=eL.range(),eO=Y.min,eN=Y.max,eM;if(Y.min&&Y.max){while(X--){Y=R(eO,eN);eM=eC.round(Y*0.1);if(eP<0){eO=m(eO,eM);eN=m(eN,-eM)}else{eO=m(eO,-eM);eN=m(eN,eM)}}Y={min:eO,max:eN}}return Y},defaultBaseUnit:function(eR){var Y=eR.categories,eL=bO(Y)?Y.length:0,X,eN,eP,eQ=cR,eM,eO;for(X=0;X<eL;X++){eN=Y[X];if(eN&&eM){eP=R(eN,eM);if(eP>0){eQ=eC.min(eQ,eP);if(eQ>=cl){eO=et}else{if(eQ>=d3-dA*3){eO=q}else{if(eQ>=B){eO=bu}else{if(eQ>=dA){eO=c2}else{if(eQ>=cc){eO=c0}else{if(eQ>=aC){eO=D}else{eO=b8}}}}}}}}eM=eN}return eO||c2},_categoryRange:function(Y){var X=Y._range;if(!X){X=Y._range=a1(Y)}return X},range:function(eS){eS=eS||this.options;var eM=eS.categories,X=eS.baseUnit===aE,eP=X?bN[0]:eS.baseUnit,eN=eS.baseUnitStep||1,eL=bK(eS.min),eO=bK(eS.max),Y=this._categoryRange(eM);var eR=bK(Y.min),eQ=bK(Y.max);if(eS.roundToBaseUnit){return{min:cG(eL||eR,0,eP,eS.weekStartDay),max:cG(eO||eQ,eN,eP,eS.weekStartDay)}}else{return{min:cA(eL||eR),max:cA(eO||this._srcMaxDate||eQ)}}},autoBaseUnit:function(eW){var eL=this,eO=eL.range(aL({},eW,{baseUnitStep:1})),X=eW.baseUnit===aE,eN=0,eR=X?bN[eN++]:eW.baseUnit,eS=eO.max-eO.min,eP=eS/a3[eR],eV=eP,eU=eW.maxDateGroups||eL.options.maxDateGroups,eQ=aL({},eL.options.autoBaseUnitSteps,eW.autoBaseUnitSteps),eT,Y,eM;while(!Y||eP>eU){eT=eT||eQ[eR].slice(0);eM=eT.shift();if(eM){Y=eM;eP=eV/Y}else{if(eR===dV(bN)){Y=eC.ceil(eV/eU);break}else{if(X){eR=bN[eN++]||dV(bN);eV=eS/a3[eR];eT=null}else{if(eP>eU){Y=eC.ceil(eV/eU)}break}}}}eW.baseUnitStep=Y;eW.baseUnit=eR},_timeScale:function(){var X=this,eM=X.range(),eR=X.options,eN=X.lineBox(),eL=eR.vertical,eQ=eL?eN.height():eN.width(),eO;if(eR.justified&&eR._collapse!==false){var Y=this._categoryRange(eR.categories);var eP=bK(Y.max);eO=cA(eP)-eM.min}else{eO=eM.max-eM.min}return eQ/eO},getTickPositions:function(eS){var eM=this,eO=eM.options,eY=eO.categories,eT=[];if(eO.roundToBaseUnit||eY.length===0){eT=bS.fn.getTickPositions.call(eM,eS)}else{var eL=eO.vertical,eU=eO.reverse,X=eM.lineBox(),eW=eY[0].getTime(),Y=bQ(eO._collapse,eO.justified),eQ=eY.length-(Y?1:0),e1=eM._timeScale(),eX=(eL?-1:1)*(eU?-1:1),eV=eX===1?1:2,eN=eX===1?2:1,e2=X[(eL?d7:d8)+eV],eZ=X[(eL?d7:d8)+eN],eR=e2,e0,eP;for(e0=0;e0<eQ;e0++){eP=eY[e0]-eW;eR=e2+eP*e1*eX;eT.push(cB(eR,dp))}if(dV(eT)!==eZ){eT.push(eZ)}}return eT},groupCategories:function(eT){var eL=this,eN=eT.categories,eS=cA(dm(eN)),eR=eT.baseUnit,eP=eT.baseUnitStep||1,eO=eL.range(eT),eQ=eO.max,Y,eM,X=[];for(Y=eO.min;Y<eQ;Y=eM){X.push(Y);eM=cG(Y,eP,eR,eT.weekStartDay);if(eM>eS&&!eT.max){break}}if(!eT.roundToBaseUnit&&!ds(dV(X),eQ)){if(eQ<eM&&eT._collapse!==false){this._srcMaxDate=eQ}else{X.push(eQ)}}eT.srcCategories=eN;eT.categories=X},createAxisLabel:function(eN,eM){var eS=this.options,X=eS.dataItems?eS.dataItems[eN]:null,eL=eS.categories[eN],eQ=eS.baseUnit,Y=true,eO=eM.dateFormats[eQ];if(eS.justified){var eP=ej(eL,eQ,eS.weekStartDay);Y=ds(eP,eL)}else{if(!eS.roundToBaseUnit){Y=!ds(this.range().max,eL)}}if(Y){eM.format=eM.format||eO;var eR=this.axisLabelText(eL,X,eM);if(eR){return new dB(eL,eR,eN,X,eM)}}},categoryIndex:function(eP,eL){var eO=this,eN=eO.options,Y=eN.categories,X,eM;eP=cA(eP);eL=eL||eO.range();X=eN.roundToBaseUnit&&ds(eL.max,eP);if(eP&&(eP>eL.max||X)){return Y.length}else{if(!eP||eP<eL.min){return -1}}eM=S(eP,Y);return eM},getSlot:function(Y,X){var eL=this;if(typeof Y===d){Y=eL.categoryIndex(Y)}if(typeof X===d){X=eL.categoryIndex(X)}return bS.fn.getSlot.call(eL,Y,X)}});var aA=cu.extend({init:function(X,eM,Y){var eL=this;Y=Y||{};aL(Y,{min:cA(Y.min),max:cA(Y.max),axisCrossingValue:cA(Y.axisCrossingValues||Y.axisCrossingValue)});Y=eL.applyDefaults(cA(X),cA(eM),Y);cu.fn.init.call(eL,Y)},options:{type:eb,majorGridLines:{visible:true,width:1,color:aW},labels:{dateFormats:dz}},applyDefaults:function(eL,eR,eZ){var Y=this,eM=eZ.min||eL,eT=eZ.max||eR,eW=eZ.baseUnit||Y.timeUnits(eT-eM),eO=a3[eW],eX=ej(bK(eM)-1,eW)||cA(eT),X=aN(bK(eT)+1,eW),eV=eZ.majorUnit?eZ.majorUnit:es,eQ=eV||ck.ceil(ck.autoMajorUnit(eX.getTime(),X.getTime()),eO)/eO,eN=cm(eX,X,eW),eY=ck.ceil(eN,eQ),eU=eY-eN,eS=eC.floor(eU/2),eP=eU-eS;if(!eZ.baseUnit){delete eZ.baseUnit}eZ.baseUnit=eZ.baseUnit||eW;eZ.min=eZ.min||cG(eX,-eS,eW);eZ.max=eZ.max||cG(X,eP,eW);eZ.minorUnit=eZ.minorUnit||eQ/5;eZ.majorUnit=eQ;return eZ},range:function(){var X=this.options;return{min:X.min,max:X.max}},getDivisions:function(X){var Y=this.options;return eC.floor(cm(Y.min,Y.max,Y.baseUnit)/X+1)},getTickPositions:function(eM){var eY=this.options;var eQ=eY.vertical;var eU=eY.reverse;var eT=this.lineBox();var eO=(eQ?-1:1)*(eU?-1:1);var X=eO===1?1:2;var Y=eT[(eQ?d7:d8)+X];var eL=this.getDivisions(eM);var eW=eY.max-eY.min;var eX=eQ?eT.height():eT.width();var eP=eX/eW;var eS=[Y];for(var eR=1;eR<eL;eR++){var eN=cG(eY.min,eR*eY.majorUnit,eY.baseUnit);var eV=Y+(eN-eY.min)*eP*eO;eS.push(cB(eV,dp))}return eS},getMajorTickPositions:function(){var X=this;return X.getTickPositions(X.options.majorUnit)},getMinorTickPositions:function(){var X=this;return X.getTickPositions(X.options.minorUnit)},getSlot:function(eL,X,Y){return cp.fn.getSlot.call(this,cA(eL),cA(X),Y)},getValue:function(X){var Y=cp.fn.getValue.call(this,X);return Y!==null?cA(Y):null},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(eM,X){var eL=this.options;var eP=eM*eL.majorUnit;var Y=eL.min;if(eP>0){Y=cG(Y,eP,eL.baseUnit)}var eN=X.dateFormats[eL.baseUnit];X.format=X.format||eN;var eO=this.axisLabelText(Y,null,X);return new dB(Y,eO,eM,null,X)},timeUnits:function(Y){var X=c0;if(Y>=cl){X=et}else{if(Y>=d3){X=q}else{if(Y>=B){X=bu}else{if(Y>=dA){X=c2}}}}return X},translateRange:function(eR){var X=this,eU=X.options,eO=eU.baseUnit,eS=eU.weekStartDay,eN=X.lineBox(),eT=eU.vertical?eN.height():eN.width(),eM=X.range(),Y=eT/(eM.max-eM.min),eL=cB(eR/Y,r),eQ=m(eU.min,eL),eP=m(eU.max,eL);return{min:cG(eQ,0,eO,eS),max:cG(eP,0,eO,eS)}},scaleRange:function(eQ){var eM=this,eL=eM.options,X=eC.abs(eQ),eP=eL.min,eO=eL.max,Y,eN;while(X--){Y=R(eP,eO);eN=eC.round(Y*0.1);if(eQ<0){eP=m(eP,eN);eO=m(eO,-eN)}else{eP=m(eP,-eN);eO=m(eO,eN)}}return{min:eP,max:eO}},shouldRenderNote:function(Y){var X=this.range();return bx(Y,X.min)>=0&&bx(Y,X.max)<=0}});var bh=ec.extend({options:{vertical:false,gap:0,spacing:0},reflow:function(eP){var eV=this,eW=eV.options,eM=eW.vertical,eL=eM?d7:d8,X=eV.children,eT=eW.gap,eS=eW.spacing,eQ=X.length,eR=eQ+eT+(eS*(eQ-1)),Y=(eM?eP.height():eP.width())/eR,eO=eP[eL+1]+Y*(eT/2),eU,eN;for(eN=0;eN<eQ;eN++){eU=(X[eN].box||eP).clone();eU[eL+1]=eO;eU[eL+2]=eO+Y;X[eN].reflow(eU);if(eN<eQ-1){eO+=(Y*eS)}eO+=Y}}});var dK=ec.extend({options:{vertical:true},reflow:function(eR){var eT=this.options,eN=eT.vertical,X=eN?d8:d7,Y=eN?d7:d8,eL=this.children,eQ=this.box=new cK(),eP=eL.length,eO;for(eO=0;eO<eP;eO++){var eM=eL[eO],eS;if(eM.visible!==false){eS=eM.box.clone();eS.snapTo(eR,X);if(eO===0){eQ=this.box=eS.clone()}eM.reflow(eS);eQ.wrap(eS)}}}});var p={click:function(X,Y){return X.trigger(bw,this.eventArgs(Y))},hover:function(X,Y){return X.trigger(aa,this.eventArgs(Y))},eventArgs:function(X){return{value:this.value,percentage:this.percentage,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:er((X||{}).target),originalEvent:X,point:this}}};var bR={createNote:function(){var Y=this,X=Y.options.notes,eL=Y.noteText||X.label.text;if(X.visible!==false&&bO(eL)&&eL!==null){Y.note=new cg(Y.value,eL,Y.dataItem,Y.category,Y.series,Y.options.notes);Y.append(Y.note)}}};var aF=ec.extend({init:function(eL,X){var Y=this;ec.fn.init.call(Y);Y.options=X;Y.color=X.color||ca;Y.aboveAxis=bQ(Y.options.aboveAxis,true);Y.value=eL},defaults:{border:{width:1},vertical:true,overlay:{gradient:aU},labels:{visible:false,format:"{0}"},opacity:1,notes:{label:{}}},render:function(){if(this._rendered){return}else{this._rendered=true}this.createLabel();this.createNote();if(this.errorBar){this.append(this.errorBar)}},createLabel:function(){var eM=this.value;var X=this.options;var eN=X.labels;var eL;if(eN.visible){if(eN.template){var Y=l(eN.template);eL=Y({dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total,series:this.series})}else{eL=this.formatValue(eN.format)}this.label=new bf(eL,aL({vertical:X.vertical},X.labels));this.append(this.label)}},formatValue:function(X){return this.owner.formatPointValue(this,X)},reflow:function(X){this.render();var eN=this,eL=eN.options,Y=eN.label;eN.box=X;if(Y){Y.options.aboveAxis=eN.aboveAxis;Y.reflow(X)}if(eN.note){eN.note.reflow(X)}if(eN.errorBars){for(var eM=0;eM<eN.errorBars.length;eM++){eN.errorBars[eM].reflow(X)}}},createVisual:function(){var eN=this;var eM=eN.box;var X=eN.options;var Y=X.visual;if(eN.visible!==false){ec.fn.createVisual.call(eN);if(Y){var eL=this.rectVisual=Y({category:eN.category,dataItem:eN.dataItem,value:eN.value,series:eN.series,percentage:eN.percentage,runningTotal:eN.runningTotal,total:eN.total,rect:eM.toRect(),createVisual:function(){var eO=new eK.Group();eN.createRect(eO);return eO},options:X});if(eL){eN.visual.append(eL)}}else{if(eM.width()>0&&eM.height()>0){eN.createRect(eN.visual)}}}},createRect:function(eQ){var eL=this.options;var Y=eL.border;var eN=bO(Y.opacity)?Y.opacity:eL.opacity;var eP=this.rectVisual=eK.Path.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:eL.opacity},stroke:{color:this.getBorderColor(),width:Y.width,opacity:eN,dashType:Y.dashType}});var eO=this.box.width();var X=this.box.height();var eM=eL.vertical?eO:X;if(eM>br){eI(eP);if(eO<1||X<1){eP.options.stroke.lineJoin="round"}}eQ.append(eP);if(aB(eL)){eQ.append(this.createGradientOverlay(eP,{baseColor:this.color},aL({end:!eL.vertical?[0,1]:es},eL.overlay)))}},createHighlight:function(Y){var X=eK.Path.fromRect(this.box.toRect(),Y);return eI(X)},highlightVisual:function(){return this.rectVisual},highlightVisualArgs:function(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}},getBorderColor:function(){var eM=this,eL=eM.options,X=eM.color,Y=eL.border,eO=Y.color,eN=Y._brightness||ed;if(!bO(eO)){eO=new G(X).brightness(eN).toHex()}return eO},tooltipAnchor:function(eN,eT){var eP=this,eU=eP.options,eO=eP.box,eM=eU.vertical,eQ=eP.aboveAxis,X=eP.owner.pane.clipBox()||eO,eS,eR;if(eM){eS=eO.x2+h;eR=eQ?eC.max(eO.y1,X.y1):eC.min(eO.y2,X.y2)-eT}else{var eL=eC.max(eO.x1,X.x1),Y=eC.min(eO.x2,X.x2);if(eU.isStacked){eS=eQ?Y-eN:eL;eR=eO.y1-eT-h}else{eS=eQ?Y+h:eL-eN-h;eR=eO.y1}}return new d1(eS,eR)}});aL(aF.fn,p);aL(aF.fn,bR);var aM=eK.Animation.extend({options:{duration:Q},setup:function(){var eM=this.element;var eL=this.options;var eO=eM.bbox();if(eO){var Y=this.origin=eL.origin;var eN=eL.vertical?d7:d8;var X=this.fromScale=new av.Point(1,1);X[eN]=be;eM.transform(av.transform().scale(X.x,X.y))}else{this.abort()}},step:function(eL){var Y=aP(this.fromScale.x,1,eL);var X=aP(this.fromScale.y,1,eL);this.element.transform(av.transform().scale(Y,X,this.origin))},abort:function(){eK.Animation.fn.abort.call(this);this.element.transform(null)}});eK.AnimationFactory.current.register(cr,aM);var ae=eK.Animation.extend({options:{duration:200,easing:c6},setup:function(){this.fadeTo=this.element.opacity();this.element.opacity(0)},step:function(X){this.element.opacity(X*this.fadeTo)}});eK.AnimationFactory.current.register(d5,ae);var bd=function(X,Y,eM){var eL=this;eL.initGlobalRanges(X,Y,eM)};bd.prototype=bd.fn={percentRegex:/percent(?:\w*)\((\d+)\)/,standardDeviationRegex:new RegExp("^"+a7+"(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),initGlobalRanges:function(Y,eP,eS){var eQ=this,eO=eP.data,X=eQ.standardDeviationRegex.exec(Y);if(X){eQ.valueGetter=eQ.createValueGetter(eP,eS);var eL=eQ.getAverage(eO),eM=eQ.getStandardDeviation(eO,eL,false),eT=X[1]?parseFloat(X[1]):1,eR={low:eL.value-eM*eT,high:eL.value+eM*eT};eQ.globalRange=function(){return eR}}else{if(Y.indexOf&&Y.indexOf(cj)>=0){eQ.valueGetter=eQ.createValueGetter(eP,eS);var eN=eQ.getStandardError(eO,eQ.getAverage(eO));eQ.globalRange=function(eU){return{low:eU-eN,high:eU+eN}}}}},createValueGetter:function(eM,eO){var eL=eM.data,eQ=bA.current,X=eQ.valueFields(eM),eR=bO(eL[0])?eL[0]:{},eP,eN,Y;if(U(eR)){eP=eO?cs(eO,X):0;Y=co("["+eP+"]")}else{if(s(eR)){Y=co()}else{if(typeof eR===d){eN=eQ.sourceFields(eM,X);Y=co(eN[cs(eO,X)])}}}return Y},getErrorRange:function(eP,Y){var eM=this,X,eO,eN;if(!bO(Y)){return}if(eM.globalRange){return eM.globalRange(eP)}if(U(Y)){X=eP-Y[0];eO=eP+Y[1]}else{if(s(eN=parseFloat(Y))){X=eP-eN;eO=eP+eN}else{if((eN=eM.percentRegex.exec(Y))){var eL=eP*(parseFloat(eN[1])/100);X=eP-eC.abs(eL);eO=eP+eC.abs(eL)}else{throw new Error("Invalid ErrorBar value: "+Y)}}}return{low:X,high:eO}},getStandardError:function(Y,X){return this.getStandardDeviation(Y,X,true)/eC.sqrt(X.count)},getStandardDeviation:function(eQ,eO,Y){var X=0,eN=eQ.length,eM=Y?eO.count-1:eO.count,eP;for(var eL=0;eL<eN;eL++){eP=this.valueGetter(eQ[eL]);if(s(eP)){X+=eC.pow(eP-eO.value,2)}}return eC.sqrt(X/eM)},getAverage:function(eO){var Y=0,eM=0,eL=eO.length,eN;for(var X=0;X<eL;X++){eN=this.valueGetter(eO[X]);if(s(eN)){Y+=eN;eM++}}return{value:Y/eM,count:eM}}};var dY=ec.extend({init:function(eL,X){var Y=this;ec.fn.init.call(Y,X);Y.plotArea=eL;Y.categoryAxis=eL.seriesCategoryAxis(X.series[0]);Y.valueAxisRanges={};Y.points=[];Y.categoryPoints=[];Y.seriesPoints=[];Y.seriesOptions=[];Y._evalSeries=[];Y.render()},options:{series:[],invertAxes:false,isStacked:false,clip:true},render:function(){var X=this;X.traverseDataPoints(ba(X.addValue,X))},pointOptions:function(eL,X){var Y=this.seriesOptions[X];if(!Y){var eM=this.pointType().fn.defaults;this.seriesOptions[X]=Y=aL({},eM,{vertical:!this.options.invertAxes},eL)}return Y},plotValue:function(eQ){if(!eQ){return 0}if(this.options.isStacked100&&s(eQ.value)){var eN=eQ.categoryIx;var Y=this.categoryPoints[eN];var eR=0;var eL=[];for(var eM=0;eM<Y.length;eM++){var eO=Y[eM];if(eO){var eP=eQ.series.stack;var X=eO.series.stack;if((eP&&X)&&eP.group!==X.group){continue}if(s(eO.value)){eR+=eC.abs(eO.value);eL.push(eC.abs(eO.value))}}}if(eR>0){return eQ.value/eR}}return eQ.value},plotRange:function(eW,X){var eR=eW.categoryIx;var eP=this.categoryPoints[eR];if(this.options.isStacked){X=X||0;var eM=this.plotValue(eW);var eQ=eM>=0;var eS=X;var eY=false;for(var eO=0;eO<eP.length;eO++){var eT=eP[eO];if(eW===eT){break}var eU=eW.series.stack;var Y=eT.series.stack;if(eU&&Y){if(typeof eU===k&&eU!==Y){continue}if(eU.group&&eU.group!==Y.group){continue}}var eL=this.plotValue(eT);if((eL>=0&&eQ)||(eL<0&&!eQ)){eS+=eL;eM+=eL;eY=true;if(this.options.isStacked100){eM=eC.min(eM,1)}}}if(eY){eS-=X}return[eS,eM]}var eN=eW.series;var eX=this.seriesValueAxis(eN);var eV=this.categoryAxisCrossingValue(eX);return[eV,eW.value||eV]},stackLimits:function(X,eR){var Y=cR;var eO=dv;for(var eM=0;eM<this.categoryPoints.length;eM++){var eL=this.categoryPoints[eM];for(var eN=0;eN<eL.length;eN++){var eQ=eL[eN];if(eQ){if(eQ.series.stack===eR||eQ.series.axis===X){var eP=this.plotRange(eQ,0)[1];if(bO(eP)&&isFinite(eP)){eO=eC.max(eO,eP);Y=eC.min(Y,eP)}}}}}return{min:Y,max:eO}},updateStackRange:function(){var eO=this;var eP=eO.options.series;var eQ=eO.options.isStacked;var X;var Y={};if(eQ){for(var eM=0;eM<eP.length;eM++){var eN=eP[eM];var eL=eN.axis;var eR=eL+eN.stack;X=Y[eR];if(!X){X=eO.stackLimits(eL,eN.stack);var eS=eO.errorTotals;if(eS){if(eS.negative.length){X.min=eC.min(X.min,bT(eS.negative))}if(eS.positive.length){X.max=eC.max(X.max,dm(eS.positive))}}if(X.min!==cR||X.max!==dv){Y[eR]=X}else{X=null}}if(X){eO.valueAxisRanges[eL]=X}}}},addErrorBar:function(eS,Y,eN){var eP=this,eR=eS.value,eL=eS.series,eT=eS.seriesIx,eO=eS.options.errorBars,eQ,X=Y.fields[eg],eM=Y.fields[cb];if(s(X)&&s(eM)){eQ={low:X,high:eM}}else{if(eO&&bO(eO.value)){eP.seriesErrorRanges=eP.seriesErrorRanges||[];eP.seriesErrorRanges[eT]=eP.seriesErrorRanges[eT]||new bd(eO.value,eL,cS);eQ=eP.seriesErrorRanges[eT].getErrorRange(eR,eO.value)}}if(eQ){eS.low=eQ.low;eS.high=eQ.high;eP.addPointErrorBar(eS,eN)}},addPointErrorBar:function(eR,eM){var eO=this,eL=eR.series,eP=eR.low,Y=eR.high,eQ=!eO.options.invertAxes,eT=eR.options.errorBars,eS,X;if(eO.options.isStacked){X=eO.stackedErrorRange(eR,eM);eP=X.low;Y=X.high}else{var eN={categoryIx:eM,series:eL};eO.updateRange({value:eP},eN);eO.updateRange({value:Y},eN)}eS=new cJ(eP,Y,eQ,eO,eL,eT);eR.errorBars=[eS];eR.append(eS)},stackedErrorRange:function(Y,eP){var eL=this,eO=Y.value,eN=eL.plotRange(Y,0)[1]-Y.value,X=Y.low+eN,eM=Y.high+eN;eL.errorTotals=eL.errorTotals||{positive:[],negative:[]};if(X<0){eL.errorTotals.negative[eP]=eC.min(eL.errorTotals.negative[eP]||0,X)}if(eM>0){eL.errorTotals.positive[eP]=eC.max(eL.errorTotals.positive[eP]||0,eM)}return{low:X,high:eM}},addValue:function(eL,eO){var eP=this;var eN=eO.categoryIx;var Y=eO.category;var eM=eO.series;var eS=eO.seriesIx;var X=eP.categoryPoints[eN];if(!X){eP.categoryPoints[eN]=X=[]}var eR=eP.seriesPoints[eS];if(!eR){eP.seriesPoints[eS]=eR=[]}var eQ=eP.createPoint(eL,eO);if(eQ){er.extend(eQ,eO);eQ.owner=eP;eQ.dataItem=eM.data[eN];eQ.noteText=eL.fields.noteText;eP.addErrorBar(eQ,eL,eN)}eP.points.push(eQ);eR.push(eQ);X.push(eQ);eP.updateRange(eL.valueFields,eO)},evalPointOptions:function(Y,eP,eM,eQ,eL,X){var eO={defaults:eL._defaults,excluded:["data","aggregate","_events","tooltip","template","visual","toggle"]};var eN=this._evalSeries[X];if(!bO(eN)){this._evalSeries[X]=eN=bm(Y,{},eO,true)}if(eN){Y=aL({},Y);bm(Y,{value:eP,category:eM,index:eQ,series:eL,dataItem:eL.data[eQ]},eO)}return Y},updateRange:function(eN,X){var eL=this,eO=X.series.axis,eM=eN.value,Y=eL.valueAxisRanges[eO];if(isFinite(eM)&&eM!==null){Y=eL.valueAxisRanges[eO]=Y||{min:cR,max:dv};Y.min=eC.min(Y.min,eM);Y.max=eC.max(Y.max,eM)}},seriesValueAxis:function(X){var eL=this.plotArea,eM=X.axis,Y=eM?eL.namedValueAxes[eM]:eL.valueAxis;if(!Y){throw new Error("Unable to locate value axis with name "+eM)}return Y},reflow:function(eN){var eM=this,eL=0,eR=eM.categorySlots=[],X=eM.points,Y=eM.categoryAxis,eP,eQ,eO;eM.traverseDataPoints(function(eW,eZ){var eU=eZ.category;var eX=eZ.categoryIx;var e0=eZ.series;eP=eM.pointValue(eW);eQ=eM.seriesValueAxis(e0);eO=X[eL++];var eS=eR[eX];if(!eS){eR[eX]=eS=eM.categorySlot(Y,eX,eQ)}if(eO){var eT=eM.plotRange(eO,eQ.startValue());var eY=eQ.getSlot(eT[0],eT[1],!eM.options.clip);if(eY){var eV=eM.pointSlot(eS,eY);eO.aboveAxis=eM.aboveAxis(eO,eQ);if(eM.options.isStacked100){eO.percentage=eM.plotValue(eO)}eM.reflowPoint(eO,eV)}else{eO.visible=false}}});eM.reflowCategories(eR);eM.box=eN},aboveAxis:function(X,eM){var Y=this.categoryAxisCrossingValue(eM);var eL=X.value;return eM.options.reverse?eL<Y:eL>=Y},categoryAxisCrossingValue:function(eM){var eL=this.categoryAxis,X=eM.options,Y=[].concat(X.axisCrossingValues||X.axisCrossingValue);return Y[eL.axisIndex||0]||0},reflowPoint:function(X,Y){X.reflow(Y)},reflowCategories:function(){},pointSlot:function(Y,eM){var eN=this,X=eN.options,eL=X.invertAxes,eP=eL?eM:Y,eO=eL?Y:eM;return new cK(eP.x1,eO.y1,eP.x2,eO.y2)},categorySlot:function(Y,X){return Y.getSlot(X)},traverseDataPoints:function(eR){var eO=this,eT=eO.options,Y=eT.series,eM=eO.categoryAxis.options.categories||[],eN=dq(Y),eL,eU,eP,eQ,eS,X=Y.length;for(eL=0;eL<eN;eL++){for(eU=0;eU<X;eU++){eS=Y[eU];eQ=eM[eL];eP=this._bindPoint(eS,eU,eL);eR(eP,{category:eQ,categoryIx:eL,series:eS,seriesIx:eU})}}},_bindPoint:function(eL,X,eN){if(!this._bindCache){this._bindCache=[]}var Y=this._bindCache[X];if(!Y){Y=this._bindCache[X]=[]}var eM=Y[eN];if(!eM){eM=Y[eN]=bA.current.bindPoint(eL,eN)}return eM},formatPointValue:function(X,Y){if(X.value===null){return""}return b9(Y,X.value)},pointValue:function(X){return X.valueFields.value}});var du=dY.extend({options:{animation:{type:cr}},render:function(){var X=this;dY.fn.render.apply(X);X.updateStackRange()},pointType:function(){return aF},clusterType:function(){return bh},stackType:function(){return dK},stackLimits:function(eL,Y){var X=dY.fn.stackLimits.call(this,eL,Y);return X},createPoint:function(e1,eS){var eP=this;var e0=eS.categoryIx;var eW=eS.category;var eO=eS.series;var eT=eS.seriesIx;var eU=eP.pointValue(e1);var eL=eP.options;var eM=eP.children;var eN=eP.options.isStacked;var eV;var X=eP.pointType();var eQ;var eZ;var Y=eP.clusterType();eQ=this.pointOptions(eO,eT);var eR=eQ.labels;if(eN){if(eR.position==aX){eR.position=C}}eQ.isStacked=eN;var eX=e1.fields.color||eO.color;if(eU<0&&eQ.negativeColor){eX=eQ.negativeColor}eQ=eP.evalPointOptions(eQ,eU,eW,e0,eO,eT);if(cX.isFunction(eO.color)){eX=eQ.color}eV=new X(eU,eQ);eV.color=eX;eZ=eM[e0];if(!eZ){eZ=new Y({vertical:eL.invertAxes,gap:eL.gap,spacing:eL.spacing});eP.append(eZ)}if(eN){var eY=eP.getStackWrap(eO,eZ);eY.append(eV)}else{eZ.append(eV)}return eV},getStackWrap:function(eO,Y){var X=eO.stack;var eL=X?X.group||X:X;var eN=Y.children;var eQ;if(typeof eL===k){for(var eM=0;eM<eN.length;eM++){if(eN[eM]._stackGroup===eL){eQ=eN[eM];break}}}else{eQ=eN[0]}if(!eQ){var eP=this.stackType();eQ=new eP({vertical:!this.options.invertAxes});eQ._stackGroup=eL;Y.append(eQ)}return eQ},categorySlot:function(eN,eO,eQ){var eP=this,eR=eP.options,X=eN.getSlot(eO),eL=eQ.startValue(),Y,eM;if(eR.isStacked){eM=eQ.getSlot(eL,eL,true);Y=eR.invertAxes?d8:d7;X[Y+1]=X[Y+2]=eM[Y+1]}return X},reflowCategories:function(eN){var eL=this,Y=eL.children,eM=Y.length,X;for(X=0;X<eM;X++){Y[X].reflow(eN[X])}},createAnimation:function(){this._setAnimationOptions();ec.fn.createAnimation.call(this);if(cY(this.options.series)){this._setChildrenAnimation()}},_setChildrenAnimation:function(){var eM=this.points;var Y,eL;for(var X=0;X<eM.length;X++){Y=eM[X];eL=Y.visual;if(eL&&bO(eL.options.zIndex)){Y.options.animation=this.options.animation;Y.createAnimation()}}},_setAnimationOptions:function(){var Y=this.options;var eL=Y.animation||{};var X;if(this.options.isStacked){var eM=this.seriesValueAxis(Y.series[0]);X=eM.getSlot(eM.startValue())}else{X=this.categoryAxis.getSlot(0)}eL.origin=new av.Point(X.x1,X.y1);eL.vertical=!Y.invertAxes}});var dH=aF.extend({defaults:{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}},createLabel:function(){var Y=this.value;var eM=this.options.labels;var eL=aL({},eM,eM.from);var X=aL({},eM,eM.to);if(eL.visible){this.labelFrom=this._createLabel(eL);this.append(this.labelFrom)}if(X.visible){this.labelTo=this._createLabel(X);this.append(this.labelTo)}},_createLabel:function(X){var eL;if(X.template){var Y=l(X.template);eL=Y({dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total,series:this.series})}else{eL=this.formatValue(X.format)}return new bf(eL,aL({vertical:this.options.vertical},X))},reflow:function(Y){this.render();var X=this,eL=X.options,eN=X.labelFrom,eO=X.labelTo,eM=X.value;X.box=Y;if(eN){eN.options.aboveAxis=X.value.from>X.value.to;eN.reflow(Y)}if(eO){eO.options.aboveAxis=X.value.to>X.value.from;eO.reflow(Y)}if(X.note){X.note.reflow(Y)}}});var aj=du.extend({pointType:function(){return dH},pointValue:function(X){return X.valueFields},formatPointValue:function(X,Y){if(X.value.from===null&&X.value.to===null){return""}return b9(Y,X.value.from,X.value.to)},plotLimits:dY.fn.plotLimits,plotRange:function(X){if(!X){return 0}return[X.value.from,X.value.to]},updateRange:function(eM,X){var eL=this,eN=X.series.axis,eP=eM.from,eO=eM.to,Y=eL.valueAxisRanges[eN];if(eM!==null&&s(eP)&&s(eO)){Y=eL.valueAxisRanges[eN]=Y||{min:cR,max:dv};Y.min=eC.min(Y.min,eP);Y.max=eC.max(Y.max,eP);Y.min=eC.min(Y.min,eO);Y.max=eC.max(Y.max,eO)}},aboveAxis:function(X){var Y=X.value;return Y.from<Y.to}});var dn=dY.extend({init:function(eL,X){var Y=this;Y.wrapData(X);dY.fn.init.call(Y,eL,X)},options:{animation:{type:cr}},wrapData:function(Y){var eM=Y.series,eL,eN,X;for(eL=0;eL<eM.length;eL++){X=eM[eL];eN=X.data;if(eN&&!U(eN[0])&&typeof(eN[0])!=d){X.data=[eN]}}},reflowCategories:function(eN){var eL=this,Y=eL.children,eM=Y.length,X;for(X=0;X<eM;X++){Y[X].reflow(eN[X])}},plotRange:function(X){var Y=X.series;var eM=this.seriesValueAxis(Y);var eL=this.categoryAxisCrossingValue(eM);return[eL,X.value.current||eL]},createPoint:function(eN,eR){var eS=this;var eQ=eR.categoryIx;var Y=eR.category;var eO=eR.series;var eW=eR.seriesIx;var eU=eN.valueFields;var eV=eS.options;var eL=eS.children;var X;var eP;var eT;eP=aL({vertical:!eV.invertAxes,overlay:eO.overlay,categoryIx:eQ,invertAxes:eV.invertAxes},eO);var eM=eN.fields.color||eO.color;eP=eS.evalPointOptions(eP,eU,Y,eQ,eO,eW);if(cX.isFunction(eO.color)){eM=eP.color}X=new an(eU,eP);X.color=eM;eT=eL[eQ];if(!eT){eT=new bh({vertical:eV.invertAxes,gap:eV.gap,spacing:eV.spacing});eS.append(eT)}eT.append(X);return X},updateRange:function(eM,X){var eL=this,eP=X.series.axis,eO=eM.current,eN=eM.target,Y=eL.valueAxisRanges[eP];if(bO(eO)&&!isNaN(eO)&&bO(eN&&!isNaN(eN))){Y=eL.valueAxisRanges[eP]=Y||{min:cR,max:dv};Y.min=eC.min.apply(eC,[Y.min,eO,eN]);Y.max=eC.max.apply(eC,[Y.max,eO,eN])}},formatPointValue:function(X,Y){return b9(Y,X.value.current,X.value.target)},pointValue:function(X){return X.valueFields.current},aboveAxis:function(X,eL){var Y=X.value.current;return Y>0},createAnimation:function(){var eM=this.points;var Y,eL;this._setAnimationOptions();for(var X=0;X<eM.length;X++){Y=eM[X];Y.options.animation=this.options.animation;Y.createAnimation()}},_setAnimationOptions:du.fn._setAnimationOptions});var an=ec.extend({init:function(eL,Y){var X=this;ec.fn.init.call(X,Y);X.aboveAxis=X.options.aboveAxis;X.color=Y.color||ca;X.value=eL},options:{border:{width:1},vertical:false,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}</br>Target: {1}"}},render:function(){var X=this,Y=X.options;if(!X._rendered){X._rendered=true;if(bO(X.value.target)){X.target=new cf({type:Y.target.shape,background:Y.target.color||X.color,opacity:Y.opacity,zIndex:Y.zIndex,border:Y.target.border,vAlign:b2,align:eu});X.append(X.target)}X.createNote()}},reflow:function(eP){this.render();var Y=this,eU=Y.options,eR=Y.owner,eQ=Y.target,eL=eU.invertAxes,eT=eR.seriesValueAxis(Y.options),X=eR.categorySlot(eR.categoryAxis,eU.categoryIx,eT),eS=eT.getSlot(Y.value.target),eO=eL?eS:X,eN=eL?X:eS,eM;if(eQ){eM=new cK(eO.x1,eN.y1,eO.x2,eN.y2);eQ.options.height=eL?eM.height():eU.target.line.width;eQ.options.width=eL?eU.target.line.width:eM.width();eQ.reflow(eM)}if(Y.note){Y.note.reflow(eP)}Y.box=eP},createVisual:function(){ec.fn.createVisual.call(this);var Y=this.options;var X=eK.Path.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:Y.opacity},stroke:null});if(Y.border.width>0){X.options.set("stroke",{color:Y.border.color||this.color,width:Y.border.width,dashType:Y.border.dashType,opacity:bQ(Y.border.opacity,Y.opacity)})}this.bodyVisual=X;eI(X);this.visual.append(X)},createAnimation:function(){if(this.bodyVisual){this.animation=eK.Animation.create(this.bodyVisual,this.options.animation)}},tooltipAnchor:function(eN,eT){var eP=this,eU=eP.options,eO=eP.box,eM=eU.vertical,eQ=eP.aboveAxis,X=eP.owner.pane.clipBox()||eO,eS,eR;if(eM){eS=eO.x2+h;eR=eQ?eC.max(eO.y1,X.y1):eC.min(eO.y2,X.y2)-eT}else{var eL=eC.max(eO.x1,X.x1),Y=eC.min(eO.x2,X.x2);if(eU.isStacked){eS=eQ?Y-eN:eL;eR=eO.y1-eT-h}else{eS=eQ?Y+h:eL-eN-h;eR=eO.y1}}return new d1(eS,eR)},createHighlight:function(X){return eK.Path.fromRect(this.box.toRect(),X)},highlightVisual:function(){return this.bodyVisual},highlightVisualArgs:function(){var X=this.options;return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}},formatValue:function(Y){var X=this;return X.owner.formatPointValue(X,Y)}});aL(an.fn,p);aL(an.fn,bR);var cf=u.extend();aL(cf.fn,p);var c1=ec.extend({init:function(X,eO,eP,eN,eM,eL){var Y=this;Y.low=X;Y.high=eO;Y.isVertical=eP;Y.chart=eN;Y.series=eM;ec.fn.init.call(Y,eL)},options:{animation:{type:d5,delay:Q},endCaps:true,line:{width:1},zIndex:1},getAxis:function(){},reflow:function(eO){var eQ,eT=this,eM=eT.options.endCaps,eR=eT.isVertical,Y=eT.getAxis(),eN=Y.getSlot(eT.low,eT.high),eS=eO.center(),eL=eT.getCapsWidth(eO,eR),eP=eR?eS.x:eS.y,eU=eP-eL,X=eP+eL;if(eR){eQ=[d1(eS.x,eN.y1),d1(eS.x,eN.y2)];if(eM){eQ.push(d1(eU,eN.y1),d1(X,eN.y1),d1(eU,eN.y2),d1(X,eN.y2))}eT.box=cK(eU,eN.y1,X,eN.y2)}else{eQ=[d1(eN.x1,eS.y),d1(eN.x2,eS.y)];if(eM){eQ.push(d1(eN.x1,eU),d1(eN.x1,X),d1(eN.x2,eU),d1(eN.x2,X))}eT.box=cK(eN.x1,eU,eN.x2,X)}eT.linePoints=eQ},getCapsWidth:function(Y,eL){var eM=eL?Y.width():Y.height(),X=eC.min(eC.floor(eM/2),dE)||dE;return X},createVisual:function(){var eL=this;var X=eL.options;var Y=X.visual;if(Y){eL.visual=Y({low:eL.low,high:eL.high,rect:eL.box.toRect(),options:{endCaps:X.endCaps,color:X.color,line:X.line},createVisual:function(){eL.createDefaultVisual();var eM=eL.visual;delete eL.visual;return eM}})}else{eL.createDefaultVisual()}},createDefaultVisual:function(){var eN=this,eM=eN.options,eO=eN.parent,eL={stroke:{color:eM.color,width:eM.line.width,dashType:eM.line.dashType}},eP=eN.linePoints;ec.fn.createVisual.call(this);for(var X=0;X<eP.length;X+=2){var Y=new eK.Path(eL).moveTo(eP[X].x,eP[X].y).lineTo(eP[X+1].x,eP[X+1].y);this.visual.append(Y)}}});var cJ=c1.extend({getAxis:function(){var X=this,eM=X.chart,Y=X.series,eL=eM.seriesValueAxis(Y);return eL}});var ey=c1.extend({getAxis:function(){var X=this,eM=X.chart,Y=X.series,eN=eM.seriesAxes(Y),eL=X.isVertical?eN.y:eN.x;return eL}});var d6=ec.extend({init:function(eL,Y){var X=this;ec.fn.init.call(X);X.value=eL;X.options=Y;X.aboveAxis=bQ(X.options.aboveAxis,true);X.tooltipTracking=true},defaults:{vertical:true,markers:{visible:true,background:ca,size:dM,type:bs,border:{width:2},opacity:1},labels:{visible:false,position:b3,margin:bz(3),padding:bz(4),animation:{type:d5,delay:Q}},notes:{label:{}},highlight:{markers:{border:{}}}},render:function(){var X=this,Y=X.options,eN=Y.markers,eO=Y.labels,eM=X.value;if(X._rendered){return}else{X._rendered=true}if(eN.visible&&eN.size){X.marker=X.createMarker();X.append(X.marker)}if(eO.visible){if(eO.template){var eL=l(eO.template);eM=eL({dataItem:X.dataItem,category:X.category,value:X.value,percentage:X.percentage,series:X.series})}else{if(eO.format){eM=X.formatValue(eO.format)}}X.label=new a4(eM,aL({align:eA,vAlign:eA,margin:{left:5,right:5},zIndex:bQ(eO.zIndex,this.series.zIndex)},eO));X.append(X.label)}X.createNote();if(X.errorBar){X.append(X.errorBar)}},markerBorder:function(){var Y=this.options.markers;var eL=Y.background;var X=aL({color:this.color},Y.border);if(!bO(X.color)){X.color=new G(eL).brightness(ed).toHex()}return X},createVisual:dy,createMarker:function(){var Y=this.options.markers;var X=new u({type:Y.type,width:Y.size,height:Y.size,rotation:Y.rotation,background:Y.background,border:this.markerBorder(),opacity:Y.opacity,zIndex:bQ(Y.zIndex,this.series.zIndex),animation:Y.animation,visual:Y.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});return X},markerBox:function(){if(!this.marker){this.marker=this.createMarker();this.marker.reflow(this._childBox)}return this.marker.box},reflow:function(eN){var eQ=this,eR=eQ.options,Y=eR.vertical,eM=eQ.aboveAxis,eP,X;eQ.render();eQ.box=eN;eP=eN.clone();if(Y){if(eM){eP.y1-=eP.height()}else{eP.y2+=eP.height()}}else{if(eM){eP.x1+=eP.width()}else{eP.x2-=eP.width()}}eQ._childBox=eP;if(eQ.marker){eQ.marker.reflow(eP)}eQ.reflowLabel(eP);if(eQ.errorBars){for(var eL=0;eL<eQ.errorBars.length;eL++){eQ.errorBars[eL].reflow(eP)}}if(eQ.note){var eO=eQ.markerBox();if(!eQ.marker){X=eO.center();eO=cK(X.x,X.y,X.x,X.y)}eQ.note.reflow(eO)}},reflowLabel:function(eN){var X=this,eM=X.options,eL=X.label,Y=eM.labels.position;if(eL){Y=Y===b3?b2:Y;Y=Y===ea?eD:Y;eL.reflow(eN);eL.box.alignTo(X.markerBox(),Y);eL.reflow(eL.box)}},createHighlight:function(){var X=this.options.highlight;var eM=X.markers;var eL=this.markerBorder().color;var Y=this.options.markers;var eN=new u({type:Y.type,width:Y.size,height:Y.size,rotation:Y.rotation,background:eM.color||eL,border:{color:eM.border.color,width:eM.border.width,opacity:bQ(eM.border.opacity,1)},opacity:bQ(eM.opacity,1)});eN.reflow(this._childBox);return eN.getElement()},highlightVisual:function(){return(this.marker||{}).visual},highlightVisualArgs:function(){var Y=this.marker;var eO;var eN;if(Y){eN=Y.paddingBox.toRect();eO=Y.visual}else{var eM=this.options.markers.size;var eL=eM/2;var X=this.box.center();eN=new av.Rect([X.x-eL,X.y-eL],[eM,eM])}return{options:this.options,rect:eN,visual:eO}},tooltipAnchor:function(eL,eR){var eP=this,Y=eP.markerBox(),eS=eP.options,eM=eP.aboveAxis,eO=Y.x2+h,eN=eM?Y.y1-eR:Y.y2,X=eP.owner.pane.clipBox(),eQ=!X||X.overlaps(Y);if(eQ){return d1(eO,eN)}},formatValue:function(Y){var X=this;return X.owner.formatPointValue(X,Y)}});aL(d6.fn,p);aL(d6.fn,bR);var dQ=d6.extend({init:function(eL,Y){var X=this;d6.fn.init.call(X,eL,Y);X.category=eL.category},defaults:{labels:{position:eA},highlight:{opacity:1,border:{width:1,opacity:1}}},createHighlight:function(){var eL=this.options.highlight;var eN=eL.border;var eO=this.options.markers;var Y=this.box.center();var X=eO.size/2-eN.width/2;var eM=new eK.Circle(new av.Circle([Y.x,Y.y],X),{stroke:{color:eN.color||new G(eO.background).brightness(ed).toHex(),width:eN.width,opacity:eN.opacity},fill:{color:eO.background,opacity:eL.opacity}});return eM}});var cZ=ec.extend({init:function(eM,Y,X){var eL=this;ec.fn.init.call(eL);eL.linePoints=eM;eL.series=Y;eL.seriesIx=X},options:{closed:false},points:function(eO){var eM=this,eN=eM.linePoints.concat(eO||[]),Y=[];for(var X=0,eL=eN.length;X<eL;X++){if(eN[X].visible!==false){Y.push(eN[X]._childBox.toRect().center())}}return Y},createVisual:function(){var eL=this.options;var eM=this.series;var eN=eM._defaults;var Y=eM.color;if(cP(Y)&&eN){Y=eN.color}var X=eK.Path.fromPoints(this.points(),{stroke:{color:Y,width:eM.width,opacity:eM.opacity,dashType:eM.dashType},zIndex:eM.zIndex});if(eL.closed){X.close()}this.visual=X},aliasFor:function(eM,eL){var Y=this,X=Y.seriesIx;return Y.parent.getNearestPoint(eL.x,eL.y,X)}});var am={renderSegments:function(){var eM=this,eT=eM.options,Y=eT.series,eU=eM.seriesPoints,eS,eV,X=eU.length,eR,eP,eQ,eL,eO,eN;this._segments=[];for(eV=0;eV<X;eV++){eS=Y[eV];eR=eM.sortPoints(eU[eV]);eO=eR.length;eP=[];for(eL=0;eL<eO;eL++){eQ=eR[eL];if(eQ){eP.push(eQ)}else{if(eM.seriesMissingValues(eS)!==c){if(eP.length>1){eN=eM.createSegment(eP,eS,eV,eN);this._addSegment(eN)}eP=[]}}}if(eP.length>1){eN=eM.createSegment(eP,eS,eV,eN);this._addSegment(eN)}}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(X){this._segments.push(X);X.parent=this},sortPoints:function(X){return X},seriesMissingValues:function(X){var Y=X.missingValues,eL=!Y&&this.options.isStacked;return eL?bW:Y||c},getNearestPoint:function(eR,eQ,eT){var eN=new d1(eR,eQ);var Y=this.seriesPoints[eT];var eO=cR;var eP;for(var eM=0;eM<Y.length;eM++){var eS=Y[eM];if(eS&&bO(eS.value)&&eS.value!==null&&eS.visible!==false){var X=eS.box;var eL=X.center().distanceTo(eN);if(eL<eO){eP=eS;eO=eL}}}return eP}};var b={createAnimation:function(){var X=this.getRoot();if(X&&(X.options||{}).transitions!==false){var eL=X.box;var Y=eK.Path.fromRect(eL.toRect());this.visual.clip(Y);this.animation=new df(Y,{box:eL});if(cY(this.options.series)){this._setChildrenAnimation(Y)}}},_setChildrenAnimation:function(eN){var eM=this.animationPoints();var Y,eL;for(var X=0;X<eM.length;X++){Y=eM[X];eL=Y.visual;if(eL&&bO(eL.options.zIndex)){eL.clip(eN)}}}};var ch=dY.extend({render:function(){var X=this;dY.fn.render.apply(X);X.updateStackRange();X.renderSegments()},pointType:function(){return d6},createPoint:function(eO,eS){var eT=this;var eR=eS.categoryIx;var eL=eS.category;var eP=eS.series;var eZ=eS.seriesIx;var eW=eO.valueFields.value;var eY=eT.options;var eV=eY.isStacked;var Y=eT.categoryPoints[eR];var eX=eT.seriesMissingValues(eP);var X;var eN=0;var eU;var eQ;if(!bO(eW)||eW===null){if(eX===bW){eW=0}else{return null}}eQ=this.pointOptions(eP,eZ);eQ=eT.evalPointOptions(eQ,eW,eL,eR,eP,eZ);var eM=eO.fields.color||eP.color;if(cX.isFunction(eP.color)){eM=eQ.color}eU=new d6(eW,eQ);eU.color=eM;eT.append(eU);return eU},plotRange:function(Y){var eN=this.plotValue(Y);if(this.options.isStacked){var eO=Y.categoryIx;var eM=this.categoryPoints[eO];for(var eL=0;eL<eM.length;eL++){var X=eM[eL];if(Y===X){break}eN+=this.plotValue(X)}}return[eN,eN]},createSegment:function(eN,Y,X){var eM,eL=Y.style;if(eL===z){eM=dF}else{if(eL===aV){eM=b1}else{eM=cZ}}return new eM(eN,Y,X)},animationPoints:function(){var eL=this.seriesOptions;var eM=[];var Y;var eN,X;for(X=0;X<eL.length;X++){if(eL[X].markers.visible){Y=this.seriesPoints[X];for(eN=0;eN<Y.length;eN++){eM.push(Y[eN].marker)}}}return eM.concat(this._segments)}});aL(ch.fn,am,b);var df=eK.Animation.extend({options:{duration:Q},setup:function(){this._setEnd(this.options.box.x1)},step:function(Y){var X=this.options.box;this._setEnd(aP(X.x1,X.x2,Y))},_setEnd:function(X){var eM=this.element;var Y=eM.segments;var eN=Y[1].anchor();var eL=Y[2].anchor();eM.suspend();eN.setX(X);eM.resume();eL.setX(X)}});eK.AnimationFactory.current.register(bB,df);var dF=cZ.extend({points:function(eL){var Y=this,X;X=Y.calculateStepPoints(Y.linePoints);if(eL&&eL.length){X=X.concat(Y.calculateStepPoints(eL).reverse())}return X},calculateStepPoints:function(eY){var eS=this,eV=eS.parent,Y=eV.plotArea,eR=Y.seriesCategoryAxis(eS.series),eL=eV.seriesMissingValues(eS.series)===c,eM=eY.length,eU=eR.options.reverse,eP=eR.options.vertical,eN=eU?2:1,eW=eU?1:2,eT,eX,eQ,X,eO,eZ=[];for(eQ=1;eQ<eM;eQ++){eT=eY[eQ-1];eX=eY[eQ];X=eT.markerBox().center();eO=eX.markerBox().center();if(eR.options.justified){eZ.push(new av.Point(X.x,X.y));if(eP){eZ.push(new av.Point(X.x,eO.y))}else{eZ.push(new av.Point(eO.x,X.y))}eZ.push(new av.Point(eO.x,eO.y))}else{if(eP){eZ.push(new av.Point(X.x,eT.box[d7+eN]));eZ.push(new av.Point(X.x,eT.box[d7+eW]));if(eL){eZ.push(new av.Point(X.x,eX.box[d7+eN]))}eZ.push(new av.Point(eO.x,eX.box[d7+eN]));eZ.push(new av.Point(eO.x,eX.box[d7+eW]))}else{eZ.push(new av.Point(eT.box[d8+eN],X.y));eZ.push(new av.Point(eT.box[d8+eW],X.y));if(eL){eZ.push(new av.Point(eX.box[d8+eN],X.y))}eZ.push(new av.Point(eX.box[d8+eN],eO.y));eZ.push(new av.Point(eX.box[d8+eW],eO.y))}}}return eZ||[]}});var b1=cZ.extend({createVisual:function(){var eL=this.options;var eM=this.series;var eO=eM._defaults;var X=eM.color;if(cP(X)&&eO){X=eO.color}var eN=new bM(this.options.closed);var Y=eN.process(this.points());var eP=new eK.Path({stroke:{color:X,width:eM.width,opacity:eM.opacity,dashType:eM.dashType},zIndex:eM.zIndex});eP.segments.push.apply(eP.segments,Y);this.visual=eP}});var cD={points:function(){var eP=this,eQ=eP.parent,X=eQ.plotArea,eL=eQ.options.invertAxes,eV=eQ.seriesValueAxis(eP.series),eW=eV.lineBox(),eO=X.seriesCategoryAxis(eP.series),Y=eO.lineBox(),eN=eL?Y.x1:Y.y1,eU=eP.stackPoints,eT=eP._linePoints(eU),eR=eL?d8:d7,eM,eS;eN=cx(eN,eW[eR+1],eW[eR+2]);if(!eP.stackPoints&&eT.length>1){eM=eT[0];eS=dV(eT);if(eL){eT.unshift(new av.Point(eN,eM.y));eT.push(new av.Point(eN,eS.y))}else{eT.unshift(new av.Point(eM.x,eN));eT.push(new av.Point(eS.x,eN))}}return eT},createVisual:function(){var Y=this.options;var eL=this.series;var eM=eL._defaults;var X=eL.color;if(cP(X)&&eM){X=eM.color}this.visual=new eK.Group({zIndex:eL.zIndex});this.createArea(X);this.createLine(X)},createLine:function(eL){var eM=this.series;var Y=aL({color:eL,opacity:eM.opacity},eM.line);if(Y.visible!==false&&Y.width>0){var X=eK.Path.fromPoints(this._linePoints(),{stroke:{color:Y.color,width:Y.width,opacity:Y.opacity,dashType:Y.dashType,lineCap:"butt"}});this.visual.append(X)}},createArea:function(X){var Y=this.series;var eL=eK.Path.fromPoints(this.points(),{fill:{color:X,opacity:Y.opacity},stroke:null});this.visual.append(eL)}};var ax=cZ.extend({init:function(eN,eM,Y,X){var eL=this;eL.stackPoints=eM;cZ.fn.init.call(eL,eN,Y,X)},_linePoints:cZ.fn.points});aL(ax.fn,cD);var eq=ch.extend({createSegment:function(eN,eQ,eS,eL){var eM=this,eR=eM.options,eO=eR.isStacked,eP,Y,X=(eQ.line||{}).style;if(eO&&eS>0&&eL){eP=eL.linePoints;if(X!==z){eP=eP.slice(0).reverse()}}if(X===aV){return new dZ(eN,eL,eO,eQ,eS)}if(X===z){Y=bl}else{Y=ax}return new Y(eN,eP,eQ,eS)},seriesMissingValues:function(X){return X.missingValues||bW}});var dZ=ax.extend({init:function(eO,eL,eN,Y,X){var eM=this;eM.prevSegment=eL;eM.isStacked=eN;cZ.fn.init.call(eM,eO,Y,X)},strokeSegments:function(){var X=this._strokeSegments;if(!X){var Y=new bM(this.options.closed);var eL=cZ.fn.points.call(this);X=this._strokeSegments=Y.process(eL)}return X},createVisual:function(){var Y=this.options;var eL=this.series;var eM=eL._defaults;var X=eL.color;if(cP(X)&&eM){X=eM.color}this.visual=new eK.Group({zIndex:eL.zIndex});this.createFill({fill:{color:X,opacity:eL.opacity},stroke:null});this.createStroke({stroke:aL({color:X,opacity:eL.opacity,lineCap:"butt"},eL.line)})},createFill:function(X){var eR=this.strokeSegments();var Y=eR.slice(0);var eL=this.prevSegment;if(this.isStacked&&eL){var eN=eL.strokeSegments();var eP=dV(eN).anchor();Y.push(new eK.Segment(eP,eP,dV(eR).anchor()));var eM=er.map(eN,function(eS){return new eK.Segment(eS.anchor(),eS.controlOut(),eS.controlIn())}).reverse();b6(Y,eM);var eO=Y[0].anchor();Y.push(new eK.Segment(eO,eO,dV(eM).anchor()))}var eQ=new eK.Path(X);eQ.segments.push.apply(eQ.segments,Y);this.closeFill(eQ);this.visual.append(eQ)},closeFill:function(eT){var eR=this,eS=eR.parent,eO=eR.prevSegment,Y=eS.plotArea,eL=eS.options.invertAxes,eW=eS.seriesValueAxis(eR.series),eX=eW.lineBox(),eQ=Y.seriesCategoryAxis(eR.series),X=eQ.lineBox(),eN=eL?X.x1:X.y1,eU=eL?d8:d7,eP=eR.strokeSegments(),eM=eP[0].anchor(),eV=dV(eP).anchor();eN=cx(eN,eX[eU+1],eX[eU+2]);if(!(eS.options.isStacked&&eO)&&eP.length>1){if(eL){eT.lineTo(eN,eV.y).lineTo(eN,eM.y)}else{eT.lineTo(eV.x,eN).lineTo(eM.x,eN)}}},createStroke:function(X){if(X.stroke.width>0){var Y=new eK.Path(X);Y.segments.push.apply(Y.segments,this.strokeSegments());this.visual.append(Y)}}});var bl=dF.extend({init:function(eN,eM,Y,X){var eL=this;eL.stackPoints=eM;dF.fn.init.call(eL,eN,Y,X)},_linePoints:dF.fn.points});aL(bl.fn,cD);var da=ec.extend({init:function(eL,X){var Y=this;ec.fn.init.call(Y,X);Y.plotArea=eL;Y.xAxisRanges={};Y.yAxisRanges={};Y.points=[];Y.seriesPoints=[];Y.seriesOptions=[];Y._evalSeries=[];Y.render()},options:{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:true},render:function(){var X=this;X.traverseDataPoints(ba(X.addValue,X))},addErrorBar:function(eT,eR,eO){var eQ,eP=this,eS=eT.value[eR],eW=eR+"Value",eV=eR+"ErrorLow",eL=eR+"ErrorHigh",eU=eO.seriesIx,Y=eO.series,eN=eT.options.errorBars,X=eO[eV],eM=eO[eL];if(s(eS)){if(s(X)&&s(eM)){eQ={low:X,high:eM}}if(eN&&bO(eN[eW])){eP.seriesErrorRanges=eP.seriesErrorRanges||{x:[],y:[]};eP.seriesErrorRanges[eR][eU]=eP.seriesErrorRanges[eR][eU]||new bd(eN[eW],Y,eR);eQ=eP.seriesErrorRanges[eR][eU].getErrorRange(eS,eN[eW])}if(eQ){eP.addPointErrorBar(eQ,eT,eR)}}},addPointErrorBar:function(eN,eQ,eP){var eL=this,eM=eN.low,X=eN.high,Y=eQ.series,eO=eP===d7,eT=eQ.options.errorBars,eS={},eR;eQ[eP+"Low"]=eM;eQ[eP+"High"]=X;eQ.errorBars=eQ.errorBars||[];eR=new ey(eM,X,eO,eL,Y,eT);eQ.errorBars.push(eR);eQ.append(eR);eS[eP]=eM;eL.updateRange(eS,Y);eS[eP]=X;eL.updateRange(eS,Y)},addValue:function(eP,eL){var eM=this,eQ,eO=eP.x,eN=eP.y,eT=eL.seriesIx,Y=this.options.series[eT],eS=this.seriesMissingValues(Y),eR=eM.seriesPoints[eT],X;if(!(eE(eO)&&eE(eN))){eP=this.createMissingValue(eP,eS)}if(eP){eQ=eM.createPoint(eP,eL);if(eQ){eF(eQ,eL);eM.addErrorBar(eQ,d8,eL);eM.addErrorBar(eQ,d7,eL)}eM.updateRange(eP,eL.series)}eM.points.push(eQ);eR.push(eQ)},seriesMissingValues:function(X){return X.missingValues},createMissingValue:dy,updateRange:function(eQ,eL){var eM=this,eP=eQ.x,eN=eQ.y,eR=eL.xAxis,X=eL.yAxis,Y=eM.xAxisRanges[eR],eO=eM.yAxisRanges[X];if(eE(eP)){Y=eM.xAxisRanges[eR]=Y||{min:cR,max:dv};if(typeof(eP)===k){eP=cA(eP)}Y.min=eC.min(Y.min,eP);Y.max=eC.max(Y.max,eP)}if(eE(eN)){eO=eM.yAxisRanges[X]=eO||{min:cR,max:dv};if(typeof(eN)===k){eN=cA(eN)}eO.min=eC.min(eO.min,eN);eO.max=eC.max(eO.max,eN)}},evalPointOptions:function(eL,eP,Y){var eM=Y.series;var X=Y.seriesIx;var eO={defaults:eM._defaults,excluded:["data","tooltip","tempate","visual","toggle"]};var eN=this._evalSeries[X];if(!bO(eN)){this._evalSeries[X]=eN=bm(eL,{},eO,true)}if(eN){eL=aL({},eL);bm(eL,{value:eP,series:eM,dataItem:Y.dataItem},eO)}return eL},pointType:function(){return d6},pointOptions:function(eL,X){var Y=this.seriesOptions[X];if(!Y){var eM=this.pointType().fn.defaults;this.seriesOptions[X]=Y=aL({},eM,{markers:{opacity:eL.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},eL)}return Y},createPoint:function(eP,Y){var eO=this,eM=Y.series,X;var eN=this.pointOptions(eM,Y.seriesIx);var eL=Y.color||eM.color;eN=eO.evalPointOptions(eN,eP,Y);if(cX.isFunction(eM.color)){eL=eN.color}X=new d6(eP,eN);X.color=eL;eO.append(X);return X},seriesAxes:function(eL){var eO=this.plotArea,eM=eL.xAxis,eN=eM?eO.namedXAxes[eM]:eO.axisX,Y=eL.yAxis,X=Y?eO.namedYAxes[Y]:eO.axisY;if(!eN){throw new Error("Unable to locate X axis with name "+eM)}if(!X){throw new Error("Unable to locate Y axis with name "+Y)}return{x:eN,y:X}},reflow:function(eM){var eO=this,eQ=eO.points,eL=0,X,eN,eP=eO.options.clip,Y=!eO.options.clip;eO.traverseDataPoints(function(eT,eR){X=eQ[eL++];eN=eO.seriesAxes(eR.series);var eV=eN.x.getSlot(eT.x,eT.x,Y),eU=eN.y.getSlot(eT.y,eT.y,Y),eS;if(X){if(eV&&eU){eS=eO.pointSlot(eV,eU);X.reflow(eS)}else{X.visible=false}}});eO.box=eM},pointSlot:function(Y,X){return new cK(Y.x1,X.y1,Y.x2,X.y2)},traverseDataPoints:function(eQ){var eN=this,eS=eN.options,Y=eS.series,eT=eN.seriesPoints,eM,eU,eR,X,eP,eO,eL;for(eU=0;eU<Y.length;eU++){eR=Y[eU];X=eT[eU];if(!X){eT[eU]=[]}for(eM=0;eM<eR.data.length;eM++){eP=this._bindPoint(eR,eU,eM);eO=eP.valueFields;eL=eP.fields;eQ(eO,aL({pointIx:eM,series:eR,seriesIx:eU,dataItem:eR.data[eM],owner:eN},eL))}}},_bindPoint:dY.fn._bindPoint,formatPointValue:function(X,eL){var Y=X.value;return b9(eL,Y.x,Y.y)},animationPoints:function(){var Y=this.points;var eL=[];var X;for(X=0;X<Y.length;X++){if(Y[X].marker){eL.push(Y[X].marker)}}return eL}});aL(da.fn,b);var aR=da.extend({render:function(){var X=this;da.fn.render.call(X);X.renderSegments()},createSegment:function(eN,Y,X){var eM,eL=Y.style;if(eL===aV){eM=b1}else{eM=cZ}return new eM(eN,Y,X)},animationPoints:function(){var X=da.fn.animationPoints.call(this);return X.concat(this._segments)},createMissingValue:function(eL,X){if(X===bW){var Y={x:eL.x,y:eL.y};if(!eE(Y.x)){Y.x=0}if(!eE(Y.y)){Y.y=0}return Y}}});aL(aR.fn,am);var T=da.extend({init:function(Y,X){this._maxSize=dv;da.fn.init.call(this,Y,X)},options:{tooltip:{format:"{3}"},labels:{format:"{3}"}},addValue:function(Y,X){if((Y.size!==null&&Y.size>=0)||X.series.negativeValues.visible){this._maxSize=eC.max(this._maxSize,eC.abs(Y.size));da.fn.addValue.call(this,Y,X)}},reflow:function(Y){var X=this;X.updateBubblesSize(Y);da.fn.reflow.call(X,Y)},pointType:function(){return dQ},createPoint:function(eT,eQ){var eR=this,eM=eQ.series,X=eR.plotArea.options.seriesColors||[],eP=eM.data.length,eN=eQ.pointIx*(Q/eP),eL={delay:eN,duration:Q-eN,type:bE},eS,eO;var Y=eQ.color||eM.color;if(eT.size<0&&eM.negativeValues.visible){Y=bQ(eM.negativeValues.color,Y)}eO=aL({labels:{animation:{delay:eN,duration:Q-eN}}},this.pointOptions(eM,eQ.seriesIx),{markers:{type:bs,border:eM.border,opacity:eM.opacity,animation:eL}});eO=eR.evalPointOptions(eO,eT,eQ);if(cX.isFunction(eM.color)){Y=eO.color}eO.markers.background=Y;eS=new dQ(eT,eO);eS.color=Y;eR.append(eS);return eS},updateBubblesSize:function(eT){var eY=this,eP=eY.options,eU=eP.series,e0=eC.min(eT.width(),eT.height()),e1,eM;for(e1=0;e1<eU.length;e1++){var eV=eU[e1],eW=eY.seriesPoints[e1],eL=eV.minSize||eC.max(e0*0.02,10),eN=eV.maxSize||e0*0.2,X=eL/2,e4=eN/2,eR=eC.PI*X*X,eS=eC.PI*e4*e4,eQ=eS-eR,Y=eQ/eY._maxSize;for(eM=0;eM<eW.length;eM++){var e2=eW[eM],e3=eC.abs(e2.value.size)*Y,eX=eC.sqrt((eR+e3)/eC.PI),eO=bQ(e2.options.zIndex,0),eZ=eO+(1-eX/e4);aL(e2.options,{zIndex:eZ,markers:{size:eX*2,zIndex:eZ},labels:{zIndex:eZ+1}})}}},formatPointValue:function(X,eL){var Y=X.value;return b9(eL,Y.x,Y.y,Y.size,X.category)},createAnimation:dy,createVisual:dy});var bc=ec.extend({init:function(Y,X){ec.fn.init.call(this,X);this.value=Y},options:{border:{_brightness:0.8},line:{width:2},overlay:{gradient:aU},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{4:d}</th><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:true,label:{}}},reflow:function(Y){var eP=this,eS=eP.options,eM=eP.owner,eN=eP.value,eR=eM.seriesValueAxis(eS),eQ=[],eO,eL,X;eL=eR.getSlot(eN.open,eN.close);X=eR.getSlot(eN.low,eN.high);eL.x1=X.x1=Y.x1;eL.x2=X.x2=Y.x2;eP.realBody=eL;eO=X.center().x;eQ.push([[eO,X.y1],[eO,eL.y1]]);eQ.push([[eO,eL.y2],[eO,X.y2]]);eP.lines=eQ;eP.box=X.clone().wrap(eL);if(!eP._rendered){eP._rendered=true;eP.createNote()}eP.reflowNote()},reflowNote:function(){var X=this;if(X.note){X.note.reflow(X.box)}},createVisual:function(){ec.fn.createVisual.call(this);this._mainVisual=this.mainVisual(this.options);this.visual.append(this._mainVisual);this.createOverlay()},mainVisual:function(X){var Y=new eK.Group();this.createBody(Y,X);this.createLines(Y,X);return Y},createBody:function(Y,eL){var X=eK.Path.fromRect(this.realBody.toRect(),{fill:{color:this.color,opacity:eL.opacity},stroke:null});if(eL.border.width>0){X.options.set("stroke",{color:this.getBorderColor(),width:eL.border.width,dashType:eL.border.dashType,opacity:bQ(eL.border.opacity,eL.opacity)})}eI(X);Y.append(X);if(aB(eL)){Y.append(this.createGradientOverlay(X,{baseColor:this.color},aL({},eL.overlay)))}},createLines:function(X,Y){this.drawLines(X,Y,this.lines,Y.line)},drawLines:function(eM,eO,eL,eN){if(!eL){return}var X={stroke:{color:eN.color||this.color,opacity:bQ(eN.opacity,eO.opacity),width:eN.width,dashType:eN.dashType,lineCap:"butt"}};for(var eP=0;eP<eL.length;eP++){var Y=eK.Path.fromPoints(eL[eP],X);eI(Y);eM.append(Y)}},getBorderColor:function(){var X=this,eL=X.options,Y=eL.border,eM=Y.color;if(!bO(eM)){eM=new G(X.color).brightness(Y._brightness).toHex()}return eM},createOverlay:function(){var X=eK.Path.fromRect(this.box.toRect(),{fill:{color:ca,opacity:0},stroke:null});this.visual.append(X)},createHighlight:function(){var X=this.options.highlight;var eL=this.color;this.color=X.color||this.color;var Y=this.mainVisual(aL({},this.options,{line:{color:this.getBorderColor()}},X));this.color=eL;return Y},highlightVisual:function(){return this._mainVisual},highlightVisualArgs:function(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}},tooltipAnchor:function(){var X=this,Y=X.box,eL=X.owner.pane.clipBox()||Y;return new d1(Y.x2+h,eC.max(Y.y1,eL.y1)+h)},formatValue:function(Y){var X=this;return X.owner.formatPointValue(X,Y)}});aL(bc.fn,p);aL(bc.fn,bR);var em=dY.extend({options:{},reflowCategories:function(eN){var eL=this,Y=eL.children,eM=Y.length,X;for(X=0;X<eM;X++){Y[X].reflow(eN[X])}},addValue:function(eN,eQ){var eS=this;var eP=eQ.categoryIx;var eL=eQ.category;var eO=eQ.series;var eY=eQ.seriesIx;var eX=eS.options;var eV=eN.valueFields;var eM=eS.children;var eR=eS.splitValue(eV);var eW=J(eR);var Y=eS.categoryPoints[eP];var X=eO.data[eP];var eU,eT;if(!Y){eS.categoryPoints[eP]=Y=[]}if(eW){eU=eS.createPoint(eN,eQ)}eT=eM[eP];if(!eT){eT=new bh({vertical:eX.invertAxes,gap:eX.gap,spacing:eX.spacing});eS.append(eT)}if(eU){eS.updateRange(eV,eQ);eT.append(eU);eU.categoryIx=eP;eU.category=eL;eU.series=eO;eU.seriesIx=eY;eU.owner=eS;eU.dataItem=X;eU.noteText=eN.fields.noteText}eS.points.push(eU);Y.push(eU)},pointType:function(){return bc},createPoint:function(eM,eQ){var eR=this;var eP=eQ.categoryIx;var Y=eQ.category;var eN=eQ.series;var eU=eQ.seriesIx;var eT=eM.valueFields;var eO=aL({},eN);var X=eR.pointType();var eL=eM.fields.color||eN.color;eO=eR.evalPointOptions(eO,eT,Y,eP,eN,eU);if(eN.type==ac){if(eT.open>eT.close){eL=eM.fields.downColor||eN.downColor||eN.color}}if(cX.isFunction(eN.color)){eL=eO.color}var eS=new X(eT,eO);eS.color=eL;return eS},splitValue:function(X){return[X.low,X.open,X.close,X.high]},updateRange:function(eM,X){var eL=this,eO=X.series.axis,Y=eL.valueAxisRanges[eO],eN=eL.splitValue(eM);Y=eL.valueAxisRanges[eO]=Y||{min:cR,max:dv};Y=eL.valueAxisRanges[eO]={min:eC.min.apply(eC,eN.concat([Y.min])),max:eC.max.apply(eC,eN.concat([Y.max]))}},formatPointValue:function(X,eL){var Y=X.value;return b9(eL,Y.open,Y.high,Y.low,Y.close,X.category)},animationPoints:function(){return this.points}});aL(em.fn,b);var by=bc.extend({reflow:function(eL){var eR=this,eV=eR.options,eO=eR.owner,eQ=eR.value,eT=eO.seriesValueAxis(eV),X=[],eS=[],eU=[],eP,eM,eN,Y;Y=eT.getSlot(eQ.low,eQ.high);eM=eT.getSlot(eQ.open,eQ.open);eN=eT.getSlot(eQ.close,eQ.close);eM.x1=eN.x1=Y.x1=eL.x1;eM.x2=eN.x2=Y.x2=eL.x2;eP=Y.center().x;X.push([eM.x1,eM.y1]);X.push([eP,eM.y1]);eS.push([eP,eN.y1]);eS.push([eN.x2,eN.y1]);eU.push([eP,Y.y1]);eU.push([eP,Y.y2]);eR.lines=[X,eS,eU];eR.box=Y.clone().wrap(eM.clone().wrap(eN));eR.reflowNote()},createBody:er.noop});var f=em.extend({pointType:function(){return by}});var ef=em.extend({addValue:function(eN,eQ){var eS=this;var eP=eQ.categoryIx;var eL=eQ.category;var eO=eQ.series;var eY=eQ.seriesIx;var eX=eS.options;var eM=eS.children;var eV=eN.valueFields;var eR=eS.splitValue(eV);var eW=J(eR);var Y=eS.categoryPoints[eP];var X=eO.data[eP];var eU,eT;if(!Y){eS.categoryPoints[eP]=Y=[]}if(eW){eU=eS.createPoint(eN,eQ)}eT=eM[eP];if(!eT){eT=new bh({vertical:eX.invertAxes,gap:eX.gap,spacing:eX.spacing});eS.append(eT)}if(eU){eS.updateRange(eV,eQ);eT.append(eU);eU.categoryIx=eP;eU.category=eL;eU.series=eO;eU.seriesIx=eY;eU.owner=eS;eU.dataItem=X}eS.points.push(eU);Y.push(eU)},pointType:function(){return bJ},splitValue:function(X){return[X.lower,X.q1,X.median,X.q3,X.upper]},updateRange:function(eM,X){var eL=this,eO=X.series.axis,Y=eL.valueAxisRanges[eO],eN=eL.splitValue(eM).concat(eL.filterOutliers(eM.outliers));if(bO(eM.mean)){eN=eN.concat(eM.mean)}Y=eL.valueAxisRanges[eO]=Y||{min:cR,max:dv};Y=eL.valueAxisRanges[eO]={min:eC.min.apply(eC,eN.concat([Y.min])),max:eC.max.apply(eC,eN.concat([Y.max]))}},formatPointValue:function(X,eL){var Y=X.value;return b9(eL,Y.lower,Y.q1,Y.median,Y.q3,Y.upper,Y.mean,X.category)},filterOutliers:function(Y){var eN=(Y||[]).length,X=[],eL,eM;for(eL=0;eL<eN;eL++){eM=Y[eL];if(bO(eM)){af(X,eM)}}return X}});var bJ=bc.extend({init:function(eL,Y){var X=this;ec.fn.init.call(X,Y);X.value=eL;X.createNote()},options:{border:{_brightness:0.8},line:{width:2},mean:{width:2,dashType:"dash"},overlay:{gradient:aU},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{6:d}</th><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:true,label:{}},outliers:{visible:true,size:dM,type:ev,background:ca,border:{width:2,opacity:1},opacity:0},extremes:{visible:true,size:dM,type:bs,background:ca,border:{width:2,opacity:1},opacity:0}},reflow:function(Y){var eR=this,eT=eR.options,eN=eR.owner,eP=eR.value,eS=eN.seriesValueAxis(eT),eQ,eM,X,eO,eL;X=eS.getSlot(eP.q1,eP.q3);eR.boxSlot=X;eM=eS.getSlot(eP.lower,eP.upper);eO=eS.getSlot(eP.median);X.x1=eM.x1=Y.x1;X.x2=eM.x2=Y.x2;eR.realBody=X;if(eP.mean){eL=eS.getSlot(eP.mean);eR.meanPoints=[[[Y.x1,eL.y1],[Y.x2,eL.y1]]]}eQ=eM.center().x;eR.whiskerPoints=[[[eQ-5,eM.y1],[eQ+5,eM.y1],[eQ,eM.y1],[eQ,X.y1]],[[eQ-5,eM.y2],[eQ+5,eM.y2],[eQ,eM.y2],[eQ,X.y2]]];eR.medianPoints=[[[Y.x1,eO.y1],[Y.x2,eO.y1]]];eR.box=eM.clone().wrap(X);eR.reflowNote()},renderOutliers:function(eV){var eT=this,eM=eV.markers||{},eS=eT.value,eR=eS.outliers||[],eU=eT.owner.seriesValueAxis(eV),eQ=eC.abs(eS.q3-eS.q1)*3,Y,eL,eP,eO,eN;var X=[];for(eN=0;eN<eR.length;eN++){eO=eR[eN];if(eO<eS.q3+eQ&&eO>eS.q1-eQ){eM=eV.outliers}else{eM=eV.extremes}Y=aL({},eM.border);if(!bO(Y.color)){if(bO(eT.color)){Y.color=eT.color}else{Y.color=new G(eM.background).brightness(ed).toHex()}}eP=new u({type:eM.type,width:eM.size,height:eM.size,rotation:eM.rotation,background:eM.background,border:Y,opacity:eM.opacity});eP.value=eO;X.push(eP)}this.reflowOutliers(X);return X},reflowOutliers:function(eM){var eO=this.owner.seriesValueAxis(this.options);var eL=this.box.center().x;for(var Y=0;Y<eM.length;Y++){var X=eM[Y].value;var eN=eO.getSlot(X).move(eL);this.box=this.box.wrap(eN);eM[Y].reflow(eN)}},mainVisual:function(X){var eN=bc.fn.mainVisual.call(this,X);var eM=this.renderOutliers(X);for(var eL=0;eL<eM.length;eL++){var Y=eM[eL].getElement();if(Y){eN.append(Y)}}return eN},createLines:function(X,Y){this.drawLines(X,Y,this.whiskerPoints,Y.line);this.drawLines(X,Y,this.medianPoints,Y.median);this.drawLines(X,Y,this.meanPoints,Y.mean)},getBorderColor:function(){if(this.color){return this.color}return bc.getBorderColor.call(this)}});aL(bJ.fn,p);var dN=ec.extend({init:function(eM,Y,X){var eL=this;eL.value=eM;eL.sector=Y;ec.fn.init.call(eL,X)},options:{color:ca,overlay:{gradient:aG},border:{width:0.5},labels:{visible:false,distance:35,font:a5,margin:bz(0.5),align:bs,zIndex:1,position:aX},animation:{type:dh},highlight:{visible:true,border:{width:1}},visible:true},render:function(){var eM=this,X=eM.options,eN=X.labels,eL=eM.value,Y;if(eM._rendered||eM.visible===false){return}else{eM._rendered=true}if(eN.template){Y=l(eN.template);eL=Y({dataItem:eM.dataItem,category:eM.category,value:eM.value,series:eM.series,percentage:eM.percentage})}else{if(eN.format){eL=b9(eN.format,eL)}}if(eN.visible&&eL){eM.label=new a4(eL,aL({},eN,{align:eA,vAlign:"",animation:{type:d5,delay:eM.animationDelay}}));eM.append(eM.label)}},reflow:function(X){var Y=this;Y.render();Y.box=X;Y.reflowLabel()},reflowLabel:function(){var eP=this,eN=eP.sector.clone(),eT=eP.options,eS=eP.label,eL=eT.labels,X=eL.distance,eM=eN.middle(),eQ,Y,eR,eO;if(eS){eO=eS.box.height();eR=eS.box.width();if(eL.position==eA){eN.r=eC.abs((eN.r-eO)/2)+eO;eQ=eN.point(eM);eS.reflow(cK(eQ.x,eQ.y-eO/2,eQ.x,eQ.y))}else{if(eL.position==C){eN.r=eN.r-eO/2;eQ=eN.point(eM);eS.reflow(cK(eQ.x,eQ.y-eO/2,eQ.x,eQ.y))}else{eQ=eN.clone().expand(X).point(eM);if(eQ.x>=eN.c.x){Y=eQ.x+eR;eS.orientation=eu}else{Y=eQ.x-eR;eS.orientation=c9}eS.reflow(cK(Y,eQ.y-eO,eQ.x,eQ.y))}}}},createVisual:function(){var eO=this,eL=eO.sector,eR=eO.options,eP=eR.border||{},eM=eP.width>0?{stroke:{color:eP.color,width:eP.width,opacity:eP.opacity,dashType:eP.dashType}}:{},Y=[],eN=eR.color,eQ={color:eN,opacity:eR.opacity},X;ec.fn.createVisual.call(this);if(eO.value){X=eO.createSegment(eL,aL({fill:eQ,stroke:{opacity:eR.opacity},zIndex:eR.zIndex},eM));this.visual.append(X);if(aB(eR)){this.visual.append(this.createGradientOverlay(X,{baseColor:eN,fallbackFill:eQ},aL({center:[eL.c.x,eL.c.y],innerRadius:eL.ir,radius:eL.r,userSpace:true},eR.overlay)))}}},createSegment:function(Y,X){if(X.singleSegment){return new eK.Circle(new av.Circle(new av.Point(Y.c.x,Y.c.y),Y.r),X)}else{return d4.current.createRing(Y,X)}},createAnimation:function(){var Y=this.options;var X=this.sector.c;aL(Y,{animation:{center:[X.x,X.y],delay:this.animationDelay}});ec.fn.createAnimation.call(this)},createHighlight:function(eL){var eM=this,X=eM.options.highlight||{},Y=X.border||{};return eM.createSegment(eM.sector,aL({},eL,{fill:{color:X.color,opacity:X.opacity},stroke:{opacity:Y.opacity,width:Y.width,color:Y.color}}))},highlightVisual:function(){return this.visual.children[0]},highlightVisualArgs:function(){var X=this.sector;return{options:this.options,radius:X.r,innerRadius:X.ir,center:new av.Point(X.c.x,X.c.y),startAngle:X.startAngle,endAngle:X.angle+X.startAngle,visual:this.visual}},tooltipAnchor:function(eL,Y){var X=this,eM=X.sector.adjacentBox(h,eL,Y);return new d1(eM.x1,eM.y1)},formatValue:function(Y){var X=this;return X.owner.formatPointValue(X,Y)}});aL(dN.fn,p);var eH={createLegendItem:function(eO,eQ,eV){var eM=this,eU=eM.options.legend||{},X=eU.labels||{},eP=eU.inactiveItems||{},eL=eP.labels||{},eT,eS,Y,eR,eN;if(eV&&eV.visibleInLegend!==false){eN=eV.visible!==false;eT=eV.category||"";eS=eN?X.template:(eL.template||X.template);if(eS){eT=l(eS)({text:eT,series:eV.series,dataItem:eV.dataItem,percentage:eV.percentage,value:eO})}if(eN){eR={};Y=eQ.color}else{eR={color:eL.color,font:eL.font};Y=(eP.markers||{}).color}if(eT){eM.legendItems.push({pointIndex:eV.index,text:eT,series:eV.series,markerColor:Y,labels:eR})}}}};var b4=ec.extend({init:function(eL,X){var Y=this;ec.fn.init.call(Y,X);Y.plotArea=eL;Y.points=[];Y.legendItems=[];Y.render()},options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4},inactiveItems:{markers:{},labels:{}}},render:function(){var X=this;X.traverseDataPoints(ba(X.addValue,X))},traverseDataPoints:function(eM){var eS=this,eL=eS.options,eO=eS.plotArea.options.seriesColors||[],eX=eO.length,eP=eL.series,eZ=eP.length,eQ,e0,eT,eU,e1,e2,Y,eV,eN,eW,e3,eR,eY,X=0;for(eU=0;eU<eZ;eU++){eQ=eP[eU];e2=eQ.data;e3=bU(eQ);Y=360/e3;if(bO(eQ.startAngle)){eR=eQ.startAngle}else{eR=eL.startAngle}if(eU!=eZ-1){if(eQ.labels.position==aX){eQ.labels.position=eA}}for(eY=0;eY<e2.length;eY++){e0=bA.current.bindPoint(eQ,eY);eV=e0.valueFields.value;eN=eC.abs(eV);eT=e0.fields;e1=eN*Y;eW=e2.length!=1&&!!eT.explode;if(!cP(eQ.color)){eQ.color=eT.color||eO[eY%eX]}eM(eV,new ei(null,0,0,eR,e1),{owner:eS,category:eT.category||"",index:X,series:eQ,seriesIx:eU,dataItem:e2[eY],percentage:e3!==0?eN/e3:0,explode:eW,visibleInLegend:eT.visibleInLegend,visible:eT.visible,zIndex:eZ-eU,animationDelay:eS.animationDelay(eY,eU,eZ)});if(e0.fields.visible!==false){eR+=e1}X++}X=0}},evalSegmentOptions:function(Y,eM,X){var eL=X.series;bm(Y,{value:eM,series:eL,dataItem:X.dataItem,category:X.category,percentage:X.percentage},{defaults:eL._defaults,excluded:["data","template","visual","toggle"]})},addValue:function(eO,eL,X){var eM=this,eN;var Y=aL({},X.series,{index:X.index});eM.evalSegmentOptions(Y,eO,X);eM.createLegendItem(eO,Y,X);if(X.visible===false){return}eN=new dN(eO,eL,Y);eF(eN,X);eM.append(eN);eM.points.push(eN)},reflow:function(eO){var eV=this,Y=eV.options,eR=eO.clone(),e5=5,eT=eC.min(eR.width(),eR.height()),e8=eT/2,eL=eT-eT*0.85,eS=bQ(Y.padding,eL),eM=cK(eR.x1,eR.y1,eR.x1+eT,eR.y1+eT),eN=eM.center(),eY=eV.seriesConfigs||[],eX=eR.center(),e3=eV.points,eP=e3.length,e4=Y.series.length,eW=[],e7=[],eZ,e2,eQ,X,e0,eU,e1,e6;eS=eS>e8-e5?e8-e5:eS;eM.translate(eX.x-eN.x,eX.y-eN.y);eU=e8-eS;e6=d1(eU+eM.x1+eS,eU+eM.y1+eS);for(e1=0;e1<eP;e1++){X=e3[e1];e0=X.sector;e0.r=eU;e0.c=e6;e2=X.seriesIx;if(eY.length){eZ=eY[e2];e0.ir=eZ.ir;e0.r=eZ.r}if(e2==e4-1&&X.explode){e0.c=e0.clone().radius(e0.r*0.15).point(e0.middle())}X.reflow(eM);eQ=X.label;if(eQ){if(eQ.options.position===aX){if(e2==e4-1){if(eQ.orientation===eu){e7.push(eQ)}else{eW.push(eQ)}}}}}if(eW.length>0){eW.sort(eV.labelComparator(true));eV.leftLabelsReflow(eW)}if(e7.length>0){e7.sort(eV.labelComparator(false));eV.rightLabelsReflow(e7)}eV.box=eM},leftLabelsReflow:function(eL){var Y=this,X=Y.distanceBetweenLabels(eL);Y.distributeLabels(X,eL)},rightLabelsReflow:function(eL){var Y=this,X=Y.distanceBetweenLabels(eL);Y.distributeLabels(X,eL)},distanceBetweenLabels:function(eO){var eR=this,eU=eR.points,eP=eU[eU.length-1],eL=eP.sector,eT=eO[0].box,eQ=eO.length-1,eN=eL.r+eP.options.labels.distance,eS=[],Y,X,eM;X=cB(eT.y1-(eL.c.y-eN-eT.height()-eT.height()/2));eS.push(X);for(eM=0;eM<eQ;eM++){eT=eO[eM].box;Y=eO[eM+1].box;X=cB(Y.y1-eT.y2);eS.push(X)}X=cB(eL.c.y+eN-eO[eQ].box.y2-eO[eQ].box.height()/2);eS.push(X);return eS},distributeLabels:function(X,eQ){var eN=this,eO=X.length,eM,eP,eL,Y;for(Y=0;Y<eO;Y++){eP=eL=Y;eM=-X[Y];while(eM>0&&(eP>=0||eL<eO)){eM=eN._takeDistance(X,Y,--eP,eM);eM=eN._takeDistance(X,Y,++eL,eM)}}eN.reflowLabels(X,eQ)},_takeDistance:function(Y,eL,X,eM){if(Y[X]>0){var eN=eC.min(Y[X],eM);eM-=eN;Y[X]-=eN;Y[eL]+=eN}return eM},reflowLabels:function(eS,eP){var eR=this,eU=eR.points,eQ=eU[eU.length-1],eL=eQ.sector,Y=eP.length,eO=eQ.options.labels,X=eO.distance,eV=eL.c.y-(eL.r+X)-eP[0].box.height(),eT,eW,eN,eM;eS[0]+=2;for(eM=0;eM<Y;eM++){eT=eP[eM];eV+=eS[eM];eN=eT.box;eW=eR.hAlignLabel(eN.x2,eL.clone().expand(X),eV,eV+eN.height(),eT.orientation==eu);if(eT.orientation==eu){if(eO.align!==bs){eW=eL.r+eL.c.x+X}eT.reflow(cK(eW+eN.width(),eV,eW,eV))}else{if(eO.align!==bs){eW=eL.c.x-eL.r-X}eT.reflow(cK(eW-eN.width(),eV,eW,eV))}eV+=eN.height()}},createVisual:function(){var eS=this,eM=eS.options,eV=eM.connectors,eY=eS.points,eQ,eO=eY.length,e1=4,eX,e0,X,eT,eP,eZ;ec.fn.createVisual.call(this);this._connectorLines=[];for(eZ=0;eZ<eO;eZ++){X=eY[eZ];eX=X.sector;e0=eX.middle();eP=X.label;eT={seriesId:X.seriesIx};if(eP){eQ=new eK.Path({stroke:{color:eV.color,width:eV.width},animation:{type:d5,delay:X.animationDelay}});if(eP.options.position===aX&&X.value!==0){var eR=eP.box,eU=eX.c,eN=eX.point(e0),e2=d1(eR.x1,eR.center().y),eW,eL,Y;eN=eX.clone().expand(eV.padding).point(e0);eQ.moveTo(eN.x,eN.y);if(eP.orientation==eu){eL=d1(eR.x1-eV.padding,eR.center().y);Y=bb(eU,eN,e2,eL);e2=d1(eL.x-e1,eL.y);Y=Y||e2;Y.x=eC.min(Y.x,e2.x);if(eS.pointInCircle(Y,eX.c,eX.r+e1)||Y.x<eX.c.x){eW=eX.c.x+eX.r+e1;if(X.options.labels.align!==bH){if(eW<e2.x){eQ.lineTo(eW,eN.y)}else{eQ.lineTo(eN.x+e1*2,eN.y)}}else{eQ.lineTo(eW,eN.y)}eQ.lineTo(e2.x,eL.y)}else{Y.y=eL.y;eQ.lineTo(Y.x,Y.y)}}else{eL=d1(eR.x2+eV.padding,eR.center().y);Y=bb(eU,eN,e2,eL);e2=d1(eL.x+e1,eL.y);Y=Y||e2;Y.x=eC.max(Y.x,e2.x);if(eS.pointInCircle(Y,eX.c,eX.r+e1)||Y.x>eX.c.x){eW=eX.c.x-eX.r-e1;if(X.options.labels.align!==bH){if(eW>e2.x){eQ.lineTo(eW,eN.y)}else{eQ.lineTo(eN.x-e1*2,eN.y)}}else{eQ.lineTo(eW,eN.y)}eQ.lineTo(e2.x,eL.y)}else{Y.y=eL.y;eQ.lineTo(Y.x,Y.y)}}eQ.lineTo(eL.x,eL.y);this._connectorLines.push(eQ);this.visual.append(eQ)}}}},labelComparator:function(X){X=(X)?-1:1;return function(eL,Y){eL=(eL.parent.sector.middle()+270)%360;Y=(Y.parent.sector.middle()+270)%360;return(eL-Y)*X}},hAlignLabel:function(eQ,eL,eP,eN,eO){var eM=eL.c.x,Y=eL.c.y,X=eL.r,eR=eC.min(eC.abs(Y-eP),eC.abs(Y-eN));if(eR>X){return eQ}else{return eM+eC.sqrt((X*X)-(eR*eR))*(eO?1:-1)}},pointInCircle:function(X,eL,Y){return at(eL.x-X.x)+at(eL.y-X.y)<at(Y)},formatPointValue:function(X,Y){return b9(Y,X.value)},animationDelay:function(X){return X*el}});aL(b4.fn,eH);var cT=dN.extend({options:{overlay:{gradient:dk},labels:{position:eA},animation:{type:dh}},reflowLabel:function(){var eN=this,eM=eN.sector.clone(),Y=eN.options,X=eN.label,eQ=Y.labels,eL,eP=eM.middle(),eO;if(X){eO=X.box.height();if(eQ.position==eA){eM.r-=(eM.r-eM.ir)/2;eL=eM.point(eP);X.reflow(new cK(eL.x,eL.y-eO/2,eL.x,eL.y))}else{dN.fn.reflowLabel.call(eN)}}},createSegment:function(Y,X){return d4.current.createRing(Y,X)}});aL(cT.fn,p);var ex=b4.extend({options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},addValue:function(eO,eL,X){var eM=this,eN;var Y=aL({},X.series,{index:X.index});eM.evalSegmentOptions(Y,eO,X);eM.createLegendItem(eO,Y,X);if(!eO||X.visible===false){return}eN=new cT(eO,eL,Y);eF(eN,X);eM.append(eN);eM.points.push(eN)},reflow:function(eP){var eX=this,eM=eX.options,eQ=eP.clone(),e2=5,eV=eC.min(eQ.width(),eQ.height()),e3=eV/2,eN=eV-eV*0.85,eU=bQ(eM.padding,eN),eR=eM.series,eS,e1=eR.length,X=0,eL,eT,eZ,eY=0,e0,eW,eO=0,Y=0;eX.seriesConfigs=[];eU=eU>e3-e2?e3-e2:eU;eT=e3-eU;for(e0=0;e0<e1;e0++){eS=eR[e0];if(e0===0){if(bO(eS.holeSize)){eL=eS.holeSize;eT-=eS.holeSize}}if(bO(eS.size)){eT-=eS.size}else{X++}if(bO(eS.margin)&&e0!=e1-1){eT-=eS.margin}}if(!bO(eL)){Y=(e3-eU)/(e1+0.75);eL=Y*0.75;eT-=eL}eO=eL;for(e0=0;e0<e1;e0++){eS=eR[e0];eZ=bQ(eS.size,eT/X);eO+=eY;eW=eO+eZ;eX.seriesConfigs.push({ir:eO,r:eW});eY=eS.margin||0;eO=eW}b4.fn.reflow.call(eX,eP)},animationDelay:function(eL,X,Y){return eL*ek+(Q*(X+1)/(Y+1))}});var bj=du.extend({render:function(){du.fn.render.call(this);this.createSegments()},traverseDataPoints:function(eV){var eL=this.options.series;var eN=this.categoryAxis.options.categories||[];var eR=dq(eL);var eQ=!this.options.invertAxes;for(var eX=0;eX<eL.length;eX++){var eW=eL[eX];var eP=0;var X=0;for(var eM=0;eM<eR;eM++){var Y=bA.current.bindPoint(eW,eM);var eU=Y.valueFields.value;var eO=Y.fields.summary;var eT=eP;var eS;if(eO){if(eO.toLowerCase()==="total"){Y.valueFields.value=eP;eT=0;eS=eP}else{Y.valueFields.value=X;eS=eT-X;X=0}}else{if(s(eU)){X+=eU;eP+=eU;eS=eP}}eV(Y,{category:eN[eM],categoryIx:eM,series:eW,seriesIx:eX,total:eP,runningTotal:X,from:eT,to:eS,isVertical:eQ})}}},updateRange:function(Y,X){du.fn.updateRange.call(this,{value:X.to},X)},aboveAxis:function(X){return X.value>=0},plotRange:function(X){return[X.from,X.to]},createSegments:function(){var X=this.options.series;var eR=this.seriesPoints;var Y=this.segments=[];for(var eS=0;eS<X.length;eS++){var eQ=X[eS];var eP=eR[eS];if(eP){var eN;for(var eM=0;eM<eP.length;eM++){var eO=eP[eM];if(eO&&eN){var eL=new dC(eN,eO,eQ);Y.push(eL);this.append(eL)}eN=eO}}}}});var dC=ec.extend({init:function(eM,eL,X){var Y=this;ec.fn.init.call(Y);Y.from=eM;Y.to=eL;Y.series=X},options:{animation:{type:d5,delay:Q}},linePoints:function(){var eM=[];var eO=this.from;var Y=eO.box;var eL=this.to.box;if(eO.isVertical){var eN=eO.aboveAxis?Y.y1:Y.y2;eM.push([Y.x1,eN],[eL.x2,eN])}else{var X=eO.aboveAxis?Y.x2:Y.x1;eM.push([X,Y.y1],[X,eL.y2])}return eM},createVisual:function(){ec.fn.createVisual.call(this);var Y=this.options;var X=this.series.line||{};var eL=eK.Path.fromPoints(this.linePoints(),{stroke:{color:X.color,width:X.width,opacity:X.opacity,dashType:X.dashType}});eI(eL);this.visual.append(eL)}});var cC=a.extend({init:function(X){var Y=this;a.fn.init.call(Y,X);X=Y.options;Y.id=cX.guid();Y.createTitle();Y.content=new ec();Y.chartContainer=new dS({},Y);Y.append(Y.content);Y.axes=[];Y.charts=[]},options:{zIndex:-1,shrinkToFit:true,title:{align:c9},visible:true},createTitle:function(){var Y=this;var X=Y.options.title;if(typeof X===d){X=aL({},X,{align:X.position,position:b2})}Y.title=w.buildTitle(X,Y,cC.fn.options.title)},appendAxis:function(X){var Y=this;Y.content.append(X);Y.axes.push(X);X.pane=Y},appendChart:function(X){var Y=this;if(Y.chartContainer.parent!==Y.content){Y.content.append(Y.chartContainer)}Y.charts.push(X);Y.chartContainer.append(X);X.pane=Y},empty:function(){var eL=this,Y=eL.parent,X;if(Y){for(X=0;X<eL.axes.length;X++){Y.removeAxis(eL.axes[X])}for(X=0;X<eL.charts.length;X++){Y.removeChart(eL.charts[X])}}eL.axes=[];eL.charts=[];eL.content.destroy();eL.content.children=[];eL.chartContainer.children=[]},reflow:function(X){var eL=this;var Y;if(dV(eL.children)===eL.content){Y=eL.children.pop()}a.fn.reflow.call(eL,X);if(Y){eL.children.push(Y)}if(eL.title){eL.contentBox.y1+=eL.title.box.height()}},visualStyle:function(){var X=a.fn.visualStyle.call(this);X.zIndex=-10;return X},renderComplete:function(){if(this.options.visible){this.createGridLines()}},stackRoot:Z,clipRoot:Z,createGridLines:function(){var Y=this,eT=Y.axes,eO=eT.concat(Y.parent.axes),X=[],eS=[],eR,eQ,eP,eM,eN,eL;for(eQ=0;eQ<eT.length;eQ++){eM=eT[eQ];eN=eM.options.vertical;eR=eN?X:eS;for(eP=0;eP<eO.length;eP++){if(eR.length===0){eL=eO[eP];if(eN!==eL.options.vertical){b6(eR,eM.createGridLines(eL))}}}}},refresh:function(){this.visual.clear();this.content.parent=null;this.content.createGradient=er.proxy(this.createGradient,this);this.content.renderVisual();this.content.parent=this;if(this.title){this.visual.append(this.title.visual)}this.visual.append(this.content.visual);this.renderComplete()},clipBox:function(){return this.chartContainer.clipBox}});var dS=ec.extend({init:function(Y,eL){var X=this;ec.fn.init.call(X,Y);X.pane=eL},shouldClip:function(){var X=this,eL=X.children,eM=eL.length,Y;for(Y=0;Y<eM;Y++){if(eL[Y].options.clip===true){return true}}return false},_clipBox:function(){var Y=this,eM=Y.pane,eP=eM.axes,eL=eP.length,X=eM.box.clone(),eQ,eR,eO,eN;for(eR=0;eR<eL;eR++){eN=eP[eR];eQ=eN.options.vertical?d7:d8;eO=eN.lineBox();X[eQ+1]=eO[eQ+1];X[eQ+2]=eO[eQ+2]}return X},createVisual:function(){this.visual=new eK.Group({zIndex:0});if(this.shouldClip()){var eL=this.clipBox=this._clipBox();var X=eL.toRect();var Y=eK.Path.fromRect(X);this.visual.clip(Y);this.unclipLabels()}},stackRoot:Z,unclipLabels:function(){var Y=this,eP=Y.children,eQ=Y.clipBox,eN,X,eM,eL,eO;for(eM=0;eM<eP.length;eM++){eN=eP[eM].points||{};eO=eN.length;for(eL=0;eL<eO;eL++){X=eN[eL];if(X&&X.label&&X.label.options.visible){if(X.box.overlaps(eQ)){if(X.label.alignToClipBox){X.label.alignToClipBox(eQ)}X.label.options.noclip=true}}}}},destroy:function(){ec.fn.destroy.call(this);delete this.parent}});var c5=ec.extend({init:function(Y,X){var eL=this;ec.fn.init.call(eL,X);eL.series=Y;eL.initSeries();eL.charts=[];eL.options.legend.items=[];eL.axes=[];eL.crosshairs=[];eL.createPanes();eL.render();eL.createCrosshairs()},options:{series:[],plotArea:{margin:{}},background:"",border:{color:aW,width:0},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}},initSeries:function(){var eL=this.series,Y,X;for(Y=0;Y<eL.length;Y++){X=eL[Y];X.index=Y}},createPanes:function(){var eL=this,Y=[],eO=eL.options.panes||[],X,eN=eC.max(eO.length,1),eM;for(X=0;X<eN;X++){eM=new cC(eO[X]);eM.paneIndex=X;Y.push(eM);eL.append(eM)}eL.panes=Y},createCrosshairs:function(eN){var eO=this,eL,Y,eP,eM,X;eN=eN||eO.panes;for(eL=0;eL<eN.length;eL++){eP=eN[eL];for(Y=0;Y<eP.axes.length;Y++){eM=eP.axes[Y];if(eM.options.crosshair&&eM.options.crosshair.visible){X=new dj(eM,eM.options.crosshair);eO.crosshairs.push(X);eP.content.append(X)}}}},removeCrosshairs:function(eO){var eM=this,X=eM.crosshairs,eN=eO.axes,eL,Y;for(eL=X.length-1;eL>=0;eL--){for(Y=0;Y<eN.length;Y++){if(X[eL].axis===eN[Y]){X.splice(eL,1);break}}}},hideCrosshairs:function(){var Y=this.crosshairs;for(var X=0;X<Y.length;X++){Y[X].hide()}},findPane:function(Y){var eN=this,eM=eN.panes,eL,X;for(eL=0;eL<eM.length;eL++){if(eM[eL].options.name===Y){X=eM[eL];break}}return X||eM[0]},findPointPane:function(Y){var eN=this,eM=eN.panes,eL,X;for(eL=0;eL<eM.length;eL++){if(eM[eL].box.containsPoint(Y)){X=eM[eL];break}}return X},appendAxis:function(X){var Y=this,eL=Y.findPane(X.options.pane);eL.appendAxis(X);Y.axes.push(X);X.plotArea=Y},removeAxis:function(eN){var eM=this,X,Y,eL=[];for(X=0;X<eM.axes.length;X++){Y=eM.axes[X];if(eN!==Y){eL.push(Y)}else{Y.destroy()}}eM.axes=eL},appendChart:function(X,eL){var Y=this;Y.charts.push(X);if(eL){eL.appendChart(X)}else{Y.append(X)}},removeChart:function(eM){var eN=this,X,eL,Y=[];for(X=0;X<eN.charts.length;X++){eL=eN.charts[X];if(eL!==eM){Y.push(eL)}else{eL.destroy()}}eN.charts=Y},addToLegend:function(eO){var eR=eO.length,eN=[],eP,eY,eX,eU=this.options.legend,eQ=eU.labels||{},eT=eU.inactiveItems||{},eS=eT.labels||{},Y,eW,eM,X,eL,eV;for(eP=0;eP<eR;eP++){eY=eO[eP];eL=eY.visible!==false;if(eY.visibleInLegend===false){continue}eX=eY.name||"";eV=eL?eQ.template:(eS.template||eQ.template);if(eV){eX=l(eV)({text:eX,series:eY})}Y=eY.color;X=eY._defaults;if(cP(Y)&&X){Y=X.color}if(eL){eW={};eM=Y}else{eW={color:eS.color,font:eS.font};eM=eT.markers.color}if(eX){eN.push({text:eX,labels:eW,markerColor:eM,series:eY,active:eL})}}b6(eU.items,eN)},groupAxes:function(eM){var eP=[],eL=[],eO,Y,X,eN;for(X=0;X<eM.length;X++){eO=eM[X].axes;for(eN=0;eN<eO.length;eN++){Y=eO[eN];if(Y.options.vertical){eL.push(Y)}else{eP.push(Y)}}}return{x:eP,y:eL,any:eP.concat(eL)}},groupSeriesByPane:function(){var eN=this,eL=eN.series,eM={},Y,eO,X;for(Y=0;Y<eL.length;Y++){X=eL[Y];eO=eN.seriesPaneName(X);if(eM[eO]){eM[eO].push(X)}else{eM[eO]=[X]}}return eM},filterVisibleSeries:function(eM){var eL,Y,X=[];for(eL=0;eL<eM.length;eL++){Y=eM[eL];if(Y.visible!==false){X.push(Y)}}return X},reflow:function(X){var eN=this,Y=eN.options.plotArea,eL=eN.panes,eM=bz(Y.margin);eN.box=X.clone().unpad(eM);eN.reflowPanes();eN.reflowAxes(eL);eN.reflowCharts(eL)},redraw:function(Y){var eL=this,X;Y=[].concat(Y);this.initSeries();for(X=0;X<Y.length;X++){eL.removeCrosshairs(Y[X]);Y[X].empty()}eL.render(Y);eL.reflowAxes(eL.panes);eL.reflowCharts(Y);eL.createCrosshairs(Y);for(X=0;X<Y.length;X++){Y[X].refresh()}},axisCrossingValues:function(eN,eM){var Y=eN.options,eO=[].concat(Y.axisCrossingValues||Y.axisCrossingValue),eP=eM.length-eO.length,X=eO[0]||0,eL;for(eL=0;eL<eP;eL++){eO.push(X)}return eO},alignAxisTo:function(Y,eN,eP,eR){var eQ=Y.getSlot(eP,eP,true),eL=Y.options.reverse?2:1,X=eN.getSlot(eR,eR,true),eM=eN.options.reverse?2:1,eO=Y.box.translate(X[d8+eM]-eQ[d8+eL],X[d7+eM]-eQ[d7+eL]);if(Y.pane!==eN.pane){eO.translate(0,Y.pane.box.y1-eN.pane.box.y1)}Y.reflow(eO)},alignAxes:function(eV,eU){var X=this,eX=eV[0],eL=eU[0],eN=X.axisCrossingValues(eX,eU),Y=X.axisCrossingValues(eL,eV),eR={},eW={},eQ={},eP={},eM,eT,eO,eS;for(eS=0;eS<eU.length;eS++){eO=eU[eS];eM=eO.pane;eT=eM.id;X.alignAxisTo(eO,eX,Y[eS],eN[eS]);if(eO.options._overlap){continue}if(cB(eO.lineBox().x1)===cB(eX.lineBox().x1)){if(eR[eT]){eO.reflow(eO.box.alignTo(eR[eT].box,c9).translate(-eO.options.margin,0))}eR[eT]=eO}if(cB(eO.lineBox().x2)===cB(eX.lineBox().x2)){if(!eO._mirrored){eO.options.labels.mirror=!eO.options.labels.mirror;eO._mirrored=true}X.alignAxisTo(eO,eX,Y[eS],eN[eS]);if(eW[eT]){eO.reflow(eO.box.alignTo(eW[eT].box,eu).translate(eO.options.margin,0))}eW[eT]=eO}if(eS!==0&&eL.pane===eO.pane){eO.alignTo(eL);eO.reflow(eO.box)}}for(eS=0;eS<eV.length;eS++){eO=eV[eS];eM=eO.pane;eT=eM.id;X.alignAxisTo(eO,eL,eN[eS],Y[eS]);if(eO.options._overlap){continue}if(cB(eO.lineBox().y1)===cB(eL.lineBox().y1)){if(!eO._mirrored){eO.options.labels.mirror=!eO.options.labels.mirror;eO._mirrored=true}X.alignAxisTo(eO,eL,eN[eS],Y[eS]);if(eQ[eT]){eO.reflow(eO.box.alignTo(eQ[eT].box,b2).translate(0,-eO.options.margin))}eQ[eT]=eO}if(cB(eO.lineBox().y2,dp)===cB(eL.lineBox().y2,dp)){if(eP[eT]){eO.reflow(eO.box.alignTo(eP[eT].box,eD).translate(0,eO.options.margin))}eP[eT]=eO}if(eS!==0){eO.alignTo(eX);eO.reflow(eO.box)}}},shrinkAxisWidth:function(eN){var eO=this,eQ=eO.groupAxes(eN).any,eL=bZ(eQ),X=0,eM,eP,Y;for(eM=0;eM<eN.length;eM++){eP=eN[eM];if(eP.axes.length>0){X=eC.max(X,eL.width()-eP.contentBox.width())}}if(X!==0){for(eM=0;eM<eQ.length;eM++){Y=eQ[eM];if(!Y.options.vertical){Y.reflow(Y.box.shrink(X,0))}}}},shrinkAxisHeight:function(eO){var eN,eQ,eP,Y,eM,eL,X;for(eN=0;eN<eO.length;eN++){eQ=eO[eN];eP=eQ.axes;Y=eC.max(0,bZ(eP).height()-eQ.contentBox.height());if(Y!==0){for(eM=0;eM<eP.length;eM++){eL=eP[eM];if(eL.options.vertical){eL.reflow(eL.box.shrink(0,Y))}}X=true}}return X},fitAxes:function(eT){var X=this,eS=X.groupAxes(eT).any,eR=0,eQ,eL,eU,eP,Y,eM,eO,eN;for(eO=0;eO<eT.length;eO++){Y=eT[eO];eQ=Y.axes;eL=Y.contentBox;if(eQ.length>0){eU=bZ(eQ);eR=eC.max(eR,eL.x1-eU.x1);eP=eC.max(eL.y1-eU.y1,eL.y2-eU.y2);for(eN=0;eN<eQ.length;eN++){eM=eQ[eN];eM.reflow(eM.box.translate(0,eP))}}}for(eO=0;eO<eS.length;eO++){eM=eS[eO];eM.reflow(eM.box.translate(eR,0))}},reflowAxes:function(Y){var eL=this,X,eM=eL.groupAxes(Y);for(X=0;X<Y.length;X++){eL.reflowPaneAxes(Y[X])}if(eM.x.length>0&&eM.y.length>0){eL.alignAxes(eM.x,eM.y);eL.shrinkAxisWidth(Y);eL.autoRotateAxisLabels(eM);eL.alignAxes(eM.x,eM.y);if(eL.shrinkAxisWidth(Y)){eL.alignAxes(eM.x,eM.y)}eL.shrinkAxisHeight(Y);eL.alignAxes(eM.x,eM.y);if(eL.shrinkAxisHeight(Y)){eL.alignAxes(eM.x,eM.y)}eL.fitAxes(Y)}},autoRotateAxisLabels:function(eN){var eO=this.axes;var eM=this.panes;var eL,X,Y;for(X=0;X<eO.length;X++){eL=eO[X];if(eL.autoRotateLabels()){Y=true}}if(Y){for(X=0;X<eM.length;X++){this.reflowPaneAxes(eM[X])}if(eN.x.length>0&&eN.y.length>0){this.alignAxes(eN.x,eN.y);this.shrinkAxisWidth(eM)}}},reflowPaneAxes:function(eM){var eL=eM.axes,X,Y=eL.length;if(Y>0){for(X=0;X<Y;X++){eL[X].reflow(eM.contentBox)}}},reflowCharts:function(Y){var eO=this,eN=eO.charts,eM=eN.length,eL=eO.box,eP,X;for(X=0;X<eM;X++){eP=eN[X].pane;if(!eP||dO(eP,Y)){eN[X].reflow(eL)}}},reflowPanes:function(){var X=this,eO=X.box,eT=X.panes,eS=eT.length,eN,Y,eL,eV=eO.height(),eP=eS,eQ=0,eR=eO.y1,eU,eM;for(eN=0;eN<eS;eN++){Y=eT[eN];eU=Y.options.height;Y.options.width=eO.width();if(!Y.options.height){eQ++}else{if(eU.indexOf&&eU.indexOf("%")){eM=parseInt(eU,10)/100;Y.options.height=eM*eO.height()}Y.reflow(eO.clone());eV-=Y.options.height}}for(eN=0;eN<eS;eN++){Y=eT[eN];if(!Y.options.height){Y.options.height=eV/eQ}}for(eN=0;eN<eS;eN++){Y=eT[eN];eL=eO.clone().move(eO.x1,eR);Y.reflow(eL);eP--;eR+=Y.options.height}},backgroundBox:function(){var X=this,eQ=X.axes,eR=eQ.length,eP,eO,eN,eM,eL,Y;for(eN=0;eN<eR;eN++){eL=eQ[eN];for(eM=0;eM<eR;eM++){Y=eQ[eM];if(eL.options.vertical!==Y.options.vertical){eP=eL.lineBox().clone().wrap(Y.lineBox());if(!eO){eO=eP}else{eO=eO.wrap(eP)}}}}return eO||X.box},createVisual:function(){ec.fn.createVisual.call(this);var eO=this.backgroundBox();var eL=this.options.plotArea;var Y=eL.border||{};var eN=eL.background;var X=eL.opacity;if(d9.isTransparent(eN)){eN=ca;X=0}var eM=this._bgVisual=eK.Path.fromRect(eO.toRect(),{fill:{color:eN,opacity:X},stroke:{color:Y.width?Y.color:"",width:Y.width,dashType:Y.dashType},zIndex:-1});this.appendVisual(eM)},pointsByCategoryIndex:function(eQ){var eP=this.charts,Y=[],eM,eL,eO,X,eN;if(eQ!==null){for(eM=0;eM<eP.length;eM++){eN=eP[eM];if(eN.pane.options.name==="_navigator"){continue}eO=eP[eM].categoryPoints[eQ];if(eO&&eO.length){for(eL=0;eL<eO.length;eL++){X=eO[eL];if(X&&bO(X.value)&&X.value!==null){Y.push(X)}}}}}return Y},pointsBySeriesIndex:function(eL){var eQ=this.charts,Y=[],eP,X,eN,eM,eO;for(eN=0;eN<eQ.length;eN++){eO=eQ[eN];eP=eO.points;for(eM=0;eM<eP.length;eM++){X=eP[eM];if(X&&X.options.index===eL){Y.push(X)}}}return Y},pointsBySeriesName:function(eM){var eQ=this.charts,Y=[],eP,X,eN,eL,eO;for(eN=0;eN<eQ.length;eN++){eO=eQ[eN];eP=eO.points;for(eL=0;eL<eP.length;eL++){X=eP[eL];if(X&&X.series.name===eM){Y.push(X)}}}return Y},paneByPoint:function(X){var eM=this,eL=eM.panes,eN,Y;for(Y=0;Y<eL.length;Y++){eN=eL[Y];if(eN.box.containsPoint(X)){return eN}}}});var dX=c5.extend({init:function(eM,Y){var eN=this;eN.namedCategoryAxes={};eN.namedValueAxes={};eN.valueAxisRangeTracker=new en();if(eM.length>0){eN.invertAxes=dO(eM[0].type,[cr,dc,eJ,bi,aQ,eG]);for(var eL=0;eL<eM.length;eL++){var X=eM[eL].stack;if(X&&X.type==="100%"){eN.stack100=true;break}}}c5.fn.init.call(eN,eM,Y)},options:{categoryAxis:{categories:[]},valueAxis:{}},render:function(X){var Y=this;X=X||Y.panes;Y.createCategoryAxes(X);Y.aggregateCategories(X);Y.createCategoryAxesLabels(X);Y.createCharts(X);Y.createValueAxes(X)},removeAxis:function(X){var Y=this,eL=X.options.name;c5.fn.removeAxis.call(Y,X);if(X instanceof bS){delete Y.namedCategoryAxes[eL]}else{Y.valueAxisRangeTracker.reset(eL);delete Y.namedValueAxes[eL]}if(X===Y.categoryAxis){delete Y.categoryAxis}if(X===Y.valueAxis){delete Y.valueAxis}},createCharts:function(eR){var X=this,eM=this.groupSeriesByPane();for(var eN=0;eN<eR.length;eN++){var Y=eR[eN];var eQ=eM[Y.options.name||"default"]||[];this.addToLegend(eQ);var eP=this.filterVisibleSeries(eQ);if(!eP){continue}var eL=this.groupSeriesByCategoryAxis(eP);for(var eO=0;eO<eL.length;eO++){this.createChartGroup(eL[eO],Y)}}},createChartGroup:function(X,Y){this.createAreaChart(aZ(X,[dg,bi]),Y);this.createBarChart(aZ(X,[bH,cr]),Y);this.createRangeBarChart(aZ(X,[ay,aQ]),Y);this.createBulletChart(aZ(X,[dc,a0]),Y);this.createCandlestickChart(aZ(X,ac),Y);this.createBoxPlotChart(aZ(X,bt),Y);this.createOHLCChart(aZ(X,ar),Y);this.createWaterfallChart(aZ(X,[bC,eG]),Y);this.createLineChart(aZ(X,[bD,eJ]),Y)},aggregateCategories:function(eP){var X=this,eM=X.srcSeries||X.series,Y=[],eN,eR,eO,eL,eQ;for(eN=0;eN<eM.length;eN++){eR=eM[eN];eO=X.seriesCategoryAxis(eR);eL=X.findPane(eO.options.pane);eQ=cy(eO.options.type,eb);if((eQ||eR.categoryField)&&dO(eL,eP)){eR=X.aggregateSeries(eR,eO)}Y.push(eR)}X.srcSeries=eM;X.series=Y},aggregateSeries:function(eQ,eT){var eP=eT.options,eZ=cy(eT.options.type,eb),eU=eP.categories,eL=eP.srcCategories||eU,eV=eQ.data,eX=[],eS=eT.range(),eY=aL({},eQ),eM=aL({},eQ),eO,Y,eR,eN,X,eW=c4;eY.data=eN=[];if(eZ){eW=ai}for(eO=0;eO<eV.length;eO++){if(eQ.categoryField){Y=eW(eQ.categoryField,eV[eO])}else{Y=eL[eO]}eR=eT.categoryIndex(Y,eS);if(eR>-1){eX[eR]=eX[eR]||[];eX[eR].push(eO)}}X=new b0(eM,bA.current,bg.current);for(eO=0;eO<eU.length;eO++){eN[eO]=X.aggregatePoints(eX[eO],eU[eO])}eT.options.dataItems=eN;return eY},appendChart:function(eL,eP){var eN=this,Y=eL.options.series,eO=eN.seriesCategoryAxis(Y[0]),X=eO.options.categories,eM=eC.max(0,dq(Y)-X.length);while(eM--){X.push("")}eN.valueAxisRangeTracker.update(eL.valueAxisRanges);c5.fn.appendChart.call(eN,eL,eP)},seriesPaneName:function(eO){var X=this,eR=X.options,eL=eO.axis,eN=[].concat(eR.valueAxis),eM=er.grep(eN,function(eS){return eS.name===eL})[0],eP=eR.panes||[{}],Y=(eP[0]||{}).name||"default",eQ=(eM||{}).pane||Y;return eQ},seriesCategoryAxis:function(X){var eL=this,eM=X.categoryAxis,Y=eM?eL.namedCategoryAxes[eM]:eL.categoryAxis;if(!Y){throw new Error("Unable to locate category axis with name "+eM)}return Y},stackableChartOptions:function(eL,eN){var X=eL.stack,eM=X&&X.type==="100%",Y;if(bO(eN.options.clip)){Y=eN.options.clip}else{if(eM){Y=false}}return{isStacked:X,isStacked100:eM,clip:Y}},groupSeriesByCategoryAxis:function(eP,eR){var eO={};var eQ=er.map(eP,function(eT){var eS=eT.categoryAxis||"$$default$$";if(!eO.hasOwnProperty(eS)){eO[eS]=true;return eS}});function eM(eS,eT){return er.grep(eP,function(eU){return(eT===0&&!eU.categoryAxis)||(eU.categoryAxis==eS)})}var Y=[];for(var eN=0;eN<eQ.length;eN++){var eL=eQ[eN];var X=eM(eL,eN);if(X.length===0){continue}Y.push(X)}return Y},createBarChart:function(X,eN){if(X.length===0){return}var eM=this,eL=X[0],Y=new du(eM,eF({series:X,invertAxes:eM.invertAxes,gap:eL.gap,spacing:eL.spacing},eM.stackableChartOptions(eL,eN)));eM.appendChart(Y,eN)},createRangeBarChart:function(Y,eN){if(Y.length===0){return}var eM=this,eL=Y[0],X=new aj(eM,{series:Y,invertAxes:eM.invertAxes,gap:eL.gap,spacing:eL.spacing});eM.appendChart(X,eN)},createBulletChart:function(X,eN){if(X.length===0){return}var eM=this,eL=X[0],Y=new dn(eM,{series:X,invertAxes:eM.invertAxes,gap:eL.gap,spacing:eL.spacing,clip:eN.options.clip});eM.appendChart(Y,eN)},createLineChart:function(Y,eN){if(Y.length===0){return}var eM=this,eL=Y[0],X=new ch(eM,eF({invertAxes:eM.invertAxes,series:Y},eM.stackableChartOptions(eL,eN)));eM.appendChart(X,eN)},createAreaChart:function(Y,eN){if(Y.length===0){return}var eM=this,eL=Y[0],X=new eq(eM,eF({invertAxes:eM.invertAxes,series:Y},eM.stackableChartOptions(eL,eN)));eM.appendChart(X,eN)},createOHLCChart:function(X,eN){if(X.length===0){return}var eM=this,eL=X[0],Y=new f(eM,{invertAxes:eM.invertAxes,gap:eL.gap,series:X,spacing:eL.spacing,clip:eN.options.clip});eM.appendChart(Y,eN)},createCandlestickChart:function(X,eN){if(X.length===0){return}var eM=this,eL=X[0],Y=new em(eM,{invertAxes:eM.invertAxes,gap:eL.gap,series:X,spacing:eL.spacing,clip:eN.options.clip});eM.appendChart(Y,eN)},createBoxPlotChart:function(X,eN){if(X.length===0){return}var eM=this,eL=X[0],Y=new ef(eM,{invertAxes:eM.invertAxes,gap:eL.gap,series:X,spacing:eL.spacing,clip:eN.options.clip});eM.appendChart(Y,eN)},createWaterfallChart:function(Y,eN){if(Y.length===0){return}var eM=this,eL=Y[0],X=new bj(eM,{series:Y,invertAxes:eM.invertAxes,gap:eL.gap,spacing:eL.spacing});eM.appendChart(X,eN)},axisRequiresRounding:function(eQ,eN){var eP=this,eO=aZ(eP.series,dG),X,eL;for(X=0;X<eP.series.length;X++){var eM=eP.series[X];if(eM.type===bD||eM.type===dg){var Y=eM.line;if(Y&&Y.style===z){eO.push(eM)}}}for(X=0;X<eO.length;X++){eL=eO[X].categoryAxis||"";if(eL===eQ||(!eL&&eN===0)){return true}}},createCategoryAxesLabels:function(){var Y=this.axes;for(var X=0;X<Y.length;X++){if(Y[X] instanceof bS){Y[X].createLabels()}}},createCategoryAxes:function(eU){var Y=this,eM=Y.invertAxes,eV=[].concat(Y.options.categoryAxis),eP,eO,eN,eR,eT,eL,eQ,eS=[],X;for(eP=0;eP<eV.length;eP++){eO=eV[eP];eN=Y.findPane(eO.pane);if(dO(eN,eU)){eL=eO.name;eR=eO.categories||[];eT=eO.type||"";eO=aL({vertical:eM,axisCrossingValue:eM?cR:0,_deferLabels:true},eO);if(!bO(eO.justified)){eO.justified=Y.isJustified()}if(Y.axisRequiresRounding(eL,eP)){eO.justified=false;eO.roundToBaseUnit=true}if(cE(eO,eR[0])){eQ=new bX(eO)}else{eQ=new bS(eO)}if(eL){if(Y.namedCategoryAxes[eL]){throw new Error("Category axis with name "+eL+" is already defined")}Y.namedCategoryAxes[eL]=eQ}eQ.axisIndex=eP;eS.push(eQ);Y.appendAxis(eQ)}}X=Y.categoryAxis||eS[0];Y.categoryAxis=X;if(eM){Y.axisY=X}else{Y.axisX=X}},isJustified:function(){var eM=this,eL=eM.series,Y,X;for(Y=0;Y<eL.length;Y++){X=eL[Y];if(!dO(X.type,[dg,bi])){return false}}return true},createValueAxes:function(eV){var Y=this,eW=Y.valueAxisRangeTracker,eN=eW.query(),eZ=[].concat(Y.options.valueAxis),eM=Y.invertAxes,eS={vertical:!eM},eR,eO,eY,X,eU=[],eT,eX,eQ,eL,eP;if(Y.stack100){eS.roundToMajorUnit=false;eS.labels={format:"P0"}}for(eP=0;eP<eZ.length;eP++){eR=eZ[eP];eO=Y.findPane(eR.pane);if(dO(eO,eV)){eL=eR.name;eQ=cy(eR.type,dD)?{min:0.1,max:1}:{min:0,max:1};eT=eW.query(eL)||eN||eQ;if(eP===0&&eT&&eN){eT.min=eC.min(eT.min,eN.min);eT.max=eC.max(eT.max,eN.max)}if(cy(eR.type,dD)){eX=dL}else{eX=cp}eY=new eX(eT.min,eT.max,aL({},eS,eR));if(eL){if(Y.namedValueAxes[eL]){throw new Error("Value axis with name "+eL+" is already defined")}Y.namedValueAxes[eL]=eY}eY.axisIndex=eP;eU.push(eY);Y.appendAxis(eY)}}X=Y.valueAxis||eU[0];Y.valueAxis=X;if(eM){Y.axisX=X}else{Y.axisY=X}},click:function(eQ,eP){var X=this,eR=eQ._eventCoordinates(eP),eS=new d1(eR.x,eR.y),Y=X.pointPane(eS),eM,eN,eL,eO=[],eT=[];if(!Y){return}eM=Y.axes;for(eN=0;eN<eM.length;eN++){eL=eM[eN];if(eL.getValue){af(eT,eL.getValue(eS))}else{af(eO,eL.getCategory(eS))}}if(eO.length===0){af(eO,X.categoryAxis.getCategory(eS))}if(eO.length>0&&eT.length>0){eQ.trigger(bn,{element:er(eP.target),originalEvent:eP,category:ak(eO),value:ak(eT)})}},pointPane:function(X){var eM=this,eL=eM.panes,eN,Y;for(Y=0;Y<eL.length;Y++){eN=eL[Y];if(eN.contentBox.containsPoint(X)){return eN}}}});var en=az.extend({init:function(){var X=this;X.axisRanges={}},update:function(eM){var eL=this,eN=eL.axisRanges,Y,X,eO;for(eO in eM){Y=eN[eO];X=eM[eO];eN[eO]=Y=Y||{min:cR,max:dv};Y.min=eC.min(Y.min,X.min);Y.max=eC.max(Y.max,X.max)}},reset:function(X){this.axisRanges[X]=es},query:function(X){return this.axisRanges[X]}});var aY=c5.extend({init:function(Y,X){var eL=this;eL.namedXAxes={};eL.namedYAxes={};eL.xAxisRangeTracker=new en();eL.yAxisRangeTracker=new en();c5.fn.init.call(eL,Y,X)},options:{xAxis:{},yAxis:{}},render:function(eM){var eN=this,eL=eN.groupSeriesByPane(),Y,eP,eO,X;eM=eM||eN.panes;for(Y=0;Y<eM.length;Y++){eP=eM[Y];eO=eL[eP.options.name||"default"]||[];eN.addToLegend(eO);X=eN.filterVisibleSeries(eO);if(!X){continue}eN.createScatterChart(aZ(X,ab),eP);eN.createScatterLineChart(aZ(X,M),eP);eN.createBubbleChart(aZ(X,bE),eP)}eN.createAxes(eM)},appendChart:function(X,eL){var Y=this;Y.xAxisRangeTracker.update(X.xAxisRanges);Y.yAxisRangeTracker.update(X.yAxisRanges);c5.fn.appendChart.call(Y,X,eL)},removeAxis:function(X){var Y=this,eL=X.options.name;c5.fn.removeAxis.call(Y,X);if(X.options.vertical){Y.yAxisRangeTracker.reset(eL);delete Y.namedYAxes[eL]}else{Y.xAxisRangeTracker.reset(eL);delete Y.namedXAxes[eL]}if(X===Y.axisX){delete Y.axisX}if(X===Y.axisY){delete Y.axisY}},seriesPaneName:function(eO){var X=this,eU=X.options,eT=eO.xAxis,eQ=[].concat(eU.xAxis),eM=er.grep(eQ,function(eV){return eV.name===eT})[0],eN=eO.yAxis,eS=[].concat(eU.yAxis),Y=er.grep(eS,function(eV){return eV.name===eN})[0],eP=eU.panes||[{}],eL=eP[0].name||"default",eR=(eM||{}).pane||(Y||{}).pane||eL;return eR},createScatterChart:function(X,eL){var Y=this;if(X.length>0){Y.appendChart(new da(Y,{series:X,clip:eL.options.clip}),eL)}},createScatterLineChart:function(X,eL){var Y=this;if(X.length>0){Y.appendChart(new aR(Y,{series:X,clip:eL.options.clip}),eL)}},createBubbleChart:function(X,eL){var Y=this;if(X.length>0){Y.appendChart(new T(Y,{series:X,clip:eL.options.clip}),eL)}},createXYAxis:function(eL,X,eW){var eM=this,eO=eL.name,eP=X?eM.namedYAxes:eM.namedXAxes,eN=X?eM.yAxisRangeTracker:eM.xAxisRangeTracker,eV=aL({},eL,{vertical:X}),eY=cy(eV.type,dD),eZ=eN.query(),eS=eY?{min:0.1,max:1}:{min:0,max:1},eX=eN.query(eO)||eZ||eS,Y,eR,e1,eT=eM.series,eU,e4,eQ,e0=[eV.min,eV.max],e2,e3;for(e1=0;e1<eT.length;e1++){eU=eT[e1];e4=eU[X?"yAxis":"xAxis"];if((e4==eV.name)||(eW===0&&!e4)){eQ=bA.current.bindPoint(eU,0).valueFields;e0.push(eQ[X?"y":"x"]);break}}if(eW===0&&eZ){eX.min=eC.min(eX.min,eZ.min);eX.max=eC.max(eX.max,eZ.max)}for(e3=0;e3<e0.length;e3++){if(e0[e3] instanceof Date){e2=true;break}}if(cy(eV.type,eb)||(!eV.type&&e2)){eR=aA}else{if(eY){eR=dL}else{eR=cp}}Y=new eR(eX.min,eX.max,eV);if(eO){if(eP[eO]){throw new Error((X?"Y":"X")+" axis with name "+eO+" is already defined")}eP[eO]=Y}eM.appendAxis(Y);return Y},createAxes:function(eN){var eO=this,X=eO.options,eM,Y=[].concat(X.xAxis),eQ=[],eP=[].concat(X.yAxis),eL=[];bG(Y,function(eR){eM=eO.findPane(this.pane);if(dO(eM,eN)){eQ.push(eO.createXYAxis(this,false,eR))}});bG(eP,function(eR){eM=eO.findPane(this.pane);if(dO(eM,eN)){eL.push(eO.createXYAxis(this,true,eR))}});eO.axisX=eO.axisX||eQ[0];eO.axisY=eO.axisY||eL[0]},click:function(eQ,eP){var X=this,eS=eQ._eventCoordinates(eP),eT=new d1(eS.x,eS.y),eN=X.axes,eO,eL=eN.length,eM,Y=[],eR=[],eV,eU;for(eO=0;eO<eL;eO++){eM=eN[eO];eU=eM.options.vertical?eR:Y;eV=eM.getValue(eT);if(eV!==null){eU.push(eV)}}if(Y.length>0&&eR.length>0){eQ.trigger(bn,{element:er(eP.target),originalEvent:eP,x:ak(Y),y:ak(eR)})}}});var dU=c5.extend({render:function(){var Y=this,X=Y.series;Y.createPieChart(X)},createPieChart:function(Y){var eM=this,eL=Y[0],X=new b4(eM,{series:Y,padding:eL.padding,startAngle:eL.startAngle,connectors:eL.connectors,legend:eM.options.legend});eM.appendChart(X)},appendChart:function(X,Y){c5.fn.appendChart.call(this,X,Y);b6(this.options.legend.items,X.legendItems)}});var E=dU.extend({render:function(){var Y=this,X=Y.series;Y.createDonutChart(X)},createDonutChart:function(X){var eM=this,eL=X[0],Y=new ex(eM,{series:X,padding:eL.padding,connectors:eL.connectors,legend:eM.options.legend});eM.appendChart(Y)}});var cU=eK.Animation.extend({options:{easing:"easeOutElastic",duration:Q},setup:function(){this.element.transform(av.transform().scale(be,be,this.options.center))},step:function(X){this.element.transform(av.transform().scale(X,X,this.options.center))}});eK.AnimationFactory.current.register(dh,cU);var aH=eK.Animation.extend({options:{easing:"easeOutElastic"},setup:function(){var X=this.center=this.element.bbox().center();this.element.transform(av.transform().scale(be,be,X))},step:function(X){this.element.transform(av.transform().scale(X,X,this.center))}});eK.AnimationFactory.current.register(bE,aH);var aJ=az.extend({init:function(){this._points=[]},destroy:function(){this._points=[]},show:function(eL){eL=[].concat(eL);this.hide();for(var Y=0;Y<eL.length;Y++){var X=eL[Y];if(X&&X.toggleHighlight&&X.hasHighlight()){this.togglePointHighlight(X,true);this._points.push(X)}}},togglePointHighlight:function(X,Y){var eM=(X.options.highlight||{}).toggle;if(eM){var eL={category:X.category,series:X.series,dataItem:X.dataItem,value:X.value,preventDefault:a9,visual:X.highlightVisual(),show:Y};eM(eL);if(!eL._defaultPrevented){X.toggleHighlight(Y)}}else{X.toggleHighlight(Y)}},hide:function(){var X=this._points;while(X.length){this.togglePointHighlight(X.pop(),false)}},isHighlighted:function(eL){var eM=this._points;for(var Y=0;Y<eM.length;Y++){var X=eM[Y];if(eL==X){return true}}return false}});var c3=bq.extend({init:function(eN,Y){var eL=this;bq.fn.init.call(eL);eL.options=aL({},eL.options,Y);eL.chartElement=eN;eL.template=c3.template;if(!eL.template){eL.template=c3.template=I("<div class='"+x+"tooltip "+x+"chart-tooltip' style='display:none; position: absolute; font: #= d.font #;border: #= d.border.width #px solid;opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'></div>")}var eM=bz(eL.options.padding||{},"auto");eL.element=er(eL.template(eL.options)).css({"padding-top":eM.top,"padding-right":eM.right,"padding-bottom":eM.bottom,"padding-left":eM.left});eL.move=ba(eL.move,eL);eL._mouseleave=ba(eL._mouseleave,eL);var X=cX.format("[{0}='content'],[{0}='scroller']",cX.attr("role"));eL._mobileScroller=eN.closest(X).data("kendoMobileScroller")},destroy:function(){this._clearShowTimeout();if(this.element){this.element.off(aT).remove();this.element=null}},options:{border:{width:1},opacity:1,animation:{duration:K}},move:function(){var eL=this,X=eL.options,Y=eL.element,eM;if(!eL.anchor||!eL.element){return}eM=eL._offset();if(!eL.visible){Y.css({top:eM.top,left:eM.left})}eL.visible=true;eL._ensureElement(document.body);Y.stop(true,true).show().animate({left:eM.left,top:eM.top},X.animation.duration)},_clearShowTimeout:function(){if(this.showTimeout){clearTimeout(this.showTimeout);this.showTimeout=null}},_padding:function(){if(!this._chartPadding){var X=this.chartElement;this._chartPadding={top:parseInt(X.css("paddingTop"),10),left:parseInt(X.css("paddingLeft"),10)}}return this._chartPadding},_offset:function(){var eV=this,eW=eV._measure(),eP=eV.anchor,Y=eV._padding(),eS=eV.chartElement.offset(),eR=cB(eP.y+Y.top+eS.top),eM=cB(eP.x+Y.left+eS.left),eO=cX.support.zoomLevel(),eQ=er(window),X=window.pageYOffset||document.documentElement.scrollTop||0,eN=window.pageXOffset||document.documentElement.scrollLeft||0,eU=(this._mobileScroller||{}).movable;if(!eU||eU.scale===1){eR+=eV._fit(eR-X,eW.height,eQ.outerHeight()/eO);eM+=eV._fit(eM-eN,eW.width,eQ.outerWidth()/eO)}else{var eL=av.transform().scale(eU.scale,eU.scale,[eU.x,eU.y]);var eT=new av.Point(eM,eR).transform(eL);eM=eT.x;eR=eT.y}return{top:eR,left:eM}},setStyle:function(eL,X){var eM=eL.background;var Y=eL.border.color;if(X){var eN=X.color||X.options.color;eM=bQ(eM,eN);Y=bQ(Y,eN)}if(!bO(eL.color)){var eO=new G(eM).percBrightness();this.element.toggleClass(x+bV,eO>180)}this.element.css({backgroundColor:eM,borderColor:Y,font:eL.font,color:eL.color,opacity:eL.opacity,borderWidth:eL.border.width})},show:function(){this._clearShowTimeout();this.showTimeout=setTimeout(this.move,N)},hide:function(){var X=this;clearTimeout(X.showTimeout);X._hideElement();if(X.visible){X.point=null;X.visible=false;X.index=null}},_measure:function(){this._ensureElement();var X={width:this.element.outerWidth(),height:this.element.outerHeight()};return X},_ensureElement:function(){if(this.element){this.element.appendTo(document.body).on(aT,this._mouseleave)}},_mouseleave:function(eL){var Y=eL.relatedTarget;var X=this.chartElement[0];if(Y&&Y!==X&&!er.contains(X,Y)){this.trigger(dd);this.hide()}},_hideElement:function(){var Y=this;var X=this.element;if(X){X.fadeOut({always:function(){if(!Y.visible){X.off(aT).remove()}}})}},_pointContent:function(X){var eN=this,eL=aL({},eN.options,X.options.tooltip),eM,Y;if(bO(X.value)){eM=X.value.toString()}if(eL.template){Y=l(eL.template);eM=Y({value:X.value,category:X.category,series:X.series,dataItem:X.dataItem,percentage:X.percentage,runningTotal:X.runningTotal,total:X.total,low:X.low,high:X.high,xLow:X.xLow,xHigh:X.xHigh,yLow:X.yLow,yHigh:X.yHigh})}else{if(eL.format){eM=X.formatValue(eL.format)}}return eM},_pointAnchor:function(X){var Y=this._measure();return X.tooltipAnchor(Y.width,Y.height)},_fit:function(eM,eL,X){var Y=0;if(eM+eL>X){Y=X-(eM+eL)}if(eM<0){Y=-eM}return Y}});var dP=c3.extend({show:function(X){var eL=this,Y=aL({},eL.options,X.options.tooltip);if(!X||!X.tooltipAnchor||!eL.element){return}eL.element.html(eL._pointContent(X));eL.anchor=eL._pointAnchor(X);if(eL.anchor){eL.setStyle(Y,X);c3.fn.show.call(eL,X)}else{eL.hide()}}});var bF=c3.extend({init:function(Y,eM,X){var eL=this;c3.fn.init.call(eL,Y,X);eL.plotArea=eM},options:{sharedTemplate:"<table><th colspan='2'>#= categoryText #</th># for(var i = 0; i < points.length; i++) { ## var point = points[i]; #<tr># if(point.series.name) { # <td> #= point.series.name #:</td># } #<td>#= content(point) #</td></tr># } #</table>",categoryFormat:"{0:d}"},showAt:function(eQ,eO){var eR=this,eS=eR.options,X=eR.plotArea,eL=X.categoryAxis,eM=eL.pointCategoryIndex(eO),Y=eL.getCategory(eO),eP=eL.getSlot(eM),eN;eQ=er.grep(eQ,function(eV){var eU=eV.series.tooltip,eT=eU&&eU.visible===false;return !eT});if(eQ.length>0){eN=eR._content(eQ,Y);eR.element.html(eN);eR.anchor=eR._slotAnchor(eO,eP);eR.setStyle(eS,eQ[0]);c3.fn.show.call(eR)}},_slotAnchor:function(X,eQ){var eP=this,eO=eP.plotArea,eN=eO.categoryAxis,Y,eL=this._measure(),eM=X.y-eL.height/2;if(eN.options.vertical){Y=d1(X.x,eM)}else{Y=d1(eQ.center().x,eM)}return Y},_content:function(Y,eM){var eN=this,X,eL;X=cX.template(eN.options.sharedTemplate);eL=X({points:Y,category:eM,categoryText:b9(eN.options.categoryFormat,eM),content:eN._pointContent});return eL}});var dj=ec.extend({init:function(Y,X){ec.fn.init.call(this,X);this.axis=Y;this.stickyMode=Y instanceof bS},options:{color:aW,width:1,zIndex:-1,tooltip:{visible:false}},showAt:function(X){var eL=this;this.point=X;this.moveLine();this.line.visible(true);var Y=this.options.tooltip;if(Y.visible){if(!this.tooltip){this.tooltip=new F(this,aL({},Y,{stickyMode:this.stickyMode}))}this.tooltip.showAt(X)}},hide:function(){this.line.visible(false);if(this.tooltip){this.tooltip.hide()}},moveLine:function(){var Y=this,X=Y.axis,eL=X.options.vertical,eO=Y.getBox(),eR=Y.point,eN=eL?d7:d8,eQ,eP,eM;eP=new av.Point(eO.x1,eO.y1);if(eL){eM=new av.Point(eO.x2,eO.y1)}else{eM=new av.Point(eO.x1,eO.y2)}if(eR){if(Y.stickyMode){eQ=X.getSlot(X.pointCategoryIndex(eR));eP[eN]=eM[eN]=eQ.center()[eN]}else{eP[eN]=eM[eN]=eR[eN]}}Y.box=eO;this.line.moveTo(eP).lineTo(eM)},getBox:function(){var eM=this,eL=eM.axis,eR=eL.pane.axes,Y=eR.length,eN=eL.options.vertical,eQ=eL.lineBox().clone(),eP=eN?d8:d7,eS,X,eO;for(eO=0;eO<Y;eO++){X=eR[eO];if(X.options.vertical!=eN){if(!eS){eS=X.lineBox().clone()}else{eS.wrap(X.lineBox())}}}eQ[eP+1]=eS[eP+1];eQ[eP+2]=eS[eP+2];return eQ},createVisual:function(){ec.fn.createVisual.call(this);var X=this.options;this.line=new eK.Path({stroke:{color:X.color,width:X.width,opacity:X.opacity,dashType:X.dashType},visible:false});this.moveLine();this.visual.append(this.line)},destroy:function(){var X=this;if(X.tooltip){X.tooltip.destroy()}ec.fn.destroy.call(X)}});var F=c3.extend({init:function(eM,X){var Y=this,eL=eM.axis.getRoot().chart.element;Y.crosshair=eM;c3.fn.init.call(Y,eL,aL({},Y.options,{background:eM.axis.plotArea.options.seriesColors[0]},X));Y.setStyle(Y.options)},options:{padding:10},showAt:function(X){var eL=this,Y=eL.element;if(Y){eL.point=X;eL.element.html(eL.content(X));eL.anchor=eL.getAnchor();eL.move()}},move:function(){var Y=this,X=Y.element,eL=Y._offset();Y._ensureElement();X.css({top:eL.top,left:eL.left}).show()},content:function(X){var eP=this,eL=eP.options,eM=eP.crosshair.axis,eQ=eM.options,eN,eO,Y;eO=eN=eM[eL.stickyMode?"getCategory":"getValue"](X);if(eL.template){Y=l(eL.template);eN=Y({value:eO})}else{if(eL.format){eN=b9(eL.format,eO)}else{if(eQ.type===eb){eN=b9(eQ.labels.dateFormats[eQ.baseUnit],eO)}}}return eN},getAnchor:function(){var eR=this,eT=eR.options,eN=eT.position,X=this.crosshair,Y=!X.axis.options.vertical,eO=X.line.bbox(),eS=this._measure(),eM=eS.width/2,eP=eS.height/2,eQ=eT.padding,eL;if(Y){if(eN===eD){eL=eO.bottomLeft().translate(-eM,eQ)}else{eL=eO.topLeft().translate(-eM,-eS.height-eQ)}}else{if(eN===c9){eL=eO.topLeft().translate(-eS.width-eQ,-eP)}else{eL=eO.topRight().translate(eQ,-eP)}}return eL},hide:function(){this.element.hide();this.point=null},destroy:function(){c3.fn.destroy.call(this);this.point=null}});var ci={min:function(X){var eL=cR,eM=X.length,Y,eN;for(Y=0;Y<eM;Y++){eN=X[Y];if(s(eN)){eL=eC.min(eL,eN)}}return eL===cR?X[0]:eL},max:function(Y){var X=dv,eM=Y.length,eL,eN;for(eL=0;eL<eM;eL++){eN=Y[eL];if(s(eN)){X=eC.max(X,eN)}}return X===dv?Y[0]:X},sum:function(X){var eM=X.length,eL=0,Y,eN;for(Y=0;Y<eM;Y++){eN=X[Y];if(s(eN)){eL+=eN}}return eL},sumOrNull:function(Y){var X=null;if(ad(Y)){X=ci.sum(Y)}return X},count:function(X){var eM=X.length,eL=0,Y,eN;for(Y=0;Y<eM;Y++){eN=X[Y];if(eN!==null&&bO(eN)){eL++}}return eL},avg:function(Y){var X=Y[0],eL=ad(Y);if(eL>0){X=ci.sum(Y)/eL}return X},first:function(X){var eL=X.length,Y,eM;for(Y=0;Y<eL;Y++){eM=X[Y];if(eM!==null&&bO(eM)){return eM}}return X[0]}};function bg(){this._defaults={}}bg.prototype={register:function(X,eL){for(var Y=0;Y<X.length;Y++){this._defaults[X[Y]]=eL}},query:function(X){return this._defaults[X]}};bg.current=new bg();var eo=bq.extend({init:function(eO,eM,eS){var eN=this,eQ=eO.element,X=eM.lineBox(),eR=eN.getValueAxis(eM),eT=eR.lineBox(),eL="."+x,Y,eP;bq.fn.init.call(eN);eN.options=aL({},eN.options,eS);eS=eN.options;eN.chart=eO;eN.chartElement=eQ;eN.categoryAxis=eM;eN._dateAxis=eN.categoryAxis instanceof bX;eN.valueAxis=eR;if(eN._dateAxis){aL(eS,{min:cA(eS.min),max:cA(eS.max),from:cA(eS.from),to:cA(eS.to)})}eN.template=eo.template;if(!eN.template){eN.template=eo.template=I("<div class='"+x+"selector' style='width: #= d.width #px; height: #= d.height #px; top: #= d.offset.top #px; left: #= d.offset.left #px;'><div class='"+x+"mask'></div><div class='"+x+"mask'></div><div class='"+x+"selection'><div class='"+x+"selection-bg'></div><div class='"+x+"handle "+x+"leftHandle'><div></div></div><div class='"+x+"handle "+x+"rightHandle'><div></div></div></div></div>")}eP={left:parseInt(eQ.css("paddingLeft"),10),right:parseInt(eQ.css("paddingTop"),10)};eN.options=aL({},{width:X.width(),height:eT.height(),padding:eP,offset:{left:eT.x2+eP.left,top:eT.y1+eP.right},from:eS.min,to:eS.max},eS);if(eN.options.visible){eN.wrapper=Y=er(eN.template(eN.options)).appendTo(eQ);eN.selection=Y.find(eL+"selection");eN.leftMask=Y.find(eL+"mask").first();eN.rightMask=Y.find(eL+"mask").last();eN.leftHandle=Y.find(eL+"leftHandle");eN.rightHandle=Y.find(eL+"rightHandle");eN.options.selection={border:{left:parseFloat(eN.selection.css("border-left-width"),10),right:parseFloat(eN.selection.css("border-right-width"),10)}};eN.leftHandle.css("top",(eN.selection.height()-eN.leftHandle.height())/2);eN.rightHandle.css("top",(eN.selection.height()-eN.rightHandle.height())/2);eN.set(eN._index(eS.from),eN._index(eS.to));eN.bind(eN.events,eN.options);eN.wrapper[0].style.cssText=eN.wrapper[0].style.cssText;eN.wrapper.on(b5,ba(eN._mousewheel,eN));if(cX.UserEvents){eN.userEvents=new cX.UserEvents(eN.wrapper,{global:true,stopPropagation:true,multiTouch:true,start:ba(eN._start,eN),move:ba(eN._move,eN),end:ba(eN._end,eN),tap:ba(eN._tap,eN),gesturestart:ba(eN._gesturechange,eN),gesturechange:ba(eN._gesturechange,eN)})}else{eN.leftHandle.add(eN.rightHandle).removeClass(x+"handle")}}},events:[j,cn,aD],options:{visible:true,mousewheel:{zoom:i},min:dv,max:cR},destroy:function(){var Y=this,X=Y.userEvents;if(X){X.destroy()}clearTimeout(Y._mwTimeout);Y._state=null;Y.wrapper.remove()},_rangeEventArgs:function(X){var Y=this;return{axis:Y.categoryAxis.options,from:Y._value(X.from),to:Y._value(X.to)}},_start:function(eN){var eL=this,Y=eL.options,eM=er(eN.event.target),X;if(eL._state||!eM){return}eL.chart._unsetActivePoint();eL._state={moveTarget:eM.parents(".k-handle").add(eM).first(),startLocation:eN.x?eN.x.location:0,range:{from:eL._index(Y.from),to:eL._index(Y.to)}};X=eL._rangeEventArgs({from:eL._index(Y.from),to:eL._index(Y.to)});if(eL.trigger(j,X)){eL.userEvents.cancel();eL._state=null}},_move:function(eR){if(!this._state){return}var eP=this,X=eP._state,eY=eP.options,eO=eP.categoryAxis.options.categories,eV=eP._index(eY.from),eW=eP._index(eY.to),eM=eP._index(eY.min),eT=eP._index(eY.max),eX=X.startLocation-eR.x.location,eN=X.range,eS={from:eN.from,to:eN.to},eU=eN.to-eN.from,eQ=X.moveTarget,Y=eP.wrapper.width()/(eO.length-1),eL=eC.round(eX/Y);if(!eQ){return}eR.preventDefault();if(eQ.is(".k-selection, .k-selection-bg")){eN.from=eC.min(eC.max(eM,eV-eL),eT-eU);eN.to=eC.min(eN.from+eU,eT)}else{if(eQ.is(".k-leftHandle")){eN.from=eC.min(eC.max(eM,eV-eL),eT-1);eN.to=eC.max(eN.from+1,eN.to)}else{if(eQ.is(".k-rightHandle")){eN.to=eC.min(eC.max(eM+1,eW-eL),eT);eN.from=eC.min(eN.to-1,eN.from)}}}if(eN.from!==eS.from||eN.to!==eS.to){eP.move(eN.from,eN.to);eP.trigger(cn,eP._rangeEventArgs(eN))}},_end:function(){var Y=this,X=Y._state.range;delete Y._state;Y.set(X.from,X.to);Y.trigger(aD,Y._rangeEventArgs(X))},_gesturechange:function(eO){if(!this._state){return}var eN=this,eP=eN.chart,X=eN._state,eT=eN.options,eL=eN.categoryAxis,eM=X.range,eS=eP._toModelCoordinates(eO.touches[0].x.location).x,eR=eP._toModelCoordinates(eO.touches[1].x.location).x,Y=eC.min(eS,eR),eQ=eC.max(eS,eR);eO.preventDefault();X.moveTarget=null;eM.from=eL.pointCategoryIndex(new ck.Point2D(Y))||eT.min;eM.to=eL.pointCategoryIndex(new ck.Point2D(eQ))||eT.max;eN.move(eM.from,eM.to)},_tap:function(eQ){var eP=this,eX=eP.options,eS=eP.chart._eventCoordinates(eQ),eM=eP.categoryAxis,eN=eM.pointCategoryIndex(new ck.Point2D(eS.x,eM.box.y1)),eV=eP._index(eX.from),eW=eP._index(eX.to),Y=eP._index(eX.min),eR=eP._index(eX.max),eU=eW-eV,eT=eV+eU/2,X=eC.round(eT-eN),eL={},eO=eQ.event.which===3;if(eP._state||eO){return}eQ.preventDefault();eP.chart._unsetActivePoint();if(!eM.options.justified){X--}eL.from=eC.min(eC.max(Y,eV-X),eR-eU);eL.to=eC.min(eL.from+eU,eR);eP._start(eQ);if(eP._state){eP._state.range=eL;eP.trigger(cn,eP._rangeEventArgs(eL));eP._end()}},_mousewheel:function(eM){var eL=this,Y=eL.options,eN=o(eM);eL._start({event:{target:eL.selection}});if(eL._state){var X=eL._state.range;eM.preventDefault();eM.stopPropagation();if(eC.abs(eN)>1){eN*=eB}if(Y.mousewheel.reverse){eN*=-1}if(eL.expand(eN)){eL.trigger(cn,{axis:eL.categoryAxis.options,delta:eN,originalEvent:eM,from:eL._value(X.from),to:eL._value(X.to)})}if(eL._mwTimeout){clearTimeout(eL._mwTimeout)}eL._mwTimeout=setTimeout(function(){eL._end()},aI)}},_index:function(eM){var eL=this,eN=eL.categoryAxis,X=eN.options.categories,Y=eM;if(eM instanceof Date){Y=S(eM,X);if(!eN.options.justified&&eM>dV(X)){Y+=1}}return Y},_value:function(Y){var eL=this,eN=this.categoryAxis,X=eN.options.categories,eM=Y;if(eL._dateAxis){if(Y>X.length-1){eM=eL.options.max}else{eM=X[Y]}}return eM},_slot:function(Y){var X=this,eL=this.categoryAxis;return eL.getSlot(X._index(Y))},move:function(eR,eS){var eP=this,eT=eP.options,eN=eT.offset,eQ=eT.padding,eL=eT.selection.border,Y,eM,eO,X;eO=eP._slot(eR);Y=cB(eO.x1-eN.left+eQ.left);eP.leftMask.width(Y);eP.selection.css("left",Y);eO=eP._slot(eS);eM=cB(eT.width-(eO.x1-eN.left+eQ.left));eP.rightMask.width(eM);X=eT.width-eM;if(X!=eT.width){X+=eL.right}eP.rightMask.css("left",X);eP.selection.width(eC.max(eT.width-(Y+eM)-eL.right,0))},set:function(eO,eN){var eM=this,Y=eM.options,eL=eM._index(Y.min),X=eM._index(Y.max);eO=cx(eM._index(eO),eL,X);eN=cx(eM._index(eN),eO+1,X);if(Y.visible){eM.move(eO,eN)}Y.from=eM._value(eO);Y.to=eM._value(eN)},expand:function(eR){var eM=this,eS=eM.options,X=eM._index(eS.min),eO=eM._index(eS.max),eL=eS.mousewheel.zoom,eP=eM._index(eS.from),eQ=eM._index(eS.to),Y={from:eP,to:eQ},eN=aL({},Y);if(eM._state){Y=eM._state.range}if(eL!==eu){Y.from=cx(cx(eP-eR,0,eQ-1),X,eO)}if(eL!==c9){Y.to=cx(cx(eQ+eR,Y.from+1,eO),X,eO)}if(Y.from!==eN.from||Y.to!==eN.to){eM.set(Y.from,Y.to);return true}},getValueAxis:function(eN){var eM=eN.pane.axes,eL=eM.length,X,Y;for(X=0;X<eL;X++){Y=eM[X];if(Y.options.vertical!==eN.options.vertical){return Y}}}});var b0=function(eN,eV,eS){var eT=this,X=eV.canonicalFields(eN),Y=eV.valueFields(eN),eU=eV.sourceFields(eN,X),eQ=eT._seriesFields=[],eL=eS.query(eN.type),eO=eN.aggregate||eL,eM;eT._series=eN;eT._binder=eV;for(eM=0;eM<X.length;eM++){var eR=X[eM],eP;if(typeof eO===d){eP=eO[eR]}else{if(eM===0||dO(eR,Y)){eP=eO}else{break}}if(eP){eQ.push({canonicalName:eR,name:eU[eM],transform:cP(eP)?eP:ci[eP]})}}};b0.prototype={aggregatePoints:function(eU,eS){var eQ=this,X=eQ._bindPoints(eU||[]),Y=eQ._series,eN=eQ._seriesFields,eL,eP,eT,eR,eM=X.dataItems[0],eV={};if(eM&&!s(eM)&&!U(eM)){var eO=function(){};eO.prototype=eM;eV=new eO()}for(eL=0;eL<eN.length;eL++){eP=eN[eL];eT=eQ._bindField(X.values,eP.canonicalName);eR=eP.transform(eT,Y,X.dataItems,eS);if(eR!==null&&typeof eR===d&&!bO(eR.length)){eV=eR;break}else{if(bO(eR)){d2(eP.name,eV);cX.setter(eP.name)(eV,eR)}}}return eV},_bindPoints:function(eQ){var X=this,Y=X._binder,eP=X._series,eM=[],eN=[],eO,eL;for(eO=0;eO<eQ.length;eO++){eL=eQ[eO];eM.push(Y.bindPoint(eP,eL));eN.push(eP.data[eL])}return{values:eM,dataItems:eN}},_bindField:function(eP,eQ){var Y=[],eN=eP.length,eL,eM,eO,X;for(eL=0;eL<eN;eL++){eM=eP[eL];X=eM.valueFields;if(bO(X[eQ])){eO=X[eQ]}else{eO=eM.fields[eQ]}Y.push(eO)}return Y}};var cL=az.extend({init:function(X){this._axis=X},slot:function(Y,X){return this._axis.slot(Y,X)},range:function(){return this._axis.range()}});function bb(eL,Y,eN,eM){var X,eP=(eM.x-eN.x)*(eL.y-eN.y)-(eM.y-eN.y)*(eL.x-eN.x),eQ=(eM.y-eN.y)*(Y.x-eL.x)-(eM.x-eN.x)*(Y.y-eL.y),eO;if(eQ!==0){eO=(eP/eQ);X=new d1(eL.x+eO*(Y.x-eL.x),eL.y+eO*(Y.y-eL.y))}return X}function dW(eT,eQ){var eO=eT.series,eP,Y=eO.length,eM,eL=eT.seriesDefaults,eR=aL({},eT.seriesDefaults),X=eQ?aL({},eQ.seriesDefaults):{},eS=aL({},X);cN(eR);cN(eS);for(eP=0;eP<Y;eP++){eM=eO[eP].type||eT.seriesDefaults.type;var eN=aL({data:[]},eS,X[eM],{tooltip:eT.tooltip},eR,eL[eM]);eO[eP]._defaults=eN;eO[eP]=aL({},eN,eO[eP])}}function cN(X){delete X.bar;delete X.column;delete X.rangeColumn;delete X.line;delete X.verticalLine;delete X.pie;delete X.donut;delete X.area;delete X.verticalArea;delete X.scatter;delete X.scatterLine;delete X.bubble;delete X.candlestick;delete X.ohlc;delete X.boxPlot;delete X.bullet;delete X.verticalBullet;delete X.polarArea;delete X.polarLine;delete X.radarArea;delete X.radarLine;delete X.waterfall}function ah(eL){var eO=eL.series,Y=eL.seriesColors||[],eN,eM,X,eP;for(eN=0;eN<eO.length;eN++){eM=eO[eN];X=Y[eN%Y.length];eM.color=eM.color||X;eP=eM._defaults;if(eP){eP.color=eP.color||X}}}function y(X){var Y;bG([cQ,cS,d8,d7],function(){Y=this+"Axes";if(X[Y]){X[this+"Axis"]=X[Y];delete X[Y]}})}function v(Y,X){var eL=((X||{}).axisDefaults)||{};bG([cQ,cS,d8,d7],function(){var eO=this+"Axis",eN=[].concat(Y[eO]),eM=Y.axisDefaults||{};eN=er.map(eN,function(eR){var eQ=(eR||{}).color;var eP=aL({},eL,eL[eO],eM,eM[eO],{line:{color:eQ},labels:{color:eQ},title:{color:eQ}},eR);delete eP[eO];return eP});Y[eO]=eN.length>1?eN:eN[0]})}function dq(eL){var eM=eL.length,X=0,Y;for(Y=0;Y<eM;Y++){X=eC.max(X,eL[Y].data.length)}return X}function at(X){return X*X}eF(er.easing,{easeOutElastic:function(eP,eO,eN,eM){var Y=1.70158,eL=0,X=eM;if(eP===0){return eN}if(eP===1){return eN+eM}if(!eL){eL=0.5}if(X<eC.abs(eM)){X=eM;Y=eL/4}else{Y=eL/(2*eC.PI)*eC.asin(eM/X)}return X*eC.pow(2,-10*eP)*eC.sin((eP*1-Y)*(1.1*eC.PI)/eL)+eM+eN}});function c4(Y,eL){if(eL===null){return eL}var X=co(Y,true);return X(eL)}function ai(eL,eM){if(eM===null){return eM}var X="_date_"+eL,Y=eM[X];if(!Y){Y=cA(co(eL,true)(eM));eM[X]=Y}return Y}function cA(eL){var X,Y;if(eL instanceof Date){X=eL}else{if(typeof eL===k){X=cX.parseDate(eL)||new Date(eL)}else{if(eL){if(U(eL)){X=[];for(Y=0;Y<eL.length;Y++){X.push(cA(eL[Y]))}}else{X=new Date(eL)}}}}return X}function bK(X){if(U(X)){return bp(X,bK)}else{if(X){return cA(X).getTime()}}}function cG(eL,eO,eN,eM){var X=eL,Y;if(eL){eL=cA(eL);Y=eL.getHours();if(eN===et){X=new Date(eL.getFullYear()+eO,0,1);cX.date.adjustDST(X,0)}else{if(eN===q){X=new Date(eL.getFullYear(),eL.getMonth()+eO,1);cX.date.adjustDST(X,Y)}else{if(eN===bu){X=cG(cV(eL,eM),eO*7,c2);cX.date.adjustDST(X,Y)}else{if(eN===c2){X=new Date(eL.getFullYear(),eL.getMonth(),eL.getDate()+eO);cX.date.adjustDST(X,Y)}else{if(eN===c0){X=new Date(eL.getFullYear(),eL.getMonth(),eL.getDate(),eL.getHours()+eO);if(eO>0&&ds(eL,X)){X=cG(eL,eO+1,eN,eM)}}else{if(eN===D){X=new Date(eL.getTime()+eO*aC);if(X.getSeconds()>0){X.setSeconds(0)}}else{if(eN===b8){X=new Date(eL.getTime()+eO*cW)}}}}}}}if(X.getMilliseconds()>0){X.setMilliseconds(0)}}return X}function cV(eL,eM){var X=eL.getDay(),Y=0;if(!isNaN(X)){eM=eM||0;while(X!==eM){if(X===0){X=6}else{X--}Y++}}return m(eL,-Y*dA)}function ej(X,eL,Y){X=cA(X);return cG(X,0,eL,Y)}function aN(X,eL,Y){X=cA(X);if(X&&ej(X,eL,Y).getTime()===X.getTime()){return X}return cG(X,1,eL,Y)}function R(Y,X){var eM=Y.getTime()-X,eL=Y.getTimezoneOffset()-X.getTimezoneOffset();return eM-(eL*aC)}function m(Y,eM){var eL=Y.getTimezoneOffset(),X=new Date(Y.getTime()+eM),eN=X.getTimezoneOffset()-eL;return new Date(X.getTime()+eN*aC)}function cm(Y,X,eL){var eM;if(eL===et){eM=X.getFullYear()-Y.getFullYear()}else{if(eL===q){eM=cm(Y,X,et)*12+X.getMonth()-Y.getMonth()}else{if(eL===c2){eM=eC.floor(R(X,Y)/dA)}else{eM=eC.floor((X-Y)/a3[eL])}}}return eM}function ak(X){return X.length===1?X[0]:X}function bZ(eN){var eM=eN.length,eL,Y,X;if(eM>0){for(Y=0;Y<eM;Y++){X=eN[Y].contentBox();if(!eL){eL=X.clone()}else{eL.wrap(X)}}}return eL||cK()}function cy(Y,X){if(Y&&X){return Y.toLowerCase()===X.toLowerCase()}return Y===X}function ds(Y,X){if(Y&&X){return bK(Y)===bK(X)}return Y===X}function t(eL){var X=eL.length,Y;while(X--){Y=eL[X];if(bO(Y)&&Y!==null){return Y}}}function af(Y,X){if(X!==null){Y.push(X)}}function S(eM,eL){var X=0,eO=eL.length-1,eN,Y;while(X<=eO){eN=eC.floor((X+eO)/2);Y=eL[eN];if(Y<eM){X=eN+1;continue}if(Y>eM){eO=eN-1;continue}while(ds(eL[eN-1],eM)){eN--}return eN}if(eL[eN]<=eM){return eN}else{return eN-1}}function s(X){return typeof X==="number"&&!isNaN(X)}function ad(X){var eN=X.length,eM=0,eL,Y;for(eL=0;eL<eN;eL++){Y=X[eL];if(s(Y)){eM++}}return eM}function J(X){return ad(X)===X.length}function cI(eM){var Y,eL,eN,X={};for(Y=0;Y<eM.length;Y++){eL=eM[Y];eN=eL.options.name;if(eN){X[eN]=eL.range()}}return X}function bm(eS,eM,X,eP){var eR,eL,eQ,eN,eO,Y=false;X=X||{};eQ=X.excluded=X.excluded||[];eN=X.defaults=X.defaults||{};eO=X.depth=X.depth||0;if(eO>eh){return}for(eR in eS){if(!dO(eR,X.excluded)&&eS.hasOwnProperty(eR)){eL=eS[eR];if(cP(eL)){Y=true;if(!eP){eS[eR]=bQ(eL(eM),eN[eR])}}else{if(typeof eL===d){X.defaults=eN[eR];X.depth++;Y=bm(eL,eM,X,eP)||Y;X.depth--}}}}return Y}function aw(Y,eN){var X=[],eQ,eL=Y.groupNameTemplate,eM,eO=eN.length,eP;if(eO===0){eP=aL({},Y);eP.visibleInLegend=false;return[eP]}if(bO(eL)){cX.logToConsole("'groupNameTemplate' is obsolete and will be removed in future versions. Specify the group name template as 'series.name'");if(eL){eQ=l(eL)}}else{eQ=l(Y.name||"");if(eQ._slotCount===0){eQ=l(bO(Y.name)?"#= group.value #: #= series.name #":"#= group.value #")}}for(eM=0;eM<eO;eM++){eP=aL({},Y);if(!cP(eP.color)){eP.color=es}eP._groupIx=eM;X.push(eP);if(eQ){eP.name=eQ({series:eP,group:eN[eM]})}}return X}function aZ(eN,eM){var eL,Y,X=[];eM=[].concat(eM);for(eL=0;eL<eN.length;eL++){Y=eN[eL];if(dO(Y.type,eM)){X.push(Y)}}return X}function cs(eM,X){if(eM instanceof Date){for(var Y=0,eL=X.length;Y<eL;Y++){if(ds(X[Y],eM)){return Y}}return -1}else{return er.inArray(eM,X)}}function de(eM,Y){Y=Y||bx;for(var X=1,eL=eM.length;X<eL;X++){if(Y(eM[X],eM[X-1])<0){eM.sort(Y);break}}return eM}function V(eO,eL){var Y,eN=de(eO,eL),eM=eN.length,X=eM>0?[eN[0]]:[];eL=eL||bx;for(Y=1;Y<eM;Y++){if(eL(eN[Y],dV(X))!==0){X.push(eN[Y])}}return X}function cE(eM,X){var Y=eM.type,eL=X instanceof Date;return(!Y&&eL)||cy(Y,eb)}function db(eM){var X=[],Y=eM.length,eP,eO,eN,eL;for(eP=0;eP<Y;eP++){eO=eM[eP];eL=eO.length;for(eN=0;eN<eL;eN++){X[eN]=X[eN]||[];X[eN].push(eO[eN])}}return X}function d2(eN,eL){if(eN.indexOf(".")>-1){var Y=eN.split("."),X="",eM;while(Y.length>1){X+=Y.shift();eM=cX.getter(X)(eL)||{};cX.setter(X)(eL,eM);X+="."}}}function bU(eL){var eO=eL.data;var eM=0;for(var Y=0;Y<eO.length;Y++){var X=bA.current.bindPoint(eL,Y);var eN=X.valueFields.value;if(typeof eN===k){eN=parseFloat(eN)}if(s(eN)&&X.fields.visible!==false){eM+=eC.abs(eN)}}return eM}function aB(Y){var X=Y.overlay;return X&&X.gradient&&X.gradient!="none"}function Z(){return this}function cY(Y){for(var X=0;X<Y.length;X++){if(bO(Y[X].zIndex)){return true}}}function a9(){this._defaultPrevented=true}function ee(eL,Y){if(eL){for(var X=0;X<eL.length;X++){if(eL[X].category===Y){return[eL[X]]}}}}function eE(X){return bO(X)&&X!==null}ck.ui.plugin(cF);a8.current.register(dX,[cr,bH,bD,eJ,dg,bi,ac,ar,dc,a0,bt,ay,aQ,bC,eG]);a8.current.register(aY,[ab,M,bE]);a8.current.register(dU,[dh]);a8.current.register(E,[cv]);bA.current.register([cr,bH,bD,eJ,dg,bi],[cS],[cQ,bL,aS,eg,cb]);bA.current.register([ay,aQ],[O,cd],[cQ,bL,aS]);bA.current.register([bC,eG],[cS],[cQ,bL,aS,dJ]);bg.current.register([cr,bH,bD,eJ,dg,bi,bC,eG],{value:dw,color:cq,noteText:cq,errorLow:b7,errorHigh:dw});bg.current.register([ay,aQ],{from:b7,to:dw,color:cq,noteText:cq});bA.current.register([ab,M,bE],[d8,d7],[bL,aS,ap,L,A,dl]);bA.current.register([bE],[d8,d7,"size"],[bL,cQ,aS]);bA.current.register([ac,ar],["open","high","low","close"],[cQ,bL,"downColor",aS]);bg.current.register([ac,ar],{open:dw,high:dw,low:b7,close:dw,color:cq,downColor:cq,noteText:cq});bA.current.register([bt],["lower","q1","median","q3","upper","mean","outliers"],[cQ,bL,aS]);bg.current.register([bt],{lower:dw,q1:dw,median:dw,q3:dw,upper:dw,mean:dw,outliers:cq,color:cq,noteText:cq});bA.current.register([dc,a0],["current","target"],[cQ,bL,"visibleInLegend",aS]);bg.current.register([dc,a0],{current:dw,target:dw,color:cq,noteText:cq});bA.current.register([dh,cv],[cS],[cQ,bL,"explode","visibleInLegend","visible"]);aL(ck,{EQUALLY_SPACED_SERIES:dG,Aggregates:ci,AreaChart:eq,AreaSegment:ax,AxisGroupRangeTracker:en,Bar:aF,BarChart:du,BarLabel:bf,BubbleChart:T,Bullet:an,BulletChart:dn,CandlestickChart:em,Candlestick:bc,CategoricalChart:dY,CategoricalErrorBar:cJ,CategoricalPlotArea:dX,CategoryAxis:bS,ChartAxis:cL,ChartContainer:dS,ClipAnimation:df,ClusterLayout:bh,Crosshair:dj,CrosshairTooltip:F,DateCategoryAxis:bX,DateValueAxis:aA,DefaultAggregates:bg,DonutChart:ex,DonutPlotArea:E,DonutSegment:cT,ErrorBarBase:c1,ErrorRangeCalculator:bd,Highlight:aJ,SharedTooltip:bF,Legend:dx,LegendItem:au,LegendLayout:ez,LineChart:ch,LinePoint:d6,LineSegment:cZ,Pane:cC,PieAnimation:cU,PieChart:b4,PieChartMixin:eH,PiePlotArea:dU,PieSegment:dN,PlotAreaBase:c5,PlotAreaFactory:a8,PointEventsMixin:p,RangeBar:dH,RangeBarChart:aj,ScatterChart:da,ScatterErrorBar:ey,ScatterLineChart:aR,Selection:eo,SeriesAggregator:b0,SeriesBinder:bA,ShapeElement:u,SplineSegment:b1,SplineAreaSegment:dZ,StackWrap:dK,Tooltip:dP,OHLCChart:f,OHLCPoint:by,WaterfallChart:bj,WaterfallSegment:dC,XYPlotArea:aY,addDuration:cG,areNumbers:J,axisGroupBox:bZ,categoriesCount:dq,ceilDate:aN,countNumbers:ad,duration:cm,ensureTree:d2,indexOf:cs,isNumber:s,floorDate:ej,filterSeriesByType:aZ,hasValue:eE,lteDateIndex:S,evalOptions:bm,seriesTotal:bU,singleItemOrArray:ak,sortDates:de,startOfWeek:cV,transpose:db,toDate:cA,toTime:bK,uniqueDates:V})})(window.kendo.jQuery);(function(ak,p){var B=Math,k=window.kendo,aD=k.deepExtend,al=k.util,A=al.append,aa=k.drawing,ay=k.geometry,S=k.dataviz,w=S.AreaSegment,t=S.Axis,ae=S.AxisGroupRangeTracker,h=S.BarChart,l=S.Box2D,H=S.CategoryAxis,r=S.CategoricalChart,G=S.CategoricalPlotArea,Z=S.ChartElement,ar=S.CurveProcessor,aG=S.DonutSegment,V=S.LineChart,c=S.LineSegment,aw=S.LogarithmicAxis,R=S.NumericAxis,an=S.PlotAreaBase,y=S.PlotAreaFactory,a=S.Point2D,D=S.Ring,z=S.ScatterChart,f=S.ScatterLineChart,e=S.SeriesBinder,n=S.ShapeBuilder,af=S.SplineSegment,av=S.SplineAreaSegment,m=S.getSpacing,ai=S.filterSeriesByType,ax=al.limitValue,x=S.round;var u="arc",o="#000",C=S.COORD_PRECISION,aA=0.15,ag=B.PI/180,aj="gap",J="interpolate",P="log",ab="plotAreaClick",ad="polarArea",am="polarLine",F="polarScatter",I="radarArea",aI="radarColumn",T="radarLine",aF="smooth",O="x",M="y",E="zero",s=[ad,am,F],aC=[I,aI,T];var ac={createGridLines:function(aN){var aL=this,aJ=aL.options,Y=B.abs(aL.box.center().y-aN.lineBox().y1),aM,X,aO=false,aK=[];if(aJ.majorGridLines.visible){aM=aL.majorGridLineAngles(aN);aO=true;aK=aL.renderMajorGridLines(aM,Y,aJ.majorGridLines)}if(aJ.minorGridLines.visible){X=aL.minorGridLineAngles(aN,aO);A(aK,aL.renderMinorGridLines(X,Y,aJ.minorGridLines,aN,aO))}return aK},renderMajorGridLines:function(aJ,X,Y){return this.renderGridLines(aJ,X,Y)},renderMinorGridLines:function(aM,X,aJ,aK,aL){var Y=this.radiusCallback&&this.radiusCallback(X,aK,aL);return this.renderGridLines(aM,X,aJ,Y)},renderGridLines:function(aN,aM,aQ,aO){var aJ={stroke:{width:aQ.width,color:aQ.color,dashType:aQ.dashType}};var X=this.box.center();var Y=new ay.Circle([X.x,X.y],aM);var aK=this.gridLinesVisual();for(var aL=0;aL<aN.length;aL++){var aP=new aa.Path(aJ);if(aO){Y.radius=aO(aN[aL])}aP.moveTo(Y.center).lineTo(Y.pointAt(aN[aL]));aK.append(aP)}return aK.children},gridLineAngles:function(aK,aO,aN,aJ,X){var aL=this,aM=aL.intervals(aO,aN,aJ,X),aP=aK.options,Y=aP.visible&&(aP.line||{}).visible!==false;return ak.map(aM,function(aR){var aQ=aL.intervalAngle(aR);if(!Y||aQ!==90){return aQ}})}};var W=H.extend({options:{startAngle:90,labels:{margin:m(10)},majorGridLines:{visible:true},justified:true},range:function(){return{min:0,max:this.options.categories.length}},reflow:function(X){this.box=X;this.reflowLabels()},lineBox:function(){return this.box},reflowLabels:function(){var aL=this,X=aL.options.labels,aN=X.skip||0,aM=X.step||1,aK=new l(),aO=aL.labels,aJ,Y;for(Y=0;Y<aO.length;Y++){aO[Y].reflow(aK);aJ=aO[Y].box;aO[Y].reflow(aL.getSlot(aN+Y*aM).adjacentBox(0,aJ.width(),aJ.height()))}},intervals:function(aS,aR,Y,X){var aJ=this,aT=aJ.options,aN=aT.categories.length,aK=0,aQ=0,aO=aN/aS||1,aL=360/aO,aP=[],aM;aR=aR||0;Y=Y||1;for(aM=aR;aM<aO;aM+=Y){if(aT.reverse){aK=360-aM*aL}else{aK=aM*aL}aK=x(aK,C)%360;if(!(X&&S.inArray(aK,X))){aP.push(aK)}}return aP},majorIntervals:function(){return this.intervals(1)},minorIntervals:function(){return this.intervals(0.5)},intervalAngle:function(X){return(360+X+this.options.startAngle)%360},majorAngles:function(){return ak.map(this.majorIntervals(),ak.proxy(this.intervalAngle,this))},createLine:function(){return[]},majorGridLineAngles:function(Y){var X=this.options.majorGridLines;return this.gridLineAngles(Y,1,X.skip,X.step)},minorGridLineAngles:function(aK,aM){var Y=this.options;var X=Y.minorGridLines;var aJ=Y.majorGridLines;var aL=aM?this.intervals(1,aJ.skip,aJ.step):null;return this.gridLineAngles(aK,0.5,X.skip,X.step,aL)},radiusCallback:function(X,aM,aN){if(aM.options.type!==u){var aK=360/(this.options.categories.length*2);var Y=B.cos(aK*ag)*X;var aL=this.majorAngles();var aJ=function(aO){if(!aN&&S.inArray(aO,aL)){return X}else{return Y}};return aJ}},createPlotBands:function(){var X=this,aR=X.options,aP=aR.plotBands||[],aK,aQ,aN,aJ,aM,aL;var aO=this._plotbandGroup=new aa.Group({zIndex:-1});for(aK=0;aK<aP.length;aK++){aQ=aP[aK];aN=X.plotBandSlot(aQ);aJ=X.getSlot(aQ.from);aM=aQ.from-B.floor(aQ.from);aN.startAngle+=aM*aJ.angle;aL=B.ceil(aQ.to)-aQ.to;aN.angle-=(aL+aM)*aJ.angle;var Y=n.current.createRing(aN,{fill:{color:aQ.color,opacity:aQ.opacity},stroke:{opacity:aQ.opacity}});aO.append(Y)}X.appendVisual(aO)},plotBandSlot:function(X){return this.getSlot(X.from,X.to-1)},getSlot:function(aQ,aR){var Y=this,aS=Y.options,aL=aS.justified,aM=Y.box,aP=Y.majorAngles(),aN=aP.length,aO,aK=360/aN,X,aJ;if(aS.reverse&&!aL){aQ=(aQ+1)%aN}aQ=ax(B.floor(aQ),0,aN-1);X=aP[aQ];if(aL){X=X-aK/2;if(X<0){X+=360}}aR=ax(B.ceil(aR||aQ),aQ,aN-1);aO=aR-aQ+1;aJ=aK*aO;return new D(aM.center(),0,aM.height()/2,X,aJ)},slot:function(aM,aL){var Y=this.options;var aK=this.getSlot(aM,aL);var aJ=aK.startAngle+180;var X=aJ+aK.angle;return new ay.Arc([aK.c.x,aK.c.y],{startAngle:aJ,endAngle:X,radiusX:aK.r,radiusY:aK.r})},pointCategoryIndex:function(X){var aK=this,Y=null,aJ,aL=aK.options.categories.length,aM;for(aJ=0;aJ<aL;aJ++){aM=aK.getSlot(aJ);if(aM.containsPoint(X)){Y=aJ;break}}return Y}});aD(W.fn,ac);var d={options:{majorGridLines:{visible:true}},createPlotBands:function(){var aJ=this,aU=aJ.options,aS=aU.plotBands||[],aO=aU.majorGridLines.type,Y=aJ.plotArea.polarAxis,aQ=Y.majorAngles(),X=Y.box.center(),aM,aT,aK,aP,aL;var aR=this._plotbandGroup=new aa.Group({zIndex:-1});for(aM=0;aM<aS.length;aM++){aT=aS[aM];aK={fill:{color:aT.color,opacity:aT.opacity},stroke:{opacity:aT.opacity}};aP=aJ.getSlot(aT.from,aT.to,true);aL=new D(X,X.y-aP.y2,X.y-aP.y1,0,360);var aN;if(aO===u){aN=n.current.createRing(aL,aK)}else{aN=aa.Path.fromPoints(aJ.plotBandPoints(aL,aQ),aK).close()}aR.append(aN)}aJ.appendVisual(aR)},plotBandPoints:function(aK,aO){var aJ=[],Y=[];var X=[aK.c.x,aK.c.y];var aN=new ay.Circle(X,aK.ir);var aM=new ay.Circle(X,aK.r);for(var aL=0;aL<aO.length;aL++){aJ.push(aN.pointAt(aO[aL]));Y.push(aM.pointAt(aO[aL]))}aJ.reverse();aJ.push(aJ[0]);Y.push(Y[0]);return Y.concat(aJ)},createGridLines:function(aN){var aL=this,aJ=aL.options,aO=aL.radarMajorGridLinePositions(),aM=aN.majorAngles(),Y,X=aN.box.center(),aK=[];if(aJ.majorGridLines.visible){aK=aL.renderGridLines(X,aO,aM,aJ.majorGridLines)}if(aJ.minorGridLines.visible){Y=aL.radarMinorGridLinePositions();A(aK,aL.renderGridLines(X,Y,aM,aJ.minorGridLines))}return aK},renderGridLines:function(X,aQ,aP,aS){var aM=this,Y,aN,aO;var aL={stroke:{width:aS.width,color:aS.color,dashType:aS.dashType}};var aK=this.gridLinesVisual();for(aN=0;aN<aQ.length;aN++){Y=X.y-aQ[aN];if(Y>0){var aJ=new ay.Circle([X.x,X.y],Y);if(aS.type===u){aK.append(new aa.Circle(aJ,aL))}else{var aR=new aa.Path(aL);for(aO=0;aO<aP.length;aO++){aR.lineTo(aJ.pointAt(aP[aO]))}aR.close();aK.append(aR)}}}return aK.children},getValue:function(aT){var aN=this,aW=aN.options,aQ=aN.lineBox(),aM=aN.plotArea.polarAxis,aS=aM.majorAngles(),Y=aM.box.center(),X=aT.distanceTo(Y),aJ=X;if(aW.majorGridLines.type!==u&&aS.length>1){var aV=aT.x-Y.x,aU=aT.y-Y.y,aK=(B.atan2(aU,aV)/ag+540)%360;aS.sort(function(aY,aX){return L(aY,aK)-L(aX,aK)});var aL=L(aS[0],aS[1])/2,aP=L(aK,aS[0]),aO=90-aL,aR=180-aP-aO;aJ=X*(B.sin(aR*ag)/B.sin(aO*ag))}return aN.axisType().fn.getValue.call(aN,new a(aQ.x1,aQ.y2-aJ))}};var g=R.extend({radarMajorGridLinePositions:function(){return this.getTickPositions(this.options.majorUnit)},radarMinorGridLinePositions:function(){var aJ=this,Y=aJ.options,X=0;if(Y.majorGridLines.visible){X=Y.majorUnit}return aJ.getTickPositions(Y.minorUnit,X)},axisType:function(){return R}});aD(g.fn,d);var q=aw.extend({radarMajorGridLinePositions:function(){var Y=this,X=[];Y.traverseMajorTicksPositions(function(aJ){X.push(aJ)},Y.options.majorGridLines);return X},radarMinorGridLinePositions:function(){var Y=this,X=[];Y.traverseMinorTicksPositions(function(aJ){X.push(aJ)},Y.options.minorGridLines);return X},axisType:function(){return aw}});aD(q.fn,d);var aH=t.extend({init:function(X){var Y=this;t.fn.init.call(Y,X);X=Y.options;X.minorUnit=X.minorUnit||Y.options.majorUnit/2},options:{type:"polar",startAngle:0,reverse:false,majorUnit:60,min:0,max:360,labels:{margin:m(10)},majorGridLines:{color:o,visible:true,width:1},minorGridLines:{color:"#aaa"}},getDivisions:function(X){return R.fn.getDivisions.call(this,X)-1},reflow:function(X){this.box=X;this.reflowLabels()},reflowLabels:function(){var Y=this,aQ=Y.options,aK=aQ.labels,aO=aK.skip||0,X=aK.step||1,aM=new l(),aN=Y.intervals(aQ.majorUnit,aO,X),aL=Y.labels,aP,aJ;for(aJ=0;aJ<aL.length;aJ++){aL[aJ].reflow(aM);aP=aL[aJ].box;aL[aJ].reflow(Y.getSlot(aN[aJ]).adjacentBox(0,aP.width(),aP.height()))}},lineBox:function(){return this.box},intervals:function(aQ,aP,aJ,X){var aK=this,aR=aK.options,Y=aK.getDivisions(aQ),aL=aR.min,aN,aO=[],aM;aP=aP||0;aJ=aJ||1;for(aM=aP;aM<Y;aM+=aJ){aN=(360+aL+aM*aQ)%360;if(!(X&&S.inArray(aN,X))){aO.push(aN)}}return aO},majorIntervals:function(){return this.intervals(this.options.majorUnit)},minorIntervals:function(){return this.intervals(this.options.minorUnit)},intervalAngle:function(X){return(540-X-this.options.startAngle)%360},majorAngles:W.fn.majorAngles,createLine:function(){return[]},majorGridLineAngles:function(Y){var X=this.options.majorGridLines;return this.gridLineAngles(Y,this.options.majorUnit,X.skip,X.step)},minorGridLineAngles:function(aK,aM){var Y=this.options;var X=Y.minorGridLines;var aJ=Y.majorGridLines;var aL=aM?this.intervals(Y.majorUnit,aJ.skip,aJ.step):null;return this.gridLineAngles(aK,this.options.minorUnit,X.skip,X.step,aL)},createPlotBands:W.fn.createPlotBands,plotBandSlot:function(X){return this.getSlot(X.from,X.to)},getSlot:function(Y,X){var aL=this,aJ=aL.options,aN=aJ.startAngle,aM=aL.box,aK;Y=ax(Y,aJ.min,aJ.max);X=ax(X||Y,Y,aJ.max);if(aJ.reverse){Y*=-1;X*=-1}Y=(540-Y-aN)%360;X=(540-X-aN)%360;if(X<Y){aK=Y;Y=X;X=aK}return new D(aM.center(),0,aM.height()/2,Y,X-Y)},slot:function(aM,aN){var aP=this.options;var X=360-aP.startAngle;var aO=this.getSlot(aM,aN);var aK;var Y;var aJ;var aL;if(!S.util.defined(aN)){aN=aM}aJ=B.min(aM,aN);aL=B.max(aM,aN);if(aP.reverse){aK=aJ;Y=aL}else{aK=360-aL;Y=360-aJ}aK=(aK+X)%360;Y=(Y+X)%360;return new ay.Arc([aO.c.x,aO.c.y],{startAngle:aK,endAngle:Y,radiusX:aO.r,radiusY:aO.r})},getValue:function(Y){var aN=this,aL=aN.options,X=aN.box.center(),aK=Y.x-X.x,aJ=Y.y-X.y,aM=B.round(B.atan2(aJ,aK)/ag),aO=aL.startAngle;if(!aL.reverse){aM*=-1;aO*=-1}return(aM+aO+360)%360},range:R.fn.range,labelsCount:R.fn.labelsCount,createAxisLabel:R.fn.createAxisLabel});aD(aH.fn,ac);var N=Z.extend({options:{gap:1,spacing:0},reflow:function(aK){var aR=this,aS=aR.options,X=aR.children,aQ=aS.gap,aP=aS.spacing,aN=X.length,aO=aN+aQ+(aP*(aN-1)),aJ=aK.angle/aO,aL,Y=aK.startAngle+aJ*(aQ/2),aM;for(aM=0;aM<aN;aM++){aL=aK.clone();aL.startAngle=Y;aL.angle=aJ;if(X[aM].sector){aL.r=X[aM].sector.r}X[aM].reflow(aL);X[aM].sector=aL;Y+=aJ+(aJ*aP)}}});var aB=Z.extend({reflow:function(aJ){var aP=this,aO=aP.options.isReversed,X=aP.children,aK=X.length,aN,aL,aM=aO?aK-1:0,Y=aO?-1:1;aP.box=new l();for(aL=aM;aL>=0&&aL<aK;aL+=Y){aN=X[aL].sector;aN.startAngle=aJ.startAngle;aN.angle=aJ.angle}}});var i=aG.extend({init:function(Y,X){aG.fn.init.call(this,Y,null,X)},options:{overlay:{gradient:null},labels:{distance:10}}});var K=h.extend({pointType:function(){return i},clusterType:function(){return N},stackType:function(){return aB},categorySlot:function(Y,X){return Y.getSlot(X)},pointSlot:function(X,Y){var aK=X.clone(),aJ=X.c.y;aK.r=aJ-Y.y1;aK.ir=aJ-Y.y2;return aK},reflow:r.fn.reflow,reflowPoint:function(X,Y){X.sector=Y;X.reflow()},options:{clip:false,animation:{type:"pie"}},createAnimation:function(){this.options.animation.center=this.box.toRect().center();h.fn.createAnimation.call(this)}});var ao=V.extend({options:{clip:false},pointSlot:function(Y,aJ){var X=Y.c.y-aJ.y1,aK=a.onCircle(Y.c,Y.middle(),X);return new l(aK.x,aK.y,aK.x,aK.y)},createSegment:function(aM,Y,X){var aK,aL,aJ=Y.style;if(aJ==aF){aL=af}else{aL=c}aK=new aL(aM,Y,X);if(aM.length===Y.data.length){aK.options.closed=true}return aK}});var aq=w.extend({points:function(){return c.fn.points.call(this,this.stackPoints)}});var j=av.extend({closeFill:ak.noop});var ap=ao.extend({createSegment:function(aL,aO,aQ,Y){var aK=this,aP=aK.options,aM=aP.isStacked,aN,aJ,X=(aO.line||{}).style;if(X===aF){aJ=new j(aL,Y,aM,aO,aQ);aJ.options.closed=true}else{if(aM&&aQ>0&&Y){aN=Y.linePoints.slice(0).reverse()}aL.push(aL[0]);aJ=new aq(aL,aN,aO,aQ)}return aJ},seriesMissingValues:function(X){return X.missingValues||E}});var U=z.extend({pointSlot:function(aK,Y){var X=aK.c.y-Y.y1,aJ=a.onCircle(aK.c,aK.startAngle,X);return new l(aJ.x,aJ.y,aJ.x,aJ.y)},options:{clip:false}});var at=f.extend({pointSlot:U.fn.pointSlot,options:{clip:false}});var aE=w.extend({points:function(){var aK=this,aJ=aK.parent,aM=aJ.plotArea,aL=aM.polarAxis,X=aL.box.center(),aN=aK.stackPoints,Y=c.fn.points.call(aK,aN);Y.unshift([X.x,X.y]);Y.push([X.x,X.y]);return Y}});var v=av.extend({closeFill:function(Y){var X=this._polarAxisCenter();Y.lineTo(X.x,X.y)},_polarAxisCenter:function(){var Y=this.parent,aK=Y.plotArea,aJ=aK.polarAxis,X=aJ.box.center();return X},strokeSegments:function(){var Y=this._strokeSegments;if(!Y){var X=this._polarAxisCenter(),aJ=new ar(false),aK=c.fn.points.call(this);aK.push(X);Y=this._strokeSegments=aJ.process(aK);Y.pop()}return Y}});var au=at.extend({createSegment:function(aL,Y,X){var aK,aJ=(Y.line||{}).style;if(aJ==aF){aK=new v(aL,null,false,Y,X)}else{aK=new aE(aL,[],Y,X)}return aK},createMissingValue:function(aJ,X){var Y;if(S.hasValue(aJ.x)&&X!=J){Y={x:aJ.x,y:aJ.y};if(X==E){Y.y=0}}return Y},seriesMissingValues:function(X){return X.missingValues||E},_hasMissingValuesGap:function(){var Y=this.options.series;for(var X=0;X<Y.length;X++){if(this.seriesMissingValues(Y[X])===aj){return true}}},sortPoints:function(aJ){var aK,aL,Y;aJ.sort(Q);if(this._hasMissingValuesGap()){for(var X=0;X<aJ.length;X++){Y=aJ[X];if(Y){aL=Y.value;if(!S.hasValue(aL.y)&&this.seriesMissingValues(Y.series)===aj){delete aJ[X]}}}}return aJ}});var az=an.extend({init:function(Y,X){var aJ=this;aJ.valueAxisRangeTracker=new ae();an.fn.init.call(aJ,Y,X)},render:function(){var X=this;X.addToLegend(X.series);X.createPolarAxis();X.createCharts();X.createValueAxis()},alignAxes:function(){var aK=this.valueAxis;var Y=aK.range();var aM=aK.options.reverse?Y.max:Y.min;var aL=aK.getSlot(aM);var X=this.polarAxis.getSlot(0).c;var aJ=aK.box.translate(X.x-aL.x1,X.y-aL.y1);aK.reflow(aJ)},createValueAxis:function(){var aM=this,aK=aM.valueAxisRangeTracker,aL=aK.query(),Y,aO,aN=aM.valueAxisOptions({roundToMajorUnit:false,zIndex:-1}),X,aJ;if(aN.type===P){X=q;aJ={min:0.1,max:1}}else{X=g;aJ={min:0,max:1}}Y=aK.query(name)||aL||aJ;if(Y&&aL){Y.min=B.min(Y.min,aL.min);Y.max=B.max(Y.max,aL.max)}aO=new X(Y.min,Y.max,aN);aM.valueAxis=aO;aM.appendAxis(aO)},reflowAxes:function(){var X=this,aQ=X.options.plotArea,aP=X.valueAxis,aK=X.polarAxis,aL=X.box,Y=B.min(aL.width(),aL.height())*aA,aN=m(aQ.padding||{},Y),aO=aL.clone().unpad(aN),aM=aO.clone().shrink(0,aO.height()/2);aK.reflow(aO);aP.reflow(aM);var aJ=aP.lineBox().height()-aP.box.height();aP.reflow(aP.box.unpad({top:aJ}));X.axisBox=aO;X.alignAxes(aO)},backgroundBox:function(){return this.box}});var b=az.extend({options:{categoryAxis:{categories:[]},valueAxis:{}},createPolarAxis:function(){var X=this,Y;Y=new W(X.options.categoryAxis);X.polarAxis=Y;X.categoryAxis=Y;X.appendAxis(Y)},valueAxisOptions:function(Y){var X=this;if(X._hasBarCharts){aD(Y,{majorGridLines:{type:u},minorGridLines:{type:u}})}if(X._isStacked100){aD(Y,{roundToMajorUnit:false,labels:{format:"P0"}})}return aD(Y,X.options.valueAxis)},appendChart:G.fn.appendChart,createCharts:function(){var Y=this,X=Y.filterVisibleSeries(Y.series),aJ=Y.panes[0];Y.createAreaChart(ai(X,[I]),aJ);Y.createLineChart(ai(X,[T]),aJ);Y.createBarChart(ai(X,[aI]),aJ)},chartOptions:function(aK){var aJ={series:aK};var aL=aK[0];if(aL){var Y=this.filterVisibleSeries(aK);var X=aL.stack;aJ.isStacked=X&&Y.length>1;aJ.isStacked100=X&&X.type==="100%"&&Y.length>1;if(aJ.isStacked100){this._isStacked100=true}}return aJ},createAreaChart:function(Y,aJ){if(Y.length===0){return}var X=new ap(this,this.chartOptions(Y));this.appendChart(X,aJ)},createLineChart:function(Y,aJ){if(Y.length===0){return}var X=new ao(this,this.chartOptions(Y));this.appendChart(X,aJ)},createBarChart:function(Y,aL){if(Y.length===0){return}var aK=Y[0];var X=this.chartOptions(Y);X.gap=aK.gap;X.spacing=aK.spacing;var aJ=new K(this,X);this.appendChart(aJ,aL);this._hasBarCharts=true},seriesCategoryAxis:function(){return this.categoryAxis},click:function(Y,aN){var aM=this,aL=Y._eventCoordinates(aN),X=new a(aL.x,aL.y),aJ,aK;aJ=aM.categoryAxis.getCategory(X);aK=aM.valueAxis.getValue(X);if(aJ!==null&&aK!==null){Y.trigger(ab,{element:ak(aN.target),category:aJ,value:aK})}},createCrosshairs:ak.noop});var ah=az.extend({options:{xAxis:{},yAxis:{}},createPolarAxis:function(){var Y=this,X;X=new aH(Y.options.xAxis);Y.polarAxis=X;Y.axisX=X;Y.appendAxis(X)},valueAxisOptions:function(Y){var X=this;return aD(Y,{majorGridLines:{type:u},minorGridLines:{type:u}},X.options.yAxis)},createValueAxis:function(){var X=this;az.fn.createValueAxis.call(X);X.axisY=X.valueAxis},appendChart:function(X,aJ){var Y=this;Y.valueAxisRangeTracker.update(X.yAxisRanges);an.fn.appendChart.call(Y,X,aJ)},createCharts:function(){var Y=this,X=Y.filterVisibleSeries(Y.series),aJ=Y.panes[0];Y.createLineChart(ai(X,[am]),aJ);Y.createScatterChart(ai(X,[F]),aJ);Y.createAreaChart(ai(X,[ad]),aJ)},createLineChart:function(Y,aK){if(Y.length===0){return}var aJ=this,X=new at(aJ,{series:Y});aJ.appendChart(X,aK)},createScatterChart:function(X,aK){if(X.length===0){return}var Y=this,aJ=new U(Y,{series:X});Y.appendChart(aJ,aK)},createAreaChart:function(Y,aK){if(Y.length===0){return}var aJ=this,X=new au(aJ,{series:Y});aJ.appendChart(X,aK)},click:function(aK,aN){var aM=this,aL=aK._eventCoordinates(aN),X=new a(aL.x,aL.y),aJ,Y;aJ=aM.axisX.getValue(X);Y=aM.axisY.getValue(X);if(aJ!==null&&Y!==null){aK.trigger(ab,{element:ak(aN.target),x:aJ,y:Y})}},createCrosshairs:ak.noop});function Q(Y,X){return Y.value.x-X.value.x}function L(Y,X){return 180-B.abs(B.abs(Y-X)-180)}y.current.register(ah,s);y.current.register(b,aC);e.current.register(s,[O,M],["color"]);e.current.register(aC,["value"],["color"]);S.DefaultAggregates.current.register(aC,{value:"max",color:"first"});aD(S,{PolarAreaChart:au,PolarAxis:aH,PolarLineChart:at,PolarPlotArea:ah,RadarAreaChart:ap,RadarBarChart:K,RadarCategoryAxis:W,RadarClusterLayout:N,RadarLineChart:ao,RadarNumericAxis:g,RadarPlotArea:b,SplinePolarAreaSegment:v,SplineRadarAreaSegment:j,RadarStackLayout:aB})})(window.kendo.jQuery);(function(f,h){var u=window.kendo,r=u.deepExtend,C=f.extend,y=u.isFunction,G=u.template,b=u.util,A=b.append,p=u.drawing,w=u.geometry,m=u.dataviz,H=u.drawing.Color,k=m.ChartElement,n=m.PieChartMixin,v=m.PlotAreaBase,l=m.PlotAreaFactory,D=m.Point2D,e=m.Box2D,z=m.SeriesBinder,q=m.TextBox,F=m.autoFormat,c=m.evalOptions,s=b.limitValue,o=m.seriesTotal;var j="category",i="color",a="funnel",g="value",d="black",E="white";var B=v.extend({render:function(){var J=this,I=J.series;J.createFunnelChart(I)},createFunnelChart:function(J){var L=this,K=J[0],I=new t(L,{series:J,legend:L.options.legend,neckRatio:K.neckRatio,dynamicHeight:K.dynamicHeight,dynamicSlope:K.dynamicSlope,segmentSpacing:K.segmentSpacing,highlight:K.highlight});L.appendChart(I)},appendChart:function(I,J){v.fn.appendChart.call(this,I,J);A(this.options.legend.items,I.legendItems)}});var t=k.extend({init:function(K,I){var J=this;k.fn.init.call(J,I);J.plotArea=K;J.points=[];J.labels=[];J.legendItems=[];J.render()},options:{neckRatio:0.3,width:300,dynamicSlope:false,dynamicHeight:true,segmentSpacing:0,labels:{visible:false,align:"center",position:"center"}},formatPointValue:function(I,J){return F(J,I.value)},render:function(){var O=this,U=O.options,I=O.plotArea.options.seriesColors||[],S=I.length,L=U.series[0],T,N,K=L.data;if(!K){return}var P=o(L),R,J;for(J=0;J<K.length;J++){T=z.current.bindPoint(L,J);R=T.valueFields.value;if(R===null||R===h){continue}N=T.fields;if(!y(L.color)){L.color=N.color||I[J%S]}N=r({index:J,owner:O,series:L,category:N.category,dataItem:K[J],percentage:Math.abs(R)/P,visibleInLegend:N.visibleInLegend,visible:N.visible},N);var M=O.createSegment(R,N);var Q=O.createLabel(R,N);if(M&&Q){M.append(Q)}}},evalSegmentOptions:function(J,L,I){var K=I.series;c(J,{value:L,series:K,dataItem:I.dataItem,index:I.index},{defaults:K._defaults,excluded:["data","toggle","visual"]})},createSegment:function(M,I){var K=this,L;var J=r({},I.series);K.evalSegmentOptions(J,M,I);K.createLegendItem(M,J,I);if(I.visible!==false){L=new x(M,J,I);C(L,I);K.append(L);K.points.push(L);return L}},createLabel:function(O,L){var M=this,J=L.series,I=L.dataItem,K=r({},M.options.labels,J.labels),Q=O,N;if(K.visible){if(K.template){var P=G(K.template);Q=P({dataItem:I,value:O,percentage:L.percentage,category:L.category,series:J})}else{if(K.format){Q=F(K.format,Q)}}if(!K.color&&K.align==="center"){var R=new H(J.color).percBrightness();if(R>180){K.color=d}else{K.color=E}}M.evalSegmentOptions(K,O,L);N=new q(Q,r({vAlign:K.position},K));M.labels.push(N);return N}},labelPadding:function(){var N=this.labels,I,M,K,L={left:0,right:0},J;for(J=0;J<N.length;J++){I=N[J];M=I.options.align;if(M!=="center"){K=N[J].box.width();if(M==="left"){L.left=Math.max(L.left,K)}else{L.right=Math.max(L.right,K)}}}return L},reflow:function(ag){var V=this,J=V.options,aa=V.points,P=aa.length,ah=J.neckRatio<=1,ac,W,Q,ab,T,M,R=ag.clone().unpad(V.labelPadding()),X=R.width(),ad=0,S=ah?0:(X-X/J.neckRatio)/2,K=J.segmentSpacing,ae=J.dynamicSlope,af=R.height()-K*(P-1),I=ah?J.neckRatio*X:X;if(!P){return}if(ae){var L=aa[0],N=L;f.each(aa,function(ai,aj){if(aj.percentage>N.percentage){N=aj}});Q=(L.percentage/N.percentage)*X;S=(X-Q)/2;for(ac=0;ac<P;ac++){T=aa[ac].percentage;var Z=aa[ac+1],O=(Z?Z.percentage:T);ab=aa[ac].points=[];W=(J.dynamicHeight)?(af*T):(af/P);M=(X-Q*(O/T))/2;M=s(M,0,X);ab.push(new w.Point(R.x1+S,R.y1+ad));ab.push(new w.Point(R.x1+X-S,R.y1+ad));ab.push(new w.Point(R.x1+X-M,R.y1+W+ad));ab.push(new w.Point(R.x1+M,R.y1+W+ad));S=M;ad+=W+K;Q*=O/T;Q=s(Q,0,X)}}else{var Y=ah?X:X-S*2,U=(Y-I)/2;for(ac=0;ac<P;ac++){ab=aa[ac].points=[];T=aa[ac].percentage;M=(J.dynamicHeight)?(U*T):(U/P);W=(J.dynamicHeight)?(af*T):(af/P);ab.push(new w.Point(R.x1+S,R.y1+ad));ab.push(new w.Point(R.x1+X-S,R.y1+ad));ab.push(new w.Point(R.x1+X-S-M,R.y1+W+ad));ab.push(new w.Point(R.x1+S+M,R.y1+W+ad));S+=M;ad+=W+K}}for(ac=0;ac<P;ac++){aa[ac].reflow(ag)}}});r(t.fn,n);var x=k.extend({init:function(L,J,I){var K=this;k.fn.init.call(K,J);K.value=L;K.options.index=I.index},options:{color:E,border:{width:1}},reflow:function(J){var L=this,K=L.points,I=L.children[0];L.box=new e(K[0].x,K[0].y,K[1].x,K[2].y);if(I){I.reflow(new e(J.x1,K[0].y,J.x2,K[2].y))}},createVisual:function(){k.fn.createVisual.call(this);var J=this.options;var I=J.border;var K=p.Path.fromPoints(this.points,{fill:{color:J.color,opacity:J.opacity},stroke:{color:I.color,opacity:I.opacity,width:I.width}}).close();this.visual.append(K)},createHighlight:function(I){return p.Path.fromPoints(this.points,I)},highlightVisual:function(){return this.visual.children[0]},highlightVisualArgs:function(){var I=p.Path.fromPoints(this.points).close();return{options:this.options,path:I}},highlightOverlay:function(J,N){var L=this.options,O=L.highlight||{};if(O.visible===false){return}var K=O.border||{};var I=C({},N,{fill:O.color,stroke:K.color,strokeOpacity:K.opacity,strokeWidth:K.width,fillOpacity:O.opacity});var M=J.createPolyline(this.points,true,I);return M},tooltipAnchor:function(J){var I=this.box;return new D(I.center().x-(J/2),I.y1)},formatValue:function(J){var I=this;return I.owner.formatPointValue(I,J)}});r(x.fn,m.PointEventsMixin);l.current.register(B,[a]);z.current.register([a],[g],[j,i,"visibleInLegend","visible"]);r(m,{FunnelChart:t,FunnelSegment:x})})(window.kendo.jQuery);(function(ag,v){var G=Math,p=window.kendo,ai=p.util,m=p.ui.Widget,aw=p.deepExtend,W=p.dataviz,c=W.autoMajorUnit,Z=W.ChartElement,V=W.NumericAxis,y=W.Axis,q=W.Box2D,ao=p.Class,i=ai.defined,b=ag.isArray,F=ai.isNumber,J=W.interpolateValue,e=ai.valueOrDefault,s=W.getSpacing,C=W.round,ae=W.geometry,ab=W.drawing,g=ae.Point,R=ab.Circle,P=ab.Group,ac=ab.Path,A=ae.Rect,aq=ab.Text,a=ab.Surface;var E=150,af=250,d="arrow",ah="arrowPointer",r="barPointer",u="#000",o=0.05,H=W.COORD_PRECISION,M=Number.MAX_VALUE,f=-Number.MAX_VALUE,I=200,am=0.5,n=200,w=60,z=60,k=5,D=G.PI/180,h=180,l="inside",au="linear",j="needle",al="outside",aj="radialPointer",Q="x",N="y";var K=ao.extend({init:function(ay,Y){var ax=this;var X=ay.options;Z.fn.init.call(ax,Y);Y=ax.options;Y.fill=Y.color;ax.scale=ay;if(i(Y.value)){Y.value=G.min(G.max(Y.value,X.min),X.max)}else{Y.value=X.min}},options:{color:u},value:function(az){var ax=this;var Y=ax.options;var ay=Y.value;var X=ax.scale.options;if(arguments.length===0){return ay}Y._oldValue=(Y._oldValue!==v)?Y.value:X.min;Y.value=G.min(G.max(az,X.min),X.max);if(ax.elements){ax.repaint()}}});var O=K.extend({options:{shape:j,cap:{size:o},arrow:{width:16,height:14},animation:{type:aj,duration:E}},setRadius:function(X){var Y=this;if(X){Y.elements.clear();Y.render(Y.parent,Y.center,X)}},setAngle:function(X){this.elements.transform(ae.transform().rotate(X,this.center))},repaint:function(){var ax=this;var ay=ax.scale;var X=ax.options;var Y=ay.slotAngle(X._oldValue);var az=ay.slotAngle(X.value);if(X.animation.transitions===false){ax.setAngle(az)}else{new ap(ax.elements,aw(X.animation,{oldAngle:Y,newAngle:az})).play()}},render:function(){var ax=this;var aA=ax.scale;var X=aA.arc.center;var Y=ax.options;var az=aA.slotAngle(aA.options.min);var ay=new P();if(Y.animation!==false){aw(Y.animation,{startAngle:0,center:X,reverse:aA.options.reverse})}if(Y.shape===j){ay.append(ax._renderNeedle(),ax._renderCap())}else{ay.append(ax._renderArrow())}ax.elements=ay;ax.setAngle(D);return ay},reflow:function(ay){var az=this;var ax=az.center=ay.center;var Y=az.radius=ay.getRadiusX();var X=az.capSize=Math.round(Y*az.options.cap.size);az.bbox=A.fromPoints(new g(ax.x-X,ax.y-X),new g(ax.x+X,ax.y+X))},_renderNeedle:function(){var aA=this;var ay=aA.options;var ax=aA.scale.options.minorTicks.size;var Y=aA.center;var az=ay.color;var X=new ac({fill:{color:az},stroke:{color:az,width:am}});X.moveTo(Y.x+aA.radius-ax,Y.y).lineTo(Y.x,Y.y-(aA.capSize/2)).lineTo(Y.x,Y.y+(aA.capSize/2)).close();return X},_renderCap:function(){var ay=this;var Y=ay.options;var X=Y.cap.color||Y.color;var az=new ae.Circle(ay.center,ay.capSize);var ax=new ab.Circle(az,{fill:{color:X},stroke:{color:X}});return ax}});var an=V.extend({init:function(X){var Y=this;Y.options=aw({},Y.options,X);Y.options.majorUnit=Y.options.majorUnit||c(Y.options.min,Y.options.max);Y.options.minorUnit=Y.options.minorUnit||Y.options.majorUnit/10;y.fn.init.call(Y,Y.options)},options:{min:0,max:100,majorTicks:{size:15,align:l,color:u,width:am,visible:true},minorTicks:{size:10,align:l,color:u,width:am,visible:true},startAngle:-30,endAngle:210,labels:{position:l,padding:2}},render:function(Y,X){var az=this;var ax=az.options;var ay=az.renderArc(Y,X);az.bbox=ay.bbox();az.labelElements=az.renderLabels();az.ticks=az.renderTicks();az.ranges=az.renderRanges()},reflow:function(az){var ay=this;var ax=ay.options;var Y=az.center();var X=G.min(az.height(),az.width())/2;if(ay.bbox!==v){ay.bbox=ay.arc.bbox();ay.radius(ay.arc.getRadiusX());ay.repositionRanges();ay.renderLabels()}else{return ay.render(Y,X)}},slotAngle:function(aB){var ay=this.options;var aA=ay.startAngle;var ax=ay.reverse;var aC=ay.endAngle-aA;var az=ay.min;var Y=ay.max;var X;if(ax){X=ay.endAngle-(aB-az)/(Y-az)*aC}else{X=((aB-az)/(Y-az)*aC)+aA}return X+h},renderLabels:function(){var aH=this;var aA=aH.options;var aD=aA.majorTicks.size;var aJ=aH.arc.clone();var aB=aJ.getRadiusX();var aR=aH.tickAngles(aJ,aA.majorUnit);var aW=aH.labels;var aG=aW.length;var aC=aA.labels;var aO=aC.padding;var aN=aB*0.05;var aM=aA.rangeSize=aA.rangeSize||aB*0.1;var az=aA.ranges||[];var aI,aP,Y;var aV,aL,aK,aS,ay,ax,aF;var aT=new P();var aU,aQ,aE,X;if(aH.options.rangeDistance!==v){aN=aH.options.rangeDistance}else{aH.options.rangeDistance=aN}if(aC.position===l){aB-=aD;if(az.length&&aH.labelElements===v){aB-=aM+aN}aJ.setRadiusX(aB).setRadiusY(aB)}for(aS=0;aS<aG;aS++){aL=aW[aS];aI=aL.box.width()/2;aP=aL.box.height()/2;aV=aR[aS];Y=(aV-h)*D;aF=aC.position===l;aK=aJ.pointAt(aV);ay=aK.x+(G.cos(Y)*(aI+aO)*(aF?1:-1));ax=aK.y+(G.sin(Y)*(aP+aO)*(aF?1:-1));aL.reflow(new W.Box2D(ay-aI,ax-aP,ay+aI,ax+aP));aQ=new g(aL.box.x1,aL.box.y1);if(aH.labelElements===v){aU=aa(aL,aA.labels);aT.append(aU)}else{aU=aH.labelElements.children[aS];aE=aU.bbox().origin;X=aU.transform()||ae.transform();X.translate(aQ.x-aE.x,aQ.y-aE.y);aU.transform(X)}aH.bbox=A.union(aH.bbox,aU.bbox())}return aT},repositionRanges:function(){var aB=this;var az=aB.arc;var ax=aB.ranges.children;var aC=aB.options.rangeSize;var aA=aB.options.rangeDistance;var Y,X;if(ax.length>0){Y=aB.getRangeRadius();if(aB.options.labels.position===l){Y+=aC+aA}X=Y+(aC/2);for(var ay=0;ay<ax.length;ay++){ax[ay]._geometry.setRadiusX(X).setRadiusY(X)}aB.bbox=A.union(aB.bbox,aB.ranges.bbox())}},renderRanges:function(){var aD=this;var X=aD.arc;var aJ=new P();var aH,aI;var az=aD.rangeSegments();var aB=az.length;var aF=aD.options.reverse;var aC=aD.radius();var aG=aD.options.rangeSize;var Y=aD.options.rangeDistance;var aA,aE,ay,ax;if(aB){aE=aD.getRangeRadius();aD.radius(aD.radius()-aG-Y);for(ax=0;ax<aB;ax++){aA=az[ax];aH=aD.slotAngle(aA[aF?"to":"from"]);aI=aD.slotAngle(aA[!aF?"to":"from"]);if(aI-aH!==0){ay=new ae.Arc(X.center,{radiusX:aE+(aG/2),radiusY:aE+(aG/2),startAngle:aH,endAngle:aI});aJ.append(new ab.Arc(ay,{stroke:{width:aG,color:aA.color,opacity:aA.opacity}}))}}}return aJ},rangeSegments:function(){var aH=this;var aI=aH.options;var X=aI.ranges||[];var aF=X.length;var aC;var aE;var Y=aI.rangePlaceholderColor;var aB=[];var aD;var az=aI.min;var aG=aI.max;var aA,ay;function ax(aM,aL,aJ,aK){return{from:aM,to:aL,color:aJ,opacity:aK}}if(aF){aB.push(ax(az,aG,Y));for(aA=0;aA<aF;aA++){aC=S(X[aA],az,aG);aE=aB.length;for(ay=0;ay<aE;ay++){aD=aB[ay];if(aD.from<=aC.from&&aC.from<=aD.to){aB.push(ax(aC.from,aC.to,aC.color,aC.opacity));if(aD.from<=aC.to&&aC.to<=aD.to){aB.push(ax(aC.to,aD.to,Y,aC.opacity))}aD.to=aC.from;break}}}}return aB},getRangeRadius:function(){var aA=this;var Y=aA.options;var X=Y.majorTicks.size;var aB=Y.rangeSize;var az=Y.rangeDistance;var ax=aA.arc;var ay;if(Y.labels.position===al){ay=ax.getRadiusX()-X-az-aB}else{ay=ax.getRadiusX()-aB}return ay},renderArc:function(Y,X){var az=this;var ax=az.options;var ay=az.arc=new ae.Arc(Y,{radiusX:X,radiusY:X,startAngle:ax.startAngle+h,endAngle:ax.endAngle+h});return ay},renderTicks:function(){var ay=this;var X=ay.arc;var aE=ay.options;var Y=aE.labels.position;var aC=new P();var aB=aE.majorTicks.size;var aA=aE.minorTicks.size;var aD=X.clone();var ax=aD.getRadiusX();function az(aH,aJ,aP,aI){var aQ=new P(),aG=aH.center,aN=aH.getRadiusX(),aM,aO,aF,aL=aP.size,aK=aI.visible;if(aK){for(aM=0;aM<aJ.length;aM++){aO=aH.pointAt(aJ[aM]);aF=new g(aG.x+aN-aI.size,aG.y).rotate(aJ[aM],aG);aQ.append(new ac({stroke:{color:aI.color,width:aI.width}}).moveTo(aO).lineTo(aF))}}return aQ}ay.majorTickAngles=ay.tickAngles(X,aE.majorUnit);ay.majorTicks=az(aD,ay.majorTickAngles,aE.majorUnit,aE.majorTicks);aC.append(ay.majorTicks);ay._tickDifference=aB-aA;if(Y===al){aD.setRadiusX(ax-aB+aA).setRadiusY(ax-aB+aA)}ay.minorTickAngles=ay.normalizeTickAngles(ay.tickAngles(X,aE.minorUnit));ay.minorTicks=az(aD,ay.minorTickAngles,aE.minorUnit,aE.minorTicks,aE.majorUnit);aC.append(ay.minorTicks);return aC},normalizeTickAngles:function(az){var ay=this;var X=ay.options;var ax=X.majorUnit/X.minorUnit;for(var Y=az.length-1;Y>=0;Y--){if(Y%ax===0){az.splice(Y,1)}}return az},tickAngles:function(az,aE){var ax=this;var aG=ax.options;var aD=aG.reverse;var aC=aG.max-aG.min;var ay=az.endAngle-az.startAngle;var aF=az.startAngle;var X=aC/aE;var Y=ay/X;var aB=[];var aA;if(aD){aF+=ay;Y=-Y}for(aA=0;aA<X;aA++){aB.push(C(aF,H));aF+=Y}if(C(aF)<=az.endAngle){aB.push(aF)}return aB},radius:function(Y){var ay=this;var ax=ay.parent;var X=ay.arc.center;if(Y){ay.arc.setRadiusX(Y).setRadiusY(Y);ay.repositionTicks(ay.majorTicks.children,ay.majorTickAngles);ay.repositionTicks(ay.minorTicks.children,ay.minorTickAngles,true)}else{return ay.arc.getRadiusX()}},repositionTicks:function(aF,Y,az){var aA=this;var aE=az?(aA._tickDifference||0):0;var aG=aA.arc;var aB=aG.getRadiusX();if(az&&aA.options.labels.position===al&&aE!==0){aG=aA.arc.clone();aG.setRadiusX(aB-aE).setRadiusY(aB-aE)}for(var ax=0;ax<aF.length;ax++){var X=aG.pointAt(Y[ax]);var ay=aF[ax].segments;var aD=X.x-ay[0].anchor().x;var aC=X.y-ay[0].anchor().y;aF[ax].transform(new ae.Transformation().translate(aD,aC))}}});var t=m.extend({init:function(ax,ay){var aC=this;var aD;var aA;var az;var aB=W.ui.themes||{};var Y;p.destroy(ax);ag(ax).empty();m.fn.init.call(aC,ax);aC.wrapper=aC.element;aC._originalOptions=aw({},ay);aD=aw({},aC.options,ay);az=aD.theme;Y=aB[az]||aB[az.toLowerCase()];aA=az&&Y?Y.gauge:{};aC.options=aw({},aA,aD);if(ag.isArray(aD.pointer)){for(var X=0;X<aD.pointer.length;X++){aC.options.pointer[X]=aw({},aA.pointer,aD.pointer[X])}}aC.element.addClass("k-gauge");aC.surface=aC._createSurface();aC.redraw()},options:{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}},destroy:function(){this.surface.destroy();m.fn.destroy.call(this)},value:function(Y){var X=this;var ax=X.pointers[0];if(arguments.length===0){return ax.value()}ax.value(Y);X._setValueOptions(Y)},_draw:function(){var X=this.surface;X.clear();X.draw(this._visuals)},exportVisual:function(){return this._visuals},allValues:function(ax){var az=this;var Y=az.pointers;var X=[];var ay;if(arguments.length===0){for(ay=0;ay<Y.length;ay++){X.push(Y[ay].value())}return X}if(ag.isArray(ax)){for(ay=0;ay<ax.length;ay++){if(F(ax[ay])){Y[ay].value(ax[ay])}}}az._setValueOptions(ax)},_setValueOptions:function(Y){var X=[].concat(this.options.pointer);Y=[].concat(Y);for(var ax=0;ax<Y.length;ax++){X[ax].value=Y[ax]}},_resize:function(){var ax=this;var Y=ax.options.transitions;var X;ax.options.transitions=false;for(X=0;X<ax.pointers.length;X++){ax.pointers[X].options.animation.transitions=false}ax.redraw();ax.options.transitions=Y;for(X=0;X<ax.pointers.length;X++){ax.pointers[X].options.animation.transitions=Y}},redraw:function(){var Y=this;var X=aw(Y._getSize(),Y.options.gaugeArea);var ay=new A([0,0],[X.width,X.height]);var ax;Y.surface.clear();Y.gaugeArea=Y._createGaugeArea();Y.surface.element.css({width:X.width,height:X.height});Y._createModel();ax=ak(ay.bbox(),Y._gaugeAreaMargin);Y.reflow(ax)},_createGaugeArea:function(){var aA=this;var ax=aA.options.gaugeArea;var ay=aA.surface.size();var aB=aA._gaugeAreaMargin=ax.margin||k;var Y=ax.border||{};var X=new A([0,0],[ay.width,ay.height]);if(Y.width>0){X=ak(X,Y.width)}var az=ac.fromRect(X,{stroke:{color:Y.width?Y.color:"",width:Y.width,dashType:Y.dashType,lineJoin:"round",lineCap:"round"},fill:{color:ax.background}});return az},_createSurface:function(){var ay=this;var X=ay.options;var Y=ay._getSize();Y=X.gaugeArea?aw(Y,X.gaugeArea):Y;var ax=ag("<div></div>").appendTo(ay.element).css({width:Y.width,height:Y.height});return new ab.Surface.create(ax,{type:X.renderAs})},getSize:function(){return this._getSize()},_getSize:function(){var ay=this;var Y=ay.element;var ax=Y.width();var X=Y.height();if(!ax){ax=n}if(!X){X=I}return{width:ax,height:X}}});var x=t.extend({init:function(ax,X){var Y=this;t.fn.init.call(Y,ax,X);p.notify(Y,W.ui)},options:{name:"RadialGauge",transitions:true,gaugeArea:{background:""}},reflow:function(aA){var az=this;var Y=az.pointers;var ay=az.scale.reflow(aA);az._initialPlotArea=az.scale.bbox;for(var ax=0;ax<Y.length;ax++){var X=Y[ax].reflow(az.scale.arc);az._initialPlotArea=A.union(az._initialPlotArea,Y[ax].bbox)}az.fitScale(aA);az.alignScale(aA);az._buildVisual(az.gaugeArea,Y,az.scale);az._draw()},_buildVisual:function(ax,X,aA){var ay=new P();var az;ay.append(ax);ay.append(aA.ticks);ay.append(aA.ranges);for(var Y=0;Y<X.length;Y++){az=X[Y];az.render();ay.append(az.elements);az.value(az.options.value)}ay.append(aA.labelElements);this._visuals=ay},fitScale:function(aH){var aA=this;var ax=aA.scale;var X=ax.arc;var aI=aA._initialPlotArea;var Y=G.abs(aA.getDiff(aI,aH));var ay=C(Y,H);var aC=C(-Y,H);var aJ,aF,aB,aE,aG;var aD=0;var az=0;while(az++<100){aD=(aG===aB)?(aD+1):0;if(aD>5){break}if(ay!=aE){aJ=aA.getPlotBox(ay,aH,X);if(0<=aJ&&aJ<=2){break}}if(aC!=aE){aB=aA.getPlotBox(aC,aH,X);if(0<=aB&&aB<=2){break}}if(aJ>0&&aB>0){aE=ay*2}else{if(aJ<0&&aB<0){aE=aC*2}else{aE=C(((ay+aC)/2)||1,H)}}aF=aA.getPlotBox(aE,aH,X);if(0<=aF&&aF<=2){break}aG=aB;if(aF>0){aC=aE;aB=aF}else{ay=aE;aJ=aF}}},getPlotBox:function(aA,aC,ay){var az=this;var aB=az.scale;var Y=az.pointers;var X=ay.getRadiusX();ay=ay.clone();ay.setRadiusX(X+aA).setRadiusY(X+aA);aB.arc=ay;aB.reflow(aC);az.plotBbox=aB.bbox;for(var ax=0;ax<Y.length;ax++){Y[ax].reflow(ay);az.plotBbox=A.union(az.plotBbox,Y[ax].bbox)}return az.getDiff(az.plotBbox,aC)},getDiff:function(X,Y){return G.min(Y.width()-X.width(),Y.height()-X.height())},alignScale:function(aD){var az=this;var aA=az.plotBbox.center();var aB=aD.center();var ax=aA.x-aB.x;var Y=aA.y-aB.y;var X=az.scale;var aC=az.pointers;X.arc.center.x-=ax;X.arc.center.y-=Y;X.reflow(aD);for(var ay=0;ay<aC.length;ay++){aC[ay].reflow(X.arc);az.plotBbox=A.union(X.bbox,aC[ay].bbox)}},_createModel:function(){var ay=this;var Y=ay.options;var X=Y.pointer;var aA=ay.scale=new an(Y.scale);var az;ay.pointers=[];X=ag.isArray(X)?X:[X];for(var ax=0;ax<X.length;ax++){az=new O(aA,aw({},X[ax],{animation:{transitions:Y.transitions}}));ay.pointers.push(az)}}});var av=t.extend({init:function(ax,Y){var X=this;t.fn.init.call(X,ax,Y);p.notify(X,W.ui)},options:{name:"LinearGauge",transitions:true,gaugeArea:{background:""},scale:{vertical:true}},reflow:function(aC){var aA=this;var Y=aA.surface;var ay=aA.pointers;var ax=aC.origin.x;var X=aC.origin.y;var aB=new W.Box2D(ax,ax,ax+aC.width(),X+aC.height());aA.scale.reflow(aB);for(var az=0;az<ay.length;az++){ay[az].reflow()}aA.bbox=aA._getBox(aB);aA._alignElements();aA._shrinkElements();aA._buildVisual();aA._draw()},_buildVisual:function(){var ay=this;var az=new P();var ax=ay.scale.render();var X=ay.pointers;var aA;az.append(ay.gaugeArea);az.append(ax);for(var Y=0;Y<X.length;Y++){aA=X[Y];az.append(aA.render());aA.value(aA.options.value)}ay._visuals=az},_createModel:function(){var az=this;var ax=az.options;var Y=ax.pointer;var aB=az.scale=new U(ax.scale);var aA,X;az.pointers=[];Y=ag.isArray(Y)?Y:[Y];for(var ay=0;ay<Y.length;ay++){X=aw({},Y[ay],{animation:{transitions:ax.transitions}});if(X.shape===d){aA=new B(aB,X)}else{aA=new at(aB,X)}az.pointers.push(aA)}},_getSize:function(){var az=this;var ax=az.element;var ay=ax.width();var X=ax.height();var Y=az.options.scale.vertical;if(!ay){ay=Y?w:n}if(!X){X=Y?I:z}return{width:ay,height:X}},_getBox:function(aA){var az=this;var aC=az.scale;var X=az.pointers;var aB=aA.center();var ay=X[0].box.clone().wrap(aC.box);var ax;for(var Y=0;Y<X.length;Y++){ay.wrap(X[Y].box.clone())}if(aC.options.vertical){ax=ay.width()/2;ay=new q(aB.x-ax,aA.y1,aB.x+ax,aA.y2)}else{ax=ay.height()/2;ay=new q(aA.x1,aB.y-ax,aA.x2,aB.y+ax)}return ay},_alignElements:function(){var aA=this;var aC=aA.scale;var X=aA.pointers;var ay=aC.box;var az=X[0].box.clone().wrap(aC.box);var ax=aA.bbox;var aB,Y;for(Y=0;Y<X.length;Y++){az.wrap(X[Y].box.clone())}if(aC.options.vertical){aB=ax.center().x-az.center().x;aC.reflow(new q(ay.x1+aB,ax.y1,ay.x2+aB,ax.y2))}else{aB=ax.center().y-az.center().y;aC.reflow(new q(ax.x1,ay.y1+aB,ax.x2,ay.y2+aB))}for(Y=0;Y<X.length;Y++){X[Y].reflow(aA.bbox)}},_shrinkElements:function(){var ay=this;var az=ay.scale;var X=ay.pointers;var ax=az.box.clone();var aB=az.options.vertical?"y":"x";var aA=X[0].box;var Y;for(Y=0;Y<X.length;Y++){aA.wrap(X[Y].box.clone())}ax[aB+1]+=G.max(ax[aB+1]-aA[aB+1],0);ax[aB+2]-=G.max(aA[aB+2]-ax[aB+2],0);az.reflow(ax);for(Y=0;Y<X.length;Y++){X[Y].reflow(ay.bbox)}}});var U=V.extend({init:function(X){var Y=this;Y.options=aw({},Y.options,X);Y.options=aw({},Y.options,{labels:{mirror:Y.options.mirror}});Y.options.majorUnit=Y.options.majorUnit||c(Y.options.min,Y.options.max);y.fn.init.call(Y,Y.options);Y.options.minorUnit=Y.options.minorUnit||Y.options.majorUnit/10},options:{min:0,max:50,majorTicks:{size:15,align:l,color:u,width:am,visible:true},minorTicks:{size:10,align:l,color:u,width:am,visible:true},line:{width:am},labels:{position:l,padding:2},mirror:false,_alignLines:false},render:function(){var Y=this;var ax=Y.elements=new P();var aA=Y.renderLabels();var ay=Y.renderLine();var az=Y.renderTicks();var X=Y.renderRanges();ax.append(ay,aA,az,X);return ax},renderRanges:function(){var aC=this;var aJ=aC.options;var ay=aJ.min;var aF=aJ.max;var Y=aJ.ranges||[];var ax=aJ.vertical;var aH=aJ.labels.mirror;var X=new P();var aB=Y.length;var aD=aJ.rangeSize||aJ.minorTicks.size/2;var aA,aI,aG,aE,az;if(aB){for(az=0;az<aB;az++){aA=S(Y[az],ay,aF);aI=aC.getSlot(aA.from,aA.to);aG=ax?aC.lineBox():aI;aE=ax?aI:aC.lineBox();if(ax){aG.x1-=aD*(aH?-1:1)}else{aE.y2+=aD*(aH?-1:1)}X.append(ac.fromRect(new A([aG.x1,aE.y1],[aG.x2-aG.x1,aE.y2-aE.y1]),{fill:{color:aA.color,opacity:aA.opacity},stroke:{}}))}}return X},renderLabels:function(){var ax=this;var X=ax.options;var az=ax.labels;var ay=new P();for(var Y=0;Y<az.length;Y++){ay.append(aa(az[Y],X.labels))}return ay},renderLine:function(){var az=this;var ay=az.options;var ax=ay.line;var Y=az.lineBox();var X;var aA=new P();if(ax.width>0&&ax.visible){X=new ac({stroke:{color:ax.color,dashType:ax.dashType,width:ax.width}});X.moveTo(Y.x1,Y.y1).lineTo(Y.x2,Y.y2);aA.append(X)}return aA},renderTicks:function(){var az=this;var aC=new P();var aE=az.options;var ay=az.lineBox();var aB=aE.labels.mirror;var aA=aE.majorTicks.visible?aE.majorUnit:0;var aD={_alignLines:aE._alignLines,vertical:aE.vertical};var Y,ax;function X(aG,aF){var aH,aI=aG.length;if(aF.visible){for(aH=aF.skip;aH<aI;aH+=aF.step){if(aH%aF.skipUnit===0){continue}aD.tickX=aB?ay.x2:ay.x2-aF.size;aD.tickY=aB?ay.y1-aF.size:ay.y1;aD.position=aG[aH];aC.append(az.renderAxisTick(aD,aF))}}}X(az.getMajorTickPositions(),aE.majorTicks);X(az.getMinorTickPositions(),aw({},{skipUnit:aA/aE.minorUnit},aE.minorTicks));return aC},renderAxisTick:function(az,ay){var Y=az.tickX;var aC=az.tickY;var X=az.position;var aB,ax,aA;if(az.vertical){aB=new g(Y,X);ax=new g(Y+ay.size,X)}else{aB=new g(X,aC);ax=new g(X,aC+ay.size)}aA=new ac({stroke:{color:ay.color,width:ay.width}}).moveTo(aB).lineTo(ax);return aA}});var L=K.extend({init:function(ax,X){var Y=this;K.fn.init.call(Y,ax,X);Y.options=aw({track:{visible:i(X.track)}},Y.options)},options:{shape:r,track:{border:{width:1}},color:u,border:{width:1},opacity:1,margin:s(3),animation:{type:r},visible:true},reflow:function(){var Y=this;var aH=Y.options;var az=Y.scale;var aB=az.lineBox();var aG=aH.track.size||aH.size;var aD=aH.size/2;var aF=az.options.mirror;var aA=s(aH.margin);var ay=az.options.vertical;var X=ay?aA[aF?"left":"right"]:aA[aF?"bottom":"top"];var aC,ax,aE;X=aF?-X:X;if(ay){aE=new q(aB.x1+X,aB.y1,aB.x1+X,aB.y2);if(aF){aE.x1-=aG}else{aE.x2+=aG}if(aH.shape!==r){ax=new q(aB.x2+X,aB.y1-aD,aB.x2+X,aB.y2+aD);aC=ax}}else{aE=new q(aB.x1,aB.y1-X,aB.x2,aB.y1-X);if(aF){aE.y2+=aG}else{aE.y1-=aG}if(aH.shape!==r){ax=new q(aB.x1-aD,aB.y1-X,aB.x2+aD,aB.y1-X);aC=ax}}Y.trackBox=aE;Y.pointerRangeBox=ax;Y.box=aC||aE.clone().pad(aH.border.width)},getElementOptions:function(){var X=this.options;var Y=new P();var ax=this.scale;return{fill:{color:X.color,opacity:X.opacity},stroke:i(X.border)?{color:X.border.width?X.border.color||X.color:"",width:X.border.width,dashType:X.border.dashType,opacity:X.opacity}:null}},_margin:function(){var aB=this;var Y=aB.options;var aA=aB.scale;var az=aA.options.mirror;var ay=s(Y.margin);var X=aA.options.vertical;var ax=X?ay[az?"left":"right"]:ay[az?"bottom":"top"];return ax}});var B=L.extend({init:function(Y,X){L.fn.init.call(this,Y,X);if(this.options.size===v){this.options.size=this.scale.options.majorTicks.size*0.6}},pointerShape:function(aD){var az=this;var aF=az.options;var Y=az.scale;var aE=aF.size;var ax=Y.options.vertical;var ay=aE/2;var X=(Y.options.mirror?-1:1);var aB=Y.options.reverse;var aC,aA;if(ax){aC=aB?"y2":"y1";aA=[new g(0,0-ay),new g(0-X*aE,0),new g(0,0+ay)]}else{aC=aB?"x1":"x2";aA=[new g(0-ay,0),new g(0,0+X*aE),new g(0+ay,0)]}return aA},repaint:function(){var Y=this;var ay=Y.scale;var X=Y.options;var ax=new T(Y.elements,aw(X.animation,{vertical:ay.options.vertical,mirror:ay.options.mirror,margin:Y._margin(X.margin),from:ay.getSlot(X._oldValue),to:ay.getSlot(X.value)}));if(X.animation.transitions===false){ax.options.duration=0}ax.setup();ax.play()},render:function(){var ay=this;var ax=ay.options;var az=new P();var aA=ay.scale;var Y=ay.getElementOptions();var X=ay.pointerShape(ax.value);ax.animation.type=ah;az=new ac({stroke:Y.stroke,fill:Y.fill}).moveTo(X[0]).lineTo(X[1]).lineTo(X[2]).close();var aB=aA.getSlot(ax.value);az.transform(ae.transform().translate(aB.x1,aB.y1));ay.elements=az;return az}});var at=L.extend({init:function(Y,X){L.fn.init.call(this,Y,X);if(this.options.size===v){this.options.size=this.scale.options.majorTicks.size*0.3}},pointerShape:function(aL){var aF=this;var aC=aF.options;var aM=aF.scale;var aA=aM.options.vertical;var aG=aM.options.mirror;var aK=aG==aA?-1:1;var aI=aC.size*aK;var aJ=aM.getSlot(aM.options.min);var aD=aM.getSlot(aL);var aB=aA?N:Q;var aE=aA?Q:N;var aH=aF._margin()*aK;var az=[];var ay=new g();ay[aB]=aJ[aB+"1"];ay[aE]=aJ[aE+"1"];var ax=new g();ax[aB]=aD[aB+"1"];ax[aE]=aD[aE+"1"];if(aA){ay.translate(aH,0);ax.translate(aH,0)}else{ay.translate(0,aH);ax.translate(0,aH)}var Y=ax.clone();var X=ay.clone();if(aA){Y.translate(aI,0);X.translate(aI,0)}else{Y.translate(0,aI);X.translate(0,aI)}return[ay,ax,Y,X]},repaint:function(){var ay=this;var aB=ay.scale;var ax=ay.options;var X=ay.pointerShape(ax.value);var Y=ay.elements.children[0];var aA=ay.pointerShape(ax._oldValue);Y.moveTo(X[0]).lineTo(X[1]).lineTo(X[2]).lineTo(X[3]).close();var az=new ar(Y,aw(ax.animation,{reverse:aB.options.reverse,vertical:aB.options.vertical,oldPoints:[aA[1],aA[2]],newPoints:[X[1],X[2]]}));if(ax.animation.transitions===false){az.options.duration=0}az.setup();az.play()},render:function(){var ax=this;var Y=ax.options;var ay=new P();var aA=ax.scale;var X=ax.getElementOptions();var az=new ac({stroke:X.stroke,fill:X.fill});ay.append(az);ax.elements=ay;return ay}});var ap=ab.Animation.extend({init:function(Y,X){ab.Animation.fn.init.call(this,Y,X);X=this.options;X.duration=G.max((G.abs(X.newAngle-X.oldAngle)/X.duration)*1000,1)},options:{easing:au,duration:E},step:function(ay){var Y=this;var X=Y.options;var ax=J(X.oldAngle,X.newAngle,ay);Y.element.transform(ae.transform().rotate(ax,X.center))}});ab.AnimationFactory.current.register(aj,ap);var T=ab.Animation.extend({options:{easing:au,duration:af},setup:function(){var ax=this.options;var ay=this.element.bbox().width()/2;var aA=ax.margin;var aC=ax.from;var aB=ax.to;var az=ax.vertical?"x1":"y1";if(ax.mirror==ax.vertical){aC[az]-=aA;aB[az]-=aA}else{aC[az]+=aA;aB[az]+=aA}var X=this.fromScale=new g(aC.x1,aC.y1);var Y=this.toScale=new g(aB.x1,aB.y1);if(ax.duration!==0){ax.duration=G.max((X.distanceTo(Y)/ax.duration)*1000,1)}},step:function(ax){var Y=J(this.fromScale.x,this.toScale.x,ax);var X=J(this.fromScale.y,this.toScale.y,ax);this.element.transform(ae.transform().translate(Y,X))}});ab.AnimationFactory.current.register(ah,T);var ar=ab.Animation.extend({options:{easing:au,speed:af},setup:function(){var ax=this.element;var X=this.options;var az=X.newPoints;var Y=X.oldPoints;var ay=this.axis=X.vertical?N:Q;var aB=this.to=az[0][ay];var aA=this.from=Y[0][ay];if(X.duration!==0){X.duration=G.max((G.abs(aB-aA)/X.speed)*1000,1)}this._set(aA)},step:function(Y){var X=J(this.from,this.to,Y);this._set(X)},_set:function(Y){var ax="set"+this.axis.toUpperCase();var X=this.options.newPoints;X[0][ax](Y);X[1][ax](Y)}});ab.AnimationFactory.current.register(r,ar);function aa(aC,aF){var aE=aC.box;var aB=aC.children[0].box;var az=aF.border||{};var ay=aF.background||"";var X=new P();var ax,aA,Y;Y=ac.fromRect(new A([aE.x1,aE.y1],[aE.width(),aE.height()]),{stroke:{}});var aD=new aq(aC.text,new g(aB.x1,aB.y1),{font:aF.font,fill:{color:aF.color}});aA=ad(aD.bbox().clone(),aF.padding);ax=ac.fromRect(aA,{stroke:{color:az.width?az.color:"",width:az.width,dashType:az.dashType,lineJoin:"round",lineCap:"round"},fill:{color:ay}});X.append(Y);X.append(ax);X.append(aD);return X}function S(Y,ax,X){var az=i(Y.from)?Y.from:f;var ay=i(Y.to)?Y.to:M;Y.from=G.max(G.min(ay,az),ax);Y.to=G.min(G.max(ay,az),X);return Y}function ad(ay,ax){var X=ay.getOrigin();var Y=ay.getSize();var az=s(ax);ay.setOrigin([X.x-az.left,X.y-az.top]);ay.setSize([Y.width+(az.left+az.right),Y.height+(az.top+az.bottom)]);return ay}function ak(Y,X){var ax=s(X);ax.left=-ax.left;ax.top=-ax.top;ax.right=-ax.right;ax.bottom=-ax.bottom;return ad(Y,ax)}W.ui.plugin(x);W.ui.plugin(av);W.ExportMixin.extend(t.fn);aw(W,{Gauge:t,RadialPointer:O,LinearPointer:L,ArrowLinearPointer:B,BarLinearPointer:at,LinearScale:U,RadialScale:an,LinearGauge:av,RadialGauge:x})})(window.kendo.jQuery);(function(k,m){var x=window.kendo,f=x.ui.Widget,E=k.extend,u=x.deepExtend,D=k.inArray,w=k.isPlainObject,q=x.drawing,z=x.geometry,c=x.util,e=c.defined,B=c.append,o=x.dataviz,j=o.Box2D,t=o.TextBox,i=300,y=100,s=10,l=/^\d+$/,C=/^[a-z0-9]+$/i,G="Character '{0}' is not valid for symbology {1}";function g(J,H,I){return J.substring(H,H+I)}var h=x.Class.extend({init:function(H){this.setOptions(H)},setOptions:function(H){var I=this;I.options=E({},I.options,H);I.quietZoneLength=I.options.addQuietZone?2*I.options.quietZoneLength:0},encode:function(K,I,H){var J=this;if(e(K)){K+=""}J.initValue(K,I,H);if(J.options.addQuietZone){J.addQuietZone()}J.addData();if(J.options.addQuietZone){J.addQuietZone()}return{baseUnit:J.baseUnit,pattern:J.pattern}},options:{quietZoneLength:s,addQuietZone:true,addCheckSum:true},initValue:function(){},addQuietZone:function(){this.pattern.push(this.options.quietZoneLength||s)},addData:function(){},invalidCharacterError:function(H){throw new Error(x.format(G,H,this.name))}});var v={};var p=h.extend({minBaseUnitLength:0.7,addData:function(){var I=this,J=I.value;I.addStart();for(var H=0;H<J.length;H++){I.addCharacter(J.charAt(H))}if(I.options.addCheckSum){I.pushCheckSum()}I.addStop();I.prepareValues()},addCharacter:function(J){var I=this,H=I.characterMap[J];if(!H){I.invalidCharacterError(J)}I.addBase(H)},addBase:function(){}});var a={addCharacter:function(I){var H=this;if(H.characterMap[I]){H.addBase(H.characterMap[I])}else{if(I.charCodeAt(0)>127){H.invalidCharacterError(I)}else{H.addExtended(I.charCodeAt(0))}}},addExtended:function(L){var K=this,J;for(var I=0;I<K.extendedMappings.length;I++){if((J=K.extendedMappings[I].call(K,L))){for(var H=0;H<J.length;H++){K.addBase(J[H])}K.dataLength+=J.length-1;return}}},extendedMappings:[function(I){if(97<=I&&I<=122){var H=this;return[H.characterMap[H.shiftCharacters[0]],H.characterMap[String.fromCharCode(I-32)]]}},function(I){if(33<=I&&I<=58){var H=this;return[H.characterMap[H.shiftCharacters[1]],H.characterMap[String.fromCharCode(I+32)]]}},function(I){if(1<=I&&I<=26){var H=this;return[H.characterMap[H.shiftCharacters[2]],H.characterMap[String.fromCharCode(I+64)]]}},function(L){var K=this,H,J;if(!K.specialAsciiCodes[L]){J=Math.floor(L/32)*6+(L-27)%32+64;H=[K.characterMap[K.shiftCharacters[3]],K.characterMap[String.fromCharCode(J)]]}else{H=[];for(var I=0;I<K.specialAsciiCodes[L].length;I++){H.push(K.characterMap[K.shiftCharacters[3]]);H.push(K.characterMap[K.specialAsciiCodes[L][I]])}}return H}],specialAsciiCodes:{"0":["U"],"64":["V"],"96":["W"],"127":["T","X","Y","Z"]},shiftValuesAsciiCodes:{"39":36,"40":47,"41":43,"42":37},characterMap:{"+":false,"/":false,"$":false,"%":false},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]};v.code39=p.extend({name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",initValue:function(K,I,H){var J=this;J.width=I;J.height=H;J.value=K;J.dataLength=K.length;J.pattern=[];J.patternString=""},prepareValues:function(){var K=this,N,M=K.minBaseUnitLength,J=K.maxRatio,I=K.minRatio,L=Math.max(0.15*K.width,24);if(K.height<L){throw new Error("Insufficient Height. The minimum height for value: "+K.value+" is: "+L)}while((N=K.getBaseUnit(J))<M&&J>I){J=parseFloat((J-0.1).toFixed(1))}if(N<M){var H=Math.ceil(K.getBaseWidth(I)*M);throw new Error("Insufficient width. The minimum width for value: "+K.value+" is: "+H)}K.ratio=J;K.baseUnit=N;K.patternString=K.patternString.substring(0,K.patternString.length-1);K.pattern=K.pattern.concat(K.patternString.replace(/ratio/g,J).split(K.splitCharacter))},getBaseUnit:function(H){return this.width/this.getBaseWidth(H)},getBaseWidth:function(H){var I=this,J=3*(H+2);return I.quietZoneLength+J*(I.dataLength+2)+I.gapWidth*(I.dataLength+1)},addStart:function(){var H=this;H.addPattern(H.characterMap.START.pattern);H.addCharacterGap()},addBase:function(H){this.addPattern(H.pattern);this.addCharacterGap()},addStop:function(){this.addPattern(this.characterMap.START.pattern)},addPattern:function(I){for(var H=0;H<I.length;H++){this.patternString+=this.patternMappings[I.charAt(H)]}},addCharacterGap:function(){var H=this;H.patternString+=H.gapWidth+H.splitCharacter},patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{"0":{pattern:"bwbWBwBwb",value:0},"1":{pattern:"BwbWbwbwB",value:1},"2":{pattern:"bwBWbwbwB",value:2},"3":{pattern:"BwBWbwbwb",value:3},"4":{pattern:"bwbWBwbwB",value:4},"5":{pattern:"BwbWBwbwb",value:5},"6":{pattern:"bwBWBwbwb",value:6},"7":{pattern:"bwbWbwBwB",value:7},"8":{pattern:"BwbWbwBwb",value:8},"9":{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},"$":{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}},options:{addCheckSum:false}});v.code39extended=v.code39.extend(u({},a,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}}));v.code93=p.extend({name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,initValue:function(K,I,H){var J=this;J.value=K;J.width=I;J.height=H;J.pattern=[];J.values=[];J.dataLength=K.length},prepareValues:function(){var H=this,I=Math.max(0.15*H.width,24);if(H.height<I){throw new Error("Insufficient Height")}H.setBaseUnit();if(H.baseUnit<H.minBaseUnitLength){throw new Error("Insufficient Width")}},setBaseUnit:function(){var I=this,H=2;I.baseUnit=I.width/(9*(I.dataLength+2+H)+I.quietZoneLength+1)},addStart:function(){var H=this.characterMap.START.pattern;this.addPattern(H)},addStop:function(){var H=this;H.addStart();H.pattern.push(H.characterMap.TERMINATION_BAR)},addBase:function(H){this.addPattern(H.pattern);this.values.push(H.value)},pushCheckSum:function(){var K=this,J=K._getCheckValues(),H;K.checksum=J.join("");for(var I=0;I<J.length;I++){H=K.characterMap[K._findCharacterByValue(J[I])];K.addPattern(H.pattern)}},_getCheckValues:function(){var M=this,J=M.values,L=J.length,I=0,K,N,H;for(H=L-1;H>=0;H--){I+=M.weightedValue(J[H],L-H,M.cCheckSumTotal)}K=I%M.checkSumMod;I=M.weightedValue(K,1,M.kCheckSumTotal);for(H=L-1;H>=0;H--){I+=M.weightedValue(J[H],L-H+1,M.kCheckSumTotal)}N=I%M.checkSumMod;return[K,N]},_findCharacterByValue:function(I){for(var H in this.characterMap){if(this.characterMap[H].value===I){return H}}},weightedValue:function(J,H,I){return(H%I||I)*J},addPattern:function(J){var I;for(var H=0;H<J.length;H++){I=parseInt(J.charAt(H),10);this.pattern.push(I)}},characterMap:{"0":{pattern:"131112",value:0},"1":{pattern:"111213",value:1},"2":{pattern:"111312",value:2},"3":{pattern:"111411",value:3},"4":{pattern:"121113",value:4},"5":{pattern:"121212",value:5},"6":{pattern:"121311",value:6},"7":{pattern:"111114",value:7},"8":{pattern:"131211",value:8},"9":{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},"$":{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}});v.code93extended=v.code93.extend(u({},a,{name:"Code 93 extended",pushCheckSum:function(){var J=this,I=J._getCheckValues(),K;J.checksum=I.join("");for(var H=0;H<I.length;H++){K=I[H];if(J.shiftValuesAsciiCodes[K]){J.addExtended(J.shiftValuesAsciiCodes[K])}else{J.addPattern(J.characterMap[J._findCharacterByValue(K)].pattern)}}}}));var n=x.Class.extend({init:function(H){this.encoding=H},addStart:function(){},is:function(){},move:function(){},pushState:function(){}});var b=n.extend({FNC4:"FNC4",init:function(J,H){var I=this;I.encoding=J;I.states=H;I._initMoves(H)},addStart:function(){this.encoding.addPattern(this.START)},is:function(J,H){var I=J.charCodeAt(H);return this.isCode(I)},move:function(J){var I=this,H=0;while(!I._moves[H].call(I,J)&&H<I._moves.length){H++}},pushState:function(M){var L=this,I=L.states,N=M.value,H=N.length,K;if(D("C",I)>=0){var J=N.substr(M.index).match(/\d{4,}/g);if(J){H=N.indexOf(J[0],M.index)}}while((K=M.value.charCodeAt(M.index))>=0&&L.isCode(K)&&M.index<H){L.encoding.addPattern(L.getValue(K));M.index++}},_initMoves:function(H){var I=this;I._moves=[];if(D(I.FNC4,H)>=0){I._moves.push(I._moveFNC)}if(D(I.shiftKey,H)>=0){I._moves.push(I._shiftState)}I._moves.push(I._moveState)},_moveFNC:function(H){if(H.fnc){H.fnc=false;return H.previousState==this.key}},_shiftState:function(I){var H=this;if(I.previousState==H.shiftKey&&(I.index+1>=I.value.length||H.encoding[H.shiftKey].is(I.value,I.index+1))){H.encoding.addPattern(H.SHIFT);I.shifted=true;return true}},_moveState:function(){this.encoding.addPattern(this.MOVE);return true},SHIFT:98});var d={};d.A=b.extend({key:"A",shiftKey:"B",isCode:function(H){return 0<=H&&H<96},getValue:function(H){if(H<32){return H+64}return H-32},MOVE:101,START:103});d.B=b.extend({key:"B",shiftKey:"A",isCode:function(H){return 32<=H&&H<128},getValue:function(H){return H-32},MOVE:100,START:104});d.C=n.extend({key:"C",addStart:function(){this.encoding.addPattern(this.START)},is:function(J,I){var H=g(J,I,4);return(I+4<=J.length||J.length==2)&&l.test(H)},move:function(){this.encoding.addPattern(this.MOVE)},pushState:function(I){var H;while((H=g(I.value,I.index,2))&&l.test(H)&&H.length==2){this.encoding.addPattern(parseInt(H,10));I.index+=2}},getValue:function(H){return H},MOVE:99,START:105});d.FNC4=n.extend({key:"FNC4",dependentStates:["A","B"],init:function(I,H){this.encoding=I;this._initSubStates(H)},addStart:function(I){var H=I.value.charCodeAt(0)-128,J=this._getSubState(H);this.encoding[J].addStart()},is:function(J,H){var I=J.charCodeAt(H);return this.isCode(I)},isCode:function(H){return 128<=H&&H<256},pushState:function(L){var K=this,M=K._initSubState(L),J=K.encoding,I=M.value.length;L.index+=I;if(I<3){var H;for(;M.index<I;M.index++){H=M.value.charCodeAt(M.index);M.state=K._getSubState(H);if(M.previousState!=M.state){M.previousState=M.state;J[M.state].move(M)}J.addPattern(J[M.state].MOVE);J.addPattern(J[M.state].getValue(H))}}else{if(M.state!=M.previousState){J[M.state].move(M)}K._pushStart(M);J.pushData(M,K.subStates);if(L.index<L.value.length){K._pushStart(M)}}L.fnc=true;L.state=M.state},_pushStart:function(I){var H=this;H.encoding.addPattern(H.encoding[I.state].MOVE);H.encoding.addPattern(H.encoding[I.state].MOVE)},_initSubState:function(I){var H=this,J={value:H._getAll(I.value,I.index),index:0};J.state=H._getSubState(J.value.charCodeAt(0));J.previousState=I.previousState==H.key?J.state:I.previousState;return J},_initSubStates:function(H){var J=this;J.subStates=[];for(var I=0;I<H.length;I++){if(D(H[I],J.dependentStates)>=0){J.subStates.push(H[I])}}},_getSubState:function(J){var I=this;for(var H=0;H<I.subStates.length;H++){if(I.encoding[I.subStates[H]].isCode(J)){return I.subStates[H]}}},_getAll:function(K,I){var J,H="";while((J=K.charCodeAt(I++))&&this.isCode(J)){H+=String.fromCharCode(J-128)}return H}});d.FNC1=n.extend({key:"FNC1",startState:"C",dependentStates:["C","B"],startAI:"(",endAI:")",init:function(I,H){this.encoding=I;this.states=H},addStart:function(){this.encoding[this.startState].addStart()},is:function(){return D(this.key,this.states)>=0},pushState:function(K){var L=this,J=L.encoding,P=K.value.replace(/\s/g,""),I=new RegExp("["+L.startAI+L.endAI+"]","g"),M=K.index,Q={state:L.startState},N,H,O;J.addPattern(L.START);while(true){Q.index=0;O=P.charAt(M)===L.startAI?2:0;N=O>0?L.getBySeparator(P,M):L.getByLength(P,M);if(N.ai.length){H=M+O+N.id.length+N.ai.length}else{H=P.indexOf(L.startAI,M+1);if(H<0){if(M+N.ai.max+N.id.length+O<P.length){throw new Error("Separators are required after variable length identifiers")}H=P.length}}Q.value=P.substring(M,H).replace(I,"");L.validate(N,Q.value);J.pushData(Q,L.dependentStates);if(H>=P.length){break}M=H;if(Q.state!=L.startState){J[L.startState].move(Q);Q.state=L.startState}if(!N.ai.length){J.addPattern(L.START)}}K.index=K.value.length},validate:function(K,J){var I=J.substr(K.id.length),H=K.ai;if(!H.type&&!l.test(I)){throw new Error("Application identifier "+K.id+" is numeric only but contains non numeric character(s).")}if(H.type=="alphanumeric"&&!C.test(I)){throw new Error("Application identifier "+K.id+" is alphanumeric only but contains non alphanumeric character(s).")}if(H.length&&H.length!==I.length){throw new Error("Application identifier "+K.id+" must be "+H.length+" characters long.")}if(H.min&&H.min>I.length){throw new Error("Application identifier "+K.id+" must be at least "+H.min+" characters long.")}if(H.max&&H.max<I.length){throw new Error("Application identifier "+K.id+" must be at most "+H.max+" characters long.")}},getByLength:function(L,I){var K=this,M,H;for(var J=2;J<=4;J++){M=g(L,I,J);H=K.getAI(M)||K.getAI(M.substring(0,M.length-1));if(H){return{id:M,ai:H}}}K.unsupportedAIError(M)},unsupportedAIError:function(H){throw new Error(x.format("'{0}' is not a supported Application Identifier"),H)},getBySeparator:function(L,J){var K=this,N=L.indexOf(K.startAI,J),I=L.indexOf(K.endAI,N),M=L.substring(N+1,I),H=K.getAI(M)||K.getAI(M.substr(M.length-1));if(!H){K.unsupportedAIError(M)}return{ai:H,id:M}},getAI:function(M){var H=this.applicationIdentifiers,L=H.multiKey;if(H[M]){return H[M]}for(var K=0;K<L.length;K++){if(L[K].ids&&D(M,L[K].ids)>=0){return L[K].type}else{if(L[K].ranges){var I=L[K].ranges;for(var J=0;J<I.length;J++){if(I[J][0]<=M&&M<=I[J][1]){return L[K].type}}}}}},applicationIdentifiers:{"22":{max:29,type:"alphanumeric"},"402":{length:17},"7004":{max:4,type:"alphanumeric"},"242":{max:6,type:"alphanumeric"},"8020":{max:25,type:"alphanumeric"},"703":{min:3,max:30,type:"alphanumeric"},"8008":{min:8,max:12,type:"alphanumeric"},"253":{min:13,max:17,type:"alphanumeric"},"8003":{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[90-99]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102});var A=h.extend({init:function(H){h.fn.init.call(this,H);this._initStates()},_initStates:function(){var I=this;for(var H=0;H<I.states.length;H++){I[I.states[H]]=new d[I.states[H]](I,I.states)}},initValue:function(K,I,H){var J=this;J.pattern=[];J.value=K;J.width=I;J.height=H;J.checkSum=0;J.totalUnits=0;J.index=0;J.position=1},addData:function(){var I=this,H={value:I.value,index:0,state:""};if(I.value.length===0){return}H.state=H.previousState=I.getNextState(H,I.states);I.addStart(H);I.pushData(H,I.states);I.addCheckSum();I.addStop();I.setBaseUnit()},pushData:function(K,I){var J=this;while(true){J[K.state].pushState(K);if(K.index>=K.value.length){break}if(!K.shifted){K.previousState=K.state;K.state=J.getNextState(K,I);J[K.state].move(K)}else{var H=K.state;K.state=K.previousState;K.previousState=H;K.shifted=false}}},addStart:function(H){this[H.state].addStart(H);this.position=1},addCheckSum:function(){var H=this;H.checksum=H.checkSum%103;H.addPattern(H.checksum)},addStop:function(){this.addPattern(this.STOP)},setBaseUnit:function(){var H=this;H.baseUnit=H.width/(H.totalUnits+H.quietZoneLength)},addPattern:function(J){var I=this,L=I.characterMap[J].toString(),K;for(var H=0;H<L.length;H++){K=parseInt(L.charAt(H),10);I.pattern.push(K);I.totalUnits+=K}I.checkSum+=J*I.position++},getNextState:function(J,H){for(var I=0;I<H.length;I++){if(this[H[I]].is(J.value,J.index)){return H[I]}}this.invalidCharacterError(J.value.charAt(J.index))},characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106});v.code128a=A.extend({name:"Code 128 A",states:["A"]});v.code128b=A.extend({name:"Code 128 B",states:["B"]});v.code128c=A.extend({name:"Code 128 C",states:["C"]});v.code128=A.extend({name:"Code 128",states:["C","B","A","FNC4"]});v["gs1-128"]=A.extend({name:"Code GS1-128",states:["FNC1","C","B"]});var F=h.extend({initValue:function(J,H){var I=this;I.pattern=[];I.value=J;I.checkSumLength=0;I.width=H},setBaseUnit:function(){var H=this,I=7;H.baseUnit=H.width/(12*(H.value.length+H.checkSumLength)+H.quietZoneLength+I)},addData:function(){var I=this,J=I.value;I.addPattern(I.START);for(var H=0;H<J.length;H++){I.addCharacter(J.charAt(H))}if(I.options.addCheckSum){I.addCheckSum()}I.addPattern(I.STOP);I.setBaseUnit()},addCharacter:function(J){var H=this,I=H.characterMap[J];if(!I){H.invalidCharacterError(J)}H.addPattern(I)},addPattern:function(I){for(var H=0;H<I.length;H++){this.pattern.push(parseInt(I.charAt(H),10))}},addCheckSum:function(){var K=this,H=K.checkSums[K.checkSumType],J;J=H.call(K.checkSums,K.value);K.checksum=J.join("");for(var I=0;I<J.length;I++){K.checkSumLength++;K.addPattern(K.characterMap[J[I]])}},checkSums:{Modulo10:function(M){var J=[0,""],L=M.length%2,H,K,I;for(H=0;H<M.length;H++){J[(H+L)%2]+=parseInt(M.charAt(H),10)}I=J[0];K=(J[1]*2).toString();for(H=0;H<K.length;H++){I+=parseInt(K.charAt(H),10)}return[(10-(I%10))%10]},Modulo11:function(N){var M=0,I=11,K=N.length,L,J;for(var H=0;H<K;H++){L=((K-H)%6||6)+1;M+=L*N.charAt(H)}J=(I-M%I)%I;if(J!=10){return[J]}return[1,0]},Modulo11Modulo10:function(J){var I=this.Modulo11(J),H;H=J+I[0];return I.concat(this.Modulo10(H))},Modulo10Modulo10:function(J){var I=this.Modulo10(J),H;H=J+I[0];return I.concat(this.Modulo10(H))}},characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:""});v.msimod10=F.extend({name:"MSI Modulo10",checkSumType:"Modulo10"});v.msimod11=F.extend({name:"MSI Modulo11",checkSumType:"Modulo11"});v.msimod1110=F.extend({name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"});v.msimod1010=F.extend({name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"});v.code11=h.extend({name:"Code 11",cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221",initValue:function(J,H){var I=this;I.pattern=[];I.value=J;I.width=H;I.totalUnits=0},addData:function(){var I=this;var J=I.value;I.addPattern(I.START);for(var H=0;H<J.length;H++){I.addCharacter(J.charAt(H))}if(I.options.addCheckSum){I.addCheckSum()}I.addPattern(I.STOP);I.setBaseUnit()},setBaseUnit:function(){var H=this;H.baseUnit=H.width/(H.totalUnits+H.quietZoneLength)},addCheckSum:function(){var J=this,L=J.value,I=L.length,H;H=J.getWeightedSum(L,I,J.cCheckSumTotal)%J.checkSumMod;J.checksum=H+"";J.addPattern(J.characterMap[H]);I++;if(I>=J.kCheckSumMinLength){var K=(H+J.getWeightedSum(L,I,J.kCheckSumTotal))%J.checkSumMod;J.checksum+=K;J.addPattern(J.characterMap[K])}},getWeightedSum:function(L,J,I){var K=0;for(var H=0;H<L.length;H++){K+=this.weightedValue(this.getValue(L.charAt(H)),J,H,I)}return K},weightedValue:function(L,J,H,I){var K=(J-H)%I||I;return K*L},getValue:function(I){var H=this;if(!isNaN(I)){return parseInt(I,10)}else{if(I!==H.DASH){H.invalidCharacterError(I)}}return H.DASH_VALUE},addCharacter:function(K){var H=this,J=H.getValue(K),I=H.characterMap[J];H.addPattern(I)},addPattern:function(J){var I;for(var H=0;H<J.length;H++){I=parseInt(J.charAt(H),10);this.pattern.push(I);this.totalUnits+=I}},characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],options:{addCheckSum:true}});v.postnet=h.extend({name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",initValue:function(K,I,H){var J=this;J.height=H;J.width=I;J.baseHeight=H/2;J.value=K.replace(new RegExp(J.DIGIT_SEPARATOR,"g"),"");J.pattern=[];J.validate(J.value);J.checkSum=0;J.setBaseUnit()},addData:function(){var I=this,J=I.value;I.addPattern(I.START);for(var H=0;H<J.length;H++){I.addCharacter(J.charAt(H))}if(I.options.addCheckSum){I.addCheckSum()}I.addPattern(I.START);I.pattern.pop()},addCharacter:function(J){var H=this,I=H.characterMap[J];H.checkSum+=parseInt(J,10);H.addPattern(I)},addCheckSum:function(){var H=this;H.checksum=(10-(H.checkSum%10))%10;H.addCharacter(H.checksum)},setBaseUnit:function(){var H=this,I=3;H.baseUnit=H.width/((H.value.length+1)*10+I+H.quietZoneLength)},validate:function(I){var H=this;if(!l.test(I)){H.invalidCharacterError(I.match(/[^0-9]/)[0])}if(D(I.length,H.VALID_CODE_LENGTHS)<0){throw new Error("Invalid value length. Valid lengths for the Postnet symbology are "+H.VALID_CODE_LENGTHS.join(","))}},addPattern:function(K){var J=this,I;for(var H=0;H<K.length;H++){I=J.height-J.baseHeight*K.charAt(H);J.pattern.push({width:1,y1:I,y2:J.height});J.pattern.push(1)}},characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]});v.ean13=h.extend({initValue:function(K,I,H){K+="";if(K.length!=12||/\D/.test(K)){throw new Error('The value of the "EAN13" encoding should be 12 symbols')}var J=this;J.pattern=[];J.options.height=H;J.baseUnit=I/(95+J.quietZoneLength);J.value=K;J.checksum=J.calculateChecksum();J.leftKey=K[0];J.leftPart=K.substr(1,6);J.rightPart=K.substr(7)+J.checksum},addData:function(){var H=this;H.addPieces(H.characterMap.start);H.addSide(H.leftPart,H.leftKey);H.addPieces(H.characterMap.middle);H.addSide(H.rightPart);H.addPieces(H.characterMap.start)},addSide:function(J,I){var K=this;for(var H=0;H<J.length;H++){if(I&&parseInt(K.keyTable[I].charAt(H),10)){K.addPieces(Array.prototype.slice.call(K.characterMap.digits[J.charAt(H)]).reverse(),true)}else{K.addPieces(K.characterMap.digits[J.charAt(H)],true)}}},addPieces:function(K,H){var J=this;for(var I=0;I<K.length;I++){if(H){J.pattern.push({y1:0,y2:J.options.height*0.95,width:K[I]})}else{J.pattern.push(K[I])}}},calculateChecksum:function(){var K=0,L=0,J=this.value.split("").reverse().join("");for(var H=0;H<J.length;H++){if(H%2){L+=parseInt(J.charAt(H),10)}else{K+=parseInt(J.charAt(H),10)}}var I=(10-((3*K+L)%10))%10;return I},keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}});v.ean8=v.ean13.extend({initValue:function(K,I,H){var J=this;if(K.length!=7||/\D/.test(K)){throw new Error("Invalid value provided")}J.value=K;J.options.height=H;J.checksum=J.calculateChecksum(J.value);J.leftPart=J.value.substr(0,4);J.rightPart=J.value.substr(4)+J.checksum;J.pattern=[];J.baseUnit=I/(67+J.quietZoneLength)}});var r=f.extend({init:function(I,H){var J=this;f.fn.init.call(J,I,H);J.element=k(I);J.wrapper=J.element;J.element.addClass("k-barcode").css("display","block");J.surfaceWrap=k("<div />").css("position","relative").appendTo(this.element);J.surface=q.Surface.create(J.surfaceWrap,{type:J.options.renderAs});J.setOptions(H)},setOptions:function(H){var I=this;I.type=(H.type||I.options.type).toLowerCase();if(I.type=="upca"){I.type="ean13";H.value="0"+H.value}if(I.type=="upce"){I.type="ean8";H.value="0"+H.value}if(!v[I.type]){throw new Error("Encoding "+I.type+"is not supported.")}I.encoding=new v[I.type]();I.options=E(true,I.options,H);if(!e(H.value)){return}I.redraw()},redraw:function(){var H=this._getSize();this.surfaceWrap.css({width:H.width,height:H.height});this.surface.clear();this.createVisual();this.surface.draw(this.visual)},getSize:function(){return x.dimensions(this.element)},_resize:function(){this.redraw()},createVisual:function(){this.visual=this._render()},_render:function(){var L=this,U=L.options,O=U.value,R=U.text,J=o.getSpacing(R.margin),T=L._getSize(),K=U.border||{},I=L.encoding,M=j(0,0,T.width,T.height).unpad(K.width).unpad(U.padding),Q=M.height(),S,P,N;var H=new q.Group();L.contentBox=M;H.append(L._getBackground(T));if(R.visible){N=q.util.measureText(O,{font:R.font}).height;Q-=N+J.top+J.bottom}S=I.encode(O,M.width(),Q);if(R.visible){P=O;if(U.checksum&&e(I.checksum)){P+=" "+I.checksum}H.append(L._getText(P))}L.barHeight=Q;this._bandsGroup=this._getBands(S.pattern,S.baseUnit);H.append(this._bandsGroup);return H},exportVisual:function(){return this._render()},_getSize:function(){var J=this,I=J.element,H=new z.Size(i,y);if(I.width()>0){H.width=I.width()}if(I.height()>0){H.height=I.height()}if(J.options.width){H.width=J.options.width}if(J.options.height){H.height=J.options.height}return H},value:function(I){var H=this;if(!e(I)){return H.options.value}H.options.value=I+"";H.redraw()},_getBands:function(L,O){var K=this,M=K.contentBox,J=M.x1,H,Q;var P=new q.Group();for(var I=0;I<L.length;I++){Q=w(L[I])?L[I]:{width:L[I],y1:0,y2:K.barHeight};H=Q.width*O;if(I%2){var N=z.Rect.fromPoints(new z.Point(J,Q.y1+M.y1),new z.Point(J+H,Q.y2+M.y1));var R=q.Path.fromRect(N,{fill:{color:K.options.color},stroke:null});P.append(R)}J+=H}return P},_getBackground:function(J){var L=this,I=L.options,H=I.border||{};var K=j(0,0,J.width,J.height).unpad(H.width/2);var M=q.Path.fromRect(K.toRect(),{fill:{color:I.background},stroke:{color:H.width?H.color:"",width:H.width,dashType:H.dashType}});return M},_getText:function(J){var I=this,H=I.options.text,K=I._textbox=new t(J,{font:H.font,color:H.color,align:"center",vAlign:"bottom",margin:H.margin});K.reflow(I.contentBox);K.renderVisual();return K.visual},options:{name:"Barcode",renderAs:"svg",value:"",type:"code39",checksum:false,width:0,height:0,color:"black",background:"white",text:{visible:true,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}}});o.ExportMixin.extend(r.fn);o.ui.plugin(r);x.deepExtend(o,{encodings:v,Encoding:h})})(window.kendo.jQuery);(function(az,w){var q=window.kendo,Z=az.extend,aJ=q.geometry,ai=q.drawing,X=q.dataviz,j=q.ui.Widget,u=X.Box2D,G="0000",aD="numeric",N="alphanumeric",aI="byte",aj={"1":0},ay={"0":1},D=[[1,0],[1,25,0]],aw={15:20,16:20,18:24,19:24,22:20,24:22,26:24,28:20,30:20,31:24,32:28,33:24,36:18,37:22,39:20,40:24},an=[{L:{groups:[[1,19]],totalDataCodewords:19,errorCodewordsPerBlock:7},M:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:10},Q:{groups:[[1,13]],totalDataCodewords:13,errorCodewordsPerBlock:13},H:{groups:[[1,9]],totalDataCodewords:9,errorCodewordsPerBlock:17}},{L:{groups:[[1,34]],totalDataCodewords:34,errorCodewordsPerBlock:10},M:{groups:[[1,28]],totalDataCodewords:28,errorCodewordsPerBlock:16},Q:{groups:[[1,22]],totalDataCodewords:22,errorCodewordsPerBlock:22},H:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:28}},{L:{groups:[[1,55]],totalDataCodewords:55,errorCodewordsPerBlock:15},M:{groups:[[1,44]],totalDataCodewords:44,errorCodewordsPerBlock:26},Q:{groups:[[2,17]],totalDataCodewords:34,errorCodewordsPerBlock:18},H:{groups:[[2,13]],totalDataCodewords:26,errorCodewordsPerBlock:22}},{L:{groups:[[1,80]],totalDataCodewords:80,errorCodewordsPerBlock:20},M:{groups:[[2,32]],totalDataCodewords:64,errorCodewordsPerBlock:18},Q:{groups:[[2,24]],totalDataCodewords:48,errorCodewordsPerBlock:26},H:{groups:[[4,9]],totalDataCodewords:36,errorCodewordsPerBlock:16}},{L:{groups:[[1,108]],totalDataCodewords:108,errorCodewordsPerBlock:26},M:{groups:[[2,43]],totalDataCodewords:86,errorCodewordsPerBlock:24},Q:{groups:[[2,15],[2,16]],totalDataCodewords:62,errorCodewordsPerBlock:18},H:{groups:[[2,11],[2,12]],totalDataCodewords:46,errorCodewordsPerBlock:22}},{L:{groups:[[2,68]],totalDataCodewords:136,errorCodewordsPerBlock:18},M:{groups:[[4,27]],totalDataCodewords:108,errorCodewordsPerBlock:16},Q:{groups:[[4,19]],totalDataCodewords:76,errorCodewordsPerBlock:24},H:{groups:[[4,15]],totalDataCodewords:60,errorCodewordsPerBlock:28}},{L:{groups:[[2,78]],totalDataCodewords:156,errorCodewordsPerBlock:20},M:{groups:[[4,31]],totalDataCodewords:124,errorCodewordsPerBlock:18},Q:{groups:[[2,14],[4,15]],totalDataCodewords:88,errorCodewordsPerBlock:18},H:{groups:[[4,13],[1,14]],totalDataCodewords:66,errorCodewordsPerBlock:26}},{L:{groups:[[2,97]],totalDataCodewords:194,errorCodewordsPerBlock:24},M:{groups:[[2,38],[2,39]],totalDataCodewords:154,errorCodewordsPerBlock:22},Q:{groups:[[4,18],[2,19]],totalDataCodewords:110,errorCodewordsPerBlock:22},H:{groups:[[4,14],[2,15]],totalDataCodewords:86,errorCodewordsPerBlock:26}},{L:{groups:[[2,116]],totalDataCodewords:232,errorCodewordsPerBlock:30},M:{groups:[[3,36],[2,37]],totalDataCodewords:182,errorCodewordsPerBlock:22},Q:{groups:[[4,16],[4,17]],totalDataCodewords:132,errorCodewordsPerBlock:20},H:{groups:[[4,12],[4,13]],totalDataCodewords:100,errorCodewordsPerBlock:24}},{L:{groups:[[2,68],[2,69]],totalDataCodewords:274,errorCodewordsPerBlock:18},M:{groups:[[4,43],[1,44]],totalDataCodewords:216,errorCodewordsPerBlock:26},Q:{groups:[[6,19],[2,20]],totalDataCodewords:154,errorCodewordsPerBlock:24},H:{groups:[[6,15],[2,16]],totalDataCodewords:122,errorCodewordsPerBlock:28}},{L:{groups:[[4,81]],totalDataCodewords:324,errorCodewordsPerBlock:20},M:{groups:[[1,50],[4,51]],totalDataCodewords:254,errorCodewordsPerBlock:30},Q:{groups:[[4,22],[4,23]],totalDataCodewords:180,errorCodewordsPerBlock:28},H:{groups:[[3,12],[8,13]],totalDataCodewords:140,errorCodewordsPerBlock:24}},{L:{groups:[[2,92],[2,93]],totalDataCodewords:370,errorCodewordsPerBlock:24},M:{groups:[[6,36],[2,37]],totalDataCodewords:290,errorCodewordsPerBlock:22},Q:{groups:[[4,20],[6,21]],totalDataCodewords:206,errorCodewordsPerBlock:26},H:{groups:[[7,14],[4,15]],totalDataCodewords:158,errorCodewordsPerBlock:28}},{L:{groups:[[4,107]],totalDataCodewords:428,errorCodewordsPerBlock:26},M:{groups:[[8,37],[1,38]],totalDataCodewords:334,errorCodewordsPerBlock:22},Q:{groups:[[8,20],[4,21]],totalDataCodewords:244,errorCodewordsPerBlock:24},H:{groups:[[12,11],[4,12]],totalDataCodewords:180,errorCodewordsPerBlock:22}},{L:{groups:[[3,115],[1,116]],totalDataCodewords:461,errorCodewordsPerBlock:30},M:{groups:[[4,40],[5,41]],totalDataCodewords:365,errorCodewordsPerBlock:24},Q:{groups:[[11,16],[5,17]],totalDataCodewords:261,errorCodewordsPerBlock:20},H:{groups:[[11,12],[5,13]],totalDataCodewords:197,errorCodewordsPerBlock:24}},{L:{groups:[[5,87],[1,88]],totalDataCodewords:523,errorCodewordsPerBlock:22},M:{groups:[[5,41],[5,42]],totalDataCodewords:415,errorCodewordsPerBlock:24},Q:{groups:[[5,24],[7,25]],totalDataCodewords:295,errorCodewordsPerBlock:30},H:{groups:[[11,12],[7,13]],totalDataCodewords:223,errorCodewordsPerBlock:24}},{L:{groups:[[5,98],[1,99]],totalDataCodewords:589,errorCodewordsPerBlock:24},M:{groups:[[7,45],[3,46]],totalDataCodewords:453,errorCodewordsPerBlock:28},Q:{groups:[[15,19],[2,20]],totalDataCodewords:325,errorCodewordsPerBlock:24},H:{groups:[[3,15],[13,16]],totalDataCodewords:253,errorCodewordsPerBlock:30}},{L:{groups:[[1,107],[5,108]],totalDataCodewords:647,errorCodewordsPerBlock:28},M:{groups:[[10,46],[1,47]],totalDataCodewords:507,errorCodewordsPerBlock:28},Q:{groups:[[1,22],[15,23]],totalDataCodewords:367,errorCodewordsPerBlock:28},H:{groups:[[2,14],[17,15]],totalDataCodewords:283,errorCodewordsPerBlock:28}},{L:{groups:[[5,120],[1,121]],totalDataCodewords:721,errorCodewordsPerBlock:30},M:{groups:[[9,43],[4,44]],totalDataCodewords:563,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[1,23]],totalDataCodewords:397,errorCodewordsPerBlock:28},H:{groups:[[2,14],[19,15]],totalDataCodewords:313,errorCodewordsPerBlock:28}},{L:{groups:[[3,113],[4,114]],totalDataCodewords:795,errorCodewordsPerBlock:28},M:{groups:[[3,44],[11,45]],totalDataCodewords:627,errorCodewordsPerBlock:26},Q:{groups:[[17,21],[4,22]],totalDataCodewords:445,errorCodewordsPerBlock:26},H:{groups:[[9,13],[16,14]],totalDataCodewords:341,errorCodewordsPerBlock:26}},{L:{groups:[[3,107],[5,108]],totalDataCodewords:861,errorCodewordsPerBlock:28},M:{groups:[[3,41],[13,42]],totalDataCodewords:669,errorCodewordsPerBlock:26},Q:{groups:[[15,24],[5,25]],totalDataCodewords:485,errorCodewordsPerBlock:30},H:{groups:[[15,15],[10,16]],totalDataCodewords:385,errorCodewordsPerBlock:28}},{L:{groups:[[4,116],[4,117]],totalDataCodewords:932,errorCodewordsPerBlock:28},M:{groups:[[17,42]],totalDataCodewords:714,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[6,23]],totalDataCodewords:512,errorCodewordsPerBlock:28},H:{groups:[[19,16],[6,17]],totalDataCodewords:406,errorCodewordsPerBlock:30}},{L:{groups:[[2,111],[7,112]],totalDataCodewords:1006,errorCodewordsPerBlock:28},M:{groups:[[17,46]],totalDataCodewords:782,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[16,25]],totalDataCodewords:568,errorCodewordsPerBlock:30},H:{groups:[[34,13]],totalDataCodewords:442,errorCodewordsPerBlock:24}},{L:{groups:[[4,121],[5,122]],totalDataCodewords:1094,errorCodewordsPerBlock:30},M:{groups:[[4,47],[14,48]],totalDataCodewords:860,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[14,25]],totalDataCodewords:614,errorCodewordsPerBlock:30},H:{groups:[[16,15],[14,16]],totalDataCodewords:464,errorCodewordsPerBlock:30}},{L:{groups:[[6,117],[4,118]],totalDataCodewords:1174,errorCodewordsPerBlock:30},M:{groups:[[6,45],[14,46]],totalDataCodewords:914,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[16,25]],totalDataCodewords:664,errorCodewordsPerBlock:30},H:{groups:[[30,16],[2,17]],totalDataCodewords:514,errorCodewordsPerBlock:30}},{L:{groups:[[8,106],[4,107]],totalDataCodewords:1276,errorCodewordsPerBlock:26},M:{groups:[[8,47],[13,48]],totalDataCodewords:1000,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[22,25]],totalDataCodewords:718,errorCodewordsPerBlock:30},H:{groups:[[22,15],[13,16]],totalDataCodewords:538,errorCodewordsPerBlock:30}},{L:{groups:[[10,114],[2,115]],totalDataCodewords:1370,errorCodewordsPerBlock:28},M:{groups:[[19,46],[4,47]],totalDataCodewords:1062,errorCodewordsPerBlock:28},Q:{groups:[[28,22],[6,23]],totalDataCodewords:754,errorCodewordsPerBlock:28},H:{groups:[[33,16],[4,17]],totalDataCodewords:596,errorCodewordsPerBlock:30}},{L:{groups:[[8,122],[4,123]],totalDataCodewords:1468,errorCodewordsPerBlock:30},M:{groups:[[22,45],[3,46]],totalDataCodewords:1128,errorCodewordsPerBlock:28},Q:{groups:[[8,23],[26,24]],totalDataCodewords:808,errorCodewordsPerBlock:30},H:{groups:[[12,15],[28,16]],totalDataCodewords:628,errorCodewordsPerBlock:30}},{L:{groups:[[3,117],[10,118]],totalDataCodewords:1531,errorCodewordsPerBlock:30},M:{groups:[[3,45],[23,46]],totalDataCodewords:1193,errorCodewordsPerBlock:28},Q:{groups:[[4,24],[31,25]],totalDataCodewords:871,errorCodewordsPerBlock:30},H:{groups:[[11,15],[31,16]],totalDataCodewords:661,errorCodewordsPerBlock:30}},{L:{groups:[[7,116],[7,117]],totalDataCodewords:1631,errorCodewordsPerBlock:30},M:{groups:[[21,45],[7,46]],totalDataCodewords:1267,errorCodewordsPerBlock:28},Q:{groups:[[1,23],[37,24]],totalDataCodewords:911,errorCodewordsPerBlock:30},H:{groups:[[19,15],[26,16]],totalDataCodewords:701,errorCodewordsPerBlock:30}},{L:{groups:[[5,115],[10,116]],totalDataCodewords:1735,errorCodewordsPerBlock:30},M:{groups:[[19,47],[10,48]],totalDataCodewords:1373,errorCodewordsPerBlock:28},Q:{groups:[[15,24],[25,25]],totalDataCodewords:985,errorCodewordsPerBlock:30},H:{groups:[[23,15],[25,16]],totalDataCodewords:745,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[3,116]],totalDataCodewords:1843,errorCodewordsPerBlock:30},M:{groups:[[2,46],[29,47]],totalDataCodewords:1455,errorCodewordsPerBlock:28},Q:{groups:[[42,24],[1,25]],totalDataCodewords:1033,errorCodewordsPerBlock:30},H:{groups:[[23,15],[28,16]],totalDataCodewords:793,errorCodewordsPerBlock:30}},{L:{groups:[[17,115]],totalDataCodewords:1955,errorCodewordsPerBlock:30},M:{groups:[[10,46],[23,47]],totalDataCodewords:1541,errorCodewordsPerBlock:28},Q:{groups:[[10,24],[35,25]],totalDataCodewords:1115,errorCodewordsPerBlock:30},H:{groups:[[19,15],[35,16]],totalDataCodewords:845,errorCodewordsPerBlock:30}},{L:{groups:[[17,115],[1,116]],totalDataCodewords:2071,errorCodewordsPerBlock:30},M:{groups:[[14,46],[21,47]],totalDataCodewords:1631,errorCodewordsPerBlock:28},Q:{groups:[[29,24],[19,25]],totalDataCodewords:1171,errorCodewordsPerBlock:30},H:{groups:[[11,15],[46,16]],totalDataCodewords:901,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[6,116]],totalDataCodewords:2191,errorCodewordsPerBlock:30},M:{groups:[[14,46],[23,47]],totalDataCodewords:1725,errorCodewordsPerBlock:28},Q:{groups:[[44,24],[7,25]],totalDataCodewords:1231,errorCodewordsPerBlock:30},H:{groups:[[59,16],[1,17]],totalDataCodewords:961,errorCodewordsPerBlock:30}},{L:{groups:[[12,121],[7,122]],totalDataCodewords:2306,errorCodewordsPerBlock:30},M:{groups:[[12,47],[26,48]],totalDataCodewords:1812,errorCodewordsPerBlock:28},Q:{groups:[[39,24],[14,25]],totalDataCodewords:1286,errorCodewordsPerBlock:30},H:{groups:[[22,15],[41,16]],totalDataCodewords:986,errorCodewordsPerBlock:30}},{L:{groups:[[6,121],[14,122]],totalDataCodewords:2434,errorCodewordsPerBlock:30},M:{groups:[[6,47],[34,48]],totalDataCodewords:1914,errorCodewordsPerBlock:28},Q:{groups:[[46,24],[10,25]],totalDataCodewords:1354,errorCodewordsPerBlock:30},H:{groups:[[2,15],[64,16]],totalDataCodewords:1054,errorCodewordsPerBlock:30}},{L:{groups:[[17,122],[4,123]],totalDataCodewords:2566,errorCodewordsPerBlock:30},M:{groups:[[29,46],[14,47]],totalDataCodewords:1992,errorCodewordsPerBlock:28},Q:{groups:[[49,24],[10,25]],totalDataCodewords:1426,errorCodewordsPerBlock:30},H:{groups:[[24,15],[46,16]],totalDataCodewords:1096,errorCodewordsPerBlock:30}},{L:{groups:[[4,122],[18,123]],totalDataCodewords:2702,errorCodewordsPerBlock:30},M:{groups:[[13,46],[32,47]],totalDataCodewords:2102,errorCodewordsPerBlock:28},Q:{groups:[[48,24],[14,25]],totalDataCodewords:1502,errorCodewordsPerBlock:30},H:{groups:[[42,15],[32,16]],totalDataCodewords:1142,errorCodewordsPerBlock:30}},{L:{groups:[[20,117],[4,118]],totalDataCodewords:2812,errorCodewordsPerBlock:30},M:{groups:[[40,47],[7,48]],totalDataCodewords:2216,errorCodewordsPerBlock:28},Q:{groups:[[43,24],[22,25]],totalDataCodewords:1582,errorCodewordsPerBlock:30},H:{groups:[[10,15],[67,16]],totalDataCodewords:1222,errorCodewordsPerBlock:30}},{L:{groups:[[19,118],[6,119]],totalDataCodewords:2956,errorCodewordsPerBlock:30},M:{groups:[[18,47],[31,48]],totalDataCodewords:2334,errorCodewordsPerBlock:28},Q:{groups:[[34,24],[34,25]],totalDataCodewords:1666,errorCodewordsPerBlock:30},H:{groups:[[20,15],[61,16]],totalDataCodewords:1276,errorCodewordsPerBlock:30}}],aF=[1,0,1,1,1],t=[1,0,1],ab={L:"01",M:"00",Q:"11",H:"10"},af="101010000010010",ae="10100110111",R="1111100100101",ar=["11101100","00010001"],ap=93,S=[function(aM,aL){return(aM+aL)%2===0},function(aL){return aL%2===0},function(aM,aL){return aL%3===0},function(aM,aL){return(aM+aL)%3===0},function(aM,aL){return(Math.floor(aM/2)+Math.floor(aL/3))%2===0},function(aM,aL){return((aM*aL)%2)+((aM*aL)%3)===0},function(aM,aL){return(((aM*aL)%2)+((aM*aL)%3))%2===0},function(aM,aL){return(((aM+aL)%2)+((aM*aL)%3))%2===0}],ax=/^\d+/,aG="A-Z0-9 $%*+./:-",aC="A-Z $%*+./:-",al=new RegExp("^["+aC+"]+"),O=new RegExp("^["+aG+"]+"),E=new RegExp("^[^"+aG+"]+"),aK=8,f=5,W=8,ah=17,L=9,aE=16,J=Math.round;function p(aL){return parseInt(aL,2)}function ak(aN,aM){var aL=Number(aN).toString(2);if(aL.length<aM){aL=new Array(aM-aL.length+1).join(0)+aL}return aL}function K(aN,aO){var aM=[],aL=0;while(aL<aN.length){aM.push(aN.substring(aL,aL+aO));aL+=aO}return aM}var y=q.Class.extend({getVersionIndex:function(aL){if(aL<10){return 0}else{if(aL>26){return 2}}return 1},getBitsCharacterCount:function(aL){var aM=this;return aM.bitsInCharacterCount[aM.getVersionIndex(aL||40)]},getModeCountString:function(aM,aL){var aN=this;return aN.modeIndicator+ak(aM,aN.getBitsCharacterCount(aL))},encode:function(){},getStringBitsLength:function(){},getValue:function(){},modeIndicator:"",bitsInCharacterCount:[]});var s={};s[aD]=y.extend({bitsInCharacterCount:[10,12,14],modeIndicator:"0001",getValue:function(aL){return parseInt(aL,10)},encode:function(aQ,aM){var aP=this,aO=K(aQ,3),aL=aP.getModeCountString(aQ.length,aM);for(var aN=0;aN<aO.length-1;aN++){aL+=ak(aO[aN],10)}return aL+ak(aO[aN],1+3*aO[aN].length)},getStringBitsLength:function(aM,aL){var aN=aM%3;return 4+this.getBitsCharacterCount(aL)+10*Math.floor(aM/3)+3*aN+(aN===0?0:1)}});s[N]=y.extend({characters:{"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,"$":37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44},bitsInCharacterCount:[9,11,13],modeIndicator:"0010",getValue:function(aL){return this.characters[aL]},encode:function(aR,aM){var aQ=this,aP=K(aR,2),aL=aQ.getModeCountString(aR.length,aM),aO;for(var aN=0;aN<aP.length-1;aN++){aO=45*aQ.getValue(aP[aN].charAt(0))+aQ.getValue(aP[aN].charAt(1));aL+=ak(aO,11)}aO=aP[aN].length==2?45*aQ.getValue(aP[aN].charAt(0))+aQ.getValue(aP[aN].charAt(1)):aQ.getValue(aP[aN].charAt(0));return aL+ak(aO,1+5*aP[aN].length)},getStringBitsLength:function(aM,aL){return 4+this.getBitsCharacterCount(aL)+11*Math.floor(aM/2)+6*(aM%2)}});s[aI]=y.extend({bitsInCharacterCount:[8,16,16],modeIndicator:"0100",getValue:function(aM){var aL=aM.charCodeAt(0);if(aL<=127||(160<=aL&&aL<=255)){return aL}else{throw new Error("Unsupported character: "+aM)}},encode:function(aP,aM){var aO=this,aL=aO.getModeCountString(aP.length,aM);for(var aN=0;aN<aP.length;aN++){aL+=ak(aO.getValue(aP.charAt(aN)),8)}return aL},getStringBitsLength:function(aM,aL){return 4+this.getBitsCharacterCount(aL)+8*aM}});var m={};for(var Y in s){m[Y]=new s[Y]()}var n=function(aL){var aP=this,aQ=aL.length-1,aO=aL.length-1,aN=aO,aM=-1,aR=0;aP.move=function(){aQ+=aM*aR;aR^=1;aO=aN-aR};aP.getNextCell=function(){while(aL[aQ][aO]!==w){aP.move();if(aQ<0||aQ>=aL.length){aM=-aM;aN-=aN!=8?2:3;aO=aN;aQ=aM<0?aL.length-1:0}}return{row:aQ,column:aO}};aP.getNextRemainderCell=function(){aP.move();if(aL[aQ][aO]===w){return{row:aQ,column:aO}}}};function k(aM,aO,aL,aP){for(var aN=0;aN<aM.length;aN++){aM[aN][aL][aP]=aO}}function C(aM,aO,aL,aP){for(var aN=0;aN<S.length;aN++){aM[aN][aL][aP]=S[aN](aL,aP)?aO^1:parseInt(aO,10)}}var au=function(aR,aL){var aT=new n(aR[0]),aO,aM,aS;for(var aN=0;aN<aL.length;aN++){aO=aL[aN];aM=0;while(aO.length>0){for(var aQ=0;aQ<aO.length;aQ++){for(var aP=0;aP<8;aP++){aS=aT.getNextCell();C(aR,aO[aQ][aM].charAt(aP),aS.row,aS.column)}}aM++;while(aO[0]&&aM==aO[0].length){aO.splice(0,1)}}}while((aS=aT.getNextRemainderCell())){C(aR,0,aS.row,aS.column)}};var aa=function(aN,aO){var aP=aO*8,aM=0,aL=0;while(aN.length<aP&&aM<G.length){aN+=G.charAt(aM++)}if(aN.length%8!==0){aN+=new Array(9-aN.length%8).join("0")}while(aN.length<aP){aN+=ar[aL];aL^=1}return aN};function g(){var aL;for(var aM=1;aM<255;aM++){aL=ay[aM-1]*2;if(aL>255){aL=aL^285}ay[aM]=aL;aj[aL]=aM}aL=(ay[aM-1]*2)^285;ay[aM]=aL;ay[-1]=0}var c=function(aN,aP){var aM=[],aL=aN.length-2;for(var aO=aL;aO>=0;aO--){aM[aO]=aN[aO]^aP[aO]}return aM};var d=function(aM,aP){var aL=[];for(var aO=0;aO<aM.length;aO++){for(var aN=0;aN<aP.length;aN++){if(aL[aO+aN]===w){aL[aO+aN]=(aM[aO]+(aP[aN]>=0?aP[aN]:0))%255}else{aL[aO+aN]=aj[ay[aL[aO+aN]]^ay[(aM[aO]+aP[aN])%255]]}}}return aL};function e(){var aN=68;for(var aM=2;aM<=aN;aM++){var aL=D[aM-1],aO=[aM,0];D[aM]=d(aL,aO)}}g();e();function i(aN,aO){var aM=[],aL=aN.length-1;do{aM[aL]=ay[(aN[aL]+aO)%255];aL--}while(aN[aL]!==w);return aM}var x=function(aN,aP){var aO=D[aP-1],aT=new Array(aP).concat(aN),aL=new Array(aT.length-aO.length).concat(aO),aQ=aN.length,aS=[],aM,aR;for(aR=0;aR<aQ;aR++){aM=i(aL,aj[aT[aT.length-1]]);aL.splice(0,1);aT=c(aM,aT)}for(aR=aT.length-1;aR>=0;aR--){aS[aP-1-aR]=ak(aT[aR],8)}return aS};var Q=function(aX,aN){var aQ=0,aM=[],aW=[],aS,aT=aN.groups,aV,aU,aL,aR;for(var aY=0;aY<aT.length;aY++){aU=aT[aY][0];for(var aP=0;aP<aU;aP++){aV=aT[aY][1];aS=[];aL=[];for(var aO=1;aO<=aV;aO++){aR=aX.substring(aQ,aQ+8);aS.push(aR);aL[aV-aO]=p(aR);aQ+=8}aM.push(aS);aW.push(x(aL,aN.errorCodewordsPerBlock))}}return[aM,aW]};var aB=function(aU,aR,aO,aQ,aX){var aV=ax.exec(aU),aM=aV?aV[0]:"",aP=al.exec(aU),aW=aP?aP[0]:"",aT=O.exec(aU),aL=aT?aT[0]:"",aS,aN;if(aM&&(aM.length>=aR||aU.length==aM.length||(aM.length>=aO&&!O.test(aU.charAt(aM.length))))){aS=aD;aN=aM}else{if(aL&&(aU.length==aL.length||aL.length>=aQ||aX==N)){aS=N;aN=aM||aW}else{aS=aI;if(aL){aN=aL+E.exec(aU.substring(aL.length))[0]}else{aN=E.exec(aU)[0]}}}return{mode:aS,modeString:aN}};var M=function(aP){var aO=[],aN,aL=0;aO.push(aB(aP,aK,f,W,aN));aN=aO[0].mode;aP=aP.substr(aO[0].modeString.length);while(aP.length>0){var aM=aB(aP,ah,L,aE,aN);if(aM.mode!=aN){aN=aM.mode;aO.push(aM);aL++}else{aO[aL].modeString+=aM.modeString}aP=aP.substr(aM.modeString.length)}return aO};var P=function(aN){var aM=0,aO;for(var aL=0;aL<aN.length;aL++){aO=m[aN[aL].mode];aM+=aO.getStringBitsLength(aN[aL].modeString.length)}return Math.ceil(aM/8)};var a=function(aO,aN){var aL=0,aP=an.length-1,aM=Math.floor(an.length/2);do{if(aO<an[aM][aN].totalDataCodewords){aP=aM}else{aL=aM}aM=aL+Math.floor((aP-aL)/2)}while(aP-aL>1);if(aO<=an[aL][aN].totalDataCodewords){return aM+1}return aP+1};var o=function(aO,aL){var aN="",aP;for(var aM=0;aM<aO.length;aM++){aP=m[aO[aM].mode];aN+=aP.encode(aO[aM].modeString,aL)}return aN};var V=function(aP){var aM=p(aP),aO,aL="";if(aM===0){return"101010000010010"}else{aO=aA(p(aP),ae,15)}for(var aN=0;aN<aO.length;aN++){aL+=aO.charAt(aN)^af.charAt(aN)}return aL};var aA=function(aQ,aM,aR){var aO=p(aM),aS=aM.length-1,aL=aQ<<aS,aN=aR-aS,aP=ak(aQ,aN),aT=r(aL,aO);aT=aP+ak(aT,aS);return aT};var r=function(aO,aM){var aN=aM.toString(2).length,aL=aO.toString(2).length;do{aO^=aM<<aL-aN;aL=aO.toString(2).length}while(aL>=aN);return aO};function I(aM,aL){return parseInt(aM.charAt(aL),10)}var z=function(aL){var aO=[],aN=17+4*aL;for(var aP=0;aP<S.length;aP++){aO[aP]=new Array(aN);for(var aM=0;aM<aN;aM++){aO[aP][aM]=new Array(aN)}}return aO};var b=function(aP,aN){var aO=aP[0],aM,aR,aL=0,aQ=aN.length;for(aM=0,aR=8;aM<=8;aM++){if(aM!==6){k(aP,I(aN,aQ-1-aL++),aM,aR)}}for(aM=8,aR=7;aR>=0;aR--){if(aR!==6){k(aP,I(aN,aQ-1-aL++),aM,aR)}}aL=0;for(aR=aO.length-1,aM=8;aR>=aO.length-8;aR--){k(aP,I(aN,aQ-1-aL++),aM,aR)}k(aP,1,aO.length-8,8);for(aM=aO.length-7,aR=8;aM<aO.length;aM++){k(aP,I(aN,aQ-1-aL++),aM,aR)}};var U=function(aL){return aA(aL,R,18)};var ac=function(aW,aP){var aT=aW[0],aN=aT.length,aM=0,aS=aN-11,aL=aN-11,aR=0,aO,aQ,aV;for(var aU=0;aU<aP.length;aU++){aO=Math.floor(aU/3);aQ=aU%3;aV=I(aP,aP.length-aU-1);k(aW,aV,aM+aO,aS+aQ);k(aW,aV,aL+aQ,aR+aO)}};var av=function(aS,aO,aQ,aP){var aT=aO.length+2,aL=aO.length+1,aR;for(var aN=0;aN<aO.length;aN++){for(var aM=aN;aM<aT-aN;aM++){aR=aO[aN];k(aS,aR,aQ+aM,aP+aN);k(aS,aR,aQ+aN,aP+aM);k(aS,aR,aQ+aL-aM,aP+aL-aN);k(aS,aR,aQ+aL-aN,aP+aL-aM)}}};var A=function(aN,aP,aL,aR){var aQ=aL,aO=aR,aM=aN[0];do{k(aN,0,aQ,aR);k(aN,0,aL,aO);aQ+=aP[0];aO+=aP[1]}while(aQ>=0&&aQ<aM.length)};var aq=function(aM){var aL=aM[0].length;av(aM,aF,0,0);A(aM,[-1,-1],7,7);av(aM,aF,aL-7,0);A(aM,[1,-1],aL-8,7);av(aM,aF,0,aL-7);A(aM,[-1,1],7,aL-8)};var ad=function(aU,aR){if(aR<2){return}var aS=aU[0],aN=aS.length,aQ=Math.floor(aR/7),aV=[6],aL,aM,aT=0;if((aL=aw[aR])){aM=(aN-13-aL)/aQ}else{aL=aM=(aN-13)/(aQ+1)}aV.push(aV[aT++]+aL);while((aV[aT]+aM)<aN){aV.push(aV[aT++]+aM)}for(var aP=0;aP<aV.length;aP++){for(var aO=0;aO<aV.length;aO++){if(aS[aV[aP]][aV[aO]]===w){av(aU,t,aV[aP]-2,aV[aO]-2)}}}};var h=function(aM){var aQ=6,aO=6,aP=1,aL=aM[0].length;for(var aN=8;aN<aL-8;aN++){k(aM,aP,aQ,aN);k(aM,aP,aN,aO);aP^=1}};var am=function(aY){var aP=[],aS=[],aV=[],aL=[],aZ=[],aX,aT,a0=0,aN=1,aM=aY[0].length;for(aT=0;aT<aY.length;aT++){aP[aT]=0;aV[aT]=0;aZ[aT]=[0,0];aL[aT]=[0,0];aS[aT]=[]}for(aT=0;aT<aM;aT++){for(var aR=0;aR<aM;aR++){for(var aO=0;aO<aY.length;aO++){aX=aY[aO];aV[aO]+=parseInt(aX[aT][aR],10);if(aS[aO][a0]===aX[aT][aR]&&aT+1<aM&&aR-1>=0&&aX[aT+1][aR]==aS[aO][a0]&&aX[aT+1][aR-1]==aS[aO][a0]){aP[aO]+=3}v(aO,aL,aP,a0,aX[aT][aR]);v(aO,aL,aP,aN,aX[aR][aT]);F(aO,aP,aS,aX[aT][aR],aZ,a0);F(aO,aP,aS,aX[aR][aT],aZ,aN)}}}var aW=aM*aM,aU,aQ=Number.MAX_VALUE;for(aT=0;aT<aP.length;aT++){aP[aT]+=ao(aV[aT],aW);if(aP[aT]<aQ){aQ=aP[aT];aU=aT}}return aU};function v(aM,aN,aP,aL,aO){aN[aM][aL]=((aN[aM][aL]<<1)^aO)%128;if(aN[aM][aL]==ap){aP[aM]+=40}}function F(aM,aQ,aN,aP,aO,aL){if(aN[aM][aL]==aP){aO[aM][aL]++}else{aN[aM][aL]=aP;if(aO[aM][aL]>=5){aQ[aM]+=3+aO[aM][aL]-5}aO[aM][aL]=1}}function ao(aQ,aP){var aO=Math.floor((aQ/aP)*100),aL=aO%5,aN=Math.abs(aO-aL-50),aM=Math.abs(aO+5-aL-50),aR=10*Math.min(aN/5,aM/5);return aR}var at=function(aM,aL){this.dataString=aM;this.version=aL};var B=function(){this.getEncodingResult=function(aQ,aM){var aP=M(aQ),aO=P(aP),aL=a(aO,aM),aN=o(aP,aL);return new at(aN,aL)}};var aH=function(){this.mode=m[this.encodingMode]};aH.fn=aH.prototype={encodingMode:aI,utfBOM:"111011111011101110111111",initialModeCountStringLength:20,getEncodingResult:function(aR,aM){var aO=this,aQ=aO.encode(aR),aP=aO.getDataCodewordsCount(aQ),aL=a(aP,aM),aN=aO.mode.getModeCountString(aQ.length/8,aL)+aQ;return new at(aN,aL)},getDataCodewordsCount:function(aN){var aL=this,aO=aN.length,aM=Math.ceil((aL.initialModeCountStringLength+aO)/8);return aM},encode:function(aO){var aN=this,aL=aN.utfBOM;for(var aM=0;aM<aO.length;aM++){aL+=aN.encodeCharacter(aO.charCodeAt(aM))}return aL},encodeCharacter:function(aP){var aO=this.getBytesCount(aP),aQ=aO-1,aL="";if(aO==1){aL=ak(aP,8)}else{var aM=8-aO;for(var aN=0;aN<aQ;aN++){aL=ak(aP>>(aN*6)&63|128,8)+aL}aL=((aP>>aQ*6)|((255>>aM)<<aM)).toString(2)+aL}return aL},getBytesCount:function(aN){var aL=this.ranges;for(var aM=0;aM<aL.length;aM++){if(aN<aL[aM]){return aM+1}}},ranges:[128,2048,65536,2097152,67108864]};var T=function(aL){if(aL&&aL.toLowerCase().indexOf("utf_8")>=0){return new aH()}else{return new B()}};var H=function(aT,aM,aN){var aU=new T(aN),aX=aU.getEncodingResult(aT,aM),aS=aX.version,aW=an[aS-1][aM],aR=aa(aX.dataString,aW.totalDataCodewords),aL=Q(aR,aW),aV=z(aS);aq(aV);ad(aV,aS);h(aV);if(aS>=7){ac(aV,ak(0,18))}b(aV,ak(0,15));au(aV,aL);var aQ=am(aV),aO=aV[aQ];if(aS>=7){ac([aO],U(aS))}var aP=ab[aM]+ak(aQ,3);b([aO],V(aP));return aO};var l={DEFAULT_SIZE:200,QUIET_ZONE_LENGTH:4,DEFAULT_ERROR_CORRECTION_LEVEL:"L",DEFAULT_BACKGROUND:"#fff",DEFAULT_DARK_MODULE_COLOR:"#000",MIN_BASE_UNIT_SIZE:1};var ag=j.extend({init:function(aM,aL){var aN=this;j.fn.init.call(aN,aM,aL);aN.element=az(aM);aN.wrapper=aN.element;aN.element.addClass("k-qrcode");aN.surfaceWrap=az("<div />").css("position","relative").appendTo(this.element);aN.surface=ai.Surface.create(aN.surfaceWrap,{type:aN.options.renderAs});aN.setOptions(aL)},redraw:function(){var aL=this._getSize();this.surfaceWrap.css({width:aL,height:aL});this.surface.clear();this.createVisual();this.surface.draw(this.visual)},getSize:function(){return q.dimensions(this.element)},_resize:function(){this.redraw()},createVisual:function(){this.visual=this._render()},exportVisual:function(){return this._render()},_render:function(){var aR=this,aV=aR._value,aS,aQ=aR.options.border||{},aT=aR.options.padding||0,aM=aQ.width||0,aP,aU,aW,aN,aO;aQ.width=aM;var aL=new ai.Group();if(aV){aU=H(aV,aR.options.errorCorrection,aR.options.encoding);aW=aR._getSize();aO=aW-2*(aM+aT);aS=aR._calculateBaseUnit(aO,aU.length);aN=aU.length*aS;aP=aM+aT+(aO-aN)/2;aL.append(aR._renderBackground(aW,aQ));aL.append(aR._renderMatrix(aU,aS,aP))}return aL},_getSize:function(){var aO=this,aN;if(aO.options.size){aN=parseInt(aO.options.size,10)}else{var aM=aO.element,aL=Math.min(aM.width(),aM.height());if(aL>0){aN=aL}else{aN=l.DEFAULT_SIZE}}return aN},_calculateBaseUnit:function(aL,aM){var aN=Math.floor(aL/aM);if(aN<l.MIN_BASE_UNIT_SIZE){throw new Error("Insufficient size.")}if(aN*aM>=aL&&aN-1>=l.MIN_BASE_UNIT_SIZE){aN--}return aN},_renderMatrix:function(aT,aS,aN){var aW=new ai.MultiPath({fill:{color:this.options.color},stroke:null});for(var aV=0;aV<aT.length;aV++){var aQ=aN+aV*aS;var aO=0;while(aO<aT.length){while(aT[aV][aO]===0&&aO<aT.length){aO++}if(aO<aT.length){var aU=aO;while(aT[aV][aO]==1){aO++}var aM=J(aN+aU*aS);var aR=J(aQ);var aL=J(aN+aO*aS);var aP=J(aQ+aS);aW.moveTo(aM,aR).lineTo(aM,aP).lineTo(aL,aP).lineTo(aL,aR).close()}}}return aW},_renderBackground:function(aM,aL){var aN=u(0,0,aM,aM).unpad(aL.width/2);return ai.Path.fromRect(aN.toRect(),{fill:{color:this.options.background},stroke:{color:aL.color,width:aL.width}})},setOptions:function(aL){var aM=this;aL=aL||{};aM.options=Z(aM.options,aL);if(aL.value!==w){aM._value=aM.options.value+""}aM.redraw()},value:function(aM){var aL=this;if(aM===w){return aL._value}aL._value=aM+"";aL.redraw()},options:{name:"QRCode",renderAs:"svg",encoding:"ISO_8859_1",value:"",errorCorrection:l.DEFAULT_ERROR_CORRECTION_LEVEL,background:l.DEFAULT_BACKGROUND,color:l.DEFAULT_DARK_MODULE_COLOR,size:"",padding:0,border:{color:"",width:0}}});X.ExportMixin.extend(ag.fn);X.ui.plugin(ag);q.deepExtend(X,{QRCode:ag,QRCodeDefaults:l,QRCodeFunctions:{FreeCellVisitor:n,fillData:au,padDataString:aa,generateErrorCodewords:x,xorPolynomials:c,getBlocks:Q,multiplyPolynomials:d,chooseMode:aB,getModes:M,getDataCodewordsCount:P,getVersion:a,getDataString:o,encodeFormatInformation:V,encodeBCH:aA,dividePolynomials:r,initMatrices:z,addFormatInformation:b,encodeVersionInformation:U,addVersionInformation:ac,addCentricPattern:av,addFinderSeparator:A,addFinderPatterns:aq,addAlignmentPatterns:ad,addTimingFunctions:h,scoreMaskMatrixes:am,encodeData:H,UTF8Encoder:aH},QRCodeFields:{modes:m,powersOfTwo:aj,powersOfTwoResult:ay,generatorPolynomials:D}})})(window.kendo.jQuery);(function(A,l){var B=window.kendo,a=B.Class,d=B.Observable,F=B.deepExtend,w=Math,I=A.proxy,i=B.util,o=i.last,b=i.renderTemplate,g=B.dataviz,H=i.defined,L=g.filterSeriesByType,e=B.template,D=g.ui.Chart,C=g.Selection,E=g.addDuration,p=i.limitValue,f=g.lteDateIndex,k=g.toDate,h=g.toTime;var J=28,z="change",m="k-",t="drag",s="dragEnd",n="_navigator",K=n,u=g.EQUALLY_SPACED_SERIES,y=3,j="zoom",G="zoomEnd";var v=D.extend({init:function(M,N){A(M).addClass(m+"chart");D.fn.init.call(this,M,N)},_applyDefaults:function(N,M){var P=this,O=P.element.width()||g.DEFAULT_WIDTH;var Q={seriesDefaults:{categoryField:N.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:false},labels:{step:2},majorTicks:{visible:false},maxDateGroups:w.floor(O/J)}}};if(M){M=F({},M,Q)}if(!P._navigator){c.setup(N,M)}D.fn._applyDefaults.call(P,N,M)},_initDataSource:function(P){var V=P||{},M=V.dataSource,Q=M&&M.serverFiltering,O=[].concat(V.categoryAxis)[0],U=V.navigator||{},R=U.select,S=R&&R.from&&R.to,N,T;if(Q&&S){N=[].concat(M.filter||[]);T=new g.DateCategoryAxis(F({baseUnit:"fit"},O,{categories:[R.from,R.to]}));M.filter=c.buildFilter(T.range().min,R.to).concat(N)}D.fn._initDataSource.call(this,P)},options:{name:"StockChart",dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:true},valueAxis:{narrowRange:true,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:false},tooltip:{visible:true,template:"#= kendo.toString(category, 'd') #"},line:{width:2}},hint:{},visible:true},tooltip:{visible:true},legend:{visible:false}},_resize:function(){var M=this.options.transitions;this.options.transitions=false;this._fullRedraw();this.options.transitions=M},_redraw:function(){var N=this,M=N._navigator;if(!this._dirty()&&M&&M.dataSource){M.redrawSlaves()}else{N._fullRedraw()}},_dirty:function(){var M=this.options;var N=[].concat(M.series,M.navigator.series);var P=A.grep(N,function(Q){return Q&&Q.visible}).length;var O=this._seriesCount!==P;this._seriesCount=P;return O},_fullRedraw:function(){var N=this,M=N._navigator;if(!M){M=N._navigator=new c(N)}M._setRange();D.fn._redraw.call(N);M._initSelection()},_onDataChanged:function(){var M=this;D.fn._onDataChanged.call(M);M._dataBound=true},_bindCategoryAxis:function(Q,S,R){var P=this,M=P.options.categoryAxis,N=M.length,O;D.fn._bindCategoryAxis.apply(this,arguments);if(Q.name===K){while(R<N){O=M[R++];if(O.pane==n){O.categories=Q.categories}}}},_trackSharedTooltip:function(O){var M=this,N=M._plotArea,P=N.paneByPoint(O);if(P&&P.options.name===n){M._unsetActivePoint()}else{D.fn._trackSharedTooltip.call(M,O)}},destroy:function(){var M=this;M._navigator.destroy();D.fn.destroy.call(M)}});var c=d.extend({init:function(M){var N=this;N.chart=M;N.options=F({},N.options,M.options.navigator);N._initDataSource();if(!H(N.options.hint.visible)){N.options.hint.visible=N.options.visible}M.bind(t,I(N._drag,N));M.bind(s,I(N._dragEnd,N));M.bind(j,I(N._zoom,N));M.bind(G,I(N._zoomEnd,N))},options:{},_initDataSource:function(){var O=this,M=O.options,N=M.autoBind,P=M.dataSource;if(!H(N)){N=O.chart.options.autoBind}O._dataChangedHandler=I(O._onDataChanged,O);if(P){O.dataSource=B.data.DataSource.create(P).bind(z,O._dataChangedHandler);if(N){O.dataSource.fetch()}}},_onDataChanged:function(){var U=this,T=U.chart,R=T.options.series,X,O=R.length,V=T.options.categoryAxis,P,N=V.length,Q=U.dataSource.view(),W,M,S;for(X=0;X<O;X++){W=R[X];if(W.axis==K&&T._isBindable(W)){W.data=Q}}for(P=0;P<N;P++){M=V[P];if(M.pane==n){if(M.name==K){T._bindCategoryAxis(M,Q,P);S=M.categories}else{M.categories=S}}}if(T._model){U.redraw();U.filterAxes();if(!T.options.dataSource||(T.options.dataSource&&T._dataBound)){U.redrawSlaves()}}},destroy:function(){var M=this,N=M.dataSource;if(N){N.unbind(z,M._dataChangeHandler)}if(M.selection){M.selection.destroy()}},redraw:function(){this._redrawSelf();this._initSelection()},_initSelection:function(){var U=this,R=U.chart,Y=U.options,O=U.mainAxis(),M=r(O),Q=O.range(),P=Q.min,S=Q.max,N=O.options.categories,T=U.options.select,X=U.selection,W=k(T.from),V=k(T.to);if(N.length===0){return}if(X){X.destroy();X.wrapper.remove()}M.box=O.box;X=U.selection=new C(R,M,{min:P,max:S,from:W,to:V,selectStart:A.proxy(U._selectStart,U),select:A.proxy(U._select,U),selectEnd:A.proxy(U._selectEnd,U),mousewheel:{zoom:"left"}});if(Y.hint.visible){U.hint=new q(R.element,{min:P,max:S,template:Y.hint.template,format:Y.hint.format})}},_setRange:function(){var M=this.chart._createPlotArea(true);var N=M.namedCategoryAxes[K];var P=N.options;var Q=N.range();var O=Q.min;var R=E(Q.max,P.baseUnitStep,P.baseUnit);var S=this.options.select||{};var U=k(S.from)||O;if(U<O){U=O}var T=k(S.to)||R;if(T>R){T=R}this.options.select={from:U,to:T};this.filterAxes()},_redrawSelf:function(M){var N=this.chart._plotArea;if(N){N.redraw(o(N.panes),M)}},redrawSlaves:function(){var N=this,M=N.chart,O=M._plotArea,P=O.panes.slice(0,-1);O.srcSeries=M.options.series;O.redraw(P)},_drag:function(Q){var W=this,R=W.chart,V=R._eventCoordinates(Q.originalEvent),P=W.mainAxis(),S=P.range(),T=P.pane.box.containsPoint(V),M=R._plotArea.categoryAxis,O=Q.axisRanges[M.options.name],U=W.options.select,Z=W.selection,N,Y,X;if(!O||T||!Z){return}if(U.from&&U.to){N=h(U.to)-h(U.from)}else{N=h(Z.options.to)-h(Z.options.from)}Y=k(p(h(O.min),S.min,h(S.max)-N));X=k(p(h(Y)+N,h(S.min)+N,S.max));W.options.select={from:Y,to:X};if(W._liveDrag()){W.filterAxes();W.redrawSlaves()}Z.set(Y,X);W.showHint(Y,X)},_dragEnd:function(){var M=this;M.filterAxes();M.filterDataSource();M.redrawSlaves();if(M.hint){M.hint.hide()}},_liveDrag:function(){var O=B.support,M=O.touch,N=O.browser,Q=N.mozilla,P=N.msie&&N.version<9;return !M&&!Q&&!P},readSelection:function(){var N=this,M=N.selection,O=M.options,P=N.options.select;P.from=O.from;P.to=O.to},filterAxes:function(){var Q=this,M=Q.options.select||{},P=Q.chart,R=P.options.categoryAxis,T=M.from,S=M.to,N,O;for(N=0;N<R.length;N++){O=R[N];if(O.pane!==n){O.min=k(T);O.max=k(S)}}},filterDataSource:function(){var O=this,M=O.options.select||{},N=O.chart,Q=N.dataSource,P=Q&&Q.options.serverFiltering,R;if(O.dataSource&&P){R=new g.DateCategoryAxis(F({baseUnit:"fit"},N.options.categoryAxis[0],{categories:[M.from,M.to]})).options;Q.filter(c.buildFilter(E(R.min,-R.baseUnitStep,R.baseUnit),E(R.max,R.baseUnitStep,R.baseUnit)))}},_zoom:function(Q){var S=this,R=S.chart,V=Q.delta,N=R._plotArea.categoryAxis,T=S.options.select,U=S.selection,O=S.mainAxis().options.categories,P,M;if(!U){return}P=f(U.options.from,O);M=f(U.options.to,O);Q.originalEvent.preventDefault();if(w.abs(V)>1){V*=y}if(M-P>1){U.expand(V);S.readSelection()}else{N.options.min=T.from;T.from=N.scaleRange(-Q.delta).min}if(!B.support.touch){S.filterAxes();S.redrawSlaves()}U.set(T.from,T.to);S.showHint(S.options.select.from,S.options.select.to)},_zoomEnd:function(M){this._dragEnd(M)},showHint:function(Q,P){var N=this,M=N.chart,O=M._plotArea;if(N.hint){N.hint.show(Q,P,O.backgroundBox())}},_selectStart:function(N){var M=this.chart;M._selectStart.call(M,N)},_select:function(O){var N=this,M=N.chart;N.showHint(O.from,O.to);M._select.call(M,O)},_selectEnd:function(O){var N=this,M=N.chart;if(N.hint){N.hint.hide()}N.readSelection();N.filterAxes();N.filterDataSource();N.redrawSlaves();M._selectEnd.call(M,O)},mainAxis:function(){var M=this.chart._plotArea;if(M){return M.namedCategoryAxes[K]}}});c.setup=function(N,M){N=N||{};M=M||{};var P=F({},M.navigator,N.navigator),O=N.panes=[].concat(N.panes),Q=F({},P.pane,{name:n});if(!P.visible){Q.visible=false;Q.height=0.1}O.push(Q);c.attachAxes(N,P);c.attachSeries(N,P,M)};c.attachAxes=function(U,T){var S,O,Q=T.series||[];S=U.categoryAxis=[].concat(U.categoryAxis);O=U.valueAxis=[].concat(U.valueAxis);var N=L(Q,u);var R=N.length===0;var M=F({type:"date",pane:n,roundToBaseUnit:!R,justified:R,_collapse:false,majorTicks:{visible:true},tooltip:{visible:false},labels:{step:1},autoBind:!T.dataSource,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]},_overlap:false});var P=T.categoryAxis;S.push(F({},M,{maxDateGroups:200},P,{name:K,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:false},majorTicks:{visible:false}}),F({},M,P,{name:K+"_labels",maxDateGroups:20,baseUnitStep:"auto",plotBands:[],autoBaseUnitSteps:{minutes:[]}}),F({},M,P,{name:K+"_ticks",maxDateGroups:200,majorTicks:{width:0.5},plotBands:[],labels:{visible:false,mirror:true}}));O.push(F({name:K,pane:n,majorGridLines:{visible:false},visible:false},T.valueAxis))};c.attachSeries=function(O,S,N){var Q=O.series=O.series||[],M=[].concat(S.series||[]),R=N.seriesColors,T=S.seriesDefaults,P;for(P=0;P<M.length;P++){Q.push(F({color:R[P%R.length],categoryField:S.dateField,visibleInLegend:false,tooltip:{visible:false}},T,M[P],{axis:K,categoryAxis:K,autoBind:!S.dataSource}))}};c.buildFilter=function(N,M){return[{field:"Date",operator:"gte",value:k(N)},{field:"Date",operator:"lt",value:k(M)}]};var q=a.extend({init:function(M,N){var O=this;O.options=F({},O.options,N);O.container=M;O.chartPadding={top:parseInt(M.css("paddingTop"),10),left:parseInt(M.css("paddingLeft"),10)};O.template=O.template;if(!O.template){O.template=O.template=b("<div class='"+m+"navigator-hint' style='display: none; position: absolute; top: 1px; left: 1px;'><div class='"+m+"tooltip "+m+"chart-tooltip'>&nbsp;</div><div class='"+m+"scroll' /></div>")}O.element=A(O.template()).appendTo(M)},options:{format:"{0:d} - {1:d}",hideDelay:500},show:function(W,X,Y){var P=this,ab=k(h(W)+h(X-W)/2),ac=P.options,Z=B.format(P.options.format,W,X),aa=P.element.find("."+m+"tooltip"),V=P.element.find("."+m+"scroll"),S=Y.width()*0.4,O=Y.center().x-S,R=Y.center().x,U=R-O,Q=ac.max-ac.min,M=U/Q,N=ab-ac.min,T;if(P._hideTimeout){clearTimeout(P._hideTimeout)}if(!P._visible){P.element.stop(false,true).css("visibility","hidden").show();P._visible=true}if(ac.template){T=e(ac.template);Z=T({from:W,to:X})}aa.html(Z).css({left:Y.center().x-aa.outerWidth()/2,top:Y.y1});V.css({width:S,left:O+N*M,top:Y.y1+parseInt(aa.css("margin-top"),10)+parseInt(aa.css("border-top-width"),10)+aa.height()/2});P.element.css("visibility","visible")},hide:function(){var M=this;if(M._hideTimeout){clearTimeout(M._hideTimeout)}M._hideTimeout=setTimeout(function(){M._visible=false;M.element.fadeOut("slow")},M.options.hideDelay)}});function x(){}function r(M){x.prototype=M;return new x()}g.ui.plugin(v);F(g,{Navigator:c})})(window.kendo.jQuery);(function(d,f){var n=window.kendo,h=n.dataviz,s=h.ui.Chart,e=n.data.ObservableArray,g=h.SharedTooltip,j=n.deepExtend,i=d.isArray,q=d.proxy,r=h.inArray,b=Math;var u="k-",l=150,o=150,t="bar",w="bullet",p="pie",v="leave",k=[t,w];var a=s.extend({init:function(z,B){var A=this,y=A.stage=d("<span />"),x=B||{};z=d(z).addClass(u+"sparkline").empty().append(y);A._initialWidth=b.floor(z.width());x=c(x);if(i(x)||x instanceof e){x={seriesDefaults:{data:x}}}if(!x.series){x.series=[{data:c(x.data)}]}j(x,{seriesDefaults:{type:x.type}});if(r(x.series[0].type,k)||r(x.seriesDefaults.type,k)){x=j({},{categoryAxis:{crosshair:{visible:false}}},x)}s.fn.init.call(A,z,x)},options:{name:"Sparkline",chartArea:{margin:2},axisDefaults:{visible:false,majorGridLines:{visible:false},valueAxis:{narrowRange:true}},seriesDefaults:{type:"line",area:{line:{width:0.5}},bar:{stack:true},padding:2,width:0.5,overlay:{gradient:null},highlight:{visible:false},border:{width:0},markers:{size:2,visible:false}},tooltip:{visible:true,shared:true},categoryAxis:{crosshair:{visible:true,tooltip:{visible:false}}},legend:{visible:false},transitions:false,pointWidth:5,panes:[{clip:false}]},_modelOptions:function(){var A=this,C=A.options,y,z=A._initialWidth,x=A.stage;A.stage.children().hide();var B=d("<span>&nbsp;</span>");A.stage.append(B);y=j({width:z?z:A._autoWidth(),height:x.height(),transitions:C.transitions},C.chartArea,{inline:true,align:false});x.css({width:y.width,height:y.height});B.remove();A.stage.children().show();A.surface.resize();return y},_createTooltip:function(){var z=this,x=z.options,y=z.element,A;if(z._sharedTooltip()){A=new m(y,z._plotArea,x.tooltip)}else{A=s.fn._createTooltip.call(z)}A.bind(v,q(z._tooltipleave,z));return A},_surfaceWrap:function(){return this.stage},_autoWidth:function(){var C=this,F=C.options,y=h.getSpacing(F.chartArea.margin),z=F.series,D=C.dataSource.total(),B=0,x,A,E;for(A=0;A<z.length;A++){E=z[A];if(E.type===t){return l}if(E.type===w){return o}if(E.type===p){return C.stage.height()}if(E.data){B=b.max(B,E.data.length)}}x=b.max(D,B)*F.pointWidth;if(x>0){x+=y.left+y.right}return x}});var m=g.extend({options:{animation:{duration:0}},_anchor:function(x,A){var y=g.fn._anchor.call(this,x,A);var z=this._measure();y.y=-z.height-this.options.offset;return y},_hideElement:function(){if(this.element){this.element.hide().remove()}}});function c(y){return typeof y==="number"?[y]:y}h.ui.plugin(a);j(h,{SparklineSharedTooltip:m})})(window.kendo.jQuery);(function(h,i){var g=Math,o=g.abs,j=g.atan,f=g.atan2,e=g.cos,s=g.max,r=g.min,a=g.sin,u=g.tan,p=window.kendo,t=p.Class,k=p.dataviz,l=p.deepExtend,b=p.util,d=b.defined,n=b.deg,w=b.rad,v=b.round,q=b.sqr,m=b.valueOrDefault;var c=t.extend({init:function(z,y){if(arguments.length===1){this.lat=z[0];this.lng=z[1]}else{this.lat=z;this.lng=y}},DISTANCE_ITERATIONS:100,DISTANCE_CONVERGENCE:1e-12,DISTANCE_PRECISION:2,FORMAT:"{0:N6},{1:N6}",toArray:function(){return[this.lat,this.lng]},equals:function(y){return y&&y.lat===this.lat&&y.lng===this.lng},clone:function(){return new c(this.lat,this.lng)},round:function(y){this.lng=v(this.lng,y);this.lat=v(this.lat,y);return this},wrap:function(){this.lng=this.lng%180;this.lat=this.lat%90;return this},distanceTo:function(z,y){return this.greatCircleTo(z,y).distance},destination:function(F,B,z){B=w(B);z=z||k.map.datums.WGS84;var y=w(this.lat);var D=w(this.lng);var E=F/p.dataviz.map.datums.WGS84.a;var C=g.asin(a(y)*e(E)+e(y)*a(E)*e(B));var A=D+f(a(B)*a(E)*e(y),e(E)-a(y)*a(C));return new c(n(C),n(A))},greatCircleTo:function(O,Y){O=c.create(O);Y=Y||k.map.datums.WGS84;if(!O||this.clone().round(8).equals(O.clone().round(8))){return{distance:0,azimuthFrom:0,azimuthTo:0}}var af=Y.a;var ad=Y.b;var Z=Y.f;var K=w(O.lng-this.lng);var ab=j((1-Z)*u(w(this.lat)));var I=a(ab);var D=e(ab);var aa=j((1-Z)*u(w(O.lat)));var H=a(aa);var z=e(aa);var P=K;var M;var W=this.DISTANCE_ITERATIONS;var ag=false;var U;var y;var G;var F;var ae;var X;var T;while(!ag&&W-->0){U=a(P);y=e(P);G=g.sqrt(q(z*U)+q(D*H-I*z*y));ae=I*H+D*z*y;T=f(G,ae);var E=D*z*U/G;F=1-q(E);X=0;if(F!==0){X=ae-2*I*H/F}M=P;var Q=Z/16*F*(4+Z*(4-3*F));P=K+(1-Q)*Z*E*(T+Q*G*(X+Q*ae*(-1+2*q(X))));ag=o(P-M)<=this.DISTANCE_CONVERGENCE}var V=F*(q(af)-q(ad))/q(ad);var S=1+V/16384*(4096+V*(-768+V*(320-175*V)));var R=V/1024*(256+V*(-128+V*(74-47*V)));var N=R*G*(X+R/4*(ae*(-1+2*q(X))-R/6*X*(-3+4*q(G))*(-3+4*q(X))));var ac=f(z*U,D*H-I*z*y);var J=f(D*U,-I*z+D*H*y);return{distance:v(ad*S*(T-N),this.DISTANCE_PRECISION),azimuthFrom:n(ac),azimuthTo:n(J)}}});c.fn.toString=function(){return p.format(this.FORMAT,this.lat,this.lng)};c.fromLngLat=function(y){return new c(y[1],y[0])};c.fromLatLng=function(y){return new c(y[0],y[1])};c.create=function(z,y){if(d(z)){if(z instanceof c){return z.clone()}else{if(arguments.length===1&&z.length===2){return c.fromLatLng(z)}else{return new c(z,y)}}}};var x=t.extend({init:function(y,z){y=c.create(y);z=c.create(z);if(y.lng+180>z.lng+180&&y.lat+90<z.lat+90){this.se=y;this.nw=z}else{this.se=z;this.nw=y}},contains:function(C){var y=this.nw,A=this.se,z=m(C.lng,C[1]),B=m(C.lat,C[0]);return C&&z+180>=y.lng+180&&z+180<=A.lng+180&&B+90>=A.lat+90&&B+90<=y.lat+90},center:function(){var y=this.nw;var A=this.se;var z=y.lng+(A.lng-y.lng)/2;var B=y.lat+(A.lat-y.lat)/2;return new c(B,z)},containsAny:function(A){var y=false;for(var z=0;z<A.length;z++){y=y||this.contains(A[z])}return y},include:function(C){var y=this.nw,A=this.se,z=m(C.lng,C[1]),B=m(C.lat,C[0]);y.lng=r(y.lng,z);y.lat=s(y.lat,B);A.lng=s(A.lng,z);A.lat=r(A.lat,B)},includeAll:function(z){for(var y=0;y<z.length;y++){this.include(z[y])}},edges:function(){var y=this.nw,z=this.se;return{nw:this.nw,ne:new c(y.lat,z.lng),se:this.se,sw:new c(z.lat,y.lng)}},toArray:function(){var y=this.nw,z=this.se;return[y,new c(y.lat,z.lng),z,new c(z.lat,y.lng)]},overlaps:function(y){return this.containsAny(y.toArray())||y.containsAny(this.toArray())}});x.World=new x([90,-180],[-90,180]);x.create=function(z,y){if(z instanceof x){return z}else{if(z&&y){return new x(z,y)}else{if(z&&z.length===4&&!y){return new x([z[0],z[1]],[z[2],z[3]])}}}};l(k,{map:{Extent:x,Location:c}})})(window.kendo.jQuery);(function(d){var h=window.kendo,c=h.ui.Widget,b=h.template,g=h.dataviz,f=h.util.valueOrDefault,e=h.util.defined;var a=c.extend({init:function(j,i){c.fn.init.call(this,j,i);this._initOptions(i);this.items=[];this.element.addClass("k-widget k-attribution")},options:{name:"Attribution",separator:"&nbsp;|&nbsp;",itemTemplate:"#= text #"},filter:function(i,j){this._extent=i;this._zoom=j;this._render()},add:function(i){if(e(i)){if(typeof i==="string"){i={text:i}}this.items.push(i);this._render()}},remove:function(m){var j=[];for(var k=0;k<this.items.length;k++){var l=this.items[k];if(l.text!==m){j.push(l)}}this.items=j;this._render()},clear:function(){this.items=[];this.element.empty()},_render:function(){var j=[];var m=b(this.options.itemTemplate);for(var k=0;k<this.items.length;k++){var l=this.items[k];var n=this._itemText(l);if(n!==""){j.push(m({text:n}))}}if(j.length>0){this.element.empty().append(j.join(this.options.separator)).show()}else{this.element.hide()}},_itemText:function(i){var k="";var j=this._inZoomLevel(i.minZoom,i.maxZoom);var l=this._inArea(i.extent);if(j&&l){k+=i.text}return k},_inZoomLevel:function(k,j){var i=true;k=f(k,-Number.MAX_VALUE);j=f(j,Number.MAX_VALUE);i=this._zoom>k&&this._zoom<j;return i},_inArea:function(j){var i=true;if(j){i=j.contains(this._extent)}return i}});h.dataviz.ui.plugin(a)})(window.kendo.jQuery);(function(c){var e=window.kendo;var g=e.ui.Widget;var h=e.keys;var f=c.proxy;var b=".kendoNavigator";var a=d("n")+d("e")+d("s")+d("w");var i=g.extend({init:function(l,k){g.fn.init.call(this,l,k);this._initOptions(k);this.element.addClass("k-widget k-header k-shadow k-navigator").append(a).on("click"+b,".k-button",f(this,"_click"));var j=this.element.parent().closest("["+e.attr("role")+"]");this._keyroot=j.length>0?j:this.element;this._tabindex(this._keyroot);this._keydown=f(this._keydown,this);this._keyroot.on("keydown",this._keydown)},options:{name:"Navigator",panStep:1},events:["pan"],dispose:function(){this._keyroot.off("keydown",this._keydown)},_pan:function(j,l){var k=this.options.panStep;this.trigger("pan",{x:j*k,y:l*k})},_click:function(l){var j=0;var m=0;var k=c(l.currentTarget);if(k.is(".k-navigator-n")){m=1}else{if(k.is(".k-navigator-s")){m=-1}else{if(k.is(".k-navigator-e")){j=1}else{if(k.is(".k-navigator-w")){j=-1}}}}this._pan(j,m);l.preventDefault()},_keydown:function(j){switch(j.which){case h.UP:this._pan(0,1);j.preventDefault();break;case h.DOWN:this._pan(0,-1);j.preventDefault();break;case h.RIGHT:this._pan(1,0);j.preventDefault();break;case h.LEFT:this._pan(-1,0);j.preventDefault();break}}});function d(j){return e.format('<button class="k-button k-navigator-{0}"><span class="k-icon k-i-arrow-{0}"/></button>',j)}e.dataviz.ui.plugin(i)})(window.kendo.jQuery);(function(d){var i=window.kendo;var l=i.ui.Widget;var m=i.keys;var j=d.proxy;var c=".kendoZoomControl";var b=e("in","+")+e("out","-");var g=187;var a=189;var h=61;var k=173;var f=l.extend({init:function(p,o){l.fn.init.call(this,p,o);this._initOptions(o);this.element.addClass("k-widget k-zoom-control k-button-wrap k-buttons-horizontal").append(b).on("click"+c,".k-button",j(this,"_click"));var n=this.element.parent().closest("["+i.attr("role")+"]");this._keyroot=n.length>0?n:this.element;this._tabindex(this._keyroot);this._keydown=j(this._keydown,this);this._keyroot.on("keydown",this._keydown)},options:{name:"ZoomControl",zoomStep:1},events:["change"],_change:function(o){var n=this.options.zoomStep;this.trigger("change",{delta:o*n})},_click:function(p){var o=d(p.currentTarget);var n=1;if(o.is(".k-zoom-out")){n=-1}this._change(n);p.preventDefault()},_keydown:function(n){switch(n.which){case m.NUMPAD_PLUS:case g:case h:this._change(1);break;case m.NUMPAD_MINUS:case a:case k:this._change(-1);break}}});function e(n,o){return i.format('<button class="k-button k-zoom-{0}" title="zoom-{0}">{1}</button>',n,o)}i.dataviz.ui.plugin(f)})(window.kendo.jQuery);(function(i,j){var e=Math,k=e.atan,o=e.exp,f=e.pow,a=e.sin,m=e.log,A=e.tan,v=window.kendo,x=v.Class,n=v.dataviz,q=v.deepExtend,y=v.geometry,E=y.Point,B=n.map,c=B.Location,b=v.util,D=b.rad,t=b.deg,z=b.limitValue;var w=e.PI,G=w/2,C=w/4,p=w/180;var d={a:6378137,b:6356752.314245179,f:0.0033528106647474805,e:0.08181919084262149};var s=x.extend({init:function(g){this._initOptions(g)},MAX_LNG:180,MAX_LAT:85.0840590501,INVERSE_ITERATIONS:15,INVERSE_CONVERGENCE:1e-12,options:{centralMeridian:0,datum:d},forward:function(J,I){var H=this,Q=H.options,O=Q.datum,g=O.a,P=Q.centralMeridian,K=z(J.lat,-H.MAX_LAT,H.MAX_LAT),M=I?z(J.lng,-H.MAX_LNG,H.MAX_LNG):J.lng,N=D(M-P)*g,L=H._projectLat(K);return new E(N,L)},_projectLat:function(M){var I=this.options.datum,H=I.e,K=I.a,N=D(M),J=A(C+N/2),g=H*a(N),L=f((1-g)/(1+g),H/2);return K*m(J*L)},inverse:function(N,I){var H=this,O=H.options,L=O.datum,g=L.a,M=O.centralMeridian,K=N.x/(p*g)+M,J=z(H._inverseY(N.y),-H.MAX_LAT,H.MAX_LAT);if(I){K=z(K,-H.MAX_LNG,H.MAX_LNG)}return new c(J,K)},_inverseY:function(Q){var L=this,R=L.options.datum,g=R.a,K=R.e,J=K/2,P=o(-Q/g),O=G-2*k(P),M;for(M=0;M<=L.INVERSE_ITERATIONS;M++){var I=K*a(O),H=f((1-I)/(1+I),J),N=G-2*k(P*H)-O;O+=N;if(e.abs(N)<=L.INVERSE_CONVERGENCE){break}}return t(O)}});var r=s.extend({MAX_LAT:85.0511287798,_projectLat:function(I){var H=this.options.datum.a,J=D(I),g=A(C+J/2);return H*m(g)},_inverseY:function(I){var H=this.options.datum.a,g=o(-I/H);return t(G-(2*k(g)))}});var l=x.extend({forward:function(g){return new E(g.lng,g.lat)},inverse:function(g){return new c(g.y,g.x)}});var u=x.extend({init:function(){var g=this,H=g._proj=new r();var I=this.c=2*w*H.options.datum.a;this._tm=y.transform().translate(0.5,0.5).scale(1/I,-1/I);this._itm=y.transform().scale(I,-I).translate(-0.5,-0.5)},toPoint:function(J,I,H){var g=this._proj.forward(J,H);return g.transform(this._tm).scale(I||1)},toLocation:function(g,I,H){g=g.clone().scale(1/(I||1)).transform(this._itm);return this._proj.inverse(g,H)}});var h=x.extend({init:function(){this._proj=new s()},toPoint:function(g){return this._proj.forward(g)},toLocation:function(g){return this._proj.inverse(g)}});var F=x.extend({init:function(){this._proj=new l()},toPoint:function(g){return this._proj.forward(g)},toLocation:function(g){return this._proj.inverse(g)}});q(n,{map:{crs:{EPSG3395:h,EPSG3857:u,EPSG4326:F},datums:{WGS84:d},projections:{Equirectangular:l,Mercator:s,SphericalMercator:r}}})})(window.kendo.jQuery);(function(g,b){var k=g.proxy,o=g.noop,j=window.kendo,a=j.Class,f=j.dataviz,d=j.deepExtend,n=f.map.Extent,l=j.geometry,m=j.drawing,h=j.util,e=h.defined,i=h.valueOrDefault;var c=a.extend({init:function(q,p){this._initOptions(p);this.map=q;this.element=g("<div class='k-layer'></div>").css({zIndex:this.options.zIndex,opacity:this.options.opacity}).appendTo(q.scrollElement);this._beforeReset=k(this._beforeReset,this);this._reset=k(this._reset,this);this._resize=k(this._resize,this);this._panEnd=k(this._panEnd,this);this._activate();this._updateAttribution()},destroy:function(){this._deactivate()},show:function(){this.reset();this._activate();this._applyExtent(true)},hide:function(){this._deactivate();this._setVisibility(false)},reset:function(){this._beforeReset();this._reset()},_reset:function(){this._applyExtent()},_beforeReset:g.noop,_resize:g.noop,_panEnd:function(){this._applyExtent()},_applyExtent:function(){var r=this.options;var t=this.map.zoom();var u=!e(r.minZoom)||t>=r.minZoom;var q=!e(r.maxZoom)||t<=r.maxZoom;var s=n.create(r.extent);var p=!s||s.overlaps(this.map.extent());this._setVisibility(u&&q&&p)},_setVisibility:function(p){this.element.css("display",p?"":"none")},_activate:function(){var p=this.map;p.bind("beforeReset",this._beforeReset);p.bind("reset",this._reset);p.bind("resize",this._resize);p.bind("panEnd",this._panEnd)},_deactivate:function(){var p=this.map;p.unbind("beforeReset",this._beforeReset);p.unbind("reset",this._reset);p.unbind("resize",this._resize);p.unbind("panEnd",this._panEnd)},_updateAttribution:function(){var p=this.map.attribution;if(p){p.add(this.options.attribution)}}});d(f,{map:{layers:{Layer:c}}})})(window.kendo.jQuery);(function(e,i){var p=e.proxy,m=window.kendo,q=m.Class,c=m.data.DataSource,j=m.dataviz,l=m.deepExtend,k=m.util.last,b=m.util.defined,r=m.geometry,s=m.drawing,n=s.Group,t=j.map,a=t.Location,f=t.layers.Layer;var h=f.extend({init:function(g,d){f.fn.init.call(this,g,d);this.surface=s.Surface.create(this.element,{width:g.scrollElement.width(),height:g.scrollElement.height()});this._initRoot();this.movable=new m.ui.Movable(this.surface.element);this._markers=[];this._click=this._handler("shapeClick");this.surface.bind("click",this._click);this._mouseenter=this._handler("shapeMouseEnter");this.surface.bind("mouseenter",this._mouseenter);this._mouseleave=this._handler("shapeMouseLeave");this.surface.bind("mouseleave",this._mouseleave);this._initDataSource()},options:{autoBind:true},destroy:function(){f.fn.destroy.call(this);this.surface.destroy();this.dataSource.unbind("change",this._dataChange)},setDataSource:function(d){if(this.dataSource){this.dataSource.unbind("change",this._dataChange)}this.dataSource=d;this.dataSource.bind("change",this._dataChange);if(this.options.autoBind){this.dataSource.fetch()}},_reset:function(){f.fn._reset.call(this);this._translateSurface();if(this._data){this._load(this._data)}},_initRoot:function(){this._root=new n();this.surface.draw(this._root)},_beforeReset:function(){this.surface.clear();this._initRoot()},_resize:function(){this.surface.size(this.map.size())},_initDataSource:function(){var d=this.options.dataSource;this._dataChange=p(this._dataChange,this);this.dataSource=c.create(d).bind("change",this._dataChange);if(d&&this.options.autoBind){this.dataSource.fetch()}},_dataChange:function(d){this._data=d.sender.view();this._load(this._data)},_load:function(v){this._clearMarkers();if(!this._loader){this._loader=new o(this.map,this.options.style,this)}var d=new n();for(var u=0;u<v.length;u++){var g=this._loader.parse(v[u]);if(g){d.append(g)}}this._root.clear();this._root.append(d)},shapeCreated:function(d){var u=false;if(d instanceof s.Circle){u=b(this._createMarker(d))}if(!u){var g={layer:this,shape:d};u=this.map.trigger("shapeCreated",g)}return u},_createMarker:function(g){var d=this.map.markers.bind({location:g.location},g.dataItem);if(d){this._markers.push(d)}return d},_clearMarkers:function(){for(var d=0;d<this._markers.length;d++){this.map.markers.remove(this._markers[d])}this._markers=[]},_panEnd:function(d){f.fn._panEnd.call(this,d);this._translateSurface()},_translateSurface:function(){var g=this.map;var d=g.locationToView(g.extent().nw);if(this.surface.translate){this.surface.translate(d);this.movable.moveTo({x:d.x,y:d.y})}},_handler:function(g){var d=this;return function(v){if(v.element){var u={layer:d,shape:v.element,originalEvent:v.originalEvent};d.map.trigger(g,u)}}}});var o=q.extend({init:function(d,u,g){this.observer=g;this.locator=d;this.style=u},parse:function(g){var d=new n();if(g.type==="Feature"){this._loadGeometryTo(d,g.geometry,g)}else{this._loadGeometryTo(d,g,g)}if(d.children.length<2){d=d.children[0]}return d},_shapeCreated:function(d){var g=false;if(this.observer&&this.observer.shapeCreated){g=this.observer.shapeCreated(d)}return g},_loadGeometryTo:function(d,x,g){var v=x.coordinates;var u;var w;switch(x.type){case"LineString":w=this._loadPolygon(d,[v],g);this._setLineFill(w);break;case"MultiLineString":for(u=0;u<v.length;u++){w=this._loadPolygon(d,[v[u]],g);this._setLineFill(w)}break;case"Polygon":this._loadPolygon(d,v,g);break;case"MultiPolygon":for(u=0;u<v.length;u++){this._loadPolygon(d,v[u],g)}break;case"Point":this._loadPoint(d,v,g);break;case"MultiPoint":for(u=0;u<v.length;u++){this._loadPoint(d,v[u],g)}break}},_setLineFill:function(g){var d=g.segments;if(d.length<4||!d[0].anchor().equals(k(d).anchor())){g.options.fill=null}},_loadShape:function(d,g){if(!this._shapeCreated(g)){d.append(g)}return g},_loadPolygon:function(d,v,u){var g=this._buildPolygon(v);g.dataItem=u;return this._loadShape(d,g)},_buildPolygon:function(x){var v=x.length>1?s.MultiPath:s.Path;var w=new v(this.style);for(var u=0;u<x.length;u++){for(var g=0;g<x[u].length;g++){var d=this.locator.locationToView(a.fromLngLat(x[u][g]));if(g===0){w.moveTo(d.x,d.y)}else{w.lineTo(d.x,d.y)}}}return w},_loadPoint:function(u,x,w){var g=a.fromLngLat(x);var d=this.locator.locationToView(g);var y=new r.Circle(d,10);var v=new s.Circle(y,this.style);v.dataItem=w;v.location=g;return this._loadShape(u,v)}});l(m.data,{schemas:{geojson:{type:"json",data:function(d){if(d.type==="FeatureCollection"){return d.features}if(d.type==="GeometryCollection"){return d.geometries}return d}}},transports:{geojson:{read:{dataType:"json"}}}});l(j,{map:{layers:{shape:h,ShapeLayer:h},GeoJSONLoader:o}})})(window.kendo.jQuery);(function(f,i){var q=f.proxy,n=window.kendo,j=n.getter,k=n.dataviz,l=n.deepExtend,a=n.util,c=a.defined,m=a.isNumber,r=n.geometry,s=n.drawing,t=k.map,b=t.Location,h=t.layers.ShapeLayer;var p=Math.PI;var o=h.extend({options:{autoBind:true,locationField:"location",valueField:"value",minSize:0,maxSize:100,scale:"sqrt",symbol:"circle"},_load:function(A){this.surface.clear();if(A.length===0){return}var w=this.options;var z=j(w.valueField);A=A.slice(0);A.sort(function(H,G){return z(G)-z(H)});var C=z(A[0]);var v=this._scaleType();var y;for(var B=0;B<A.length;B++){var g=A[B];var E=j(w.locationField)(g);var D=j(w.valueField)(g);if(c(E)&&c(D)){if(!y){y=new v([0,D],[w.minSize,w.maxSize])}E=b.create(E);var d=this.map.locationToView(E);var F=y.map(D);var x=this._createSymbol({center:d,size:F,style:w.style,dataItem:g,location:E});x.dataItem=g;x.location=E;x.value=D;this._drawSymbol(x)}}},_scaleType:function(){var d=this.options.scale;if(n.isFunction(d)){return d}return k.map.scales[d]},_createSymbol:function(d){var g=this.options.symbol;if(!n.isFunction(g)){g=k.map.symbols[g]}return g(d)},_drawSymbol:function(d){var g={layer:this,shape:d};var v=this.map.trigger("shapeCreated",g);if(!v){this.surface.draw(d)}}});var u=n.Class.extend({init:function(w,d){this._domain=w;this._range=d;var g=Math.sqrt(w[1])-Math.sqrt(w[0]);var v=d[1]-d[0];this._ratio=v/g},map:function(g){var d=(Math.sqrt(g)-Math.sqrt(this._domain[0]))*this._ratio;return this._range[0]+d}});var e={circle:function(d){var g=new r.Circle(d.center,d.size/2);return new s.Circle(g,d.style)},square:function(g){var w=new s.Path(g.style);var v=g.size/2;var d=g.center;w.moveTo(d.x-v,d.y-v).lineTo(d.x+v,d.y-v).lineTo(d.x+v,d.y+v).lineTo(d.x-v,d.y+v).close();return w}};l(k,{map:{layers:{bubble:o,BubbleLayer:o},scales:{sqrt:u},symbols:e}})})(window.kendo.jQuery);(function(e,h){var c=Math,p=e.proxy,o=window.kendo,q=o.Class,v=o.template,i=o.dataviz,l=o.deepExtend,r=o.geometry,w=r.Point,f=i.map.layers.Layer,b=o.util,x=b.objectKey,u=b.round,d=b.renderSize,s=b.limitValue;var a=100;var k=f.extend({init:function(z,y){f.fn.init.call(this,z,y);if(typeof this.options.subdomains==="string"){this.options.subdomains=this.options.subdomains.split("")}var g=this._viewType();this._view=new g(this.element,this.options)},destroy:function(){f.fn.destroy.call(this);this._view.destroy();this._view=null},_reset:function(){f.fn._reset.call(this);this._updateView();this._view.reset()},_viewType:function(){return j},_activate:function(){f.fn._activate.call(this);if(!o.support.mobileOS){if(!this._pan){this._pan=o.throttle(p(this._render,this),100)}this.map.bind("pan",this._pan)}},_deactivate:function(){f.fn._deactivate.call(this);if(this._pan){this.map.unbind("pan",this._pan)}},_updateView:function(){var g=this._view,A=this.map,y=A.extent(),z={nw:A.locationToLayer(y.nw).round(),se:A.locationToLayer(y.se).round()};g.center(A.locationToLayer(A.center()));g.extent(z);g.zoom(A.zoom())},_resize:function(){this._render()},_panEnd:function(g){f.fn._panEnd.call(this,g);this._render()},_render:function(){this._updateView();this._view.render()}});var j=q.extend({init:function(y,g){this.element=y;this._initOptions(g);this.pool=new m()},options:{tileSize:256,subdomains:["a","b","c"],urlTemplate:""},center:function(g){this._center=g},extent:function(g){this._extent=g},zoom:function(g){this._zoom=g},pointToTileIndex:function(g){return new w(c.floor(g.x/this.options.tileSize),c.floor(g.y/this.options.tileSize))},tileCount:function(){var z=this.size(),A=this.pointToTileIndex(this._extent.nw),y=this._extent.nw,g=this.indexToPoint(A).translate(-y.x,-y.y);return{x:c.ceil((c.abs(g.x)+z.width)/this.options.tileSize),y:c.ceil((c.abs(g.y)+z.height)/this.options.tileSize)}},size:function(){var g=this._extent.nw,y=this._extent.se,z=y.clone().translate(-g.x,-g.y);return{width:z.x,height:z.y}},indexToPoint:function(z){var g=z.x,A=z.y;return new w(g*this.options.tileSize,A*this.options.tileSize)},subdomainText:function(){var g=this.options.subdomains;return g[this.subdomainIndex++%g.length]},destroy:function(){this.element.empty();this.pool.empty()},reset:function(){this.pool.reset();this.subdomainIndex=0;this.basePoint=this._extent.nw;this.render()},render:function(){var z=this.tileCount(),B=this.pointToTileIndex(this._extent.nw),A,g,C;for(g=0;g<z.x;g++){for(C=0;C<z.y;C++){A=this.createTile({x:B.x+g,y:B.y+C});if(!A.visible){A.show()}}}},createTile:function(g){var y=this.tileOptions(g);var z=this.pool.get(this._center,y);if(z.element.parent().length===0){this.element.append(z.element)}return z},tileOptions:function(y){var z=this.wrapIndex(y),g=this.indexToPoint(y),A=this.basePoint,B=g.clone().translate(-A.x,-A.y);return{index:z,currentIndex:y,point:g,offset:n(B),zoom:this._zoom,subdomain:this.subdomainText(),urlTemplate:this.options.urlTemplate,errorUrlTemplate:this.options.errorUrlTemplate}},wrapIndex:function(g){var y=c.pow(2,this._zoom);return{x:this.wrapValue(g.x,y),y:s(g.y,0,y-1)}},wrapValue:function(y,z){var g=(c.abs(y)%z);if(y>=0){y=g}else{y=z-(g===0?z:g)}return y}});var t=q.extend({init:function(y,g){this.id=y;this.visible=true;this._initOptions(g);this.createElement();this.show()},options:{urlTemplate:"",errorUrlTemplate:""},createElement:function(){this.element=e("<img style='position: absolute; display: block;' />").error(p(function(g){if(this.errorUrl()){g.target.setAttribute("src",this.errorUrl())}else{g.target.removeAttribute("src")}},this))},show:function(){var y=this.element[0];y.style.top=d(this.options.offset.y);y.style.left=d(this.options.offset.x);var g=this.url();if(g){y.setAttribute("src",g)}y.style.visibility="visible";this.visible=true},hide:function(){this.element[0].style.visibility="hidden";this.visible=false},url:function(){var g=v(this.options.urlTemplate);return g(this.urlOptions())},errorUrl:function(){var g=v(this.options.errorUrlTemplate);return g(this.urlOptions())},urlOptions:function(){var g=this.options;return{zoom:g.zoom,subdomain:g.subdomain,z:g.zoom,x:g.index.x,y:g.index.y,s:g.subdomain,quadkey:g.quadkey,q:g.quadkey,culture:g.culture,c:g.culture}},destroy:function(){if(this.element){this.element.remove();this.element=null}}});var m=q.extend({init:function(){this._items=[]},options:{maxSize:100},get:function(g,y){if(this._items.length>=this.options.maxSize){this._remove(g)}return this._create(y)},empty:function(){var g=this._items;for(var y=0;y<g.length;y++){g[y].destroy()}this._items=[]},reset:function(){var g=this._items;for(var y=0;y<g.length;y++){g[y].hide()}},_create:function(y){var g=this._items;var A;var B=b.hashKey(x(y)+x(y.currentIndex));for(var z=0;z<g.length;z++){if(g[z].id===B){A=g[z]}}if(A){A.show()}else{A=new t(B,y);this._items.push(A)}return A},_remove:function(g){var y=this._items;var B=-1;var z=-1;for(var A=0;A<y.length;A++){var C=y[A].options.point.distanceTo(g);if(C>B){z=A;B=C}}if(z!==-1){y[z].destroy();y.splice(z,1)}}});function n(g){return new w(u(g.x),u(g.y))}l(i,{map:{layers:{tile:k,TileLayer:k,ImageTile:t,TilePool:m,TileView:j}}})})(window.kendo.jQuery);(function(j,c){var n=Math,m=j.proxy,l=window.kendo,a=l.Class,o=l.template,h=l.dataviz,e=l.deepExtend,g=l.util.defined,p=h.map.Extent,k=h.map.Location,d=h.map.layers.Layer,f=h.map.layers.TileLayer,i=h.map.layers.TileView;var b=f.extend({init:function(s,r){f.fn.init.call(this,s,r);this._onMetadata=j.proxy(this._onMetadata,this);this._fetchMetadata()},options:{baseUrl:"//dev.virtualearth.net/REST/v1/Imagery/Metadata/",imagerySet:"road"},_fetchMetadata:function(){var r=this.options;if(!r.key){throw new Error("Bing tile layer: API key is required")}j.ajax({url:r.baseUrl+r.imagerySet,data:{output:"json",include:"ImageryProviders",key:r.key,uriScheme:this._scheme(window.location.protocol)},type:"get",dataType:"jsonp",jsonp:"jsonp",success:this._onMetadata})},_scheme:function(r){return r.replace(":","")==="https"?"https":"http"},_onMetadata:function(t){if(t&&t.resourceSets.length){var s=this.resource=t.resourceSets[0].resources[0];e(this._view.options,{urlTemplate:s.imageUrl.replace("{subdomain}","#= subdomain #").replace("{quadkey}","#= quadkey #").replace("{culture}","#= culture #"),subdomains:s.imageUrlSubdomains});var r=this.options;if(!g(r.minZoom)){r.minZoom=s.zoomMin}if(!g(r.maxZoom)){r.maxZoom=s.zoomMax}this._addAttribution();if(this.element.css("display")!=="none"){this.reset()}}},_viewType:function(){return q},_addAttribution:function(){var r=this.map.attribution;if(r){var s=this.resource.imageryProviders;if(s){for(var t=0;t<s.length;t++){var v=s[t];for(var w=0;w<v.coverageAreas.length;w++){var u=v.coverageAreas[w];r.add({text:v.attribution,minZoom:u.zoomMin,maxZoom:u.zoomMax,extent:new p(new k(u.bbox[2],u.bbox[1]),new k(u.bbox[0],u.bbox[3]))})}}}}},imagerySet:function(r){if(r){this.options.imagerySet=r;this.map.attribution.clear();this._fetchMetadata();this._reset()}else{return this.options.imagerySet}}});var q=i.extend({options:{culture:"en-US"},tileOptions:function(r){var s=i.fn.tileOptions.call(this,r);s.culture=this.options.culture;s.quadkey=this.tileQuadKey(this.wrapIndex(r));return s},tileQuadKey:function(t){var s="",v,r,u;for(u=this._zoom;u>0;u--){v=0;r=1<<(u-1);if((t.x&r)!==0){v++}if((t.y&r)!==0){v+=2}s+=v}return s}});e(h,{map:{layers:{bing:b,BingLayer:b,BingView:q}}})})(window.kendo.jQuery);(function(g,c){var p=document,o=Math,m=g.inArray,j=g.proxy,i=window.kendo,b=i.Class,q=i.data.DataSource,l=i.ui.Tooltip,f=i.dataviz,e=i.deepExtend,a=f.map,h=a.Location,d=a.layers.Layer;var n=d.extend({init:function(s,r){d.fn.init.call(this,s,r);this._markerClick=j(this._markerClick,this);this.element.on("click",".k-marker",this._markerClick);this.items=[];this._initDataSource()},destroy:function(){d.fn.destroy.call(this);this.element.off("click",".k-marker",this._markerClick);this.dataSource.unbind("change",this._dataChange);this.clear()},options:{zIndex:1000,autoBind:true,dataSource:{},locationField:"location",titleField:"title"},add:function(r){if(g.isArray(r)){for(var s=0;s<r.length;s++){this._addOne(r[s])}}else{return this._addOne(r)}},remove:function(r){r.destroy();var s=m(r,this.items);if(s>-1){this.items.splice(s,1)}},clear:function(){for(var r=0;r<this.items.length;r++){this.items[r].destroy()}this.items=[]},update:function(r){var t=r.location();if(t){r.showAt(this.map.locationToView(t));var s={marker:r,layer:this};this.map.trigger("markerActivate",s)}},_reset:function(){d.fn._reset.call(this);var r=this.items;for(var s=0;s<r.length;s++){this.update(r[s])}},bind:function(u,t){var r=a.Marker.create(u,this.options);r.dataItem=t;var s={marker:r,layer:this};var v=this.map.trigger("markerCreated",s);if(!v){this.add(r);return r}},setDataSource:function(r){if(this.dataSource){this.dataSource.unbind("change",this._dataChange)}this.dataSource=r;this.dataSource.bind("change",this._dataChange);if(this.options.autoBind){this.dataSource.fetch()}},_addOne:function(r){var s=k.create(r,this.options);s.addTo(this);return s},_initDataSource:function(){var r=this.options.dataSource;this._dataChange=j(this._dataChange,this);this.dataSource=q.create(r).bind("change",this._dataChange);if(r&&this.options.autoBind){this.dataSource.fetch()}},_dataChange:function(r){this._load(r.sender.view())},_load:function(v){this._data=v;this.clear();var u=i.getter(this.options.locationField);var t=i.getter(this.options.titleField);for(var s=0;s<v.length;s++){var r=v[s];this.bind({location:u(r),title:t(r)},r)}},_markerClick:function(s){var r={marker:g(s.target).data("kendoMarker"),layer:this};this.map.trigger("markerClick",r)}});var k=b.extend({init:function(r){this.options=r||{}},addTo:function(r){this.layer=r.markers||r;this.layer.items.push(this);this.layer.update(this)},location:function(r){if(r){this.options.location=h.create(r).toArray();if(this.layer){this.layer.update(this)}return this}else{return h.create(this.options.location)}},showAt:function(r){this.render();this.element.css({left:o.round(r.x),top:o.round(r.y)});if(this.tooltip&&this.tooltip.popup){this.tooltip.popup._position()}},hide:function(){if(this.element){this.element.remove();this.element=null}if(this.tooltip){this.tooltip.destroy();this.tooltip=null}},destroy:function(){this.layer=null;this.hide()},render:function(){if(!this.element){var r=this.options;var s=this.layer;this.element=g(p.createElement("span")).addClass("k-marker k-marker-"+i.toHyphens(r.shape||"pin")).attr("title",r.title).attr(r.attributes||{}).data("kendoMarker",this).css("zIndex",r.zIndex);if(s){s.element.append(this.element)}this.renderTooltip()}},renderTooltip:function(){var r=this;var v=r.options.title;var s=r.options.tooltip||{};if(s&&l){var t=s.template;if(t){var u=i.template(t);s.content=function(w){w.location=r.location();w.marker=r;return u(w)}}if(v||s.content||s.contentUrl){this.tooltip=new l(this.element,s);this.tooltip.marker=this}}}});k.create=function(r,s){if(r instanceof k){return r}return new k(e({},s,r))};e(f,{map:{layers:{marker:n,MarkerLayer:n},Marker:k}})})(window.kendo.jQuery);(function(j,k){var D=document,f=Math,t=f.min,h=f.pow,u=j.proxy,s=window.kendo,e=s.ui.Widget,o=s.deepExtend,n=s.dataviz,r=n.ui,v=s.geometry,B=v.Point,A=n.map,C=A.Extent,c=A.Location,q=A.crs.EPSG3857,a=s.util,d=a.defined,x=a.limitValue,m=a.renderPos,p=a.valueOrDefault;var y="k-",z=0.9,b=0.93,w="DOMMouseScroll mousewheel",l=5;var i=e.extend({init:function(E,g){s.destroy(E);e.fn.init.call(this,E);this._initOptions(g);this.bind(this.events,g);this.crs=new q();this.element.addClass(y+this.options.name.toLowerCase()).css("position","relative").empty().append(D.createElement("div"));this._viewOrigin=this._getOrigin();this._initScroller();this._initMarkers();this._initControls();this._initLayers();this._reset();this._mousewheel=u(this._mousewheel,this);this.element.bind("click",u(this._click,this));this.element.bind(w,this._mousewheel)},options:{name:"Map",controls:{attribution:true,navigator:{panStep:100},zoom:true},layers:[],layerDefaults:{shape:{style:{fill:{color:"#fff"},stroke:{color:"#aaa",width:0.5}}},bubble:{style:{fill:{color:"#fff",opacity:0.5},stroke:{color:"#aaa",width:0.5}}},marker:{shape:"pinTarget",tooltip:{position:"top"}}},center:[0,0],zoom:3,minSize:256,minZoom:1,maxZoom:19,markers:[],markerDefaults:{shape:"pinTarget",tooltip:{position:"top"}},wraparound:true},events:["beforeReset","click","reset","pan","panEnd","markerActivate","markerClick","markerCreated","shapeClick","shapeCreated","shapeMouseEnter","shapeMouseLeave","zoomStart","zoomEnd"],destroy:function(){this.scroller.destroy();if(this.navigator){this.navigator.destroy()}if(this.attribution){this.attribution.destroy()}if(this.zoomControl){this.zoomControl.destroy()}this.markers.destroy();for(var g=0;g<this.layers.length;g++){this.layers[g].destroy()}e.fn.destroy.call(this)},zoom:function(E){var g=this.options;if(d(E)){E=x(E,g.minZoom,g.maxZoom);if(g.zoom!==E){g.zoom=E;this._reset()}return this}else{return g.zoom}},center:function(g){if(g){this.options.center=c.create(g).toArray();this._reset();return this}else{return c.create(this.options.center)}},extent:function(g){if(g){this._setExtent(g);return this}else{return this._getExtent()}},setOptions:function(g){e.fn.setOptions.call(this,g);this._reset()},locationToLayer:function(g,E){var F=!this.options.wraparound;g=c.create(g);return this.crs.toPoint(g,this._layerSize(E),F)},layerToLocation:function(g,E){var F=!this.options.wraparound;g=B.create(g);return this.crs.toLocation(g,this._layerSize(E),F)},locationToView:function(E){E=c.create(E);var F=this.locationToLayer(this._viewOrigin);var g=this.locationToLayer(E);return g.translateWith(F.scale(-1))},viewToLocation:function(g,F){var E=this.locationToLayer(this._getOrigin(),F);g=B.create(g);g=g.clone().translateWith(E);return this.layerToLocation(g,F)},eventOffset:function(F){var G=this.element.offset();var E=F.originalEvent||F;var g=p(E.pageX,E.clientX)-G.left;var H=p(E.pageY,E.clientY)-G.top;return new v.Point(g,H)},eventToView:function(g){var E=this.eventOffset(g);return this.locationToView(this.viewToLocation(E))},eventToLayer:function(g){return this.locationToLayer(this.eventToLocation(g))},eventToLocation:function(g){var E=this.eventOffset(g);return this.viewToLocation(E)},viewSize:function(){var g=this.element;var F=this._layerSize();var E=g.width();if(!this.options.wraparound){E=t(F,E)}return{width:E,height:t(F,g.height())}},exportVisual:function(){this._reset();return false},_setOrigin:function(g,G){var E=this.viewSize(),F;g=this._origin=c.create(g);F=this.locationToLayer(g,G);F.x+=E.width/2;F.y+=E.height/2;this.options.center=this.layerToLocation(F,G).toArray();return this},_getOrigin:function(F){var g=this.viewSize(),E;if(F||!this._origin){E=this.locationToLayer(this.center());E.x-=g.width/2;E.y-=g.height/2;this._origin=this.layerToLocation(E)}return this._origin},_setExtent:function(G){G=C.create(G);this.center(G.center());var F=this.element.width();var g=this.element.height();for(var I=this.options.maxZoom;I>=this.options.minZoom;I--){var E=this.locationToLayer(G.nw,I);var J=this.locationToLayer(G.se,I);var H=f.abs(J.x-E.x);var K=f.abs(J.y-E.y);if(H<=F&&K<=g){break}}this.zoom(I)},_getExtent:function(){var g=this._getOrigin();var F=this.locationToLayer(g);var E=this.viewSize();F.x+=E.width;F.y+=E.height;var G=this.layerToLocation(F);return new C(g,G)},_zoomAround:function(g,E){this._setOrigin(this.layerToLocation(g,E),E);this.zoom(E)},_initControls:function(){var g=this.options.controls;if(r.Attribution&&g.attribution){this._createAttribution(g.attribution)}if(!s.support.mobileOS){if(r.Navigator&&g.navigator){this._createNavigator(g.navigator)}if(r.ZoomControl&&g.zoom){this._createZoomControl(g.zoom)}}},_createControlElement:function(F,E){var H=F.position||E;var g="."+m(H).replace(" ",".");var G=j(".k-map-controls"+g,this.element);if(G.length===0){G=j("<div>").addClass("k-map-controls "+m(H)).appendTo(this.element)}return j("<div>").appendTo(G)},_createAttribution:function(g){var E=this._createControlElement(g,"bottomRight");this.attribution=new r.Attribution(E,g)},_createNavigator:function(E){var F=this._createControlElement(E,"topLeft");var g=this.navigator=new r.Navigator(F,E);this._navigatorPan=u(this._navigatorPan,this);g.bind("pan",this._navigatorPan);this._navigatorCenter=u(this._navigatorCenter,this);g.bind("center",this._navigatorCenter)},_navigatorPan:function(J){var I=this;var F=I.scroller;var E=F.scrollLeft+J.x;var K=F.scrollTop-J.y;var H=this._virtualSize;var g=this.element.height();var G=this.element.width();E=x(E,H.x.min,H.x.max-G);K=x(K,H.y.min,H.y.max-g);I.scroller.one("scroll",function(L){I._scrollEnd(L)});I.scroller.scrollTo(-E,-K)},_navigatorCenter:function(){this.center(this.options.center)},_createZoomControl:function(E){var F=this._createControlElement(E,"topLeft");var g=this.zoomControl=new r.ZoomControl(F,E);this._zoomControlChange=u(this._zoomControlChange,this);g.bind("change",this._zoomControlChange)},_zoomControlChange:function(g){if(!this.trigger("zoomStart",{originalEvent:g})){this.zoom(this.zoom()+g.delta);this.trigger("zoomEnd",{originalEvent:g})}},_initScroller:function(){var F=s.support.mobileOS?b:z;var E=this.options.zoomable!==false;var g=this.scroller=new s.mobile.ui.Scroller(this.element.children(0),{friction:F,velocityMultiplier:l,zoom:E,mousewheelScrolling:false});g.bind("scroll",u(this._scroll,this));g.bind("scrollEnd",u(this._scrollEnd,this));g.userEvents.bind("gesturestart",u(this._scaleStart,this));g.userEvents.bind("gestureend",u(this._scale,this));this.scrollElement=g.scrollElement},_initLayers:function(){var g=this.options.layers,J=this.layers=[];for(var G=0;G<g.length;G++){var F=g[G];var H=F.type||"shape";var I=this.options.layerDefaults[H];var E=n.map.layers[H];J.push(new E(this,o({},I,F)))}},_initMarkers:function(){this.markers=new A.layers.MarkerLayer(this,this.options.markerDefaults);this.markers.add(this.options.markers)},_scroll:function(F){var g=this.locationToLayer(this._viewOrigin).round();var E=F.sender.movable;var G=new v.Point(E.x,E.y).scale(-1).scale(1/E.scale);g.x+=G.x;g.y+=G.y;this._scrollOffset=G;this._setOrigin(this.layerToLocation(g));this.trigger("pan",{originalEvent:F,origin:this._getOrigin(),center:this.center()})},_scrollEnd:function(g){if(!this._scrollOffset||!this._panComplete()){return}this._scrollOffset=null;this._panEndTS=new Date();this.trigger("panEnd",{originalEvent:g,origin:this._getOrigin(),center:this.center()})},_panComplete:function(){return new Date()-(this._panEndTS||0)>50},_scaleStart:function(g){if(this.trigger("zoomStart",{originalEvent:g})){var E=g.touches[1];if(E){E.cancel()}}},_scale:function(H){var I=this.scroller.movable.scale;var E=this._scaleToZoom(I);var G=new v.Point(H.center.x,H.center.y);var g=this.viewToLocation(G,E);var J=this.locationToLayer(g,E);var F=J.translate(-G.x,-G.y);this._zoomAround(F,E);this.trigger("zoomEnd",{originalEvent:H})},_scaleToZoom:function(E){var G=this._layerSize()*E;var g=G/this.options.minSize;var F=f.log(g)/f.log(2);return f.round(F)},_reset:function(){if(this.attribution){this.attribution.filter(this.center(),this.zoom())}this._viewOrigin=this._getOrigin(true);this._resetScroller();this.trigger("beforeReset");this.trigger("reset")},_resetScroller:function(){var G=this.scroller;var M=G.dimensions.x;var K=G.dimensions.y;var F=this._layerSize();var g=20*F;var H=this.extent().nw;var N=this.locationToLayer(H).round();G.movable.round=true;G.reset();G.userEvents.cancel();var L=this.options.maxZoom-this.zoom();G.dimensions.maxScale=h(2,L);var E={min:-N.x,max:F-N.x};var I={min:-N.y,max:F-N.y};if(this.options.wraparound){E.min=-g;E.max=g}if(this.options.pannable===false){var J=this.viewSize();E.min=I.min=0;E.max=J.width;I.max=J.height}M.makeVirtual();K.makeVirtual();M.virtualSize(E.min,E.max);K.virtualSize(I.min,I.max);this._virtualSize={x:E,y:I}},_renderLayers:function(){var g=this.options.layers,K=this.layers=[],I=this.scrollWrap;I.empty();for(var G=0;G<g.length;G++){var F=g[G];var H=F.type||"shape";var J=this.options.layerDefaults[H];var E=n.map.layers[H];K.push(new E(this,o({},J,F)))}},_layerSize:function(g){g=p(g,this.options.zoom);return this.options.minSize*h(2,g)},_click:function(g){if(!this._panComplete()){return}var E=this.eventOffset(g);this.trigger("click",{originalEvent:g,location:this.viewToLocation(E)})},_mousewheel:function(F){F.preventDefault();var J=n.mwDelta(F)>0?-1:1;var L=this.options;var E=this.zoom();var g=x(E+J,L.minZoom,L.maxZoom);if(L.zoomable!==false&&g!==E){if(!this.trigger("zoomStart",{originalEvent:F})){var K=this.eventOffset(F);var I=this.viewToLocation(K);var G=this.locationToLayer(I,g);var H=G.translate(-K.x,-K.y);this._zoomAround(H,g);this.trigger("zoomEnd",{originalEvent:F})}}}});n.ui.plugin(i)})(window.kendo.jQuery);(function(h,d){var l=window.kendo,g=l.dataviz.diagram={},b=l.Class,f=l.deepExtend,i=h.isArray,e=0.000001;var j={};f(j,{isNearZero:function(o){return Math.abs(o)<e},isDefined:function(o){return typeof o!=="undefined"},isUndefined:function(o){return(typeof o==="undefined")||o===null},isObject:function(o){return o===Object(o)},has:function(p,o){return Object.hasOwnProperty.call(p,o)},isString:function(o){return Object.prototype.toString.call(o)=="[object String]"},isBoolean:function(o){return Object.prototype.toString.call(o)=="[object Boolean]"},isType:function(p,o){return Object.prototype.toString.call(p)=="[object "+o+"]"},isNumber:function(o){return !isNaN(parseFloat(o))&&isFinite(o)},isEmpty:function(p){if(p===null){return true}if(i(p)||j.isString(p)){return p.length===0}for(var o in p){if(j.has(p,o)){return false}}return true},simpleExtend:function(o,q){if(!j.isObject(q)){return}for(var p in q){o[p]=q[p]}},initArray:function m(p,q){var r=[];for(var o=0;o<p;++o){r[o]=q}return r},serializePoints:function(r){var q=[];for(var o=0;o<r.length;o++){var s=r[o];q.push(s.x+";"+s.y)}return q.join(";")},deserializePoints:function(r){var o=r.split(";"),q=[];if(o.length%2!==0){throw"Not an array of points."}for(var p=0;p<o.length;p+=2){q.push(new g.Point(parseInt(o[p],10),parseInt(o[p+1],10)))}return q},randomInteger:function(o,p){return parseInt(Math.floor(Math.random()*p)+o,10)},DFT:function(p,r){r(p);if(p.childNodes){for(var o=0;o<p.childNodes.length;o++){var q=p.childNodes[o];this.DFT(q,r)}}},getMatrixAngle:function(o){if(o===null||o.d===0){return 0}return Math.atan2(o.b,o.d)*180/Math.PI},getMatrixScaling:function(o){var q=Math.sqrt(o.a*o.a+o.c*o.c);var p=Math.sqrt(o.b*o.b+o.d*o.d);return[q,p]}});function c(v,s,t){if(typeof v=="undefined"||typeof s=="undefined"){return[]}if(t&&j.sign(s-v)!=j.sign(t)){throw"The sign of the increment should allow to reach the stop-value."}t=t||1;v=v||0;s=s||v;if((s-v)/t===Infinity){throw"Infinite range defined."}var p=[],r=-1,q;function u(w){var y=1;while(w*y%1){y*=10}return y}var o=u(Math.abs(t));v*=o;s*=o;t*=o;if(v>s&&t>0){t=-t}if(t<0){while((q=v+t*++r)>=s){p.push(q/o)}}else{while((q=v+t*++r)<=s){p.push(q/o)}}return p}function n(s,p){if(s==p){return 0}var o=p.x-s.x,q=s.y-p.y,r=Math.atan(o/q);if(q>=0){return o<0?r+(2*Math.PI):r}return r+Math.PI}j.sign=function(o){return o?o<0?-1:1:0};j.findAngle=function(o,p){return n(o,p)*180/Math.PI};j.forEach=function(o,q,r){for(var p=0;p<o.length;p++){q.call(r,o[p],p,o)}};j.any=function(p,o){for(var q=0;q<p.length;++q){if(o(p[q])){return p[q]}}return null};j.remove=function(o,q){var p;while((p=j.indexOf(o,q))!==-1){o.splice(p,1)}return o};j.contains=function(o,p){return j.indexOf(o,p)!==-1};j.indexOf=function(o,p){return h.inArray(p,o)};j.fold=function(u,r,t,q){var o=arguments.length>2;for(var p=0;p<u.length;p++){var s=u[p];if(!o){t=s;o=true}else{t=r.call(q,t,s,p,u)}}if(!o){throw"Reduce of empty array with no initial value"}return t};j.find=function(p,r,q){var o;j.any(p,function(u,s,t){if(r.call(q,u,s,t)){o=u;return true}return false});return o};j.first=function(o,q,p){if(o.length===0){return null}if(j.isUndefined(q)){return o[0]}return j.find(o,q,p)};j.insert=function(p,q,o){p.splice(o,0,q);return p};j.all=function(p,s,r){var o=true;var t;for(var q=0;q<p.length;q++){t=p[q];o=o&&s.call(r,t,q,p);if(!o){break}}return o};j.clear=function(o){o.splice(0,o.length)};j.bisort=function(p,o,q){if(j.isUndefined(p)){throw"First array is not specified."}if(j.isUndefined(o)){throw"Second array is not specified."}if(p.length!=o.length){throw"The two arrays should have equal length"}var s=[],r;for(r=0;r<p.length;r++){s.push({x:p[r],y:o[r]})}if(j.isUndefined(q)){s.sort(function(t,u){return t.x-u.x})}else{s.sort(function(t,u){return q(t.x,u.x)})}j.clear(p);j.clear(o);for(r=0;r<s.length;r++){p.push(s[r].x);o.push(s[r].y)}};j.addRange=function(o,p){o.push.apply(o,p)};var k={easeInOut:function(o){return((-Math.cos(o*Math.PI)/2)+0.5)}};var a=l.Class.extend({init:function(){this.adapters=[];this.target=0;this.tick=0;this.interval=20;this.duration=800;this.lastTime=null;this.handlers=[];var o=this;this.transition=k.easeInOut;this.timerDelegate=function(){o.onTimerEvent()}},addAdapter:function(o){this.adapters.push(o)},onComplete:function(o){this.handlers.push(o)},removeHandler:function(o){this.handlers=h.grep(this.handlers,function(p){return p!==o})},trigger:function(){var o=this;if(this.handlers){j.forEach(this.handlers,function(p){return p.call(o.caller!==null?o.caller:o)})}},onStep:function(){},seekTo:function(o){this.seekFromTo(this.tick,o)},seekFromTo:function(p,o){this.target=Math.max(0,Math.min(1,o));this.tick=Math.max(0,Math.min(1,p));this.lastTime=new Date().getTime();if(!this.intervalId){this.intervalId=window.setInterval(this.timerDelegate,this.interval)}},stop:function(){if(this.intervalId){window.clearInterval(this.intervalId);this.intervalId=null;this.trigger()}},play:function(o){if(this.adapters.length===0){return}if(o!==null){this.caller=o}this.initState();this.seekFromTo(0,1)},reverse:function(){this.seekFromTo(1,0)},initState:function(){if(this.adapters.length===0){return}for(var o=0;o<this.adapters.length;o++){this.adapters[o].initState()}},propagate:function(){var p=this.transition(this.tick);for(var o=0;o<this.adapters.length;o++){this.adapters[o].update(p)}},onTimerEvent:function(){var q=new Date().getTime();var o=q-this.lastTime;this.lastTime=q;var p=(o/this.duration)*(this.tick<this.target?1:-1);if(Math.abs(p)>=Math.abs(this.tick-this.target)){this.tick=this.target}else{this.tick+=p}try{this.propagate()}finally{this.onStep.call(this);if(this.target==this.tick){this.stop()}}}});l.deepExtend(g,{init:function(o){l.init(o,g.ui)},Utils:j,Range:c,Ticker:a})})(window.kendo.jQuery);(function(z,k){var A=window.kendo,f=A.dataviz.diagram,b=A.Class,C=A.deepExtend,h=A.dataviz,E=f.Utils,p=h.Point2D,o=A.isFunction,y=E.contains,w=z.map;var J=3,l=0.000001;C(p.fn,{plus:function(K){return new p(this.x+K.x,this.y+K.y)},minus:function(K){return new p(this.x-K.x,this.y-K.y)},offset:function(K){return new p(this.x-K,this.y-K)},times:function(K){return new p(this.x*K,this.y*K)},normalize:function(){if(this.length()===0){return new p()}return this.times(1/this.length())},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},toString:function(){return"("+this.x+","+this.y+")"},lengthSquared:function(){return(this.x*this.x+this.y*this.y)},middleOf:function n(L,K){return new p(K.x-L.x,K.y-L.y).times(0.5).plus(L)},toPolar:function(N){var M=1;if(N){M=180/Math.PI}var L=Math.atan2(Math.abs(this.y),Math.abs(this.x));var O=Math.PI/2;var K=this.length();if(this.x===0){if(this.y===0){return new m(0,0)}if(this.y>0){return new m(K,M*O)}if(this.y<0){return new m(K,M*3*O)}}else{if(this.x>0){if(this.y===0){return new m(K,0)}if(this.y>0){return new m(K,M*L)}if(this.y<0){return new m(K,M*(4*O-L))}}else{if(this.y===0){return new m(K,2*O)}if(this.y>0){return new m(K,M*(2*O-L))}if(this.y<0){return new m(K,M*(2*O+L))}}}},isOnLine:function(Q,P){if(Q.x>P.x){var M=P;P=Q;Q=M}var L=new r(Q.x,Q.y).inflate(J,J),K=new r(P.x,P.y).inflate(J,J),N,O;if(L.union(K).contains(this)){if(Q.x===P.x||Q.y===P.y){return true}else{if(Q.y<P.y){N=L.x+(((K.x-L.x)*(this.y-(L.y+L.height)))/((K.y+K.height)-(L.y+L.height)));O=(L.x+L.width)+((((K.x+K.width)-(L.x+L.width))*(this.y-L.y))/(K.y-L.y))}else{N=L.x+(((K.x-L.x)*(this.y-L.y))/(K.y-L.y));O=(L.x+L.width)+((((K.x+K.width)-(L.x+L.width))*(this.y-(L.y+L.height)))/((K.y+K.height)-(L.y+L.height)))}}return(this.x>N&&this.x<O)}return false}});C(p,{parse:function(N){var L=N.slice(1,N.length-1),M=L.split(","),K=parseInt(M[0],10),O=parseInt(M[1],10);if(!isNaN(K)&&!isNaN(O)){return new p(K,O)}}});var j=b.extend({init:function(M,L,K){this.point=M;this.left=L;this.right=K}});var r=b.extend({init:function(L,N,M,K){this.x=L||0;this.y=N||0;this.width=M||0;this.height=K||0},contains:function(K){return((K.x>=this.x)&&(K.x<=(this.x+this.width))&&(K.y>=this.y)&&(K.y<=(this.y+this.height)))},inflate:function(L,K){if(K===k){K=L}this.x-=L;this.y-=K;this.width+=2*L+1;this.height+=2*K+1;return this},offset:function(M,L){var K=M,N=L;if(M instanceof p){K=M.x;N=M.y}this.x+=K;this.y+=N;return this},union:function(O){var L=Math.min(this.x,O.x);var N=Math.min(this.y,O.y);var K=Math.max((this.x+this.width),(O.x+O.width));var M=Math.max((this.y+this.height),(O.y+O.height));return new r(L,N,K-L,M-N)},center:function(){return new p(this.x+this.width/2,this.y+this.height/2)},top:function(){return new p(this.x+this.width/2,this.y)},right:function(){return new p(this.x+this.width,this.y+this.height/2)},bottom:function(){return new p(this.x+this.width/2,this.y+this.height)},left:function(){return new p(this.x,this.y+this.height/2)},topLeft:function(){return new p(this.x,this.y)},topRight:function(){return new p(this.x+this.width,this.y)},bottomLeft:function(){return new p(this.x,this.y+this.height)},bottomRight:function(){return new p(this.x+this.width,this.y+this.height)},clone:function(){return new r(this.x,this.y,this.width,this.height)},isEmpty:function(){return !this.width&&!this.height},equals:function(K){return this.x===K.x&&this.y===K.y&&this.width===K.width&&this.height===K.height},rotatedBounds:function(P){var N=this.clone(),M=this.rotatedPoints(P),K=M[0],O=M[1],L=M[2],Q=M[3];N.x=Math.min(L.x,K.x,O.x,Q.x);N.y=Math.min(L.y,K.y,O.y,Q.y);N.width=Math.max(L.x,K.x,O.x,Q.x)-N.x;N.height=Math.max(L.y,K.y,O.y,Q.y)-N.y;return N},rotatedPoints:function(O){var M=this,Q=M.center(),L=M.bottomRight().rotate(Q,360-O),K=M.topLeft().rotate(Q,360-O),N=M.topRight().rotate(Q,360-O),P=M.bottomLeft().rotate(Q,360-O);return[K,N,L,P]},toString:function(K){K=K||" ";return this.x+K+this.y+K+this.width+K+this.height},scale:function(R,P,T,O,K){var S=this.topLeft();var M=this.center();S.rotate(M,360-K).rotate(O,K);var Q=T.minus(S);var L=new p(Q.x*R,Q.y*P);var N=Q.minus(L);S=S.plus(N);S.rotate(O,360-K).rotate(M,K);this.x=S.x;this.y=S.y;this.width*=R;this.height*=P},zoom:function(K){this.x*=K;this.y*=K;this.width*=K;this.height*=K;return this}});var c=b.extend({init:function(L,K){this.width=L;this.height=K}});c.prototype.Empty=new c(0,0);r.toRect=function(K){if(!(K instanceof r)){K=new r(K.x,K.y,K.width,K.height)}return K};r.empty=function(){return new r(0,0,0,0)};r.fromPoints=function(L,K){if(isNaN(L.x)||isNaN(L.y)||isNaN(K.x)||isNaN(K.y)){throw"Some values are NaN."}return new r(Math.min(L.x,K.x),Math.min(L.y,K.y),Math.abs(L.x-K.x),Math.abs(L.y-K.y))};function G(K){return Math.abs(K)<l}function D(M,P,L,N,S){var T=((P.x-M.x)*(N.y-L.y))-((P.y-M.y)*(N.x-L.x));if(G(T)){return}var Q=((M.y-L.y)*(N.x-L.x))-((M.x-L.x)*(N.y-L.y));var O=((M.y-L.y)*(P.x-M.x))-((M.x-L.x)*(P.y-M.y));var K=Q/T;var R=O/T;if(S&&(K<0||K>1||R<0||R>1)){return}return new p(M.x+(K*(P.x-M.x)),M.y+(K*(P.y-M.y)))}var H={lines:function(N,L,M,K){return D(N,L,M,K)},segments:function(N,L,M,K){return D(N,L,M,K,true)},rectWithLine:function(L,M,K){return H.segments(M,K,L.topLeft(),L.topRight())||H.segments(M,K,L.topRight(),L.bottomRight())||H.segments(M,K,L.bottomLeft(),L.bottomRight())||H.segments(M,K,L.topLeft(),L.bottomLeft())},rects:function(R,Q,N){var T=Q.topLeft(),P=Q.topRight(),M=Q.bottomLeft(),S=Q.bottomRight();var K=Q.center();if(N){T=T.rotate(K,N);P=P.rotate(K,N);M=M.rotate(K,N);S=S.rotate(K,N)}var L=R.contains(T)||R.contains(P)||R.contains(M)||R.contains(S)||H.rectWithLine(R,T,P)||H.rectWithLine(R,T,M)||H.rectWithLine(R,P,S)||H.rectWithLine(R,M,S);if(!L){T=R.topLeft();P=R.topRight();M=R.bottomLeft();S=R.bottomRight();if(N){var O=360-N;T=T.rotate(K,O);P=P.rotate(K,O);M=M.rotate(K,O);S=S.rotate(K,O)}L=Q.contains(T)||Q.contains(P)||Q.contains(M)||Q.contains(S)}return L}};var x=b.extend({init:function(K){this.container=r.toRect(K)},align:function(M,N){var L=N.toLowerCase().split(" ");for(var K=0;K<L.length;K++){M=this._singleAlign(M,L[K])}return M},_singleAlign:function(K,L){if(o(this[L])){return this[L](K)}else{return K}},left:function(K){return this._align(K,this._left)},center:function(K){return this._align(K,this._center)},right:function(K){return this._align(K,this._right)},stretch:function(K){return this._align(K,this._stretch)},top:function(K){return this._align(K,this._top)},middle:function(K){return this._align(K,this._middle)},bottom:function(K){return this._align(K,this._bottom)},_left:function(K,L){L.x=K.x},_center:function(K,L){L.x=((K.width-L.width)/2)||0},_right:function(K,L){L.x=K.width-L.width},_top:function(K,L){L.y=K.y},_middle:function(K,L){L.y=((K.height-L.height)/2)||0},_bottom:function(K,L){L.y=K.height-L.height},_stretch:function(K,L){L.x=0;L.y=0;L.height=K.height;L.width=K.width},_align:function(L,K){L=r.toRect(L);K(this.container,L);return L}});var m=b.extend({init:function(L,K){this.r=L;this.angle=K}});var d=b.extend({init:function(L,K,P,O,N,M){this.a=L||0;this.b=K||0;this.c=P||0;this.d=O||0;this.e=N||0;this.f=M||0},plus:function(K){this.a+=K.a;this.b+=K.b;this.c+=K.c;this.d+=K.d;this.e+=K.e;this.f+=K.f},minus:function(K){this.a-=K.a;this.b-=K.b;this.c-=K.c;this.d-=K.d;this.e-=K.e;this.f-=K.f},times:function(K){return new d(this.a*K.a+this.c*K.b,this.b*K.a+this.d*K.b,this.a*K.c+this.c*K.d,this.b*K.c+this.d*K.d,this.a*K.e+this.c*K.f+this.e,this.b*K.e+this.d*K.f+this.f)},apply:function(K){return new p(this.a*K.x+this.c*K.y+this.e,this.b*K.x+this.d*K.y+this.f)},applyRect:function(K){return r.fromPoints(this.apply(K.topLeft()),this.apply(K.bottomRight()))},toString:function(){return"matrix("+this.a+" "+this.b+" "+this.c+" "+this.d+" "+this.e+" "+this.f+")"}});C(d,{fromSVGMatrix:function(L){var K=new d();K.a=L.a;K.b=L.b;K.c=L.c;K.d=L.d;K.e=L.e;K.f=L.f;return K},fromMatrixVector:function(L){var K=new d();K.a=L.a;K.b=L.b;K.c=L.c;K.d=L.d;K.e=L.e;K.f=L.f;return K},fromList:function(L){if(L.length!==6){throw"The given list should consist of six elements."}var K=new d();K.a=L[0];K.b=L[1];K.c=L[2];K.d=L[3];K.e=L[4];K.f=L[5];return K},translation:function(L,M){var K=new d();K.a=1;K.b=0;K.c=0;K.d=1;K.e=L;K.f=M;return K},unit:function(){return new d(1,0,0,1,0,0)},rotation:function(M,L,N){var K=new d();K.a=Math.cos(M*Math.PI/180);K.b=Math.sin(M*Math.PI/180);K.c=-K.b;K.d=K.a;K.e=(L-L*K.a+N*K.b)||0;K.f=(N-N*K.a-L*K.b)||0;return K},scaling:function(M,L){var K=new d();K.a=M;K.b=0;K.c=0;K.d=L;K.e=0;K.f=0;return K},parse:function(K){var M,L;if(K){K=K.trim();if(K.slice(0,6).toLowerCase()==="matrix"){L=K.slice(7,K.length-1).trim();M=L.split(",");if(M.length===6){return d.fromList(w(M,function(N){return parseFloat(N)}))}M=L.split(" ");if(M.length===6){return d.fromList(w(M,function(N){return parseFloat(N)}))}}if(K.slice(0,1)==="("&&K.slice(K.length-1)===")"){K=K.substr(1,K.length-1)}if(K.indexOf(",")>0){M=K.split(",");if(M.length===6){return d.fromList(w(M,function(N){return parseFloat(N)}))}}if(K.indexOf(" ")>0){M=K.split(" ");if(M.length===6){return d.fromList(w(M,function(N){return parseFloat(N)}))}}}return M}});var v=b.extend({init:function(L,K,P,O,N,M){this.a=L||0;this.b=K||0;this.c=P||0;this.d=O||0;this.e=N||0;this.f=M||0},fromMatrix:function e(K){var L=new v();L.a=K.a;L.b=K.b;L.c=K.c;L.d=K.d;L.e=K.e;L.f=K.f;return L}});function s(L,N){var K,O,M;do{K=Math.random()*2-1;O=Math.random()*2-1;M=K*K+O*O}while(!M||M>1);return L+N*K*Math.sqrt(-2*Math.log(M)/M)}function B(N){if(E.isUndefined(N)){N=10}var K="";var M="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var L=N;L>0;--L){K+=M.charAt(Math.round(Math.random()*(M.length-1)))}return K}var F={_distanceToLineSquared:function(Q,L,K){function P(S,R){return(S.x-R.x)*(S.x-R.x)+(S.y-R.y)*(S.y-R.y)}if(L===K){return P(Q,L)}var O=K.x-L.x,N=K.y-L.y,M=(Q.x-L.x)*O+(Q.y-L.y)*N;if(M<0){return P(L,Q)}M=(K.x-Q.x)*O+(K.y-Q.y)*N;if(M<0){return P(K,Q)}M=(K.x-Q.x)*N-(K.y-Q.y)*O;return M*M/(O*O+N*N)},distanceToLine:function(M,L,K){return Math.sqrt(this._distanceToLineSquared(M,L,K))},distanceToPolyline:function(O,L){var M=Number.MAX_VALUE;if(E.isUndefined(L)||L.length===0){return Number.MAX_VALUE}for(var K=0;K<L.length-1;K++){var Q=L[K];var N=L[K+1];var P=this._distanceToLineSquared(O,Q,N);if(P<M){M=P}}return Math.sqrt(M)}};var q=A.Class.extend({init:function(){this._buckets=[];this.length=0},add:function(K,L){var M=this._createGetBucket(K);if(E.isDefined(L)){M.value=L}return M},get:function(K){if(this._bucketExists(K)){return this._createGetBucket(K)}return null},set:function(K,L){this.add(K,L)},containsKey:function(K){return this._bucketExists(K)},remove:function(K){if(this._bucketExists(K)){var L=this._hash(K);delete this._buckets[L];this.length--;return K}},forEach:function(N){var L=this._hashes();for(var M=0,K=L.length;M<K;M++){var O=L[M];var P=this._buckets[O];if(E.isUndefined(P)){continue}N(P)}},clone:function(){var M=new q();var L=this._hashes();for(var N=0,K=L.length;N<K;N++){var O=L[N];var P=this._buckets[O];if(E.isUndefined(P)){continue}M.add(P.key,P.value)}return M},_hashes:function(){var K=[];for(var L in this._buckets){if(this._buckets.hasOwnProperty(L)){K.push(L)}}return K},_bucketExists:function(K){var L=this._hash(K);return E.isDefined(this._buckets[L])},_createGetBucket:function(K){var L=this._hash(K);var M=this._buckets[L];if(E.isUndefined(M)){M={key:K};this._buckets[L]=M;this.length++}return M},_hash:function(K){if(E.isNumber(K)){return K}if(E.isString(K)){return this._hashString(K)}if(E.isObject(K)){return this._objectHashId(K)}throw"Unsupported key type."},_hashString:function(N){var K=0;if(N.length===0){return K}for(var L=0;L<N.length;L++){var M=N.charCodeAt(L);K=((K*32)-K)+M}return K},_objectHashId:function(K){var L=K._hashId;if(E.isUndefined(L)){L=B();K._hashId=L}return L}});var g=A.Observable.extend({init:function(M){var L=this;A.Observable.fn.init.call(L);this._hashTable=new q();this.length=0;if(E.isDefined(M)){if(z.isArray(M)){for(var K=0;K<M.length;K++){this.add(M[K])}}else{M.forEach(function(O,N){this.add(O,N)},this)}}},add:function(K,M){var L=this._hashTable.get(K);if(!L){L=this._hashTable.add(K);this.length++;this.trigger("changed")}L.value=M},set:function(K,L){this.add(K,L)},get:function(K){var L=this._hashTable.get(K);if(L){return L.value}throw new Error("Cannot find key "+K)},containsKey:function(K){return this._hashTable.containsKey(K)},remove:function(K){if(this.containsKey(K)){this.trigger("changed");this.length--;return this._hashTable.remove(K)}},forEach:function(K,L){this._hashTable.forEach(function(M){K.call(L,M.key,M.value)})},forEachValue:function(K,L){this._hashTable.forEach(function(M){K.call(L,M.value)})},forEachKey:function(K,L){this._hashTable.forEach(function(M){K.call(L,M.key)})},keys:function(){var K=[];this.forEachKey(function(L){K.push(L)});return K}});var I=A.Class.extend({init:function(){this._tail=null;this._head=null;this.length=0},enqueue:function(L){var K={value:L,next:null};if(!this._head){this._head=K;this._tail=this._head}else{this._tail.next=K;this._tail=this._tail.next}this.length++},dequeue:function(){if(this.length<1){throw new Error("The queue is empty.")}var K=this._head.value;this._head=this._head.next;this.length--;return K},contains:function(K){var L=this._head;while(L){if(L.value===K){return true}L=L.next}return false}});var i=A.Observable.extend({init:function(L){var K=this;A.Observable.fn.init.call(K);this._hashTable=new q();this.length=0;if(E.isDefined(L)){if(L instanceof q){L.forEach(function(M){this.add(M)})}else{if(L instanceof g){L.forEach(function(N,M){this.add({key:N,value:M})},this)}}}},contains:function(K){return this._hashTable.containsKey(K)},add:function(L){var K=this._hashTable.get(L);if(!K){this._hashTable.add(L,L);this.length++;this.trigger("changed")}},get:function(K){if(this.contains(K)){return this._hashTable.get(K).value}else{return null}},hash:function(K){return this._hashTable._hash(K)},remove:function(K){if(this.contains(K)){this._hashTable.remove(K);this.length--;this.trigger("changed")}},forEach:function(L,K){this._hashTable.forEach(function(M){L(M.value)},K)},toArray:function(){var K=[];this.forEach(function(L){K.push(L)});return K}});var t=A.Class.extend({init:function(M,L){this.links=[];this.outgoing=[];this.incoming=[];this.weight=1;if(E.isDefined(M)){this.id=M}else{this.id=B()}if(E.isDefined(L)){this.associatedShape=L;var K=L.bounds();this.width=K.width;this.height=K.height;this.x=K.x;this.y=K.y}else{this.associatedShape=null}this.data=null;this.type="Node";this.shortForm="Node '"+this.id+"'";this.isVirtual=false},isIsolated:function(){return E.isEmpty(this.links)},bounds:function(K){if(!E.isDefined(K)){return new f.Rect(this.x,this.y,this.width,this.height)}this.x=K.x;this.y=K.y;this.width=K.width;this.height=K.height},isLinkedTo:function(L){var K=this;return E.any(K.links,function(M){return M.getComplement(K)===L})},getChildren:function(){if(this.outgoing.length===0){return[]}var M=[];for(var L=0,K=this.outgoing.length;L<K;L++){var N=this.outgoing[L];M.push(N.getComplement(this))}return M},getParents:function(){if(this.incoming.length===0){return[]}var L=[];for(var M=0,K=this.incoming.length;M<K;M++){var N=this.incoming[M];L.push(N.getComplement(this))}return L},clone:function(){var K=new t();if(E.isDefined(this.weight)){K.weight=this.weight}if(E.isDefined(this.balance)){K.balance=this.balance}if(E.isDefined(this.owner)){K.owner=this.owner}K.associatedShape=this.associatedShape;K.x=this.x;K.y=this.y;K.width=this.width;K.height=this.height;return K},adjacentTo:function(K){return this.isLinkedTo(K)!==null},removeLink:function(K){if(K.source===this){E.remove(this.links,K);E.remove(this.outgoing,K);K.source=null}if(K.target===this){E.remove(this.links,K);E.remove(this.incoming,K);K.target=null}},hasLinkTo:function(K){return E.any(this.outgoing,function(L){return L.target===K})},degree:function(){return this.links.length},incidentWith:function(K){return y(this.links,K)},getLinksWith:function(K){return E.all(this.links,function(L){return L.getComplement(this)===K},this)},getNeighbors:function(){var K=[];E.forEach(this.incoming,function(L){K.push(L.getComplement(this))},this);E.forEach(this.outgoing,function(L){K.push(L.getComplement(this))},this);return K}});var a=A.Class.extend({init:function(N,O,P,K){if(E.isUndefined(N)){throw"The source of the new link is not set."}if(E.isUndefined(O)){throw"The target of the new link is not set."}var L,M;if(E.isString(N)){L=new t(N)}else{L=N}if(E.isString(O)){M=new t(O)}else{M=O}this.source=L;this.target=M;this.source.links.push(this);this.target.links.push(this);this.source.outgoing.push(this);this.target.incoming.push(this);if(E.isDefined(P)){this.id=P}else{this.id=B()}if(E.isDefined(K)){this.associatedConnection=K}else{this.associatedConnection=null}this.type="Link";this.shortForm="Link '"+this.source.id+"->"+this.target.id+"'"},getComplement:function(K){if(this.source!==K&&this.target!==K){throw"The given node is not incident with this link."}return this.source===K?this.target:this.source},getCommonNode:function(K){if(this.source===K.source||this.source===K.target){return this.source}if(this.target===K.source||this.target===K.target){return this.target}return null},isBridging:function(L,K){return this.source===L&&this.target===K||this.source===K&&this.target===L},getNodes:function(){return[this.source,this.target]},incidentWith:function(K){return this.source===K||this.target===K},adjacentTo:function(K){return y(this.source.links,K)||y(this.target.links,K)},changeSource:function(K){E.remove(this.source.links,this);E.remove(this.source.outgoing,this);K.links.push(this);K.outgoing.push(this);this.source=K},changeTarget:function(K){E.remove(this.target.links,this);E.remove(this.target.incoming,this);K.links.push(this);K.incoming.push(this);this.target=K},changesNodes:function(L,K){if(this.source===L){this.changeSource(K)}else{if(this.target===L){this.changeTarget(K)}}},reverse:function(){var K=this.source;var L=this.target;this.source=L;E.remove(K.outgoing,this);this.source.outgoing.push(this);this.target=K;E.remove(L.incoming,this);this.target.incoming.push(this);return this},directTo:function(K){if(this.source!==K&&this.target!==K){throw"The given node is not incident with this link."}if(this.target!==K){this.reverse()}},createReverseEdge:function(){var K=this.clone();K.reverse();K.reversed=true;return K},clone:function(){var K=new a(this.source,this.target);return K}});var u=A.Class.extend({init:function(K){this.links=[];this.nodes=[];this.diagram=null;this._root=null;if(E.isDefined(K)){if(E.isString(K)){this.id=K}else{this.diagram=K;this.id=K.id}}else{this.id=B()}this.bounds=new r();this._hasCachedRelationships=false;this.type="Graph"},cacheRelationships:function(M){if(E.isUndefined(M)){M=false}if(this._hasCachedRelationships&&!M){return}for(var L=0,K=this.nodes.length;L<K;L++){var N=this.nodes[L];N.children=this.getChildren(N);N.parents=this.getParents(N)}this._hasCachedRelationships=true},assignLevels:function(M,P,L){if(!M){throw"Start node not specified."}if(E.isUndefined(P)){P=0}this.cacheRelationships();if(E.isUndefined(L)){L=new g();E.forEach(this.nodes,function(R){L.add(R,false)})}L.set(M,true);M.level=P;var O=M.children;for(var N=0,K=O.length;N<K;N++){var Q=O[N];if(!Q||L.get(Q)){continue}this.assignLevels(Q,P+1,L)}},root:function(L){if(E.isUndefined(L)){if(!this._root){var K=E.first(this.nodes,function(M){return M.incoming.length===0});if(K){return K}return E.first(this.nodes)}else{return this._root}}else{this._root=L}},getConnectedComponents:function(){this.componentIndex=0;this.setItemIndices();var L=E.initArray(this.nodes.length,-1);for(var K=0;K<this.nodes.length;K++){if(L[K]===-1){this._collectConnectedNodes(L,K);this.componentIndex++}}var N=[],M;for(M=0;M<this.componentIndex;++M){N[M]=new u()}for(M=0;M<L.length;++M){var O=N[L[M]];O.addNodeAndOutgoings(this.nodes[M])}N.sort(function(Q,P){return P.nodes.length-Q.nodes.length});return N},_collectConnectedNodes:function(K,M){K[M]=this.componentIndex;var L=this.nodes[M];E.forEach(L.links,function(P){var O=P.getComplement(L);var N=O.index;if(K[N]===-1){this._collectConnectedNodes(K,N)}},this)},calcBounds:function(){if(this.isEmpty()){this.bounds=new r();return this.bounds}var L=null;for(var M=0,K=this.nodes.length;M<K;M++){var N=this.nodes[M];if(!L){L=N.bounds()}else{L=L.union(N.bounds())}}this.bounds=L;return this.bounds},getSpanningTree:function(V){var Y=new u();var L=new g(),K,S;Y.root=V.clone();Y.root.level=0;Y.root.id=V.id;L.add(V,Y.root);V.level=0;var T=[];var P=[];Y.nodes.push(Y.root);T.push(V);P.push(V);var N=1;while(P.length>0){var R=P.pop();for(var M=0;M<R.links.length;M++){var U=R.links[M];var W=U.getComplement(R);if(y(T,W)){continue}W.level=R.level+1;if(N<W.level+1){N=W.level+1}if(!y(P,W)){P.push(W)}if(!y(T,W)){T.push(W)}if(L.containsKey(R)){K=L.get(R)}else{K=R.clone();K.level=R.level;K.id=R.id;L.add(R,K)}if(L.containsKey(W)){S=L.get(W)}else{S=W.clone();S.level=W.level;S.id=W.id;L.add(W,S)}var O=new a(K,S);Y.addLink(O)}}var X=[];for(var Q=0;Q<N;Q++){X.push([])}E.forEach(Y.nodes,function(Z){X[Z.level].push(Z)});Y.treeLevels=X;Y.cacheRelationships();return Y},takeRandomNode:function(L,M){if(E.isUndefined(L)){L=[]}if(E.isUndefined(M)){M=4}if(this.nodes.length===0){return null}if(this.nodes.length===1){return y(L,this.nodes[0])?null:this.nodes[0]}var K=z.grep(this.nodes,function(N){return !y(L,N)&&N.degree()<=M});if(E.isEmpty(K)){return null}return K[E.randomInteger(0,K.length)]},isEmpty:function(){return E.isEmpty(this.nodes)},isHealthy:function(){return E.all(this.links,function(K){return y(this.nodes,K.source)&&y(this.nodes,K.target)},this)},getParents:function(K){if(!this.hasNode(K)){throw"The given node is not part of this graph."}return K.getParents()},getChildren:function(K){if(!this.hasNode(K)){throw"The given node is not part of this graph."}return K.getChildren()},addLink:function(M,P,K){if(E.isUndefined(M)){throw"The source of the link is not defined."}if(E.isUndefined(P)){if(E.isDefined(M.type)&&M.type==="Link"){this.addExistingLink(M);return}else{throw"The target of the link is not defined."}}var L=this.getNode(M);if(E.isUndefined(L)){L=this.addNode(M)}var N=this.getNode(P);if(E.isUndefined(N)){N=this.addNode(P)}var O=new a(L,N);if(E.isDefined(K)){O.owner=K}this.links.push(O);return O},removeAllLinks:function(){while(this.links.length>0){var K=this.links[0];this.removeLink(K)}},addExistingLink:function(M){if(this.hasLink(M)){return}this.links.push(M);if(this.hasNode(M.source.id)){var L=this.getNode(M.source.id);M.changeSource(L)}else{this.addNode(M.source)}if(this.hasNode(M.target.id)){var K=this.getNode(M.target.id);M.changeTarget(K)}else{this.addNode(M.target)}},hasLink:function(K){if(E.isString(K)){return E.any(this.links,function(L){return L.id===K})}if(K.type==="Link"){return y(this.links,K)}throw"The given object is neither an identifier nor a Link."},getNode:function(K){if(E.isUndefined(K)){throw"No identifier or Node specified."}if(E.isString(K)){return E.find(this.nodes,function(L){return L.id==K})}else{if(this.hasNode(K)){return K}else{return null}}},hasNode:function(K){if(E.isString(K)){return E.any(this.nodes,function(L){return L.id===K})}if(E.isObject(K)){return E.any(this.nodes,function(L){return L===K})}throw"The identifier should be a Node or the Id (string) of a node."},removeNode:function(L){var P=L;if(E.isString(L)){P=this.getNode(L)}if(E.isDefined(P)){var M=P.links;P.links=[];for(var N=0,K=M.length;N<K;N++){var O=M[N];this.removeLink(O)}E.remove(this.nodes,P)}else{throw"The identifier should be a Node or the Id (string) of a node."}},areConnected:function(L,K){return E.any(this.links,function(M){return M.source==L&&M.target==K||M.source==K&&M.target==L})},removeLink:function(K){E.remove(this.links,K);E.remove(K.source.outgoing,K);E.remove(K.source.links,K);E.remove(K.target.incoming,K);E.remove(K.target.links,K)},addNode:function(L,N,K){var M=null;if(!E.isDefined(L)){throw"No Node or identifier for a new Node is given."}if(E.isString(L)){if(this.hasNode(L)){return this.getNode(L)}M=new t(L)}else{if(this.hasNode(L)){return this.getNode(L)}M=L}if(E.isDefined(N)){M.bounds(N)}if(E.isDefined(K)){M.owner=K}this.nodes.push(M);return M},addNodeAndOutgoings:function(L){if(!y(this.nodes,L)){this.nodes.push(L)}var K=L.outgoing;L.outgoing=[];E.forEach(K,function(M){this.addExistingLink(M)},this)},setItemIndices:function(){var K;for(K=0;K<this.nodes.length;++K){this.nodes[K].index=K}for(K=0;K<this.links.length;++K){this.links[K].index=K}},clone:function(K){var N=new u();var L=E.isDefined(K)&&K===true;if(L){N.nodeMap=new g();N.linkMap=new g()}var M=new g();E.forEach(this.nodes,function(P){var O=P.clone();M.set(P,O);N.nodes.push(O);if(L){N.nodeMap.set(O,P)}});E.forEach(this.links,function(O){if(M.containsKey(O.source)&&M.containsKey(O.target)){var P=N.addLink(M.get(O.source),M.get(O.target));if(L){N.linkMap.set(P,O)}}});return N},linearize:function(K){return u.Utils.linearize(this,K)},depthFirstTraversal:function(M,N){if(E.isUndefined(M)){throw"You need to supply a starting node."}if(E.isUndefined(N)){throw"You need to supply an action."}if(!this.hasNode(M)){throw"The given start-node is not part of this graph"}var K=this.getNode(M);var L=[];this._dftIterator(K,N,L)},_dftIterator:function(O,P,L){P(O);L.push(O);var N=O.getChildren();for(var M=0,K=N.length;M<K;M++){var Q=N[M];if(y(L,Q)){continue}this._dftIterator(Q,P,L)}},breadthFirstTraversal:function(M,O){if(E.isUndefined(M)){throw"You need to supply a starting node."}if(E.isUndefined(O)){throw"You need to supply an action."}if(!this.hasNode(M)){throw"The given start-node is not part of this graph"}var Q=this.getNode(M);var R=new I();var T=[];R.enqueue(Q);while(R.length>0){var N=R.dequeue();O(N);T.push(N);var L=N.getChildren();for(var P=0,S=L.length;P<S;P++){var K=L[P];if(y(T,K)||y(R,K)){continue}R.enqueue(K)}}},_stronglyConnectedComponents:function(V,M,U,K,N,T,R){U.add(M,R);K.add(M,R);R++;T.push(M);var L=M.getChildren(),P;for(var O=0,Q=L.length;O<Q;O++){P=L[O];if(!U.containsKey(P)){this._stronglyConnectedComponents(V,P,U,K,N,T,R);K.add(M,Math.min(K.get(M),K.get(P)))}else{if(y(T,P)){K.add(M,Math.min(K.get(M),U.get(P)))}}}if(K.get(M)===U.get(M)){var S=[];do{P=T.pop();S.push(P)}while(P!==M);if(!V||(S.length>1)){N.push(S)}}},findCycles:function(N){if(E.isUndefined(N)){N=true}var R=new g();var M=new g();var Q=[];var L=[];for(var O=0,K=this.nodes.length;O<K;O++){var P=this.nodes[O];if(R.containsKey(P)){continue}this._stronglyConnectedComponents(N,P,R,M,Q,L,0)}return Q},isAcyclic:function(){return E.isEmpty(this.findCycles())},isSubGraph:function(K){var M=K.linearize();var L=this.linearize();return E.all(M,function(N){return y(L,N)})},makeAcyclic:function(){if(this.isEmpty()||this.nodes.length<=1||this.links.length<=1){return[]}if(this.nodes.length==2){var U=[];if(this.links.length>1){var P=this.links[0];var aa=P.source;for(var ah=0,ai=this.links.length;ah<ai;ah++){var R=this.links[ah];if(R.source==aa){continue}var ao=R.reverse();U.push(ao)}}return U}var ae=this.clone(true);var S=this.nodes.length;var ac=new g();var L=function(N){if(N.outgoing.length===0){return(2-S)}else{if(N.incoming.length===0){return(S-2)}else{return N.outgoing.length-N.incoming.length}}};var ag=function(at,ar){var N=L(at,S);if(!ar.containsKey(N)){ar.set(N,[])}ar.get(N).push(at)};E.forEach(ae.nodes,function(N){ag(N,ac)});var O=[];var ap=[];while(ae.nodes.length>0){var ad,aq,Q;if(ac.containsKey(2-S)){var an=ac.get(2-S);while(an.length>0){aq=an.pop();for(var Z=0;Z<aq.links.length;Z++){var ak=aq.links[Z];ad=ak.getComplement(aq);Q=L(ad,S);E.remove(ac.get(Q),ad);ad.removeLink(ak);ag(ad,ac)}E.remove(ae.nodes,aq);ap.unshift(aq)}}if(ac.containsKey(S-2)){var K=ac.get(S-2);while(K.length>0){ad=K.pop();for(var am=0;am<ad.links.length;am++){var W=ad.links[am];aq=W.getComplement(ad);Q=L(aq,S);E.remove(ac.get(Q),aq);aq.removeLink(W);ag(aq,ac)}O.push(ad);E.remove(ae.nodes,ad)}}if(ae.nodes.length>0){for(var af=S-3;af>2-S;af--){if(ac.containsKey(af)&&ac.get(af).length>0){var aj=ac.get(af);var V=aj.pop();for(var ab=0;ab<V.links.length;ab++){var Y=V.links[ab];var X=Y.getComplement(V);Q=L(X,S);E.remove(ac.get(Q),X);X.removeLink(Y);ag(X,ac)}O.push(V);E.remove(ae.nodes,V);break}}}}O=O.concat(ap);var al=new g();for(var M=0;M<this.nodes.length;M++){al.set(ae.nodeMap.get(O[M]),M)}var T=[];E.forEach(this.links,function(N){if(al.get(N.source)>al.get(N.target)){N.reverse();T.push(N)}});return T}});u.Predefined={EightGraph:function(){return u.Utils.parse(["1->2","2->3","3->4","4->1","3->5","5->6","6->7","7->3"])},Mindmap:function(){return u.Utils.parse(["0->1","0->2","0->3","0->4","0->5","1->6","1->7","7->8","2->9","9->10","9->11","3->12","12->13","13->14","4->15","4->16","15->17","15->18","18->19","18->20","14->21","14->22","5->23","23->24","23->25","6->26"])},ThreeGraph:function(){return u.Utils.parse(["1->2","2->3","3->1"])},BinaryTree:function(K){if(E.isUndefined(K)){K=5}return u.Utils.createBalancedTree(K,2)},Linear:function(K){if(E.isUndefined(K)){K=10}return u.Utils.createBalancedTree(K,1)},Tree:function(L,K){return u.Utils.createBalancedTree(L,K)},Forest:function(M,L,K){return u.Utils.createBalancedForest(M,L,K)},Workflow:function(){return u.Utils.parse(["0->1","1->2","2->3","1->4","4->3","3->5","5->6","6->3","6->7","5->4"])},Grid:function(R,K){var P=new f.Graph();if(R<=0&&K<=0){return P}for(var M=0;M<R+1;M++){var O=null;for(var L=0;L<K+1;L++){var N=new t(M.toString()+"."+L.toString());P.addNode(N);if(O){P.addLink(O,N)}if(M>0){var Q=P.getNode((M-1).toString()+"."+L.toString());P.addLink(Q,N)}O=N}}return P}};u.Utils={parse:function(O){var L,P=new f.Graph(),R=O.slice();for(var N=0,K=R.length;N<K;N++){var M=R[N];if(E.isString(M)){if(M.indexOf("->")<0){throw"The link should be specified as 'a->b'."}var Q=M.split("->");if(Q.length!=2){throw"The link should be specified as 'a->b'."}L=new a(Q[0],Q[1]);P.addLink(L)}if(E.isObject(M)){if(!L){throw"Specification found before Link definition."}A.deepExtend(L,M)}}return P},linearize:function(N,P){if(E.isUndefined(N)){throw"Expected an instance of a Graph object in slot one."}if(E.isUndefined(P)){P=false}var O=[];for(var L=0,K=N.links.length;L<K;L++){var M=N.links[L];O.push(M.source.id+"->"+M.target.id);if(P){O.push({id:M.id})}}return O},_addShape:function(N,L,M,K){if(E.isUndefined(L)){L=new f.Point(0,0)}if(E.isUndefined(M)){M=B()}K=A.deepExtend({width:20,height:20,id:M,radius:10,fill:"#778899",data:"circle",undoable:false,x:L.x,y:L.y},K);return N.addShape(K)},_addConnection:function(L,N,M,K){return L.connect(N,M,K)},createDiagramFromGraph:function(ab,N,L,Q){if(E.isUndefined(ab)){throw"The diagram surface is undefined."}if(E.isUndefined(N)){throw"No graph specification defined."}if(E.isUndefined(L)){L=true}if(E.isUndefined(Q)){Q=false}var U=ab.element.clientWidth||200;var S=ab.element.clientHeight||200;var ac=[],V,M;for(var Y=0,aa=N.nodes.length;Y<aa;Y++){V=N.nodes[Y];var T=V.position;if(E.isUndefined(T)){if(E.isDefined(V.x)&&E.isDefined(V.y)){T=new p(V.x,V.y)}else{T=new p(E.randomInteger(10,U-20),E.randomInteger(10,S-20))}}var K={};if(V.id==="0"){}else{if(Q){A.deepExtend(K,{width:Math.random()*150+20,height:Math.random()*80+50,data:"rectangle",fill:{color:"#778899"}})}}M=this._addShape(ab,T,V.id,K);var O=M.bounds();if(E.isDefined(O)){V.x=O.x;V.y=O.y;V.width=O.width;V.height=O.height}ac[V.id]=M}for(var R=0;R<N.links.length;R++){var P=N.links[R];var ad=ac[P.source.id];if(E.isUndefined(ad)){continue}var X=ac[P.target.id];if(E.isUndefined(X)){continue}this._addConnection(ab,ad,X,{id:P.id})}if(L){var W=new ab.SpringLayout(ab);W.layoutGraph(N,{limitToView:false});for(var Z=0;Z<N.nodes.length;Z++){V=N.nodes[Z];M=ac[V.id];M.bounds(new r(V.x,V.y,V.width,V.height))}}},createBalancedTree:function(V,P){if(E.isUndefined(V)){V=3}if(E.isUndefined(P)){P=3}var O=new f.Graph(),K=-1,Q=[],T;if(V<=0||P<=0){return O}var R=new t((++K).toString());O.addNode(R);O.root=R;Q.push(R);for(var N=0;N<V;N++){T=[];for(var M=0;M<Q.length;M++){var S=Q[M];for(var L=0;L<P;L++){var U=new t((++K).toString());O.addLink(S,U);T.push(U)}}Q=T}return O},createBalancedForest:function(V,P,X){if(E.isUndefined(V)){V=3}if(E.isUndefined(P)){P=3}if(E.isUndefined(X)){X=5}var O=new f.Graph(),K=-1,Q=[],T;if(V<=0||P<=0||X<=0){return O}for(var W=0;W<X;W++){var R=new t((++K).toString());O.addNode(R);Q=[R];for(var N=0;N<V;N++){T=[];for(var M=0;M<Q.length;M++){var S=Q[M];for(var L=0;L<P;L++){var U=new t((++K).toString());O.addLink(S,U);T.push(U)}}Q=T}}return O},createRandomConnectedGraph:function(M,L,R){if(E.isUndefined(M)){M=40}if(E.isUndefined(L)){L=4}if(E.isUndefined(R)){R=false}var P=new f.Graph(),K=-1;if(M<=0){return P}var U=new t((++K).toString());P.addNode(U);if(M===1){return P}if(M>1){for(var N=1;N<M;N++){var O=P.takeRandomNode([],L);if(!O){break}var W=P.addNode(N.toString());P.addLink(O,W)}if(!R&&M>1){var T=E.randomInteger(1,M);for(var V=0;V<T;V++){var S=P.takeRandomNode([],L);var Q=P.takeRandomNode([],L);if(S&&Q&&!P.areConnected(S,Q)){P.addLink(S,Q)}}}return P}},randomDiagram:function(M,P,O,L,K){var N=A.dataviz.diagram.Graph.Utils.createRandomConnectedGraph(P,O,L);u.Utils.createDiagramFromGraph(M,N,false,K)}};A.deepExtend(f,{init:function(K){A.init(K,f.ui)},Point:p,Intersect:H,Geometry:F,Rect:r,Size:c,RectAlign:x,Matrix:d,MatrixVector:v,normalVariable:s,randomId:B,Dictionary:g,HashTable:q,Queue:I,Set:i,Node:t,Link:a,Graph:u,PathDefiner:j})})(window.kendo.jQuery);(function(J,r){var L=window.kendo,i=L.Observable,m=L.dataviz.diagram,a=L.Class,Q=L.deepExtend,n=L.dataviz,x=m.Point,y=m.Rect,G=m.RectAlign,h=m.Matrix,R=m.Utils,w=R.isUndefined,aj=R.isNumber,p=R.isString,D=m.MatrixVector,ae=L.geometry,ah=L.drawing,U=L.util.defined,ad=J.inArray;var E="transparent",ac={none:"none",arrowStart:"ArrowStart",filledCircle:"FilledCircle",arrowEnd:"ArrowEnd"},s=100,af=100,C=360,H="start",W="end",j="width",I="height",e="x",c="y";m.Markers=ac;var v=a.extend({init:function(d,g){this.x=d;this.y=g},toMatrix:function(){return h.scaling(this.x,this.y)},toString:function(){return L.format("scale({0},{1})",this.x,this.y)},invert:function(){return new v(1/this.x,1/this.y)}});var V=a.extend({init:function(d,g){this.x=d;this.y=g},toMatrixVector:function(){return new D(0,0,0,0,this.x,this.y)},toMatrix:function(){return h.translation(this.x,this.y)},toString:function(){return L.format("translate({0},{1})",this.x,this.y)},plus:function(d){this.x+=d.x;this.y+=d.y},times:function(d){this.x*=d;this.y*=d},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){if(this.Length===0){return}this.times(1/this.length())},invert:function(){return new V(-this.x,-this.y)}});var k=a.extend({init:function(g,d,X){this.x=d||0;this.y=X||0;this.angle=g},toString:function(){if(this.x&&this.y){return L.format("rotate({0},{1},{2})",this.angle,this.x,this.y)}else{return L.format("rotate({0})",this.angle)}},toMatrix:function(){return h.rotation(this.angle,this.x,this.y)},center:function(){return new x(this.x,this.y)},invert:function(){return new k(C-this.angle,this.x,this.y)}});k.create=function(d){return new k(d.angle,d.x,d.y)};k.parse=function(ak){var g=ak.slice(1,ak.length-1).split(","),Y=g[0],d=g[1],al=g[2];var X=new k(Y,d,al);return X};var T=a.extend({init:function(g,al,Y,X,ak,d){this.translate=new V(g,al);if(Y!==r&&X!==r){this.scale=new v(Y,X)}if(ak!==r){this.rotate=d?new k(ak,d.x,d.y):new k(ak)}},toString:function(){var d=function(g){return g?g.toString():""};return d(this.translate)+d(this.rotate)+d(this.scale)},render:function(d){d._transform=this;d._renderTransform()},toMatrix:function(){var d=h.unit();if(this.translate){d=d.times(this.translate.toMatrix())}if(this.rotate){d=d.times(this.rotate.toMatrix())}if(this.scale){d=d.times(this.scale.toMatrix())}return d},invert:function(){var X=this.rotate?this.rotate.invert():r,am=X?X.toMatrix():h.unit(),al=this.scale?this.scale.invert():r,Y=al?al.toMatrix():h.unit();var d=new x(-this.translate.x,-this.translate.y);d=am.times(Y).apply(d);var ak=new V(d.x,d.y);var g=new T();g.translate=ak;g.rotate=X;g.scale=al;return g}});var O={_setScale:function(){var Y=this.options;var d=this._originWidth;var ak=this._originHeight;var X=Y.width/d;var g=Y.height/ak;if(!aj(X)){X=1}if(!aj(g)){g=1}this._transform.scale=new v(X,g)},_setTranslate:function(){var g=this.options;var d=g.x||0;var X=g.y||0;this._transform.translate=new V(d,X)},_initSize:function(){var g=this.options;var d=false;if(g.autoSize!==false&&(U(g.width)||U(g.height))){this._measure(true);this._setScale();d=true}if(U(g.x)||U(g.y)){this._setTranslate();d=true}if(d){this._renderTransform()}},_updateSize:function(d){var g=false;if(this.options.autoSize!==false&&this._diffNumericOptions(d,[j,I])){g=true;this._measure(true);this._setScale()}if(this._diffNumericOptions(d,[e,c])){g=true;this._setTranslate()}if(g){this._renderTransform()}return g}};var o=a.extend({init:function(d){var g=this;g.options=Q({},g.options,d);g.id=g.options.id;g._originSize=y.empty();g._transform=new T()},visible:function(d){return this.drawingContainer().visible(d)},redraw:function(d){if(d&&d.id){this.id=d.id}},position:function(d,X){var g=this.options;if(!U(d)){return new x(g.x,g.y)}if(U(X)){g.x=d;g.y=X}else{if(d instanceof x){g.x=d.x;g.y=d.y}}this._transform.translate=new V(g.x,g.y);this._renderTransform()},rotate:function(g,d){if(U(g)){this._transform.rotate=new k(g,d.x,d.y);this._renderTransform()}return this._transform.rotate||new k(0)},drawingContainer:function(){return this.drawingElement},_renderTransform:function(){var d=this._transform.toMatrix();this.drawingContainer().transform(new ae.Matrix(d.a,d.b,d.c,d.d,d.e,d.f))},_hover:function(){},_diffNumericOptions:q,_measure:function(Y){var X;if(!this._measured||Y){var g=this._boundingBox()||new ae.Rect();var d=g.topLeft();X=new y(d.x,d.y,g.width(),g.height());this._originSize=X;this._originWidth=X.width;this._originHeight=X.height;this._measured=true}else{X=this._originSize}return X},_boundingBox:function(){return this.drawingElement.rawBBox()}});var M=o.extend({init:function(d){o.fn.init.call(this,d);d=this.options;d.fill=F(d.fill);d.stroke=F(d.stroke)},options:{stroke:{color:"gray",width:1},fill:{color:E}},fill:function(d,g){this._fill({color:A(d),opacity:g})},stroke:function(d,X,g){this._stroke({color:A(d),width:X,opacity:g})},redraw:function(d){if(d){var X=d.stroke;var g=d.fill;if(X){this._stroke(F(X))}if(g){this._fill(F(g))}o.fn.redraw.call(this,d)}},_hover:function(d){var X=this.drawingElement;var g=this.options;var Y=g.hover;if(Y&&Y.fill){var ak=d?F(Y.fill):g.fill;X.fill(ak.color,ak.opacity)}},_stroke:function(g){var d=this.options;Q(d,{stroke:g});g=d.stroke;var X=null;if(g.width>0){X={color:g.color,width:g.width,opacity:g.opacity,dashType:g.dashType}}this.drawingElement.options.set("stroke",X)},_fill:function(g){var X=this.options;Q(X,{fill:g});var ak=X.fill;if(ak.gradient){var Y=ak.gradient;var d=(Y.type==="radial"?ah.RadialGradient:ah.LinearGradient);this.drawingElement.fill(new d(Y))}else{this.drawingElement.fill(ak.color,ak.opacity)}}});var aa=M.extend({init:function(d){this._textColor(d);M.fn.init.call(this,d);this._font();this._initText();this._initSize()},options:{fontSize:15,fontFamily:"sans-serif",stroke:{width:0},fill:{color:"black"},autoSize:true},_initText:function(){var d=this.options;this.drawingElement=new ah.Text(U(d.text)?d.text:"",new ae.Point(),{font:d.font});this._fill();this._stroke()},_textColor:function(d){if(d&&d.color){Q(d,{fill:{color:d.color}})}},_font:function(){var d=this.options;if(d.fontFamily&&U(d.fontSize)){d.font=d.fontSize+"px "+d.fontFamily}else{delete d.font}},content:function(d){return this.drawingElement.content(d)},redraw:function(X){if(X){var d=false;var g=this.options;this._textColor(X);M.fn.redraw.call(this,X);if(X.fontFamily||U(X.fontSize)){Q(g,{fontFamily:X.fontFamily,fontSize:X.fontSize});this._font();this.drawingElement.options.set("font",g.font);d=true}if(X.text){this.content(X.text);d=true}if(!this._updateSize(X)&&d){this._initSize()}}}});Q(aa.fn,O);var t=M.extend({init:function(d){M.fn.init.call(this,d);this._initPath();this._setPosition()},_setPosition:function(){var g=this.options;var d=g.x;var X=g.y;if(U(d)||U(X)){this.position(d||0,X||0)}},redraw:function(d){if(d){M.fn.redraw.call(this,d);if(this._diffNumericOptions(d,[j,I])){this._drawPath()}if(this._diffNumericOptions(d,[e,c])){this._setPosition()}}},_initPath:function(){var g=this.options;var d=this.drawingElement=new ah.Path({stroke:g.stroke,closed:true});this._fill();this._drawPath()},_drawPath:function(){var g=this.drawingElement;var Y=ai(this.options);var X=Y.width;var d=Y.height;g.segments.elements([z(0,0),z(X,0),z(X,d),z(0,d)])}});var P=M.extend({init:function(g){M.fn.init.call(this,g);var d=this.options.anchor;this.anchor=new ae.Point(d.x,d.y);this.createElement()},options:{stroke:{color:E,width:0},fill:{color:"black"}},_transformToPath:function(d,X){var g=X.transform();if(d&&g){d=d.transformCopy(g)}return d},redraw:function(d){if(d){if(d.position){this.options.position=d.position}M.fn.redraw.call(this,d)}}});var ag=P.extend({options:{radius:4,anchor:{x:0,y:0}},createElement:function(){var d=this.options;this.drawingElement=new ah.Circle(new ae.Circle(this.anchor,d.radius),{fill:d.fill,stroke:d.stroke})},positionMarker:function(al){var Y=this.options;var g=Y.position;var X=al.segments;var ak;var d;if(g==H){ak=X[0]}else{ak=X[X.length-1]}if(ak){d=this._transformToPath(ak.anchor(),al);this.drawingElement.transform(ae.transform().translate(d.x,d.y))}}});var b=P.extend({options:{path:"M 0 0 L 10 5 L 0 10 L 3 5 z",anchor:{x:10,y:5}},createElement:function(){var d=this.options;this.drawingElement=ah.Path.parse(d.path,{fill:d.fill,stroke:d.stroke})},positionMarker:function(ak){var Y=this._linePoints(ak);var am=Y.start;var d=Y.end;var X=ae.transform();if(am){X.rotate(S(am,d),d)}if(d){var g=this.anchor;var al=d.clone().translate(-g.x,-g.y);X.translate(al.x,al.y)}this.drawingElement.transform(X)},_linePoints:function(an){var g=this.options;var d=an.segments;var al,X,ak;if(g.position==H){ak=d[0];if(ak){X=ak.anchor();al=ak.controlOut();var am=d[1];if(!al&&am){al=am.anchor()}}}else{ak=d[d.length-1];if(ak){X=ak.anchor();al=ak.controlIn();var Y=d[d.length-2];if(!al&&Y){al=Y.anchor()}}}if(X){return{start:this._transformToPath(al,an),end:this._transformToPath(X,an)}}}});var B={_getPath:function(d){var g=this.drawingElement;if(g instanceof ah.MultiPath){if(d==H){g=g.paths[0]}else{g=g.paths[g.paths.length-1]}}if(g&&g.segments.length){return g}},_normalizeMarkerOptions:function(d){var X=d.startCap;var g=d.endCap;if(p(X)){d.startCap={type:X}}if(p(g)){d.endCap={type:g}}},_removeMarker:function(d){var g=this._markers[d];if(g){this.drawingContainer().remove(g.drawingElement);delete this._markers[d]}},_createMarkers:function(){var d=this.options;this._normalizeMarkerOptions(d);this._markers={};this._markers[H]=this._createMarker(d.startCap,H);this._markers[W]=this._createMarker(d.endCap,W)},_createMarker:function(Y,g){var ak=(Y||{}).type;var al=this._getPath(g);var d,X;if(!al){this._removeMarker(g);return}if(ak==ac.filledCircle){d=ag}else{if(ak==ac.arrowStart||ak==ac.arrowEnd){d=b}else{this._removeMarker(g)}}if(d){X=new d(Q({},Y,{position:g}));X.positionMarker(al);this.drawingContainer().append(X.drawingElement);return X}},_positionMarker:function(d){var g=this._markers[d];if(g){var X=this._getPath(d);if(X){g.positionMarker(X)}else{this._removeMarker(d)}}},_capMap:{start:"startCap",end:"endCap"},_redrawMarker:function(am,g,Y){this._normalizeMarkerOptions(Y);var al=this.options;var ak=this._capMap[g];var X=(al[ak]||{}).type;var d=Y[ak];var an=false;if(d){al[ak]=Q({},al[ak],d);if(d.type&&X!=d.type){this._removeMarker(g);this._markers[g]=this._createMarker(al[ak],g);an=true}else{if(this._markers[g]){this._markers[g].redraw(d)}}}else{if(am&&!this._markers[g]&&al[ak]){this._markers[g]=this._createMarker(al[ak],g);an=true}}return an},_redrawMarkers:function(g,d){if(!this._redrawMarker(g,H,d)&&g){this._positionMarker(H)}if(!this._redrawMarker(g,W,d)&&g){this._positionMarker(W)}}};var N=M.extend({init:function(d){M.fn.init.call(this,d);this.container=new ah.Group();this._createElements();this._initSize()},options:{autoSize:true},drawingContainer:function(){return this.container},data:function(g){var d=this.options;if(g){if(d.data!=g){d.data=g;this._setData(g);this._initSize();this._redrawMarkers(true,{})}}else{return d.data}},redraw:function(d){if(d){M.fn.redraw.call(this,d);var g=this.options;var X=d.data;if(U(X)&&g.data!=X){g.data=X;this._setData(X);if(!this._updateSize(d)){this._initSize()}this._redrawMarkers(true,d)}else{this._updateSize(d);this._redrawMarkers(false,d)}}},_createElements:function(){var d=this.options;this.drawingElement=ah.Path.parse(d.data||"",{stroke:d.stroke});this._fill();this.container.append(this.drawingElement);this._createMarkers()},_setData:function(X){var d=this.drawingElement;var g=ah.Path.parse(X||"");var Y=g.paths.slice(0);g.paths.elements([]);d.paths.elements(Y)}});Q(N.fn,O);Q(N.fn,B);var f=M.extend({init:function(d){M.fn.init.call(this,d);this.container=new ah.Group();this._initPath();this._createMarkers()},drawingContainer:function(){return this.container},redraw:function(d){if(d){d=d||{};var X=d.from;var g=d.to;if(X){this.options.from=X}if(g){this.options.to=g}if(X||g){this._drawPath();this._redrawMarkers(true,d)}else{this._redrawMarkers(false,d)}M.fn.redraw.call(this,d)}},_initPath:function(){var g=this.options;var d=this.drawingElement=new ah.Path({stroke:g.stroke});this._fill();this._drawPath();this.container.append(d)},_drawPath:function(){var g=this.options;var d=this.drawingElement;var Y=g.from||new x();var X=g.to||new x();d.segments.elements([z(Y.x,Y.y),z(X.x,X.y)])}});Q(f.fn,B);var u=M.extend({init:function(d){M.fn.init.call(this,d);this.container=new ah.Group();this._initPath();this._createMarkers()},drawingContainer:function(){return this.container},points:function(g){var d=this.options;if(g){d.points=g;this._updatePath()}else{return d.points}},redraw:function(d){if(d){var g=d.points;M.fn.redraw.call(this,d);if(g&&this._pointsDiffer(g)){this.points(g);this._redrawMarkers(true,d)}else{this._redrawMarkers(false,d)}}},_initPath:function(){var d=this.options;this.drawingElement=new ah.Path({stroke:d.stroke});this._fill();this.container.append(this.drawingElement);if(d.points){this._updatePath()}},_pointsDiffer:function(Y){var X=this.options.points;var g=X.length!==Y.length;if(!g){for(var d=0;d<Y.length;d++){if(X[d].x!==Y[d].x||X[d].y!==Y[d].y){g=true;break}}}return g},_updatePath:function(){var Y=this.drawingElement;var X=this.options;var al=X.points;var g=[];var d;for(var ak=0;ak<al.length;ak++){d=al[ak];g.push(z(d.x,d.y))}Y.segments.elements(g)},options:{points:[]}});Q(u.fn,B);var ab=o.extend({init:function(d){o.fn.init.call(this,d);this._initImage()},redraw:function(d){if(d){if(d.source){this.drawingElement.src(d.source)}if(this._diffNumericOptions(d,[j,I,e,c])){this.drawingElement.rect(this._rect())}o.fn.redraw.call(this,d)}},_initImage:function(){var d=this.options;var g=this._rect();this.drawingElement=new ah.Image(d.source,g,{})},_rect:function(){var X=ai(this.options);var d=new ae.Point(X.x,X.y);var g=new ae.Size(X.width,X.height);return new ae.Rect(d,g)}});var l=o.extend({init:function(d){this.children=[];o.fn.init.call(this,d);this.drawingElement=new ah.Group();this._initSize()},options:{autoSize:false},append:function(d){this.drawingElement.append(d.drawingContainer());this.children.push(d);this._childrenChange=true},remove:function(d){if(this._remove(d)){this._childrenChange=true}},_remove:function(g){var d=ad(g,this.children);if(d>=0){this.drawingElement.removeAt(d);this.children.splice(d,1);return true}},clear:function(){this.drawingElement.clear();this.children=[];this._childrenChange=true},toFront:function(X){var g;for(var d=0;d<X.length;d++){g=X[d];if(this._remove(g)){this.append(g)}}},toBack:function(d){this._reorderChildren(d,0)},toIndex:function(d,g){this._reorderChildren(d,g)},_reorderChildren:function(X,aq){var ap=this.drawingElement;var al=ap.children.slice(0);var g=this.children;var an=aj(aq);var ak,ao,Y,am,d;for(ak=0;ak<X.length;ak++){d=X[ak];am=d.drawingContainer();ao=ad(d,g);if(ao>=0){al.splice(ao,1);g.splice(ao,1);Y=an?aq:aq[ak];al.splice(Y,0,am);g.splice(Y,0,d)}}ap.clear();ap.append.apply(ap,al)},redraw:function(d){if(d){if(this._childrenChange){this._childrenChange=false;if(!this._updateSize(d)){this._initSize()}}else{this._updateSize(d)}o.fn.redraw.call(this,d)}},_boundingBox:function(){var Y=this.children;var d;var ak,X;for(var g=0;g<Y.length;g++){ak=Y[g];if(ak.visible()&&ak._includeInBBox!==false){X=ak.drawingContainer().clippedBBox(null);if(X){if(d){d=y.union(d,X)}else{d=X}}}}return d}});Q(l.fn,O);var Z=M.extend({init:function(d){M.fn.init.call(this,d);this._initCircle();this._initSize()},redraw:function(d){if(d){var g=this.options;if(d.center){Q(g,{center:d.center});this._center.move(g.center.x,g.center.y)}if(this._diffNumericOptions(d,["radius"])){this._circle.setRadius(g.radius)}this._updateSize(d);M.fn.redraw.call(this,d)}},_initCircle:function(){var Y=this.options;var ak=Y.width;var X=Y.height;var g=Y.radius;if(!U(g)){if(!U(ak)){ak=X}if(!U(X)){X=ak}Y.radius=g=Math.min(ak,X)/2}var d=Y.center||{x:g,y:g};this._center=new ae.Point(d.x,d.y);this._circle=new ae.Circle(this._center,g);this.drawingElement=new ah.Circle(this._circle,{stroke:Y.stroke});this._fill()}});Q(Z.fn,O);var K=a.extend({init:function(g,d){d=d||{};this.element=g;this.surface=ah.Surface.create(g,d);if(L.isFunction(this.surface.translate)){this.translate=this._translate}this.drawingElement=new ah.Group();this._viewBox=new y(0,0,d.width,d.height);this.size(this._viewBox)},bounds:function(){var d=this.drawingElement.clippedBBox();return new y(0,0,d.width(),d.height())},size:function(d){var g=this._viewBox;if(U(d)){g.width=d.width;g.height=d.height;this.surface.setSize(d)}return{width:g.width,height:g.height}},_translate:function(d,X){var g=this._viewBox;if(U(d)&&U(X)){g.x=d;g.y=X;this.surface.translate({x:d,y:X})}return{x:g.x,y:g.y}},draw:function(){this.surface.draw(this.drawingElement)},append:function(d){this.drawingElement.append(d.drawingContainer());return this},remove:function(d){this.drawingElement.remove(d.drawingContainer())},insertBefore:function(g,d){},clear:function(){this.drawingElement.clear()},destroy:function(d){this.surface.destroy();if(d){J(this.element).remove()}}});function ai(d){return{x:d.x||0,y:d.y||0,width:d.width||0,height:d.height||0}}function F(g){if(g){var d=g;if(p(d)){d={color:d}}if(d.color){d.color=A(d.color)}return d}}function A(g){var d;if(g!=E){d=new ah.Color(g).toHex()}else{d=g}return d}function S(Y,g){var ak=g.x-Y.x;var d=g.y-Y.y;var X=L.util.deg(Math.atan2(d,ak));return X}function q(Y,g){var X=this.options;var d=false;var al,am;for(var ak=0;ak<g.length;ak++){am=g[ak];al=Y[am];if(aj(al)&&X[am]!==al){X[am]=al;d=true}}return d}function z(d,g){return new ah.Segment(new ae.Point(d,g))}L.deepExtend(m,{init:function(d){L.init(d,m.ui)},diffNumericOptions:q,Element:o,Scale:v,Translation:V,Rotation:k,Circle:Z,Group:l,Rectangle:t,Canvas:K,Path:N,Line:f,MarkerBase:P,ArrowMarker:b,CircleMarker:ag,Polyline:u,CompositeTransform:T,TextBlock:aa,Image:ab,VisualBase:M})})(window.kendo.jQuery);(function(ay,z){var v=window.kendo,al=v.dataviz,j=al.diagram,aE=v.Class,af=j.Group,Q=j.TextBlock,F=j.Rect,E=j.Rectangle,ak=j.Utils,R=ak.isUndefined,i=j.Point,ah=j.Circle,ar=j.Path,Z=j.Ticker,aK=v.deepExtend,av=v.ui.Movable,aA=v.support.browser,k=v.util.defined,x=ay.inArray,C=ay.proxy;var u={arrow:"default",grip:"pointer",cross:"pointer",add:"pointer",move:"move",select:"pointer",south:"s-resize",east:"e-resize",west:"w-resize",north:"n-resize",rowresize:"row-resize",colresize:"col-resize"},X=10,aO="Auto",r="Top",o="Right",c="Left",az="Bottom",t=[r,o,az,c,aO],p=10,M=10,am="dragStart",D="drag",y="dragEnd",Y="itemRotate",n="itemBoundsChange",ac=5,aM=5,m="mouseEnter",P="mouseLeave",I="zoomStart",h="zoomEnd",ax=-20000,f=20000,V=0.9,W=0.93,ai=5,at="transparent",aa="pan",N="rotated",J="width",aC="height";j.Cursors=u;function s(aP,aQ){if(aP.isSelected){if(aQ.ctrlKey){aP.select(false)}}else{aP.diagram.select(aP,{addToSelection:aQ.ctrlKey})}}var ag=v.Class.extend({init:function(aP){this.layoutState=aP;this.diagram=aP.diagram},initState:function(){this.froms=[];this.tos=[];this.subjects=[];function aP(aS,aR){var aQ=this.diagram.getShapeById(aS);if(aQ){this.subjects.push(aQ);this.froms.push(aQ.bounds().topLeft());this.tos.push(aR.topLeft())}}this.layoutState.nodeMap.forEach(aP,this)},update:function(aQ){if(this.subjects.length<=0){return}for(var aP=0;aP<this.subjects.length;aP++){this.subjects[aP].position(new i(this.froms[aP].x+(this.tos[aP].x-this.froms[aP].x)*aQ,this.froms[aP].y+(this.tos[aP].y-this.froms[aP].y)*aQ))}}});var ad=aE.extend({init:function(aP,aR,aQ){if(R(aQ)){this.animate=false}else{this.animate=aQ}this._initialState=aP;this._finalState=aR;this.title="Diagram layout"},undo:function(){this.setState(this._initialState)},redo:function(){this.setState(this._finalState)},setState:function(aQ){var aP=aQ.diagram;if(this.animate){aQ.linkMap.forEach(function(aU,aS){var aT=aP.getShapeById(aU);aT.visible(false);if(aT){aT.points(aS)}});var aR=new Z();aR.addAdapter(new ag(aQ));aR.onComplete(function(){aQ.linkMap.forEach(function(aT){var aS=aP.getShapeById(aT);aS.visible(true)})});aR.play()}else{aQ.nodeMap.forEach(function(aU,aT){var aS=aP.getShapeById(aU);if(aS){aS.position(aT.topLeft())}});aQ.linkMap.forEach(function(aU,aS){var aT=aP.getShapeById(aU);if(aT){aT.points(aS)}})}}});var au=aE.extend({init:function(aP){this.units=[];this.title="Composite unit";if(aP!==z){this.units.push(aP)}},add:function(aP){this.units.push(aP)},undo:function(){for(var aP=0;aP<this.units.length;aP++){this.units[aP].undo()}},redo:function(){for(var aP=0;aP<this.units.length;aP++){this.units[aP].redo()}}});var G=aE.extend({init:function(aP,aQ,aR){this.item=aP;this._redoSource=aQ;this._redoTarget=aR;if(k(aQ)){this._undoSource=aP.source()}if(k(aR)){this._undoTarget=aP.target()}this.title="Connection Editing"},undo:function(){if(this._undoSource!==z){this.item._updateConnector(this._undoSource,"source")}if(this._undoTarget!==z){this.item._updateConnector(this._undoTarget,"target")}this.item.updateModel()},redo:function(){if(this._redoSource!==z){this.item._updateConnector(this._redoSource,"source")}if(this._redoTarget!==z){this.item._updateConnector(this._redoTarget,"target")}this.item.updateModel()}});var d=aE.extend({init:function(aR,aP,aQ){this.item=aR;this._undoSource=aP;this._undoTarget=aQ;this._redoSource=aR.source();this._redoTarget=aR.target();this.title="Connection Editing"},undo:function(){this.item._updateConnector(this._undoSource,"source");this.item._updateConnector(this._undoTarget,"target");this.item.updateModel()},redo:function(){this.item._updateConnector(this._redoSource,"source");this.item._updateConnector(this._redoTarget,"target");this.item.updateModel()}});var aI=aE.extend({init:function(aP){this.connection=aP;this.diagram=aP.diagram;this.targetConnector=aP.targetConnector;this.title="Delete connection"},undo:function(){this.diagram._addConnection(this.connection,false)},redo:function(){this.diagram.remove(this.connection,false)}});var ab=aE.extend({init:function(aP){this.shape=aP;this.diagram=aP.diagram;this.title="Deletion"},undo:function(){this.diagram._addShape(this.shape,false);this.shape.select(false)},redo:function(){this.shape.select(false);this.diagram.remove(this.shape,false)}});var ae=aE.extend({init:function(aP,aT,aS){this.shapes=aP;this.undoStates=aT;this.title="Transformation";this.redoStates=[];this.adorner=aS;for(var aR=0;aR<this.shapes.length;aR++){var aQ=this.shapes[aR];this.redoStates.push(aQ.bounds())}},undo:function(){for(var aQ=0;aQ<this.shapes.length;aQ++){var aP=this.shapes[aQ];aP.bounds(this.undoStates[aQ]);if(aP.hasOwnProperty("layout")){aP.layout(aP,this.redoStates[aQ],this.undoStates[aQ])}aP.updateModel()}if(this.adorner){this.adorner.refreshBounds();this.adorner.refresh()}},redo:function(){for(var aQ=0;aQ<this.shapes.length;aQ++){var aP=this.shapes[aQ];aP.bounds(this.redoStates[aQ]);if(aP.hasOwnProperty("layout")){aP.layout(aP,this.undoStates[aQ],this.redoStates[aQ])}aP.updateModel()}if(this.adorner){this.adorner.refreshBounds();this.adorner.refresh()}}});var aN=aE.extend({init:function(aP,aQ){this.connection=aP;this.diagram=aQ;this.title="New connection"},undo:function(){this.diagram.remove(this.connection,false)},redo:function(){this.diagram._addConnection(this.connection,false)}});var aj=aE.extend({init:function(aP,aQ){this.shape=aP;this.diagram=aQ;this.title="New shape"},undo:function(){this.diagram.deselect();this.diagram.remove(this.shape,false)},redo:function(){this.diagram._addShape(this.shape,false)}});var B=aE.extend({init:function(aP,aR,aQ){this.initial=aP;this.finalPos=aR;this.diagram=aQ;this.title="Pan Unit"},undo:function(){this.diagram.pan(this.initial)},redo:function(){this.diagram.pan(this.finalPos)}});var O=aE.extend({init:function(aT,aP,aR){this.shapes=aP;this.undoRotates=aR;this.title="Rotation";this.redoRotates=[];this.redoAngle=aT._angle;this.adorner=aT;this.center=aT._innerBounds.center();for(var aS=0;aS<this.shapes.length;aS++){var aQ=this.shapes[aS];this.redoRotates.push(aQ.rotate().angle)}},undo:function(){var aQ,aP;for(aQ=0;aQ<this.shapes.length;aQ++){aP=this.shapes[aQ];aP.rotate(this.undoRotates[aQ],this.center,false);if(aP.hasOwnProperty("layout")){aP.layout(aP)}aP.updateModel()}if(this.adorner){this.adorner._initialize();this.adorner.refresh()}},redo:function(){var aQ,aP;for(aQ=0;aQ<this.shapes.length;aQ++){aP=this.shapes[aQ];aP.rotate(this.redoRotates[aQ],this.center,false);if(aP.hasOwnProperty("layout")){aP.layout(aP)}aP.updateModel()}if(this.adorner){this.adorner._initialize();this.adorner.refresh()}}});var T=aE.extend({init:function(aQ,aP,aR){this.diagram=aQ;this.indices=aR;this.items=aP;this.title="Rotate Unit"},undo:function(){this.diagram._toIndex(this.items,this.indices)},redo:function(){this.diagram.toFront(this.items,false)}});var L=aE.extend({init:function(aQ,aP,aR){this.diagram=aQ;this.indices=aR;this.items=aP;this.title="Rotate Unit"},undo:function(){this.diagram._toIndex(this.items,this.indices)},redo:function(){this.diagram.toBack(this.items,false)}});var aJ=v.Observable.extend({init:function(aP){v.Observable.fn.init.call(this,aP);this.bind(this.events,aP);this.stack=[];this.index=0;this.capacity=100},events:["undone","redone"],begin:function(){this.composite=new au()},cancel:function(){this.composite=z},commit:function(aP){if(this.composite.units.length>0){this._restart(this.composite,aP)}this.composite=z},addCompositeItem:function(aP){if(this.composite){this.composite.add(aP)}else{this.add(aP)}},add:function(aP,aQ){this._restart(aP,aQ)},pop:function(){if(this.index>0){this.stack.pop();this.index--}},count:function(){return this.stack.length},undo:function(){if(this.index>0){this.index--;this.stack[this.index].undo();this.trigger("undone")}},redo:function(){if(this.stack.length>0&&this.index<this.stack.length){this.stack[this.index].redo();this.index++;this.trigger("redone")}},_restart:function(aQ,aP){this.stack.splice(this.index,this.stack.length-this.index);this.stack.push(aQ);if(aP!==false){this.redo()}else{this.index++}if(this.stack.length>this.capacity){this.stack.splice(0,this.stack.length-this.capacity);this.index=this.capacity}},clear:function(){this.stack=[];this.index=0}});var an=aE.extend({init:function(aP){this.toolService=aP},start:function(){},move:function(){},end:function(){},tryActivate:function(aQ,aP){return false},getCursor:function(){return u.arrow}});function aw(aP){return aP.ctrlKey===false&&aP.altKey===false&&aP.shiftKey===false}function w(aQ,aR){var aP=aQ!==false;if(aQ.key&&aQ.key!="none"){aP=aR[aQ.key+"Key"]}return aP}var aB=an.extend({init:function(aT){var aS=this;var aV=v.support.mobileOS?W:V;an.fn.init.call(aS,aT);var aR=aS.toolService.diagram,aQ=aR.canvas;var aP=aR.scroller=aS.scroller=ay(aR.scrollable).kendoMobileScroller({friction:aV,velocityMultiplier:ai,mousewheelScrolling:false,zoom:false,scroll:C(aS._move,aS)}).data("kendoMobileScroller");if(aQ.translate){aS.movableCanvas=new av(aQ.element)}var aU=function(aY,aX,aW){aY.makeVirtual();aY.virtualSize(aX||ax,aW||f)};aU(aP.dimensions.x);aU(aP.dimensions.y);aP.disable()},tryActivate:function(aT,aS){var aR=this.toolService;var aQ=aR.diagram.options.pannable;var aP=aS.ctrlKey;if(k(aQ.key)){if(!aQ.key||aQ.key=="none"){aP=aw(aS)}else{aP=aS[aQ.key+"Key"]&&!(aS.ctrlKey&&k(aR.hoveredItem))}}return aQ!==false&&aP&&!k(aR.hoveredAdorner)&&!k(aR._hoveredConnector)},start:function(){this.scroller.enable()},move:function(){},_move:function(aS){var aR=this,aQ=aR.toolService.diagram,aP=aQ.canvas,aT=new i(aS.scrollLeft,aS.scrollTop);if(aP.translate){aQ._storePan(aT.times(-1));aR.movableCanvas.moveTo(aT);aP.translate(aT.x,aT.y)}else{aT=aT.plus(aQ._pan.times(-1))}aQ.trigger(aa,{pan:aT})},end:function(){this.scroller.disable()},getCursor:function(){return u.move}});var U=aE.extend({init:function(aP){this.toolService=aP},tryActivate:function(aQ,aP){return true},start:function(aT,aS){var aR=this.toolService,aQ=aR.diagram,aU=aR.hoveredItem,aP=aQ.options.selectable;if(aU){if(w(aP,aS)){s(aU,aS)}if(aU.adorner){this.adorner=aU.adorner;this.handle=this.adorner._hitTest(aT)}}if(!this.handle){this.handle=aQ._resizingAdorner._hitTest(aT);if(this.handle){this.adorner=aQ._resizingAdorner}}if(this.adorner){if(!this.adorner.isDragHandle(this.handle)||!aQ.trigger(am,{shapes:this.adorner.shapes,connections:[]})){this.adorner.start(aT)}else{aR.startPoint=aT;aR.end(aT)}}},move:function(aP){if(this.adorner){this.adorner.move(this.handle,aP);if(this.adorner.isDragHandle(this.handle)){this.toolService.diagram.trigger(D,{shapes:this.adorner.shapes,connections:[]})}}},end:function(aU,aT){var aQ=this.toolService.diagram,aP=this.toolService,aR=this.adorner,aS;if(aR){if(!aR.isDragHandle(this.handle)||!aQ.trigger(y,{shapes:aR.shapes,connections:[]})){aS=aR.stop();if(aS){aQ.undoRedoService.add(aS,false)}}else{aR.cancel()}}if(aP.hoveredItem){this.toolService.triggerClick({item:aP.hoveredItem,point:aU,meta:aT})}this.adorner=z;this.handle=z},getCursor:function(aP){return this.toolService.hoveredItem?this.toolService.hoveredItem._getCursor(aP):u.arrow}});var l=aE.extend({init:function(aP){this.toolService=aP},tryActivate:function(aS,aR){var aQ=this.toolService;var aP=w(aQ.diagram.options.selectable,aR);return aP&&!k(aQ.hoveredItem)&&!k(aQ.hoveredAdorner)},start:function(aQ){var aP=this.toolService.diagram;aP.deselect();aP.selector.start(aQ)},move:function(aQ){var aP=this.toolService.diagram;aP.selector.move(aQ)},end:function(aS,aR){var aP=this.toolService.diagram,aT=this.toolService.hoveredItem;var aQ=aP.selector.bounds();if((!aT||!aT.isSelected)&&!aR.ctrlKey){aP.deselect()}if(!aQ.isEmpty()){aP.selectArea(aQ)}aP.selector.end()},getCursor:function(){return u.arrow}});var ap=aE.extend({init:function(aP){this.toolService=aP;this.type="ConnectionTool"},tryActivate:function(aQ,aP){return this.toolService._hoveredConnector},start:function(aT,aS){var aR=this.toolService.diagram,aP=this.toolService._hoveredConnector,aQ=aR._createConnection({},aP._c,aT);if(ao(aQ)&&!aR.trigger(am,{shapes:[],connections:[aQ]})&&aR._addConnection(aQ)){this.toolService._connectionManipulation(aQ,aP._c.shape,true);this.toolService._removeHover();s(this.toolService.activeConnection,aS)}else{aQ.source(null);this.toolService.end(aT)}},move:function(aR){var aQ=this.toolService;var aP=aQ.activeConnection;aP.target(aR);aQ.diagram.trigger(D,{shapes:[],connections:[aP]});return true},end:function(aT){var aR=this.toolService,aU=aR.diagram,aQ=aR.activeConnection,aV=aR.hoveredItem,aP=aR._hoveredConnector,aS;if(!aQ){return}if(aP&&aP._c!=aQ.sourceConnector){aS=aP._c}else{if(aV&&aV instanceof j.Shape){aS=aV.getConnector(aO)||aV.getConnector(aT)}else{aS=aT}}aQ.target(aS);if(!aU.trigger(y,{shapes:[],connections:[aQ]})){aQ.updateModel();aU._syncConnectionChanges()}else{aU.remove(aQ,false);aU.undoRedoService.pop()}aR._connectionManipulation()},getCursor:function(){return u.arrow}});var H=aE.extend({init:function(aP){this.toolService=aP;this.type="ConnectionTool"},tryActivate:function(aV,aU){var aT=this.toolService,aQ=aT.diagram,aP=aQ.options.selectable,aS=aT.hoveredItem,aR=w(aP,aU)&&aS&&aS.path&&!(aS.isSelected&&aU.ctrlKey);if(aR){this._c=aS}return aR},start:function(aS,aR){var aP=this._c;s(aP,aR);var aQ=aP.adorner;if(ao(aP)&&aQ&&!this.toolService.diagram.trigger(am,{shapes:[],connections:[aP]})){this.handle=aQ._hitTest(aS);aQ.start(aS)}else{this.toolService.startPoint=aS;this.toolService.end(aS)}},move:function(aQ){var aP=this._c.adorner;if(ao(this._c)&&aP){aP.move(this.handle,aQ);this.toolService.diagram.trigger(D,{shapes:[],connections:[this._c]});return true}},end:function(aV,aU){var aP=this._c;var aR=aP.adorner;var aT=this.toolService;var aQ=aT.diagram;if(aR){aT.triggerClick({item:aP,point:aV,meta:aU});if(ao(aP)){var aS=aR.stop(aV);if(!aQ.trigger(y,{shapes:[],connections:[aP]})){aQ.undoRedoService.add(aS,false);aP.updateModel();aQ._syncConnectionChanges()}else{aS.undo()}}}},getCursor:function(){return u.move}});function b(aP,aQ){return aQ.charCodeAt(0)==aP||aQ.toUpperCase().charCodeAt(0)==aP}var aG=aE.extend({init:function(aP){this.diagram=aP;this.tools=[new aB(this),new H(this),new ap(this),new l(this),new U(this)];this.activeTool=z},start:function(aQ,aP){aP=aK({},aP);if(this.activeTool){this.activeTool.end(aQ,aP)}this._updateHoveredItem(aQ);this._activateTool(aQ,aP);this.activeTool.start(aQ,aP);this._updateCursor(aQ);this.diagram.focus();this.startPoint=aQ;return true},move:function(aR,aQ){aQ=aK({},aQ);var aP=true;if(this.activeTool){aP=this.activeTool.move(aR,aQ)}if(aP){this._updateHoveredItem(aR)}this._updateCursor(aR);return true},end:function(aQ,aP){aP=aK({},aP);if(this.activeTool){this.activeTool.end(aQ,aP)}this.activeTool=z;this._updateCursor(aQ);return true},keyDown:function(aQ,aS){var aP=this.diagram;aS=aK({ctrlKey:false,metaKey:false,altKey:false},aS);if((aS.ctrlKey||aS.metaKey)&&!aS.altKey){if(b(aQ,"a")){aP.selectAll();aP._destroyToolBar();return true}else{if(b(aQ,"z")){aP.undo();aP._destroyToolBar();return true}else{if(b(aQ,"y")){aP.redo();aP._destroyToolBar();return true}else{if(b(aQ,"c")){aP.copy();aP._destroyToolBar()}else{if(b(aQ,"x")){aP.cut();aP._destroyToolBar()}else{if(b(aQ,"v")){aP.paste();aP._destroyToolBar()}else{if(b(aQ,"l")){aP.layout();aP._destroyToolBar()}else{if(b(aQ,"d")){aP._destroyToolBar();aP.copy();aP.paste()}}}}}}}}}else{if(aQ===46||aQ===8){var aR=this.diagram._triggerRemove(aP.select());if(aR.length){this.diagram.remove(aR,true);this.diagram._syncChanges();this.diagram._destroyToolBar()}return true}else{if(aQ===27){this._discardNewConnection();aP.deselect();aP._destroyToolBar();return true}}}},wheel:function(aU,aT){var aR=this.diagram,aW=aT.delta,aV=aR.zoom(),aQ=aR.options,aP=aQ.zoomRate,aS={point:aU,meta:aT,zoom:aV};if(aR.trigger(I,aS)){return}if(aW<0){aV+=aP}else{aV-=aP}aV=v.dataviz.round(Math.max(aQ.zoomMin,Math.min(aQ.zoomMax,aV)),2);aS.zoom=aV;aR.zoom(aV,aS);aR.trigger(h,aS);return true},setTool:function(aQ,aP){aQ.toolService=this;this.tools[aP]=aQ},triggerClick:function(aP){if(this.startPoint.equals(aP.point)){this.diagram.trigger("click",aP)}},_discardNewConnection:function(){if(this.newConnection){this.diagram.remove(this.newConnection);this.newConnection=z}},_activateTool:function(aS,aR){for(var aQ=0;aQ<this.tools.length;aQ++){var aP=this.tools[aQ];if(aP.tryActivate(aS,aR)){this.activeTool=aP;break}}},_updateCursor:function(aQ){var aP=this.diagram.element;var aR=this.activeTool?this.activeTool.getCursor(aQ):(this.hoveredAdorner?this.hoveredAdorner._getCursor(aQ):(this.hoveredItem?this.hoveredItem._getCursor(aQ):u.arrow));aP.css({cursor:aR});if(aA.msie&&aA.version==7){aP[0].style.cssText=aP[0].style.cssText}},_connectionManipulation:function(aQ,aR,aP){this.activeConnection=aQ;this.disabledShape=aR;if(aP){this.newConnection=this.activeConnection}else{this.newConnection=z}},_updateHoveredItem:function(aR){var aQ=this._hitTest(aR);var aP=this.diagram;if(aQ!=this.hoveredItem&&(!this.disabledShape||aQ!=this.disabledShape)){if(this.hoveredItem){aP.trigger(P,{item:this.hoveredItem});this.hoveredItem._hover(false)}if(aQ&&aQ.options.enable){aP.trigger(m,{item:aQ});this.hoveredItem=aQ;this.hoveredItem._hover(true)}else{this.hoveredItem=z}}},_removeHover:function(){if(this.hoveredItem){this.hoveredItem._hover(false);this.hoveredItem=z}},_hitTest:function(aQ){var aT,aU=this.diagram,aS,aR;if(this._hoveredConnector){this._hoveredConnector._hover(false);this._hoveredConnector=z}if(aU._connectorsAdorner._visible){aT=aU._connectorsAdorner._hitTest(aQ);if(aT){return aT}}aT=this.diagram._resizingAdorner._hitTest(aQ);if(aT){this.hoveredAdorner=aU._resizingAdorner;if(aT.x!==0||aT.y!==0){return}aT=z}else{this.hoveredAdorner=z}if(!this.activeTool||this.activeTool.type!=="ConnectionTool"){var aP=[];for(aR=0;aR<aU._selectedItems.length;aR++){aS=aU._selectedItems[aR];if(aS instanceof j.Connection){aP.push(aS)}}aT=this._hitTestItems(aP,aQ)}return aT||this._hitTestElements(aQ)},_hitTestElements:function(aP){var aS=this.diagram;var aW=this._hitTestItems(aS.shapes,aP);var aQ=this._hitTestItems(aS.connections,aP);var aU;if((!this.activeTool||this.activeTool.type!="ConnectionTool")&&aW&&aQ&&!aH(aW,aP)){var aV=aS.mainLayer;var aR=x(aW.visual,aV.children);var aT=x(aQ.visual,aV.children);aU=aR>aT?aW:aQ}return aU||aW||aQ},_hitTestItems:function(aT,aP){var aQ,aR,aS;for(aQ=aT.length-1;aQ>=0;aQ--){aR=aT[aQ];aS=aR._hitTest(aP);if(aS){return aS}}}});var a=v.Class.extend({init:function(){}});var e=a.extend({init:function(aP){var aQ=this;a.fn.init.call(aQ);this.connection=aP},hitTest:function(aP){var aQ=this.getBounds().inflate(X);if(!aQ.contains(aP)){return false}return j.Geometry.distanceToPolyline(aP,this.connection.allPoints())<X},getBounds:function(){var aT=this.connection.allPoints(),aS=aT[0],aW=aT[aT.length-1],aR=Math.max(aS.x,aW.x),aV=Math.min(aS.x,aW.x),aU=Math.min(aS.y,aW.y),aP=Math.max(aS.y,aW.y);for(var aQ=1;aQ<aT.length-1;++aQ){aR=Math.max(aR,aT[aQ].x);aV=Math.min(aV,aT[aQ].x);aU=Math.min(aU,aT[aQ].y);aP=Math.max(aP,aT[aQ].y)}return new F(aV,aU,aR-aV,aP-aU)}});var A=e.extend({init:function(aP){var aQ=this;e.fn.init.call(aQ);this.connection=aP},route:function(){}});var aL=e.extend({SAME_SIDE_DISTANCE_RATIO:5,init:function(aP){var aQ=this;e.fn.init.call(aQ);this.connection=aP},routePoints:function(aT,aQ,aS,aR){var aP;if(aS&&aR){aP=this._connectorPoints(aT,aQ,aS,aR)}else{aP=this._floatingPoints(aT,aQ,aS)}return aP},route:function(){var aS=this.connection._resolvedSourceConnector;var aR=this.connection._resolvedTargetConnector;var aT=this.connection.sourcePoint();var aP=this.connection.targetPoint();var aQ=this.routePoints(aT,aP,aS,aR);this.connection.points(aQ)},_connectorSides:[{name:"Top",axis:"y",boundsPoint:"topLeft",secondarySign:1},{name:"Left",axis:"x",boundsPoint:"topLeft",secondarySign:1},{name:"Bottom",axis:"y",boundsPoint:"bottomRight",secondarySign:-1},{name:"Right",axis:"x",boundsPoint:"bottomRight",secondarySign:-1}],_connectorSide:function(aS,aU){var aV=aS.position();var aW=aS.shape.bounds(N);var aP={topLeft:aW.topLeft(),bottomRight:aW.bottomRight()};var aQ=this._connectorSides;var aT=v.util.MAX_NUM;var a0;var aY;var aR;var aX;for(var aZ=0;aZ<aQ.length;aZ++){aX=aQ[aZ];aR=aX.axis;a0=Math.round(Math.abs(aV[aR]-aP[aX.boundsPoint][aR]));if(a0<aT){aT=a0;aY=aX}else{if(a0===aT&&(aV[aR]-aU[aR])*aX.secondarySign>(aV[aY.axis]-aU[aY.axis])*aY.secondarySign){aY=aX}}}return aY.name},_sameSideDistance:function(aP){var aQ=aP.shape.bounds(N);return Math.min(aQ.width,aQ.height)/this.SAME_SIDE_DISTANCE_RATIO},_connectorPoints:function(aR,aT,aQ,aX){var aW=this._connectorSide(aQ,aT);var aY=this._connectorSide(aX,aR);var aV=aT.x-aR.x;var aU=aT.y-aR.y;var aS=this._sameSideDistance(aQ);var a0=[];var aP,aZ;if(aW===r||aW==az){if(aY==r||aY==az){if(aW==aY){if(aW==r){aZ=Math.min(aR.y,aT.y)-aS}else{aZ=Math.max(aR.y,aT.y)+aS}a0=[new i(aR.x,aZ),new i(aT.x,aZ)]}else{a0=[new i(aR.x,aR.y+aU/2),new i(aT.x,aR.y+aU/2)]}}else{a0=[new i(aR.x,aT.y)]}}else{if(aY==c||aY==o){if(aW==aY){if(aW==c){aP=Math.min(aR.x,aT.x)-aS}else{aP=Math.max(aR.x,aT.x)+aS}a0=[new i(aP,aR.y),new i(aP,aT.y)]}else{a0=[new i(aR.x+aV/2,aR.y),new i(aR.x+aV/2,aR.y+aU)]}}else{a0=[new i(aT.x,aR.y)]}}return a0},_floatingPoints:function(aQ,aS,aP){var aV=aP?this._connectorSide(aP,aS):null;var a0=this._startHorizontal(aQ,aS,aV);var aZ=[aQ,aQ,aS,aS];var aU=aS.x-aQ.x;var aT=aS.y-aQ.y;var aR=aZ.length;var aY;var aW;for(var aX=1;aX<aR-1;++aX){if(a0){if(aX%2!==0){aY=aU/(aR/2);aW=0}else{aY=0;aW=aT/((aR-1)/2)}}else{if(aX%2!==0){aY=0;aW=aT/(aR/2)}else{aY=aU/((aR-1)/2);aW=0}}aZ[aX]=new i(aZ[aX-1].x+aY,aZ[aX-1].y+aW)}aX--;if((a0&&(aX%2!==0))||(!a0&&(aX%2===0))){aZ[aR-2]=new i(aZ[aR-1].x,aZ[aR-2].y)}else{aZ[aR-2]=new i(aZ[aR-2].x,aZ[aR-1].y)}return[aZ[1],aZ[2]]},_startHorizontal:function(aS,aQ,aR){var aP;if(aR!==null&&(aR===o||aR===c)){aP=true}else{aP=Math.abs(aS.x-aQ.x)>Math.abs(aS.y-aQ.y)}return aP}});var aF=aE.extend({init:function(aQ,aP){var aR=this;aR.diagram=aQ;aR.options=aK({},aR.options,aP);aR.visual=new af();aR.diagram._adorners.push(aR)},refresh:function(){}});var K=aF.extend({init:function(aP,aR){var aS=this,aQ;aS.connection=aP;aQ=aS.connection.diagram;aS._ts=aQ.toolService;aF.fn.init.call(aS,aQ,aR);var aT=aS.connection.sourcePoint();var aU=aS.connection.targetPoint();aS.spVisual=new ah(aK(aS.options.handles,{center:aT}));aS.epVisual=new ah(aK(aS.options.handles,{center:aU}));aS.visual.append(aS.spVisual);aS.visual.append(aS.epVisual)},options:{handles:{}},_getCursor:function(){return u.move},start:function(aP){this.handle=this._hitTest(aP);this.startPoint=aP;this._initialSource=this.connection.source();this._initialTarget=this.connection.target();switch(this.handle){case -1:if(this.connection.targetConnector){this._ts._connectionManipulation(this.connection,this.connection.targetConnector.shape)}break;case 1:if(this.connection.sourceConnector){this._ts._connectionManipulation(this.connection,this.connection.sourceConnector.shape)}break}},move:function(aP,aQ){switch(aP){case -1:this.connection.source(aQ);break;case 1:this.connection.target(aQ);break;default:var aR=aQ.minus(this.startPoint);this.startPoint=aQ;if(!this.connection.sourceConnector){this.connection.source(this.connection.sourcePoint().plus(aR))}if(!this.connection.targetConnector){this.connection.target(this.connection.targetPoint().plus(aR))}break}this.refresh();return true},stop:function(aS){var aQ=this.diagram.toolService,aP=aQ.hoveredItem,aR;if(aQ._hoveredConnector){aR=aQ._hoveredConnector._c}else{if(aP&&aP instanceof j.Shape){aR=aP.getConnector(aO)||aP.getConnector(aS)}else{aR=aS}}if(this.handle===-1){this.connection.source(aR)}else{if(this.handle===1){this.connection.target(aR)}}this.handle=z;this._ts._connectionManipulation();return new d(this.connection,this._initialSource,this._initialTarget)},_hitTest:function(aT){var aR=this.connection.sourcePoint(),aU=this.connection.targetPoint(),aS=this.options.handles.width/2,aQ=this.options.handles.height/2,aV=new F(aR.x,aR.y).inflate(aS,aQ),aP=new F(aU.x,aU.y).inflate(aS,aQ);return aV.contains(aT)?-1:(aP.contains(aT)?1:0)},refresh:function(){this.spVisual.redraw({center:this.diagram.modelToLayer(this.connection.sourcePoint())});this.epVisual.redraw({center:this.diagram.modelToLayer(this.connection.targetPoint())})}});var S=aF.extend({init:function(aQ,aP){var aR=this;aF.fn.init.call(aR,aQ,aP);aR._refreshHandler=function(aS){if(aS.item==aR.shape){aR.refresh()}}},show:function(aQ){var aS=this,aP,aR,aT;aS._visible=true;aS.shape=aQ;aS.diagram.bind(n,aS._refreshHandler);aP=aQ.connectors.length;aS.connectors=[];aS.visual.clear();for(aR=0;aR<aP;aR++){aT=new q(aQ.connectors[aR]);aS.connectors.push(aT);aS.visual.append(aT.visual)}aS.visual.visible(true);aS.refresh()},destroy:function(){var aP=this;aP.diagram.unbind(n,aP._refreshHandler);aP.shape=z;aP._visible=z;aP.visual.visible(false)},_hitTest:function(aR){var aQ,aP;for(aP=0;aP<this.connectors.length;aP++){aQ=this.connectors[aP];if(aQ._hitTest(aR)){aQ._hover(true);this.diagram.toolService._hoveredConnector=aQ;break}}},refresh:function(){if(this.shape){var aP=this.shape.bounds();aP=this.diagram.modelToLayer(aP);this.visual.position(aP.topLeft());ay.each(this.connectors,function(){this.refresh()})}}});function g(aR,aQ){var aP;if(aR.x==-1&&aR.y==-1){aP=aQ.bottomRight()}else{if(aR.x==1&&aR.y==1){aP=aQ.topLeft()}else{if(aR.x==-1&&aR.y==1){aP=aQ.topRight()}else{if(aR.x==1&&aR.y==-1){aP=aQ.bottomLeft()}else{if(aR.x===0&&aR.y==-1){aP=aQ.bottom()}else{if(aR.x===0&&aR.y==1){aP=aQ.top()}else{if(aR.x==1&&aR.y===0){aP=aQ.left()}else{if(aR.x==-1&&aR.y===0){aP=aQ.right()}}}}}}}}return aP}var aq=aF.extend({init:function(aQ,aP){var aR=this;aF.fn.init.call(aR,aQ,aP);aR._manipulating=false;aR.map=[];aR.shapes=[];aR._initSelection();aR._createHandles();aR.redraw();aR.diagram.bind("select",function(aS){aR._initialize(aS.selected)});aR._refreshHandler=function(){if(!aR._internalChange){aR.refreshBounds();aR.refresh()}};aR._rotatedHandler=function(){if(aR.shapes.length==1){aR._angle=aR.shapes[0].rotate().angle}aR._refreshHandler()};aR.diagram.bind(n,aR._refreshHandler).bind(Y,aR._rotatedHandler);aR.refreshBounds();aR.refresh()},options:{editable:{},selectable:{stroke:{color:"#778899",width:1,dashType:"dash"},fill:{color:at}},offset:10},_initSelection:function(){var aS=this;var aR=aS.diagram;var aQ=aR.options.selectable;var aP=aK({},aS.options.selectable,aQ);aS.rect=new E(aP);aS.visual.append(aS.rect)},_createHandles:function(){var aS=this.options.editable,aR,aT,aQ,aU,aP;if(aS&&aS.resize){aR=aS.resize.handles;for(aP=-1;aP<=1;aP++){for(aU=-1;aU<=1;aU++){if((aP!==0)||(aU!==0)){aT=new E(aR);aT.drawingElement._hover=C(this._hover,this);this.map.push({x:aP,y:aU,visual:aT});this.visual.append(aT)}}}}},bounds:function(aP){if(aP){this._innerBounds=aP.clone();this._bounds=this.diagram.modelToLayer(aP).inflate(this.options.offset,this.options.offset)}else{return this._bounds}},_hitTest:function(aU){var aV=this.diagram.modelToLayer(aU),aR=this.options.editable,aQ,aT,aW,aP=this.map.length,aS;if(this._angle){aV=aV.clone().rotate(this._bounds.center(),this._angle)}if(aR&&aR.rotate&&this._rotationThumbBounds){if(this._rotationThumbBounds.contains(aV)){return new i(-1,-2)}}if(aR&&aR.resize){for(aQ=0;aQ<aP;aQ++){aS=this.map[aQ];aT=new i(aS.x,aS.y);aW=this._getHandleBounds(aT);aW.offset(this._bounds.x,this._bounds.y);if(aW.contains(aV)){return aT}}}if(this._bounds.contains(aV)){return new i(0,0)}},_getHandleBounds:function(aU){var aR=this.options.editable;if(aR&&aR.resize){var aQ=aR.resize.handles||{},aP=aQ.width,aS=aQ.height,aT=new F(0,0,aP,aS);if(aU.x<0){aT.x=-aP/2}else{if(aU.x===0){aT.x=Math.floor(this._bounds.width/2)-aP/2}else{if(aU.x>0){aT.x=this._bounds.width+1-aP/2}}}if(aU.y<0){aT.y=-aS/2}else{if(aU.y===0){aT.y=Math.floor(this._bounds.height/2)-aS/2}else{if(aU.y>0){aT.y=this._bounds.height+1-aS/2}}}return aT}},_getCursor:function(aP){var aQ=this._hitTest(aP);if(aQ&&(aQ.x>=-1)&&(aQ.x<=1)&&(aQ.y>=-1)&&(aQ.y<=1)&&this.options.editable&&this.options.editable.resize){var aR=this._angle;if(aR){aR=360-aR;aQ.rotate(new i(0,0),aR);aQ=new i(Math.round(aQ.x),Math.round(aQ.y))}if(aQ.x==-1&&aQ.y==-1){return"nw-resize"}if(aQ.x==1&&aQ.y==1){return"se-resize"}if(aQ.x==-1&&aQ.y==1){return"sw-resize"}if(aQ.x==1&&aQ.y==-1){return"ne-resize"}if(aQ.x===0&&aQ.y==-1){return"n-resize"}if(aQ.x===0&&aQ.y==1){return"s-resize"}if(aQ.x==1&&aQ.y===0){return"e-resize"}if(aQ.x==-1&&aQ.y===0){return"w-resize"}}return this._manipulating?u.move:u.select},_initialize:function(){var aS=this,aQ,aR,aP=aS.diagram.select();aS.shapes=[];for(aQ=0;aQ<aP.length;aQ++){aR=aP[aQ];if(aR instanceof j.Shape){aS.shapes.push(aR);aR._rotationOffset=new i()}}aS._angle=aS.shapes.length==1?aS.shapes[0].rotate().angle:0;aS._startAngle=aS._angle;aS._rotates();aS._positions();aS.refreshBounds();aS.refresh();aS.redraw()},_rotates:function(){var aR=this,aQ,aP;aR.initialRotates=[];for(aQ=0;aQ<aR.shapes.length;aQ++){aP=aR.shapes[aQ];aR.initialRotates.push(aP.rotate().angle)}},_positions:function(){var aR=this,aQ,aP;aR.initialStates=[];for(aQ=0;aQ<aR.shapes.length;aQ++){aP=aR.shapes[aQ];aR.initialStates.push(aP.bounds())}},_hover:function(aT,aQ){var aP=this.options.editable;if(aP&&aP.resize){var aS=aP.resize.handles,aR=aS.hover,aV=aS.stroke,aU=aS.fill;if(aT&&ak.isDefined(aR.stroke)){aV=aK({},aV,aR.stroke)}if(aT&&ak.isDefined(aR.fill)){aU=aR.fill}aQ.stroke(aV.color,aV.width,aV.opacity);aQ.fill(aU.color,aU.opacity)}},start:function(aR){this._sp=aR;this._cp=aR;this._lp=aR;this._manipulating=true;this._internalChange=true;this.shapeStates=[];for(var aQ=0;aQ<this.shapes.length;aQ++){var aP=this.shapes[aQ];this.shapeStates.push(aP.bounds())}},redraw:function(){var aV=this,aU,aW,aT=aV.options.editable,aS=aT.resize,aR=aT.rotate,aQ=aT&&aS?true:false,aP=aT&&aR?true:false;for(aU=0;aU<this.map.length;aU++){aW=this.map[aU];aW.visual.visible(aQ)}if(aV.rotationThumb){aV.rotationThumb.visible(aP)}},angle:function(aP){if(k(aP)){this._angle=aP}return this._angle},rotate:function(){var aP=this._innerBounds.center();var aS=this.angle();this._internalChange=true;for(var aR=0;aR<this.shapes.length;aR++){var aQ=this.shapes[aR];aS=(aS+this.initialRotates[aR]-this._startAngle)%360;aQ.rotate(aS,aP)}this.refresh()},move:function(a4,aY){var a5,aZ,aX=new i(),aT=new i(),aV,a7,aQ,a0,a2,aW,aU=0,a1,a6,a3;if(a4.y===-2&&a4.x===-1){a7=this._innerBounds.center();this._angle=this._truncateAngle(ak.findAngle(a7,aY));for(a0=0;a0<this.shapes.length;a0++){aQ=this.shapes[a0];a2=(this._angle+this.initialRotates[a0]-this._startAngle)%360;aQ.rotate(a2,a7);if(aQ.hasOwnProperty("layout")){aQ.layout(aQ)}this._rotating=true}this.refresh()}else{if(this.shouldSnap()){var aS=this._truncateDistance(aY.minus(this._lp));if(aS.x===0&&aS.y===0){this._cp=aY;return}a5=aS;this._lp=new i(this._lp.x+aS.x,this._lp.y+aS.y)}else{a5=aY.minus(this._cp)}if(this.isDragHandle(a4)){aT=aX=a5;aZ=true}else{if(this._angle){a5.rotate(new i(0,0),this._angle)}if(a4.x==-1){aX.x=a5.x}else{if(a4.x==1){aT.x=a5.x}}if(a4.y==-1){aX.y=a5.y}else{if(a4.y==1){aT.y=a5.y}}}if(!aZ){a1=g(a4,this._innerBounds);a6=(this._innerBounds.width+a5.x*a4.x)/this._innerBounds.width;a3=(this._innerBounds.height+a5.y*a4.y)/this._innerBounds.height}for(a0=0;a0<this.shapes.length;a0++){aQ=this.shapes[a0];aV=aQ.bounds();if(aZ){if(!ao(aQ)){continue}aW=this._displaceBounds(aV,aX,aT,aZ)}else{aW=aV.clone();aW.scale(a6,a3,a1,this._innerBounds.center(),aQ.rotate().angle);var aP=aW.center();aP.rotate(aV.center(),-this._angle);aW=new F(aP.x-aW.width/2,aP.y-aW.height/2,aW.width,aW.height)}if(aW.width>=aQ.options.minWidth&&aW.height>=aQ.options.minHeight){var aR=aV;aQ.bounds(aW);if(aQ.hasOwnProperty("layout")){aQ.layout(aQ,aR,aW)}if(aR.width!==aW.width||aR.height!==aW.height){aQ.rotate(aQ.rotate().angle)}aU+=1}}if(aU){if(aU==a0){aW=this._displaceBounds(this._innerBounds,aX,aT,aZ);this.bounds(aW)}else{this.refreshBounds()}this.refresh()}this._positions()}this._cp=aY},isDragHandle:function(aP){return aP.x===0&&aP.y===0},cancel:function(){var aQ=this.shapes;var aR=this.shapeStates;for(var aP=0;aP<aQ.length;aP++){aQ[aP].bounds(aR[aP])}this.refreshBounds();this.refresh();this._manipulating=z;this._internalChange=z;this._rotating=z},_truncatePositionToGuides:function(aP){if(this.diagram.ruler){return this.diagram.ruler.truncatePositionToGuides(aP)}return aP},_truncateSizeToGuides:function(aP){if(this.diagram.ruler){return this.diagram.ruler.truncateSizeToGuides(aP)}return aP},_truncateAngle:function(aQ){var aP=this.snapOptions();var aR=Math.max(aP.angle||M,aM);return aP?Math.floor((aQ%360)/aR)*aR:(aQ%360)},_truncateDistance:function(aQ){if(aQ instanceof j.Point){return new j.Point(this._truncateDistance(aQ.x),this._truncateDistance(aQ.y))}else{var aP=this.snapOptions()||{};var aR=Math.max(aP.size||p,ac);return aP?Math.floor(aQ/aR)*aR:aQ}},snapOptions:function(){var aQ=this.diagram.options.editable;var aP=((aQ||{}).drag||{}).snap||{};return aP},shouldSnap:function(){var aQ=this.diagram.options.editable;var aR=(aQ||{}).drag;var aP=(aR||{}).snap;return aQ!==false&&aR!==false&&aP!==false},_displaceBounds:function(aT,aW,aP,aV){var aR=aT.topLeft().plus(aW),aS=aT.bottomRight().plus(aP),aU=F.fromPoints(aR,aS),aQ;if(!aV){aQ=aU.center();aQ.rotate(aT.center(),-this._angle);aU=new F(aQ.x-aU.width/2,aQ.y-aU.height/2,aU.width,aU.height)}return aU},stop:function(){var aS,aQ,aP;if(this._cp!=this._sp){if(this._rotating){aS=new O(this,this.shapes,this.initialRotates);this._rotating=false}else{if(this._diffStates()){if(this.diagram.ruler){for(aQ=0;aQ<this.shapes.length;aQ++){aP=this.shapes[aQ];var aR=aP.bounds();aR=this._truncateSizeToGuides(this._truncatePositionToGuides(aR));aP.bounds(aR);this.refreshBounds();this.refresh()}}for(aQ=0;aQ<this.shapes.length;aQ++){aP=this.shapes[aQ];aP.updateModel()}aS=new ae(this.shapes,this.shapeStates,this);this.diagram._syncShapeChanges()}}}this._manipulating=z;this._internalChange=z;this._rotating=z;return aS},_diffStates:function(){var aQ=this.shapes;var aR=this.shapeStates;var aS;for(var aP=0;aP<aQ.length;aP++){if(!aQ[aP].bounds().equals(aR[aP])){return true}}return false},refreshBounds:function(){var aP=this.shapes.length==1?this.shapes[0].bounds().clone():this.diagram.boundingBox(this.shapes,true);this.bounds(aP)},refresh:function(){var aT=this,aQ,aS;if(this.shapes.length>0){aS=this.bounds();this.visual.visible(true);this.visual.position(aS.topLeft());ay.each(this.map,function(){aQ=aT._getHandleBounds(new i(this.x,this.y));this.visual.position(aQ.topLeft())});this.visual.position(aS.topLeft());var aP=new i(aS.width/2,aS.height/2);this.visual.rotate(this._angle,aP);this.rect.redraw({width:aS.width,height:aS.height});if(this.rotationThumb){var aR=this.options.editable.rotate.thumb;this._rotationThumbBounds=new F(aS.center().x,aS.y+aR.y,0,0).inflate(aR.width);this.rotationThumb.redraw({x:aS.width/2-aR.width/2})}}else{this.visual.visible(false)}}});var aD=aE.extend({init:function(aQ){var aP=aQ.options.selectable;this.options=aK({},this.options,aP);this.visual=new E(this.options);this.diagram=aQ},options:{stroke:{color:"#778899",width:1,dashType:"dash"},fill:{color:at}},start:function(aP){this._sp=this._ep=aP;this.refresh();this.diagram._adorn(this,true)},end:function(){this._sp=this._ep=z;this.diagram._adorn(this,false)},bounds:function(aP){if(aP){this._bounds=aP}return this._bounds},move:function(aP){this._ep=aP;this.refresh()},refresh:function(){if(this._sp){var aP=F.fromPoints(this.diagram.modelToLayer(this._sp),this.diagram.modelToLayer(this._ep));this.bounds(F.fromPoints(this._sp,this._ep));this.visual.position(aP.topLeft());this.visual.redraw({height:aP.height+1,width:aP.width+1})}}});var q=aE.extend({init:function(aP){this.options=aK({},aP.options);this._c=aP;this.visual=new ah(this.options);this.refresh()},_hover:function(aR){var aP=this.options,aQ=aP.hover,aT=aP.stroke,aS=aP.fill;if(aR&&ak.isDefined(aQ.stroke)){aT=aK({},aT,aQ.stroke)}if(aR&&ak.isDefined(aQ.fill)){aS=aQ.fill}this.visual.redraw({stroke:aT,fill:aS})},refresh:function(){var aR=this._c.shape.diagram.modelToView(this._c.position()),aQ=aR.minus(this._c.shape.bounds("transformed").topLeft()),aP=new F(aR.x,aR.y,0,0);aP.inflate(this.options.width/2,this.options.height/2);this._visualBounds=aP;this.visual.redraw({center:new i(aQ.x,aQ.y)})},_hitTest:function(aP){var aQ=this._c.shape.diagram.modelToView(aP);return this._visualBounds.contains(aQ)}});function ao(aQ){var aP=aQ.options.editable;return aP&&aP.drag!==false}function aH(aT,aR){var aS,aQ,aU;for(var aP=0;aP<aT.connectors.length;aP++){aS=aT.connectors[aP];aQ=aS.position();aU=new F(aQ.x,aQ.y);aU.inflate(X,X);if(aU.contains(aR)){return aS}}}aK(j,{CompositeUnit:au,TransformUnit:ae,PanUndoUnit:B,AddShapeUnit:aj,AddConnectionUnit:aN,DeleteShapeUnit:ab,DeleteConnectionUnit:aI,ConnectionEditAdorner:K,ConnectionTool:ap,ConnectorVisual:q,UndoRedoService:aJ,ResizingAdorner:aq,Selector:aD,ToolService:aG,ConnectorsAdorner:S,LayoutUndoUnit:ad,ConnectionEditUnit:G,ToFrontUnit:T,ToBackUnit:L,ConnectionRouterBase:a,PolylineRouter:A,CascadingRouter:aL,SelectionTool:l,ScrollerTool:aB,PointerTool:U,ConnectionEditTool:H,RotateUnit:O})})(window.kendo.jQuery);(function(d,e){var q=window.kendo,x=q.dataviz.diagram,g=x.Graph,y=x.Node,p=x.Link,o=q.deepExtend,v=x.Size,f=x.Rect,w=x.Dictionary,u=x.Set,t=x.Graph,b=x.Utils,z=x.Point,r=0.000001,n=Math.PI/180,i=b.contains,l=d.grep;var m=q.Class.extend({defaultOptions:{type:"Tree",subtype:"Down",roots:null,animate:false,limitToView:false,friction:0.9,nodeDistance:50,iterations:300,horizontalSeparation:90,verticalSeparation:50,underneathVerticalTopOffset:15,underneathHorizontalOffset:15,underneathVerticalSeparation:15,grid:{width:1500,offsetX:50,offsetY:50,componentSpacingX:20,componentSpacingY:20},layerSeparation:50,layeredIterations:2,startRadialAngle:0,endRadialAngle:360,radialSeparation:150,radialFirstLevelSeparation:200,keepComponentsInOneRadialLayout:false,ignoreContainers:true,layoutContainerChildren:false,ignoreInvisible:true,animateTransitions:false},init:function(){},gridLayoutComponents:function(J){if(!J){throw"No components supplied."}b.forEach(J,function(Q){Q.calcBounds()});J.sort(function(R,Q){return Q.bounds.width-R.bounds.width});var N=this.options.grid.width,H=this.options.grid.componentSpacingX,E=this.options.grid.componentSpacingY,P=0,G=this.options.grid.offsetX,F=this.options.grid.offsetY,M=G,L=F,D,I=[],O=[];while(J.length>0){if(M>=N){M=G;L+=P+E;P=0}var K=J.pop();this.moveToOffset(K,new z(M,L));for(D=0;D<K.nodes.length;D++){O.push(K.nodes[D])}for(D=0;D<K.links.length;D++){I.push(K.links[D])}var B=K.bounds;var C=B.height;if(C<=0||isNaN(C)){C=0}var A=B.width;if(A<=0||isNaN(A)){A=0}if(C>=P){P=C}M+=A+H}return{nodes:O,links:I}},moveToOffset:function(H,B){var F,E,A=H.bounds,M=B.x-A.x,J=B.y-A.y;for(F=0;F<H.nodes.length;F++){var D=H.nodes[F];var C=D.bounds();if(C.width===0&&C.height===0&&C.x===0&&C.y===0){C=new f(0,0,0,0)}C.x+=M;C.y+=J;D.bounds(C)}for(F=0;F<H.links.length;F++){var G=H.links[F];if(G.points){var L=[];var I=G.points;for(E=0;E<I.length;E++){var K=I[E];K.x+=M;K.y+=J;L.push(K)}G.points=L}}this.currentHorizontalOffset+=A.width+this.options.grid.offsetX;return new z(M,J)},transferOptions:function(A){this.options=q.deepExtend({},this.defaultOptions);if(b.isUndefined(A)){return}this.options=q.deepExtend(this.options,A||{})}});var c=q.Class.extend({init:function(A){this.nodeMap=new w();this.shapeMap=new w();this.nodes=[];this.edges=[];this.edgeMap=new w();this.finalNodes=[];this.finalLinks=[];this.ignoredConnections=[];this.ignoredShapes=[];this.hyperMap=new w();this.hyperTree=new g();this.finalGraph=null;this.diagram=A},convert:function(A){if(b.isUndefined(this.diagram)){throw"No diagram to convert."}this.options=q.deepExtend({ignoreInvisible:true,ignoreContainers:true,layoutContainerChildren:false},A||{});this.clear();this._renormalizeShapes();this._renormalizeConnections();this.finalNodes=new w(this.nodes);this.finalLinks=new w(this.edges);this.finalGraph=new g();this.finalNodes.forEach(function(B){this.finalGraph.addNode(B)},this);this.finalLinks.forEach(function(B){this.finalGraph.addExistingLink(B)},this);return this.finalGraph},mapConnection:function(A){return this.edgeMap.first(function(B){return i(this.edgeMap.get(B),A)})},mapShape:function(B){var E=this.nodeMap.keys();for(var D=0,A=E.length;D<A;D++){var C=E[D];if(i(this.nodeMap.get(C),B)){return C}}},getEdge:function(B,A){return b.first(B.links,function(C){return C.getComplement(B)===A})},clear:function(){this.finalGraph=null;this.hyperTree=(!this.options.ignoreContainers&&this.options.layoutContainerChildren)?new t():null;this.hyperMap=(!this.options.ignoreContainers&&this.options.layoutContainerChildren)?new w():null;this.nodeMap=new w();this.shapeMap=new w();this.nodes=[];this.edges=[];this.edgeMap=new w();this.ignoredConnections=[];this.ignoredShapes=[];this.finalNodes=[];this.finalLinks=[]},listToRoot:function(C){var B=[];var A=C.container;if(!A){return B}B.push(A);while(A.parentContainer){A=A.parentContainer;B.push(A)}B.reverse();return B},firstNonIgnorableContainer:function(A){if(A.isContainer&&!this._isIgnorableItem(A)){return A}return !A.parentContainer?null:this.firstNonIgnorableContainer(A.parentContainer)},isContainerConnection:function(B,A){if(B.isContainer&&this.isDescendantOf(B,A)){return true}return A.isContainer&&this.isDescendantOf(A,B)},isDescendantOf:function(D,B){if(!D.isContainer){throw"Expecting a container."}if(D===B){return false}if(i(D.children,B)){return true}var E=[];for(var C=0,A=D.children.length;C<A;C++){var F=D.children[C];if(F.isContainer&&this.isDescendantOf(F,B)){E.push(F)}}return E.length>0},isIgnorableItem:function(A){if(this.options.ignoreInvisible){if(A.isCollapsed&&this._isVisible(A)){return false}if(!A.isCollapsed&&this._isVisible(A)){return false}return true}else{return A.isCollapsed&&!this._isTop(A)}},isShapeMapped:function(A){return A.isCollapsed&&!this._isVisible(A)&&!this._isTop(A)},leastCommonAncestor:function(B,A){if(!B){throw"Parameter should not be null."}if(!A){throw"Parameter should not be null."}if(!this.hyperTree){throw"No hypertree available."}var E=this.listToRoot(B);var H=this.listToRoot(A);var D=null;if(b.isEmpty(E)||b.isEmpty(H)){return this.hyperTree.root.data}var G=E[0];var F=H[0];var C=0;while(G===F){D=E[C];C++;if(C>=E.length||C>=H.length){break}G=E[C];F=H[C]}if(!D){return this.hyperTree.root.data}else{return l(this.hyperTree.nodes,function(I){return I.data.container===D})}},_isTop:function(A){return !A.parentContainer},_isVisible:function(A){if(!A.visible()){return false}return !A.parentContainer?A.visible():this._isVisible(A.parentContainer)},_isCollapsed:function(A){if(A.isContainer&&A.isCollapsed){return true}return A.parentContainer&&this._isCollapsed(A.parentContainer)},_renormalizeShapes:function(){if(this.options.ignoreContainers){for(var C=0,A=this.diagram.shapes.length;C<A;C++){var B=this.diagram.shapes[C];if((this.options.ignoreInvisible&&!this._isVisible(B))||B.isContainer){this.ignoredShapes.push(B);continue}var D=new y(B.id,B);D.isVirtual=false;this.nodeMap.add(D,[B]);this.nodes.push(D)}}else{throw"Containers are not supported yet, but stay tuned."}},_renormalizeConnections:function(){if(this.diagram.connections.length===0){return}for(var C=0,A=this.diagram.connections.length;C<A;C++){var E=this.diagram.connections[C];if(this.isIgnorableItem(E)){this.ignoredConnections.push(E);continue}var G=!E.sourceConnector?null:E.sourceConnector.shape;var F=!E.targetConnector?null:E.targetConnector.shape;if(!G||!F){this.ignoredConnections.push(E);continue}if(i(this.ignoredShapes,G)&&!this.shapeMap.containsKey(G)){this.ignoredConnections.push(E);continue}if(i(this.ignoredShapes,F)&&!this.shapeMap.containsKey(F)){this.ignoredConnections.push(E);continue}if(this.shapeMap.containsKey(G)){G=this.shapeMap[G]}if(this.shapeMap.containsKey(F)){F=this.shapeMap[F]}var D=this.mapShape(G);var H=this.mapShape(F);if((D===H)||this.areConnectedAlready(D,H)){this.ignoredConnections.push(E);continue}if(D===null||H===null){throw"A shape was not mapped to a node."}if(this.options.ignoreContainers){if(D.isVirtual||H.isVirtual){this.ignoredConnections.push(E);continue}var B=new p(D,H,E.id,E);this.edgeMap.add(B,[E]);this.edges.push(B)}else{throw"Containers are not supported yet, but stay tuned."}}},areConnectedAlready:function(B,A){return b.any(this.edges,function(C){return C.source===B&&C.target===A||C.source===A&&C.target===B})}});var a=m.extend({init:function(A){var B=this;m.fn.init.call(B);if(b.isUndefined(A)){throw"Diagram is not specified."}this.diagram=A},layout:function(D){this.transferOptions(D);var B=new c(this.diagram);var G=B.convert(D);if(G.isEmpty()){return}var F=G.getConnectedComponents();if(b.isEmpty(F)){return}for(var E=0;E<F.length;E++){var C=F[E];this.layoutGraph(C,D)}var A=this.gridLayoutComponents(F);return new x.LayoutState(this.diagram,A)},layoutGraph:function(E,A){if(b.isDefined(A)){this.transferOptions(A)}this.graph=E;var B=this.options.nodeDistance*9;this.temperature=B;var C=this._expectedBounds();this.width=C.width;this.height=C.height;for(var D=0;D<this.options.iterations;D++){this.refineStage=D>=this.options.iterations*5/6;this.tick();this.temperature=this.refineStage?B/30:B*(1-D/(2*this.options.iterations))}},tick:function(){var A;for(A=0;A<this.graph.nodes.length;A++){this._repulsion(this.graph.nodes[A])}for(A=0;A<this.graph.links.length;A++){this._attraction(this.graph.links[A])}for(A=0;A<this.graph.nodes.length;A++){var B=this.graph.nodes[A];var C=Math.sqrt(B.dx*B.dx+B.dy*B.dy);if(C===0){return}B.x+=Math.min(C,this.temperature)*B.dx/C;B.y+=Math.min(C,this.temperature)*B.dy/C;if(this.options.limitToView){B.x=Math.min(this.width,Math.max(B.width/2,B.x));B.y=Math.min(this.height,Math.max(B.height/2,B.y))}}},_shake:function(B){var A=Math.random()*this.options.nodeDistance/4;var C=Math.random()*2*Math.PI;B.x+=A*Math.cos(C);B.y-=A*Math.sin(C)},_InverseSquareForce:function(F,D,E){var C;if(!this.refineStage){C=Math.pow(F,2)/Math.pow(this.options.nodeDistance,2)}else{var J=D.x-E.x;var I=D.y-E.y;var G=D.width/2;var A=D.height/2;var H=E.width/2;var B=E.height/2;C=(Math.pow(J,2)/Math.pow(G+H+this.options.nodeDistance,2))+(Math.pow(I,2)/Math.pow(A+B+this.options.nodeDistance,2))}return C*4/3},_SquareForce:function(B,C,A){return 1/this._InverseSquareForce(B,C,A)},_repulsion:function(A){A.dx=0;A.dy=0;b.forEach(this.graph.nodes,function(B){if(B===A){return}while(A.x===B.x&&A.y===B.y){this._shake(B)}var D=A.x-B.x;var C=A.y-B.y;var F=Math.sqrt(D*D+C*C);var E=this._SquareForce(F,A,B)*2;A.dx+=(D/F)*E;A.dy+=(C/F)*E},this)},_attraction:function(C){var G=C.target;var H=C.source;if(H===G){return}while(H.x===G.x&&H.y===G.y){this._shake(G)}var D=H.x-G.x;var B=H.y-G.y;var A=Math.sqrt(D*D+B*B);var E=this._InverseSquareForce(A,H,G)*5;var I=(D/A)*E;var F=(B/A)*E;G.dx+=I;G.dy+=F;H.dx-=I;H.dy-=F},_expectedBounds:function(){var C,G=this.graph.nodes.length,E=1.5,H=4;if(G===0){return C}C=b.fold(this.graph.nodes,function(I,K){var J=K.width*K.height;if(J>0){I+=Math.sqrt(J);return I}return 0},0,this);var F=C/G;var B=F*Math.ceil(Math.sqrt(G));var D=B*Math.sqrt(E);var A=B/Math.sqrt(E);return{width:D*H,height:A*H}}});var h=q.Class.extend({init:function(A){this.center=null;this.options=A},layout:function(B,A){this.graph=B;if(!this.graph.nodes||this.graph.nodes.length===0){return}if(!i(this.graph.nodes,A)){throw"The given root is not in the graph."}this.center=A;this.graph.cacheRelationships();this.layoutSwitch()},layoutLeft:function(B){this.setChildrenDirection(this.center,"Left",false);this.setChildrenLayout(this.center,"Default",false);var E=0,H=0,F,D,C;for(D=0;D<B.length;D++){C=B[D];C.TreeDirection="Left";var I=this.measure(C,v.Empty);H=Math.max(H,I.Width);E+=I.height+this.options.verticalSeparation}E-=this.options.verticalSeparation;var G=this.center.x-this.options.horizontalSeparation;F=this.center.y+((this.center.height-E)/2);for(D=0;D<B.length;D++){C=B[D];var A=new z(G-C.Size.width,F);this.arrange(C,A);F+=C.Size.height+this.options.verticalSeparation}},layoutRight:function(H){this.setChildrenDirection(this.center,"Right",false);this.setChildrenLayout(this.center,"Default",false);var D=0,G=0,E,C,B;for(C=0;C<H.length;C++){B=H[C];B.TreeDirection="Right";var I=this.measure(B,v.Empty);G=Math.max(G,I.Width);D+=I.height+this.options.verticalSeparation}D-=this.options.verticalSeparation;var F=this.center.x+this.options.horizontalSeparation+this.center.width;E=this.center.y+((this.center.height-D)/2);for(C=0;C<H.length;C++){B=H[C];var A=new z(F,E);this.arrange(B,A);E+=B.Size.height+this.options.verticalSeparation}},layoutUp:function(B){this.setChildrenDirection(this.center,"Up",false);this.setChildrenLayout(this.center,"Default",false);var C=0,H,F,D;for(D=0;D<B.length;D++){F=B[D];F.TreeDirection="Up";var E=this.measure(F,v.Empty);C+=E.width+this.options.horizontalSeparation}C-=this.options.horizontalSeparation;var A=this.center.x+(this.center.width/2)-(C/2);for(D=0;D<B.length;D++){F=B[D];H=this.center.y-this.options.verticalSeparation-F.Size.height;var G=new z(A,H);this.arrange(F,G);A+=F.Size.width+this.options.horizontalSeparation}},layoutDown:function(H){var E,C;this.setChildrenDirection(this.center,"Down",false);this.setChildrenLayout(this.center,"Default",false);var B=0,G;for(C=0;C<H.length;C++){E=H[C];E.treeDirection="Down";var D=this.measure(E,v.Empty);B+=D.width+this.options.horizontalSeparation}B-=this.options.horizontalSeparation;var A=this.center.x+(this.center.width/2)-(B/2);G=this.center.y+this.options.verticalSeparation+this.center.height;for(C=0;C<H.length;C++){E=H[C];var F=new z(A,G);this.arrange(E,F);A+=E.Size.width+this.options.horizontalSeparation}},layoutRadialTree:function(){this.setChildrenDirection(this.center,"Radial",false);this.setChildrenLayout(this.center,"Default",false);this.previousRoot=null;var B=this.options.startRadialAngle*n;var A=this.options.endRadialAngle*n;if(A<=B){throw"Final angle should not be less than the start angle."}this.maxDepth=0;this.origin=new z(this.center.x,this.center.y);this.calculateAngularWidth(this.center,0);if(this.maxDepth>0){this.radialLayout(this.center,this.options.radialFirstLevelSeparation,B,A)}this.center.Angle=A-B},tipOverTree:function(H,B){if(b.isUndefined(B)){B=0}this.setChildrenDirection(this.center,"Down",false);this.setChildrenLayout(this.center,"Default",false);this.setChildrenLayout(this.center,"Underneath",false,B);var G=0,E,C,D;for(D=0;D<H.length;D++){C=H[D];C.TreeDirection="Down";var I=this.measure(C,v.Empty);G+=I.width+this.options.horizontalSeparation}G-=this.options.horizontalSeparation;G-=H[H.length-1].width;G+=H[H.length-1].associatedShape.bounds().width;var F=this.center.x+(this.center.width/2)-(G/2);E=this.center.y+this.options.verticalSeparation+this.center.height;for(D=0;D<H.length;D++){C=H[D];var A=new z(F,E);this.arrange(C,A);F+=C.Size.width+this.options.horizontalSeparation}},calculateAngularWidth:function(C,G){if(G>this.maxDepth){this.maxDepth=G}var A=0,H=1000,E=1000,I=G===0?0:Math.sqrt((H*H)+(E*E))/G;if(C.children.length>0){for(var D=0,F=C.children.length;D<F;D++){var B=C.children[D];A+=this.calculateAngularWidth(B,G+1)}A=Math.max(I,A)}else{A=I}C.sectorAngle=A;return A},sortChildren:function(E){var F=0,J;if(E.parents.length>1){throw"Node is not part of a tree."}var B=E.parents[0];if(B){var I=new z(B.x,B.y);var A=new z(E.x,E.y);F=this.normalizeAngle(Math.atan2(I.y-A.y,I.x-A.x))}var K=E.children.length;if(K===0){return null}var H=[];var M=[];for(J=0;J<K;++J){var L=E.children[J];var G=new z(L.x,L.y);M[J]=J;H[J]=this.normalizeAngle(-F+Math.atan2(G.y-G.y,G.x-G.x))}b.bisort(H,M);var D=[];var C=E.children;for(J=0;J<K;++J){D.push(C[M[J]])}return D},normalizeAngle:function(A){while(A>Math.PI*2){A-=2*Math.PI}while(A<0){A+=Math.PI*2}return A},radialLayout:function(C,G,I,B){var N=B-I;var L=N/2;var M=C.sectorAngle;var K=0;var H=this.sortChildren(C);for(var E=0,F=H.length;E<F;E++){var A=H[E];var J=A;var D=J.sectorAngle/M;if(A.children.length>0){this.radialLayout(A,G+this.options.radialSeparation,I+(K*N),I+((K+D)*N))}this.setPolarLocation(A,G,I+(K*N)+(D*L));J.angle=D*N;K+=D}},setPolarLocation:function(B,A,C){B.x=this.origin.x+(A*Math.cos(C));B.y=this.origin.y+(A*Math.sin(C));B.BoundingRectangle=new f(B.x,B.y,B.width,B.height)},setChildrenDirection:function(C,D,B){var A=C.treeDirection;this.graph.depthFirstTraversal(C,function(E){E.treeDirection=D});if(!B){C.treeDirection=A}},setChildrenLayout:function(E,D,B,C){if(b.isUndefined(C)){C=0}var A=E.childrenLayout;if(C>0){this.graph.assignLevels(E);this.graph.depthFirstTraversal(E,function(F){if(F.level>=C+1){F.childrenLayout=D}})}else{this.graph.depthFirstTraversal(E,function(F){F.childrenLayout=D});if(!B){E.childrenLayout=A}}},measure:function(B,E){var J=0,F=0,K;var L=new v(0,0);if(!B){throw""}var H=B.associatedShape.bounds();var G=H.width;var C=H.height;if(B.parents.length!==1){throw"Node not in a spanning tree."}var I=B.parents[0];if(B.treeDirection==="Undefined"){B.treeDirection=I.treeDirection}if(b.isEmpty(B.children)){L=new v(Math.abs(G)<r?50:G,Math.abs(C)<r?25:C)}else{if(B.children.length===1){switch(B.treeDirection){case"Radial":K=this.measure(B.children[0],E);J=G+(this.options.radialSeparation*Math.cos(B.AngleToParent))+K.width;F=C+Math.abs(this.options.radialSeparation*Math.sin(B.AngleToParent))+K.height;break;case"Left":case"Right":switch(B.childrenLayout){case"TopAlignedWithParent":break;case"BottomAlignedWithParent":break;case"Underneath":K=this.measure(B.children[0],E);J=G+K.width+this.options.underneathHorizontalOffset;F=C+this.options.underneathVerticalTopOffset+K.height;break;case"Default":K=this.measure(B.children[0],E);J=G+this.options.horizontalSeparation+K.width;F=Math.max(C,K.height);break;default:throw"Unhandled TreeDirection in the Radial layout measuring."}break;case"Up":case"Down":switch(B.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":K=this.measure(B.children[0],E);J=Math.max(G,K.width+this.options.underneathHorizontalOffset);F=C+this.options.underneathVerticalTopOffset+K.height;break;case"Default":K=this.measure(B.children[0],E);F=C+this.options.verticalSeparation+K.height;J=Math.max(G,K.width);break;default:throw"Unhandled TreeDirection in the Down layout measuring."}break;default:throw"Unhandled TreeDirection in the layout measuring."}L=new v(J,F)}else{var D,A;switch(B.treeDirection){case"Left":case"Right":switch(B.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":J=G;F=C+this.options.underneathVerticalTopOffset;for(D=0;D<B.children.length;D++){A=B.children[D];K=this.measure(A,E);J=Math.max(J,K.width+this.options.underneathHorizontalOffset);F+=K.height+this.options.underneathVerticalSeparation}F-=this.options.underneathVerticalSeparation;break;case"Default":J=G;F=0;for(D=0;D<B.children.length;D++){A=B.children[D];K=this.measure(A,E);J=Math.max(J,G+this.options.horizontalSeparation+K.width);F+=K.height+this.options.verticalSeparation}F-=this.options.verticalSeparation;break;default:throw"Unhandled TreeDirection in the Right layout measuring."}break;case"Up":case"Down":switch(B.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":J=G;F=C+this.options.underneathVerticalTopOffset;for(D=0;D<B.children.length;D++){A=B.children[D];K=this.measure(A,E);J=Math.max(J,K.width+this.options.underneathHorizontalOffset);F+=K.height+this.options.underneathVerticalSeparation}F-=this.options.underneathVerticalSeparation;break;case"Default":J=0;F=0;for(D=0;D<B.children.length;D++){A=B.children[D];K=this.measure(A,E);J+=K.width+this.options.horizontalSeparation;F=Math.max(F,K.height+this.options.verticalSeparation+C)}J-=this.options.horizontalSeparation;break;default:throw"Unhandled TreeDirection in the Down layout measuring."}break;default:throw"Unhandled TreeDirection in the layout measuring."}L=new v(J,F)}}B.SectorAngle=Math.sqrt((J*J/4)+(F*F/4));B.Size=L;return L},arrange:function(D,A){var H,C,B,F,E,L=D.associatedShape.bounds();var J=L.width;var G=L.height;if(b.isEmpty(D.children)){D.x=A.x;D.y=A.y;D.BoundingRectangle=new f(A.x,A.y,J,G)}else{var M,K;var I;switch(D.treeDirection){case"Left":switch(D.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":I=A;D.x=I.x;D.y=I.y;D.BoundingRectangle=new f(D.x,D.y,D.width,D.height);K=A.y+G+this.options.underneathVerticalTopOffset;for(H=0;H<F.children.length;H++){F=F.children[H];M=I.x-F.associatedShape.width-this.options.underneathHorizontalOffset;C=new z(M,K);this.arrange(F,C);K+=F.Size.height+this.options.underneathVerticalSeparation}break;case"Default":I=new z(A.x+D.Size.width-J,A.y+((D.Size.height-G)/2));D.x=I.x;D.y=I.y;D.BoundingRectangle=new f(D.x,D.y,D.width,D.height);M=I.x-this.options.horizontalSeparation;K=A.y;for(H=0;H<D.children.length;H++){F=D.children[H];C=new z(M-F.Size.width,K);this.arrange(F,C);K+=F.Size.height+this.options.verticalSeparation}break;default:throw"Unsupported TreeDirection"}break;case"Right":switch(D.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":I=A;D.x=I.x;D.y=I.y;D.BoundingRectangle=new f(D.x,D.y,D.width,D.height);M=A.x+J+this.options.underneathHorizontalOffset;K=A.y+G+this.options.underneathVerticalTopOffset;for(H=0;H<D.children.length;H++){F=D.children[H];C=new z(M,K);this.arrange(F,C);K+=F.Size.height+this.options.underneathVerticalSeparation}break;case"Default":I=new z(A.x,A.y+((D.Size.height-G)/2));D.x=I.x;D.y=I.y;D.BoundingRectangle=new f(D.x,D.y,D.width,D.height);M=A.x+J+this.options.horizontalSeparation;K=A.y;for(H=0;H<D.children.length;H++){F=D.children[H];C=new z(M,K);this.arrange(F,C);K+=F.Size.height+this.options.verticalSeparation}break;default:throw"Unsupported TreeDirection"}break;case"Up":I=new z(A.x+((D.Size.width-J)/2),A.y+D.Size.height-G);D.x=I.x;D.y=I.y;D.BoundingRectangle=new f(D.x,D.y,D.width,D.height);if(Math.abs(I.x-A.x)<r){E=0;for(H=0;H<D.children.length;H++){B=D.children[H];E+=B.Size.width+this.options.horizontalSeparation}E-=this.options.horizontalSeparation;M=A.x+((J-E)/2)}else{M=A.x}for(H=0;H<D.children.length;H++){F=D.children[H];K=I.y-this.options.verticalSeparation-F.Size.height;C=new z(M,K);this.arrange(F,C);M+=F.Size.width+this.options.horizontalSeparation}break;case"Down":switch(D.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":I=A;D.x=I.x;D.y=I.y;D.BoundingRectangle=new f(D.x,D.y,D.width,D.height);M=A.x+this.options.underneathHorizontalOffset;K=A.y+G+this.options.underneathVerticalTopOffset;for(H=0;H<D.children.length;H++){F=D.children[H];C=new z(M,K);this.arrange(F,C);K+=F.Size.height+this.options.underneathVerticalSeparation}break;case"Default":I=new z(A.x+((D.Size.width-J)/2),A.y);D.x=I.x;D.y=I.y;D.BoundingRectangle=new f(D.x,D.y,D.width,D.height);if(Math.abs(I.x-A.x)<r){E=0;for(H=0;H<D.children.length;H++){B=D.children[H];E+=B.Size.width+this.options.horizontalSeparation}E-=this.options.horizontalSeparation;M=A.x+((J-E)/2)}else{M=A.x}for(H=0;H<D.children.length;H++){F=D.children[H];K=I.y+this.options.verticalSeparation+G;C=new z(M,K);this.arrange(F,C);M+=F.Size.width+this.options.horizontalSeparation}break;default:throw"Unsupported TreeDirection"}break;case"None":break;default:throw"Unsupported TreeDirection"}}},layoutSwitch:function(){if(!this.center){return}if(b.isEmpty(this.center.children)){return}var E=this.options.subtype;if(b.isUndefined(E)){E="Down"}var F,D,C,A;var B=this.center.children;switch(E.toLowerCase()){case"radial":case"radialtree":this.layoutRadialTree();break;case"mindmaphorizontal":case"mindmap":F=this.center.children;if(this.center.children.length===1){this.layoutRight(F)}else{A=B.length/2;D=l(this.center.children,function(G){return b.indexOf(B,G)<A});C=l(this.center.children,function(G){return b.indexOf(B,G)>=A});this.layoutLeft(D);this.layoutRight(C)}break;case"mindmapvertical":F=this.center.children;if(this.center.children.length===1){this.layoutDown(F)}else{A=B.length/2;D=l(this.center.children,function(G){return b.indexOf(B,G)<A});C=l(this.center.children,function(G){return b.indexOf(B,G)>=A});this.layoutUp(D);this.layoutDown(C)}break;case"right":this.layoutRight(this.center.children);break;case"left":this.layoutLeft(this.center.children);break;case"up":case"bottom":this.layoutUp(this.center.children);break;case"down":case"top":this.layoutDown(this.center.children);break;case"tipover":case"tipovertree":if(this.options.tipOverTreeStartLevel<0){throw"The tip-over level should be a positive integer."}this.tipOverTree(this.center.children,this.options.tipOverTreeStartLevel);break;case"undefined":case"none":break}}});var k=m.extend({init:function(A){var B=this;m.fn.init.call(B);if(b.isUndefined(A)){throw"No diagram specified."}this.diagram=A},layout:function(C){this.transferOptions(C);var B=new c(this.diagram);this.graph=B.convert();var A=this.layoutComponents();return new x.LayoutState(this.diagram,A)},layoutComponents:function(){if(this.graph.isEmpty()){return}var H=this.graph.getConnectedComponents();if(b.isEmpty(H)){return}var G=new h(this.options);var E=[];for(var F=0;F<H.length;F++){var D=H[F];var C=this.getTree(D);if(!C){throw"Failed to find a spanning tree for the component."}var B=C.root;var A=C.tree;G.layout(A,B);E.push(A)}return this.gridLayoutComponents(E)},getTree:function(F){var B=null;if(this.options.roots&&this.options.roots.length>0){for(var D=0,A=F.nodes.length;D<A;D++){var E=F.nodes[D];for(var C=0;C<this.options.roots.length;C++){var G=this.options.roots[C];if(G===E.associatedShape){B=E;break}}}}if(!B){B=F.root();if(!B){throw"Unable to find a root for the tree."}}return this.getTreeForRoot(F,B)},getTreeForRoot:function(C,B){var A=C.getSpanningTree(B);if(b.isUndefined(A)||A.isEmpty()){return null}return{tree:A,root:A.root}}});var s=m.extend({init:function(A){var B=this;m.fn.init.call(B);if(b.isUndefined(A)){throw"Diagram is not specified."}this.diagram=A},layout:function(D){this.transferOptions(D);var B=new c(this.diagram);var G=B.convert(D);if(G.isEmpty()){return}var F=G.getConnectedComponents();if(b.isEmpty(F)){return}for(var E=0;E<F.length;E++){var C=F[E];this.layoutGraph(C,D)}var A=this.gridLayoutComponents(F);return new x.LayoutState(this.diagram,A)},_initRuntimeProperties:function(){for(var A=0;A<this.graph.nodes.length;A++){var B=this.graph.nodes[A];B.layer=-1;B.downstreamLinkCount=0;B.upstreamLinkCount=0;B.isVirtual=false;B.uBaryCenter=0;B.dBaryCenter=0;B.upstreamPriority=0;B.downstreamPriority=0;B.gridPosition=0}},_prepare:function(M){var J=[],E,D,L;for(D=0;D<M.links.length;D++){M.links[D].depthOfDumminess=0}var N=new w();b.forEach(M.nodes,function(O){if(O.incoming.length===0){N.set(O,0);J.push(O)}});while(J.length>0){var G=J.shift();for(E=0;E<G.outgoing.length;E++){L=G.outgoing[E];var K=L.target;if(N.containsKey(K)){N.set(K,Math.max(N.get(G)+1,N.get(K)))}else{N.set(K,N.get(G)+1)}if(!i(J,K)){J.push(K)}}}var I=0;N.forEachValue(function(O){I=Math.max(I,O)});var B=[];b.addRange(B,N.keys());B.sort(function(R,Q){var P=N.get(R);var O=N.get(Q);return b.sign(O-P)});for(var A=0;A<B.length;++A){var C=B[A];var F=Number.MAX_VALUE;if(C.outgoing.length===0){continue}for(D=0;D<C.outgoing.length;++D){L=C.outgoing[D];F=Math.min(F,N.get(L.target))}if(F>1){N.set(C,F-1)}}this.layers=[];for(E=0;E<I+1;E++){this.layers.push([])}N.forEach(function(P,O){P.layer=O;this.layers[O].push(P)},this);for(D=0;D<this.layers.length;D++){var H=this.layers[D];for(E=0;E<H.length;E++){H[E].gridPosition=E}}},layoutGraph:function(C,A){if(b.isUndefined(C)){throw"No graph given or graph analysis of the diagram failed."}if(b.isDefined(A)){this.transferOptions(A)}this.graph=C;C.setItemIndices();var B=C.makeAcyclic();this._initRuntimeProperties();this._prepare(C,A);this._dummify();this._optimizeCrossings();this._swapPairs();this.arrangeNodes();this._moveThingsAround();this._dedummify();b.forEach(B,function(D){if(D.points){D.points.reverse()}})},setMinDist:function(A,E,C){var B=A.layer;var D=A.layerIndex;this.minDistances[B][D]=C},getMinDist:function(B,A){var H=0,F=B.layerIndex,C=A.layerIndex,D=B.layer,G=Math.min(F,C),I=Math.max(F,C);for(var E=G;E<I;++E){H+=this.minDistances[D][E]}return H},placeLeftToRight:function(E){var F=new w(),B,C;for(var K=0;K<this.layers.length;++K){var H=E[K];if(!H){continue}for(B=0;B<H.length;B++){C=H[B];if(!F.containsKey(C)){this.placeLeft(C,F,K)}}var J=Number.POSITIVE_INFINITY;for(B=0;B<H.length;B++){C=H[B];var G=this.rightSibling(C);if(G&&this.nodeLeftClass.get(G)!==K){J=Math.min(J,F.get(G)-F.get(C)-this.getMinDist(C,G))}}if(J===Number.POSITIVE_INFINITY){var A=[];for(B=0;B<H.length;B++){C=H[B];var M=[];b.addRange(M,this.upNodes.get(C));b.addRange(M,this.downNodes.get(C));for(var I=0;I<M.length;I++){var L=M[I];if(this.nodeLeftClass.get(L)<K){A.push(F.get(L)-F.get(C))}}}A.sort();if(A.length===0){J=0}else{if(A.length%2===1){J=A[this.intDiv(A.length,2)]}else{J=(A[this.intDiv(A.length,2)-1]+A[this.intDiv(A.length,2)])/2}}}for(B=0;B<H.length;B++){C=H[B];F.set(C,F.get(C)+J)}}return F},placeRightToLeft:function(K){var H=new w(),C,E;for(var J=0;J<this.layers.length;++J){var F=K[J];if(!F){continue}for(C=0;C<F.length;C++){E=F[C];if(!H.containsKey(E)){this.placeRight(E,H,J)}}var I=Number.NEGATIVE_INFINITY;for(C=0;C<F.length;C++){E=F[C];var B=this.leftSibling(E);if(B&&this.nodeRightClass.get(B)!==J){I=Math.max(I,H.get(B)-H.get(E)+this.getMinDist(B,E))}}if(I===Number.NEGATIVE_INFINITY){var A=[];for(C=0;C<F.length;C++){E=F[C];var M=[];b.addRange(M,this.upNodes.get(E));b.addRange(M,this.downNodes.get(E));for(var G=0;G<M.length;G++){var L=M[G];if(this.nodeRightClass.get(L)<J){A.push(H.get(E)-H.get(L))}}}A.sort();if(A.length===0){I=0}else{if(A.length%2===1){I=A[this.intDiv(A.length,2)]}else{I=(A[this.intDiv(A.length,2)-1]+A[this.intDiv(A.length,2)])/2}}}for(C=0;C<F.length;C++){E=F[C];H.set(E,H.get(E)+I)}}return H},_getLeftWing:function(){var B={value:null};var A=this.computeClasses(B,1);this.nodeLeftClass=B.value;return A},_getRightWing:function(){var B={value:null};var A=this.computeClasses(B,-1);this.nodeRightClass=B.value;return A},computeClasses:function(C,J){var L=0,A=C.value=new w();for(var F=0;F<this.layers.length;++F){L=F;var I=this.layers[F];for(var D=J===1?0:I.length-1;0<=D&&D<I.length;D+=J){var E=I[D];if(!A.containsKey(E)){A.set(E,L);if(E.isVirtual){var K=this._nodesInLink(E);for(var B=0;B<K.length;B++){var M=K[B];A.set(M,L)}}}else{L=A.get(E)}}}var G=[];for(var H=0;H<this.layers.length;H++){G.push(null)}A.forEach(function(O,N){if(G[N]===null){G[N]=[]}G[N].push(O)});return G},_isVerticalLayout:function(){return this.options.subtype.toLowerCase()==="up"||this.options.subtype.toLowerCase()==="down"||this.options.subtype.toLowerCase()==="vertical"},_isHorizontalLayout:function(){return this.options.subtype.toLowerCase()==="right"||this.options.subtype.toLowerCase()==="left"||this.options.subtype.toLowerCase()==="horizontal"},_isIncreasingLayout:function(){return this.options.subtype.toLowerCase()==="right"||this.options.subtype.toLowerCase()==="down"},_moveThingsAround:function(){var W,T,Q,ab,O,I;for(T=0;T<this.layers.length;++T){ab=this.layers[T];ab.sort(this._gridPositionComparer)}this.minDistances=[];for(T=0;T<this.layers.length;++T){ab=this.layers[T];this.minDistances[T]=[];for(O=0;O<ab.length;++O){Q=ab[O];Q.layerIndex=O;this.minDistances[T][O]=this.options.nodeDistance;if(O<ab.length-1){if(this._isVerticalLayout()){this.minDistances[T][O]+=(Q.width+ab[O+1].width)/2}else{this.minDistances[T][O]+=(Q.height+ab[O+1].height)/2}}}}this.downNodes=new w();this.upNodes=new w();b.forEach(this.graph.nodes,function(ac){this.downNodes.set(ac,[]);this.upNodes.set(ac,[])},this);b.forEach(this.graph.links,function(af){var ad=af.source;var ae=af.target;var ag=null,ac=null;if(ad.layer>ae.layer){ag=af.source;ac=af.target}else{ac=af.source;ag=af.target}this.downNodes.get(ac).push(ag);this.upNodes.get(ag).push(ac)},this);this.downNodes.forEachValue(function(ac){ac.sort(this._gridPositionComparer)},this);this.upNodes.forEachValue(function(ac){ac.sort(this._gridPositionComparer)},this);for(T=0;T<this.layers.length-1;++T){ab=this.layers[T];for(I=0;I<ab.length-1;I++){var B=ab[I];if(!B.isVirtual){continue}var aa=this.downNodes.get(B)[0];if(!aa.isVirtual){continue}for(O=I+1;O<ab.length;++O){Q=ab[O];if(!Q.isVirtual){continue}var R=this.downNodes.get(Q)[0];if(!R.isVirtual){continue}if(aa.gridPosition>R.gridPosition){var G=aa.gridPosition;aa.gridPosition=R.gridPosition;R.gridPosition=G;var S=aa.layerIndex;var P=R.layerIndex;this.layers[T+1][S]=R;this.layers[T+1][P]=aa;aa.layerIndex=P;R.layerIndex=S}}}}var K=this._getLeftWing();var D=this._getRightWing();var N=this.placeLeftToRight(K);var X=this.placeRightToLeft(D);var H=new w();b.forEach(this.graph.nodes,function(ac){H.set(ac,(N.get(ac)+X.get(ac))/2)});var U=new w();var Z=new w();for(T=0;T<this.layers.length;++T){ab=this.layers[T];var V=-1,C=-1;for(O=0;O<ab.length;++O){Q=ab[O];U.set(Q,0);Z.set(Q,false);if(Q.isVirtual){if(V===-1){V=O}else{if(V===O-1){V=O}else{C=O;U.set(ab[V],0);if(H.get(Q)-H.get(ab[V])===this.getMinDist(ab[V],Q)){Z.set(ab[V],true)}else{Z.set(ab[V],false)}V=O}}}}}var J=[1,-1];b.forEach(J,function(ai){var ac=ai===1?0:this.layers.length-1;for(var ae=ac;0<=ae&&ae<this.layers.length;ae+=ai){var ag=this.layers[ae];var aj=this._firstVirtualNode(ag);var ah=null;var af=null;if(aj!==-1){ah=ag[aj];af=[];for(W=0;W<aj;W++){af.push(ag[W])}}else{ah=null;af=ag}if(af.length>0){this._sequencer(H,null,ah,ai,af);for(W=0;W<af.length-1;++W){this.setMinDist(af[W],af[W+1],H.get(af[W+1])-H.get(af[W]))}if(ah){this.setMinDist(af[af.length-1],ah,H.get(ah)-H.get(af[af.length-1]))}}while(ah){var ak=this.nextVirtualNode(ag,ah);if(!ak){aj=ah.layerIndex;af=[];for(W=aj+1;W<ag.length;W++){af.push(ag[W])}if(af.length>0){this._sequencer(H,ah,null,ai,af);for(W=0;W<af.length-1;++W){this.setMinDist(af[W],af[W+1],H.get(af[W+1])-H.get(af[W]))}this.setMinDist(ah,af[0],H.get(af[0])-H.get(ah))}}else{if(U.get(ah)===ai){aj=ah.layerIndex;var ad=ak.layerIndex;af=[];for(W=aj+1;W<ad;W++){af.push(ag[W])}if(af.length>0){this._sequencer(H,ah,ak,ai,af)}Z.set(ah,true)}}ah=ak}this.adjustDirections(ae,ai,U,Z)}},this);var A=this._isIncreasingLayout()?0:this.layers.length-1;var M=function(ad,ac){if(ac._isIncreasingLayout()){return ad<ac.layers.length}else{return ad>=0}};var Y=this._isIncreasingLayout()?+1:-1,F=0;function E(ae,ad){var ac=Number.MIN_VALUE;for(var ag=0;ag<ae.length;++ag){var af=ae[ag];if(ad._isVerticalLayout()){ac=Math.max(ac,af.height)}else{ac=Math.max(ac,af.width)}}return ac}for(W=A;M(W,this);W+=Y){ab=this.layers[W];var L=E(ab,this);for(O=0;O<ab.length;++O){Q=ab[O];if(this._isVerticalLayout()){Q.x=H.get(Q);Q.y=F+L/2}else{Q.x=F+L/2;Q.y=H.get(Q)}}F+=this.options.layerSeparation+L}},adjustDirections:function(K,Q,M,P){if(K+Q<0||K+Q>=this.layers.length){return}var D=null,O=null;var R=this.layers[K+Q];for(var H=0;H<R.length;++H){var E=R[H];if(E.isVirtual){var G=this.getNeighborOnLayer(E,K);if(G.isVirtual){if(D){var F=P.get(O);var C=this.layers[K];var J=O.layerIndex;var I=G.layerIndex;for(var N=J+1;N<I;++N){if(C[N].isVirtual){F=F&&P.get(C[N])}}if(F){M.set(D,Q);var B=D.layerIndex;var A=E.layerIndex;for(var L=B+1;L<A;++L){if(R[L].isVirtual){M.set(R[L],Q)}}}}D=E;O=G}}}},getNeighborOnLayer:function(B,A){var C=this.upNodes.get(B)[0];if(C.layer===A){return C}C=this.downNodes.get(B)[0];if(C.layer===A){return C}return null},_sequencer:function(A,G,E,B,F){if(F.length===1){this._sequenceSingle(A,G,E,B,F[0])}if(F.length>1){var D=F.length,C=this.intDiv(D,2);this._sequencer(A,G,E,B,F.slice(0,C));this._sequencer(A,G,E,B,F.slice(C));this.combineSequences(A,G,E,B,F)}},_sequenceSingle:function(A,G,E,B,D){var C=B===-1?this.downNodes.get(D):this.upNodes.get(D);var F=C.length;if(F!==0){if(F%2===1){A.set(D,A.get(C[this.intDiv(F,2)]))}else{A.set(D,(A.get(C[this.intDiv(F,2)-1])+A.get(C[this.intDiv(F,2)]))/2)}if(G){A.set(D,Math.max(A.get(D),A.get(G)+this.getMinDist(G,D)))}if(E){A.set(D,Math.min(A.get(D),A.get(E)-this.getMinDist(D,E)))}}},combineSequences:function(G,C,A,L,F){var J=F.length,I=this.intDiv(J,2);var B=[],Q,R,N,P,E,M;for(Q=0;Q<I;++Q){R=0;P=L===-1?this.downNodes.get(F[Q]):this.upNodes.get(F[Q]);for(N=0;N<P.length;++N){E=P[N];if(G.get(E)>=G.get(F[Q])){R++}else{R--;B.push({k:G.get(E)+this.getMinDist(F[Q],F[I-1]),v:2})}}B.push({k:G.get(F[Q])+this.getMinDist(F[Q],F[I-1]),v:R})}if(C){B.push({k:G.get(C)+this.getMinDist(C,F[I-1]),v:Number.MAX_VALUE})}B.sort(this._positionDescendingComparer);var K=[];for(Q=I;Q<J;++Q){R=0;P=L===-1?this.downNodes.get(F[Q]):this.upNodes.get(F[Q]);for(N=0;N<P.length;++N){E=P[N];if(G.get(E)<=G.get(F[Q])){R++}else{R--;K.push({k:G.get(E)-this.getMinDist(F[Q],F[I]),v:2})}}K.push({k:G.get(F[Q])-this.getMinDist(F[Q],F[I]),v:R})}if(A){K.push({k:G.get(A)-this.getMinDist(A,F[I]),v:Number.MAX_VALUE})}K.sort(this._positionAscendingComparer);var D=0,H=0;var O=this.getMinDist(F[I-1],F[I]);while(G.get(F[I])-G.get(F[I-1])<O){if(D<H){if(B.length===0){G.set(F[I-1],G.get(F[I])-O);break}else{M=B.shift();D=D+M.v;G.set(F[I-1],M.k);G.set(F[I-1],Math.max(G.get(F[I-1]),G.get(F[I])-O))}}else{if(K.length===0){G.set(F[I],G.get(F[I-1])+O);break}else{M=K.shift();H=H+M.v;G.set(F[I],M.k);G.set(F[I],Math.min(G.get(F[I]),G.get(F[I-1])+O))}}}for(Q=I-2;Q>=0;Q--){G.set(F[Q],Math.min(G.get(F[Q]),G.get(F[I-1])-this.getMinDist(F[Q],F[I-1])))}for(Q=I+1;Q<J;Q++){G.set(F[Q],Math.max(G.get(F[Q]),G.get(F[I])+this.getMinDist(F[Q],F[I])))}},placeLeft:function(B,A,C){var D=Number.NEGATIVE_INFINITY;b.forEach(this._getComposite(B),function(F){var E=this.leftSibling(F);if(E&&this.nodeLeftClass.get(E)===this.nodeLeftClass.get(F)){if(!A.containsKey(E)){this.placeLeft(E,A,C)}D=Math.max(D,A.get(E)+this.getMinDist(E,F))}},this);if(D===Number.NEGATIVE_INFINITY){D=0}b.forEach(this._getComposite(B),function(E){A.set(E,D)})},placeRight:function(C,B,A){var D=Number.POSITIVE_INFINITY;b.forEach(this._getComposite(C),function(E){var F=this.rightSibling(E);if(F&&this.nodeRightClass.get(F)===this.nodeRightClass.get(E)){if(!B.containsKey(F)){this.placeRight(F,B,A)}D=Math.min(D,B.get(F)-this.getMinDist(E,F))}},this);if(D===Number.POSITIVE_INFINITY){D=0}b.forEach(this._getComposite(C),function(E){B.set(E,D)})},leftSibling:function(C){var B=this.layers[C.layer],A=C.layerIndex;return A===0?null:B[A-1]},rightSibling:function(C){var B=this.layers[C.layer];var A=C.layerIndex;return A===B.length-1?null:B[A+1]},_getComposite:function(A){return A.isVirtual?this._nodesInLink(A):[A]},arrangeNodes:function(){var D,A,C,B,G;for(A=0;A<this.layers.length;A++){B=this.layers[A];for(C=0;C<B.length;C++){G=B[C];G.upstreamPriority=G.upstreamLinkCount;G.downstreamPriority=G.downstreamLinkCount}}var F=2;for(var E=0;E<F;E++){for(D=this.layers.length-1;D>=1;D--){this.layoutLayer(false,D)}for(D=0;D<this.layers.length-1;D++){this.layoutLayer(true,D)}}var H=Number.MAX_VALUE;for(A=0;A<this.layers.length;A++){B=this.layers[A];for(C=0;C<B.length;C++){G=B[C];H=Math.min(H,G.gridPosition)}}if(H<0){for(A=0;A<this.layers.length;A++){B=this.layers[A];for(C=0;C<B.length;C++){G=B[C];G.gridPosition=G.gridPosition-H}}}},layoutLayer:function(F,C){var B;var D;if(F){D=this.layers[B=C+1]}else{D=this.layers[B=C-1]}var A=[];for(var E=0;E<D.length;E++){A.push(D[E])}A.sort(function(H,G){var J=(H.upstreamPriority+H.downstreamPriority)/2;var I=(G.upstreamPriority+G.downstreamPriority)/2;if(Math.abs(J-I)<0.0001){return 0}if(J<I){return 1}return -1});b.forEach(A,function(J){var I=J.gridPosition;var G=this.calcBaryCenter(J);var H=(J.upstreamPriority+J.downstreamPriority)/2;if(Math.abs(I-G)<0.0001){return}if(Math.abs(I-G)<0.25+0.0001){return}if(I<G){while(I<G){if(!this.moveRight(J,D,H)){break}I=J.gridPosition}}else{while(I>G){if(!this.moveLeft(J,D,H)){break}I=J.gridPosition}}},this);if(B>0){this.calcDownData(B-1)}if(B<this.layers.length-1){this.calcUpData(B+1)}},moveRight:function(F,E,D){var C=b.indexOf(E,F);if(C===E.length-1){F.gridPosition=F.gridPosition+0.5;return true}var B=E[C+1];var A=(B.upstreamPriority+B.downstreamPriority)/2;if(B.gridPosition>F.gridPosition+1){F.gridPosition=F.gridPosition+0.5;return true}if(A>D||Math.abs(A-D)<0.0001){return false}if(this.moveRight(B,E,D)){F.gridPosition=F.gridPosition+0.5;return true}return false},moveLeft:function(E,C,B){var A=b.indexOf(C,E);if(A===0){E.gridPosition=E.gridPosition-0.5;return true}var F=C[A-1];var D=(F.upstreamPriority+F.downstreamPriority)/2;if(F.gridPosition<E.gridPosition-1){E.gridPosition=E.gridPosition-0.5;return true}if(D>B||Math.abs(D-B)<0.0001){return false}if(this.moveLeft(F,C,B)){E.gridPosition=E.gridPosition-0.5;return true}return false},mapVirtualNode:function(B,A){this.nodeToLinkMap.set(B,A);if(!this.linkToNodeMap.containsKey(A)){this.linkToNodeMap.set(A,[])}this.linkToNodeMap.get(A).push(B)},_nodesInLink:function(A){return this.linkToNodeMap.get(this.nodeToLinkMap.get(A))},_dummify:function(){this.linkToNodeMap=new w();this.nodeToLinkMap=new w();var R,D,B,L,I,O,N,M,A=this.graph.links.slice(0);for(M=0;M<A.length;M++){var F=A[M];var K=F.source;var Q=F.target;var P=K.layer;var G=Q.layer;var C=K.gridPosition;var H=Q.gridPosition;var E=(H-C)/Math.abs(G-P);var J=K;if(P-G>1){for(N=P-1;N>G;N--){B=new y();B.x=K.x;B.y=K.y;B.width=K.width/100;B.height=K.height/100;R=this.layers[N];D=(N-G)*E+C;if(D>R.length){D=R.length}if(C>=this.layers[P].length-1&&H>=this.layers[G].length-1){D=R.length}else{if(C===0&&H===0){D=0}}B.layer=N;B.uBaryCenter=0;B.dBaryCenter=0;B.upstreamLinkCount=0;B.downstreamLinkCount=0;B.gridPosition=D;B.isVirtual=true;b.insert(R,B,D);for(I=D+1;I<R.length;I++){L=R[I];L.gridPosition=L.gridPosition+1}O=new p(J,B);O.depthOfDumminess=0;J=B;this.graph.nodes.push(B);this.graph.addLink(O);B.index=this.graph.nodes.length-1;this.mapVirtualNode(B,F)}F.changeSource(J);F.depthOfDumminess=P-G-1}if(P-G<-1){for(N=P+1;N<G;N++){B=new y();B.x=K.x;B.y=K.y;B.width=K.width/100;B.height=K.height/100;R=this.layers[N];D=(N-P)*E+C;if(D>R.length){D=R.length}if(C>=this.layers[P].length-1&&H>=this.layers[G].length-1){D=R.length}else{if(C===0&&H===0){D=0}}B.layer=N;B.uBaryCenter=0;B.dBaryCenter=0;B.upstreamLinkCount=0;B.downstreamLinkCount=0;B.gridPosition=D;B.isVirtual=true;D&=D;b.insert(R,B,D);for(I=D+1;I<R.length;I++){L=R[I];L.gridPosition=L.gridPosition+1}O=new p(J,B);O.depthOfDumminess=0;J=B;this.graph.nodes.push(B);this.graph.addLink(O);B.index=this.graph.nodes.length-1;this.mapVirtualNode(B,F)}F.changeSource(J);F.depthOfDumminess=G-P-1}}},_dedummify:function(){var A=true;while(A){A=false;for(var C=0;C<this.graph.links.length;C++){var G=this.graph.links[C];if(G.depthOfDumminess===0){continue}var H=[];H.unshift({x:G.target.x,y:G.target.y});H.unshift({x:G.source.x,y:G.source.y});var I=G;var D=G.depthOfDumminess;for(var F=0;F<D;F++){var B=I.source;var E=B.incoming[0];H.unshift({x:E.source.x,y:E.source.y});I=E}G.changeSource(I.source);G.depthOfDumminess=0;if(H.length>2){H.splice(0,1);H.splice(H.length-1);G.points=H}else{G.points=[]}A=true;break}}},_optimizeCrossings:function(){var B=-1,D;var C=3;var A=0;while(B!==0){if(A++>C){break}B=0;for(D=this.layers.length-1;D>=1;D--){B+=this.optimizeLayerCrossings(false,D)}for(D=0;D<this.layers.length-1;D++){B+=this.optimizeLayerCrossings(true,D)}}},calcUpData:function(E){if(E===0){return}var H=this.layers[E],D,C,I;var A=new u();var J=this.layers[E-1];for(D=0;D<J.length;D++){A.add(J[D])}for(D=0;D<H.length;D++){var B=H[D];var F=0;var G=0;for(C=0;C<B.incoming.length;C++){I=B.incoming[C];if(A.contains(I.source)){G++;F+=I.source.gridPosition}}for(C=0;C<B.outgoing.length;C++){I=B.outgoing[C];if(A.contains(I.target)){G++;F+=I.target.gridPosition}}if(G>0){B.uBaryCenter=F/G;B.upstreamLinkCount=G}else{B.uBaryCenter=D;B.upstreamLinkCount=0}}},calcDownData:function(D){if(D===this.layers.length-1){return}var G=this.layers[D],C,B,H;var I=new u();var J=this.layers[D+1];for(C=0;C<J.length;C++){I.add(J[C])}for(C=0;C<G.length;C++){var A=G[C];var E=0;var F=0;for(B=0;B<A.incoming.length;B++){H=A.incoming[B];if(I.contains(H.source)){F++;E+=H.source.gridPosition}}for(B=0;B<A.outgoing.length;B++){H=A.outgoing[B];if(I.contains(H.target)){F++;E+=H.target.gridPosition}}if(F>0){A.dBaryCenter=E/F;A.downstreamLinkCount=F}else{A.dBaryCenter=C;A.downstreamLinkCount=0}}},optimizeLayerCrossings:function(J,G){var C;var I;if(J){I=this.layers[C=G+1]}else{I=this.layers[C=G-1]}var E=I.slice(0);if(J){this.calcUpData(C)}else{this.calcDownData(C)}var H=this;I.sort(function(N,M){var O=H.calcBaryCenter(N),L=H.calcBaryCenter(M);if(Math.abs(O-L)<0.0001){if(N.degree()===M.degree()){return H.compareByIndex(N,M)}else{if(N.degree()<M.degree()){return 1}}return -1}var K=(L-O)*1000;if(K>0){return -1}else{if(K<0){return 1}}return H.compareByIndex(N,M)});var F,A=0;for(F=0;F<I.length;F++){if(I[F]!==E[F]){A++}}if(A>0){var B=0;for(F=0;F<I.length;F++){var D=I[F];D.gridPosition=B++}}return A},_swapPairs:function(){var L=this.options.layeredIterations;var N=0;while(true){if(N++>L){break}var R=(N%4<=1);var P=(N%4===1);for(var M=(R?0:this.layers.length-1);R?M<=this.layers.length-1:M>=0;M+=(R?1:-1)){var S=this.layers[M];var E=false;var F=true;var H=0;for(var K=0;K<S.length-1;K++){var I=0;var J=0;var C=0;if(F){if(M!==0){I=this.countLinksCrossingBetweenTwoLayers(M-1,M)}if(M!==this.layers.length-1){J=this.countLinksCrossingBetweenTwoLayers(M,M+1)}if(R){I*=2}else{J*=2}C=I+J}else{C=H}if(C===0){continue}var B=S[K];var A=S[K+1];var G=B.gridPosition;var O=A.gridPosition;S[K]=A;S[K+1]=B;B.gridPosition=O;A.gridPosition=G;I=0;if(M!==0){I=this.countLinksCrossingBetweenTwoLayers(M-1,M)}J=0;if(M!==this.layers.length-1){J=this.countLinksCrossingBetweenTwoLayers(M,M+1)}if(R){I*=2}else{J*=2}var Q=I+J;var D=false;if(P){D=Q>=C}else{D=Q>C}if(D){B=S[K];A=S[K+1];G=B.gridPosition;O=A.gridPosition;S[K]=A;S[K+1]=B;B.gridPosition=O;A.gridPosition=G;H=C;F=false}else{E=true;F=true}}if(E){if(M!==this.layers.length-1){this.calcUpData(M+1)}if(M!==0){this.calcDownData(M-1)}}}}},countLinksCrossingBetweenTwoLayers:function(I,C){var S,O=0;var H=new u();var Y=this.layers[I];for(S=0;S<Y.length;S++){H.add(Y[S])}var D=new u();var X=this.layers[C];for(S=0;S<X.length;S++){D.add(X[S])}var F=new u();var B=[];var V=[];H.forEach(function(Z){b.addRange(V,Z.incoming);b.addRange(V,Z.outgoing)});for(var E=0;E<V.length;E++){var G=V[E];if(H.contains(G.source)&&D.contains(G.target)){F.add(G);B.push(G)}else{if(D.contains(G.source)&&H.contains(G.target)){B.push(G)}}}for(var R=0;R<B.length;R++){var N=B[R];for(var Q=0;Q<B.length;Q++){if(R===Q){continue}var L=B[Q];var K,J;var U,T;if(F.contains(N)){K=N.source;J=N.target}else{K=N.target;J=N.source}if(F.contains(L)){U=L.source;T=L.target}else{U=L.target;T=L.source}var W=K.gridPosition;var M=J.gridPosition;var A=U.gridPosition;var P=T.gridPosition;if((W-A)*(M-P)<0){O++}}}return O/2},calcBaryCenter:function(E){var D=E.upstreamLinkCount;var A=E.downstreamLinkCount;var C=E.uBaryCenter;var B=E.dBaryCenter;if(D>0&&A>0){return(C+B)/2}if(D>0){return C}if(A>0){return B}return 0},_gridPositionComparer:function(A,B){if(A.gridPosition<B.gridPosition){return -1}if(A.gridPosition>B.gridPosition){return 1}return 0},_positionAscendingComparer:function(A,B){return A.k<B.k?-1:A.k>B.k?1:0},_positionDescendingComparer:function(A,B){return A.k<B.k?1:A.k>B.k?-1:0},_firstVirtualNode:function(A){for(var B=0;B<A.length;B++){if(A[B].isVirtual){return B}}return -1},compareByIndex:function(D,C){var B=D.index;var A=C.index;if(B<A){return 1}if(B>A){return -1}return 0},intDiv:function(A,B){return(A-A%B)/B},nextVirtualNode:function(B,C){var D=C.layerIndex;for(var A=D+1;A<B.length;++A){if(B[A].isVirtual){return B[A]}}return null}});var j=q.Class.extend({init:function(A,B){if(b.isUndefined(A)){throw"No diagram given"}this.diagram=A;this.nodeMap=new w();this.linkMap=new w();this.capture(B?B:A)},capture:function(A){var D,B,G,F,E,H,I;if(A instanceof x.Graph){for(F=0;F<A.nodes.length;F++){D=A.nodes[F];G=D.associatedShape;this.nodeMap.set(G.visual.id,new f(D.x,D.y,D.width,D.height))}for(F=0;F<A.links.length;F++){H=A.links[F];E=H.associatedConnection;this.linkMap.set(E.visual.id,H.points())}}else{if(A instanceof Array){B=A;for(F=0;F<B.length;F++){D=B[F];G=D.associatedShape;if(G){this.nodeMap.set(G.visual.id,new f(D.x,D.y,D.width,D.height))}}}else{if(A.hasOwnProperty("links")&&A.hasOwnProperty("nodes")){B=A.nodes;I=A.links;for(F=0;F<B.length;F++){D=B[F];G=D.associatedShape;if(G){this.nodeMap.set(G.visual.id,new f(D.x,D.y,D.width,D.height))}}for(F=0;F<I.length;F++){H=I[F];E=H.associatedConnection;if(E){this.linkMap.set(E.visual.id,H.points)}}}else{var C=this.diagram.shapes;var J=this.diagram.connections;for(F=0;F<C.length;F++){G=C[F];this.nodeMap.set(G.visual.id,G.bounds())}for(F=0;F<J.length;F++){E=J[F];this.linkMap.set(E.visual.id,E.points())}}}}}});o(x,{init:function(A){q.init(A,x.ui)},SpringLayout:a,TreeLayout:k,GraphAdapter:c,LayeredLayout:s,LayoutBase:m,LayoutState:j})})(window.kendo.jQuery);(function(a8,E){var aJ=kendo.dataviz,aU=kendo.drawing,bl=kendo.geometry,o=aJ.diagram,w=kendo.ui.Widget,bf=kendo.Class,J=a8.proxy,bq=kendo.deepExtend,aO=a8.extend,an=kendo.data.HierarchicalDataSource,l=o.Canvas,aF=o.Group,aP=o.Visual,L=o.Rectangle,aG=o.Circle,c=o.CompositeTransform,O=o.Rect,aW=o.Path,aB=o.DeleteShapeUnit,bn=o.DeleteConnectionUnit,al=o.TextBlock,a6=o.Image,m=o.Point,G=o.Intersect,ac=o.ConnectionEditAdorner,bp=o.UndoRedoService,bm=o.ToolService,bd=o.Selector,aX=o.ResizingAdorner,aq=o.ConnectorsAdorner,x=o.Cursors,aI=o.Utils,W=kendo.Observable,az=o.Ticker,ad=o.ToBackUnit,au=o.ToFrontUnit,a4=o.Dictionary,H=o.PolylineRouter,br=o.CascadingRouter,ap=aI.isUndefined,aT=aI.isDefined,p=kendo.util.defined,g=a8.isArray,ba=kendo.isFunction,bi=aI.isString,P=a8.isPlainObject,aj=Math;var bg=".kendoDiagram",aM="cascading",f="polyline",r="itemBoundsChange",R="change",a7="click",K="drag",D="dragEnd",aL="dragStart",q="mouseEnter",ak="mouseLeave",Q="error",bs="Auto",u="Top",s="Right",d="Left",a9="Bottom",aS=9007199254740992,ag="select",aw="itemRotate",aA="pan",V="zoomStart",k="zoomEnd",am="k-connection",be="k-shape",I="single",aE="none",ay="multiple",t=600,bk=600,a5="rectangle",B=100,ab=100,a1=20,aH=20,ae=0,e="SteelBlue",aZ="Yellow",v=8,T="#70CAFF",av=Number.MAX_VALUE,j=-Number.MAX_VALUE,A="all",bh="absolute",a2="transformed",ai="rotated",aV="transparent",aa="width",bb="height",aD="x",aC="y",a="DOMMouseScroll"+bg+" mousewheel"+bg,bj=0.05,b=5,F='<a class="k-button k-button-icontext #=className#" href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>';o.DefaultConnectors=[{name:u},{name:a9},{name:d},{name:s},{name:bs,position:function(X){return X.getPosition("center")}}];var h={cancel:{text:"Cancel",imageClass:"k-cancel",className:"k-diagram-cancel",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-diagram-update",iconClass:"k-icon"}};o.shapeDefaults=function(X){var Y={type:a5,path:"",autoSize:true,visual:null,x:ae,y:ae,minWidth:a1,minHeight:aH,width:B,height:ab,hover:{},editable:{connect:true,tools:[]},connectors:o.DefaultConnectors,rotation:{angle:0}};aI.simpleExtend(Y,X);return Y};function z(Y){var X=Y.originalEvent,bv=0;if(X.wheelDelta){bv=-X.wheelDelta/40;bv=bv>0?aj.ceil(bv):aj.floor(bv)}else{if(X.detail){bv=X.detail}}return bv}function aR(X){return X.options.name.toLowerCase()===bs.toLowerCase()}function ax(Y,bv){var bw=aS,bA,X=bv.connectors;for(var bx=0;bx<X.length;bx++){var by=X[bx];if(!aR(by)){var bz=Y.distanceTo(by.position());if(bz<bw){bw=bz;bA=by}}}return bA}function N(bz,by){var bv,bA=[],bx;var Y=bz.drawingContainer().children;var bw=Y.length;for(bv=0;bv<by.length;bv++){bx=by[bv];for(var X=0;X<bw;X++){if(Y[X]==bx.drawingContainer()){bA.push(X);break}}}return bA}function aK(Y,bw){var X=m.parse(bw),bv;if(X){return X}bv=i.parse(Y,bw);if(bv){return bv}}var aN=W.extend({init:function(X){var Y=this;Y.dataItem=(X||{}).dataItem;W.fn.init.call(Y);Y.options=bq({id:o.randomId()},Y.options,X);Y.isSelected=false;Y.visual=new aF({id:Y.options.id,autoSize:Y.options.autoSize});Y._template()},options:{hover:{},cursor:x.grip,content:{align:"center middle"},selectable:true,serializable:true,enable:true},_getCursor:function(X){if(this.adorner){return this.adorner._getCursor(X)}return this.options.cursor},visible:function(X){if(ap(X)){return this.visual.visible()}else{this.visual.visible(X)}},bounds:function(){},refresh:function(){this.visual.redraw()},position:function(X){this.options.x=X.x;this.options.y=X.y;this.visual.position(X)},toString:function(){return this.options.id},serialize:function(){var X=bq({},{options:this.options});if(this.dataItem){X.dataItem=this.dataItem.toString()}return X},_content:function(bw){if(bw!==E){var Y=this.options;var bv=this.bounds();if(o.Utils.isString(bw)){Y.content.text=bw}else{bq(Y.content,bw)}var bx=Y.content;var X=this._contentVisual;if(!X&&bx.text){this._contentVisual=new al(bx);this._contentVisual._includeInBBox=false;this.visual.append(this._contentVisual)}else{if(X){X.redraw(bx)}}}return this.options.content.text},_hitTest:function(X){var Y=this.bounds();return this.visible()&&Y.contains(X)&&this.options.enable},_template:function(){var Y=this;if(Y.options.content.template){var bv=Y.dataItem||{},X=kendo.template(Y.options.content.template,{paramName:"dataItem"});Y.options.content.text=X(bv)}},_canSelect:function(){return this.options.selectable!==false},toJSON:function(){return{id:this.options.id}}});var i=bf.extend({init:function(X,Y){this.options=bq({},this.options,Y);this.connections=[];this.shape=X},options:{width:7,height:7,fill:{color:aZ},hover:{}},position:function(){if(this.options.position){return this.options.position(this.shape)}else{return this.shape.getPosition(this.options.name)}},toJSON:function(){return{shapeId:this.shape.toString(),connector:this.options.name}}});i.parse=function(bw,by){var Y=by.split(":"),bz=Y[0],bv=Y[1]||bs;for(var bx=0;bx<bw.shapes.length;bx++){var X=bw.shapes[bx];if(X.options.id==bz){return X.getConnector(bv.trim())}}};var S=aN.extend({init:function(Y,X){var bv=this;aN.fn.init.call(bv,Y);this.diagram=X;this.updateOptionsFromModel();Y=bv.options;bv.connectors=[];bv.type=Y.type;bv.shapeVisual=S.createShapeVisual(bv.options);bv.visual.append(this.shapeVisual);bv.updateBounds();bv.content(bv.content());bv._createConnectors();bv.parentContainer=null;bv.isContainer=false;bv.isCollapsed=false;bv.id=bv.visual.id;if(Y.hasOwnProperty("layout")&&Y.layout!==E){bv.layout=Y.layout.bind(Y)}},options:o.shapeDefaults(),_setOptionsFromModel:function(X){var Y=at(X||this.dataItem);this.options=bq({},this.options,Y);this.redrawVisual();if(this.options.content){this._template();this.content(this.options.content)}},updateOptionsFromModel:function(X,bv){if(this.diagram&&this.diagram._isEditable){var bw=at(X||this.dataItem);if(X&&bv){if(!aJ.inArray(bv,["x","y","width","height"])){if(this.options.visual){this.redrawVisual()}else{if(bw.type){this.options=bq({},this.options,bw);this.redrawVisual()}}if(this.options.content){this._template();this.content(this.options.content)}}else{var Y=this.bounds();Y[bv]=X[bv];this.bounds(Y)}}else{this.options=bq({},this.options,bw)}}},redrawVisual:function(){this.visual.clear();this._contentVisual=null;this.options.dataItem=this.dataItem;this.shapeVisual=S.createShapeVisual(this.options);this.visual.append(this.shapeVisual);this.updateBounds()},updateModel:function(bw){var Y=this.diagram;if(Y&&Y._isEditable){var bv=this._bounds;var X=this.dataItem;if(X){Y._suspendModelRefresh();if(p(X.x)&&bv.x!==X.x){X.set("x",bv.x)}if(p(X.y)&&bv.y!==X.y){X.set("y",bv.y)}if(p(X.width)&&bv.width!==X.width){X.set("width",bv.width)}if(p(X.height)&&bv.height!==X.height){X.set("height",bv.height)}this.dataItem=X;Y._resumeModelRefresh();if(bw){Y._syncShapeChanges()}}}},updateBounds:function(){var Y=this.visual._measure(true);var X=this.options;this.bounds(new O(X.x,X.y,Y.width,Y.height));this._rotate();this._alignContent()},content:function(Y){var X=this._content(Y);this._alignContent();return X},_alignContent:function(){var by=this.options.content||{};var bw=this._contentVisual;if(bw&&by.align){var Y=this.visual._measure();var bx=new o.RectAlign(Y);var bv=bw.drawingElement.bbox(null);var X=new O(0,0,bv.width(),bv.height());var bz=bx.align(X,by.align);bw.position(bz.topLeft())}},_createConnectors:function(){var Y=this.options,bw=Y.connectors.length,bx=Y.connectorDefaults,X,bv;for(bv=0;bv<bw;bv++){X=new i(this,bq({},bx,Y.connectors[bv]));this.connectors.push(X)}},bounds:function(Y){var X;if(Y){if(bi(Y)){switch(Y){case a2:X=this._transformedBounds();break;case bh:X=this._transformedBounds();var bv=this.diagram._pan;X.x+=bv.x;X.y+=bv.y;break;case ai:X=this._rotatedBounds();break;default:X=this._bounds}}else{this._setBounds(Y);this._triggerBoundsChange();this.refreshConnections()}}else{X=this._bounds}return X},_setBounds:function(by){var bv=this.options;var bx=by.topLeft();var Y=bv.x=bx.x;var bz=bv.y=bx.y;var bw=bv.width=aj.max(by.width,bv.minWidth);var X=bv.height=aj.max(by.height,bv.minHeight);this._bounds=new O(Y,bz,bw,X);this.visual.redraw({x:Y,y:bz,width:bw,height:X})},position:function(X){if(X){this.bounds(new O(X.x,X.y,this._bounds.width,this._bounds.height))}else{return this._bounds.topLeft()}},clone:function(){var X=this.serialize();X.options.id=o.randomId();if(this.diagram&&this.diagram._isEditable&&p(this.dataItem)){X.options.dataItem=aY(this.dataItem)}return new S(X.options)},select:function(bw){var X=this.diagram,Y,bv;if(ap(bw)){bw=true}if(this._canSelect()){if(this.isSelected!=bw){Y=[];bv=[];this.isSelected=bw;if(this.isSelected){X._selectedItems.push(this);Y.push(this)}else{aI.remove(X._selectedItems,this);bv.push(this)}if(!X._internalSelection){X._selectionChanged(Y,bv)}return true}}},rotate:function(bz,Y,bv){var bw=this.visual.rotate();if(bz!==E){if(bv!==false&&this.diagram&&this.diagram.undoRedoService&&bz!==bw.angle){this.diagram.undoRedoService.add(new o.RotateUnit(this.diagram._resizingAdorner,[this],[bw.angle]),false)}var X=this.bounds(),by=new m(X.width/2,X.height/2),bA,bx;if(Y){bA=bz-bw.angle;bx=X.center().rotate(Y,360-bA).minus(by);this._rotationOffset=this._rotationOffset.plus(bx.minus(X.topLeft()));this.position(bx)}this.visual.rotate(bz,by);this.options.rotation.angle=bz;if(this.diagram&&this.diagram._connectorsAdorner){this.diagram._connectorsAdorner.refresh()}this.refreshConnections();if(this.diagram){this.diagram.trigger(aw,{item:this})}}return bw},connections:function(bA){var bB=[],by,bx,bv,Y,bw;for(by=0;by<this.connectors.length;by++){bw=this.connectors[by];Y=bw.connections;for(bx=0,Y;bx<Y.length;bx++){bv=Y[bx];if(bA=="out"){var X=bv.source();if(X.shape&&X.shape==this){bB.push(bv)}}else{if(bA=="in"){var bz=bv.target();if(bz.shape&&bz.shape==this){bB.push(bv)}}else{bB.push(bv)}}}}return bB},refreshConnections:function(){a8.each(this.connections(),function(){this.refresh()})},getConnector:function(bv){var X,Y;if(bi(bv)){bv=bv.toLocaleLowerCase();for(X=0;X<this.connectors.length;X++){Y=this.connectors[X];if(Y.options.name.toLocaleLowerCase()==bv){return Y}}}else{if(bv instanceof m){return ax(bv,this)}else{return this.connectors.length?this.connectors[0]:null}}},getPosition:function(Y){var X=this.bounds(),bv=Y.charAt(0).toLowerCase()+Y.slice(1);if(ba(X[bv])){return this._transformPoint(X[bv]())}return X.center()},redraw:function(bv){if(bv){var Y=this.options;var X;this.shapeVisual.redraw(this._visualOptions(bv));if(this._diffNumericOptions(bv,[aa,bb,aD,aC])){this.bounds(new O(Y.x,Y.y,Y.width,Y.height));X=true}if(bv.connectors){Y.connectors=bv.connectors;this._updateConnectors()}Y=bq(Y,bv);if(bv.rotation||X){this._rotate()}if(Y.content){this.content(Y.content)}}},_updateConnectors:function(){var bv=this.connections();this.connectors=[];this._createConnectors();var Y;var bw;var bx;for(var X=0;X<bv.length;X++){Y=bv[X];bw=Y.source();bx=Y.target();if(bw.shape&&bw.shape===this){Y.source(this.getConnector(bw.options.name)||null)}else{if(bx.shape&&bx.shape===this){Y.target(this.getConnector(bx.options.name)||null)}}Y.updateModel()}},_diffNumericOptions:o.diffNumericOptions,_visualOptions:function(X){return{data:X.path,source:X.source,hover:X.hover,fill:X.fill,stroke:X.stroke,startCap:X.startCap,endCap:X.endCap}},_triggerBoundsChange:function(){if(this.diagram){this.diagram.trigger(r,{item:this,bounds:this._bounds.clone()})}},_transformPoint:function(X){var bv=this.rotate(),bw=this.bounds(),Y=bw.topLeft();if(bv.angle){X.rotate(bv.center().plus(Y),360-bv.angle)}return X},_transformedBounds:function(){var bv=this.bounds(),X=bv.topLeft(),Y=bv.bottomRight();return O.fromPoints(this.diagram.modelToView(X),this.diagram.modelToView(Y))},_rotatedBounds:function(){var bv=this.bounds().rotatedBounds(this.rotate().angle),X=bv.topLeft(),Y=bv.bottomRight();return O.fromPoints(X,Y)},_rotate:function(){var X=this.options.rotation;if(X&&X.angle){this.rotate(X.angle)}this._rotationOffset=new m()},_hover:function(bv){var X=this.options,Y=X.hover,bx=X.stroke,bw=X.fill;if(bv&&aT(Y.stroke)){bx=bq({},bx,Y.stroke)}if(bv&&aT(Y.fill)){bw=Y.fill}this.shapeVisual.redraw({stroke:bx,fill:bw});if(X.editable&&X.editable.connect){this.diagram._showConnectors(this,bv)}},_hitTest:function(bv){if(this.visible()){var Y=this.bounds(),X,bw=this.rotate().angle;if(bv.isEmpty&&!bv.isEmpty()){return G.rects(bv,Y,bw?bw:0)}else{X=bv.clone().rotate(Y.center(),bw);if(Y.contains(X)){return this}}}},toJSON:function(){return{shapeId:this.options.id}}});S.createShapeVisual=function(bv){var Y=bv.diagram;delete bv.diagram;var bx=bq({},bv,{x:0,y:0});var by=bx.visual;var bw=(bx.type+"").toLocaleLowerCase();var X;if(ba(by)){X=by.call(this,bx)}else{if(bx.path){bx.data=bx.path;X=new aW(bx);ao(X)}else{if(bw=="rectangle"){X=new L(bx)}else{if(bw=="circle"){X=new aG(bx)}else{if(bw=="text"){X=new al(bx)}else{if(bw=="image"){X=new a6(bx)}else{X=new aW(bx)}}}}}}return X};function ao(X){var Y=X.drawingContainer().clippedBBox(null);if(Y.origin.x!==0||Y.origin.y!==0){X.position(-Y.origin.x,-Y.origin.y)}}var af=aN.extend({init:function(bw,bv,X){var Y=this;aN.fn.init.call(Y,X);this.updateOptionsFromModel();this._initRouter();Y.path=new o.Polyline(Y.options);Y.path.fill(aV);Y.visual.append(Y.path);Y._sourcePoint=Y._targetPoint=new m();Y.source(bw);Y.target(bv);Y.content(Y.options.content);Y.definers=[];if(p(X)&&X.points){Y.points(X.points)}Y.refresh()},options:{hover:{stroke:{}},startCap:aE,endCap:aE,points:[],selectable:true},_setOptionsFromModel:function(X){this.updateOptionsFromModel(X||this.dataItem)},updateOptionsFromModel:function(bv){if(this.diagram&&this.diagram._isEditable){var X=this.diagram._dataMap;var Y=y(bv||this.dataItem);if(bv){if(p(Y.from)){this.source(X[Y.from])}else{if(p(Y.fromX)&&p(Y.fromY)){this.source(new m(Y.fromX,Y.fromY))}}if(p(Y.to)){this.target(X[Y.to])}else{if(p(Y.toX)&&p(Y.toY)){this.target(new m(Y.toX,Y.toY))}}if(p(Y.type)&&this.type()!==Y.type){this.points([]);this.type(Y.type)}this.dataItem=bv;this._template();this.redraw(this.options)}else{this.options=bq({},Y,this.options)}}},updateModel:function(Y){if(this.diagram&&this.diagram._isEditable){if(this.diagram.connectionsDataSource){var X=this.diagram.connectionsDataSource.getByUid(this.dataItem.uid);if(X){this.diagram._suspendModelRefresh();if(p(this.options.fromX)&&this.options.fromX!==null){X.set("from",null);X.set("fromX",this.options.fromX);X.set("fromY",this.options.fromY)}else{X.set("from",this.options.from);X.set("fromX",null);X.set("fromY",null)}if(p(this.options.toX)&&this.options.toX!==null){X.set("to",null);X.set("toX",this.options.toX);X.set("toY",this.options.toY)}else{X.set("to",this.options.to);X.set("toX",null);X.set("toY",null)}if(p(this.options.type)&&p(X.type)){X.set("type",this.options.type)}this.dataItem=X;this.diagram._resumeModelRefresh();if(Y){this.diagram._syncConnectionChanges()}}}}},sourcePoint:function(){return this._resolvedSourceConnector?this._resolvedSourceConnector.position():this._sourcePoint},source:function(bw,Y){var bv;if(aT(bw)){var X=bw instanceof S;if(X&&!bw.getConnector(bs)){return}if(Y&&this.diagram){this.diagram.undoRedoService.addCompositeItem(new o.ConnectionEditUnit(this,bw))}if(bw!==E){this.from=bw}this._removeFromSourceConnector();if(bw===null){if(this.sourceConnector){this._sourcePoint=this._resolvedSourceConnector.position();this._clearSourceConnector();this._setFromOptions(null,this._sourcePoint)}}else{if(bw instanceof i){bv=bw.shape.dataItem;if(bv){this._setFromOptions(bv.id)}this.sourceConnector=bw;this.sourceConnector.connections.push(this)}else{if(bw instanceof m){this._setFromOptions(null,bw);this._sourcePoint=bw;if(this.sourceConnector){this._clearSourceConnector()}}else{if(X){bv=bw.dataItem;if(bv){this._setFromOptions(bv.id)}this.sourceConnector=bw.getConnector(bs);this.sourceConnector.connections.push(this)}}}}this.refresh()}return this.sourceConnector?this.sourceConnector:this._sourcePoint},_setFromOptions:function(Y,X){this.options.from=Y;if(X){this.options.fromX=X.x;this.options.fromY=X.y}else{this.options.fromX=null;this.options.fromY=null}},sourceDefiner:function(X){if(X){if(X instanceof o.PathDefiner){X.left=null;this._sourceDefiner=X;this.source(X.point)}else{throw"The sourceDefiner needs to be a PathDefiner."}}else{if(!this._sourceDefiner){this._sourceDefiner=new o.PathDefiner(this.sourcePoint(),null,null)}return this._sourceDefiner}},targetPoint:function(){return this._resolvedTargetConnector?this._resolvedTargetConnector.position():this._targetPoint},target:function(bw,X){var bv;if(aT(bw)){var Y=bw instanceof S;if(Y&&!bw.getConnector(bs)){return}if(X&&this.diagram){this.diagram.undoRedoService.addCompositeItem(new o.ConnectionEditUnit(this,E,bw))}if(bw!==E){this.to=bw}this._removeFromTargetConnector();if(bw===null){if(this.targetConnector){this._targetPoint=this._resolvedTargetConnector.position();this._clearTargetConnector();this._setToOptions(null,this._targetPoint)}}else{if(bw instanceof i){bv=bw.shape.dataItem;if(bv){this._setToOptions(bv.id)}this.targetConnector=bw;this.targetConnector.connections.push(this)}else{if(bw instanceof m){this._setToOptions(null,bw);this._targetPoint=bw;if(this.targetConnector){this._clearTargetConnector()}}else{if(Y){bv=bw.dataItem;if(bv){this._setToOptions(bv.id)}this.targetConnector=bw.getConnector(bs);this.targetConnector.connections.push(this)}}}}this.refresh()}return this.targetConnector?this.targetConnector:this._targetPoint},_setToOptions:function(Y,X){this.options.to=Y;if(X){this.options.toX=X.x;this.options.toY=X.y}else{this.options.toX=null;this.options.toY=null}},targetDefiner:function(X){if(X){if(X instanceof o.PathDefiner){X.right=null;this._targetDefiner=X;this.target(X.point)}else{throw"The sourceDefiner needs to be a PathDefiner."}}else{if(!this._targetDefiner){this._targetDefiner=new o.PathDefiner(this.targetPoint(),null,null)}return this._targetDefiner}},_updateConnectors:function(){this._updateConnector(this.source(),"source");this._updateConnector(this.target(),"target")},_updateConnector:function(X,bx){var bz=this;var bw=bz.diagram;if(X instanceof i&&!bw.getShapeById(X.shape.id)){var bv=X.shape.dataItem;var bA=X.options.name;var Y=function(){var bB=bw._dataMap[bv.id];X=bB.getConnector(bA);bz[bx](X,false);bz.updateModel()};if(bw._dataMap[bv.id]){Y()}else{var by=bw._inactiveShapeItems.getByUid(bv.uid);if(by){bw._deferredConnectionUpdates.push(by.onActivate(Y))}}}else{bz[bx](X,false)}},content:function(Y){var X=this._content(Y);if(p(Y)){this._alignContent()}return X},_alignContent:function(){if(this._contentVisual){var X=this._bounds.topLeft();var bw=this.sourcePoint().minus(X);var Y=this.targetPoint().minus(X);var bv=m.fn.middleOf(bw,Y);this._contentVisual.position(new m(bv.x+X.x,bv.y+X.y))}},select:function(bw){var X=this.diagram,Y,bv;if(this._canSelect()){if(this.isSelected!==bw){this.isSelected=bw;Y=[];bv=[];if(this.isSelected){this.adorner=new ac(this,this.options.selection);X._adorn(this.adorner,true);X._selectedItems.push(this);Y.push(this)}else{if(this.adorner){X._adorn(this.adorner,false);aI.remove(X._selectedItems,this);this.adorner=E;bv.push(this)}}if(this.adorner){this.adorner.refresh()}if(!X._internalSelection){X._selectionChanged(Y,bv)}return true}}},bounds:function(X){if(X&&!bi(X)){this._bounds=X}else{return this._bounds}},type:function(Y){var X=this.options;if(Y){if(Y!==X.type){X.type=Y;this._initRouter();this.refresh()}}else{return X.type}},_initRouter:function(){var X=(this.options.type||"").toLowerCase();if(X==aM){this._router=new br(this)}else{this._router=new H(this)}},points:function(bw){if(bw){this.definers=[];for(var bv=0;bv<bw.length;bv++){var Y=bw[bv];if(Y instanceof o.Point){this.definers.push(new o.PathDefiner(Y))}else{if(Y.hasOwnProperty("x")&&Y.hasOwnProperty("y")){this.definers.push(new o.PathDefiner(new m(Y.x,Y.y)))}else{throw"A Connection point needs to be a Point or an object with x and y properties."}}}}else{var bx=[];if(aT(this.definers)){for(var X=0;X<this.definers.length;X++){bx.push(this.definers[X].point)}}return bx}},allPoints:function(){var Y=[this.sourcePoint()];if(this.definers){for(var X=0;X<this.definers.length;X++){Y.push(this.definers[X].point)}}Y.push(this.targetPoint());return Y},refresh:function(){this._resolveConnectors();this._refreshPath();this._alignContent();if(this.adorner){this.adorner.refresh()}},_resolveConnectors:function(){var bv=this,by,bz,bw=bv.source(),bx=bv.target(),Y,X;if(bw instanceof m){by=bw}else{if(bw instanceof i){if(aR(bw)){Y=bw.shape}else{bv._resolvedSourceConnector=bw;by=bw.position()}}}if(bx instanceof m){bz=bx}else{if(bx instanceof i){if(aR(bx)){X=bx.shape}else{bv._resolvedTargetConnector=bx;bz=bx.position()}}}if(by){if(X){bv._resolvedTargetConnector=ax(by,X)}}else{if(Y){if(bz){bv._resolvedSourceConnector=ax(bz,Y)}else{if(X){this._resolveAutoConnectors(Y,X)}}}}},_resolveAutoConnectors:function(bF,Y){var bz=aS;var bG=aS;var bB=bF.connectors;var bA;var bI,by;var bE,bx;var bw,bH;var X,bD;var bv,bJ;var bC;for(bv=0;bv<bB.length;bv++){X=bB[bv];if(!aR(X)){bE=X.position();bA=Y.connectors;for(bJ=0;bJ<bA.length;bJ++){bD=bA[bJ];if(!aR(bD)){bx=bD.position();bC=aj.round(bE.distanceTo(bx));if(bC<bz&&this.diagram&&this._testRoutePoints(bE,bx,X,bD)){bz=bC;bI=X;by=bD}if(bC<bG){bw=X;bH=bD;bG=bC}}}}}if(bI){bw=bI;bH=by}this._resolvedSourceConnector=bw;this._resolvedTargetConnector=bH},_testRoutePoints:function(bC,by,X,bz){var bE=this._router;var bw=true;if(bE instanceof br){var bD=bE.routePoints(bC,by,X,bz),bv,bx,Y,bA;bD.unshift(bC);bD.push(by);Y=[X.shape,bz.shape];for(var bB=1;bB<bD.length;bB++){bv=bD[bB-1];bx=bD[bB];bA=new O(aj.min(bv.x,bx.x),aj.min(bv.y,bx.y),aj.abs(bv.x-bx.x),aj.abs(bv.y-bx.y));if(this.diagram._shapesQuadTree.hitTestRect(bA,Y)){bw=false;break}}}return bw},redraw:function(X){if(X){this.options=bq({},this.options,X);var Y=this.options.points;if(p(Y)&&Y.length>0){this.points(Y);this._refreshPath()}if((X&&X.content)||X.text){this.content(X.content)}this.path.redraw({fill:X.fill,stroke:X.stroke,startCap:X.startCap,endCap:X.endCap})}},clone:function(){var X=this.serialize();if(this.diagram&&this.diagram._isEditable&&p(this.dataItem)){X.options.dataItem=aY(this.dataItem)}return new af(this.from,this.to,X.options)},serialize:function(){var bv=this.from.toJSON?this.from.toJSON:this.from.toString(),Y=this.to.toJSON?this.to.toJSON:this.to.toString();var X=bq({},{options:this.options,from:bv,to:Y});if(p(this.dataItem)){X.dataItem=this.dataItem.toString()}X.options.points=this.points();return X},_hitTest:function(X){if(this.visible()){var Y=new m(X.x,X.y),bw=this.sourcePoint(),bv=this.targetPoint();if(X.isEmpty&&!X.isEmpty()&&X.contains(bw)&&X.contains(bv)){return this}if(this._router.hitTest(Y)){return this}}},_hover:function(Y){var X=(this.options.stroke||{}).color;if(Y&&aT(this.options.hover.stroke.color)){X=this.options.hover.stroke.color}this.path.redraw({stroke:{color:X}})},_refreshPath:function(){if(!p(this.path)){return}this._drawPath();this.bounds(this._router.getBounds())},_drawPath:function(){if(this._router){this._router.route()}var Y=this.sourcePoint();var bv=this.targetPoint();var X=this.points();this.path.redraw({points:[Y].concat(X,[bv])})},_clearSourceConnector:function(){aI.remove(this.sourceConnector.connections,this);this.sourceConnector=E;this._resolvedSourceConnector=E},_clearTargetConnector:function(){aI.remove(this.targetConnector.connections,this);this.targetConnector=E;this._resolvedTargetConnector=E},_removeFromSourceConnector:function(){if(this.sourceConnector){aI.remove(this.sourceConnector.connections,this)}},_removeFromTargetConnector:function(){if(this.targetConnector){aI.remove(this.targetConnector.connections,this)}}});var a3=w.extend({init:function(X,bv){var Y=this;kendo.destroy(X);w.fn.init.call(Y,X,bv);Y._initTheme();Y._initElements();Y._extendLayoutOptions(Y.options);Y._initDefaults(bv);Y._initCanvas();Y.mainLayer=new aF({id:"main-layer"});Y.canvas.append(Y.mainLayer);Y._shapesQuadTree=new bt(Y);Y._pan=new m();Y._adorners=[];Y.adornerLayer=new aF({id:"adorner-layer"});Y.canvas.append(Y.adornerLayer);Y._createHandlers();Y._initialize();Y._fetchFreshData();Y._createGlobalToolBar();Y._resizingAdorner=new aX(Y,{editable:Y.options.editable});Y._connectorsAdorner=new aq(Y);Y._adorn(Y._resizingAdorner,true);Y._adorn(Y._connectorsAdorner,true);Y.selector=new bd(Y);Y._clipboard=[];Y.pauseMouseHandlers=false;Y._createShapes();Y._createConnections();if(Y.options.layout){Y.layout(Y.options.layout)}Y.zoom(Y.options.zoom);Y.canvas.draw()},options:{name:"Diagram",theme:"default",layout:"",zoomRate:0.1,zoom:1,zoomMin:0,zoomMax:2,dataSource:{},draggable:true,template:"",autoBind:true,editable:{rotate:{},resize:{},text:true,tools:[],drag:{snap:{size:10,angle:10}},remove:true},pannable:{key:"ctrl"},selectable:{key:"none"},tooltip:{enabled:true,format:"{0}"},copy:{enabled:true,offsetX:20,offsetY:20},shapeDefaults:o.shapeDefaults({undoable:true}),connectionDefaults:{editable:{tools:[]},type:aM},shapes:[],connections:[]},events:[k,V,aA,ag,aw,r,R,a7,q,ak,"toolBarClick","save","cancel","edit","remove","add","dataBound",aL,K,D],_createGlobalToolBar:function(){var X=this.options.editable;if(X){var Y=X.tools;if(this._isEditable&&Y.length===0){Y=["createShape","undo","redo","rotateClockwise","rotateAnticlockwise"]}if(Y&&Y.length){this.toolBar=new a0(this,{tools:Y||{},click:J(this._toolBarClick,this),modal:false});this.toolBar.element.css({textAlign:"left"});this.element.prepend(this.toolBar.element);this._resize()}}},createShape:function(){if((this.editor&&this.editor.end())||!this.editor){var by=this.dataSource;var X=by.view()||[];var bw=X.length;var bv=Z(by,{});var Y=this._createShape(bv,{});if(!this.trigger("add",{shape:Y})){by.insert(bw,bv);var bx=this._inactiveShapeItems.getByUid(bv.uid);bx.element=Y;this.edit(Y)}}},_createShape:function(bv,Y){Y=bq({},this.options.shapeDefaults,Y);Y.dataItem=bv;var X=new S(Y,this);return X},createConnection:function(){if(((this.editor&&this.editor.end())||!this.editor)){var X=this.connectionsDataSource;var Y=X.view()||[];var bx=Y.length;var bw=Z(X,{});var bv=this._createConnection(bw);if(!this.trigger("add",{connection:bv})){this._connectionsDataMap[bw.uid]=bv;X.insert(bx,bw);this.addConnection(bv,false);this.edit(bv)}}},_createConnection:function(bv,bw,bx){var Y=bq({},this.options.connectionDefaults);Y.dataItem=bv;var X=new af(bw||new m(),bx||new m(),Y);return X},editModel:function(Y,X){this.cancelEdit();var bx,bw;var bv=this.options.editable;if(X=="shape"){bx=bv.shapeEditors;bw=bv.shapeTemplate}else{if(X=="connection"){var by=J(n,this);bx=bq({},{from:by,to:by},bv.connectionEditors);bw=bv.connectionTemplate}else{return}}this.editor=new bc(this.element,{update:J(this._update,this),cancel:J(this._cancel,this),model:Y,type:X,target:this,editors:bx,template:bw});this.trigger("edit",this._editArgs())},edit:function(Y){if(Y.dataItem){var X=Y instanceof S?"shape":"connection";this.editModel(Y.dataItem,X)}},cancelEdit:function(){if(this.editor){this._getEditDataSource().cancelChanges(this.editor.model);this._destroyEditor()}},saveEdit:function(){if(this.editor&&this.editor.end()&&!this.trigger("save",this._editArgs())){this._getEditDataSource().sync()}},_update:function(){if(this.editor&&this.editor.end()&&!this.trigger("save",this._editArgs())){this._getEditDataSource().sync();this._destroyEditor()}},_cancel:function(){if(this.editor&&!this.trigger("cancel",this._editArgs())){var X=this.editor.model;this._getEditDataSource().cancelChanges(X);var Y=this._connectionsDataMap[X.uid]||this._dataMap[X.id];if(Y){Y._setOptionsFromModel(X)}this._destroyEditor()}},_getEditDataSource:function(){return this.editor.options.type==="shape"?this.dataSource:this.connectionsDataSource},_editArgs:function(){var X={container:this.editor.element};X[this.editor.options.type]=this.editor.model;return X},_destroyEditor:function(){if(this.editor){this.editor.close();this.editor=null}},_initElements:function(){this.wrapper=this.element.empty().css("position","relative").attr("tabindex",0).addClass("k-widget k-diagram");this.scrollable=a8("<div />").appendTo(this.element)},_initDefaults:function(by){var bv=this.options;var bw=bv.editable;var bx=bv.shapeDefaults;var X=bv.connectionDefaults;var Y=(by||{}).shapeDefaults;if(bw===false){bx.editable=false;X.editable=false}else{M(bw,bx.editable,["drag","remove","connect"]);M(bw,X.editable,["drag","remove"])}if(Y&&Y.connectors){bv.shapeDefaults.connectors=Y.connectors}},_initCanvas:function(){var Y=a8("<div class='k-layer'></div>").appendTo(this.scrollable)[0];var X=this.viewport();this.canvas=new l(Y,{width:X.width||t,height:X.height||bk})},_createHandlers:function(){var Y=this;var X=Y.element;X.on(a,J(Y._wheel,Y));if(!kendo.support.touch&&!kendo.support.mobileOS){Y.toolService=new bm(Y);this.scroller.wrapper.on("mousemove"+bg,J(Y._mouseMove,Y)).on("mouseup"+bg,J(Y._mouseUp,Y)).on("mousedown"+bg,J(Y._mouseDown,Y)).on("mouseover"+bg,J(Y._mouseover,Y)).on("mouseout"+bg,J(Y._mouseout,Y));X.on("keydown"+bg,J(Y._keydown,Y))}else{Y._userEvents=new kendo.UserEvents(X,{multiTouch:true,tap:J(Y._tap,Y)});Y._userEvents.bind(["gesturestart","gesturechange","gestureend"],{gesturestart:J(Y._gestureStart,Y),gesturechange:J(Y._gestureChange,Y),gestureend:J(Y._gestureEnd,Y)});Y.toolService=new bm(Y);if(Y.options.pannable!==false){Y.scroller.enable()}}this._syncHandler=J(Y._syncChanges,Y);Y._resizeHandler=J(Y.resize,Y,false);kendo.onResize(Y._resizeHandler);this.bind(V,J(Y._destroyToolBar,Y));this.bind(aA,J(Y._destroyToolBar,Y))},_tap:function(bw){var Y=this.toolService;var bv=this._caculateMobilePosition(bw);Y._updateHoveredItem(bv);if(Y.hoveredItem){var X=Y.hoveredItem;if(this.options.selectable!==false){this._destroyToolBar();if(X.isSelected){X.select(false)}else{this.select(X,{addToSelection:true})}this._createToolBar()}this.trigger("click",{item:X,point:bv})}},_caculateMobilePosition:function(X){return this.documentToModel(m(X.x.location,X.y.location))},_gestureStart:function(bv){this._destroyToolBar();this.scroller.disable();var Y=this.documentToModel(new m(bv.center.x,bv.center.y));var X={point:Y,zoom:this.zoom()};if(this.trigger(V,X)){return}this._gesture=bv;this._initialCenter=Y},_gestureChange:function(bx){var X=this._gesture;var by=this._initialCenter;var Y=this.documentToView(new m(bx.center.x,bx.center.y));var bz=bx.distance/X.distance;var bB=this._zoom;var bw=false;if(aj.abs(bz-1)>=bj){this._zoom=bB=this._getValidZoom(bB*bz);this.options.zoom=bB;this._gesture=bx;bw=true}var bv=by.times(bB);var bA=Y.minus(bv);if(bw||this._pan.distanceTo(bA)>=b){this._panTransform(bA);this._updateAdorners()}bx.preventDefault()},_gestureEnd:function(){if(this.options.pannable!==false){this.scroller.enable()}this.trigger(k,{point:this._initialCenter,zoom:this.zoom()})},_resize:function(){var X=this.viewport();if(this.canvas){this.canvas.size(X)}if(this.scrollable&&this.toolBar){this.scrollable.height(X.height)}},_mouseover:function(Y){var X=Y.target._kendoNode;if(X&&X.srcElement._hover){X.srcElement._hover(true,X.srcElement)}},_mouseout:function(Y){var X=Y.target._kendoNode;if(X&&X.srcElement._hover){X.srcElement._hover(false,X.srcElement)}},_initTheme:function(){var bv=this,X=aJ.ui.themes||{},bw=((bv.options||{}).theme||"").toLowerCase(),Y=(X[bw]||{}).diagram;bv.options=bq({},Y,bv.options)},_createShapes:function(){var bx=this,bv=bx.options,X=bv.shapes,Y,bw;for(bw=0;bw<X.length;bw++){Y=X[bw];bx.addShape(Y)}},_createConnections:function(){var Y=this,X=Y.options,bA=X.connectionDefaults,bw=X.connections,bx,by,bz,bv;for(bv=0;bv<bw.length;bv++){bx=bw[bv];by=Y._findConnectionShape(bx.from);bz=Y._findConnectionShape(bx.to);Y.connect(by,bz,bq({},bA,bx))}},_findConnectionShape:function(bv){var Y=this,bw=bi(bv)?bv:bv.shapeId;var X=Y.getShapeById(bw);return X.getConnector(bv.connector||bs)},destroy:function(){var X=this;w.fn.destroy.call(X);if(this._userEvents){this._userEvents.destroy()}kendo.unbindResize(X._resizeHandler);X.clear();X.element.off(bg);X.scroller.wrapper.off(bg);X.canvas.destroy(true);X.canvas=E;X._destroyEditor();X.destroyScroller();X._destroyGlobalToolBar();X._destroyToolBar()},destroyScroller:function(){var X=this.scroller;if(!X){return}X.destroy();X.element.remove();this.scroller=null},save:function(){var bw={},bv;bw.shapes=[];bw.connections=[];for(bv=0;bv<this.shapes.length;bv++){var Y=this.shapes[bv];if(Y.options.serializable){bw.shapes.push(Y.options)}}for(bv=0;bv<this.connections.length;bv++){var X=this.connections[bv];var bx=bq({},X.options,{from:X.from.toJSON(),to:X.to.toJSON()});bw.connections.push(bx)}return bw},focus:function(){if(!this.element.is(kendo._activeElement())){var bv=this.element,Y=bv[0],by=[],bw=[],bx=document.documentElement,X;do{Y=Y.parentNode;if(Y.scrollHeight>Y.clientHeight){by.push(Y);bw.push(Y.scrollTop)}}while(Y!=bx);bv.focus();for(X=0;X<by.length;X++){by[X].scrollTop=bw[X]}}},load:function(X){this.clear();this.setOptions(X);this._createShapes();this._createConnections()},setOptions:function(X){bq(this.options,X)},clear:function(){var X=this;X.select(false);X.mainLayer.clear();X._shapesQuadTree.clear();X._initialize()},connect:function(bw,bx,bv){var X;if(this.connectionsDataSource&&this._isEditable){var Y=this.connectionsDataSource.add({});X=this._connectionsDataMap[Y.uid];X.source(bw);X.target(bx);X.redraw(bv);X.updateModel()}else{X=new af(bw,bx,bq({},this.options.connectionDefaults,bv));this.addConnection(X)}return X},connected:function(Y,bv){for(var X=0;X<this.connections.length;X++){var bw=this.connections[X];if(bw.from==Y&&bw.to==bv){return true}}return false},addConnection:function(Y,X){if(X!==false){this.undoRedoService.add(new o.AddConnectionUnit(Y,this),false)}Y.diagram=this;Y._setOptionsFromModel();Y.refresh();this.mainLayer.append(Y.visual);this.connections.push(Y);this.trigger(R,{added:[Y],removed:[]});return Y},_addConnection:function(bv,Y){var X=this.connectionsDataSource;var bw;if(X&&this._isEditable){bw=Z(X,aY(bv.dataItem));bv.dataItem=bw;bv.updateModel();if(!this.trigger("add",{connection:bv})){this._connectionsDataMap[bw.uid]=bv;X.add(bw);this.addConnection(bv,Y);bv._updateConnectors();return bv}}else{if(!this.trigger("add",{connection:bv})){this.addConnection(bv,Y);bv._updateConnectors();return bv}}},addShape:function(bw,Y){var X,bv=this.options.shapeDefaults;if(bw instanceof S){bv=bq({},bv,Y);bw.redraw(Y);X=bw}else{if(!(bw instanceof kendo.Class)){bv=bq({},bv,bw||{});X=new S(bv)}else{return}}if(bv.undoable){this.undoRedoService.add(new o.AddShapeUnit(X,this),false)}this.shapes.push(X);X.diagram=this;this.mainLayer.append(X.visual);this._shapesQuadTree.insert(X);this.trigger(R,{added:[X],removed:[]});if(X.hasOwnProperty("layout")){X.layout(X)}return X},_addShape:function(Y,X){var bx=this;var by=bx.dataSource;var bv;if(by&&this._isEditable){bv=Z(by,aY(Y.dataItem));Y.dataItem=bv;Y.updateModel();if(!this.trigger("add",{shape:Y})){this.dataSource.add(bv);var bw=this._inactiveShapeItems.getByUid(bv.uid);bw.element=Y;bw.undoable=X;return Y}}else{if(!this.trigger("add",{shape:Y})){return this.addShape(Y,{undoable:X})}}},remove:function(bv,Y){bv=g(bv)?bv.slice(0):[bv];var by=bo(bv);var X=by.shapes;var bx=by.connections;var bw;if(!p(Y)){Y=true}if(Y){this.undoRedoService.begin()}this._suspendModelRefresh();for(bw=X.length-1;bw>=0;bw--){this._removeItem(X[bw],Y,bx)}for(bw=bx.length-1;bw>=0;bw--){this._removeItem(bx[bw],Y)}this._resumeModelRefresh();if(Y){this.undoRedoService.commit(false)}this.trigger(R,{added:[],removed:bv})},_removeShapeDataItem:function(X){if(this._isEditable){this.dataSource.remove(X.dataItem);delete this._dataMap[X.dataItem.id]}},_removeConnectionDataItem:function(X){if(this._isEditable){this.connectionsDataSource.remove(X.dataItem);delete this._connectionsDataMap[X.dataItem.uid]}},_triggerRemove:function(Y){var bx=[];var by,bv,bw;for(var X=0;X<Y.length;X++){by=Y[X];bw=by.options.editable;if(by instanceof S){bv={shape:by}}else{bv={connection:by}}if(bw&&bw.remove!==false&&!this.trigger("remove",bv)){bx.push(by)}}return bx},undo:function(){this.undoRedoService.undo()},redo:function(){this.undoRedoService.redo()},select:function(bz,Y){if(aT(bz)){Y=bq({addToSelection:false},Y);var by=Y.addToSelection,X=[],bx=[],bw,bv;if(!by){this.deselect()}this._internalSelection=true;if(bz instanceof Array){X=bz}else{if(bz instanceof aN){X=[bz]}}for(bw=0;bw<X.length;bw++){bv=X[bw];if(bv.select(true)){bx.push(bv)}}this._selectionChanged(bx,[]);this._internalSelection=false}else{return this._selectedItems}},selectAll:function(){this.select(this.shapes.concat(this.connections))},selectArea:function(bx){var Y,X,bw;this._internalSelection=true;var bv=[];if(bx instanceof O){X=this.shapes.concat(this.connections);for(Y=0;Y<X.length;Y++){bw=X[Y];if((!bx||bw._hitTest(bx))&&bw.options.enable){if(bw.select(true)){bv.push(bw)}}}}this._selectionChanged(bv,[]);this._internalSelection=false},deselect:function(bw){this._internalSelection=true;var bx=[],X=[],bv,Y;if(bw instanceof Array){X=bw}else{if(bw instanceof aN){X.push(bw)}else{if(!aT(bw)){X=this._selectedItems.slice(0)}}}for(Y=0;Y<X.length;Y++){bv=X[Y];if(bv.select(false)){bx.push(bv)}}this._selectionChanged([],bx);this._internalSelection=false},toFront:function(bv,Y){if(!bv){bv=this._selectedItems.slice()}var X=this._getDiagramItems(bv),bx;if(!p(Y)||Y){bx=N(this.mainLayer,X.visuals);var bw=new au(this,bv,bx);this.undoRedoService.add(bw)}else{this.mainLayer.toFront(X.visuals);this._fixOrdering(X,true)}},toBack:function(bv,Y){if(!bv){bv=this._selectedItems.slice()}var X=this._getDiagramItems(bv),bx;if(!p(Y)||Y){bx=N(this.mainLayer,X.visuals);var bw=new ad(this,bv,bx);this.undoRedoService.add(bw)}else{this.mainLayer.toBack(X.visuals);this._fixOrdering(X,false)}},bringIntoView:function(bz,bv){var X=this.viewport();var bx=new o.RectAlign(X);var bA,by,bw,Y;if(X.width===0||X.height===0){return}bv=bq({animate:false,align:"center middle"},bv);if(bv.align=="none"){bv.align="center middle"}if(bz instanceof aN){by=bz.bounds(a2)}else{if(g(bz)){by=this.boundingBox(bz)}else{if(bz instanceof O){by=bz.clone()}}}bw=by.clone();by.zoom(this._zoom);this._storePan(new m());if(by.width>X.width||by.height>X.height){this._zoom=this._getValidZoom(aj.min(X.width/bw.width,X.height/bw.height));by=bw.clone().zoom(this._zoom)}this._zoomMainLayer();bA=by.clone();bx.align(by,bv.align);Y=by.topLeft().minus(bA.topLeft());this.pan(Y.times(-1),bv.animate)},alignShapes:function(by){if(ap(by)){by="Left"}var Y=this.select(),bz,bx,bv;if(Y.length===0){return}switch(by.toLowerCase()){case"left":case"top":bz=av;break;case"right":case"bottom":bz=j;break}for(bv=0;bv<Y.length;bv++){bx=Y[bv];if(bx instanceof S){switch(by.toLowerCase()){case"left":bz=aj.min(bz,bx.options.x);break;case"top":bz=aj.min(bz,bx.options.y);break;case"right":bz=aj.max(bz,bx.options.x);break;case"bottom":bz=aj.max(bz,bx.options.y);break}}}var bA=[];var X=[];for(bv=0;bv<Y.length;bv++){bx=Y[bv];if(bx instanceof S){X.push(bx);bA.push(bx.bounds());switch(by.toLowerCase()){case"left":case"right":bx.position(new m(bz,bx.options.y));break;case"top":case"bottom":bx.position(new m(bx.options.x,bz));break}}}var bw=new o.TransformUnit(X,bA);this.undoRedoService.add(bw,false)},zoom:function(by,bx){if(by){var Y=bx?bx.point:new o.Point(0,0);by=this._zoom=this._getValidZoom(by);if(!ap(Y)){Y=new o.Point(aj.round(Y.x),aj.round(Y.y));var X=Y.times(by);var bw=this.modelToView(Y);var bv=bw.minus(X);this._storePan(new o.Point(aj.round(bv.x),aj.round(bv.y)))}if(bx){bx.zoom=by}this._panTransform();this._updateAdorners()}return this._zoom},_getPan:function(Y){var X=this.canvas;if(!X.translate){Y=Y.plus(this._pan)}return Y},pan:function(bw,Y){if(bw instanceof m){var bv=this;var X=bv.scroller;bw=bv._getPan(bw);bw=bw.times(-1);if(Y){X.animatedScrollTo(bw.x,bw.y,function(){bv._updateAdorners()})}else{X.scrollTo(bw.x,bw.y);bv._updateAdorners()}}},viewport:function(){var Y=this.element;var bv=Y.width();var X=Y.height();if(this.toolBar){X-=this.toolBar.element.outerHeight()}return new O(0,0,bv,X)},copy:function(){if(this.options.copy.enabled){this._clipboard=[];this._copyOffset=1;for(var X=0;X<this._selectedItems.length;X++){var Y=this._selectedItems[X];this._clipboard.push(Y)}}},cut:function(){if(this.options.copy.enabled){this._clipboard=[];this._copyOffset=0;for(var X=0;X<this._selectedItems.length;X++){var Y=this._selectedItems[X];this._clipboard.push(Y)}this.remove(this._clipboard,true)}},paste:function(){if(this._clipboard.length>0){var by,Y,bx;var bv={};var bz=bo(this._clipboard);var bw=bz.connections;var X=bz.shapes;var bA={x:this._copyOffset*this.options.copy.offsetX,y:this._copyOffset*this.options.copy.offsetY};this.deselect();for(bx=0;bx<X.length;bx++){by=X[bx];Y=by.clone();bv[by.id]=Y;Y.position(new m(by.options.x+bA.x,by.options.y+bA.y));Y.diagram=this;Y=this._addShape(Y);if(Y){Y.select()}}for(bx=0;bx<bw.length;bx++){by=bw[bx];Y=this._addConnection(by.clone());if(Y){this._updateCopiedConnection(Y,by,"source",bv,bA);this._updateCopiedConnection(Y,by,"target",bv,bA);Y.select(true);Y.updateModel()}}this._syncChanges();this._copyOffset+=1}},_updateCopiedConnection:function(Y,bz,bC,X,by){var bw,bB,bv;var bA=bz[bC]();var bx=this;if(bA instanceof i&&X[bA.shape.id]){bv=X[bA.shape.id];if(bx.getShapeById(bv.id)){Y[bC](bv.getConnector(bA.options.name))}else{bB=bx._inactiveShapeItems.getByUid(bv.dataItem.uid);if(bB){bw=function(bD){bv=bx._dataMap[bD.id];Y[bC](bv.getConnector(bA.options.name));Y.updateModel()};bx._deferredConnectionUpdates.push(bB.onActivate(bw))}}}else{Y[bC](new m(bz[bC+"Point"]().x+by.x,bz[bC+"Point"]().y+by.y))}},boundingBox:function(bv,Y){var bz=O.empty(),X,by=aT(bv)?this._getDiagramItems(bv):{shapes:this.shapes};if(by.shapes.length>0){var bx=by.shapes[0];bz=bx.bounds(ai);for(var bw=1;bw<by.shapes.length;bw++){bx=by.shapes[bw];X=bx.bounds(ai);if(Y===true){X.x-=bx._rotationOffset.x;X.y-=bx._rotationOffset.y}bz=bz.union(X)}}return bz},_containerOffset:function(){var X=this.element.offset();if(this.toolBar){X.top+=this.toolBar.element.outerHeight()}return X},documentToView:function(X){var Y=this._containerOffset();return new m(X.x-Y.left,X.y-Y.top)},viewToDocument:function(X){var Y=this._containerOffset();return new m(X.x+Y.left,X.y+Y.top)},viewToModel:function(X){return this._transformWithMatrix(X,this._matrixInvert)},modelToView:function(X){return this._transformWithMatrix(X,this._matrix)},modelToLayer:function(X){return this._transformWithMatrix(X,this._layerMatrix)},layerToModel:function(X){return this._transformWithMatrix(X,this._layerMatrixInvert)},documentToModel:function(Y){var X=this.documentToView(Y);if(!this.canvas.translate){X.x=X.x+this.scroller.scrollLeft;X.y=X.y+this.scroller.scrollTop}return this.viewToModel(X)},modelToDocument:function(X){return this.viewToDocument(this.modelToView(X))},_transformWithMatrix:function(Y,bw){var X=Y;if(Y instanceof m){if(bw){X=bw.apply(Y)}}else{var bv=this._transformWithMatrix(Y.topLeft(),bw),bx=this._transformWithMatrix(Y.bottomRight(),bw);X=O.fromPoints(bv,bx)}return X},setDataSource:function(X){this.options.dataSource=X;this._dataSource();if(this.options.autoBind){this.dataSource.fetch()}},setConnectionsDataSource:function(X){this.options.connectionsDataSource=X;this._connectionDataSource();if(this.options.autoBind){this.connectionsDataSource.fetch()}},layout:function(bv){this.isLayouting=true;var bw;if(ap(bv)){bv=this.options.layout}if(ap(bv)||ap(bv.type)){bw="Tree"}else{bw=bv.type}var Y;switch(bw.toLowerCase()){case"tree":Y=new o.TreeLayout(this);break;case"layered":Y=new o.LayeredLayout(this);break;case"forcedirected":case"force":case"spring":case"springembedder":Y=new o.SpringLayout(this);break;default:throw"Layout algorithm '"+bw+"' is not supported."}var X=new o.LayoutState(this);var by=Y.layout(bv);if(by){var bx=new o.LayoutUndoUnit(X,by,bv?bv.animate:null);this.undoRedoService.add(bx)}this.isLayouting=false},getShapeById:function(Y){var X;X=aI.first(this.shapes,function(bv){return bv.visual.id===Y});if(X){return X}X=aI.first(this.connections,function(bv){return bv.visual.id===Y});return X},_extendLayoutOptions:function(X){if(X.layout){X.layout=bq(o.LayoutBase.fn.defaultOptions||{},X.layout)}},_selectionChanged:function(X,Y){if(X.length||Y.length){this.trigger(ag,{selected:X,deselected:Y})}},_getValidZoom:function(X){return aj.min(aj.max(X,this.options.zoomMin),this.options.zoomMax)},_panTransform:function(bv){var X=this,Y=bv||X._pan;if(X.canvas.translate){X.scroller.scrollTo(Y.x,Y.y);X._zoomMainLayer()}else{X._storePan(Y);X._transformMainLayer()}},_finishPan:function(){this.trigger(aA,{total:this._pan,delta:Number.NaN})},_storePan:function(X){this._pan=X;this._storeViewMatrix()},_zoomMainLayer:function(){var Y=this._zoom;var X=new c(0,0,Y,Y);X.render(this.mainLayer);this._storeLayerMatrix(X);this._storeViewMatrix()},_transformMainLayer:function(){var bv=this._pan,Y=this._zoom;var X=new c(bv.x,bv.y,Y,Y);X.render(this.mainLayer);this._storeLayerMatrix(X);this._storeViewMatrix()},_storeLayerMatrix:function(X){this._layerMatrix=X.toMatrix();this._layerMatrixInvert=X.invert().toMatrix()},_storeViewMatrix:function(){var bv=this._pan,Y=this._zoom;var X=new c(bv.x,bv.y,Y,Y);this._matrix=X.toMatrix();this._matrixInvert=X.invert().toMatrix()},_toIndex:function(Y,bv){var X=this._getDiagramItems(Y);this.mainLayer.toIndex(X.visuals,bv);this._fixOrdering(X,false)},_fixOrdering:function(Y,X){var bv=X?this.shapes.length-1:0,bw=X?this.connections.length-1:0,bx,by;for(bx=0;bx<Y.shapes.length;bx++){by=Y.shapes[bx];aI.remove(this.shapes,by);aI.insert(this.shapes,by,bv)}for(bx=0;bx<Y.cons.length;bx++){by=Y.cons[bx];aI.remove(this.connections,by);aI.insert(this.connections,by,bw)}},_getDiagramItems:function(Y){var bw,X={},bv=Y;X.visuals=[];X.shapes=[];X.cons=[];if(!Y){bv=this._selectedItems.slice()}else{if(!g(Y)){bv=[Y]}}for(bw=0;bw<bv.length;bw++){var bx=bv[bw];if(bx instanceof S){X.shapes.push(bx);X.visuals.push(bx.visual)}else{if(bx instanceof af){X.cons.push(bx);X.visuals.push(bx.visual)}}}return X},_removeItem:function(bv,Y,X){bv.select(false);if(bv instanceof S){this._removeShapeDataItem(bv);this._removeShape(bv,Y,X)}else{if(bv instanceof af){this._removeConnectionDataItem(bv);this._removeConnection(bv,Y)}}this.mainLayer.remove(bv.visual)},_removeShape:function(bA,bB,bw){var by,Y,bv,X=[],bz=[];this.toolService._removeHover();if(bB){this.undoRedoService.addCompositeItem(new aB(bA))}aI.remove(this.shapes,bA);this._shapesQuadTree.remove(bA);for(by=0;by<bA.connectors.length;by++){bv=bA.connectors[by];for(var bx=0;bx<bv.connections.length;bx++){Y=bv.connections[bx];if(!bw||!aJ.inArray(Y,bw)){if(Y.sourceConnector==bv){X.push(Y)}else{if(Y.targetConnector==bv){bz.push(Y)}}}}}for(by=0;by<X.length;by++){X[by].source(null,bB);X[by].updateModel()}for(by=0;by<bz.length;by++){bz[by].target(null,bB);bz[by].updateModel()}},_removeConnection:function(Y,X){if(Y.sourceConnector){aI.remove(Y.sourceConnector.connections,Y)}if(Y.targetConnector){aI.remove(Y.targetConnector.connections,Y)}if(X){this.undoRedoService.addCompositeItem(new bn(Y))}aI.remove(this.connections,Y)},_removeDataItems:function(bv,bw){var by,bx,Y,X;bv=g(bv)?bv:[bv];while(bv.length){by=bv.shift();Y=this._dataMap[by.uid];if(Y){this._removeShapeConnections(Y);this._removeItem(Y,false);delete this._dataMap[by.uid];if(bw&&by.hasChildren&&by.loaded()){bx=by.children.data();for(X=0;X<bx.length;X++){bv.push(bx[X])}}}}},_removeShapeConnections:function(Y){var bv=Y.connections();var X;if(bv){for(X=0;X<bv.length;X++){this._removeItem(bv[X],false)}}},_addDataItem:function(bw,X){if(!p(bw)){return}var Y=this._dataMap[bw.id];if(Y){return Y}var bv=bq({},this.options.shapeDefaults);bv.dataItem=bw;Y=new S(bv,this);this.addShape(Y,{undoable:X!==false});this._dataMap[bw.id]=Y;return Y},_addDataItemByUid:function(bv){if(!p(bv)){return}var X=this._dataMap[bv.uid];if(X){return X}var Y=bq({},this.options.shapeDefaults);Y.dataItem=bv;X=new S(Y,this);this.addShape(X);this._dataMap[bv.uid]=X;return X},_addDataItems:function(bx,by){var bz,X,bw,bv,Y;for(X=0;X<bx.length;X++){bz=bx[X];bw=this._addDataItemByUid(bz);bv=this._addDataItemByUid(by);if(bv&&!this.connected(bv,bw)){Y=this.connect(bv,bw)}}},_refreshSource:function(bz){var bx=this,bw=bz.node,by=bz.action,Y=bz.items,bv=bx.options,X;if(bz.field){return}if(by=="remove"){this._removeDataItems(bz.items,true)}else{if(!by&&!bw){bx.clear()}this._addDataItems(Y,bw);for(X=0;X<Y.length;X++){Y[X].load()}}if(bv.layout){bx.layout(bv.layout)}},_mouseDown:function(Y){var X=this._calculatePosition(Y);if(Y.which==1&&this.toolService.start(X,this._meta(Y))){this._destroyToolBar();Y.preventDefault()}},_addItem:function(X){if(X instanceof S){this.addShape(X)}else{if(X instanceof af){this.addConnection(X)}}},_mouseUp:function(Y){var X=this._calculatePosition(Y);if(Y.which==1&&this.toolService.end(X,this._meta(Y))){this._createToolBar();Y.preventDefault()}},_createToolBar:function(){var bv=this.toolService.diagram;if(!this.singleToolBar&&bv.select().length===1){var bw=bv.select()[0];if(bw&&bw.options.editable!==false){var X=bw.options.editable;var by=X.tools;if(this._isEditable&&by.length===0){if(bw instanceof S){by=["edit","rotateClockwise","rotateAnticlockwise"]}else{if(bw instanceof af){by=["edit"]}}if(X&&X.remove!==false){by.push("delete")}}if(by&&by.length){var bA=20;var bC;this.singleToolBar=new a0(bv,{tools:by,click:J(this._toolBarClick,this),modal:true});var Y=this.singleToolBar.element;var bB=this.singleToolBar._popup.element.outerWidth();var bz=this.singleToolBar._popup.element.outerHeight();if(bw instanceof S){var bx=this.modelToView(bw.bounds(ai));bC=m(bx.x,bx.y).minus(m((bB-bx.width)/2,bz+bA))}else{if(bw instanceof af){var bD=this.modelToView(bw.bounds());bC=m(bD.x,bD.y).minus(m((bB-bD.width-20)/2,bz+bA))}}if(bC){if(!this.canvas.translate){bC=bC.minus(m(this.scroller.scrollLeft,this.scroller.scrollTop))}bC=this.viewToDocument(bC);bC=m(aj.max(bC.x,0),aj.max(bC.y,0));this.singleToolBar.showAt(bC)}else{this._destroyToolBar()}}}}},_toolBarClick:function(X){this.trigger("toolBarClick",X);this._destroyToolBar()},_mouseMove:function(Y){if(this.pauseMouseHandlers){return}var X=this._calculatePosition(Y);if((Y.which===0||Y.which==1)&&this.toolService.move(X,this._meta(Y))){Y.preventDefault()}},_keydown:function(X){if(this.toolService.keyDown(X.keyCode,this._meta(X))){X.preventDefault()}},_wheel:function(bv){var bw=z(bv),Y=this._calculatePosition(bv),X=bq(this._meta(bv),{delta:bw});if(this.toolService.wheel(Y,X)){bv.preventDefault()}},_meta:function(X){return{ctrlKey:X.ctrlKey,metaKey:X.metaKey,altKey:X.altKey,shiftKey:X.shiftKey}},_calculatePosition:function(Y){var bw=(Y.pageX===E?Y.originalEvent:Y),X=new m(bw.pageX,bw.pageY),bv=this.documentToModel(X);return bv},_normalizePointZoom:function(X){return X.times(1/this.zoom())},_initialize:function(){this.shapes=[];this._selectedItems=[];this.connections=[];this._dataMap={};this._connectionsDataMap={};this._inactiveShapeItems=new U();this._deferredConnectionUpdates=[];this.undoRedoService=new bp({undone:this._syncHandler,redone:this._syncHandler});this.id=o.randomId()},_fetchFreshData:function(){var Y=this;Y._dataSource();if(Y._isEditable){Y._connectionDataSource()}if(Y.options.autoBind){if(Y._isEditable){Y._preventRefresh=true;Y._preventConnectionsRefresh=true;var X=a8.map([Y.dataSource,Y.connectionsDataSource],function(bv){return bv.fetch()});a8.when.apply(null,X).done(function(){Y._preventRefresh=false;Y._preventConnectionsRefresh=false;Y.refresh()})}else{Y.dataSource.fetch()}}},_dataSource:function(){if(p(this.options.connectionsDataSource)){this._isEditable=true;var Y=this.options.dataSource||{};var X=g(Y)?{data:Y}:Y;if(this.dataSource&&this._shapesRefreshHandler){this.dataSource.unbind("change",this._shapesRefreshHandler).unbind("error",this._shapesErrorHandler)}else{this._shapesRefreshHandler=J(this._refreshShapes,this);this._shapesErrorHandler=J(this._error,this)}this.dataSource=kendo.data.DataSource.create(X).bind("change",this._shapesRefreshHandler).bind("error",this._shapesErrorHandler)}else{this._treeDataSource();this._isEditable=false}},_connectionDataSource:function(){var Y=this.options.connectionsDataSource;if(Y){var X=g(Y)?{data:Y}:Y;if(this.connectionsDataSource&&this._connectionsRefreshHandler){this.connectionsDataSource.unbind("change",this._connectionsRefreshHandler).unbind("error",this._connectionsErrorHandler)}else{this._connectionsRefreshHandler=J(this._refreshConnections,this);this._connectionsErrorHandler=J(this._error,this)}this.connectionsDataSource=kendo.data.DataSource.create(X).bind("change",this._connectionsRefreshHandler).bind("error",this._connectionsErrorHandler)}},_refreshShapes:function(X){if(X.action==="remove"){if(this._shouldRefresh()){this._removeShapes(X.items)}}else{if(X.action==="itemchange"){if(this._shouldRefresh()){this._updateShapes(X.items,X.field)}}else{if(X.action==="add"){this._inactiveShapeItems.add(X.items)}else{if(X.action==="sync"){this._syncShapes(X.items)}else{this.refresh()}}}}},_shouldRefresh:function(){return !this._suspended},_suspendModelRefresh:function(){this._suspended=(this._suspended||0)+1},_resumeModelRefresh:function(){this._suspended=aj.max((this._suspended||0)-1,0)},refresh:function(){if(this._preventRefresh){return}this.trigger("dataBound");this.clear();this._addShapes(this.dataSource.view());if(this.connectionsDataSource){this._addConnections(this.connectionsDataSource.view(),false)}if(this.options.layout){this.layout(this.options.layout)}},refreshConnections:function(){if(this._preventConnectionsRefresh){return}this.trigger("dataBound");this._addConnections(this.connectionsDataSource.view(),false);if(this.options.layout){this.layout(this.options.layout)}},_removeShapes:function(Y){var X=this._dataMap;var bw,bv;for(bv=0;bv<Y.length;bv++){bw=Y[bv];if(X[bw.id]){this.remove(X[bw.id],false);X[bw.id]=null}}},_syncShapes:function(X){var bv=this;var Y=bv._inactiveShapeItems;Y.forEach(function(by){var bx=by.dataItem;var bw=by.element;if(!bx.isNew()){if(bw){bw._setOptionsFromModel();bv.addShape(bw,{undoable:by.undoable});bv._dataMap[bx.id]=bw}else{bv._addDataItem(bx)}by.activate();Y.remove(bx)}})},_updateShapes:function(Y,bx){for(var bw=0;bw<Y.length;bw++){var bv=Y[bw];var X=this._dataMap[bv.id];if(X){X.updateOptionsFromModel(bv,bx)}}},_addShapes:function(X){for(var Y=0;Y<X.length;Y++){this._addDataItem(X[Y],false)}},_refreshConnections:function(X){if(X.action==="remove"){if(this._shouldRefresh()){this._removeConnections(X.items)}}else{if(X.action==="add"){this._addConnections(X.items)}else{if(X.action==="sync"){}else{if(X.action==="itemchange"){if(this._shouldRefresh()){this._updateConnections(X.items)}}else{this.refreshConnections()}}}}},_removeConnections:function(X){for(var Y=0;Y<X.length;Y++){this.remove(this._connectionsDataMap[X[Y].uid],false);this._connectionsDataMap[X[Y].uid]=null}},_updateConnections:function(Y){for(var bw=0;bw<Y.length;bw++){var bv=Y[bw];var X=this._connectionsDataMap[bv.uid];X.updateOptionsFromModel(bv);var by=this._validateConnector(bv.from);if(by){X.source(by)}var bx=this._validateConnector(bv.to);if(bx){X.target(bx)}}},_addConnections:function(bw,X){var bx=bw.length;for(var bv=0;bv<bx;bv++){var Y=bw[bv];this._addConnectionDataItem(Y,X)}},_addConnectionDataItem:function(bw,X){if(!this._connectionsDataMap[bw.uid]){var by=this._validateConnector(bw.from);if(!p(by)||by===null){by=new m(bw.fromX,bw.fromY)}var bx=this._validateConnector(bw.to);if(!p(bx)||bx===null){bx=new m(bw.toX,bw.toY)}if(p(by)&&p(bx)){var bv=bq({},this.options.connectionDefaults);bv.dataItem=bw;var Y=new af(by,bx,bv);this._connectionsDataMap[bw.uid]=Y;this.addConnection(Y,X)}}},_validateConnector:function(Y){var X;if(p(Y)&&Y!==null){X=this._dataMap[Y]}return X},_treeDataSource:function(){var Y=this,X=Y.options,bv=X.dataSource;bv=g(bv)?{data:bv}:bv;if(!bv.fields){bv.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]}if(Y.dataSource&&Y._refreshHandler){Y._unbindDataSource()}Y._refreshHandler=J(Y._refreshSource,Y);Y._errorHandler=J(Y._error,Y);Y.dataSource=an.create(bv).bind(R,Y._refreshHandler).bind(Q,Y._errorHandler)},_unbindDataSource:function(){var X=this;X.dataSource.unbind(R,X._refreshHandler).unbind(Q,X._errorHandler)},_error:function(){},_adorn:function(X,Y){if(Y!==E&&X){if(Y){this._adorners.push(X);this.adornerLayer.append(X.visual)}else{aI.remove(this._adorners,X);this.adornerLayer.remove(X.visual)}}},_showConnectors:function(X,Y){if(Y){this._connectorsAdorner.show(X)}else{this._connectorsAdorner.destroy()}},_updateAdorners:function(){var X=this._adorners;for(var bv=0;bv<X.length;bv++){var Y=X[bv];if(Y.refreshBounds){Y.refreshBounds()}Y.refresh()}},_refresh:function(){for(var X=0;X<this.connections.length;X++){this.connections[X].refresh()}},_destroyToolBar:function(){if(this.singleToolBar){this.singleToolBar.hide();this.singleToolBar.destroy();this.singleToolBar=null}},_destroyGlobalToolBar:function(){if(this.toolBar){this.toolBar.hide();this.toolBar.destroy();this.toolBar=null}},exportDOMVisual:function(){var by=this.canvas._viewBox;var bv=bl.transform().translate(-by.x,-by.y);var Y=new bl.Rect([0,0],[by.width,by.height]);var bx=aU.Path.fromRect(Y);var bw=new aU.Group({transform:bv,clip:bx});var X=this.canvas.drawingElement.children[0];bw.children.push(X);return bw},exportVisual:function(){var bv=bl.transform().scale(1/this._zoom);var Y=new aU.Group({transform:bv});var X=this.canvas.drawingElement.children[0];Y.children.push(X);return Y},_syncChanges:function(){this._syncShapeChanges();this._syncConnectionChanges()},_syncShapeChanges:function(){if(this.dataSource&&this._isEditable){this.dataSource.sync()}},_syncConnectionChanges:function(){var X=this;if(X.connectionsDataSource&&X._isEditable){a8.when.apply(a8,X._deferredConnectionUpdates).then(function(){X.connectionsDataSource.sync()});X.deferredConnectionUpdates=[]}}});aJ.ExportMixin.extend(a3.fn,true);if(kendo.PDFMixin){kendo.PDFMixin.extend(a3.fn)}function at(Y){var X={};Y=Y||{};if(p(Y.text)&&Y.text!==null){X.text=Y.text}if(p(Y.x)&&Y.x!==null){X.x=Y.x}if(p(Y.y)&&Y.y!==null){X.y=Y.y}if(p(Y.width)&&Y.width!==null){X.width=Y.width}if(p(Y.height)&&Y.height!==null){X.height=Y.height}if(p(Y.type)&&Y.type!==null){X.type=Y.type}return X}function y(Y){var X={};Y=Y||{};if(p(Y.text)&&Y.text!==null){X.content=Y.text}if(p(Y.type)&&Y.type!==null){X.type=Y.type}if(p(Y.from)&&Y.from!==null){X.from=Y.from}if(p(Y.fromX)&&Y.fromX!==null){X.fromX=Y.fromX}if(p(Y.fromY)&&Y.fromY!==null){X.fromY=Y.fromY}if(p(Y.to)&&Y.to!==null){X.to=Y.to}if(p(Y.toX)&&Y.toX!==null){X.toX=Y.toX}if(p(Y.toY)&&Y.toY!==null){X.toY=Y.toY}return X}function ah(X){return typeof X==="number"&&!isNaN(X)}var a0=kendo.Observable.extend({init:function(Y,X){kendo.Observable.fn.init.call(this);this.diagram=Y;this.options=bq({},this.options,X);this._tools=[];this.createToolBar();this.createTools();this.appendTools();if(this.options.modal){this.createPopup()}this.bind(this.events,X)},events:["click"],createPopup:function(){this.container=a8("<div/>").append(this.element);this._popup=this.container.kendoPopup({}).getKendoPopup()},appendTools:function(){for(var Y=0;Y<this._tools.length;Y++){var X=this._tools[Y];if(X.buttons&&X.buttons.length||!p(X.buttons)){this._toolBar.add(X)}}},createToolBar:function(){this.element=a8("<div/>");this._toolBar=this.element.kendoToolBar({click:J(this.click,this),resizable:false}).getKendoToolBar();this.element.css("border","none")},createTools:function(){for(var X=0;X<this.options.tools.length;X++){this.createTool(this.options.tools[X])}},createTool:function(X){var Y=(P(X)?X.name:X)+"Tool";if(this[Y]){this[Y](X)}else{this._tools.push(X)}},showAt:function(X){if(this._popup){this._popup.open(X.x,X.y)}},hide:function(){if(this._popup){this._popup.close()}},newGroup:function(){return{type:"buttonGroup",buttons:[]}},editTool:function(){this._tools.push({spriteCssClass:"k-icon k-i-pencil",showText:"overflow",type:"button",text:"Edit",attributes:this._setAttributes({action:"edit"})})},deleteTool:function(){this._tools.push({spriteCssClass:"k-icon k-i-close",showText:"overflow",type:"button",text:"Delete",attributes:this._setAttributes({action:"delete"})})},rotateAnticlockwiseTool:function(X){this._appendGroup("rotate");this._rotateGroup.buttons.push({spriteCssClass:"k-icon k-i-rotateccw",showText:"overflow",text:"RotateAnticlockwise",group:"rotate",attributes:this._setAttributes({action:"rotateAnticlockwise",step:X.step})})},rotateClockwiseTool:function(X){this._appendGroup("rotate");this._rotateGroup.buttons.push({spriteCssClass:"k-icon k-i-rotatecw",attributes:this._setAttributes({action:"rotateClockwise",step:X.step}),showText:"overflow",text:"RotateClockwise",group:"rotate"})},createShapeTool:function(){this._appendGroup("create");this._createGroup.buttons.push({spriteCssClass:"k-icon k-i-shape",showText:"overflow",text:"CreateShape",group:"create",attributes:this._setAttributes({action:"createShape"})})},createConnectionTool:function(){this._appendGroup("create");this._createGroup.buttons.push({spriteCssClass:"k-icon k-i-connector",showText:"overflow",text:"CreateConnection",group:"create",attributes:this._setAttributes({action:"createConnection"})})},undoTool:function(){this._appendGroup("history");this._historyGroup.buttons.push({spriteCssClass:"k-icon k-i-undo",showText:"overflow",text:"Undo",group:"history",attributes:this._setAttributes({action:"undo"})})},redoTool:function(){this._appendGroup("history");this._historyGroup.buttons.push({spriteCssClass:"k-icon k-i-redo",showText:"overflow",text:"Redo",group:"history",attributes:this._setAttributes({action:"redo"})})},_appendGroup:function(X){var Y="_"+X+"Group";if(!this[Y]){this[Y]=this.newGroup();this._tools.push(this[Y])}},_setAttributes:function(Y){var X={};if(Y.action){X[kendo.attr("action")]=Y.action}if(Y.step){X[kendo.attr("step")]=Y.step}return X},_getAttributes:function(Y){var X={};var bw=Y.attr(kendo.attr("action"));if(bw){X.action=bw}var bv=Y.attr(kendo.attr("step"));if(bv){X.step=bv}return X},click:function(bv){var X=this._getAttributes(a8(bv.target));var Y=X.action;if(Y){this[Y](X)}this.trigger("click",this.eventData(Y))},eventData:function(bw){var bv=this.selectedElements(),X=[],Y=[];if(bv instanceof S){X.push(bv)}else{Y.push(bv)}return{shapes:X,connections:Y,action:bw}},"delete":function(){var X=this.diagram;var Y=X._triggerRemove(this.selectedElements());if(Y.length){this.diagram.remove(Y,true);this.diagram._syncChanges()}},edit:function(){this.diagram.edit(this.selectedElements()[0])},rotateClockwise:function(X){var Y=this.selectedElements();var bv=parseFloat(X.step||90);this._rotate(bv)},rotateAnticlockwise:function(X){var Y=this.selectedElements();var bv=parseFloat(X.step||90);this._rotate(-bv)},_rotate:function(Y){var X=this.diagram._resizingAdorner;X.angle(X.angle()+Y);X.rotate()},selectedElements:function(){return this.diagram.select()},createShape:function(){this.diagram.createShape()},createConnection:function(){this.diagram.createConnection()},undo:function(){this.diagram.undo()},redo:function(){this.diagram.redo()},destroy:function(){this.diagram=null;this.element=null;this.options=null;if(this._toolBar){this._toolBar.destroy()}if(this._popup){this._popup.destroy()}}});var ar=kendo.Observable.extend({init:function(Y,X){kendo.Observable.fn.init.call(this);this.options=aO(true,{},this.options,X);this.element=Y;this.model=this.options.model;this.fields=this._getFields();this._initContainer();this.createEditable()},options:{editors:{}},_initContainer:function(){this.wrapper=this.element},createEditable:function(){var X=this.options;this.editable=new kendo.ui.Editable(this.wrapper,{fields:this.fields,target:X.target,clearContainer:false,model:this.model})},_isEditable:function(X){return this.model.editable&&this.model.editable(X)},_getFields:function(){var Y=[];var bv=this.model.fields;for(var bx in bv){var X={};if(this._isEditable(bx)){var bw=this.options.editors[bx];if(bw){X.editor=bw}X.field=bx;Y.push(X)}}return Y},end:function(){return this.editable.end()},destroy:function(){this.editable.destroy();this.editable.element.find("["+kendo.attr("container-for")+"]").empty();this.model=this.wrapper=this.element=this.columns=this.editable=null}});var bc=ar.extend({init:function(Y,X){ar.fn.init.call(this,Y,X);this.bind(this.events,this.options);this.open()},events:["update","cancel"],options:{window:{modal:true,resizable:false,draggable:true,title:"Edit",visible:false}},_initContainer:function(){var X=this;this.wrapper=a8('<div class="k-popup-edit-form"/>').attr(kendo.attr("uid"),this.model.uid);var Y="";if(this.options.template){Y+=this._renderTemplate();this.fields=[]}else{Y+=this._renderFields()}Y+=this._renderButtons();this.wrapper.append(a8('<div class="k-edit-form-container"/>').append(Y));this.window=new kendo.ui.Window(this.wrapper,this.options.window);this.window.bind("close",function(bv){if(bv.userTriggered){bv.sender.element.focus();X._cancelClick(bv)}});this._attachButtonEvents()},_renderTemplate:function(){var X=this.options.template;if(typeof X==="string"){X=window.unescape(X)}X=kendo.template(X)(this.model);return X},_renderFields:function(){var Y="";for(var X=0;X<this.fields.length;X++){var bv=this.fields[X];Y+='<div class="k-edit-label"><label for="'+bv.field+'">'+(bv.field||"")+"</label></div>";if(this._isEditable(bv.field)){Y+="<div "+kendo.attr("container-for")+'="'+bv.field+'" class="k-edit-field"></div>'}}return Y},_renderButtons:function(){var X='<div class="k-edit-buttons k-state-default">';X+=this._createButton("update");X+=this._createButton("cancel");X+="</div>";return X},_createButton:function(X){return kendo.template(F)(h[X])},_attachButtonEvents:function(){this._cancelClickHandler=J(this._cancelClick,this);this.window.element.on(a7+bg,"a.k-diagram-cancel",this._cancelClickHandler);this._updateClickHandler=J(this._updateClick,this);this.window.element.on(a7+bg,"a.k-diagram-update",this._updateClickHandler)},_updateClick:function(X){X.preventDefault();this.trigger("update")},_cancelClick:function(X){X.preventDefault();this.trigger("cancel")},open:function(){this.window.center().open()},close:function(){this.window.bind("deactivate",J(this.destroy,this)).close()},destroy:function(){this.window.close().destroy();this.window.element.off(a7+bg,"a.k-diagram-cancel",this._cancelClickHandler);this.window.element.off(a7+bg,"a.k-diagram-update",this._updateClickHandler);this._cancelClickHandler=null;this._editUpdateClickHandler=null;this.window=null;ar.fn.destroy.call(this)}});function n(Y,bw){var bx=bw.model.fields[bw.field];var bv=this.dataSource.reader.model;if(bv){var X=bv.fn.fields.text?"text":bv.idField;a8("<input name='"+bw.field+"' />").appendTo(Y).kendoDropDownList({dataValueField:bv.idField,dataTextField:X,dataSource:this.dataSource.data().toJSON(),optionLabel:" ",valuePrimitive:true})}}function aQ(X){this.dataItem=X;this.callbacks=[]}aQ.fn=aQ.prototype={onActivate:function(Y){var X=a8.Deferred();this.callbacks.push({callback:Y,deferred:X});return X},activate:function(){var bv=this.callbacks;var Y;for(var X=0;X<bv.length;X++){Y=this.callbacks[X];Y.callback(this.dataItem);Y.deferred.resolve()}this.callbacks=[]}};function U(){this.items={}}U.fn=U.prototype={add:function(Y){for(var X=0;X<Y.length;X++){this.items[Y[X].uid]=new aQ(Y[X])}},forEach:function(Y){for(var X in this.items){Y(this.items[X])}},getByUid:function(X){return this.items[X]},remove:function(X){delete this.items[X.uid]}};var C=bf.extend({init:function(){this.shapes=[]},_add:function(X,Y){this.shapes.push({bounds:Y,shape:X});X._quadNode=this},insert:function(X,Y){this._add(X,Y)},remove:function(bv){var Y=this.shapes;var bw=Y.length;for(var X=0;X<bw;X++){if(Y[X].shape===bv){Y.splice(X,1);break}}},hitTestRect:function(bx,Y){var X=this.shapes;var bw=X.length;var by=false;for(var bv=0;bv<bw;bv++){if(this._overlaps(X[bv].bounds,bx)&&!aJ.inArray(X[bv].shape,Y)){by=true;break}}return by},_overlaps:function(Y,X){var bv=Y.bottomRight();var bx=X.bottomRight();var bw=!(bv.x<X.x||bv.y<X.y||bx.x<Y.x||bx.y<Y.y);return bw}});var bu=C.extend({init:function(X){C.fn.init.call(this);this.children=[];this.rect=X},inBounds:function(bw){var Y=this.rect;var bx=Y.bottomRight();var bv=bw.bottomRight();var X=Y.x<=bw.x&&Y.y<=bw.y&&bv.x<=bx.x&&bv.y<=bx.y;return X},overlapsBounds:function(X){return this._overlaps(this.rect,X)},insert:function(Y,by){var bw=false;var bv=this.children;var bx=bv.length;if(this.inBounds(by)){if(!bx&&this.shapes.length<4){this._add(Y,by)}else{if(!bx){this._initChildren()}for(var X=0;X<bv.length;X++){if(bv[X].insert(Y,by)){bw=true;break}}if(!bw){this._add(Y,by)}}bw=true}return bw},_initChildren:function(){var bz=this.rect,by=this.children,bv=this.shapes,Y=bz.center(),bA=bz.width/2,X=bz.height/2,bw,bx;by.push(new bu(new O(bz.x,bz.y,bA,X)),new bu(new O(Y.x,bz.y,bA,X)),new bu(new O(bz.x,Y.y,bA,X)),new bu(new O(Y.x,Y.y,bA,X)));for(bx=bv.length-1;bx>=0;bx--){for(bw=0;bw<by.length;bw++){if(by[bw].insert(bv[bx].shape,bv[bx].bounds)){bv.splice(bx,1);break}}}},hitTestRect:function(by,bv){var Y,X=[];var bw=this.children;var bx=bw.length;var bz=false;if(this.overlapsBounds(by)){if(C.fn.hitTestRect.call(this,by,bv)){bz=true}else{for(Y=0;Y<bx;Y++){if(bw[Y].hitTestRect(by,bv)){bz=true;break}}}}return bz}});var bt=bf.extend({ROOT_SIZE:1000,init:function(X){X.bind(r,J(this._boundsChange,this));X.bind(aw,J(this._boundsChange,this));this.initRoots()},initRoots:function(){this.rootMap={};this.root=new C()},clear:function(){this.initRoots()},_boundsChange:function(X){if(X.item._quadNode){X.item._quadNode.remove(X.item);this.insert(X.item)}},insert:function(bv){var bw=bv.bounds(ai);var Y=this.ROOT_SIZE;var bx=this.getSectors(bw);var X=bx[0][0];var by=bx[1][0];if(this.inRoot(bx)){this.root.insert(bv,bw)}else{if(!this.rootMap[X]){this.rootMap[X]={}}if(!this.rootMap[X][by]){this.rootMap[X][by]=new bu(new O(X*Y,by*Y,Y,Y))}this.rootMap[X][by].insert(bv,bw)}},remove:function(X){if(X._quadNode){X._quadNode.remove(X)}},inRoot:function(X){return X[0].length>1||X[1].length>1},getSectors:function(by){var Y=this.ROOT_SIZE;var bx=by.bottomRight();var X=Math.floor(by.x/Y);var bA=Math.floor(by.y/Y);var bw=Math.floor(bx.x/Y);var bv=Math.floor(bx.y/Y);var bz=[[X],[bA]];if(X!==bw){bz[0].push(bw)}if(bA!==bv){bz[1].push(bv)}return bz},hitTestRect:function(bw,bv){var by=this.getSectors(bw);var bA,bx,X,bz;var Y;if(this.root.hitTestRect(bw,bv)){return true}for(bA=0;bA<by[0].length;bA++){X=by[0][bA];for(bx=0;bx<by[1].length;bx++){bz=by[1][bx];Y=(this.rootMap[X]||{})[bz];if(Y&&Y.hitTestRect(bw,bv)){return true}}}return false}});function aY(Y){var X=Y;if(Y instanceof kendo.data.Model){X=Y.toJSON();X[Y.idField]=Y._defaultId}return X}function bo(bx){var bw=[];var Y=[];var bv,X;for(X=0;X<bx.length;X++){bv=bx[X];if(bv instanceof S){Y.push(bv)}else{bw.push(bv)}}return{shapes:Y,connections:bw}}function Z(Y,X){if(Y.reader.model){return new Y.reader.model(X)}return new kendo.data.ObservableObject(X)}function M(bv,bw,Y){var bx;for(var X=0;X<Y.length;X++){bx=Y[X];if(bw&&!p(bw[bx])){bw[bx]=bv[bx]}}}aJ.ui.plugin(a3);bq(o,{Shape:S,Connection:af,Connector:i,DiagramToolBar:a0,QuadNode:bu,QuadRoot:C,ShapesQuadTree:bt})})(window.kendo.jQuery);(function(y,o){var v=Math,I=y.proxy,B=window.kendo,d=B.Class,g=B.ui.Widget,h=B.template,F=B.deepExtend,l=B.data.HierarchicalDataSource,t=B.getter,k=B.dataviz;var C=".kendoTreeMap",w="change",L="dataBound",K="itemCreated",b=Number.MAX_VALUE,x=-Number.MAX_VALUE,q="mouseover"+C,p="mouseleave"+C,z="undefined";var i=g.extend({init:function(N,M){B.destroy(N);y(N).empty();g.fn.init.call(this,N,M);this._initTheme(this.options);this.element.addClass("k-widget k-treemap");this._setLayout();this._originalOptions=F({},this.options);this._initDataSource();this._attachEvents();B.notify(this,k.ui)},options:{name:"TreeMap",theme:"default",autoBind:true,textField:"text",valueField:"value",colorField:"color"},events:[L,K],_initTheme:function(O){var P=this,M=k.ui.themes||{},Q=((O||{}).theme||"").toLowerCase(),N=(M[Q]||{}).treeMap;P.options=F({},N,O)},_attachEvents:function(){this.element.on(q,I(this._mouseover,this)).on(p,I(this._mouseleave,this))},_setLayout:function(){if(this.options.type==="horizontal"){this._layout=new E(false);this._view=new c(this,this.options)}else{if(this.options.type==="vertical"){this._layout=new E(true);this._view=new c(this,this.options)}else{this._layout=new u();this._view=new s(this,this.options)}}},_initDataSource:function(){var N=this,M=N.options,O=M.dataSource;N._dataChangeHandler=I(N._onDataChange,N);N.dataSource=l.create(O).bind(w,N._dataChangeHandler);if(O){if(N.options.autoBind){N.dataSource.fetch()}}},setDataSource:function(N){var M=this;M.dataSource.unbind(w,M._dataChangeHandler);M.dataSource=N.bind(w,M._dataChangeHandler);if(N){if(M.options.autoBind){M.dataSource.fetch()}}},_onDataChange:function(R){var N=R.node;var S=R.items;var V=this.options;var U,P,M;if(!N){this.element.empty();U=this._wrapItem(S[0]);this._layout.createRoot(U,this.element.outerWidth(),this.element.outerHeight(),this.options.type==="vertical");this._view.createRoot(U);this._root=U}else{if(S.length){var T=this._getByUid(N.uid);T.children=[];if(!H(T.minColor)&&!H(T.maxColor)){M=V.colors||[]}else{M=D(T.minColor,T.maxColor,S.length)||[]}for(P=0;P<S.length;P++){U=S[P];T.children.push(this._wrapItem(U))}var Q=this._view.htmlSize(T);this._layout.compute(T.children,T.coord,Q);for(P=0;P<T.children.length;P++){U=T.children[P];if(!H(U.color)){if(typeof(M[0])==="string"){U.color=M[P%M.length]}else{var O=M[P%M.length];if(O){U.color=O[0];U.minColor=O[0];U.maxColor=O[1]}}}}this._view.render(T)}}for(P=0;P<S.length;P++){S[P].load()}if(N){this.trigger(L,{node:N})}},_contentSize:function(M){this.view.renderHeight(M)},_wrapItem:function(N){var M={};if(H(this.options.valueField)){M.value=j(this.options.valueField,N)}if(H(this.options.colorField)){M.color=j(this.options.colorField,N)}if(H(this.options.textField)){M.text=j(this.options.textField,N)}M.level=N.level();M.dataItem=N;return M},_getByUid:function(N){var M=[this._root];var O;while(M.length){O=M.pop();if(O.dataItem.uid===N){return O}if(O.children){M=M.concat(O.children)}}},dataItem:function(N){var M=y(N).attr(B.attr("uid")),O=this.dataSource;return O&&O.getByUid(M)},findByUid:function(M){return this.element.find(".k-treemap-tile["+B.attr("uid")+"='"+M+"']")},_mouseover:function(N){var M=y(N.target);if(M.hasClass("k-leaf")){this._removeActiveState();M.removeClass("k-state-hover").addClass("k-state-hover")}},_removeActiveState:function(){this.element.find(".k-state-hover").removeClass("k-state-hover")},_mouseleave:function(){this._removeActiveState()},destroy:function(){g.fn.destroy.call(this);this.element.off(C);if(this.dataSource){this.dataSource.unbind(w,this._dataChangeHandler)}this._root=null;B.destroy(this.element)},items:function(){return y()},getSize:function(){return B.dimensions(this.element)},_resize:function(){this.dataSource.fetch()},setOptions:function(M){var N=M.dataSource;M.dataSource=o;this._originalOptions=F(this._originalOptions,M);this.options=F({},this._originalOptions);this._setLayout();this._initTheme(this.options);g.fn._setEvents.call(this,M);if(N){this.setDataSource(l.create(N))}if(this.options.autoBind){this.dataSource.fetch()}}});var u=d.extend({createRoot:function(N,O,M){N.coord={width:O,height:M,top:0,left:0}},leaf:function(M){return !M.children},layoutChildren:function(T,Q){var M=Q.width*Q.height;var U=0,O=[],P;for(P=0;P<T.length;P++){O[P]=parseFloat(T[P].value);U+=O[P]}for(P=0;P<O.length;P++){T[P].area=M*O[P]/U}var N=this.layoutHorizontal()?Q.height:Q.width;T=new B.data.Query(T)._sortForGrouping("value","desc");var S=[T[0]];var R=T.slice(1);this.squarify(R,S,N,Q)},squarify:function(M,O,N,P){this.computeDim(M,O,N,P)},computeDim:function(M,Q,P,S){if(M.length+Q.length==1){var N=M.length==1?M:Q;this.layoutLast(N,P,S);return}if(M.length>=2&&Q.length===0){Q=[M[0]];M=M.slice(1)}if(M.length===0){if(Q.length>0){this.layoutRow(Q,P,S)}return}var O=M[0];if(this.worstAspectRatio(Q,P)>=this.worstAspectRatio([O].concat(Q),P)){this.computeDim(M.slice(1),Q.concat([O]),P,S)}else{var R=this.layoutRow(Q,P,S);this.computeDim(M,[],R.dim,R)}},layoutLast:function(N,M,O){N[0].coord=O},layoutRow:function(M,N,O){if(this.layoutHorizontal()){return this.layoutV(M,N,O)}else{return this.layoutH(M,N,O)}},orientation:"h",layoutVertical:function(){return this.orientation==="v"},layoutHorizontal:function(){return this.orientation==="h"},layoutChange:function(){this.orientation=this.layoutVertical()?"h":"v"},worstAspectRatio:function(N,Q){if(!N||N.length===0){return b}var P=0,M=0,S=b;for(var O=0;O<N.length;O++){var R=N[O].area;P+=R;S=(S<R)?S:R;M=(M>R)?M:R}return v.max((Q*Q*M)/(P*P),(P*P)/(Q*Q*S))},compute:function(N,P,O){if(!(P.width>=P.height&&this.layoutHorizontal())){this.layoutChange()}if(N&&N.length>0){var M={width:P.width,height:P.height-O.text,top:0,left:0};this.layoutChildren(N,M)}},layoutV:function(O,R,T){var P=this._totalArea(O),S=0;R=J(P/R);for(var Q=0;Q<O.length;Q++){var M=J(O[Q].area/R);O[Q].coord={height:M,width:R,top:T.top+S,left:T.left};S+=M}var N={height:T.height,width:T.width-R,top:T.top,left:T.left+R};N.dim=v.min(N.width,N.height);if(N.dim!=N.height){this.layoutChange()}return N},layoutH:function(Q,M,P){var U=this._totalArea(Q);var T=J(U/M),R=P.top,N=0;for(var O=0;O<Q.length;O++){Q[O].coord={height:T,width:J(Q[O].area/T),top:R,left:P.left+N};N+=Q[O].coord.width}var S={height:P.height-T,width:P.width,top:P.top+T,left:P.left};S.dim=v.min(S.width,S.height);if(S.dim!=S.width){this.layoutChange()}return S},_totalArea:function(M){var O=0;for(var N=0;N<M.length;N++){O+=M[N].area}return O}});var s=d.extend({init:function(N,M){this.options=F({},this.options,M);this.treeMap=N;this.element=y(N.element);this.offset=0},htmlSize:function(N){var M=this._getByUid(N.dataItem.uid);var O={text:0};if(N.children){this._clean(M);var Q=this._getText(N);if(Q){var P=this._createTitle(N);M.append(P);O.text=P.height()}M.append(this._createWrap());this.offset=(M.outerWidth()-M.innerWidth())/2}return O},_getByUid:function(M){return this.element.find(".k-treemap-tile["+B.attr("uid")+"='"+M+"']")},render:function(P){var M=this._getByUid(P.dataItem.uid);var R=P.children;if(R){var O=M.find(".k-treemap-wrap");for(var Q=0;Q<R.length;Q++){var N=R[Q];var S=this._createLeaf(N);O.append(S);this.treeMap.trigger(K,{element:S})}}},createRoot:function(M){var N=this._createLeaf(M);this.element.append(N);this.treeMap.trigger(K,{element:N})},_clean:function(M){M.css("background-color","");M.removeClass("k-leaf");M.removeClass("k-inverse");M.empty()},_createLeaf:function(M){return this._createTile(M).css("background-color",M.color).addClass("k-leaf").toggleClass("k-inverse",this._tileColorBrightness(M)>180).append(y("<div></div>").html(this._getText(M)))},_createTile:function(O){var M={width:O.coord.width,height:O.coord.height,left:O.coord.left,top:O.coord.top};if(M.left&&this.offset){M.width+=this.offset*2}else{M.width+=this.offset}if(M.top){M.height+=this.offset*2}else{M.height+=this.offset}var N=y("<div class='k-treemap-tile'></div>").css({width:M.width,height:M.height,left:M.left,top:M.top});if(H(O.dataItem)&&H(O.dataItem.uid)){N.attr(B.attr("uid"),O.dataItem.uid)}return N},_getText:function(M){var N=M.text;if(this.options.template){N=this._renderTemplate(M)}return N},_renderTemplate:function(N){var M=h(this.options.template);return M({dataItem:N.dataItem,text:N.text})},_createTitle:function(M){return y("<div class='k-treemap-title'></div>").append(y("<div></div>").html(this._getText(M)))},_createWrap:function(){return y("<div class='k-treemap-wrap'></div>")},_tileColorBrightness:function(M){return m(M.color)}});var E=d.extend({createRoot:function(N,P,M,O){N.coord={width:P,height:M,top:0,left:0};N.vertical=O},init:function(M){this.vertical=M;this.quotient=M?1:0},compute:function(O,R,Q){if(O.length>0){var P=R.width;var M=R.height;if(this.vertical){M-=Q.text}else{P-=Q.text}var N={width:P,height:M,top:0,left:0};this.layoutChildren(O,N)}},layoutChildren:function(N,S){var M=S.width*S.height;var O=0;var R=[];var P;for(P=0;P<N.length;P++){var Q=N[P];R[P]=parseFloat(N[P].value);O+=R[P];Q.vertical=this.vertical}for(P=0;P<R.length;P++){N[P].area=M*R[P]/O}N=new B.data.Query(N)._sortForGrouping("value","desc");this.sliceAndDice(N,S)},sliceAndDice:function(M,O){var N=this._totalArea(M);if(M[0].level%2===this.quotient){this.layoutHorizontal(M,O,N)}else{this.layoutVertical(M,O,N)}},layoutHorizontal:function(M,S,N){var R=0;for(var O=0;O<M.length;O++){var Q=M[O];var P=Q.area/(N/S.width);Q.coord={height:S.height,width:P,top:S.top,left:S.left+R};R+=P}},layoutVertical:function(N,S,O){var R=0;for(var P=0;P<N.length;P++){var Q=N[P];var M=Q.area/(O/S.height);Q.coord={height:M,width:S.width,top:S.top+R,left:S.left};R+=M}},_totalArea:function(M){var O=0;for(var N=0;N<M.length;N++){O+=M[N].area}return O}});var c=s.extend({htmlSize:function(N){var M=this._getByUid(N.dataItem.uid);var O={text:0,offset:0};if(N.children){this._clean(M);var Q=this._getText(N);if(Q){var P=this._createTitle(N);M.append(P);if(N.vertical){O.text=P.height()}else{O.text=P.width()}}M.append(this._createWrap());this.offset=(M.outerWidth()-M.innerWidth())/2}return O},_createTitle:function(M){var N;if(M.vertical){N=y("<div class='k-treemap-title'></div>")}else{N=y("<div class='k-treemap-title-vertical'></div>")}return N.append(y("<div></div>").html(this._getText(M)))}});function e(N,M){return H(N)?N:M}function j(N,O){if(O===null){return O}var M=t(N,true);return M(O)}function H(M){return typeof M!==z}function D(P,T,N){var U=f(P);var Q=f(T);var O=m(P)-m(T)<0;var M=[];M.push(P);for(var R=0;R<N;R++){var S={r:r(U.r,Q.r,R,N,O),g:r(U.g,Q.g,R,N,O),b:r(U.b,Q.b,R,N,O)};M.push(a(S))}M.push(T);return M}function r(T,V,U,O,Q){var R=v.min(v.abs(T),v.abs(V));var N=v.max(v.abs(T),v.abs(V));var P=(N-R)/(O+1);var M=P*(U+1);var S;if(Q){S=R+M}else{S=N-M}return S}function a(M){return"#"+n(M.r)+n(M.g)+n(M.b)}function f(M){M=M.replace("#","");var N=A(M);return{r:G(N.r),g:G(N.g),b:G(N.b)}}function n(N){var M=v.round(N).toString(16).toUpperCase();if(M.length===1){M="0"+M}return M}function A(M){var N=M.length;var O={};if(N===3){O.r=M[0];O.g=M[1];O.b=M[2]}else{O.r=M.substring(0,2);O.g=M.substring(2,4);O.b=M.substring(4,6)}return O}function G(M){return parseInt(M.toString(16),16)}function m(M){var N=0;if(M){M=f(M);N=v.sqrt(0.241*M.r*M.r+0.691*M.g*M.g+0.068*M.b*M.b)}return N}function J(N){var M=v.pow(10,4);return v.round(N*M)/M}k.ui.plugin(i)})(window.kendo.jQuery);(function(d,b){var f=window.kendo,h=f.mobile.ui,g=h.Shim,i=h.Widget,k="beforeOpen",c="open",e="close",j="init",a='<div class="km-modalview-wrapper" />';var l=h.View.extend({init:function(o,n){var q=this,p,m;i.fn.init.call(q,o,n);q._id();q._wrap();q._shim();if(!this.options.$angular){q._layout();q._scroller();q._model()}q.element.css("display","");q.trigger(j)},events:[j,k,c,e],options:{name:"ModalView",modal:true,width:null,height:null},destroy:function(){i.fn.destroy.call(this);this.shim.destroy()},open:function(n){var m=this;m.target=d(n);m.shim.show();m._invokeNgController();m.trigger("show",{view:m})},openFor:function(m){if(!this.trigger(k,{target:m})){this.open(m);this.trigger(c,{target:m})}},close:function(){if(this.element.is(":visible")&&!this.trigger(e)){this.shim.hide()}},_wrap:function(){var q=this,o=q.element,n=q.options,p,m;p=o[0].style.width||"auto";m=o[0].style.height||"auto";o.addClass("km-modalview").wrap(a);q.wrapper=o.parent().css({width:n.width||p||300,height:n.height||m||300}).addClass(m=="auto"?" km-auto-height":"");o.css({width:"",height:""})},_shim:function(){var m=this;m.shim=new g(m.wrapper,{modal:m.options.modal,position:"center center",align:"center center",effect:"fade:in",className:"km-modalview-root",hide:function(n){if(m.trigger(e)){n.preventDefault()}}})}});h.plugin(l)})(window.kendo.jQuery);(function(j,f){var m=window.kendo,a=m.mobile,h=m.support.mobileOS,l=m.effects.Transition,q=m.roleSelector,b="x",o=a.ui,e=!(h.ios&&h.majorVersion==7&&!h.appMode),d="beforeShow",p="init",n="show",i="hide",k="afterHide",g={enable:j.noop};var c=o.View.extend({init:function(u,s){j(u).parent().prepend(u);a.ui.Widget.fn.init.call(this,u,s);if(!this.options.$angular){this._layout();this._scroller()}this._model();var x=this.element.closest(q("pane")).data("kendoMobilePane"),w;if(x){this.pane=x;this.pane.bind("viewShow",function(y){v._viewShow(y)});this.pane.bind("sameViewRequested",function(){v.hide()});w=this.userEvents=new m.UserEvents(x.element,{filter:q("view splitview"),allowSelection:true})}else{this.currentView=g;var r=j(this.options.container);if(!r){throw new Error("The drawer needs a container configuration option set.")}w=this.userEvents=new m.UserEvents(r,{allowSelection:true});this._attachTransition(r)}var v=this;var t=function(y){if(v.visible){v.hide();y.preventDefault()}};if(this.options.swipeToOpen&&e){w.bind("press",function(y){v.transition.cancel()});w.bind("start",function(y){v._start(y)});w.bind("move",function(y){v._update(y)});w.bind("end",function(y){v._end(y)});w.bind("tap",t)}else{w.bind("press",t)}this.leftPositioned=this.options.position==="left";this.visible=false;this.element.hide().addClass("km-drawer").addClass(this.leftPositioned?"km-left-drawer":"km-right-drawer");this.trigger(p)},options:{name:"Drawer",position:"left",views:[],swipeToOpenViews:[],swipeToOpen:true,title:"",container:null},events:[d,i,k,p,n],show:function(){if(this._activate()){this._show()}},hide:function(){if(!this.currentView){return}this.currentView.enable();c.current=null;this._moveViewTo(0);this.trigger(i,{view:this})},openFor:function(){if(this.visible){this.hide()}else{this.show()}},destroy:function(){o.View.fn.destroy.call(this);this.userEvents.destroy()},_activate:function(){if(this.visible){return true}var r=this._currentViewIncludedIn(this.options.views);if(!r||this.trigger(d,{view:this})){return false}this._setAsCurrent();this.element.show();this.trigger(n,{view:this});this._invokeNgController();return true},_currentViewIncludedIn:function(s){if(!this.pane||!s.length){return true}var r=this.pane.view();return j.inArray(r.id.replace("#",""),s)>-1||j.inArray(r.element.attr("id"),s)>-1},_show:function(){this.currentView.enable(false);this.visible=true;var r=this.element.width();if(!this.leftPositioned){r=-r}this._moveViewTo(r)},_setAsCurrent:function(){if(c.last!==this){if(c.last){c.last.element.hide()}this.element.show()}c.last=this;c.current=this},_moveViewTo:function(r){this.userEvents.cancel();this.transition.moveTo({location:r,duration:400,ease:l.easeOutExpo})},_viewShow:function(r){if(this.currentView){this.currentView.enable()}if(this.currentView===r.view){this.hide();return}this.currentView=r.view;this._attachTransition(r.view.element)},_attachTransition:function(r){var s=this,u=this.movable,t=u&&u.x;if(this.transition){this.transition.cancel();this.movable.moveAxis("x",0)}u=this.movable=new m.ui.Movable(r);this.transition=new l({axis:b,movable:this.movable,onEnd:function(){if(u[b]===0){r[0].style.cssText="";s.element.hide();s.trigger(k);s.visible=false}}});if(t){r.addClass("k-fx-hidden");m.animationFrame(function(){r.removeClass("k-fx-hidden");s.movable.moveAxis(b,t);s.hide()})}},_start:function(w){var v=w.sender;if(Math.abs(w.x.velocity)<Math.abs(w.y.velocity)||m.triggeredByInput(w.event)||!this._currentViewIncludedIn(this.options.swipeToOpenViews)){v.cancel();return}var u=this.leftPositioned,x=this.visible,r=u&&x||!u&&!c.current,s=!u&&x||u&&!c.current,t=w.x.velocity<0;if((r&&t)||(s&&!t)){if(this._activate()){v.capture();return}}v.cancel()},_update:function(u){var t=this.movable,r=t.x+u.x.delta,s;if(this.leftPositioned){s=Math.min(Math.max(0,r),this.element.width())}else{s=Math.max(Math.min(0,r),-this.element.width())}this.movable.moveAxis(b,s);u.event.preventDefault();u.event.stopPropagation()},_end:function(v){var u=v.x.velocity,s=Math.abs(this.movable.x)>this.element.width()/2,t=0.8,r;if(this.leftPositioned){r=u>-t&&(u>t||s)}else{r=u<t&&(u<-t||s)}if(r){this._show()}else{this.hide()}}});o.plugin(c)})(window.kendo.jQuery);(function(e,h){var g=window.kendo,d=g.mobile.ui,c=d.Widget,a="<div class='km-expanded-pane-shim' />",f=d.View;var b=f.extend({init:function(j,i){var k=this,m,l;c.fn.init.call(k,j,i);j=k.element;e.extend(k,i);k._id();if(!k.options.$angular){k._layout();k._overlay()}else{k._overlay()}k._style();l=j.children(k._locate("modalview"));if(!k.options.$angular){g.mobile.init(l)}else{l.each(function(n,o){g.compileMobileDirective(e(o),i.$angular[0])})}k.panes=[];k._paramsHistory=[];if(!k.options.$angular){k.content.children(g.roleSelector("pane")).each(function(){m=g.initWidget(this,{},d.roles);k.panes.push(m)})}else{k.element.children(g.directiveSelector("pane")).each(function(){m=g.compileMobileDirective(e(this),i.$angular[0]);k.panes.push(m)});k.element.children(g.directiveSelector("header footer")).each(function(){g.compileMobileDirective(e(this),i.$angular[0])})}k.expandedPaneShim=e(a).appendTo(k.element);k._shimUserEvents=new g.UserEvents(k.expandedPaneShim,{tap:function(){k.collapsePanes()}})},_locate:function(i){return this.options.$angular?g.directiveSelector(i):g.roleSelector(i)},options:{name:"SplitView",style:"horizontal"},expandPanes:function(){this.element.addClass("km-expanded-splitview")},collapsePanes:function(){this.element.removeClass("km-expanded-splitview")},_layout:function(){var j=this,i=j.element;j.transition=g.attrValue(i,"transition");g.mobile.ui.View.prototype._layout.call(this);g.mobile.init(this.header.add(this.footer));j.element.addClass("km-splitview");j.content.addClass("km-split-content")},_style:function(){var j=this.options.style,i=this.element,k;if(j){k=j.split(" ");e.each(k,function(){i.addClass("km-split-"+this)})}},showStart:function(){var i=this;i.element.css("display","");if(!i.inited){i.inited=true;e.each(i.panes,function(){if(this.options.initial){this.navigateToInitial()}else{this.navigate("")}});i.trigger("init",{view:i})}else{this._invokeNgController()}i.trigger("show",{view:i})}});d.plugin(b)})(window.kendo.jQuery);(function(t,j){var u=window.kendo,w=u.mobile,E=u.support,f=w.ui.Widget,x=w.ui.Pane,b="ios7",l=E.mobileOS,d=l.device=="blackberry"&&l.flatVersion>=600&&l.flatVersion<1000&&l.appMode,J=0.93,o="km-vertical",r=l.browser==="chrome",s=l.ios&&l.flatVersion>=700&&l.flatVersion<800&&(l.appMode||r),p=(Math.abs(window.orientation)/90==1),k="km-horizontal",F={ios7:{ios:true,browser:"default",device:"iphone",flatVersion:"700",majorVersion:"7",minorVersion:"0.0",name:"ios",tablet:false},ios:{ios:true,browser:"default",device:"iphone",flatVersion:"612",majorVersion:"6",minorVersion:"1.2",name:"ios",tablet:false},android:{android:true,browser:"default",device:"android",flatVersion:"442",majorVersion:"4",minorVersion:"4.2",name:"android",tablet:false},blackberry:{blackberry:true,browser:"default",device:"blackberry",flatVersion:"710",majorVersion:"7",minorVersion:"1.0",name:"blackberry",tablet:false},meego:{meego:true,browser:"default",device:"meego",flatVersion:"850",majorVersion:"8",minorVersion:"5.0",name:"meego",tablet:false},wp:{wp:true,browser:"default",device:"wp",flatVersion:"800",majorVersion:"8",minorVersion:"0.0",name:"wp",tablet:false}},g=u.template('<meta content="initial-scale=#: data.scale #, maximum-scale=#: data.scale #, processor-scalable=no#=data.height#" name="viewport" />',{usedWithBlock:false}),c=u.template('<meta name="apple-mobile-web-app-capable" content="#= data.webAppCapable === false ? \'no\' : \'yes\' #" /> <meta name="apple-mobile-web-app-status-bar-style" content="#=data.statusBarStyle#" /> <meta name="msapplication-tap-highlight" content="no" /> ',{usedWithBlock:false}),y=u.template("<style>.km-view { clip: rect(0 #= data.width #px #= data.height #px 0); }</style>",{usedWithBlock:false}),a=l.android&&l.browser!="chrome"||l.blackberry,B=u.template('<link rel="apple-touch-icon'+(l.android?"-precomposed":"")+'" # if(data.size) { # sizes="#=data.size#" #}# href="#=data.icon#" />',{usedWithBlock:false}),G=(l.device=="iphone"||l.device=="ipod")&&l.majorVersion<7,q=(l.device=="iphone"||l.device=="ipod")&&l.majorVersion>=7,D=q?"none":null,M=l.browser=="mobilesafari"?60:0,z=20,m=t(window),H=window.screen,v=t("head"),h="init",I=t.proxy;function L(P,N){var O=[];if(l){O.push("km-on-"+l.name)}if(P.skin){O.push("km-"+P.skin)}else{if(P.name=="ios"&&P.majorVersion>6){O.push("km-ios7")}else{O.push("km-"+P.name)}}if((P.name=="ios"&&P.majorVersion<7)||P.name!="ios"){O.push("km-"+P.name+P.majorVersion)}O.push("km-"+P.majorVersion);O.push("km-m"+(P.minorVersion?P.minorVersion[0]:0));if(P.variant&&((P.skin&&P.skin===P.name)||!P.skin||P.setDefaultPlatform===false)){O.push("km-"+(P.skin?P.skin:P.name)+"-"+P.variant)}if(P.cordova){O.push("km-cordova")}if(P.appMode){O.push("km-app")}else{O.push("km-web")}if(N&&N.statusBarStyle){O.push("km-"+N.statusBarStyle+"-status-bar")}return O.join(" ")}function i(N){return"km-wp-"+(N.noVariantSet?(parseInt(t("<div style='background: Background' />").css("background-color").split(",")[1],10)===0?"dark":"light"):N.variant+" km-wp-"+N.variant+"-force")}function n(N){return l.wp?N.css("animation-name")=="-kendo-landscape":(Math.abs(window.orientation)/90==1)}function K(N){return n(N)?k:o}function A(N){N.parent().addBack().css("min-height",window.innerHeight)}function e(){t("meta[name=viewport]").remove();v.append(g({height:", width=device-width"+(n()?", height="+window.innerHeight+"px":(E.mobileOS.flatVersion>=600&&E.mobileOS.flatVersion<700)?", height="+window.innerWidth+"px":", height=device-height")}))}var C=f.extend({init:function(O,N){w.application=this;t(t.proxy(this,"bootstrap",O,N))},bootstrap:function(O,N){O=t(O);if(!O[0]){O=t(document.body)}f.fn.init.call(this,O,N);this.element.removeAttr("data-"+u.ns+"role");this._setupPlatform();this._attachMeta();this._setupElementClass();this._attachHideBarHandlers();var Q=t.extend({},this.options);delete Q.name;var P=this,R=function(){P.pane=new x(P.element,Q);P.pane.navigateToInitial();if(P.options.updateDocumentTitle){P._setupDocumentTitle()}P._startHistory();P.trigger(h)};if(this.options.$angular){setTimeout(R)}else{R()}},options:{name:"Application",hideAddressBar:true,browserHistory:true,historyTransition:D,modelScope:window,statusBarStyle:"black",transition:"",retina:false,platform:null,skin:null,updateDocumentTitle:true,useNativeScrolling:false},events:[h],navigate:function(N,O){this.pane.navigate(N,O)},replace:function(N,O){this.pane.replace(N,O)},scroller:function(){return this.view().scroller},hideLoading:function(){if(this.pane){this.pane.hideLoading()}else{throw new Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.")}},showLoading:function(){if(this.pane){this.pane.showLoading()}else{throw new Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.")}},changeLoadingMessage:function(N){if(this.pane){this.pane.changeLoadingMessage(N)}else{throw new Error("The mobile application instance is not fully instantiated. Please consider changing the message in the application init event handler.")}},view:function(){return this.pane.view()},skin:function(O){var N=this;if(!arguments.length){return N.options.skin}N.options.skin=O||"";N.element[0].className="km-pane";N._setupPlatform();N._setupElementClass();return N.options.skin},destroy:function(){f.fn.destroy.call(this);this.pane.destroy();this.router.destroy()},_setupPlatform:function(){var P=this,N=P.options.platform,R=P.options.skin,O=[],Q=l||F[b];if(N){Q.setDefaultPlatform=true;if(typeof N==="string"){O=N.split("-");Q=t.extend({variant:O[1]},Q,F[O[0]])}else{Q=N}}if(R){O=R.split("-");if(!l){Q.setDefaultPlatform=false}Q=t.extend({},Q,{skin:O[0],variant:O[1]})}if(!Q.variant){Q.noVariantSet=true;Q.variant="dark"}P.os=Q;P.osCssClass=L(P.os,P.options);if(Q.name=="wp"){if(!P.refreshBackgroundColorProxy){P.refreshBackgroundColorProxy=t.proxy(function(){if(P.os.variant&&(P.os.skin&&P.os.skin===P.os.name)||!P.os.skin){P.element.removeClass("km-wp-dark km-wp-light km-wp-dark-force km-wp-light-force").addClass(i(P.os))}},P)}t(document).off("visibilitychange",P.refreshBackgroundColorProxy);t(document).off("resume",P.refreshBackgroundColorProxy);if(!Q.skin){P.element.parent().css("overflow","hidden");t(document).on("visibilitychange",P.refreshBackgroundColorProxy);t(document).on("resume",P.refreshBackgroundColorProxy);P.refreshBackgroundColorProxy()}}},_startHistory:function(){if(this.options.browserHistory){this.router=new u.Router({pushState:this.options.pushState,root:this.options.root,hashBang:this.options.hashBang});this.pane.bindToRouter(this.router);this.router.start()}else{if(!this.options.initial){this.pane.navigate("")}}},_resizeToScreenHeight:function(){var P=t("meta[name=apple-mobile-web-app-status-bar-style]").attr("content").match(/black-translucent|hidden/),O=this.element,N;if(r){N=window.innerHeight}else{if(n(O)){if(P){if(p){N=H.availWidth+z}else{N=H.availWidth}}else{if(p){N=H.availWidth}else{N=H.availWidth-z}}}else{if(P){if(p){N=H.availHeight}else{N=H.availHeight+z}}else{if(p){N=H.availHeight-z}else{N=H.availHeight}}}}O.height(N)},_setupElementClass:function(){var P=this,O,N=P.element;N.parent().addClass("km-root km-"+(P.os.tablet?"tablet":"phone"));N.addClass(P.osCssClass+" "+K(N));if(this.options.useNativeScrolling){N.parent().addClass("km-native-scrolling")}if(r){N.addClass("km-ios-chrome")}if(E.wpDevicePixelRatio){N.parent().css("font-size",E.wpDevicePixelRatio+"em")}if(this.options.retina){N.parent().addClass("km-retina");N.parent().css("font-size",(E.devicePixelRatio*J)+"em")}if(d){e()}if(P.options.useNativeScrolling){N.parent().addClass("km-native-scrolling")}else{if(a){O=(screen.availWidth>screen.availHeight?screen.availWidth:screen.availHeight)+200;t(y({width:O,height:O})).appendTo(v)}}if(s){P._resizeToScreenHeight()}u.onResize(function(){N.removeClass("km-horizontal km-vertical").addClass(K(N));if(P.options.useNativeScrolling){A(N)}if(s){P._resizeToScreenHeight()}if(d){e()}u.resize(N)})},_clearExistingMeta:function(){v.find("meta").filter("[name|='apple-mobile-web-app'],[name|='msapplication-tap'],[name='viewport']").remove()},_attachMeta:function(){var N=this.options,P=N.icon,O;this._clearExistingMeta();if(!d){v.prepend(g({height:"",scale:this.options.retina?1/E.devicePixelRatio:"1.0"}))}v.prepend(c(N));if(P){if(typeof P==="string"){P={"":P}}for(O in P){v.prepend(B({icon:P[O],size:O}))}}if(N.useNativeScrolling){A(this.element)}},_attachHideBarHandlers:function(){var O=this,N=I(O,"_hideBar");if(E.mobileOS.appMode||!O.options.hideAddressBar||!G||O.options.useNativeScrolling){return}O._initialHeight={};m.on("load",N);u.onResize(function(){setTimeout(window.scrollTo,0,0,1)})},_setupDocumentTitle:function(){var O=this,N=document.title;O.pane.bind("viewShow",function(P){var Q=P.view.title;document.title=Q!==j?Q:N})},_hideBar:function(){var O=this,N=O.element;N.height(u.support.transforms.css+"calc(100% + "+M+"px)");t(window).trigger(u.support.resize)}});u.mobile.Application=C;u.ui.plugin(C,u.mobile,"Mobile")})(window.kendo.jQuery);(function(d,b){var i=window.kendo,a=i.mobile,k=a.ui,l=k.Widget,p=i.support,c=p.mobileOS,o=c.android&&c.flatVersion>=300,h="click",g="disabled",j="km-state-disabled";function q(t,s,r){d(s.target).closest(".km-button,.km-detail").toggleClass("km-state-active",r);if(o&&t.deactivateTimeoutID){clearTimeout(t.deactivateTimeoutID);t.deactivateTimeoutID=0}}function f(r){return d('<span class="km-badge">'+r+"</span>")}var e=l.extend({init:function(s,r){var u=this;l.fn.init.call(u,s,r);var t=u.options.clickOn==="up";u._wrap();u._style();if(!t){u.element.attr("data-navigate-on-press",true)}u.options.enable=u.options.enable&&!u.element.attr(g);u.enable(u.options.enable);u._userEvents=new i.UserEvents(u.element,{allowSelection:!t,press:function(v){u._activate(v)},release:function(v){q(u,v,false);if(!t){v.event.stopPropagation()}}});u._userEvents.bind(t?"tap":"press",function(v){u._release(v)});if(o){u.element.on("move",function(v){u._timeoutDeactivate(v)})}},destroy:function(){l.fn.destroy.call(this);this._userEvents.destroy()},events:[h],options:{name:"Button",icon:"",style:"",badge:"",clickOn:"up",enable:true},badge:function(s){var r=this.badgeElement=this.badgeElement||f(s).appendTo(this.element);if(s||s===0){r.html(s);return this}if(s===false){r.empty().remove();this.badgeElement=false;return this}return r.html()},enable:function(r){var s=this.element;if(typeof r=="undefined"){r=true}this.options.enable=r;if(r){s.removeAttr(g)}else{s.attr(g,g)}s.toggleClass(j,!r)},_timeoutDeactivate:function(r){if(!this.deactivateTimeoutID){this.deactivateTimeoutID=setTimeout(q,500,this,r,false)}},_activate:function(s){var r=document.activeElement,t=r?r.nodeName:"";if(this.options.enable){q(this,s,true);if(t=="INPUT"||t=="TEXTAREA"){r.blur()}}},_release:function(s){var r=this;if(s.which>1){return}if(!r.options.enable){s.preventDefault();return}if(r.trigger(h,{target:d(s.target),button:r.element})){s.preventDefault()}},_style:function(){var s=this.options.style,r=this.element,t;if(s){t=s.split(" ");d.each(t,function(){r.addClass("km-"+this)})}},_wrap:function(){var w=this,v=w.options.icon,s=w.options.badge,r='<span class="km-icon km-'+v,t=w.element.addClass("km-button"),u=t.children("span:not(.km-icon)").addClass("km-text"),x=t.find("img").addClass("km-image");if(!u[0]&&t.html()){u=t.wrapInner('<span class="km-text" />').children("span.km-text")}if(!x[0]&&v){if(!u[0]){r+=" km-notext"}w.iconElement=t.prepend(d(r+'" />'))}if(s||s===0){w.badgeElement=f(s).appendTo(t)}}});var n=e.extend({options:{name:"BackButton",style:"back"},init:function(s,r){var t=this;e.fn.init.call(t,s,r);if(typeof t.element.attr("href")==="undefined"){t.element.attr("href","#:back")}}});var m=e.extend({options:{name:"DetailButton",style:""},init:function(s,r){e.fn.init.call(this,s,r)},_style:function(){var s=this.options.style+" detail",r=this.element;if(s){var t=s.split(" ");d.each(t,function(){r.addClass("km-"+this)})}},_wrap:function(){var v=this,u=v.options.icon,r='<span class="km-icon km-'+u,s=v.element,t=s.children("span"),w=s.find("img").addClass("km-image");if(!w[0]&&u){if(!t[0]){r+=" km-notext"}s.prepend(d(r+'" />'))}}});k.plugin(e);k.plugin(n);k.plugin(m)})(window.kendo.jQuery);(function(d,b){var g=window.kendo,i=g.mobile.ui,j=i.Widget,k="km-state-active",a="km-state-disabled",h="select",c="li:not(."+k+")";function e(l){return d('<span class="km-badge">'+l+"</span>")}var f=j.extend({init:function(m,l){var n=this;j.fn.init.call(n,m,l);n.element.addClass("km-buttongroup").find("li").each(n._button);n.element.on(n.options.selectOn,c,"_select");n._enable=true;n.select(n.options.index);if(!n.options.enable){n._enable=false;n.wrapper.addClass(a)}},events:[h],options:{name:"ButtonGroup",selectOn:"down",index:-1,enable:true},current:function(){return this.element.find("."+k)},select:function(l){var n=this,m=-1;if(l===b||l===-1||!n._enable||d(l).is("."+a)){return}n.current().removeClass(k);if(typeof l==="number"){m=l;l=d(n.element[0].children[l])}else{if(l.nodeType){l=d(l);m=l.index()}}l.addClass(k);n.selectedIndex=m},badge:function(m,o){var n=this.element,l;if(!isNaN(m)){m=n.children().get(m)}m=n.find(m);l=d(m.children(".km-badge")[0]||e(o).appendTo(m));if(o||o===0){l.html(o);return this}if(o===false){l.empty().remove();return this}return l.html()},enable:function(l){var m=this.wrapper;if(typeof l=="undefined"){l=true}if(l){m.removeClass(a)}else{m.addClass(a)}this._enable=this.options.enable=l},_button:function(){var m=d(this).addClass("km-button"),o=g.attrValue(m,"icon"),l=g.attrValue(m,"badge"),n=m.children("span"),p=m.find("img").addClass("km-image");if(!n[0]){n=m.wrapInner("<span/>").children("span")}n.addClass("km-text");if(!p[0]&&o){m.prepend(d('<span class="km-icon km-'+o+'"/>'))}if(l||l===0){e(l).appendTo(m)}},_select:function(l){if(l.which>1||l.isDefaultPrevented()||!this._enable){return}this.select(l.currentTarget);this.trigger(h,{index:this.selectedIndex})}});i.plugin(f)})(window.kendo.jQuery);(function(d,f){var p=window.kendo,o=p.mobile.ui,b=o.Widget,n="km-collapsible",t="km-collapsible-header",g="km-collapsible-content",e="km-collapsibleinset",q="<div data-role='collapsible-header' class='"+t+"'></div>",r="<div data-role='collapsible-content' class='"+g+"'></div>",i="km-collapsed",h="km-expanded",k="km-animated",m="left",l="right",s="top",c="expand",a="collapse";var j=b.extend({init:function(w,v){var x=this,u=d(w);b.fn.init.call(x,u,v);u.addClass(n);x._buildHeader();x.content=u.children().not(x.header).wrapAll(r).parent();x._userEvents=new p.UserEvents(x.header,{tap:function(){x.toggle()}});u.addClass(x.options.collapsed?i:h);if(x.options.inset){u.addClass(e)}if(x.options.animation){x.content.addClass(k);x.content.height(0);if(x.options.collapsed){x.content.hide()}}else{if(x.options.collapsed){x.content.hide()}}},events:[c,a],options:{name:"Collapsible",collapsed:true,collapseIcon:"arrow-n",expandIcon:"arrow-s",iconPosition:m,animation:true,inset:false},destroy:function(){b.fn.destroy.call(this);this._userEvents.destroy()},expand:function(u){var w=this.options.collapseIcon,x=this.content,v=p.support.mobileOS.ios;if(!this.trigger(c)){if(w){this.header.find(".km-icon").removeClass().addClass("km-icon km-"+w)}this.element.removeClass(i).addClass(h);if(this.options.animation&&!u){x.off("transitionend");x.show();if(v){x.removeClass(k)}x.height(this._getContentHeight());if(v){x.addClass(k)}p.resize(x)}else{x.show()}}},collapse:function(u){var v=this.options.expandIcon,w=this.content;if(!this.trigger(a)){if(v){this.header.find(".km-icon").removeClass().addClass("km-icon km-"+v)}this.element.removeClass(h).addClass(i);if(this.options.animation&&!u){w.one("transitionend",function(){w.hide()});w.height(0)}else{w.hide()}}},toggle:function(u){if(this.isCollapsed()){this.expand(u)}else{this.collapse(u)}},isCollapsed:function(){return this.element.hasClass(i)},resize:function(){if(!this.isCollapsed()&&this.options.animation){this.content.height(this._getContentHeight())}},_buildHeader:function(){var x=this.element.children(":header").wrapAll(q),u=d('<span class="km-icon"/>'),v=this.options.collapsed?this.options.expandIcon:this.options.collapseIcon,w=this.options.iconPosition;if(v){x.prepend(u);u.addClass("km-"+v)}this.header=x.parent();this.header.addClass("km-icon-"+w)},_getContentHeight:function(){var v=this.content.attr("style"),u;this.content.css({position:"absolute",visibility:"hidden",height:"auto"});u=this.content.height();this.content.attr("style",v?v:"");return u}});o.plugin(j)})(window.kendo.jQuery);(function(D,n){var E=window.kendo,r=window.Node,F=E.mobile,K=F.ui,I=E.data.DataSource,g=K.DataBoundWidget,i=".km-list > li, > li:not(.km-group-container)",J=".km-listview-link, .km-listview-label",y="["+E.attr("icon")+"]",Q=D.proxy,d=E.attrValue,S="km-group-title",h="km-state-active",x='<div class="'+S+'"><div class="km-text"></div></div>',j=E.template('<li><div class="'+S+'"><div class="km-text">#= this.headerTemplate(data) #</div></div><ul>#= kendo.render(this.template, data.items)#</ul></li>'),T='<div class="km-listview-wrapper" />',G=E.template('<form class="km-filter-form"><div class="km-filter-wrap"><input type="search" placeholder="#=placeholder#"/><a href="\\#" class="km-filter-reset" title="Clear"><span class="km-icon km-clear"></span><span class="km-text">Clear</span></a></div></form>'),H=".kendoMobileListView",o="styled",k="dataBound",P="dataBinding",A="itemChange",O="click",C="change",t="progress",e="function",L=/^\s+$/,V=/button/;function w(){return this.nodeType===r.TEXT_NODE&&this.nodeValue.match(L)}function B(X,W){if(W&&!X[0].querySelector(".km-icon")){X.prepend('<span class="km-icon km-'+W+'"/>')}}function b(W){B(W,d(W,"icon"));B(W,d(W.children(y),"icon"))}function R(X){var W=X.parent(),Y=X.add(W.children(E.roleSelector("detailbutton"))),Z=W.contents().not(Y).not(w);if(Z.length){return}X.addClass("km-listview-link").attr(E.attr("role"),"listview-link");B(X,d(W,"icon"));B(X,d(X,"icon"))}function a(W){if(!W[0].querySelector("input[type=checkbox],input[type=radio]")){return}var X=W.parent();if(X.contents().not(W).not(function(){return this.nodeType==3})[0]){return}W.addClass("km-listview-label");W.children("[type=checkbox],[type=radio]").addClass("km-widget km-icon km-check")}function u(W,X){D(W).css("transform","translate3d(0px, "+X+"px, 0px)")}var v=E.Class.extend({init:function(Y){var W=Y.scroller();if(!W){return}this.options=Y.options;this.element=Y.element;this.scroller=Y.scroller();this._shouldFixHeaders();var X=this;var Z=function(){X._cacheHeaders()};Y.bind("resize",Z);Y.bind(o,Z);Y.bind(k,Z);W.bind("scroll",function(aa){X._fixHeader(aa)})},_fixHeader:function(aa){if(!this.fixedHeaders){return}var X=0,W=this.scroller,ac=this.headers,Z=aa.scrollTop,Y,ab,ad;do{Y=ac[X++];if(!Y){ad=D("<div />");break}ab=Y.offset;ad=Y.header}while(ab+1>Z);if(this.currentHeader!=X){W.fixedContainer.html(ad.clone());this.currentHeader=X}},_shouldFixHeaders:function(){this.fixedHeaders=this.options.type==="group"&&this.options.fixedHeaders},_cacheHeaders:function(){this._shouldFixHeaders();if(!this.fixedHeaders){return}var X=[],W=this.scroller.scrollTop;this.element.find("."+S).each(function(Y,Z){Z=D(Z);X.unshift({offset:Z.position().top+W,header:Z})});this.headers=X;this._fixHeader({scrollTop:W})}});var p=function(){return{page:1}};var U=E.Class.extend({init:function(X){var Z=this,Y=X.options,W=X.scroller(),aa=Y.pullParameters||p;this.listView=X;this.scroller=W;X.bind("_dataSource",function(ab){Z.setDataSource(ab.dataSource)});W.setOptions({pullToRefresh:true,pull:function(){if(!Z._pulled){Z._pulled=true;Z.dataSource.read(aa.call(X,Z._first))}},messages:{pullTemplate:Y.messages.pullTemplate,releaseTemplate:Y.messages.releaseTemplate,refreshTemplate:Y.messages.refreshTemplate}})},setDataSource:function(X){var W=this;this._first=X.view()[0];this.dataSource=X;X.bind("change",function(){W._change()});X.bind("error",function(){W._change()})},_change:function(){var W=this.scroller,Y=this.dataSource;if(this._pulled){W.pullHandled()}if(this._pulled||!this._first){var X=Y.view();if(X[0]){this._first=X[0]}}this._pulled=false}});var f=E.Observable.extend({init:function(W){var X=this;E.Observable.fn.init.call(X);X.buffer=W.buffer;X.height=W.height;X.item=W.item;X.items=[];X.footer=W.footer;X.buffer.bind("reset",function(){X.refresh()})},refresh:function(){var Z=this.buffer,aa=this.items,ac=false;while(aa.length){aa.pop().destroy()}this.offset=Z.offset;var Y=this.item,X,ab;for(var W=0;W<Z.viewSize;W++){if(W===Z.total()){ac=true;break}ab=Y(this.content(this.offset+aa.length));ab.below(X);X=ab;aa.push(ab)}this.itemCount=aa.length;this.trigger("reset");this._resize();if(ac){this.trigger("endReached")}},totalHeight:function(){if(!this.items[0]){return 0}var aa=this,Z=aa.items,ab=Z[0].top,Y=Z[Z.length-1].bottom,X=(Y-ab)/aa.itemCount,W=aa.buffer.length-aa.offset-aa.itemCount;return(this.footer?this.footer.height:0)+Y+W*X},batchUpdate:function(ab){var X=this.height(),Y=this.items,aa,Z=this.offset;if(!Y[0]){return}if(this.lastDirection){while(Y[Y.length-1].bottom>ab+X*2){if(this.offset===0){break}this.offset--;aa=Y.pop();aa.update(this.content(this.offset));aa.above(Y[0]);Y.unshift(aa)}}else{while(Y[0].top<ab-X){var W=this.offset+this.itemCount;if(W===this.buffer.total()){this.trigger("endReached");break}if(W===this.buffer.length){break}aa=Y.shift();aa.update(this.content(this.offset+this.itemCount));aa.below(Y[Y.length-1]);Y.push(aa);this.offset++}}if(Z!==this.offset){this._resize()}},update:function(ad){var ab=this,ac=this.items,ai,ae,ag,ah=this.height(),W=this.itemCount,af=ah/2,Z=(this.lastTop||0)>ad,Y=ad-af,X=ad+ah+af;if(!ac[0]){return}this.lastTop=ad;this.lastDirection=Z;if(Z){if(ac[0].top>Y&&ac[ac.length-1].bottom>X+af&&this.offset>0){this.offset--;ai=ac.pop();ae=ac[0];ai.update(this.content(this.offset));ac.unshift(ai);ai.above(ae);ab._resize()}}else{if(ac[ac.length-1].bottom<X&&ac[0].top<Y-af){var aa=this.offset+W;if(aa===this.buffer.total()){this.trigger("endReached")}else{if(aa!==this.buffer.length){ai=ac.shift();ag=ac[ac.length-1];ac.push(ai);ai.update(this.content(this.offset+this.itemCount));ab.offset++;ai.below(ag);ab._resize()}}}}},content:function(W){return this.buffer.at(W)},destroy:function(){this.unbind()},_resize:function(){var X=this.items,aa=0,W=0,Z=X[0],Y=X[X.length-1];if(Z){aa=Z.top;W=Y.bottom}this.trigger("resize",{top:aa,bottom:W});if(this.footer){this.footer.below(Y)}}});E.mobile.ui.VirtualList=f;var c=E.Class.extend({init:function(X,Y){var Z=X.append([Y],true)[0],W=Z.offsetHeight;D.extend(this,{top:0,element:Z,listView:X,height:W,bottom:W})},update:function(W){this.element=this.listView.setDataItem(this.element,W)},above:function(W){if(W){this.height=this.element.offsetHeight;this.top=W.top-this.height;this.bottom=W.top;u(this.element,this.top)}},below:function(W){if(W){this.height=this.element.offsetHeight;this.top=W.bottom;this.bottom=this.top+this.height;u(this.element,this.top)}},destroy:function(){E.destroy(this.element);D(this.element).remove()}});var q='<div><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span></div>';var m=E.Class.extend({init:function(W){this.element=D('<li class="km-load-more km-scroller-refresh" style="display: none"></li>').appendTo(W.element);this._loadIcon=D(q).appendTo(this.element)},enable:function(){this.element.show();this.height=this.element.outerHeight(true)},disable:function(){this.element.hide();this.height=0},below:function(W){if(W){this.top=W.bottom;this.bottom=this.height+this.top;u(this.element,this.top)}}});var s=m.extend({init:function(X,W){this._loadIcon=D(q).hide();this._loadButton=D('<a class="km-load">'+X.options.messages.loadMoreText+"</a>").hide();this.element=D('<li class="km-load-more" style="display: none"></li>').append(this._loadIcon).append(this._loadButton).appendTo(X.element);var Y=this;this._loadButton.kendoMobileButton().data("kendoMobileButton").bind("click",function(){Y._hideShowButton();W.next()});W.bind("resize",function(){Y._showLoadButton()});this.height=this.element.outerHeight(true);this.disable()},_hideShowButton:function(){this._loadButton.hide();this.element.addClass("km-scroller-refresh");this._loadIcon.css("display","block")},_showLoadButton:function(){this._loadButton.show();this.element.removeClass("km-scroller-refresh");this._loadIcon.hide()}});var l=E.Class.extend({init:function(X){var W=this;this.chromeHeight=X.wrapper.children().not(X.element).outerHeight()||0;this.listView=X;this.scroller=X.scroller();this.options=X.options;X.bind("_dataSource",function(Y){W.setDataSource(Y.dataSource,Y.empty)});X.bind("resize",function(){if(!W.list.items.length){return}W.scroller.reset();W.buffer.range(0);W.list.refresh()});this.scroller.makeVirtual();this.scroller.bind("scroll",function(Y){W.list.update(Y.scrollTop)});this.scroller.bind("scrollEnd",function(Y){W.list.batchUpdate(Y.scrollTop)})},destroy:function(){this.list.unbind();this.buffer.unbind()},setDataSource:function(W,Y){var af=this,ag=this.options,ae=this.listView,Z=ae.scroller(),ac=ag.loadMore,ab,X,ad;this.dataSource=W;ab=W.pageSize()||ag.virtualViewSize;if(!ab&&!Y){throw new Error("the DataSource does not have page size configured. Page Size setting is mandatory for the mobile listview virtual scrolling to work as expected.")}if(this.buffer){this.buffer.destroy()}X=new E.data.Buffer(W,Math.floor(ab/2),ac);if(ac){ad=new s(ae,X)}else{ad=new m(ae)}if(this.list){this.list.destroy()}var aa=new f({buffer:X,footer:ad,item:function(ah){return new c(ae,ah)},height:function(){return Z.height()}});aa.bind("resize",function(){af.updateScrollerSize();ae.updateSize()});aa.bind("reset",function(){af.footer.enable()});aa.bind("endReached",function(){ad.disable();af.updateScrollerSize()});X.bind("expand",function(){aa.lastDirection=false;aa.batchUpdate(Z.scrollTop)});D.extend(this,{buffer:X,scroller:Z,list:aa,footer:ad})},updateScrollerSize:function(){this.scroller.virtualSize(0,this.list.totalHeight()+this.chromeHeight)},refresh:function(){this.list.refresh()},reset:function(){this.buffer.range(0);this.list.refresh()}});var M=E.Class.extend({init:function(Y){var X=this;this.listView=Y;this.options=Y.options;var W=this;this._refreshHandler=function(Z){W.refresh(Z)};this._progressHandler=function(){Y.showLoading()};Y.bind("_dataSource",function(Z){X.setDataSource(Z.dataSource)})},destroy:function(){this._unbindDataSource()},reset:function(){},refresh:function(af){var ac=af&&af.action,aj=af&&af.items,ai=this.listView,W=this.dataSource,aa=this.options.appendOnRefresh,ag=W.view(),Z=W.group(),ah=Z&&Z[0],al;if(ac==="itemchange"&&!ai._hasBindingTarget()){al=ai.findByDataItem(aj)[0];if(al){ai.setDataItem(al,aj[0])}return}var ak,Y,ad;var X=(ac==="add"&&!ah)||(aa&&!ai._filter);var ab=ac==="remove"&&!ah;if(X){ak=[]}else{if(ab){ak=ai.findByDataItem(aj)}}if(ai.trigger(P,{action:ac||"rebind",items:aj,removedItems:ak,index:af&&af.index})){if(this._shouldShowLoading()){ai.hideLoading()}return}if(ac==="add"&&!ah){var ae=ag.indexOf(aj[0]);if(ae>-1){Y=ai.insertAt(aj,ae);ad=aj}}else{if(ac==="remove"&&!ah){Y=[];ai.remove(aj)}else{if(ah){ai.replaceGrouped(ag)}else{if(aa&&!ai._filter){Y=ai.prepend(ag);ad=ag}else{ai.replace(ag)}}}}if(this._shouldShowLoading()){ai.hideLoading()}ai.trigger(k,{ns:K,addedItems:Y,addedDataItems:ad})},setDataSource:function(W){if(this.dataSource){this._unbindDataSource()}this.dataSource=W;W.bind(C,this._refreshHandler);if(this._shouldShowLoading()){this.dataSource.bind(t,this._progressHandler)}},_unbindDataSource:function(){this.dataSource.unbind(C,this._refreshHandler).unbind(t,this._progressHandler)},_shouldShowLoading:function(){var W=this.options;return !W.pullToRefresh&&!W.loadMore&&!W.endlessScroll}});var z=E.Class.extend({init:function(W){var Y=this,aa=W.options.filterable,X="change paste",Z=this;this.listView=W;this.options=aa;W.element.before(G({placeholder:aa.placeholder||"Search..."}));if(aa.autoFilter!==false){X+=" keyup"}this.element=W.wrapper.find(".km-search-form");this.searchInput=W.wrapper.find("input[type=search]").closest("form").on("submit"+H,function(ab){ab.preventDefault()}).end().on("focus"+H,function(){Y._oldFilter=Y.searchInput.val()}).on(X.split(" ").join(H+" ")+H,Q(this._filterChange,this));this.clearButton=W.wrapper.find(".km-filter-reset").on(O,Q(this,"_clearFilter")).hide();this._dataSourceChange=D.proxy(this._refreshInput,this);W.bind("_dataSource",function(ab){ab.dataSource.bind("change",Z._dataSourceChange)})},_refreshInput:function(){var X=this.listView.dataSource.filter();var W=this.listView._filter.searchInput;if(!X||X.filters[0].field!==this.listView.options.filterable.field){W.val("")}else{W.val(X.filters[0].value)}},_search:function(W){this._filter=true;this.clearButton[W?"show":"hide"]();this.listView.dataSource.filter(W)},_filterChange:function(X){var W=this;if(X.type=="paste"&&this.options.autoFilter!==false){setTimeout(function(){W._applyFilter()},1)}else{this._applyFilter()}},_applyFilter:function(){var W=this.options,X=this.searchInput.val(),Y=X.length?{field:W.field,operator:W.operator||"startswith",ignoreCase:W.ignoreCase,value:X}:null;if(X===this._oldFilter){return}this._oldFilter=X;this._search(Y)},_clearFilter:function(W){this.searchInput.val("");this._search(null);W.preventDefault()}});var N=g.extend({init:function(Y,X){var W=this;g.fn.init.call(this,Y,X);Y=this.element;X=this.options;if(X.scrollTreshold){X.scrollThreshold=X.scrollTreshold}Y.on("down",J,"_highlight").on("move up cancel",J,"_dim");this._userEvents=new E.UserEvents(Y,{filter:i,allowSelection:true,tap:function(Z){W._click(Z)}});Y.css("-ms-touch-action","auto");Y.wrap(T);this.wrapper=this.element.parent();this._headerFixer=new v(this);this._itemsCache={};this._templates();this.virtual=X.endlessScroll||X.loadMore;this._style();if(this.options.$angular&&(this.virtual||this.options.pullToRefresh)){setTimeout(D.proxy(this,"_start"))}else{this._start()}},_start:function(){var W=this.options;if(this.options.filterable){this._filter=new z(this)}if(this.virtual){this._itemBinder=new l(this)}else{this._itemBinder=new M(this)}if(this.options.pullToRefresh){this._pullToRefreshHandler=new U(this)}this.setDataSource(W.dataSource);this._enhanceItems(this.items());E.notify(this,K)},events:[O,P,k,A],options:{name:"ListView",style:"",type:"flat",autoBind:true,fixedHeaders:false,template:"#:data#",headerTemplate:'<span class="km-text">#:value#</span>',appendOnRefresh:false,loadMore:false,endlessScroll:false,scrollThreshold:30,pullToRefresh:false,messages:{loadMoreText:"Press to load more",pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"},pullOffset:140,filterable:false,virtualViewSize:null},refresh:function(){this._itemBinder.refresh()},reset:function(){this._itemBinder.reset()},setDataSource:function(X){var W=!X;this.dataSource=I.create(X);this.trigger("_dataSource",{dataSource:this.dataSource,empty:W});if(this.options.autoBind&&!W){this.items().remove();this.dataSource.fetch()}},destroy:function(){g.fn.destroy.call(this);E.destroy(this.element);this._userEvents.destroy();if(this._itemBinder){this._itemBinder.destroy()}this.element.unwrap();delete this.element;delete this.wrapper;delete this._userEvents},items:function(){if(this.options.type==="group"){return this.element.find(".km-list").children()}else{return this.element.children().not(".km-load-more")}},scroller:function(){if(!this._scrollerInstance){this._scrollerInstance=this.element.closest(".km-scroll-wrapper").data("kendoMobileScroller")}return this._scrollerInstance},showLoading:function(){var W=this.view();if(W&&W.loader){W.loader.show()}},hideLoading:function(){var W=this.view();if(W&&W.loader){W.loader.hide()}},insertAt:function(Z,Y,X){var W=this;return W._renderItems(Z,function(aa){if(Y===0){W.element.prepend(aa)}else{if(Y===-1){W.element.append(aa)}else{W.items().eq(Y-1).after(aa)}}if(X){for(var ab=0;ab<aa.length;ab++){W.trigger(A,{item:aa.eq(ab),data:Z[ab],ns:K})}}})},append:function(X,W){return this.insertAt(X,-1,W)},prepend:function(X,W){return this.insertAt(X,0,W)},replace:function(W){this.options.type="flat";this._angularItems("cleanup");this.element.empty();this._style();return this.insertAt(W,0)},replaceGrouped:function(W){this.options.type="group";this._angularItems("cleanup");this.element.empty();var X=D(E.render(this.groupTemplate,W));this._enhanceItems(X.children("ul").children("li"));this.element.append(X);F.init(X);this._style();this._angularItems("compile")},remove:function(X){var W=this.findByDataItem(X);this.angular("cleanup",function(){return{elements:W}});E.destroy(W);W.remove()},findByDataItem:function(X){var Y=[];for(var W=0,Z=X.length;W<Z;W++){Y[W]="[data-"+E.ns+"uid="+X[W].uid+"]"}return this.element.find(Y.join(","))},setDataItem:function(Y,X){var W=this,Z=function(aa){var ab=D(aa[0]);E.destroy(Y);D(Y).replaceWith(ab);W.trigger(A,{item:ab,data:X,ns:K})};return this._renderItems([X],Z)[0]},updateSize:function(){this._size=this.getSize()},_renderItems:function(X,Y){var W=D(E.render(this.template,X));this.angular("compile",function(){return{elements:W,data:X.map(function(Z){return{dataItem:Z}})}});Y(W);F.init(W);this._enhanceItems(W);return W},_dim:function(W){this._toggle(W,false)},_highlight:function(W){this._toggle(W,true)},_toggle:function(ab,X){if(ab.which>1){return}var Y=D(ab.currentTarget),Z=Y.parent(),ac=d(Y,"role")||"",W=(!ac.match(V)),aa=ab.isDefaultPrevented();if(W){Z.toggleClass(h,X&&!aa)}},_templates:function(){var X=this.options.template,aa=this.options.headerTemplate,Z=' data-uid="#=arguments[0].uid || ""#"',Y={},W={};if(typeof X===e){Y.template=X;X="#=this.template(data)#"}this.template=Q(E.template("<li"+Z+">"+X+"</li>"),Y);W.template=this.template;if(typeof aa===e){W._headerTemplate=aa;aa="#=this._headerTemplate(data)#"}W.headerTemplate=E.template(aa);this.groupTemplate=Q(j,W)},_click:function(aa){if(aa.event.which>1||aa.event.isDefaultPrevented()){return}var W,Y=aa.target,Z=D(aa.event.target),ab=Z.closest(E.roleSelector("button","detailbutton","backbutton")),X=E.widgetInstance(ab,K),ac=Y.attr(E.attr("uid"));if(ac){W=this.dataSource.getByUid(ac)}if(this.trigger(O,{target:Z,item:Y,dataItem:W,button:X})){aa.preventDefault()}},_styleGroups:function(){var W=this.element.children();W.children("ul").addClass("km-list");W.each(function(){var X=D(this),Y=X.contents().first();X.addClass("km-group-container");if(!Y.is("ul")&&!Y.is("div."+S)){Y.wrap(x)}})},_style:function(){var X=this.options,Z=X.type==="group",Y=this.element,W=X.style==="inset";Y.addClass("km-listview").toggleClass("km-list",!Z).toggleClass("km-virtual-list",this.virtual).toggleClass("km-listinset",!Z&&W).toggleClass("km-listgroup",Z&&!W).toggleClass("km-listgroupinset",Z&&W);if(!Y.parents(".km-listview")[0]){Y.closest(".km-content").toggleClass("km-insetcontent",W)}if(Z){this._styleGroups()}this.trigger(o)},_enhanceItems:function(W){W.each(function(){var Y=D(this),Z,X=false;Y.children().each(function(){Z=D(this);if(Z.is("a")){R(Z);X=true}else{if(Z.is("label")){a(Z);X=true}}});if(!X){b(Y)}})}});K.plugin(N)})(window.kendo.jQuery);(function(e,b){var f=window.kendo,a=f.mobile,h=a.ui,i=h.Widget;function g(l,k){var j=k.find("["+f.attr("align")+"="+l+"]");if(j[0]){return e('<div class="km-'+l+'item" />').append(j).prependTo(k)}}function c(k){var n=k.siblings(),m=!!k.children("ul")[0],l=(!!n[0]&&e.trim(k.text())===""),j=!!(f.mobile.application&&f.mobile.application.element.is(".km-android"));k.prevAll().toggleClass("km-absolute",m);k.toggleClass("km-show-title",l);k.toggleClass("km-fill-title",l&&!e.trim(k.html()));k.toggleClass("km-no-title",m);k.toggleClass("km-hide-title",j&&!n.children().is(":visible"))}var d=i.extend({init:function(k,j){var l=this;i.fn.init.call(l,k,j);k=l.element;l.container().bind("show",e.proxy(this,"refresh"));k.addClass("km-navbar").wrapInner(e('<div class="km-view-title km-show-title" />'));l.leftElement=g("left",k);l.rightElement=g("right",k);l.centerElement=k.find(".km-view-title")},options:{name:"NavBar"},title:function(j){this.element.find(f.roleSelector("view-title")).text(j);c(this.centerElement)},refresh:function(k){var j=k.view;if(j.options.title){this.title(j.options.title)}else{c(this.centerElement)}},destroy:function(){i.fn.destroy.call(this);f.destroy(this.element)}});h.plugin(d)})(window.kendo.jQuery);(function(v,g){var x=window.kendo,y=x.mobile,C=y.ui,K=v.proxy,r=x.effects.Transition,z=x.ui.Pane,H=x.ui.PaneDimensions,c=C.DataBoundWidget,A=x.data.DataSource,N=x.data.Buffer,h=x.data.BatchBuffer,p=Math,q=p.abs,n=p.ceil,L=p.round,k=p.max,Q=p.min,e=p.floor,u="change",d="changing",l="refresh",m="km-current-page",I="km-virtual-page",b="function",s="itemChange",o="cleanup",i=3,D=-1,F=0,w=1,t=-1,E=0,G=1;var J=x.Class.extend({init:function(S){var U=this,T=v("<ol class='km-pages'/>");S.element.append(T);this._changeProxy=K(U,"_change");this._refreshProxy=K(U,"_refresh");S.bind(u,this._changeProxy);S.bind(l,this._refreshProxy);v.extend(U,{element:T,scrollView:S})},items:function(){return this.element.children()},_refresh:function(T){var U="";for(var S=0;S<T.pageCount;S++){U+="<li/>"}this.element.html(U);this.items().eq(T.page).addClass(m)},_change:function(S){this.items().removeClass(m).eq(S.page).addClass(m)},destroy:function(){this.scrollView.unbind(u,this._changeProxy);this.scrollView.unbind(l,this._refreshProxy);this.element.remove()}});x.mobile.ui.ScrollViewPager=J;var f="transitionEnd",P="dragStart",j="dragEnd";var M=x.Observable.extend({init:function(V,aa){var W=this;x.Observable.fn.init.call(this);this.element=V;this.container=V.parent();var Z,Y,X,S,U,T;Z=new x.ui.Movable(W.element);Y=new r({axis:"x",movable:Z,onEnd:function(){W.trigger(f)}});X=new x.UserEvents(V,{start:function(ab){if(q(ab.x.velocity)*2>=q(ab.y.velocity)){X.capture()}else{X.cancel()}W.trigger(P,ab);Y.cancel()},allowSelection:true,end:function(ab){W.trigger(j,ab)}});S=new H({element:W.element,container:W.container});U=S.x;U.bind(u,function(){W.trigger(u)});T=new z({dimensions:S,userEvents:X,movable:Z,elastic:true});v.extend(W,{duration:aa&&aa.duration||1,movable:Z,transition:Y,userEvents:X,dimensions:S,dimension:U,pane:T});this.bind([f,P,j,u],aa)},size:function(){return{width:this.dimensions.x.getSize(),height:this.dimensions.y.getSize()}},total:function(){return this.dimension.getTotal()},offset:function(){return -this.movable.x},updateDimension:function(){this.dimension.update(true)},refresh:function(){this.dimensions.refresh()},moveTo:function(S){this.movable.moveAxis("x",-S)},transitionTo:function(U,T,S){if(S){this.moveTo(-U)}else{this.transition.moveTo({location:U,duration:this.duration,ease:T})}}});x.mobile.ui.ScrollViewElasticPane=M;var R=x.Observable.extend({init:function(T,V,S){var U=this;x.Observable.fn.init.call(this);U.element=T;U.pane=V;U._getPages();this.page=0;this.pageSize=S.pageSize||1;this.contentHeight=S.contentHeight;this.enablePager=S.enablePager;this.pagerOverlay=S.pagerOverlay},scrollTo:function(T,S){this.page=T;this.pane.transitionTo(-T*this.pane.size().width,r.easeOutExpo,S)},paneMoved:function(ab,ac,aa,T){var X=this,U=X.pane,S=U.size().width*X.pageSize,Z=L,W=ac?r.easeOutBack:r.easeOutExpo,V,Y;if(ab===t){Z=n}else{if(ab===G){Z=e}}Y=Z(U.offset()/S);V=k(X.minSnap,Q(-Y*S,X.maxSnap));if(Y!=X.page){if(aa&&aa({currentPage:X.page,nextPage:Y})){V=-X.page*U.size().width}}U.transitionTo(V,W,T)},updatePage:function(){var T=this.pane,S=L(T.offset()/T.size().width);if(S!=this.page){this.page=S;return true}return false},forcePageUpdate:function(){return this.updatePage()},resizeTo:function(T){var W=this.pane,U=T.width;this.pageElements.width(U);if(this.contentHeight==="100%"){var V=this.element.parent().height();if(this.enablePager===true){var S=this.element.parent().find("ol.km-pages");if(!this.pagerOverlay&&S.length){V-=S.outerHeight(true)}}this.element.css("height",V);this.pageElements.css("height",V)}W.updateDimension();if(!this._paged){this.page=e(W.offset()/U)}this.scrollTo(this.page,true);this.pageCount=n(W.total()/U);this.minSnap=-(this.pageCount-1)*U;this.maxSnap=0},_getPages:function(){this.pageElements=this.element.find(x.roleSelector("page"));this._paged=this.pageElements.length>0}});x.mobile.ui.ScrollViewContent=R;var a=x.Observable.extend({init:function(T,V,S){var U=this;x.Observable.fn.init.call(this);U.element=T;U.pane=V;U.options=S;U._templates();U.page=S.page||0;U.pages=[];U._initPages();U.resizeTo(U.pane.size());U.pane.dimension.forceEnabled()},setDataSource:function(S){this.dataSource=A.create(S);this._buffer();this._pendingPageRefresh=false;this._pendingWidgetRefresh=false},_viewShow:function(){var S=this;if(S._pendingWidgetRefresh){setTimeout(function(){S._resetPages()},0);S._pendingWidgetRefresh=false}},_buffer:function(){var S=this.options.itemsPerPage;if(this.buffer){this.buffer.destroy()}if(S>1){this.buffer=new h(this.dataSource,S)}else{this.buffer=new N(this.dataSource,S*3)}this._resizeProxy=K(this,"_onResize");this._resetProxy=K(this,"_onReset");this._endReachedProxy=K(this,"_onEndReached");this.buffer.bind({resize:this._resizeProxy,reset:this._resetProxy,endreached:this._endReachedProxy})},_templates:function(){var T=this.options.template,S=this.options.emptyTemplate,V={},U={};if(typeof T===b){V.template=T;T="#=this.template(data)#"}this.template=K(x.template(T),V);if(typeof S===b){U.emptyTemplate=S;S="#=this.emptyTemplate(data)#"}this.emptyTemplate=K(x.template(S),U)},_initPages:function(){var S=this.pages,U=this.element,V;for(var T=0;T<i;T++){V=new O(U);S.push(V)}this.pane.updateDimension()},resizeTo:function(V){var S=this.pages,X=this.pane;for(var U=0;U<S.length;U++){S[U].setWidth(V.width)}if(this.options.contentHeight==="auto"){this.element.css("height",this.pages[1].element.height())}else{if(this.options.contentHeight==="100%"){var W=this.element.parent().height();if(this.options.enablePager===true){var T=this.element.parent().find("ol.km-pages");if(!this.options.pagerOverlay&&T.length){W-=T.outerHeight(true)}}this.element.css("height",W);S[0].element.css("height",W);S[1].element.css("height",W);S[2].element.css("height",W)}}X.updateDimension();this._repositionPages();this.width=V.width},scrollTo:function(U){var S=this.buffer,T;S.syncDataSource();T=S.at(U);if(!T){return}this._updatePagesContent(U);this.page=U},paneMoved:function(ad,ae,ac,U){var Z=this,V=Z.pane,T=V.size().width,X=V.offset(),Y=Math.abs(X)>=T/3,W=ae?x.effects.Transition.easeOutBack:x.effects.Transition.easeOutExpo,S=Z.page+2>Z.buffer.total(),aa,ab=0;if(ad===G){if(Z.page!==0){ab=-1}}else{if(ad===t&&!S){ab=1}else{if(X>0&&(Y&&!S)){ab=1}else{if(X<0&&Y){if(Z.page!==0){ab=-1}}}}}aa=Z.page;if(ab){aa=(ab>0)?aa+1:aa-1}if(ac&&ac({currentPage:Z.page,nextPage:aa})){ab=0}if(ab===0){Z._cancelMove(W,U)}else{if(ab===-1){Z._moveBackward(U)}else{if(ab===1){Z._moveForward(U)}}}},updatePage:function(){var S=this.pages;if(this.pane.offset()===0){return false}if(this.pane.offset()>0){S.push(this.pages.shift());this.page++;this.setPageContent(S[2],this.page+1)}else{S.unshift(this.pages.pop());this.page--;this.setPageContent(S[0],this.page-1)}this._repositionPages();this._resetMovable();return true},forcePageUpdate:function(){var T=this.pane.offset(),S=this.pane.size().width*3/4;if(q(T)>S){return this.updatePage()}return false},_resetMovable:function(){this.pane.moveTo(0)},_moveForward:function(S){this.pane.transitionTo(-this.width,x.effects.Transition.easeOutExpo,S)},_moveBackward:function(S){this.pane.transitionTo(this.width,x.effects.Transition.easeOutExpo,S)},_cancelMove:function(T,S){this.pane.transitionTo(0,T,S)},_resetPages:function(){this.page=this.options.page||0;this._updatePagesContent(this.page);this._repositionPages();this.trigger("reset")},_onResize:function(){this.pageCount=n(this.dataSource.total()/this.options.itemsPerPage);if(this._pendingPageRefresh){this._updatePagesContent(this.page);this._pendingPageRefresh=false}this.trigger("resize")},_onReset:function(){this.pageCount=n(this.dataSource.total()/this.options.itemsPerPage);this._resetPages()},_onEndReached:function(){this._pendingPageRefresh=true},_repositionPages:function(){var S=this.pages;S[0].position(D);S[1].position(F);S[2].position(w)},_updatePagesContent:function(U){var S=this.pages,T=U||0;this.setPageContent(S[0],T-1);this.setPageContent(S[1],T);this.setPageContent(S[2],T+1)},setPageContent:function(X,V){var U=this.buffer,W=this.template,S=this.emptyTemplate,T=null;if(V>=0){T=U.at(V);if(v.isArray(T)&&!T.length){T=null}}this.trigger(o,{item:X.element});if(T!==null){X.content(W(T))}else{X.content(S({}))}x.mobile.init(X.element);this.trigger(s,{item:X.element,data:T,ns:x.mobile.ui})}});x.mobile.ui.VirtualScrollViewContent=a;var O=x.Class.extend({init:function(S){this.element=v("<div class='"+I+"'></div>");this.width=S.width();this.element.width(this.width);S.append(this.element)},content:function(S){this.element.html(S)},position:function(S){this.element.css("transform","translate3d("+this.width*S+"px, 0, 0)")},setWidth:function(S){this.width=S;this.element.width(S)}});x.mobile.ui.VirtualPage=O;var B=c.extend({init:function(U,T){var W=this;c.fn.init.call(W,U,T);T=W.options;U=W.element;x.stripWhitespace(U[0]);U.wrapInner("<div/>").addClass("km-scrollview");if(this.options.enablePager){this.pager=new J(this);if(this.options.pagerOverlay){U.addClass("km-scrollview-overlay")}}W.inner=U.children().first();W.page=0;W.inner.css("height",T.contentHeight);W.pane=new M(W.inner,{duration:this.options.duration,transitionEnd:K(this,"_transitionEnd"),dragStart:K(this,"_dragStart"),dragEnd:K(this,"_dragEnd"),change:K(this,l)});W.bind("resize",function(){W.pane.refresh()});W.page=T.page;var X=this.inner.children().length===0;var V=X?new a(W.inner,W.pane,T):new R(W.inner,W.pane,T);V.page=W.page;V.bind("reset",function(){W._syncWithContent();W.trigger(l,{pageCount:V.pageCount,page:V.page})});V.bind("resize",function(){W.trigger(l,{pageCount:V.pageCount,page:V.page})});V.bind(s,function(Y){W.trigger(s,Y);W.angular("compile",function(){return{elements:Y.item,data:[{dataItem:Y.data}]}})});V.bind(o,function(Y){W.angular("cleanup",function(){return{elements:Y.item}})});W._content=V;W.setDataSource(T.dataSource);var S=W.container();if(S.nullObject){W.viewInit();W.viewShow()}else{S.bind("show",K(this,"viewShow")).bind("init",K(this,"viewInit"))}},options:{name:"ScrollView",page:0,duration:400,velocityThreshold:0.8,contentHeight:"auto",pageSize:1,itemsPerPage:1,bounceVelocityThreshold:1.6,enablePager:true,pagerOverlay:false,autoBind:true,template:"",emptyTemplate:""},events:[d,u,l],destroy:function(){c.fn.destroy.call(this);x.destroy(this.element)},viewInit:function(){if(this.options.autoBind){this._content.scrollTo(this._content.page,true)}},viewShow:function(){this.pane.refresh()},refresh:function(){var S=this._content;S.resizeTo(this.pane.size());this.page=S.page;this.trigger(l,{pageCount:S.pageCount,page:S.page})},content:function(S){this.element.children().first().html(S);this._content._getPages();this.pane.refresh()},value:function(S){var T=this.dataSource;if(S){this.scrollTo(T.indexOf(S),true)}else{return T.at(this.page)}},scrollTo:function(T,S){this._content.scrollTo(T,S);this._syncWithContent()},prev:function(){var T=this,S=T.page-1;if(T._content instanceof a){T._content.paneMoved(G,g,function(U){return T.trigger(d,U)})}else{if(S>-1){T.scrollTo(S)}}},next:function(){var T=this,S=T.page+1;if(T._content instanceof a){T._content.paneMoved(t,g,function(U){return T.trigger(d,U)})}else{if(S<T._content.pageCount){T.scrollTo(S)}}},setDataSource:function(T){if(!(this._content instanceof a)){return}var S=!T;this.dataSource=A.create(T);this._content.setDataSource(this.dataSource);if(this.options.autoBind&&!S){this.dataSource.fetch()}},items:function(){return this.element.find("."+I)},_syncWithContent:function(){var S=this._content.pages,T=this._content.buffer,V,U;this.page=this._content.page;V=T?T.at(this.page):g;if(!(V instanceof Array)){V=[V]}U=S?S[1].element:g;this.trigger(u,{page:this.page,element:U,data:V})},_dragStart:function(){if(this._content.forcePageUpdate()){this._syncWithContent()}},_dragEnd:function(X){var V=this,U=X.x.velocity,T=this.options.velocityThreshold,S=E,W=q(U)>this.options.bounceVelocityThreshold;if(U>T){S=G}else{if(U<-T){S=t}}this._content.paneMoved(S,W,function(Y){return V.trigger(d,Y)})},_transitionEnd:function(){if(this._content.updatePage()){this._syncWithContent()}}});C.plugin(B)})(window.kendo.jQuery);(function(c,e){var n=window.kendo,m=n.mobile.ui,b=m.Widget,i=n.support,l="change",j="km-switch-on",h="km-switch-off",a="margin-left",r="km-state-active",f="km-state-disabled",q="disabled",d=i.transitions.css+"transform",p=c.proxy;function k(u,s,t){return Math.max(s,Math.min(t,u))}var g='<span class="km-switch km-widget">        <span class="km-switch-wrapper"><span class="km-switch-background"></span></span>         <span class="km-switch-container"><span class="km-switch-handle" >             <span class="km-switch-label-on">{0}</span>             <span class="km-switch-label-off">{1}</span>         </span>     </span>';var o=b.extend({init:function(t,s){var v=this,u;b.fn.init.call(v,t,s);s=v.options;v.wrapper=c(n.format(g,s.onLabel,s.offLabel));v.handle=v.wrapper.find(".km-switch-handle");v.background=v.wrapper.find(".km-switch-background");v.wrapper.insertBefore(v.element).prepend(v.element);v._drag();v.origin=parseInt(v.background.css(a),10);v.constrain=0;v.snapPoint=0;t=v.element[0];t.type="checkbox";v._animateBackground=true;u=v.options.checked;if(u===null){u=t.checked}v.check(u);v.options.enable=v.options.enable&&!v.element.attr(q);v.enable(v.options.enable);v.refresh();n.notify(v,n.mobile.ui)},refresh:function(){var t=this,s=t.handle.outerWidth(true);t.width=t.wrapper.width();t.constrain=t.width-s;t.snapPoint=t.constrain/2;if(typeof t.origin!="number"){t.origin=parseInt(t.background.css(a),10)}t.background.data("origin",t.origin);t.check(t.element[0].checked)},events:[l],options:{name:"Switch",onLabel:"on",offLabel:"off",checked:null,enable:true},check:function(s){var u=this,t=u.element[0];if(s===e){return t.checked}u._position(s?u.constrain:0);t.checked=s;u.wrapper.toggleClass(j,s).toggleClass(h,!s)},value:function(){return this.check.apply(this,arguments)},destroy:function(){b.fn.destroy.call(this);this.userEvents.destroy()},toggle:function(){var s=this;s.check(!s.element[0].checked)},enable:function(s){var t=this.element,u=this.wrapper;if(typeof s=="undefined"){s=true}this.options.enable=s;if(s){t.removeAttr(q)}else{t.attr(q,q)}u.toggleClass(f,!s)},_resize:function(){this.refresh()},_move:function(t){var s=this;t.preventDefault();s._position(k(s.position+t.x.delta,0,s.width-s.handle.outerWidth(true)))},_position:function(s){var t=this;t.position=s;t.handle.css(d,"translatex("+s+"px)");if(t._animateBackground){t.background.css(a,t.origin+s)}},_start:function(){if(!this.options.enable){this.userEvents.cancel()}else{this.userEvents.capture();this.handle.addClass(r)}},_stop:function(){var s=this;s.handle.removeClass(r);s._toggle(s.position>s.snapPoint)},_toggle:function(u){var t=this,w=t.handle,s=t.element[0],v=s.checked,x=n.mobile.application&&n.mobile.application.os.wp?100:200,y;t.wrapper.toggleClass(j,u).toggleClass(h,!u);t.position=y=u*t.constrain;if(t._animateBackground){t.background.kendoStop(true,true).kendoAnimate({effects:"slideMargin",offset:y,reset:true,reverse:!u,axis:"left",duration:x})}w.kendoStop(true,true).kendoAnimate({effects:"slideTo",duration:x,offset:y+"px,0",reset:true,complete:function(){if(v!==u){s.checked=u;t.trigger(l,{checked:u})}}})},_drag:function(){var s=this;s.userEvents=new n.UserEvents(s.wrapper,{tap:function(){if(s.options.enable){s._toggle(!s.element[0].checked)}},start:p(s._start,s),move:p(s._move,s),end:p(s._stop,s)})}});m.plugin(o)})(window.kendo.jQuery);(function(b,a){var f=window.kendo,h=f.mobile.ui,i=h.Widget,e="km-state-active",g="select";function d(j){return b('<span class="km-badge">'+j+"</span>")}var c=i.extend({init:function(k,j){var l=this;i.fn.init.call(l,k,j);l.container().bind("show",b.proxy(this,"refresh"));l.element.addClass("km-tabstrip").find("a").each(l._buildButton).eq(l.options.selectedIndex).addClass(e);l.element.on("down","a","_release")},events:[g],switchTo:function(k){var l=this.element.find("a"),m,o,j=0,n=l.length;if(isNaN(k)){for(;j<n;j++){m=l[j];o=m.href.replace(/(\#.+)(\?.+)$/,"$1");if(o.indexOf(k,o.length-k.length)!==-1){this._setActiveItem(b(m));return true}}}else{this._setActiveItem(l.eq(k));return true}return false},switchByFullUrl:function(j){var k;k=this.element.find("a[href$='"+j+"']");this._setActiveItem(k)},clear:function(){this.currentItem().removeClass(e)},currentItem:function(){return this.element.children("."+e)},badge:function(k,m){var l=this.element,j;if(!isNaN(k)){k=l.children().get(k)}k=l.find(k);j=b(k.find(".km-badge")[0]||d(m).insertAfter(k.children(".km-icon")));if(m||m===0){j.html(m);return this}if(m===false){j.empty().remove();return this}return j.html()},_release:function(l){if(l.which>1){return}var k=this,j=b(l.currentTarget);if(j[0]===k.currentItem()[0]){return}if(k.trigger(g,{item:j})){l.preventDefault()}else{k._setActiveItem(j)}},_setActiveItem:function(j){if(!j[0]){return}this.clear();j.addClass(e)},_buildButton:function(){var l=b(this),m=f.attrValue(l,"icon"),k=f.attrValue(l,"badge"),n=l.find("img"),j=b('<span class="km-icon"/>');l.addClass("km-button").attr(f.attr("role"),"tab").contents().not(n).wrapAll('<span class="km-text"/>');if(n[0]){n.addClass("km-image").prependTo(l)}else{l.prepend(j);if(m){j.addClass("km-"+m);if(k||k===0){d(k).insertAfter(j)}}}},refresh:function(k){var j=k.view.element.attr(f.attr("url"));if(j&&!this.switchTo(k.view.id)){this.switchTo(j)}},options:{name:"TabStrip",selectedIndex:0,enable:true}});h.plugin(c)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b){b()});