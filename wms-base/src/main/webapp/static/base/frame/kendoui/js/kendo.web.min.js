(function(B,A){A([],B)})(function(){(function(E,Am,Ak){var Ap=Am.kendo=Am.kendo||{cultures:{}},a=E.extend,Q=E.each,o=E.isArray,R=E.proxy,AQ=E.noop,Ag=Math,P,Aw=Am.JSON||{},V={},AO=/%/,At=/\{(\d+)(:[^\}]+)?\}/g,AH=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,h=/^(\+|-?)\d+(\.?)\d*$/,w="function",AD="string",b="number",AC="object",Ao="null",l="boolean",X="undefined",Ac={},AA={},Aj=[].slice,Ah=Am.Globalize;Ap.version="2015.2.624";function J(){}J.extend=function(AT){var AV=function(){},AW,AR=this,AU=AT&&AT.init?AT.init:function(){AR.apply(this,arguments)},AS;AV.prototype=AR.prototype;AS=AU.fn=AU.prototype=new AV();for(AW in AT){if(AT[AW]!=null&&AT[AW].constructor===Object){AS[AW]=a(true,{},AV.prototype[AW],AT[AW])}else{AS[AW]=AT[AW]}}AS.constructor=AU;AU.extend=AR.extend;return AU};J.prototype._initOptions=function(AR){this.options=Ad({},this.options,AR)};var r=Ap.isFunction=function(AR){return typeof AR==="function"};var AB=function(){this._defaultPrevented=true};var K=function(){return this._defaultPrevented===true};var AL=J.extend({init:function(){this._events={}},bind:function(A1,AY,AT){var AW=this,AU,AR=typeof A1===AD?[A1]:A1,AV,AS,AX,A0=typeof AY===w,AZ;if(AY===Ak){for(AU in A1){AW.bind(AU,A1[AU])}return AW}for(AU=0,AV=AR.length;AU<AV;AU++){A1=AR[AU];AX=A0?AY:AY[A1];if(AX){if(AT){AS=AX;AX=function(){AW.unbind(A1,AX);AS.apply(AW,arguments)};AX.original=AS}AZ=AW._events[A1]=AW._events[A1]||[];AZ.push(AX)}}return AW},one:function(AS,AR){return this.bind(AS,AR,true)},first:function(AS,AX){var AV=this,AT,AR=typeof AS===AD?[AS]:AS,AU,AW,AZ=typeof AX===w,AY;for(AT=0,AU=AR.length;AT<AU;AT++){AS=AR[AT];AW=AZ?AX:AX[AS];if(AW){AY=AV._events[AS]=AV._events[AS]||[];AY.unshift(AW)}}return AV},trigger:function(AU,AS){var AT=this,AV=AT._events[AU],AW,AR;if(AV){AS=AS||{};AS.sender=AT;AS._defaultPrevented=false;AS.preventDefault=AB;AS.isDefaultPrevented=K;AV=AV.slice();for(AW=0,AR=AV.length;AW<AR;AW++){AV[AW].call(AT,AS)}return AS._defaultPrevented===true}return false},unbind:function(AT,AS){var AR=this,AU=AR._events[AT],AV;if(AT===Ak){AR._events={}}else{if(AU){if(AS){for(AV=AU.length-1;AV>=0;AV--){if(AU[AV]===AS||AU[AV].original===AS){AU.splice(AV,1)}}}else{AR._events[AT]=[]}}}return AR}});function AM(AS,AR){if(AR){return"'"+AS.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'"}else{var AT=AS.charAt(0),AU=AS.substring(1);if(AT==="="){return"+("+AU+")+"}else{if(AT===":"){return"+$kendoHtmlEncode("+AU+")+"}else{return";"+AS+";$kendoOutput+="}}}}var T=/^\w+/,As=/\$\{([^}]*)\}/g,Au=/\\\}/g,Ar=/__CURLY__/g,Aa=/\\#/g,j=/__SHARP__/g,d=["","0","00","000","0000"];P={paramName:"data",useWithBlock:true,render:function(AT,AV){var AU,AS,AR="";for(AU=0,AS=AV.length;AU<AS;AU++){AR+=AT(AV[AU])}return AR},compile:function(AS,AY){var A1=a({},this,AY),AR=A1.paramName,AT=AR.match(T)[0],AU=A1.useWithBlock,AW="var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;",AZ,A0,AV;if(r(AS)){return AS}AW+=AU?"with("+AR+"){":"";AW+="$kendoOutput=";A0=AS.replace(Au,"__CURLY__").replace(As,"#=$kendoHtmlEncode($1)#").replace(Ar,"}").replace(Aa,"__SHARP__").split("#");for(AV=0;AV<A0.length;AV++){AW+=AM(A0[AV],AV%2===0)}AW+=AU?";}":";";AW+="return $kendoOutput;";AW=AW.replace(j,"#");try{AZ=new Function(AT,AW);AZ._slotCount=Math.floor(A0.length/2);return AZ}catch(AX){throw new Error(Ap.format("Invalid template:'{0}' Generated code:'{1}'",AS,AW))}}};function t(AT,AR,AS){AT=AT+"";AR=AR||2;AS=AR-AT.length;if(AS){return d[AR].substring(0,AS)+AT}return AT}(function(){var AY=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,AX,AV,AS={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},AW,AU={}.toString;if(typeof Date.prototype.toJSON!==w){Date.prototype.toJSON=function(){var AZ=this;return isFinite(AZ.valueOf())?t(AZ.getUTCFullYear(),4)+"-"+t(AZ.getUTCMonth()+1)+"-"+t(AZ.getUTCDate())+"T"+t(AZ.getUTCHours())+":"+t(AZ.getUTCMinutes())+":"+t(AZ.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}function AR(AZ){AY.lastIndex=0;return AY.test(AZ)?'"'+AZ.replace(AY,function(A1){var A0=AS[A1];return typeof A0===AD?A0:"\\u"+("0000"+A1.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+AZ+'"'}function AT(A5,A7){var A2,A0,AZ,A8,A3=AX,A4,A1=A7[A5],A6;if(A1&&typeof A1===AC&&typeof A1.toJSON===w){A1=A1.toJSON(A5)}if(typeof AW===w){A1=AW.call(A7,A5,A1)}A6=typeof A1;if(A6===AD){return AR(A1)}else{if(A6===b){return isFinite(A1)?String(A1):Ao}else{if(A6===l||A6===Ao){return String(A1)}else{if(A6===AC){if(!A1){return Ao}AX+=AV;A4=[];if(AU.apply(A1)==="[object Array]"){A8=A1.length;for(A2=0;A2<A8;A2++){A4[A2]=AT(A2,A1)||Ao}AZ=A4.length===0?"[]":AX?"[\n"+AX+A4.join(",\n"+AX)+"\n"+A3+"]":"["+A4.join(",")+"]";AX=A3;return AZ}if(AW&&typeof AW===AC){A8=AW.length;for(A2=0;A2<A8;A2++){if(typeof AW[A2]===AD){A0=AW[A2];AZ=AT(A0,A1);if(AZ){A4.push(AR(A0)+(AX?": ":":")+AZ)}}}}else{for(A0 in A1){if(Object.hasOwnProperty.call(A1,A0)){AZ=AT(A0,A1);if(AZ){A4.push(AR(A0)+(AX?": ":":")+AZ)}}}}AZ=A4.length===0?"{}":AX?"{\n"+AX+A4.join(",\n"+AX)+"\n"+A3+"}":"{"+A4.join(",")+"}";AX=A3;return AZ}}}}}if(typeof Aw.stringify!==w){Aw.stringify=function(A2,A0,A1){var AZ;AX="";AV="";if(typeof A1===b){for(AZ=0;AZ<A1;AZ+=1){AV+=" "}}else{if(typeof A1===AD){AV=A1}}AW=A0;if(A0&&typeof A0!==w&&(typeof A0!==AC||typeof A0.length!==b)){throw new Error("JSON.stringify")}return AT("",{"":A2})}}})();(function(){var AR=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,AT=/^(n|c|p|e)(\d*)$/i,A6=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,AW=/\,/g,A4="",A5=".",AZ=",",AX="#",A1="0",A3="??",AY="en_US",AU={}.toString;Ap.cultures["en_US"]={name:AY,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}};function A2(Ba){if(Ba){if(Ba.numberFormat){return Ba}if(typeof Ba===AD){var Bb=Ap.cultures;return Bb[Ba]||Bb[Ba.split("_")[0]]||null}return null}return null}function A7(Ba){if(Ba){Ba=A2(Ba)}return Ba||Ap.cultures.current}function A8(Ba){Ba.groupSizes=Ba.groupSize;Ba.percent.groupSizes=Ba.percent.groupSize;Ba.currency.groupSizes=Ba.currency.groupSize}Ap.culture=function(Bc){var Bb=Ap.cultures,Ba;if(Bc!==Ak){Ba=A2(Bc)||Bb[AY];Ba.calendar=Ba.calendars.standard;Bb.current=Ba;if(Ah&&!Ah.load){A8(Ba.numberFormat)}}else{return Bb.current}};Ap.findCulture=A2;Ap.getCulture=A7;Ap.culture(AY);function A0(Be,Bb,Bd){Bd=A7(Bd);var Ba=Bd.calendars.standard,Bc=Ba.days,Bf=Ba.months;Bb=Ba.patterns[Bb]||Bb;return Bb.replace(AR,function(Bi){var Bg;var Bj;var Bh;if(Bi==="d"){Bj=Be.getDate()}else{if(Bi==="dd"){Bj=t(Be.getDate())}else{if(Bi==="ddd"){Bj=Bc.namesAbbr[Be.getDay()]}else{if(Bi==="dddd"){Bj=Bc.names[Be.getDay()]}else{if(Bi==="M"){Bj=Be.getMonth()+1}else{if(Bi==="MM"){Bj=t(Be.getMonth()+1)}else{if(Bi==="MMM"){Bj=Bf.namesAbbr[Be.getMonth()]}else{if(Bi==="MMMM"){Bj=Bf.names[Be.getMonth()]}else{if(Bi==="yy"){Bj=t(Be.getFullYear()%100)}else{if(Bi==="yyyy"){Bj=t(Be.getFullYear(),4)}else{if(Bi==="h"){Bj=Be.getHours()%12||12}else{if(Bi==="hh"){Bj=t(Be.getHours()%12||12)}else{if(Bi==="H"){Bj=Be.getHours()}else{if(Bi==="HH"){Bj=t(Be.getHours())}else{if(Bi==="m"){Bj=Be.getMinutes()}else{if(Bi==="mm"){Bj=t(Be.getMinutes())}else{if(Bi==="s"){Bj=Be.getSeconds()}else{if(Bi==="ss"){Bj=t(Be.getSeconds())}else{if(Bi==="f"){Bj=Ag.floor(Be.getMilliseconds()/100)}else{if(Bi==="ff"){Bj=Be.getMilliseconds();if(Bj>99){Bj=Ag.floor(Bj/10)}Bj=t(Bj)}else{if(Bi==="fff"){Bj=t(Be.getMilliseconds(),3)}else{if(Bi==="tt"){Bj=Be.getHours()<12?Ba.AM[0]:Ba.PM[0]}else{if(Bi==="zzz"){Bg=Be.getTimezoneOffset();Bh=Bg<0;Bj=Ag.abs(Bg/60).toString().split(".")[0];Bg=Ag.abs(Bg)-(Bj*60);Bj=(Bh?"+":"-")+t(Bj);Bj+=":"+t(Bg)}else{if(Bi==="zz"||Bi==="z"){Bj=Be.getTimezoneOffset()/60;Bh=Bj<0;Bj=Ag.abs(Bj).toString().split(".")[0];Bj=(Bh?"+":"-")+(Bi==="zz"?t(Bj):Bj)}}}}}}}}}}}}}}}}}}}}}}}}return Bj!==Ak?Bj:Bi.slice(1,Bi.length-1)})}function A9(Bk,Bl,BA){BA=A7(BA);var BC=BA.numberFormat,Bt=BC.groupSize[0],Bi=BC[AZ],Bq=BC[A5],Bd=BC.decimals,Bs=BC.pattern[0],Bo=[],Be,Bv,BB,BD,Br,Bg=Bk<0,BE,BG,Bf,Bn,Bp=A4,Bu=A4,BI,Bz,Bm,BJ,Bh,Ba,Bc,By,Bw,BF,Bb,BH,BK,Bx=-1,Bj;if(Bk===Ak){return A4}if(!isFinite(Bk)){return Bk}if(!Bl){return BA.name.length?Bk.toLocaleString():Bk.toString()}Br=AT.exec(Bl);if(Br){Bl=Br[1].toLowerCase();Bv=Bl==="c";BB=Bl==="p";if(Bv||BB){BC=Bv?BC.currency:BC.percent;Bt=BC.groupSize[0];Bi=BC[AZ];Bq=BC[A5];Bd=BC.decimals;Be=BC.symbol;Bs=BC.pattern[Bg?0:1]}BD=Br[2];if(BD){Bd=+BD}if(Bl==="e"){return BD?Bk.toExponential(Bd):Bk.toExponential()}if(BB){Bk*=100}Bk=AS(Bk,Bd);Bg=Bk<0;Bk=Bk.split(A5);BE=Bk[0];BG=Bk[1];if(Bg){BE=BE.substring(1)}Bu=BE;Bf=BE.length;if(Bf>=Bt){Bu=A4;for(BI=0;BI<Bf;BI++){if(BI>0&&(Bf-BI)%Bt===0){Bu+=Bi}Bu+=BE.charAt(BI)}}if(BG){Bu+=Bq+BG}if(Bl==="n"&&!Bg){return Bu}Bk=A4;for(BI=0,Bz=Bs.length;BI<Bz;BI++){Bm=Bs.charAt(BI);if(Bm==="n"){Bk+=Bu}else{if(Bm==="$"||Bm==="%"){Bk+=Be}else{Bk+=Bm}}}return Bk}if(Bg){Bk=-Bk}if(Bl.indexOf("'")>-1||Bl.indexOf('"')>-1||Bl.indexOf("\\")>-1){Bl=Bl.replace(A6,function(BM){var BL=BM.charAt(0).replace("\\",""),BN=BM.slice(1).replace(BL,"");Bo.push(BN);return A3})}Bl=Bl.split(";");if(Bg&&Bl[1]){Bl=Bl[1];Bh=true}else{if(Bk===0){Bl=Bl[2]||Bl[0];if(Bl.indexOf(AX)==-1&&Bl.indexOf(A1)==-1){return Bl}}else{Bl=Bl[0]}}Bb=Bl.indexOf("%");BH=Bl.indexOf("$");BB=Bb!=-1;Bv=BH!=-1;if(BB){Bk*=100}if(Bv&&Bl[BH-1]==="\\"){Bl=Bl.split("\\").join("");Bv=false}if(Bv||BB){BC=Bv?BC.currency:BC.percent;Bt=BC.groupSize[0];Bi=BC[AZ];Bq=BC[A5];Bd=BC.decimals;Be=BC.symbol}BJ=Bl.indexOf(AZ)>-1;if(BJ){Bl=Bl.replace(AW,A4)}Ba=Bl.indexOf(A5);Bz=Bl.length;if(Ba!=-1){BG=Bk.toString().split("e");if(BG[1]){BG=AS(Bk,Math.abs(BG[1]))}else{BG=BG[0]}BG=BG.split(A5)[1]||A4;By=Bl.lastIndexOf(A1)-Ba;Bc=Bl.lastIndexOf(AX)-Ba;Bw=By>-1;BF=Bc>-1;BI=BG.length;if(!Bw&&!BF){Bl=Bl.substring(0,Ba)+Bl.substring(Ba+1);Bz=Bl.length;Ba=-1;BI=0}if(Bw&&By>Bc){BI=By}else{if(Bc>By){if(BF&&BI>Bc){BI=Bc}else{if(Bw&&BI<By){BI=By}}}}if(BI>-1){Bk=AS(Bk,BI)}}else{Bk=AS(Bk)}Bc=Bl.indexOf(AX);BK=By=Bl.indexOf(A1);if(Bc==-1&&By!=-1){Bx=By}else{if(Bc!=-1&&By==-1){Bx=Bc}else{Bx=Bc>By?By:Bc}}Bc=Bl.lastIndexOf(AX);By=Bl.lastIndexOf(A1);if(Bc==-1&&By!=-1){Bj=By}else{if(Bc!=-1&&By==-1){Bj=Bc}else{Bj=Bc>By?Bc:By}}if(Bx==Bz){Bj=Bx}if(Bx!=-1){Bu=Bk.toString().split(A5);BE=Bu[0];BG=Bu[1]||A4;Bf=BE.length;Bn=BG.length;if(Bg&&(Bk*-1)>=0){Bg=false}if(BJ){if(Bf===Bt&&Bf<Ba-BK){BE=Bi+BE}else{if(Bf>Bt){Bu=A4;for(BI=0;BI<Bf;BI++){if(BI>0&&(Bf-BI)%Bt===0){Bu+=Bi}Bu+=BE.charAt(BI)}BE=Bu}}}Bk=Bl.substring(0,Bx);if(Bg&&!Bh){Bk+="-"}for(BI=Bx;BI<Bz;BI++){Bm=Bl.charAt(BI);if(Ba==-1){if(Bj-BI<Bf){Bk+=BE;break}}else{if(By!=-1&&By<BI){Bp=A4}if((Ba-BI)<=Bf&&Ba-BI>-1){Bk+=BE;BI=Ba}if(Ba===BI){Bk+=(BG?Bq:A4)+BG;BI+=Bj-Ba+1;continue}}if(Bm===A1){Bk+=Bm;Bp=Bm}else{if(Bm===AX){Bk+=Bp}}}if(Bj>=Bx){Bk+=Bl.substring(Bj+1)}if(Bv||BB){Bu=A4;for(BI=0,Bz=Bk.length;BI<Bz;BI++){Bm=Bk.charAt(BI);Bu+=(Bm==="$"||Bm==="%")?Be:Bm}Bk=Bu}Bz=Bo.length;if(Bz){for(BI=0;BI<Bz;BI++){Bk=Bk.replace(A3,Bo[BI])}}}return Bk}var AS=function(Bb,Ba){Ba=Ba||0;Bb=Bb.toString().split("e");Bb=Math.round(+(Bb[0]+"e"+(Bb[1]?(+Bb[1]+Ba):Ba)));Bb=Bb.toString().split("e");Bb=+(Bb[0]+"e"+(Bb[1]?(+Bb[1]-Ba):-Ba));return Bb.toFixed(Ba)};var AV=function(Bc,Ba,Bb){if(Ba){if(AU.call(Bc)==="[object Date]"){return A0(Bc,Ba,Bb)}else{if(typeof Bc===b){return A9(Bc,Ba,Bb)}}}return Bc!==Ak?Bc:""};if(Ah&&!Ah.load){AV=function(Bc,Ba,Bb){if(E.isPlainObject(Bb)){Bb=Bb.name}return Ah.format(Bc,Ba,Bb)}}Ap.format=function(Ba){var Bb=arguments;return Ba.replace(At,function(Bd,Bf,Be){var Bc=Bb[parseInt(Bf,10)+1];return AV(Bc,Be?Be.substring(1):"")})};Ap._extractFormat=function(Ba){if(Ba.slice(0,3)==="{0:"){Ba=Ba.slice(3,Ba.length-1)}return Ba};Ap._activeElement=function(){try{return document.activeElement}catch(Ba){return document.documentElement.activeElement}};Ap._round=AS;Ap.toString=AV})();(function(){var A7=/\u00A0/g,AW=/[eE][\-+]?[0-9]+/,A6=/[+|\-]\d{1,2}/,A4=/[+|\-]\d{1,2}:?\d{2}/,AZ=/^\/Date\((.*?)\)\/$/,AX=/[+-]\d*/,AS=["G","g","d","F","D","y","m","T","t"],AT={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},AV={}.toString;function A2(A9,Ba,A8){return !(A9>=Ba&&A9<=A8)}function AR(A8){return A8.charAt(0)}function A1(A8){return E.map(A8,AR)}function AU(A9,A8){if(!A8&&A9.getHours()===23){A9.setHours(A9.getHours()+2)}}function AY(Bb){var A9=0,A8=Bb.length,Ba=[];for(;A9<A8;A9++){Ba[A9]=(Bb[A9]+"").toLowerCase()}return Ba}function A3(Ba){var A9={},A8;for(A8 in Ba){A9[A8]=AY(Ba[A8])}return A9}function A0(Bq,BA,Bx){if(!Bq){return null}var Bk=function(BH){var BG=0;while(BA[BF]===BH){BG++;BF++}if(BG>0){BF-=1}return BG},Ba=function(BG){var BI=AT[BG]||new RegExp("^\\d{1,"+BG+"}"),BH=Bq.substr(Bd,BG).match(BI);if(BH){BH=BH[0];Bd+=BH.length;return parseInt(BH,10)}return null},A8=function(BM,BI){var BH=0,BJ=BM.length,BK,BG,BL;for(;BH<BJ;BH++){BK=BM[BH];BG=BK.length;BL=Bq.substr(Bd,BG);if(BI){BL=BL.toLowerCase()}if(BL==BK){Bd+=BG;return BH+1}}return null},Bz=function(){var BG=false;if(Bq.charAt(Bd)===BA[BF]){Bd++;BG=true}return BG},Bf=Bx.calendars.standard,BB=null,BE=null,Bp=null,Bs=null,Bc=null,Bo=null,Bt=null,BF=0,Bd=0,Br=false,A9=new Date(),Bh=Bf.twoDigitYearMax||2029,BD=A9.getFullYear(),Bj,Bg,Bu,Bl,By,Bw,Bi,BC,Bm,Be,Bb,Bv,Bn;if(!BA){BA="d"}Bl=Bf.patterns[BA];if(Bl){BA=Bl}BA=BA.split("");Bu=BA.length;for(;BF<Bu;BF++){Bj=BA[BF];if(Br){if(Bj==="'"){Br=false}else{Bz()}}else{if(Bj==="d"){Bg=Bk("d");if(!Bf._lowerDays){Bf._lowerDays=A3(Bf.days)}if(Bp!==null&&Bg>2){continue}Bp=Bg<3?Ba(2):A8(Bf._lowerDays[Bg==3?"namesAbbr":"names"],true);if(Bp===null||A2(Bp,1,31)){return null}}else{if(Bj==="M"){Bg=Bk("M");if(!Bf._lowerMonths){Bf._lowerMonths=A3(Bf.months)}BE=Bg<3?Ba(2):A8(Bf._lowerMonths[Bg==3?"namesAbbr":"names"],true);if(BE===null||A2(BE,1,12)){return null}BE-=1}else{if(Bj==="y"){Bg=Bk("y");BB=Ba(Bg);if(BB===null){return null}if(Bg==2){if(typeof Bh==="string"){Bh=BD+parseInt(Bh,10)}BB=(BD-BD%100)+BB;if(BB>Bh){BB-=100}}}else{if(Bj==="h"){Bk("h");Bs=Ba(2);if(Bs==12){Bs=0}if(Bs===null||A2(Bs,0,11)){return null}}else{if(Bj==="H"){Bk("H");Bs=Ba(2);if(Bs===null||A2(Bs,0,23)){return null}}else{if(Bj==="m"){Bk("m");Bc=Ba(2);if(Bc===null||A2(Bc,0,59)){return null}}else{if(Bj==="s"){Bk("s");Bo=Ba(2);if(Bo===null||A2(Bo,0,59)){return null}}else{if(Bj==="f"){Bg=Bk("f");Bn=Bq.substr(Bd,Bg).match(AT[3]);Bt=Ba(Bg);if(Bt!==null){Bn=Bn[0].length;if(Bn<3){Bt*=Math.pow(10,(3-Bn))}if(Bg>3){Bt=parseInt(Bt.toString().substring(0,3),10)}}if(Bt===null||A2(Bt,0,999)){return null}}else{if(Bj==="t"){Bg=Bk("t");BC=Bf.AM;Bm=Bf.PM;if(Bg===1){BC=A1(BC);Bm=A1(Bm)}By=A8(Bm);if(!By&&!A8(BC)){return null}}else{if(Bj==="z"){Bw=true;Bg=Bk("z");if(Bq.substr(Bd,1)==="Z"){Bz();continue}Bi=Bq.substr(Bd,6).match(Bg>2?A4:A6);if(!Bi){return null}Bi=Bi[0].split(":");Be=Bi[0];Bb=Bi[1];if(!Bb&&Be.length>3){Bd=Be.length-2;Bb=Be.substring(Bd);Be=Be.substring(0,Bd)}Be=parseInt(Be,10);if(A2(Be,-12,13)){return null}if(Bg>2){Bb=parseInt(Bb,10);if(isNaN(Bb)||A2(Bb,0,59)){return null}}}else{if(Bj==="'"){Br=true;Bz()}else{if(!Bz()){return null}}}}}}}}}}}}}}Bv=Bs!==null||Bc!==null||Bo||null;if(BB===null&&BE===null&&Bp===null&&Bv){BB=BD;BE=A9.getMonth();Bp=A9.getDate()}else{if(BB===null){BB=BD}if(Bp===null){Bp=1}}if(By&&Bs<12){Bs+=12}if(Bw){if(Be){Bs+=-Be}if(Bb){Bc+=-Bb}Bq=new Date(Date.UTC(BB,BE,Bp,Bs,Bc,Bo,Bt))}else{Bq=new Date(BB,BE,Bp,Bs,Bc,Bo,Bt);AU(Bq,Bs)}if(BB<100){Bq.setFullYear(BB)}if(Bq.getDate()!==Bp&&Bw===Ak){return null}return Bq}function A5(A8){var A9=A8.substr(0,1)==="-"?-1:1;A8=A8.substring(1);A8=(parseInt(A8.substr(0,2),10)*60)+parseInt(A8.substring(2),10);return A9*A8}Ap.parseDate=function(Bc,Be,A9){if(AV.call(Bc)==="[object Date]"){return Bc}var Ba=0;var Bg=null;var Bb,A8;var Bd;var Bf;if(Bc){Bc=Bc+""}if(Bc&&Bc.indexOf("/D")===0){Bg=AZ.exec(Bc);if(Bg){Bg=Bg[1];Bd=AX.exec(Bg.substring(1));Bg=new Date(parseInt(Bg,10));if(Bd){Bd=A5(Bd[0]);Bg=Ap.timezone.apply(Bg,0);Bg=Ap.timezone.convert(Bg,0,-1*Bd)}return Bg}}A9=Ap.getCulture(A9);if(!Be){Be=[];A8=A9.calendar.patterns;Bb=AS.length;for(;Ba<Bb;Ba++){Be[Ba]=A8[AS[Ba]]}Ba=0;Be=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fff","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"].concat(Be)}Be=o(Be)?Be:[Be];Bb=Be.length;for(;Ba<Bb;Ba++){Bg=A0(Bc,Be[Ba],A9);if(Bg){return Bg}}return Bg};Ap.parseInt=function(Ba,A8){var A9=Ap.parseFloat(Ba,A8);if(A9){A9=A9|0}return A9};Ap.parseFloat=function(Bc,Ba,Bg){if(!Bc&&Bc!==0){return null}if(typeof Bc===b){return Bc}Bc=Bc.toString();Ba=Ap.getCulture(Ba);var A8=Ba.numberFormat,Bf=A8.percent,A9=A8.currency,Bd=A9.symbol,Bb=Bf.symbol,Bi=Bc.indexOf("-"),Be,Bh;if(AW.test(Bc)){Bc=parseFloat(Bc.replace(A8["."],"."));if(isNaN(Bc)){Bc=null}return Bc}if(Bi>0){return null}else{Bi=Bi>-1}if(Bc.indexOf(Bd)>-1||(Bg&&Bg.toLowerCase().indexOf("c")>-1)){A8=A9;Be=A8.pattern[0].replace("$",Bd).split("n");if(Bc.indexOf(Be[0])>-1&&Bc.indexOf(Be[1])>-1){Bc=Bc.replace(Be[0],"").replace(Be[1],"");Bi=true}}else{if(Bc.indexOf(Bb)>-1){Bh=true;A8=Bf;Bd=Bb}}Bc=Bc.replace("-","").replace(Bd,"").replace(A7," ").split(A8[","].replace(A7," ")).join("").replace(A8["."],".");Bc=parseFloat(Bc);if(isNaN(Bc)){Bc=null}else{if(Bi){Bc*=-1}}if(Bc&&Bh){Bc/=100}return Bc};if(Ah&&!Ah.load){Ap.parseDate=function(Ba,A8,A9){if(AV.call(Ba)==="[object Date]"){return Ba}return Ah.parseDate(Ba,A8,A9)};Ap.parseFloat=function(A9,A8){if(typeof A9===b){return A9}if(A9===Ak||A9===null){return null}if(E.isPlainObject(A8)){A8=A8.name}A9=Ah.parseFloat(A9,A8);return isNaN(A9)?null:A9}}})();function AE(AT){var AR=AT.css(Ap.support.transitions.css+"box-shadow")||AT.css("box-shadow"),AS=AR?AR.match(AH)||[0,0,0,0,0]:[0,0,0,0,0],AU=Ag.max((+AS[3]),+(AS[4]||0));return{left:(-AS[1])+AU,right:(+AS[1])+AU,bottom:(+AS[2])+AU}}function U(AS,A1){var AV=V.browser,AW,AX=AS.css("direction")=="rtl";if(!AS.parent().hasClass("k-animation-container")){var A0=AE(AS),AY=AS[0].style.width,AT=AS[0].style.height,A2=AO.test(AY),AR=AO.test(AT);if(AV.opera){A0.left=A0.right=A0.bottom=5}AW=A2||AR;if(!A2&&(!A1||(A1&&AY))){AY=AS.outerWidth()}if(!AR&&(!A1||(A1&&AT))){AT=AS.outerHeight()}AS.wrap(E("<div/>").addClass("k-animation-container").css({width:AY,height:AT,marginLeft:A0.left*(AX?1:-1),paddingLeft:A0.left,paddingRight:A0.right,paddingBottom:A0.bottom}));if(AW){AS.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}}else{var AZ=AS.parent(".k-animation-container"),AU=AZ[0].style;if(AZ.is(":hidden")){AZ.show()}AW=AO.test(AU.width)||AO.test(AU.height);if(!AW){AZ.css({width:AS.outerWidth(),height:AS.outerHeight(),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})}}if(AV.msie&&Ag.floor(AV.version)<=7){AS.css({zoom:1});AS.children(".k-menu").width(AS.width())}return AS.parent()}function Ad(AR){var AS=1,AT=arguments.length;for(AS=1;AS<AT;AS++){z(AR,arguments[AS])}return AR}function z(A1,AY){var AX=Ap.data.ObservableArray,AU=Ap.data.LazyObservableArray,AR=Ap.data.DataSource,AV=Ap.data.HierarchicalDataSource,AT,AZ,AS,A0,AW;for(AT in AY){AZ=AY[AT];AS=typeof AZ;if(AS===AC&&AZ!==null){A0=AZ.constructor}else{A0=null}if(A0&&A0!==Array&&A0!==AX&&A0!==AU&&A0!==AR&&A0!==AV){if(AZ instanceof Date){A1[AT]=new Date(AZ.getTime())}else{if(r(AZ.clone)){A1[AT]=AZ.clone()}else{AW=A1[AT];if(typeof(AW)===AC){A1[AT]=AW||{}}else{A1[AT]={}}z(A1[AT],AZ)}}}else{if(AS!==X){A1[AT]=AZ}}}return A1}function A(AT,AU,AR){for(var AS in AU){if(AU.hasOwnProperty(AS)&&AU[AS].test(AT)){return AS}}return AR!==Ak?AR:AT}function c(AR){return AR.replace(/([a-z][A-Z])/g,function(AS){return AS.charAt(0)+"-"+AS.charAt(1).toLowerCase()})}function W(AR){return AR.replace(/\-(\w)/g,function(AT,AS){return AS.toUpperCase()})}function C(AU,AS){var AT={},AR;if(document.defaultView&&document.defaultView.getComputedStyle){AR=document.defaultView.getComputedStyle(AU,"");if(AS){E.each(AS,function(AW,AV){AT[AV]=AR.getPropertyValue(AV)})}}else{AR=AU.currentStyle;if(AS){E.each(AS,function(AW,AV){AT[AV]=AR[W(AV)]})}}if(!Ap.size(AT)){AT=AR}return AT}function M(AR){return C(AR,["overflow"]).overflow!="visible"}(function(){V._scrollbar=Ak;V.scrollbar=function(A1){if(!isNaN(V._scrollbar)&&!A1){return V._scrollbar}else{var A0=document.createElement("div"),AZ;A0.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block";A0.innerHTML="&nbsp;";document.body.appendChild(A0);V._scrollbar=AZ=A0.offsetWidth-A0.scrollWidth;document.body.removeChild(A0);return AZ}};V.isRtl=function(AZ){return E(AZ).closest(".k-rtl").length>0};var AY=document.createElement("table");try{AY.innerHTML="<tr><td></td></tr>";V.tbodyInnerHtml=true}catch(AR){V.tbodyInnerHtml=false}V.touch="ontouchstart" in Am;V.msPointers=Am.MSPointerEvent;V.pointers=Am.PointerEvent;var AT=V.transitions=false,AX=V.transforms=false,AS="HTMLElement" in Am?HTMLElement.prototype:[];V.hasHW3D=("WebKitCSSMatrix" in Am&&"m11" in new Am.WebKitCSSMatrix())||"MozPerspective" in document.documentElement.style||"msPerspective" in document.documentElement.style;Q(["Moz","webkit","O","ms"],function(){var A0=this.toString(),AZ=typeof AY.style[A0+"Transition"]===AD;if(AZ||typeof AY.style[A0+"Transform"]===AD){var A1=A0.toLowerCase();AX={css:(A1!="ms")?"-"+A1+"-":"",prefix:A0,event:(A1==="o"||A1==="webkit")?A1:""};if(AZ){AT=AX;AT.event=AT.event?AT.event+"TransitionEnd":"transitionend"}return false}});AY=null;V.transforms=AX;V.transitions=AT;V.devicePixelRatio=Am.devicePixelRatio===Ak?1:Am.devicePixelRatio;try{V.screenWidth=Am.outerWidth||Am.screen?Am.screen.availWidth:Am.innerWidth;V.screenHeight=Am.outerHeight||Am.screen?Am.screen.availHeight:Am.innerHeight}catch(AR){V.screenWidth=Am.screen.availWidth;V.screenHeight=Am.screen.availHeight}V.detectOS=function(A2){var A7=false,A5,A1=[],A3=!/mobile safari/i.test(A2),A0={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},AZ={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},A4={tablet:/playbook|ipad|fire/i},A8={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(var A6 in A0){if(A0.hasOwnProperty(A6)){A1=A2.match(A0[A6]);if(A1){if(A6=="windows"&&"plugins" in navigator){return false}A7={};A7.device=A6;A7.tablet=A(A6,A4,false);A7.browser=A(A2,A8,"default");A7.name=A(A6,AZ);A7[A7.name]=true;A7.majorVersion=A1[2];A7.minorVersion=A1[3].replace("_",".");A5=A7.minorVersion.replace(".","").substr(0,2);A7.flatVersion=A7.majorVersion+A5+(new Array(3-(A5.length<3?A5.length:2)).join("0"));A7.cordova=typeof Am.PhoneGap!==X||typeof Am.cordova!==X;A7.appMode=Am.navigator.standalone||(/file|local|wmapp/).test(Am.location.protocol)||A7.cordova;if(A7.android&&(V.devicePixelRatio<1.5&&A7.flatVersion<400||A3)&&(V.screenWidth>800||V.screenHeight>800)){A7.tablet=A6}break}}}return A7};var AV=V.mobileOS=V.detectOS(navigator.userAgent);V.wpDevicePixelRatio=AV.wp?screen.width/320:0;V.kineticScrollNeeded=AV&&(V.touch||V.msPointers||V.pointers);V.hasNativeScrolling=false;if(AV.ios||(AV.android&&AV.majorVersion>2)||AV.wp){V.hasNativeScrolling=AV}V.mouseAndTouchPresent=V.touch&&!(V.mobileOS.ios||V.mobileOS.android);V.detectBrowser=function(A2){var AZ=false,A0=[],A3={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var A1 in A3){if(A3.hasOwnProperty(A1)){A0=A2.match(A3[A1]);if(A0){AZ={};AZ[A1]=true;AZ[A0[1].toLowerCase().split(" ")[0].split("/")[0]]=true;AZ.version=parseInt(document.documentMode||A0[2],10);break}}}return AZ};V.browser=V.detectBrowser(navigator.userAgent);V.zoomLevel=function(){try{var AZ=V.browser;var A1=0;var A2=document.documentElement;if(AZ.msie&&AZ.version==11&&A2.scrollHeight>A2.clientHeight&&!V.touch){A1=V.scrollbar()}return V.touch?(A2.clientWidth/Am.innerWidth):AZ.msie&&AZ.version>=10?(((top||Am).document.documentElement.offsetWidth+A1)/(top||Am).innerWidth):1}catch(A0){return 1}};V.cssBorderSpacing=typeof document.documentElement.style.borderSpacing!="undefined"&&!(V.browser.msie&&V.browser.version<8);(function(A0){var A2="",AZ=E(document.documentElement),A1=parseInt(A0.version,10);if(A0.msie){A2="ie"}else{if(A0.mozilla){A2="ff"}else{if(A0.safari){A2="safari"}else{if(A0.webkit){A2="webkit"}else{if(A0.opera){A2="opera"}}}}}if(A2){A2="k-"+A2+" k-"+A2+A1}if(V.mobileOS){A2+=" k-mobile"}AZ.addClass(A2)})(V.browser);V.eventCapture=document.documentElement.addEventListener;var AW=document.createElement("input");V.placeholder="placeholder" in AW;V.propertyChangeEvent="onpropertychange" in AW;V.input=(function(){var A2=["number","date","time","month","week","datetime","datetime-local"];var A0=A2.length;var A3="test";var A1={};var A4=0;var AZ;for(;A4<A0;A4++){AZ=A2[A4];AW.setAttribute("type",AZ);AW.value=A3;A1[AZ.replace("-","")]=AW.type!=="text"&&AW.value!==A3}return A1})();AW.style.cssText="float:left;";V.cssFloat=!!AW.style.cssFloat;AW=null;V.stableSort=(function(){var A1=513;var AZ=[{index:0,field:"b"}];for(var A0=1;A0<A1;A0++){AZ.push({index:A0,field:"a"})}AZ.sort(function(A3,A2){return A3.field>A2.field?1:(A3.field<A2.field?-1:0)});return AZ[0].index===1})();V.matchesSelector=AS.webkitMatchesSelector||AS.mozMatchesSelector||AS.msMatchesSelector||AS.oMatchesSelector||AS.matchesSelector||AS.matches||function(A1){var AZ=document.querySelectorAll?(this.parentNode||document).querySelectorAll(A1)||[]:E(A1),A0=AZ.length;while(A0--){if(AZ[A0]==this){return true}}return false};V.pushState=Am.history&&Am.history.pushState;var AU=document.documentMode;V.hashChange=("onhashchange" in Am)&&!(V.browser.msie&&(!AU||AU<=8))})();function AJ(AS){var AT=0,AR;for(AR in AS){if(AS.hasOwnProperty(AR)&&AR!="toJSON"){AT++}}return AT}function k(AU,AR,AV){if(!AR){AR="offset"}var AS=AU[AR](),AT=V.mobileOS;if(V.browser.msie&&(V.pointers||V.msPointers)&&!AV){AS.top-=(Am.pageYOffset-document.documentElement.scrollTop);AS.left-=(Am.pageXOffset-document.documentElement.scrollLeft)}return AS}var AG={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}};function n(AS){var AR={};Q((typeof AS==="string"?AS.split(" "):AS),function(AT){AR[AT]=this});return AR}function g(AR){return new Ap.effects.Element(AR)}var Ab={};E.extend(Ab,{enabled:true,Element:function(AR){this.element=E(AR)},promise:function(AS,AR){if(!AS.is(":visible")){AS.css({display:AS.data("olddisplay")||"block"}).css("display")}if(AR.hide){AS.data("olddisplay",AS.css("display")).hide()}if(AR.init){AR.init()}if(AR.completeCallback){AR.completeCallback(AS)}AS.dequeue()},disable:function(){this.enabled=false;this.promise=this.promiseShim},enable:function(){this.enabled=true;this.promise=this.animatedPromise}});Ab.promiseShim=Ab.promise;function Y(AT,AU,AS,AR){if(typeof AT===AD){if(r(AU)){AR=AU;AU=400;AS=false}if(r(AS)){AR=AS;AS=false}if(typeof AU===l){AS=AU;AU=400}AT={effects:AT,duration:AU,reverse:AS,complete:AR}}return a({effects:{},duration:400,reverse:false,init:AQ,teardown:AQ,hide:false},AT,{completeCallback:AT.complete,complete:AQ})}function S(AR,AW,AU,AS,AX){var AT=0,AY=AR.length,AV;for(;AT<AY;AT++){AV=E(AR[AT]);AV.queue(function(){Ab.promise(AV,Y(AW,AU,AS,AX))})}return AR}function H(AU,AS,AT,AR){if(AS){AS=AS.split(" ");Q(AS,function(AW,AV){AU.toggleClass(AV,AR)})}return AU}if(!("kendoAnimate" in E.fn)){a(E.fn,{kendoStop:function(AS,AR){return this.stop(AS,AR)},kendoAnimate:function(AT,AU,AS,AR){return S(this,AT,AU,AS,AR)},kendoAddClass:function(AS,AR){return Ap.toggleClass(this,AS,AR,true)},kendoRemoveClass:function(AS,AR){return Ap.toggleClass(this,AS,AR,false)},kendoToggleClass:function(AT,AS,AR){return Ap.toggleClass(this,AT,AS,AR)}})}var e=/&/g,AI=/</g,I=/"/g,Z=/'/g,u=/>/g;function D(AR){return(""+AR).replace(e,"&amp;").replace(AI,"&lt;").replace(u,"&gt;").replace(I,"&quot;").replace(Z,"&#39;")}var AF=function(AR){return AR.target};if(V.touch){AF=function(AR){var AS="originalEvent" in AR?AR.originalEvent.changedTouches:"changedTouches" in AR?AR.changedTouches:null;return AS?document.elementFromPoint(AS[0].clientX,AS[0].clientY):AR.target};Q(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(AR,AS){E.fn[AS]=function(AT){return this.bind(AS,AT)}})}if(V.touch){if(!V.mobileOS){V.mousedown="mousedown touchstart";V.mouseup="mouseup touchend";V.mousemove="mousemove touchmove";V.mousecancel="mouseleave touchcancel";V.click="click";V.resize="resize"}else{V.mousedown="touchstart";V.mouseup="touchend";V.mousemove="touchmove";V.mousecancel="touchcancel";V.click="touchend";V.resize="orientationchange"}}else{if(V.pointers){V.mousemove="pointermove";V.mousedown="pointerdown";V.mouseup="pointerup";V.mousecancel="pointercancel";V.click="pointerup";V.resize="orientationchange resize"}else{if(V.msPointers){V.mousemove="MSPointerMove";V.mousedown="MSPointerDown";V.mouseup="MSPointerUp";V.mousecancel="MSPointerCancel";V.click="MSPointerUp";V.resize="orientationchange resize"}else{V.mousemove="mousemove";V.mousedown="mousedown";V.mouseup="mouseup";V.mousecancel="mouseleave";V.click="click";V.resize="resize"}}}var An=function(AS,AR){var AT=AR||"d",AU,AW,AX,AV,AY=1;for(AW=0,AX=AS.length;AW<AX;AW++){AV=AS[AW];if(AV!==""){AU=AV.indexOf("[");if(AU!==0){if(AU==-1){AV="."+AV}else{AY++;AV="."+AV.substring(0,AU)+" || {})"+AV.substring(AU)}}AY++;AT+=AV+((AW<AX-1)?" || {})":")")}}return new Array(AY).join("(")+AT},L=/^([a-z]+:)?\/\//i;a(Ap,{ui:Ap.ui||{},fx:Ap.fx||g,effects:Ap.effects||Ab,mobile:Ap.mobile||{},data:Ap.data||{},dataviz:Ap.dataviz||{},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:Ap.support||V,animate:Ap.animate||S,ns:"",attr:function(AR){return"data-"+Ap.ns+AR},getShadows:AE,wrap:U,deepExtend:Ad,getComputedStyles:C,isScrollable:M,size:AJ,toCamelCase:W,toHyphens:c,getOffset:Ap.getOffset||k,parseEffects:Ap.parseEffects||n,toggleClass:Ap.toggleClass||H,directions:Ap.directions||AG,Observable:AL,Class:J,Template:P,template:R(P.compile,P),render:R(P.render,P),stringify:R(Aw.stringify,Aw),eventTarget:AF,htmlEncode:D,isLocalUrl:function(AR){return AR&&!L.test(AR)},expr:function(AT,AR,AS){AT=AT||"";if(typeof AR==AD){AS=AR;AR=false}AS=AS||"d";if(AT&&AT.charAt(0)!=="["){AT="."+AT}if(AR){AT=AT.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"');AT=AT.replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'");AT=An(AT.split("."),AS);AT=AT.replace(/_\$DOT\$_/g,".")}else{AT=AS+AT}return AT},getter:function(AT,AS){var AR=AT+AS;return Ac[AR]=Ac[AR]||new Function("d","return "+Ap.expr(AT,AS))},setter:function(AR){return AA[AR]=AA[AR]||new Function("d,value",Ap.expr(AR)+"=value")},accessor:function(AR){return{get:Ap.getter(AR),set:Ap.setter(AR)}},guid:function(){var AT="",AR,AS;for(AR=0;AR<32;AR++){AS=Ag.random()*16|0;if(AR==8||AR==12||AR==16||AR==20){AT+="-"}AT+=(AR==12?4:(AR==16?(AS&3|8):AS)).toString(16)}return AT},roleSelector:function(AR){return AR.replace(/(\S+)/g,"["+Ap.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(AR){var AT=AR.split(" ");if(AT){for(var AS=0;AS<AT.length;AS++){if(AT[AS]!="view"){AT[AS]=AT[AS].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2")}}}return AT.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(AR){return(/^(label|input|textarea|select)$/i).test(AR.target.tagName)},logToConsole:function(AS){var AR=Am.console;if(!Ap.suppressLog&&typeof(AR)!="undefined"&&AR.log){AR.log(AS)}}});var p=AL.extend({init:function(AU,AT){var AR=this;AR.element=Ap.jQuery(AU).handler(AR);AR.angular("init",AT);AL.fn.init.call(AR);var AS=AT?AT.dataSource:null;if(AS){AT=a({},AT,{dataSource:{}})}AT=AR.options=a(true,{},AR.options,AT);if(AS){AT.dataSource=AS}if(!AR.element.attr(Ap.attr("role"))){AR.element.attr(Ap.attr("role"),(AT.name||"").toLowerCase())}AR.element.data("kendo"+AT.prefix+AT.name,AR);AR.bind(AR.events,AT)},events:[],options:{prefix:""},_hasBindingTarget:function(){return !!this.element[0].kendoBindingTarget},_tabindex:function(AU){AU=AU||this.wrapper;var AR=this.element,AT="tabindex",AS=AU.attr(AT)||AR.attr(AT);AR.removeAttr(AT);AU.attr(AT,!isNaN(AS)?AS:0)},setOptions:function(AR){this._setEvents(AR);E.extend(this.options,AR)},_setEvents:function(AU){var AT=this,AV=0,AR=AT.events.length,AS;for(;AV<AR;AV++){AS=AT.events[AV];if(AT.options[AS]&&AU[AS]){AT.unbind(AS,AT.options[AS])}}AT.bind(AT.events,AU)},resize:function(AS){var AR=this.getSize(),AT=this._size;if(AS||(AR.width>0||AR.height>0)&&(!AT||AR.width!==AT.width||AR.height!==AT.height)){this._size=AR;this._resize(AR,AS);this.trigger("resize",AR)}},getSize:function(){return Ap.dimensions(this.element)},size:function(AR){if(!AR){return this.getSize()}else{this.setSize(AR)}},setSize:E.noop,_resize:E.noop,destroy:function(){var AR=this;AR.element.removeData("kendo"+AR.options.prefix+AR.options.name);AR.element.removeData("handler");AR.unbind()},angular:function(){}});var AK=p.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(AS){var AR=this;AR.angular(AS,function(){return{elements:AR.items(),data:E.map(AR.dataItems(),function(AT){return{dataItem:AT}})}})}});Ap.dimensions=function(AT,AS){var AR=AT[0];if(AS){AT.css(AS)}return{width:AR.offsetWidth,height:AR.offsetHeight}};Ap.notify=AQ;var G=/template$/i,Az=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,Ay=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]*\]$/,AN=/([A-Z])/g;function Av(AT,AR){var AS;if(AR.indexOf("data")===0){AR=AR.substring(4);AR=AR.charAt(0).toLowerCase()+AR.substring(1)}AR=AR.replace(AN,"-$1");AS=AT.getAttribute("data-"+Ap.ns+AR);if(AS===null){AS=Ak}else{if(AS==="null"){AS=null}else{if(AS==="true"){AS=true}else{if(AS==="false"){AS=false}else{if(h.test(AS)){AS=parseFloat(AS)}else{if(Az.test(AS)&&!Ay.test(AS)){AS=new Function("return ("+AS+")")()}}}}}}return AS}function f(AV,AT){var AS={},AR,AU;for(AR in AT){AU=Av(AV,AR);if(AU!==Ak){if(G.test(AR)){AU=Ap.template(E("#"+AU).html())}AS[AR]=AU}}return AS}Ap.initWidget=function(AR,A0,AS){var AU,A5,A2,AW,AX,A4,AY,A6,AV,A1;if(!AS){AS=Ap.ui.roles}else{if(AS.roles){AS=AS.roles}}AR=AR.nodeType?AR:AR[0];A4=AR.getAttribute("data-"+Ap.ns+"role");if(!A4){return}AV=A4.indexOf(".")===-1;if(AV){A2=AS[A4]}else{A2=Ap.getter(A4)(Am)}var AT=E(AR).data(),AZ=A2?"kendo"+A2.fn.options.prefix+A2.fn.options.name:"";if(AV){A1=new RegExp("^kendo.*"+A4+"$","i")}else{A1=new RegExp("^"+AZ+"$","i")}for(var A3 in AT){if(A3.match(A1)){if(A3===AZ){AU=AT[A3]}else{return AT[A3]}}}if(!A2){return}A6=Av(AR,"dataSource");A0=E.extend({},f(AR,A2.fn.options),A0);if(A6){if(typeof A6===AD){A0.dataSource=Ap.getter(A6)(Am)}else{A0.dataSource=A6}}for(AW=0,AX=A2.fn.events.length;AW<AX;AW++){A5=A2.fn.events[AW];AY=Av(AR,A5);if(AY!==Ak){A0[A5]=Ap.getter(AY)(Am)}}if(!AU){AU=new A2(AR,A0)}else{if(!E.isEmptyObject(A0)){AU.setOptions(A0)}}return AU};Ap.rolesFromNamespaces=function(AU){var AS=[],AT,AR;if(!AU[0]){AU=[Ap.ui,Ap.dataviz.ui]}for(AT=0,AR=AU.length;AT<AR;AT++){AS[AT]=AU[AT].roles}return a.apply(null,[{}].concat(AS.reverse()))};Ap.init=function(AS){var AR=Ap.rolesFromNamespaces(Aj.call(arguments,1));E(AS).find("[data-"+Ap.ns+"role]").addBack().each(function(){Ap.initWidget(this,{},AR)})};Ap.destroy=function(AR){E(AR).find("[data-"+Ap.ns+"role]").addBack().each(function(){var AT=E(this).data();for(var AS in AT){if(AS.indexOf("kendo")===0&&typeof AT[AS].destroy===w){AT[AS].destroy()}}})};function Af(AS,AR){return E.contains(AS,AR)?-1:1}function B(){var AR=E(this);return(E.inArray(AR.attr("data-"+Ap.ns+"role"),["slider","rangeslider"])>-1)||AR.is(":visible")}Ap.resize=function(AS,AR){var AT=E(AS).find("[data-"+Ap.ns+"role]").addBack().filter(B);if(!AT.length){return}var AU=E.makeArray(AT);AU.sort(Af);E.each(AU,function(){var AV=Ap.widgetInstance(E(this));if(AV){AV.resize(AR)}})};Ap.parseOptions=f;a(Ap.ui,{Widget:p,DataBoundWidget:AK,roles:{},progress:function(AX,AU){var AZ=AX.find(".k-loading-mask"),AS=Ap.support,AY=AS.browser,AV,AT,AR,AW;if(AU){if(!AZ.length){AV=AS.isRtl(AX);AT=AV?"right":"left";AW=AX.scrollLeft();AR=AY.webkit?(!AV?0:AX[0].scrollWidth-AX.width()-2*AW):0;AZ=E("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",AX.scrollTop()).css(AT,Math.abs(AW)+AR).prependTo(AX)}}else{if(AZ){AZ.remove()}}},plugin:function(AV,AS,AR){var AT=AV.fn.options.name,AU;AS=AS||Ap.ui;AR=AR||"";AS[AT]=AV;AS.roles[AT.toLowerCase()]=AV;AU="getKendo"+AR+AT;AT="kendo"+AR+AT;E.fn[AT]=function(AW){var AX=this,AY;if(typeof AW===AD){AY=Aj.call(arguments,1);this.each(function(){var A1=E.data(this,AT),A0,AZ;if(!A1){throw new Error(Ap.format("Cannot call method '{0}' of {1} before it is initialized",AW,AT))}A0=A1[AW];if(typeof A0!==w){throw new Error(Ap.format("Cannot find method '{0}' of {1}",AW,AT))}AZ=A0.apply(A1,AY);if(AZ!==Ak){AX=AZ;return false}})}else{this.each(function(){new AV(this,AW)})}return AX};E.fn[AT].widget=AV;E.fn[AU]=function(){return this.data(AT)}}});var Ae={bind:function(){return this},nullObject:true,options:{}};var y=p.extend({init:function(AS,AR){p.fn.init.call(this,AS,AR);this.element.autoApplyNS();this.wrapper=this.element;this.element.addClass("km-widget")},destroy:function(){p.fn.destroy.call(this);this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var AR=this.element.closest(Ap.roleSelector("view splitview modalview drawer"));return Ap.widgetInstance(AR,Ap.mobile.ui)||Ae},viewHasNativeScrolling:function(){var AR=this.view();return AR&&AR.options.useNativeScrolling},container:function(){var AR=this.element.closest(Ap.roleSelector("view layout modalview drawer splitview"));return Ap.widgetInstance(AR.eq(0),Ap.mobile.ui)||Ae}});a(Ap.mobile,{init:function(AR){Ap.init(AR,Ap.mobile.ui,Ap.ui,Ap.dataviz.ui)},appLevelNativeScrolling:function(){return Ap.mobile.application&&Ap.mobile.application.options&&Ap.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:y,DataBoundWidget:AK.extend(y.prototype),roles:{},plugin:function(AR){Ap.ui.plugin(AR,Ap.mobile.ui,"Mobile")}}});Ad(Ap.dataviz,{init:function(AR){Ap.init(AR,Ap.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(AR){Ap.ui.plugin(AR,Ap.dataviz.ui)}},roles:{}});Ap.touchScroller=function(AR,AS){return E(AR).map(function(AT,AU){AU=E(AU);if(V.kineticScrollNeeded&&Ap.mobile.ui.Scroller&&!AU.data("kendoMobileScroller")){AU.kendoMobileScroller(AS);return AU.data("kendoMobileScroller")}else{return false}})[0]};Ap.preventDefault=function(AR){AR.preventDefault()};Ap.widgetInstance=function(AS,AR){var AT=AS.data(Ap.ns+"role"),AX=[],AV,AU;if(AT){if(AT==="content"){AT="scroller"}if(AR){if(AR[0]){for(AV=0,AU=AR.length;AV<AU;AV++){AX.push(AR[AV].roles[AT])}}else{AX.push(AR.roles[AT])}}else{AX=[Ap.ui.roles[AT],Ap.dataviz.ui.roles[AT],Ap.mobile.ui.roles[AT]]}if(AT.indexOf(".")>=0){AX=[Ap.getter(AT)(Am)]}for(AV=0,AU=AX.length;AV<AU;AV++){var AW=AX[AV];if(AW){var AY=AS.data("kendo"+AW.fn.options.prefix+AW.fn.options.name);if(AY){return AY}}}}};Ap.onResize=function(AR){var AS=AR;if(V.mobileOS.android){AS=function(){setTimeout(AR,600)}}E(Am).on(V.resize,AS);return AS};Ap.unbindResize=function(AR){E(Am).off(V.resize,AR)};Ap.attrValue=function(AS,AR){return AS.data(Ap.ns+AR)};Ap.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};function F(AS,AT){var AR=AS.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(AR)?!AS.disabled:"a"===AR?AS.href||AT:AT)&&v(AS)}function v(AR){return !E(AR).parents().addBack().filter(function(){return E.css(this,"visibility")==="hidden"||E.expr.filters.hidden(this)}).length}E.extend(E.expr[":"],{kendoFocusable:function(AS){var AR=E.attr(AS,"tabindex");return F(AS,!isNaN(AR)&&AR>-1)}});var s=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"];var AP="label, input, [data-rel=external]";var Al={setupMouseMute:function(){var AT=0,AR=s.length,AU=document.documentElement;if(Al.mouseTrap||!V.eventCapture){return}Al.mouseTrap=true;Al.bustClick=false;Al.captureMouse=false;var AS=function(AV){if(Al.captureMouse){if(AV.type==="click"){if(Al.bustClick&&!E(AV.target).is(AP)){AV.preventDefault();AV.stopPropagation()}}else{AV.stopPropagation()}}};for(;AT<AR;AT++){AU.addEventListener(s[AT],AS,true)}},muteMouse:function(AR){Al.captureMouse=true;if(AR.data.bustClick){Al.bustClick=true}clearTimeout(Al.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(Al.mouseTrapTimeoutID);Al.mouseTrapTimeoutID=setTimeout(function(){Al.captureMouse=false;Al.bustClick=false},400)}};var q={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};if(V.touch&&(V.mobileOS.ios||V.mobileOS.android)){q={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}}else{if(V.pointers){q={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}}else{if(V.msPointers){q={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}}}}if(V.msPointers&&!("onmspointerenter" in Am)){E.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(AR,AS){E.event.special[AR]={delegateType:AS,bindType:AS,handle:function(AV){var AX,AW=this,AT=AV.relatedTarget,AU=AV.handleObj;if(!AT||(AT!==AW&&!E.contains(AW,AT))){AV.type=AU.origType;AX=AU.handler.apply(this,arguments);AV.type=AS}return AX}}})}var O=function(AR){return(q[AR]||AR)},Aq=/([^ ]+)/g;Ap.applyEventMap=function(AS,AR){AS=AS.replace(Aq,O);if(AR){AS=AS.replace(Aq,"$1."+AR)}return AS};var Ax=E.fn.on;function x(AS,AR){return new x.fn.init(AS,AR)}a(true,x,E);x.fn=x.prototype=new E();x.fn.constructor=x;x.fn.init=function(AS,AR){if(AR&&AR instanceof E&&!(AR instanceof x)){AR=x(AR)}return E.fn.init.call(this,AS,AR,N)};x.fn.init.prototype=x.fn;var N=x(document);a(x.fn,{handler:function(AR){this.data("handler",AR);return this},autoApplyNS:function(AR){this.data("kendoNS",AR||Ap.guid());return this},on:function(){var AV=this,AY=AV.data("kendoNS");if(arguments.length===1){return Ax.call(AV,arguments[0])}var AU=AV,AR=Aj.call(arguments);if(typeof AR[AR.length-1]===X){AR.pop()}var AS=AR[AR.length-1],AX=Ap.applyEventMap(AR[0],AY);if(V.mouseAndTouchPresent&&AX.search(/mouse|click/)>-1&&this[0]!==document.documentElement){Al.setupMouseMute();var AW=AR.length===2?null:AR[1],AT=AX.indexOf("click")>-1&&AX.indexOf("touchend")>-1;Ax.call(this,{touchstart:Al.muteMouse,touchend:Al.unMuteMouse},AW,{bustClick:AT})}if(typeof AS===AD){AU=AV.data("handler");AS=AU[AS];AR[AR.length-1]=function(AZ){AS.call(AU,AZ)}}AR[0]=AX;Ax.apply(AV,AR);return AV},kendoDestroy:function(AR){AR=AR||this.data("kendoNS");if(AR){this.off("."+AR)}return this}});Ap.jQuery=x;Ap.eventMap=q;Ap.timezone=(function(){var AU={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};var AZ={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};function A2(A9,A8){var Bb;var A7;var A6;var A4=A8[3];var A5=A8[4];var A3=A8[5];var Ba=A8[8];if(!Ba){A8[8]=Ba={}}if(Ba[A9]){return Ba[A9]}if(!isNaN(A5)){Bb=new Date(Date.UTC(A9,AU[A4],A5,A3[0],A3[1],A3[2],0))}else{if(A5.indexOf("last")===0){Bb=new Date(Date.UTC(A9,AU[A4]+1,1,A3[0]-24,A3[1],A3[2],0));A7=AZ[A5.substr(4,3)];A6=Bb.getUTCDay();Bb.setUTCDate(Bb.getUTCDate()+A7-A6-(A7>A6?7:0))}else{if(A5.indexOf(">=")>=0){Bb=new Date(Date.UTC(A9,AU[A4],A5.substr(5),A3[0],A3[1],A3[2],0));A7=AZ[A5.substr(0,3)];A6=Bb.getUTCDay();Bb.setUTCDate(Bb.getUTCDate()+A7-A6+(A7<A6?7:0))}}}return Ba[A9]=Bb}function AR(A3,A6,A9){A6=A6[A9];if(!A6){var A8=A9.split(":");var A4=0;if(A8.length>1){A4=A8[0]*60+Number(A8[1])}return[-1000000,"max","-","Jan",1,[0,0,0],A4,"-"]}var A7=new Date(A3).getUTCFullYear();A6=jQuery.grep(A6,function(Bb){var Ba=Bb[0];var Bc=Bb[1];return Ba<=A7&&(Bc>=A7||(Ba==A7&&Bc=="only")||Bc=="max")});A6.push(A3);A6.sort(function(Bb,Ba){if(typeof Bb!="number"){Bb=Number(A2(A7,Bb))}if(typeof Ba!="number"){Ba=Number(A2(A7,Ba))}return Bb-Ba});var A5=A6[jQuery.inArray(A3,A6)-1]||A6[A6.length-1];return isNaN(A5)?A5:null}function AT(A3,A8,A4){var A5=A8[A4];if(typeof A5==="string"){A5=A8[A5]}if(!A5){throw new Error('Timezone "'+A4+'" is either incorrect, or kendo.timezones.min.js is not included.')}for(var A7=A5.length-1;A7>=0;A7--){var A9=A5[A7][3];if(A9&&A3>A9){break}}var A6=A5[A7+1];if(!A6){throw new Error('Timezone "'+A4+'" not found on '+A3+".")}return A6}function A0(A3,A6,A5,A4){if(typeof A3!=b){A3=Date.UTC(A3.getFullYear(),A3.getMonth(),A3.getDate(),A3.getHours(),A3.getMinutes(),A3.getSeconds(),A3.getMilliseconds())}var A7=AT(A3,A6,A4);return{zone:A7,rule:AR(A3,A5,A7[1])}}function AX(A3,A4){if(A4=="Etc/UTC"||A4=="Etc/GMT"){return 0}var A6=A0(A3,this.zones,this.rules,A4);var A7=A6.zone;var A5=A6.rule;return Ap.parseFloat(A5?A7[0]-A5[6]:A7[0])}function AS(A3,A4){var A7=A0(A3,this.zones,this.rules,A4);var A8=A7.zone;var A6=A7.rule;var A5=A8[2];if(A5.indexOf("/")>=0){return A5.split("/")[A6&&+A6[6]?1:0]}else{if(A5.indexOf("%s")>=0){return A5.replace("%s",(!A6||A6[7]=="-")?"":A6[7])}}return A5}function AV(A7,A3,A5){if(typeof A3==AD){A3=this.offset(A7,A3)}if(typeof A5==AD){A5=this.offset(A7,A5)}var A6=A7.getTimezoneOffset();A7=new Date(A7.getTime()+(A3-A5)*60000);var A4=A7.getTimezoneOffset();return new Date(A7.getTime()+(A4-A6)*60000)}function A1(A4,A3){return this.convert(A4,A4.getTimezoneOffset(),A3)}function AW(A4,A3){return this.convert(A4,A3,A4.getTimezoneOffset())}function AY(A3){return this.apply(new Date(A3),"Etc/UTC")}return{zones:{},rules:{},offset:AX,convert:AV,apply:A1,remove:AW,abbr:AS,toLocalDate:AY}})();Ap.date=(function(){var AY=60000,AV=86400000;function AS(A9,A8){if(A8===0&&A9.getHours()===23){A9.setHours(A9.getHours()+2);return true}return false}function AW(Bb,Ba,A8){var A9=Bb.getHours();A8=A8||1;Ba=((Ba-Bb.getDay())+(7*A8))%7;Bb.setDate(Bb.getDate()+Ba);AS(Bb,A9)}function A2(Ba,A9,A8){Ba=new Date(Ba);AW(Ba,A9,A8);return Ba}function A6(A8){return new Date(A8.getFullYear(),A8.getMonth(),1)}function AT(Bb){var Ba=new Date(Bb.getFullYear(),Bb.getMonth()+1,0),A9=A6(Bb),A8=Math.abs(Ba.getTimezoneOffset()-A9.getTimezoneOffset());if(A8){Ba.setHours(A9.getHours()+(A8/60))}return Ba}function A3(A8){A8=new Date(A8.getFullYear(),A8.getMonth(),A8.getDate(),0,0,0);AS(A8,0);return A8}function A4(A8){return Date.UTC(A8.getFullYear(),A8.getMonth(),A8.getDate(),A8.getHours(),A8.getMinutes(),A8.getSeconds(),A8.getMilliseconds())}function A0(A8){return A8.getTime()-A3(A8)}function A1(Bb,A8,Bd){var Bc=A0(A8),Ba=A0(Bd),A9;if(!Bb||Bc==Ba){return true}if(A8>=Bd){Bd+=AV}A9=A0(Bb);if(Bc>A9){A9+=AV}if(Ba<Bc){Ba+=AV}return A9>=Bc&&A9<=Ba}function A7(Bb,A8,Bd){var Bc=A8.getTime(),Ba=Bd.getTime(),A9;if(Bc>=Ba){Ba+=AV}A9=Bb.getTime();return A9>=Bc&&A9<=Ba}function AU(Ba,A8){var A9=Ba.getHours();Ba=new Date(Ba);AZ(Ba,A8*AV);AS(Ba,A9);return Ba}function AZ(Bb,Ba,Bc){var A8=Bb.getTimezoneOffset();var A9;Bb.setTime(Bb.getTime()+Ba);if(!Bc){A9=Bb.getTimezoneOffset()-A8;Bb.setTime(Bb.getTime()+A9*AY)}}function A5(){return A3(new Date())}function AR(A8){return A3(A8).getTime()==A5().getTime()}function AX(A9){var A8=new Date(1980,1,1,0,0,0);if(A9){A8.setHours(A9.getHours(),A9.getMinutes(),A9.getSeconds(),A9.getMilliseconds())}return A8}return{adjustDST:AS,dayOfWeek:A2,setDayOfWeek:AW,getDate:A3,isInDateRange:A7,isInTimeRange:A1,isToday:AR,nextDay:function(A8){return AU(A8,1)},previousDay:function(A8){return AU(A8,-1)},toUtcTime:A4,MS_PER_DAY:AV,MS_PER_HOUR:60*AY,MS_PER_MINUTE:AY,setTime:AZ,addDays:AU,today:A5,toInvariantTime:AX,firstDayOfMonth:A6,lastDayOfMonth:AT,getMilliseconds:A0}})();Ap.stripWhitespace=function(AU){if(document.createNodeIterator){var AR=document.createNodeIterator(AU,NodeFilter.SHOW_TEXT,function(AV){return AV.parentNode==AU?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},false);while(AR.nextNode()){if(AR.referenceNode&&!AR.referenceNode.textContent.trim()){AR.referenceNode.parentNode.removeChild(AR.referenceNode)}}}else{for(var AS=0;AS<AU.childNodes.length;AS++){var AT=AU.childNodes[AS];if(AT.nodeType==3&&!/\S/.test(AT.nodeValue)){AU.removeChild(AT);AS--}if(AT.nodeType==1){Ap.stripWhitespace(AT)}}}};var Ai=Am.requestAnimationFrame||Am.webkitRequestAnimationFrame||Am.mozRequestAnimationFrame||Am.oRequestAnimationFrame||Am.msRequestAnimationFrame||function(AR){setTimeout(AR,1000/60)};Ap.animationFrame=function(AR){Ai.call(Am,AR)};var m=[];Ap.queueAnimation=function(AR){m[m.length]=AR;if(m.length===1){Ap.runNextAnimation()}};Ap.runNextAnimation=function(){Ap.animationFrame(function(){if(m[0]){m.shift()();if(m[0]){Ap.runNextAnimation()}}})};Ap.parseQueryStringParams=function(AS){var AU=AS.split("?")[1]||"",AW={},AV=AU.split(/&|=/),AR=AV.length,AT=0;for(;AT<AR;AT+=2){if(AV[AT]!==""){AW[decodeURIComponent(AV[AT])]=decodeURIComponent(AV[AT+1])}}return AW};Ap.elementUnderCursor=function(AR){if(typeof AR.x.client!="undefined"){return document.elementFromPoint(AR.x.client,AR.y.client)}};Ap.wheelDeltaY=function(AU){var AS=AU.originalEvent,AT=AS.wheelDeltaY,AR;if(AS.wheelDelta){if(AT===Ak||AT){AR=AS.wheelDelta}}else{if(AS.detail&&AS.axis===AS.VERTICAL_AXIS){AR=(-AS.detail)*10}}return AR};Ap.throttle=function(AT,AV){var AR;var AU=0;if(!AV||AV<=0){return AT}var AS=function(){var AW=this;var AY=+new Date()-AU;var AZ=arguments;function AX(){AT.apply(AW,AZ);AU=+new Date()}if(!AU){return AX()}if(AR){clearTimeout(AR)}if(AY>AV){AX()}else{AR=setTimeout(AX,AV-AY)}};AS.cancel=function(){clearTimeout(AR)};return AS};Ap.caret=function(AS,AT,AU){var AV;var AY=AT!==Ak;if(AU===Ak){AU=AT}if(AS[0]){AS=AS[0]}if(AY&&AS.disabled){return}try{if(AS.selectionStart!==Ak){if(AY){AS.focus();AS.setSelectionRange(AT,AU)}else{AT=[AS.selectionStart,AS.selectionEnd]}}else{if(document.selection){if(E(AS).is(":visible")){AS.focus()}AV=AS.createTextRange();if(AY){AV.collapse(true);AV.moveStart("character",AT);AV.moveEnd("character",AU-AT);AV.select()}else{var AZ=AV.duplicate(),AX,AW;AV.moveToBookmark(document.selection.createRange().getBookmark());AZ.setEndPoint("EndToStart",AV);AX=AZ.text.length;AW=AX+AV.text.length;AT=[AX,AW]}}}}catch(AR){AT=[]}return AT};Ap.compileMobileDirective=function(AT,AS){var AR=Am.angular;AT.attr("data-"+Ap.ns+"role",AT[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-",""));AR.element(AT).injector().invoke(["$compile",function(AU){AU(AT)(AS);if(!/^\$(digest|apply)$/.test(AS.$$phase)){AS.$digest()}}]);return Ap.widgetInstance(AT,Ap.mobile.ui)};Ap.antiForgeryTokens=function(){var AS={},AT=E("meta[name=csrf-token],meta[name=_csrf]").attr("content"),AR=E("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");E("input[name^='__RequestVerificationToken']").each(function(){AS[this.name]=this.value});if(AR!==Ak&&AT!==Ak){AS[AR]=AT}return AS};Ap.cycleForm=function(AU){var AR=AU.find("input, .k-widget").first();var AS=AU.find("button, .k-button").last();function AT(AV){var AW=Ap.widgetInstance(AV);if(AW&&AW.focus){AW.focus()}else{AV.focus()}}AS.on("keydown",function(AV){if(AV.keyCode==Ap.keys.TAB&&!AV.shiftKey){AV.preventDefault();AT(AR)}});AR.on("keydown",function(AV){if(AV.keyCode==Ap.keys.TAB&&AV.shiftKey){AV.preventDefault();AT(AS)}})};(function(){function AV(A3,A0,A1,AZ){var AW=E("<form>").attr({action:A1,method:"POST",target:AZ});var AY=Ap.antiForgeryTokens();AY.fileName=A0;var A2=A3.split(";base64,");AY.contentType=A2[0].replace("data:","");AY.base64=A2[1];for(var AX in AY){if(AY.hasOwnProperty(AX)){E("<input>").attr({value:AY[AX],name:AX,type:"hidden"}).appendTo(AW)}}AW.appendTo("body").submit().remove()}var AU=document.createElement("a");var AS="download" in AU;function AR(AX,A0){var A2=AX;if(typeof AX=="string"){var A1=AX.split(";base64,");var A3=A1[0];var AY=atob(A1[1]);var AW=new Uint8Array(AY.length);for(var AZ=0;AZ<AY.length;AZ++){AW[AZ]=AY.charCodeAt(AZ)}A2=new Blob([AW.buffer],{type:A3})}navigator.msSaveBlob(A2,A0)}function AT(AW,AY){if(Am.Blob&&AW instanceof Blob){AW=URL.createObjectURL(AW)}AU.download=AY;AU.href=AW;var AX=document.createEvent("MouseEvents");AX.initMouseEvent("click",true,false,Am,0,0,0,0,0,false,false,false,false,0,null);AU.dispatchEvent(AX)}Ap.saveAs=function(AX){var AW=AV;if(!AX.forceProxy){if(AS){AW=AT}else{if(navigator.msSaveBlob){AW=AR}}}AW(AX.dataURI,AX.fileName,AX.proxyURL,AX.proxyTarget)}})()})(jQuery,window);(function(T,V){var R=window.kendo,A="change",D="back",G="same",F=R.support,C=window.location,U=window.history,J=50,W=R.support.browser.msie,Q=/^#*/,H=window.document;function K(Z,X){if(!X){return Z}if(Z+"/"===X){Z=X}var Y=new RegExp("^"+X,"i");if(!Y.test(Z)){Z=X+"/"+Z}return C.protocol+"//"+(C.host+"/"+Z).replace(/\/\/+/g,"/")}function I(X){return X?"#!":"#"}function S(Y){var X=C.href;if(Y==="#!"&&X.indexOf("#")>-1&&X.indexOf("#!")<0){return null}return X.split(Y)[1]||""}function B(X,Y){if(Y.indexOf(X)===0){return(Y.substr(X.length)).replace(/\/\//g,"/")}else{return Y}}var M=R.Class.extend({back:function(){if(W){setTimeout(function(){U.back()})}else{U.back()}},forward:function(){if(W){setTimeout(function(){U.forward()})}else{U.forward()}},length:function(){return U.length},replaceLocation:function(X){C.replace(X)}});var E=M.extend({init:function(X){this.root=X},navigate:function(X){U.pushState({},H.title,K(X,this.root))},replace:function(X){U.replaceState({},H.title,K(X,this.root))},normalize:function(X){return B(this.root,X)},current:function(){var X=C.pathname;if(C.search){X+=C.search}return B(this.root,X)},change:function(X){T(window).bind("popstate.kendo",X)},stop:function(){T(window).unbind("popstate.kendo")},normalizeCurrent:function(Z){var X,Y=Z.root,b=C.pathname,a=S(I(Z.hashBang));if(Y===b+"/"){X=Y}if(Y===b&&a){X=K(a.replace(Q,""),Y)}if(X){U.pushState({},H.title,X)}}});function L(X){return X.replace(/^(#)?/,"#")}function N(X){return X.replace(/^(#(!)?)?/,"#!")}var P=M.extend({init:function(X){this._id=R.guid();this.prefix=I(X);this.fix=X?N:L},navigate:function(X){C.hash=this.fix(X)},replace:function(X){this.replaceLocation(this.fix(X))},normalize:function(X){if(X.indexOf(this.prefix)<0){return X}else{return X.split(this.prefix)[1]}},change:function(X){if(F.hashChange){T(window).on("hashchange."+this._id,X)}else{this._interval=setInterval(X,J)}},stop:function(){T(window).off("hashchange."+this._id);clearInterval(this._interval)},current:function(){return S(this.prefix)},normalizeCurrent:function(Y){var Z=C.pathname,X=Y.root;if(Y.pushState&&X!==Z){this.replaceLocation(X+this.prefix+B(X,Z));return true}return false}});var O=R.Observable.extend({start:function(X){X=X||{};this.bind([A,D,G],X);if(this._started){return}this._started=true;X.root=X.root||"/";var Z=this.createAdapter(X),Y;if(Z.normalizeCurrent(X)){return}Y=Z.current();T.extend(this,{adapter:Z,root:X.root,historyLength:Z.length(),current:Y,locations:[Y]});Z.change(T.proxy(this,"_checkUrl"))},createAdapter:function(X){return F.pushState&&X.pushState?new E(X.root):new P(X.hashBang)},stop:function(){if(!this._started){return}this.adapter.stop();this.unbind(A);this._started=false},change:function(X){this.bind(A,X)},replace:function(X,Y){this._navigate(X,Y,function(Z){Z.replace(X);this.locations[this.locations.length-1]=this.current})},navigate:function(X,Y){if(X==="#:back"){this.backCalled=true;this.adapter.back();return}this._navigate(X,Y,function(Z){Z.navigate(X);this.locations.push(this.current)})},_navigate:function(Y,a,X){var Z=this.adapter;Y=Z.normalize(Y);if(this.current===Y||this.current===decodeURIComponent(Y)){this.trigger(G);return}if(!a){if(this.trigger(A,{url:Y})){return}}this.current=Y;X.call(this,Z);this.historyLength=Z.length()},_checkUrl:function(){var d=this.adapter,b=d.current(),Z=d.length(),c=this.historyLength===Z,X=b===this.locations[this.locations.length-2]&&c,a=this.backCalled,Y=this.current;if(b===null||this.current===b||this.current===decodeURIComponent(b)){return true}this.historyLength=Z;this.backCalled=false;this.current=b;if(X&&this.trigger("back",{url:Y,to:b})){d.forward();this.current=Y;return}if(this.trigger(A,{url:b,backButtonPressed:!a})){if(X){d.forward()}else{d.back();this.historyLength--}this.current=Y;return}if(X){this.locations.pop()}else{this.locations.push(b)}}});R.History=O;R.History.HistoryAdapter=M;R.History.HashAdapter=P;R.History.PushStateAdapter=E;R.absoluteURL=K;R.history=new O()})(window.kendo.jQuery);(function(){var K=window.kendo,N=K.history,H=K.Observable,B="init",O="routeMissing",D="change",M="back",I="same",P=/\((.*?)\)/g,F=/(\(\?)?:\w+/g,J=/\*\w+/g,A=/[\-{}\[\]+?.,\\\^$|#\s]/g;function L(R,S){return S?R:"([^/]+)"}function G(R,S){return new RegExp("^"+R.replace(A,"\\$&").replace(P,"(?:$1)?").replace(F,L).replace(J,"(.*?)")+"$",S?"i":"")}function E(R){return R.replace(/(\?.*)|(#.*)/g,"")}var C=K.Class.extend({init:function(R,S,T){if(!(R instanceof RegExp)){R=G(R,T)}this.route=R;this._callback=S},callback:function(S){var V,U=0,R,T=K.parseQueryStringParams(S);S=E(S);V=this.route.exec(S).slice(1);R=V.length;for(;U<R;U++){if(typeof V[U]!=="undefined"){V[U]=decodeURIComponent(V[U])}}V.push(T);this._callback.apply(null,V)},worksWith:function(R){if(this.route.test(E(R))){this.callback(R);return true}else{return false}}});var Q=H.extend({init:function(R){if(!R){R={}}H.fn.init.call(this);this.routes=[];this.pushState=R.pushState;this.hashBang=R.hashBang;this.root=R.root;this.ignoreCase=R.ignoreCase!==false;this.bind([B,O,D,I],R)},destroy:function(){N.unbind(D,this._urlChangedProxy);N.unbind(I,this._sameProxy);N.unbind(M,this._backProxy);this.unbind()},start:function(){var U=this,T=function(){U._same()},S=function(W){U._back(W)},V=function(W){U._urlChanged(W)};N.start({same:T,change:V,back:S,pushState:U.pushState,hashBang:U.hashBang,root:U.root});var R={url:N.current||"/",preventDefault:$.noop};if(!U.trigger(B,R)){U._urlChanged(R)}this._urlChangedProxy=V;this._backProxy=S},route:function(R,S){this.routes.push(new C(R,S,this.ignoreCase))},navigate:function(R,S){K.history.navigate(R,S)},replace:function(R,S){K.history.replace(R,S)},_back:function(R){if(this.trigger(M,{url:R.url,to:R.to})){R.preventDefault()}},_same:function(R){this.trigger(I)},_urlChanged:function(T){var W=T.url;if(!W){W="/"}if(this.trigger(D,{url:T.url,params:K.parseQueryStringParams(T.url),backButtonPressed:T.backButtonPressed})){T.preventDefault();return}var U=0,V=this.routes,R,S=V.length;for(;U<S;U++){R=V[U];if(R.worksWith(W)){return}}if(this.trigger(O,{url:W,params:K.parseQueryStringParams(W),backButtonPressed:T.backButtonPressed})){T.preventDefault()}}});K.Router=Q})();(function(I,A){var J=window.kendo,E=I.extend,B={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith"},C=E({},B,{contains:"contains"}),H={pageSize:I.noop,page:I.noop,filter:function(M,L,K){if(L){L=F(L,K);if(L){M.$filter=L}}},sort:function(L,M){var K=I.map(M,function(O){var N=O.field.replace(/\./g,"/");if(O.dir==="desc"){N+=" desc"}return N}).join(",");if(K){L.$orderby=K}},skip:function(L,K){if(K){L.$skip=K}},take:function(L,K){if(K){L.$top=K}}},D={read:{dataType:"jsonp"}};function F(O,L){var K=[],S=O.logic||"and",P,Q,T,V,N,U,R,M,W=O.filters;for(P=0,Q=W.length;P<Q;P++){O=W[P];T=O.field;R=O.value;U=O.operator;if(O.filters){O=F(O,L)}else{M=O.ignoreCase;T=T.replace(/\./g,"/");O=B[U];if(L){O=C[U]}if(O&&R!==A){V=I.type(R);if(V==="string"){N="'{1}'";R=R.replace(/'/g,"''");if(M===true){T="tolower("+T+")"}}else{if(V==="date"){if(L){N="{1:yyyy-MM-ddTHH:mm:ss+00:00}"}else{N="datetime'{1:yyyy-MM-ddTHH:mm:ss}'"}}else{N="{1}"}}if(O.length>3){if(O!=="substringof"){N="{0}({2},"+N+")"}else{N="{0}("+N+",{2})";if(U==="doesnotcontain"){if(L){N="{0}({2},'{1}') eq -1";O="indexof"}else{N+=" eq false"}}}}else{N="{2} {0} "+N}O=J.format(N,O,R,T)}}K.push(O)}O=K.join(" "+S+" ");if(K.length>1){O="("+O+")"}return O}function G(K){for(var L in K){if(L.indexOf("@odata")===0){delete K[L]}}}E(true,J.data,{schemas:{odata:{type:"json",data:function(K){return K.d.results||[K.d]},total:"d.__count"}},transports:{odata:{read:{cache:true,dataType:"jsonp",jsonp:"$callback"},update:{cache:true,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:true,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:true,dataType:"json",type:"DELETE"},parameterMap:function(M,K,Q){var P,N,L,O;M=M||{};K=K||"read";O=(this.options||D)[K];O=O?O.dataType:"json";if(K==="read"){P={$inlinecount:"allpages"};if(O!="json"){P.$format="json"}for(L in M){if(H[L]){H[L](P,M[L],Q)}else{P[L]=M[L]}}}else{if(O!=="json"){throw new Error("Only json dataType can be used for "+K+" operation.")}if(K!=="destroy"){for(L in M){N=M[L];if(typeof N==="number"){M[L]=N+""}}P=J.stringify(M)}}return P}}}});E(true,J.data,{schemas:{"odata-v4":{type:"json",data:function(K){K=I.extend({},K);G(K);if(K.value){return K.value}return[K]},total:function(K){return K["@odata.count"]}}},transports:{"odata-v4":{read:{cache:true,dataType:"json"},update:{cache:true,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"PUT"},create:{cache:true,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"POST"},destroy:{cache:true,dataType:"json",type:"DELETE"},parameterMap:function(M,K){var L=J.data.transports.odata.parameterMap(M,K,true);if(K=="read"){L.$count=true;delete L.$inlinecount}return L}}}})})(window.kendo.jQuery);(function(G,A){var H=window.kendo,B=G.isArray,J=G.isPlainObject,I=G.map,K=G.each,E=G.extend,D=H.getter,C=H.Class;var F=C.extend({init:function(P){var O=this,Q=P.total,W=P.model,T=P.parse,V=P.errors,N=P.serialize,M=P.data;if(W){if(J(W)){var L=P.modelBase||H.data.Model;if(W.fields){K(W.fields,function(Y,X){if(J(X)&&X.field){if(!G.isFunction(X.field)){X=E(X,{field:O.getter(X.field)})}}else{X={field:O.getter(X)}}W.fields[Y]=X})}var R=W.id;if(R){var U={};U[O.xpathToMember(R,true)]={field:O.getter(R)};W.fields=E(U,W.fields);W.id=O.xpathToMember(R)}W=L.define(W)}O.model=W}if(Q){if(typeof Q=="string"){Q=O.getter(Q);O.total=function(X){return parseInt(Q(X),10)}}else{if(typeof Q=="function"){O.total=Q}}}if(V){if(typeof V=="string"){V=O.getter(V);O.errors=function(X){return V(X)||null}}else{if(typeof V=="function"){O.errors=V}}}if(M){if(typeof M=="string"){M=O.xpathToMember(M);O.data=function(Z){var X=O.evaluate(Z,M),Y;X=B(X)?X:[X];if(O.model&&W.fields){Y=new O.model();return I(X,function(b){if(b){var a={},c;for(c in W.fields){a[c]=Y._parse(c,W.fields[c].field(b))}return a}})}return X}}else{if(typeof M=="function"){O.data=M}}}if(typeof T=="function"){var S=O.parse;O.parse=function(Y){var X=T.call(O,Y);return S.call(O,X)}}if(typeof N=="function"){O.serialize=N}},total:function(L){return this.data(L).length},errors:function(L){return L?L.errors:null},serialize:function(L){return L},parseDOM:function(M){var R={},V,U,S,O,P,N,T=M.attributes,L=T.length,Q;for(Q=0;Q<L;Q++){N=T[Q];R["@"+N.nodeName]=N.nodeValue}for(U=M.firstChild;U;U=U.nextSibling){S=U.nodeType;if(S===3||S===4){R["#text"]=U.nodeValue}else{if(S===1){V=this.parseDOM(U);O=U.nodeName;P=R[O];if(B(P)){P.push(V)}else{if(P!==A){P=[P,V]}else{P=V}}R[O]=P}}}return R},evaluate:function(S,M){var L=M.split("."),P,O,R,N,Q;while(P=L.shift()){S=S[P];if(B(S)){O=[];M=L.join(".");for(Q=0,R=S.length;Q<R;Q++){N=this.evaluate(S[Q],M);N=B(N)?N:[N];O.push.apply(O,N)}return O}}return S},parse:function(O){var N,L,M={};N=O.documentElement||G.parseXML(O).documentElement;L=this.parseDOM(N);M[N.nodeName]=L;return M},xpathToMember:function(M,L){if(!M){return""}M=M.replace(/^\//,"").replace(/\//g,".");if(M.indexOf("@")>=0){return M.replace(/\.?(@.*)/,L?"$1":'["$1"]')}if(M.indexOf("text()")>=0){return M.replace(/(\.?text\(\))/,L?"#text":'["#text"]')}return M},getter:function(L){return D(this.xpathToMember(L),true)}});G.extend(true,H.data,{XmlDataReader:F,readers:{xml:F}})})(window.kendo.jQuery);(function(Ar,Ap){var X=Ar.extend,O=Ar.proxy,Aw=Ar.isPlainObject,Au=Ar.isEmptyObject,j=Ar.isArray,l=Ar.grep,AJ=Ar.ajax,AO,v=Ar.each,AX=Ar.noop,Ax=window.kendo,r=Ax.isFunction,AU=Ax.Observable,H=Ax.Class,AP="string",x="function",AB="create",e="read",Af="update",A="destroy",E="change",m="sync",V="get",z="error",N="requestStart",As="progress",Q="requestEnd",R=[AB,e,Af,A],f=function(A0){return A0},h=Ax.getter,I=Ax.stringify,Ah=Math,S=[].push,Ab=[].join,Ak=[].pop,AL=[].splice,c=[].shift,An=[].slice,AW=[].unshift,u={}.toString,AT=Ax.support.stableSort,AE=/^\/Date\((.*?)\)\/$/,s=/(\r+|\n+)/g,F=/(?=['\\])/g;var AC=AU.extend({init:function(A1,A0){var A2=this;A2.type=A0||U;AU.fn.init.call(A2);A2.length=A1.length;A2.wrapAll(A1,A2)},at:function(A0){return this[A0]},toJSON:function(){var A3,A1=this.length,A0,A2=new Array(A1);for(A3=0;A3<A1;A3++){A0=this[A3];if(A0 instanceof U){A0=A0.toJSON()}A2[A3]=A0}return A2},parent:AX,wrapAll:function(A1,A3){var A4=this,A2,A0,A5=function(){return A4};A3=A3||[];for(A2=0,A0=A1.length;A2<A0;A2++){A3[A2]=A4.wrap(A1[A2],A5)}return A3},wrap:function(A2,A3){var A1=this,A0;if(A2!==null&&u.call(A2)==="[object Object]"){A0=A2 instanceof A1.type||A2 instanceof t;if(!A0){A2=A2 instanceof U?A2.toJSON():A2;A2=new A1.type(A2)}A2.parent=A3;A2.bind(E,function(A4){A1.trigger(E,{field:A4.field,node:A4.node,index:A4.index,items:A4.items||[this],action:A4.node?(A4.action||"itemloaded"):"itemchange"})})}return A2},push:function(){var A2=this.length,A1=this.wrapAll(arguments),A0;A0=S.apply(this,A1);this.trigger(E,{action:"add",index:A2,items:A1});return A0},slice:An,sort:[].sort,join:Ab,pop:function(){var A0=this.length,A1=Ak.apply(this);if(A0){this.trigger(E,{action:"remove",index:A0-1,items:[A1]})}return A1},splice:function(A5,A6,A3){var A2=this.wrapAll(An.call(arguments,2)),A0,A1,A4;A0=AL.apply(this,[A5,A6].concat(A2));if(A0.length){this.trigger(E,{action:"remove",index:A5,items:A0});for(A1=0,A4=A0.length;A1<A4;A1++){if(A0[A1]&&A0[A1].children){A0[A1].unbind(E)}}}if(A3){this.trigger(E,{action:"add",index:A5,items:A2})}return A0},shift:function(){var A0=this.length,A1=c.apply(this);if(A0){this.trigger(E,{action:"remove",index:0,items:[A1]})}return A1},unshift:function(){var A1=this.wrapAll(arguments),A0;A0=AW.apply(this,A1);this.trigger(E,{action:"add",index:0,items:A1});return A0},indexOf:function(A2){var A1=this,A3,A0;for(A3=0,A0=A1.length;A3<A0;A3++){if(A1[A3]===A2){return A3}}return -1},forEach:function(A0){var A2=0,A1=this.length;for(;A2<A1;A2++){A0(this[A2],A2,this)}},map:function(A0){var A3=0,A2=[],A1=this.length;for(;A3<A1;A3++){A2[A3]=A0(this[A3],A3,this)}return A2},reduce:function(A0,A3){var A4=0,A2,A1=this.length;if(arguments.length==2){A2=arguments[1]}else{if(A4<A1){A2=this[A4++]}}for(;A4<A1;A4++){A2=A0(A2,this[A4],A4,this)}return A2},reduceRight:function(A0,A2){var A3=this.length-1,A1;if(arguments.length==2){A1=arguments[1]}else{if(A3>0){A1=this[A3--]}}for(;A3>=0;A3--){A1=A0(A1,this[A3],A3,this)}return A1},filter:function(A0){var A4=0,A2=[],A3,A1=this.length;for(;A4<A1;A4++){A3=this[A4];if(A0(A3,A4,this)){A2[A2.length]=A3}}return A2},find:function(A0){var A3=0,A2,A1=this.length;for(;A3<A1;A3++){A2=this[A3];if(A0(A2,A3,this)){return A2}}},every:function(A0){var A3=0,A2,A1=this.length;for(;A3<A1;A3++){A2=this[A3];if(!A0(A2,A3,this)){return false}}return true},some:function(A0){var A3=0,A2,A1=this.length;for(;A3<A1;A3++){A2=this[A3];if(A0(A2,A3,this)){return true}}return false},remove:function(A0){var A1=this.indexOf(A0);if(A1!==-1){this.splice(A1,1)}},empty:function(){this.splice(0,this.length)}});var AQ=AC.extend({init:function(A2,A0){AU.fn.init.call(this);this.type=A0||U;for(var A1=0;A1<A2.length;A1++){this[A1]=A2[A1]}this.length=A1;this._parent=O(function(){return this},this)},at:function(A1){var A0=this[A1];if(!(A0 instanceof this.type)){A0=this[A1]=this.wrap(A0,this._parent)}else{A0.parent=this._parent}return A0}});function J(A1,A0,A3,A2){return function(A5){var A6={},A4;for(A4 in A5){A6[A4]=A5[A4]}if(A2){A6.field=A3+"."+A5.field}else{A6.field=A3}if(A0==E&&A1._notifyChange){A1._notifyChange(A6)}A1.trigger(A0,A6)}}var U=AU.extend({init:function(A2){var A1=this,A4,A3,A0=function(){return A1};AU.fn.init.call(this);for(A3 in A2){A4=A2[A3];if(typeof A4==="object"&&A4&&!A4.getTime&&A3.charAt(0)!="_"){A4=A1.wrap(A4,A3,A0)}A1[A3]=A4}A1.uid=Ax.guid()},shouldSerialize:function(A0){return this.hasOwnProperty(A0)&&A0!=="_events"&&typeof this[A0]!==x&&A0!=="uid"},forEach:function(A1){for(var A0 in this){if(this.shouldSerialize(A0)){A1(this[A0],A0)}}},toJSON:function(){var A0={},A1,A2;for(A2 in this){if(this.shouldSerialize(A2)){A1=this[A2];if(A1 instanceof U||A1 instanceof AC){A1=A1.toJSON()}A0[A2]=A1}}return A0},get:function(A2){var A1=this,A0;A1.trigger(V,{field:A2});if(A2==="this"){A0=A1}else{A0=Ax.getter(A2,true)(A1)}return A0},_set:function(A5,A0){var A2=this;var A1=A5.indexOf(".")>=0;if(A1){var A6=A5.split("."),A4="";while(A6.length>1){A4+=A6.shift();var A3=Ax.getter(A4,true)(A2);if(A3 instanceof U){A3.set(A6.join("."),A0);return A1}A4+="."}}Ax.setter(A5)(A2,A0);return A1},set:function(A4,A0){var A2=this,A1=A4.indexOf(".")>=0,A3=Ax.getter(A4,true)(A2);if(A3!==A0){if(!A2.trigger("set",{field:A4,value:A0})){if(!A1){A0=A2.wrap(A0,A4,function(){return A2})}if(!A2._set(A4,A0)||A4.indexOf("(")>=0||A4.indexOf("[")>=0){A2.trigger(E,{field:A4})}}}},parent:AX,wrap:function(A2,A4,A5){var A1=this,A0=u.call(A2);if(A2!=null&&(A0==="[object Object]"||A0==="[object Array]")){var A6=A2 instanceof AC;var A3=A2 instanceof AM;if(A0==="[object Object]"&&!A3&&!A6){if(!(A2 instanceof U)){A2=new U(A2)}if(A2.parent()!=A5()){A2.bind(V,J(A1,V,A4,true));A2.bind(E,J(A1,E,A4,true))}}else{if(A0==="[object Array]"||A6||A3){if(!A6&&!A3){A2=new AC(A2)}if(A2.parent()!=A5()){A2.bind(E,J(A1,E,A4,false))}}}A2.parent=A5}return A2}});function Ay(A1,A2){if(A1===A2){return true}var A0=Ar.type(A1),A4=Ar.type(A2),A3;if(A0!==A4){return false}if(A0==="date"){return A1.getTime()===A2.getTime()}if(A0!=="object"&&A0!=="array"){return false}for(A3 in A1){if(!Ay(A1[A3],A2[A3])){return false}}return true}var Aa={"number":function(A0){return Ax.parseFloat(A0)},"date":function(A0){return Ax.parseDate(A0)},"boolean":function(A0){if(typeof A0===AP){return A0.toLowerCase()==="true"}return A0!=null?!!A0:A0},"string":function(A0){return A0!=null?(A0+""):A0},"default":function(A0){return A0}};var D={"string":"","number":0,"date":new Date(),"boolean":false,"default":""};function Al(A0,A1){var A2,A3;for(A3 in A0){A2=A0[A3];if(Aw(A2)&&A2.field&&A2.field===A1){return A2}else{if(A2===A1){return A2}}}return null}var t=U.extend({init:function(A3){var A0=this;if(!A3||Ar.isEmptyObject(A3)){A3=Ar.extend({},A0.defaults,A3);if(A0._initializers){for(var A2=0;A2<A0._initializers.length;A2++){var A1=A0._initializers[A2];A3[A1]=A0.defaults[A1]()}}}U.fn.init.call(A0,A3);A0.dirty=false;if(A0.idField){A0.id=A0.get(A0.idField);if(A0.id===Ap){A0.id=A0._defaultId}}},shouldSerialize:function(A0){return U.fn.shouldSerialize.call(this,A0)&&A0!=="uid"&&!(this.idField!=="id"&&A0==="id")&&A0!=="dirty"&&A0!=="_accessors"},_parse:function(A3,A0){var A2=this,A1=A3,A5=(A2.fields||{}),A4;A3=A5[A3];if(!A3){A3=Al(A5,A1)}if(A3){A4=A3.parse;if(!A4&&A3.type){A4=Aa[A3.type.toLowerCase()]}}return A4?A4(A0):A0},_notifyChange:function(A1){var A0=A1.action;if(A0=="add"||A0=="remove"){this.dirty=true}},editable:function(A0){A0=(this.fields||{})[A0];return A0?A0.editable!==false:true},set:function(A2,A0,A3){var A1=this;if(A1.editable(A2)){A0=A1._parse(A2,A0);if(!Ay(A0,A1.get(A2))){A1.dirty=true;U.fn.set.call(A1,A2,A0,A3)}}},accept:function(A4){var A1=this,A3=function(){return A1},A2;for(A2 in A4){var A0=A4[A2];if(A2.charAt(0)!="_"){A0=A1.wrap(A4[A2],A2,A3)}A1._set(A2,A0)}if(A1.idField){A1.id=A1.get(A1.idField)}A1.dirty=false},isNew:function(){return this.id===this._defaultId}});t.define=function(A0,A5){if(A5===Ap){A5=A0;A0=t}var Bd,A8=X({defaults:{}},A5),A1,A7,Ba,A2,A3,A4,Bc={},Bb,A9=A8.id,A6=[];if(A9){A8.idField=A9}if(A8.id){delete A8.id}if(A9){A8.defaults[A9]=A8._defaultId=""}if(u.call(A8.fields)==="[object Array]"){for(A3=0,A4=A8.fields.length;A3<A4;A3++){A7=A8.fields[A3];if(typeof A7===AP){Bc[A7]={}}else{if(A7.field){Bc[A7.field]=A7}}}A8.fields=Bc}for(A1 in A8.fields){A7=A8.fields[A1];Ba=A7.type||"default";A2=null;Bb=A1;A1=typeof(A7.field)===AP?A7.field:A1;if(!A7.nullable){A2=A8.defaults[Bb!==A1?Bb:A1]=A7.defaultValue!==Ap?A7.defaultValue:D[Ba.toLowerCase()];if(typeof A2==="function"){A6.push(A1)}}if(A5.id===A1){A8._defaultId=A2}A8.defaults[Bb!==A1?Bb:A1]=A2;A7.parse=A7.parse||Aa[Ba]}if(A6.length>0){A8._initializers=A6}Bd=A0.extend(A8);Bd.define=function(Be){return t.define(Bd,Be)};if(A8.fields){Bd.fields=A8.fields;Bd.idField=A8.idField}return Bd};var Az={selector:function(A0){return r(A0)?A0:h(A0)},compare:function(A1){var A0=this.selector(A1);return function(A3,A2){A3=A0(A3);A2=A0(A2);if(A3==null&&A2==null){return 0}if(A3==null){return -1}if(A2==null){return 1}if(A3.localeCompare){return A3.localeCompare(A2)}return A3>A2?1:(A3<A2?-1:0)}},create:function(A0){var A1=A0.compare||this.compare(A0.field);if(A0.dir=="desc"){return function(A3,A2){return A1(A2,A3,true)}}return A1},combine:function(A0){return function(A5,A3){var A2=A0[0](A5,A3),A4,A1;for(A4=1,A1=A0.length;A4<A1;A4++){A2=A2||A0[A4](A5,A3)}return A2}}};var B=X({},Az,{asc:function(A1){var A0=this.selector(A1);return function(A4,A3){var A5=A0(A4);var A2=A0(A3);if(A5&&A5.getTime&&A2&&A2.getTime){A5=A5.getTime();A2=A2.getTime()}if(A5===A2){return A4.__position-A3.__position}if(A5==null){return -1}if(A2==null){return 1}if(A5.localeCompare){return A5.localeCompare(A2)}return A5>A2?1:-1}},desc:function(A1){var A0=this.selector(A1);return function(A4,A3){var A5=A0(A4);var A2=A0(A3);if(A5&&A5.getTime&&A2&&A2.getTime){A5=A5.getTime();A2=A2.getTime()}if(A5===A2){return A4.__position-A3.__position}if(A5==null){return 1}if(A2==null){return -1}if(A2.localeCompare){return A2.localeCompare(A5)}return A5<A2?1:-1}},create:function(A0){return this[A0.dir](A0.field)}});AO=function(A1,A0){var A4,A2=A1.length,A3=new Array(A2);for(A4=0;A4<A2;A4++){A3[A4]=A0(A1[A4],A4,A1)}return A3};var Ae=(function(){function A0(A2){return A2.replace(F,"\\").replace(s,"")}function A1(A3,A6,A4,A5){var A2;if(A4!=null){if(typeof A4===AP){A4=A0(A4);A2=AE.exec(A4);if(A2){A4=new Date(+A2[1])}else{if(A5){A4="'"+A4.toLowerCase()+"'";A6="("+A6+" || '').toLowerCase()"}else{A4="'"+A4+"'"}}}if(A4.getTime){A6="("+A6+"?"+A6+".getTime():"+A6+")";A4=A4.getTime()}}return A6+" "+A3+" "+A4}return{quote:function(A2){if(A2&&A2.getTime){return"new Date("+A2.getTime()+")"}if(typeof A2=="string"){return"'"+A0(A2)+"'"}return""+A2},eq:function(A4,A3,A2){return A1("==",A4,A3,A2)},neq:function(A4,A3,A2){return A1("!=",A4,A3,A2)},gt:function(A4,A3,A2){return A1(">",A4,A3,A2)},gte:function(A4,A3,A2){return A1(">=",A4,A3,A2)},lt:function(A4,A3,A2){return A1("<",A4,A3,A2)},lte:function(A4,A3,A2){return A1("<=",A4,A3,A2)},startswith:function(A4,A3,A2){if(A2){A4="("+A4+" || '').toLowerCase()";if(A3){A3=A3.toLowerCase()}}if(A3){A3=A0(A3)}return A4+".lastIndexOf('"+A3+"', 0) == 0"},endswith:function(A4,A3,A2){if(A2){A4="("+A4+" || '').toLowerCase()";if(A3){A3=A3.toLowerCase()}}if(A3){A3=A0(A3)}return A4+".indexOf('"+A3+"', "+A4+".length - "+(A3||"").length+") >= 0"},contains:function(A4,A3,A2){if(A2){A4="("+A4+" || '').toLowerCase()";if(A3){A3=A3.toLowerCase()}}if(A3){A3=A0(A3)}return A4+".indexOf('"+A3+"') >= 0"},doesnotcontain:function(A4,A3,A2){if(A2){A4="("+A4+" || '').toLowerCase()";if(A3){A3=A3.toLowerCase()}}if(A3){A3=A0(A3)}return A4+".indexOf('"+A3+"') == -1"}}})();function k(A0){this.data=A0||[]}k.filterExpr=function(A0){var A7=[],A5={and:" && ",or:" || "},A3,A4,A2,A8,A9=[],Ba=[],A6,A1,Bb=A0.filters;for(A3=0,A4=Bb.length;A3<A4;A3++){A2=Bb[A3];A6=A2.field;A1=A2.operator;if(A2.filters){A8=k.filterExpr(A2);A2=A8.expression.replace(/__o\[(\d+)\]/g,function(Bc,Bd){Bd=+Bd;return"__o["+(Ba.length+Bd)+"]"}).replace(/__f\[(\d+)\]/g,function(Bc,Bd){Bd=+Bd;return"__f["+(A9.length+Bd)+"]"});Ba.push.apply(Ba,A8.operators);A9.push.apply(A9,A8.fields)}else{if(typeof A6===x){A8="__f["+A9.length+"](d)";A9.push(A6)}else{A8=Ax.expr(A6)}if(typeof A1===x){A2="__o["+Ba.length+"]("+A8+", "+Ae.quote(A2.value)+")";Ba.push(A1)}else{A2=Ae[(A1||"eq").toLowerCase()](A8,A2.value,A2.ignoreCase!==Ap?A2.ignoreCase:true)}}A7.push(A2)}return{expression:"("+A7.join(A5[A0.logic])+")",fields:A9,operators:Ba}};function g(A2,A0){if(A2){var A1=typeof A2===AP?{field:A2,dir:A0}:A2,A3=j(A1)?A1:(A1!==Ap?[A1]:[]);return l(A3,function(A4){return !!A4.dir})}}var w={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"};function AN(A5){var A4,A0,A3,A1,A2=A5.filters;if(A2){for(A4=0,A0=A2.length;A4<A0;A4++){A3=A2[A4];A1=A3.operator;if(A1&&typeof A1===AP){A3.operator=w[A1.toLowerCase()]||A1}AN(A3)}}}function AD(A0){if(A0&&!Au(A0)){if(j(A0)||!A0.filters){A0={logic:"and",filters:j(A0)?A0:[A0]}}AN(A0);return A0}}k.normalizeFilter=AD;function Am(A0){return j(A0)?A0:[A0]}function Aq(A2,A0){var A1=typeof A2===AP?{field:A2,dir:A0}:A2,A3=j(A1)?A1:(A1!==Ap?[A1]:[]);return AO(A3,function(A4){return{field:A4.field,dir:A4.dir||"asc",aggregates:A4.aggregates}})}k.prototype={toArray:function(){return this.data},range:function(A1,A0){return new k(this.data.slice(A1,A1+A0))},skip:function(A0){return new k(this.data.slice(A0))},take:function(A0){return new k(this.data.slice(0,A0))},select:function(A0){return new k(AO(this.data,A0))},order:function(A2,A0){var A1={dir:A0};if(A2){if(A2.compare){A1.compare=A2.compare}else{A1.field=A2}}return new k(this.data.slice(0).sort(Az.create(A1)))},orderBy:function(A0){return this.order(A0,"asc")},orderByDescending:function(A0){return this.order(A0,"desc")},sort:function(A4,A0,A3){var A6,A1,A2=g(A4,A0),A5=[];A3=A3||Az;if(A2.length){for(A6=0,A1=A2.length;A6<A1;A6++){A5.push(A3.create(A2[A6]))}return this.orderBy({compare:A3.combine(A5)})}return this},filter:function(A8){var A4,A9,A5,A6,A7,A2=this.data,Ba,A1,A0=[],A3;A8=AD(A8);if(!A8||A8.filters.length===0){return this}A6=k.filterExpr(A8);Ba=A6.fields;A1=A6.operators;A7=A3=new Function("d, __f, __o","return "+A6.expression);if(Ba.length||A1.length){A3=function(Bb){return A7(Bb,Ba,A1)}}for(A4=0,A5=A2.length;A4<A5;A4++){A9=A2[A4];if(A3(A9)){A0.push(A9)}}return new k(A0)},group:function(A3,A4){A3=Aq(A3||[]);A4=A4||this.data;var A1=this,A0=new k(A1.data),A2;if(A3.length>0){A2=A3[0];A0=A0.groupBy(A2).select(function(A5){var A6=new k(A4).filter([{field:A5.field,operator:"eq",value:A5.value,ignoreCase:false}]);return{field:A5.field,value:A5.value,items:A3.length>1?new k(A5.items).group(A3.slice(1),A6.toArray()).toArray():A5.items,hasSubgroups:A3.length>1,aggregates:A6.aggregate(A2.aggregates)}})}return A0},groupBy:function(A1){if(Au(A1)||!this.data.length){return new k([])}var A6=A1.field,A9=this._sortForGrouping(A6,A1.dir||"asc"),A4=Ax.accessor(A6),Ba,A5=A4.get(A9[0],A6),A7={field:A6,value:A5,items:[]},A3,A2,A8,A0=[A7];for(A2=0,A8=A9.length;A2<A8;A2++){Ba=A9[A2];A3=A4.get(Ba,A6);if(!AI(A5,A3)){A5=A3;A7={field:A6,value:A5,items:[]};A0.push(A7)}A7.items.push(Ba)}return new k(A0)},_sortForGrouping:function(A3,A0){var A2,A1,A4=this.data;if(!AT){for(A2=0,A1=A4.length;A2<A1;A2++){A4[A2].__position=A2}A4=new k(A4).sort(A3,A0,B).toArray();for(A2=0,A1=A4.length;A2<A1;A2++){delete A4[A2].__position}return A4}return this.sort(A3,A0).toArray()},aggregate:function(A0){var A3,A2,A1={},A4={};if(A0&&A0.length){for(A3=0,A2=this.data.length;A3<A2;A3++){G(A1,A0,this.data[A3],A3,A2,A4)}}return A1}};function AI(A1,A0){if(A1&&A1.getTime&&A0&&A0.getTime){return A1.getTime()===A0.getTime()}return A1===A0}function G(A5,A9,Ba,A2,A4,A6){A9=A9||[];var A3,A1,A0,A8=A9.length;for(A3=0;A3<A8;A3++){A1=A9[A3];A0=A1.aggregate;var A7=A1.field;A5[A7]=A5[A7]||{};A6[A7]=A6[A7]||{};A6[A7][A0]=A6[A7][A0]||{};A5[A7][A0]=AV[A0.toLowerCase()](A5[A7][A0],Ba,Ax.accessor(A7),A2,A4,A6[A7][A0])}}var AV={sum:function(A3,A0,A1){var A2=A1.get(A0);if(!P(A3)){A3=A2}else{if(P(A2)){A3+=A2}}return A3},count:function(A0){return(A0||0)+1},average:function(A5,A2,A3,A4,A1,A6){var A0=A3.get(A2);if(A6.count===Ap){A6.count=0}if(!P(A5)){A5=A0}else{if(P(A0)){A5+=A0}}if(P(A0)){A6.count++}if(A4==A1-1&&P(A5)){A5=A5/A6.count}return A5},max:function(A3,A0,A1){var A2=A1.get(A0);if(!P(A3)&&!AR(A3)){A3=A2}if(A3<A2&&(P(A2)||AR(A2))){A3=A2}return A3},min:function(A3,A0,A1){var A2=A1.get(A0);if(!P(A3)&&!AR(A3)){A3=A2}if(A3>A2&&(P(A2)||AR(A2))){A3=A2}return A3}};function P(A0){return typeof A0==="number"&&!isNaN(A0)}function AR(A0){return A0&&A0.getTime}function W(A0){var A3,A1=A0.length,A2=new Array(A1);for(A3=0;A3<A1;A3++){A2[A3]=A0[A3].toJSON()}return A2}k.process=function(A1,A7){A7=A7||{};var A4=new k(A1),A6=A7.group,A9=Aq(A6||[]).concat(g(A7.sort||[])),A8,A0=A7.filterCallback,A3=A7.filter,A2=A7.skip,A5=A7.take;if(A3){A4=A4.filter(A3);if(A0){A4=A0(A4)}A8=A4.toArray().length}if(A9){A4=A4.sort(A9);if(A6){A1=A4.toArray()}}if(A2!==Ap&&A5!==Ap){A4=A4.range(A2,A5)}if(A6){A4=A4.group(A6,A1)}return{total:A8,data:A4.toArray()}};var n=H.extend({init:function(A0){this.data=A0.data},read:function(A0){A0.success(this.data)},update:function(A0){A0.success(A0.data)},create:function(A0){A0.success(A0.data)},destroy:function(A0){A0.success(A0.data)}});var Ag=H.extend({init:function(A2){var A1=this,A0;A2=A1.options=X({},A1.options,A2);v(R,function(A4,A3){if(typeof A2[A3]===AP){A2[A3]={url:A2[A3]}}});A1.cache=A2.cache?AS.create(A2.cache):{find:AX,add:AX};A0=A2.parameterMap;if(r(A2.push)){A1.push=A2.push}if(!A1.push){A1.push=f}A1.parameterMap=r(A0)?A0:function(A4){var A3={};v(A4,function(A5,A6){if(A5 in A0){A5=A0[A5];if(Aw(A5)){A6=A5.value(A6);A5=A5.key}}A3[A5]=A6});return A3}},options:{parameterMap:f},create:function(A0){return AJ(this.setup(A0,AB))},read:function(A3){var A2=this,A0,A5,A4,A1=A2.cache;A3=A2.setup(A3,e);A0=A3.success||AX;A5=A3.error||AX;A4=A1.find(A3.data);if(A4!==Ap){A0(A4)}else{A3.success=function(A6){A1.add(A3.data,A6);A0(A6)};Ar.ajax(A3)}},update:function(A0){return AJ(this.setup(A0,Af))},destroy:function(A0){return AJ(this.setup(A0,A))},setup:function(A2,A0){A2=A2||{};var A1=this,A4,A3=A1.options[A0],A5=r(A3.data)?A3.data(A2.data):A3.data;A2=X(true,{},A3,A2);A4=X(true,{},A5,A2.data);A2.data=A1.parameterMap(A4,A0);if(r(A2.url)){A2.url=A2.url(A4)}return A2}});var AS=H.extend({init:function(){this._store={}},add:function(A0,A1){if(A0!==Ap){this._store[I(A0)]=A1}},find:function(A0){return this._store[I(A0)]},clear:function(){this._store={}},remove:function(A0){delete this._store[I(A0)]}});AS.create=function(A1){var A0={"inmemory":function(){return new AS()}};if(Aw(A1)&&r(A1.find)){return A1}if(A1===true){return new AS()}return A0[A1]()};function y(A1,A9,A0,A6,A8){var A7,A3,A5,A2,A4;for(A2=0,A4=A1.length;A2<A4;A2++){A7=A1[A2];for(A3 in A9){A5=A8[A3];if(A5&&A5!==A3){A7[A5]=A9[A3](A7);delete A7[A3]}}}}function q(A1,A9,A0,A6,A8){var A7,A3,A5,A2,A4;for(A2=0,A4=A1.length;A2<A4;A2++){A7=A1[A2];for(A3 in A9){A7[A3]=A0._parse(A3,A9[A3](A7));A5=A8[A3];if(A5&&A5!==A3){delete A7[A5]}}}}function AA(A1,A8,A0,A4,A7){var A5,A2,A6,A3;for(A2=0,A3=A1.length;A2<A3;A2++){A5=A1[A2];A6=A4[A5.field];if(A6&&A6!=A5.field){A5.field=A6}A5.value=A0._parse(A5.field,A5.value);if(A5.hasSubgroups){AA(A5.items,A8,A0,A4,A7)}else{q(A5.items,A8,A0,A4,A7)}}}function AF(A0,A4,A1,A2,A5,A3){return function(A6){A6=A0(A6);if(A6&&!Au(A2)){if(u.call(A6)!=="[object Array]"&&!(A6 instanceof AC)){A6=[A6]}A1(A6,A2,new A4(),A5,A3)}return A6||[]}}var AG=H.extend({init:function(A0){var A9=this,A5,A8,Be,A1;A0=A0||{};for(A5 in A0){A8=A0[A5];A9[A5]=typeof A8===AP?h(A8):A8}A1=A0.modelBase||t;if(Aw(A9.model)){A9.model=Be=A1.define(A9.model)}var A2=O(A9.data,A9);A9._dataAccessFunction=A2;if(A9.model){var A7=O(A9.groups,A9),A3=O(A9.serialize,A9),Ba={},Bd={},Bc={},A6={},A4=false,Bb;Be=A9.model;if(Be.fields){v(Be.fields,function(Bh,Bf){var Bg;Bb=Bh;if(Aw(Bf)&&Bf.field){Bb=Bf.field}else{if(typeof Bf===AP){Bb=Bf}}if(Aw(Bf)&&Bf.from){Bg=Bf.from}A4=A4||(Bg&&Bg!==Bh)||Bb!==Bh;Bd[Bh]=h(Bg||Bb);Bc[Bh]=h(Bh);Ba[Bg||Bb]=Bh;A6[Bh]=Bg||Bb});if(!A0.serialize&&A4){A9.serialize=AF(A3,Be,y,Bc,Ba,A6)}}A9._dataAccessFunction=A2;A9.data=AF(A2,Be,q,Bd,Ba,A6);A9.groups=AF(A7,Be,AA,Bd,Ba,A6)}},errors:function(A0){return A0?A0.errors:null},parse:f,data:f,total:function(A0){return A0.length},groups:f,aggregates:function(){return{}},serialize:function(A0){return A0}});function AH(A6,A3,A0,A4){var A5,A1=0,A7;while(A3.length&&A4){A5=A3[A1];A7=A5.items;var A2=A7.length;if(A6&&A6.field===A5.field&&A6.value===A5.value){if(A6.hasSubgroups&&A6.items.length){AH(A6.items[A6.items.length-1],A5.items,A0,A4)}else{A7=A7.slice(A0,A0+A4);A6.items=A6.items.concat(A7)}A3.splice(A1--,1)}else{if(A5.hasSubgroups&&A7.length){AH(A5,A7,A0,A4);if(!A5.items.length){A3.splice(A1--,1)}}else{A7=A7.slice(A0,A0+A4);A5.items=A7;if(!A5.items.length){A3.splice(A1--,1)}}}if(A7.length===0){A0-=A2}else{A0=0;A4-=A7.length}if(++A1>=A3.length){break}}if(A1<A3.length){A3.splice(A1,A3.length-A1)}}function T(A6){var A4,A1=[],A0,A2,A3;for(A4=0,A0=A6.length;A4<A0;A4++){var A5=A6.at(A4);if(A5.hasSubgroups){A1=A1.concat(T(A5.items))}else{A2=A5.items;for(A3=0;A3<A2.length;A3++){A1.push(A2.at(A3))}}}return A1}function Ac(A5,A4){var A2,A0,A3,A1;if(A4){for(A2=0,A0=A5.length;A2<A0;A2++){A3=A5.at(A2);if(A3.hasSubgroups){Ac(A3.items,A4)}else{A3.items=new AQ(A3.items,A4)}}}}function a(A3,A1){for(var A2=0,A0=A3.length;A2<A0;A2++){if(A3[A2].hasSubgroups){if(a(A3[A2].items,A1)){return true}}else{if(A1(A3[A2].items,A3[A2])){return true}}}}function Ao(A1,A4,A2,A0){for(var A3=0;A3<A1.length;A3++){if(A1[A3].data===A4){break}if(o(A1[A3].data,A2,A0)){break}}}function o(A4,A3,A0){for(var A2=0,A1=A4.length;A2<A1;A2++){if(A4[A2]&&A4[A2].hasSubgroups){return o(A4[A2].items,A3,A0)}else{if(A4[A2]===A3||A4[A2]===A0){A4[A2]=A0;return true}}}}function b(A0,A1,A5,A2,A6){for(var A7=0,A4=A0.length;A7<A4;A7++){var A8=A0[A7];if(!A8||A8 instanceof A2){continue}if(A8.hasSubgroups!==Ap&&!A6){b(A8.items,A1,A5,A2,A6)}else{for(var A3=0;A3<A1.length;A3++){if(A1[A3]===A8){A0[A7]=A1.at(A3);Ao(A5,A1,A8,A0[A7]);break}}}}}function Av(A4,A3){var A2,A0;for(A2=0,A0=A4.length;A2<A0;A2++){var A1=A4.at(A2);if(A1.uid==A3.uid){A4.splice(A2,1);return A1}}}function C(A1,A0){if(A0){return Ad(A1,function(A2){if(A2.uid){return A2.uid==A0.uid}return A2[A0.idField]===A0.id})}return -1}function M(A1,A0){if(A0){return Ad(A1,function(A2){return A2.uid==A0.uid})}return -1}function Ad(A3,A1){var A2,A0;for(A2=0,A0=A3.length;A2<A0;A2++){if(A1(A3[A2])){return A2}}return -1}function d(A3,A1){if(A3&&!Au(A3)){var A0=A3[A1];var A2;if(Aw(A0)){A2=A0.from||A0.field||A1}else{A2=A3[A1]||A1}if(r(A2)){return A1}return A2}return A1}function AZ(A1,A4){var A2,A0,A3={};for(var A5 in A1){if(A5!=="filters"){A3[A5]=A1[A5]}}if(A1.filters){A3.filters=[];for(A2=0,A0=A1.filters.length;A2<A0;A2++){A3.filters[A2]=AZ(A1.filters[A2],A4)}}else{A3.field=d(A4.fields,A3.field)}return A3}function Aj(A2,A7){var A3,A4,A0=[],A6,A1;for(A3=0,A4=A2.length;A3<A4;A3++){A6={};A1=A2[A3];for(var A5 in A1){A6[A5]=A1[A5]}A6.field=d(A7.fields,A6.field);if(A6.aggregates&&j(A6.aggregates)){A6.aggregates=Aj(A6.aggregates,A7)}A0.push(A6)}return A0}var AM=AU.extend({init:function(A2){var A1=this,A3,A4;if(A2){A4=A2.data}A2=A1.options=X({},A1.options,A2);A1._map={};A1._prefetch={};A1._data=[];A1._pristineData=[];A1._ranges=[];A1._view=[];A1._pristineTotal=0;A1._destroyed=[];A1._pageSize=A2.pageSize;A1._page=A2.page||(A2.pageSize?1:Ap);A1._sort=g(A2.sort);A1._filter=AD(A2.filter);A1._group=Aq(A2.group);A1._aggregate=A2.aggregate;A1._total=A2.total;A1._shouldDetachObservableParents=true;AU.fn.init.call(A1);A1.transport=AK.create(A2,A4,A1);if(r(A1.transport.push)){A1.transport.push({pushCreate:O(A1._pushCreate,A1),pushUpdate:O(A1._pushUpdate,A1),pushDestroy:O(A1._pushDestroy,A1)})}if(A2.offlineStorage!=null){if(typeof A2.offlineStorage=="string"){var A0=A2.offlineStorage;A1._storage={getItem:function(){return JSON.parse(localStorage.getItem(A0))},setItem:function(A5){localStorage.setItem(A0,I(A1.reader.serialize(A5)))}}}else{A1._storage=A2.offlineStorage}}A1.reader=new Ax.data.readers[A2.schema.type||"json"](A2.schema);A3=A1.reader.model||{};A1._detachObservableParents();A1._data=A1._observe(A1._data);A1._online=true;A1.bind(["push",z,E,N,m,Q,As],A2)},options:{data:null,schema:{modelBase:t},offlineStorage:null,serverSorting:false,serverPaging:false,serverFiltering:false,serverGrouping:false,serverAggregates:false,batch:false},online:function(A0){if(A0!==Ap){if(this._online!=A0){this._online=A0;if(A0){return this.sync()}}return Ar.Deferred().resolve().promise()}else{return this._online}},offlineData:function(A0){if(this.options.offlineStorage==null){return null}if(A0!==Ap){return this._storage.setItem(A0)}return this._storage.getItem()||{}},_isServerGrouped:function(){var A0=this.group()||[];return this.options.serverGrouping&&A0.length},_pushCreate:function(A0){this._push(A0,"pushCreate")},_pushUpdate:function(A0){this._push(A0,"pushUpdate")},_pushDestroy:function(A0){this._push(A0,"pushDestroy")},_push:function(A0,A1){var A2=this._readData(A0);if(!A2){A2=A0}this[A1](A2)},_flatData:function(A2,A0){if(A2){if(this._isServerGrouped()){return T(A2)}if(!A0){for(var A1=0;A1<A2.length;A1++){A2.at(A1)}}}return A2},parent:AX,get:function(A3){var A2,A0,A1=this._flatData(this._data);for(A2=0,A0=A1.length;A2<A0;A2++){if(A1[A2].id==A3){return A1[A2]}}},getByUid:function(A3){var A2,A0,A1=this._flatData(this._data);if(!A1){return}for(A2=0,A0=A1.length;A2<A0;A2++){if(A1[A2].uid==A3){return A1[A2]}}},indexOf:function(A0){return M(this._data,A0)},at:function(A0){return this._data.at(A0)},data:function(A1){var A0=this;if(A1!==Ap){A0._detachObservableParents();A0._data=this._observe(A1);A0._pristineData=A1.slice(0);A0._storeData();A0._ranges=[];A0.trigger("reset");A0._addRange(A0._data);A0._total=A0._data.length;A0._pristineTotal=A0._total;A0._process(A0._data)}else{if(A0._data){for(var A2=0;A2<A0._data.length;A2++){A0._data.at(A2)}}return A0._data}},view:function(A0){if(A0===Ap){return this._view}else{this._view=this._observeView(A0)}},_observeView:function(A2){var A0=this;b(A2,A0._data,A0._ranges,A0.reader.model||U,A0._isServerGrouped());var A1=new AQ(A2,A0.reader.model);A1.parent=function(){return A0.parent()};return A1},flatView:function(){var A0=this.group()||[];if(A0.length){return T(this._view)}else{return this._view}},add:function(A0){return this.insert(this._data.length,A0)},_createNewModel:function(A0){if(this.reader.model){return new this.reader.model(A0)}if(A0 instanceof U){return A0}return new U(A0)},insert:function(A0,A1){if(!A1){A1=A0;A0=0}if(!(A1 instanceof t)){A1=this._createNewModel(A1)}if(this._isServerGrouped()){this._data.splice(A0,0,this._wrapInEmptyGroup(A1))}else{this._data.splice(A0,0,A1)}return A1},pushCreate:function(A6){if(!j(A6)){A6=[A6]}var A0=[];var A1=this.options.autoSync;this.options.autoSync=false;try{for(var A2=0;A2<A6.length;A2++){var A4=A6[A2];var A3=this.add(A4);A0.push(A3);var A5=A3.toJSON();if(this._isServerGrouped()){A5=this._wrapInEmptyGroup(A5)}this._pristineData.push(A5)}}finally{this.options.autoSync=A1}if(A0.length){this.trigger("push",{type:"create",items:A0})}},pushUpdate:function(A3){if(!j(A3)){A3=[A3]}var A0=[];for(var A1=0;A1<A3.length;A1++){var A2=A3[A1];var A5=this._createNewModel(A2);var A4=this.get(A5.id);if(A4){A0.push(A4);A4.accept(A2);A4.trigger(E);this._updatePristineForModel(A4,A2)}else{this.pushCreate(A2)}}if(A0.length){this.trigger("push",{type:"update",items:A0})}},pushDestroy:function(A1){var A0=this._removeItems(A1);if(A0.length){this.trigger("push",{type:"destroy",items:A0})}},_removeItems:function(A4){if(!j(A4)){A4=[A4]}var A5=[];var A0=this.options.autoSync;this.options.autoSync=false;try{for(var A1=0;A1<A4.length;A1++){var A3=A4[A1];var A6=this._createNewModel(A3);var A2=false;this._eachItem(this._data,function(A9){for(var A7=0;A7<A9.length;A7++){var A8=A9.at(A7);if(A8.id===A6.id){A5.push(A8);A9.splice(A7,1);A2=true;break}}});if(A2){this._removePristineForModel(A6);this._destroyed.pop()}}}finally{this.options.autoSync=A0}return A5},remove:function(A3){var A0,A1=this,A2=A1._isServerGrouped();this._eachItem(A1._data,function(A4){A0=Av(A4,A3);if(A0&&A2){if(!A0.isNew||!A0.isNew()){A1._destroyed.push(A0)}return true}});this._removeModelFromRanges(A3);this._updateRangesLength();return A3},destroyed:function(){return this._destroyed},created:function(){var A2,A0,A1=[],A3=this._flatData(this._data);for(A2=0,A0=A3.length;A2<A0;A2++){if(A3[A2].isNew&&A3[A2].isNew()){A1.push(A3[A2])}}return A1},updated:function(){var A2,A0,A1=[],A3=this._flatData(this._data);for(A2=0,A0=A3.length;A2<A0;A2++){if((A3[A2].isNew&&!A3[A2].isNew())&&A3[A2].dirty){A1.push(A3[A2])}}return A1},sync:function(){var A5=this,A3,A4,A6=[],A8=[],A7=A5._destroyed,A2=A5._flatData(A5._data);var A0=Ar.Deferred().resolve().promise();if(A5.online()){if(!A5.reader.model){return A0}A6=A5.created();A8=A5.updated();var A1=[];if(A5.options.batch&&A5.transport.submit){A1=A5._sendSubmit(A6,A8,A7)}else{A1.push.apply(A1,A5._send("create",A6));A1.push.apply(A1,A5._send("update",A8));A1.push.apply(A1,A5._send("destroy",A7))}A0=Ar.when.apply(null,A1).then(function(){var Ba,A9;for(Ba=0,A9=arguments.length;Ba<A9;Ba++){A5._accept(arguments[Ba])}A5._storeData(true);A5._change({action:"sync"});A5.trigger(m)})}else{A5._storeData(true);A5._change({action:"sync"})}return A0},cancelChanges:function(A1){var A0=this;if(A1 instanceof Ax.data.Model){A0._cancelModel(A1)}else{A0._destroyed=[];A0._detachObservableParents();A0._data=A0._observe(A0._pristineData);if(A0.options.serverPaging){A0._total=A0._pristineTotal}A0._ranges=[];A0._addRange(A0._data);A0._change()}},hasChanges:function(){var A1,A0,A2=this._flatData(this._data);if(this._destroyed.length){return true}for(A1=0,A0=A2.length;A1<A0;A1++){if((A2[A1].isNew&&A2[A1].isNew())||A2[A1].dirty){return true}}return false},_accept:function(A1){var A4=this,A0=A1.models,A8=A1.response,A2=0,A5=A4._isServerGrouped(),A7=A4._pristineData,A6=A1.type,A3;A4.trigger(Q,{response:A8,type:A6});if(A8&&!Au(A8)){A8=A4.reader.parse(A8);if(A4._handleCustomErrors(A8)){return}A8=A4.reader.data(A8);if(!j(A8)){A8=[A8]}}else{A8=Ar.map(A0,function(A9){return A9.toJSON()})}if(A6==="destroy"){A4._destroyed=[]}for(A2=0,A3=A0.length;A2<A3;A2++){if(A6!=="destroy"){A0[A2].accept(A8[A2]);if(A6==="create"){A7.push(A5?A4._wrapInEmptyGroup(A0[A2]):A8[A2])}else{if(A6==="update"){A4._updatePristineForModel(A0[A2],A8[A2])}}}else{A4._removePristineForModel(A0[A2])}}},_updatePristineForModel:function(A1,A0){this._executeOnPristineForModel(A1,function(A3,A2){Ax.deepExtend(A2[A3],A0)})},_executeOnPristineForModel:function(A1,A0){this._eachPristineItem(function(A3){var A2=C(A3,A1);if(A2>-1){A0(A2,A3);return true}})},_removePristineForModel:function(A0){this._executeOnPristineForModel(A0,function(A2,A1){A1.splice(A2,1)})},_readData:function(A1){var A0=!this._isServerGrouped()?this.reader.data:this.reader.groups;return A0.call(this.reader,A1)},_eachPristineItem:function(A0){this._eachItem(this._pristineData,A0)},_eachItem:function(A1,A0){if(A1&&A1.length){if(this._isServerGrouped()){a(A1,A0)}else{A0(A1)}}},_pristineForModel:function(A3){var A1,A2,A0=function(A4){A2=C(A4,A3);if(A2>-1){A1=A4[A2];return true}};this._eachPristineItem(A0);return A1},_cancelModel:function(A1){var A0=this._pristineForModel(A1);this._eachItem(this._data,function(A3){var A2=M(A3,A1);if(A2>=0){if(A0&&(!A1.isNew()||A0.__state__)){A3[A2].accept(A0)}else{A3.splice(A2,1)}}})},_submit:function(A0,A2){var A1=this;A1.trigger(N,{type:"submit"});A1.transport.submit(X({success:function(A5,A3){var A4=Ar.grep(A0,function(A6){return A6.type==A3})[0];if(A4){A4.resolve({response:A5,models:A4.models,type:A3})}},error:function(A6,A3,A5){for(var A4=0;A4<A0.length;A4++){A0[A4].reject(A6)}A1.error(A6,A3,A5)}},A2))},_sendSubmit:function(A2,A1,A3){var A4=this,A0=[];if(A4.options.batch){if(A2.length){A0.push(Ar.Deferred(function(A5){A5.type="create";A5.models=A2}))}if(A1.length){A0.push(Ar.Deferred(function(A5){A5.type="update";A5.models=A1}))}if(A3.length){A0.push(Ar.Deferred(function(A5){A5.type="destroy";A5.models=A3}))}A4._submit(A0,{data:{created:A4.reader.serialize(W(A2)),updated:A4.reader.serialize(W(A1)),destroyed:A4.reader.serialize(W(A3))}})}return A0},_promise:function(A3,A1,A0){var A2=this;return Ar.Deferred(function(A4){A2.trigger(N,{type:A0});A2.transport[A0].call(A2.transport,X({success:function(A5){A4.resolve({response:A5,models:A1,type:A0})},error:function(A7,A5,A6){A4.reject(A7);A2.error(A7,A5,A6)}},A3))}).promise()},_send:function(A3,A6){var A2=this,A4,A1,A0=[],A5=A2.reader.serialize(W(A6));if(A2.options.batch){if(A6.length){A0.push(A2._promise({data:{models:A5}},A6,A3))}}else{for(A4=0,A1=A6.length;A4<A1;A4++){A0.push(A2._promise({data:A5[A4]},[A6[A4]],A3))}}return A0},read:function(A3){var A0=this,A2=A0._params(A3);var A1=Ar.Deferred();A0._queueRequest(A2,function(){var A4=A0.trigger(N,{type:"read"});if(!A4){A0.trigger(As);A0._ranges=[];A0.trigger("reset");if(A0.online()){A0.transport.read({data:A2,success:function(A5){A0.success(A5,A2);A1.resolve()},error:function(){var A5=An.call(arguments);A0.error.apply(A0,A5);A1.reject.apply(A1,A5)}})}else{if(A0.options.offlineStorage!=null){A0.success(A0.offlineData(),A2);A1.resolve()}}}else{A0._dequeueRequest();A1.resolve(A4)}});return A1.promise()},_readAggregates:function(A0){return this.reader.aggregates(A0)},success:function(A2){var A5=this,A6=A5.options;A5.trigger(Q,{response:A2,type:"read"});if(A5.online()){A2=A5.reader.parse(A2);if(A5._handleCustomErrors(A2)){A5._dequeueRequest();return}A5._total=A5.reader.total(A2);if(A5._aggregate&&A6.serverAggregates){A5._aggregateResult=A5._readAggregates(A2)}A2=A5._readData(A2)}else{A2=A5._readData(A2);var A1=[];var A0={};var A9=A5.reader.model;var A8=A9?A9.idField:"id";var A3;for(A3=0;A3<this._destroyed.length;A3++){var A7=this._destroyed[A3][A8];A0[A7]=A7}for(A3=0;A3<A2.length;A3++){var Ba=A2[A3];var A4=Ba.__state__;if(A4=="destroy"){if(!A0[Ba[A8]]){this._destroyed.push(this._createNewModel(Ba))}}else{A1.push(Ba)}}A2=A1;A5._total=A2.length}A5._pristineTotal=A5._total;A5._pristineData=A2.slice(0);A5._detachObservableParents();A5._data=A5._observe(A2);if(A5.options.offlineStorage!=null){A5._eachItem(A5._data,function(Bd){for(var Bb=0;Bb<Bd.length;Bb++){var Bc=Bd.at(Bb);if(Bc.__state__=="update"){Bc.dirty=true}}})}A5._storeData();A5._addRange(A5._data);A5._process(A5._data);A5._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents){for(var A0=0;A0<this._data.length;A0++){if(this._data[A0].parent){this._data[A0].parent=AX}}}},_storeData:function(A0){var A5=this._isServerGrouped();var A3=this.reader.model;function A4(Bb){var Ba=[];for(var A7=0;A7<Bb.length;A7++){var A8=Bb.at(A7);var A9=A8.toJSON();if(A5&&A8.items){A9.items=A4(A8.items)}else{A9.uid=A8.uid;if(A3){if(A8.isNew()){A9.__state__="create"}else{if(A8.dirty){A9.__state__="update"}}}}Ba.push(A9)}return Ba}if(this.options.offlineStorage!=null){var A6=A4(this._data);for(var A1=0;A1<this._destroyed.length;A1++){var A2=this._destroyed[A1].toJSON();A2.__state__="destroy";A6.push(A2)}this.offlineData(A6);if(A0){this._pristineData=A6}}},_addRange:function(A3){var A0=this,A2=A0._skip||0,A1=A2+A0._flatData(A3,true).length;A0._ranges.push({start:A2,end:A1,data:A3,timestamp:new Date().getTime()});A0._ranges.sort(function(A4,A5){return A4.start-A5.start})},error:function(A1,A0,A2){this._dequeueRequest();this.trigger(Q,{});this.trigger(z,{xhr:A1,status:A0,errorThrown:A2})},_params:function(A2){var A0=this,A1=X({take:A0.take(),skip:A0.skip(),page:A0.page(),pageSize:A0.pageSize(),sort:A0._sort,filter:A0._filter,group:A0._group,aggregate:A0._aggregate},A2);if(!A0.options.serverPaging){delete A1.take;delete A1.skip;delete A1.page;delete A1.pageSize}if(!A0.options.serverGrouping){delete A1.group}else{if(A0.reader.model&&A1.group){A1.group=Aj(A1.group,A0.reader.model)}}if(!A0.options.serverFiltering){delete A1.filter}else{if(A0.reader.model&&A1.filter){A1.filter=AZ(A1.filter,A0.reader.model)}}if(!A0.options.serverSorting){delete A1.sort}else{if(A0.reader.model&&A1.sort){A1.sort=Aj(A1.sort,A0.reader.model)}}if(!A0.options.serverAggregates){delete A1.aggregate}else{if(A0.reader.model&&A1.aggregate){A1.aggregate=Aj(A1.aggregate,A0.reader.model)}}return A1},_queueRequest:function(A2,A0){var A1=this;if(!A1._requestInProgress){A1._requestInProgress=true;A1._pending=Ap;A0()}else{A1._pending={callback:O(A0,A1),options:A2}}},_dequeueRequest:function(){var A0=this;A0._requestInProgress=false;if(A0._pending){A0._queueRequest(A0._pending.options,A0._pending.callback)}},_handleCustomErrors:function(A1){if(this.reader.errors){var A0=this.reader.errors(A1);if(A0){this.trigger(z,{xhr:null,status:"customerror",errorThrown:"custom error",errors:A0});return true}}return false},_shouldWrap:function(A1){var A0=this.reader.model;if(A0&&A1.length){return !(A1[0] instanceof A0)}return false},_observe:function(A4){var A0=this,A3=A0.reader.model,A1=false;A0._shouldDetachObservableParents=true;if(A4 instanceof AC){A0._shouldDetachObservableParents=false;if(A0._shouldWrap(A4)){A4.type=A0.reader.model;A4.wrapAll(A4,A4)}}else{var A2=A0.pageSize()&&!A0.options.serverPaging?AQ:AC;A4=new A2(A4,A0.reader.model);A4.parent=function(){return A0.parent()}}if(A0._isServerGrouped()){Ac(A4,A3)}if(A0._changeHandler&&A0._data&&A0._data instanceof AC){A0._data.unbind(E,A0._changeHandler)}else{A0._changeHandler=O(A0._change,A0)}return A4.bind(E,A0._changeHandler)},_change:function(A2){var A3=this,A5,A1,A0=A2?A2.action:"";if(A0==="remove"){for(A5=0,A1=A2.items.length;A5<A1;A5++){if(!A2.items[A5].isNew||!A2.items[A5].isNew()){A3._destroyed.push(A2.items[A5])}}}if(A3.options.autoSync&&(A0==="add"||A0==="remove"||A0==="itemchange")){A3.sync()}else{var A4=parseInt(A3._total,10);if(!P(A3._total)){A4=parseInt(A3._pristineTotal,10)}if(A0==="add"){A4+=A2.items.length}else{if(A0==="remove"){A4-=A2.items.length}else{if(A0!=="itemchange"&&A0!=="sync"&&!A3.options.serverPaging){A4=A3._pristineTotal}else{if(A0==="sync"){A4=A3._pristineTotal=parseInt(A3._total,10)}}}}A3._total=A4;A3._process(A3._data,A2)}},_calculateAggregates:function(A4,A1){A1=A1||{};var A2=new k(A4),A0=A1.aggregate,A3=A1.filter;if(A3){A2=A2.filter(A3)}return A2.aggregate(A0)},_process:function(A4,A0){var A1=this,A2={},A3;if(A1.options.serverPaging!==true){A2.skip=A1._skip;A2.take=A1._take||A1._pageSize;if(A2.skip===Ap&&A1._page!==Ap&&A1._pageSize!==Ap){A2.skip=(A1._page-1)*A1._pageSize}}if(A1.options.serverSorting!==true){A2.sort=A1._sort}if(A1.options.serverFiltering!==true){A2.filter=A1._filter}if(A1.options.serverGrouping!==true){A2.group=A1._group}if(A1.options.serverAggregates!==true){A2.aggregate=A1._aggregate;A1._aggregateResult=A1._calculateAggregates(A4,A2)}A3=A1._queryProcess(A4,A2);A1.view(A3.data);if(A3.total!==Ap&&!A1.options.serverFiltering){A1._total=A3.total}A0=A0||{};A0.items=A0.items||A1._view;A1.trigger(E,A0)},_queryProcess:function(A1,A0){return k.process(A1,A0)},_mergeState:function(A1){var A0=this;if(A1!==Ap){A0._pageSize=A1.pageSize;A0._page=A1.page;A0._sort=A1.sort;A0._filter=A1.filter;A0._group=A1.group;A0._aggregate=A1.aggregate;A0._skip=A1.skip;A0._take=A1.take;if(A0._skip===Ap){A0._skip=A0.skip();A1.skip=A0.skip()}if(A0._take===Ap&&A0._pageSize!==Ap){A0._take=A0._pageSize;A1.take=A0._take}if(A1.sort){A0._sort=A1.sort=g(A1.sort)}if(A1.filter){A0._filter=A1.filter=AD(A1.filter)}if(A1.group){A0._group=A1.group=Aq(A1.group)}if(A1.aggregate){A0._aggregate=A1.aggregate=Am(A1.aggregate)}}return A1},query:function(A1){var A0;var A2=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates;if(A2||((this._data===Ap||this._data.length===0)&&!this._destroyed.length)){return this.read(this._mergeState(A1))}var A3=this.trigger(N,{type:"read"});if(!A3){this.trigger(As);A0=this._queryProcess(this._data,this._mergeState(A1));if(!this.options.serverFiltering){if(A0.total!==Ap){this._total=A0.total}else{this._total=this._data.length}}this._aggregateResult=this._calculateAggregates(this._data,A1);this.view(A0.data);this.trigger(Q,{type:"read"});this.trigger(E,{items:A0.data})}return Ar.Deferred().resolve(A3).promise()},fetch:function(A0){var A1=this;var A2=function(A3){if(A3!==true&&r(A0)){A0.call(A1)}};return this._query().then(A2)},_query:function(A1){var A0=this;return A0.query(X({},{page:A0.page(),pageSize:A0.pageSize(),sort:A0.sort(),filter:A0.filter(),group:A0.group(),aggregate:A0.aggregate()},A1))},next:function(A1){var A0=this,A3=A0.page(),A2=A0.total();A1=A1||{};if(!A3||(A2&&A3+1>A0.totalPages())){return}A0._skip=A3*A0.take();A3+=1;A1.page=A3;A0._query(A1);return A3},prev:function(A1){var A0=this,A2=A0.page();A1=A1||{};if(!A2||A2===1){return}A0._skip=A0._skip-A0.take();A2-=1;A1.page=A2;A0._query(A1);return A2},page:function(A2){var A1=this,A0;if(A2!==Ap){A2=Ah.max(Ah.min(Ah.max(A2,1),A1.totalPages()),1);A1._query({page:A2});return}A0=A1.skip();return A0!==Ap?Ah.round((A0||0)/(A1.take()||1))+1:Ap},pageSize:function(A1){var A0=this;if(A1!==Ap){A0._query({pageSize:A1,page:1});return}return A0.take()},sort:function(A1){var A0=this;if(A1!==Ap){A0._query({sort:A1});return}return A0._sort},filter:function(A1){var A0=this;if(A1===Ap){return A0._filter}A0._query({filter:A1,page:1});A0.trigger("reset")},group:function(A1){var A0=this;if(A1!==Ap){A0._query({group:A1});return}return A0._group},total:function(){return parseInt(this._total||0,10)},aggregate:function(A1){var A0=this;if(A1!==Ap){A0._query({aggregate:A1});return}return A0._aggregate},aggregates:function(){var A0=this._aggregateResult;if(Au(A0)){A0=this._emptyAggregates(this.aggregate())}return A0},_emptyAggregates:function(A0){var A1={};if(!Au(A0)){var A3={};if(!j(A0)){A0=[A0]}for(var A2=0;A2<A0.length;A2++){A3[A0[A2].aggregate]=0;A1[A0[A2].field]=A3}}return A1},_wrapInEmptyGroup:function(A5){var A1=this.group(),A4,A0,A3,A2;for(A3=A1.length-1,A2=0;A3>=A2;A3--){A0=A1[A3];A4={value:A5.get(A0.field),field:A0.field,items:A4?[A4]:[A5],hasSubgroups:!!A4,aggregates:this._emptyAggregates(A0.aggregates)}}return A4},totalPages:function(){var A1=this,A0=A1.pageSize()||A1.total();return Ah.ceil((A1.total()||0)/A0)},inRange:function(A0,A3){var A1=this,A2=Ah.min(A0+A3,A1.total());if(!A1.options.serverPaging&&A1._data.length>0){return true}return A1._findRange(A0,A2).length>0},lastRange:function(){var A0=this._ranges;return A0[A0.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var A0=this._ranges;return A0.length&&A0[0].data.length&&A0[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=false},_timeStamp:function(){return new Date().getTime()},range:function(A8,A6){this._currentRequestTimeStamp=this._timeStamp();this._skipRequestsInProgress=true;A8=Ah.min(A8||0,this.total());var A7=this,A5=Ah.max(Ah.floor(A8/A6),0)*A6,A1=Ah.min(A5+A6,A7.total()),A2;A2=A7._findRange(A8,Ah.min(A8+A6,A7.total()));if(A2.length){A7._pending=Ap;A7._skip=A8>A7.skip()?Ah.min(A1,(A7.totalPages()-1)*A7.take()):A5;A7._take=A6;var A3=A7.options.serverPaging;var A0=A7.options.serverSorting;var A9=A7.options.serverFiltering;var A4=A7.options.serverAggregates;try{A7.options.serverPaging=true;if(!A7._isServerGrouped()&&!(A7.group()&&A7.group().length)){A7.options.serverSorting=true}A7.options.serverFiltering=true;A7.options.serverPaging=true;A7.options.serverAggregates=true;if(A3){A7._detachObservableParents();A7._data=A2=A7._observe(A2)}A7._process(A2)}finally{A7.options.serverPaging=A3;A7.options.serverSorting=A0;A7.options.serverFiltering=A9;A7.options.serverAggregates=A4}return}if(A6!==Ap){if(!A7._rangeExists(A5,A1)){A7.prefetch(A5,A6,function(){if(A8>A5&&A1<A7.total()&&!A7._rangeExists(A1,Ah.min(A1+A6,A7.total()))){A7.prefetch(A1,A6,function(){A7.range(A8,A6)})}else{A7.range(A8,A6)}})}else{if(A5<A8){A7.prefetch(A1,A6,function(){A7.range(A8,A6)})}}}},_findRange:function(Bi,A8){var A9=this,Bh=A9._ranges,A2,Bd=[],Be,Bg,A6,Bb,A7,Ba,A4,Bc=A9.options,Bf=Bc.serverSorting||Bc.serverPaging||Bc.serverFiltering||Bc.serverGrouping||Bc.serverAggregates,A1,A3,A0;for(Be=0,A0=Bh.length;Be<A0;Be++){A2=Bh[Be];if(Bi>=A2.start&&Bi<=A2.end){A3=0;for(Bg=Be;Bg<A0;Bg++){A2=Bh[Bg];A1=A9._flatData(A2.data,true);if(A1.length&&Bi+A3>=A2.start){A7=A2.data;Ba=A2.end;if(!Bf){var A5=Aq(A9.group()||[]).concat(g(A9.sort()||[]));A4=A9._queryProcess(A2.data,{sort:A5,filter:A9.filter()});A1=A7=A4.data;if(A4.total!==Ap){Ba=A4.total}}A6=0;if(Bi+A3>A2.start){A6=(Bi+A3)-A2.start}Bb=A1.length;if(Ba>A8){Bb=Bb-(Ba-A8)}A3+=Bb-A6;Bd=A9._mergeGroups(Bd,A7,A6,Bb);if(A8<=A2.end&&A3==A8-Bi){return Bd}}}break}}return[]},_mergeGroups:function(A5,A4,A0,A3){if(this._isServerGrouped()){var A1=A4.toJSON(),A2;if(A5.length){A2=A5[A5.length-1]}AH(A2,A1,A0,A3);return A5.concat(A1)}return A5.concat(A4.slice(A0,A3))},skip:function(){var A0=this;if(A0._skip===Ap){return(A0._page!==Ap?(A0._page-1)*(A0.take()||1):Ap)}return A0._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(A0,A1,A4,A2){var A5=this;var A3=A5._timeStamp();return function(Bb){var Ba=false,A8={start:A0,end:A1,data:[],timestamp:A5._timeStamp()},A9,A6,A7;A5._dequeueRequest();A5.trigger(Q,{response:Bb,type:"read"});Bb=A5.reader.parse(Bb);A7=A5._readData(Bb);if(A7.length){for(A9=0,A6=A5._ranges.length;A9<A6;A9++){if(A5._ranges[A9].start===A0){Ba=true;A8=A5._ranges[A9];break}}if(!Ba){A5._ranges.push(A8)}}A8.data=A5._observe(A7);A8.end=A8.start+A5._flatData(A8.data,true).length;A5._ranges.sort(function(Bc,Bd){return Bc.start-Bd.start});A5._total=A5.reader.total(Bb);if(A2||(A3>=A5._currentRequestTimeStamp||!A5._skipRequestsInProgress)){if(A4&&A7.length){A4()}else{A5.trigger(E,{})}}}},prefetch:function(A0,A5,A4){var A1=this,A3=Ah.min(A0+A5,A1.total()),A2={take:A5,skip:A0,page:A0/A5+1,pageSize:A5,sort:A1._sort,filter:A1._filter,group:A1._group,aggregate:A1._aggregate};if(!A1._rangeExists(A0,A3)){clearTimeout(A1._timeout);A1._timeout=setTimeout(function(){A1._queueRequest(A2,function(){if(!A1.trigger(N,{type:"read"})){A1.transport.read({data:A1._params(A2),success:A1._prefetchSuccessHandler(A0,A3,A4),error:function(){var A6=An.call(arguments);A1.error.apply(A1,A6)}})}else{A1._dequeueRequest()}})},100)}else{if(A4){A4()}}},_multiplePrefetch:function(A0,A5,A4){var A1=this,A3=Ah.min(A0+A5,A1.total()),A2={take:A5,skip:A0,page:A0/A5+1,pageSize:A5,sort:A1._sort,filter:A1._filter,group:A1._group,aggregate:A1._aggregate};if(!A1._rangeExists(A0,A3)){if(!A1.trigger(N,{type:"read"})){A1.transport.read({data:A1._params(A2),success:A1._prefetchSuccessHandler(A0,A3,A4,true)})}}else{if(A4){A4()}}},_rangeExists:function(A4,A3){var A1=this,A2=A1._ranges,A5,A0;for(A5=0,A0=A2.length;A5<A0;A5++){if(A2[A5].start<=A4&&A2[A5].end>=A3){return true}}return false},_removeModelFromRanges:function(A4){var A1,A2,A5;for(var A3=0,A0=this._ranges.length;A3<A0;A3++){A5=this._ranges[A3];this._eachItem(A5.data,function(A6){A1=Av(A6,A4);if(A1){A2=true}});if(A2){break}}},_updateRangesLength:function(){var A0=0,A4,A3;for(var A2=0,A1=this._ranges.length;A2<A1;A2++){A4=this._ranges[A2];A4.start=A4.start-A0;A3=this._flatData(A4.data,true).length;A0=A4.end-A3;A4.end=A4.start+A3}}});var AK={};AK.create=function(A1,A4,A0){var A3,A2=A1.transport;if(A2){A2.read=typeof A2.read===AP?{url:A2.read}:A2.read;if(A0){A2.dataSource=A0}if(A1.type){Ax.data.transports=Ax.data.transports||{};Ax.data.schemas=Ax.data.schemas||{};if(Ax.data.transports[A1.type]&&!Aw(Ax.data.transports[A1.type])){A3=new Ax.data.transports[A1.type](X(A2,{data:A4}))}else{A2=X(true,{},Ax.data.transports[A1.type],A2)}A1.schema=X(true,{},Ax.data.schemas[A1.type],A1.schema)}if(!A3){A3=r(A2.read)?A2:new Ag(A2)}}else{A3=new n({data:A1.data||[]})}return A3};AM.create=function(A5){if(j(A5)||A5 instanceof AC){A5={data:A5}}var A8=A5||{},A2=A8.data,A7=A8.fields,A9=A8.table,A0=A8.select,A3,A4,A6={},A1;if(!A2&&A7&&!A8.transport){if(A9){A2=At(A9,A7)}else{if(A0){A2=AY(A0,A7);if(A8.group===Ap&&A2[0]&&A2[0].optgroup!==Ap){A8.group="optgroup"}}}}if(Ax.data.Model&&A7&&(!A8.schema||!A8.schema.model)){for(A3=0,A4=A7.length;A3<A4;A3++){A1=A7[A3];if(A1.type){A6[A1.field]=A1}}if(!Au(A6)){A8.schema=X(true,A8.schema,{model:{fields:A6}})}}A8.data=A2;A0=null;A8.select=null;A9=null;A8.table=null;return A8 instanceof AM?A8:new AM(A8)};function AY(A8,Bb){A8=Ar(A8)[0];var A7=A8.options;var A5=Bb[0];var A0=Bb[1];var A2=[];var A3,A6;var A1;var Ba;var A9;var A4;for(A3=0,A6=A7.length;A3<A6;A3++){A9={};Ba=A7[A3];A1=Ba.parentNode;if(A1===A8){A1=null}if(Ba.disabled||(A1&&A1.disabled)){continue}if(A1){A9.optgroup=A1.label}A9[A5.field]=Ba.text;A4=Ba.attributes.value;if(A4&&A4.specified){A4=Ba.value}else{A4=Ba.text}A9[A0.field]=A4;A2.push(A9)}return A2}function At(Bc,Bb){var A9=Ar(Bc)[0].tBodies[0],A0=A9?A9.rows:[],A3,A4,Ba,A5=Bb.length,A2=[],A1,A6,A7,A8;for(A3=0,A4=A0.length;A3<A4;A3++){A6={};A8=true;A1=A0[A3].cells;for(Ba=0;Ba<A5;Ba++){A7=A1[Ba];if(A7.nodeName.toLowerCase()!=="th"){A8=false;A6[Bb[Ba].field]=A7.innerHTML}}if(!A8){A2.push(A6)}}return A2}var L=t.define({idField:"id",init:function(A3){var A1=this,A4=A1.hasChildren||A3&&A3.hasChildren,A0="items",A2={};Ax.data.Model.fn.init.call(A1,A3);if(typeof A1.children===AP){A0=A1.children}A2={schema:{data:A0,model:{hasChildren:A4,id:A1.idField,fields:A1.fields}}};if(typeof A1.children!==AP){X(A2,A1.children)}A2.data=A3;if(!A4){A4=A2.schema.data}if(typeof A4===AP){A4=Ax.getter(A4)}if(r(A4)){A1.hasChildren=!!A4.call(A1,A1)}A1._childrenOptions=A2;if(A1.hasChildren){A1._initChildren()}A1._loaded=!!(A3&&(A3[A0]||A3._loaded))},_initChildren:function(){var A1=this;var A3,A2,A0;if(!(A1.children instanceof p)){A3=A1.children=new p(A1._childrenOptions);A2=A3.transport;A0=A2.parameterMap;A2.parameterMap=function(A5,A4){A5[A1.idField||"id"]=A1.id;if(A0){A5=A0(A5,A4)}return A5};A3.parent=function(){return A1};A3.bind(E,function(A4){A4.node=A4.node||A1;A1.trigger(E,A4)});A3.bind(z,function(A4){var A5=A1.parent();if(A5){A4.node=A4.node||A1;A5.trigger(z,A4)}});A1._updateChildrenField()}},append:function(A0){this._initChildren();this.loaded(true);this.children.add(A0)},hasChildren:false,level:function(){var A0=this.parentNode(),A1=0;while(A0&&A0.parentNode){A1++;A0=A0.parentNode?A0.parentNode():null}return A1},_updateChildrenField:function(){var A0=this._childrenOptions.schema.data;this[A0||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=true;this._updateChildrenField()},load:function(){var A1={};var A2="_query";var A3,A0;if(this.hasChildren){this._initChildren();A3=this.children;A1[this.idField||"id"]=this.id;if(!this._loaded){A3._data=Ap;A2="read"}A3.one(E,O(this._childrenLoaded,this));A0=A3[A2](A1)}else{this.loaded(true)}return A0||Ar.Deferred().resolve().promise()},parentNode:function(){var A0=this.parent();return A0.parent()},loaded:function(A0){if(A0!==Ap){this._loaded=A0}else{return this._loaded}},shouldSerialize:function(A0){return t.fn.shouldSerialize.call(this,A0)&&A0!=="children"&&A0!=="_loaded"&&A0!=="hasChildren"&&A0!=="_childrenOptions"}});function Y(A0){return function(){var A2=this._data,A1=AM.fn[A0].apply(this,An.call(arguments));if(this._data!=A2){this._attachBubbleHandlers()}return A1}}var p=AM.extend({init:function(A1){var A0=L.define({children:A1});AM.fn.init.call(this,X(true,{},{schema:{modelBase:A0,model:A0}},A1));this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var A0=this;A0._data.bind(z,function(A1){A0.trigger(z,A1)})},remove:function(A2){var A0=A2.parentNode(),A3=this,A1;if(A0&&A0._initChildren){A3=A0.children}A1=AM.fn.remove.call(A3,A2);if(A0&&!A3.data().length){A0.hasChildren=false}return A1},success:Y("success"),data:Y("data"),insert:function(A1,A2){var A0=this.parent();if(A0&&A0._initChildren){A0.hasChildren=true;A0._initChildren()}return AM.fn.insert.call(this,A1,A2)},_find:function(A4,A5){var A2,A1,A3,A6,A0;A3=AM.fn[A4].call(this,A5);if(A3){return A3}A6=this._flatData(this._data);if(!A6){return}for(A2=0,A1=A6.length;A2<A1;A2++){A0=A6[A2].children;if(!(A0 instanceof p)){continue}A3=A0[A4](A5);if(A3){return A3}}},get:function(A0){return this._find("get",A0)},getByUid:function(A0){return this._find("getByUid",A0)}});function Z(A1,Bc){var Bd=Ar(A1).children(),Bf,A0,Be=[],A4,Bb=Bc[0].field,A5=Bc[1]&&Bc[1].field,A6=Bc[2]&&Bc[2].field,Bg=Bc[3]&&Bc[3].field,A2,A9,A3,A8,Ba;function A7(Bi,Bh){return Bi.filter(Bh).add(Bi.find(Bh))}for(Bf=0,A0=Bd.length;Bf<A0;Bf++){A4={_loaded:true};A2=Bd.eq(Bf);A3=A2[0].firstChild;Ba=A2.children();A1=Ba.filter("ul");Ba=Ba.filter(":not(ul)");A9=A2.attr("data-id");if(A9){A4.id=A9}if(A3){A4[Bb]=A3.nodeType==3?A3.nodeValue:Ba.text()}if(A5){A4[A5]=A7(Ba,"a").attr("href")}if(Bg){A4[Bg]=A7(Ba,"img").attr("src")}if(A6){A8=A7(Ba,".k-sprite").prop("className");A4[A6]=A8&&Ar.trim(A8.replace("k-sprite",""))}if(A1.length){A4.items=Z(A1.eq(0),Bc)}if(A2.attr("data-hasChildren")=="true"){A4.hasChildren=true}Be.push(A4)}return Be}p.create=function(A1){A1=A1&&A1.push?{data:A1}:A1;var A0=A1||{},A4=A0.data,A3=A0.fields,A2=A0.list;if(A4&&A4._dataSource){return A4._dataSource}if(!A4&&A3&&!A0.transport){if(A2){A4=Z(A2,A3)}}A0.data=A4;return A0 instanceof p?A0:new p(A0)};var K=Ax.Observable.extend({init:function(A2,A1,A0){Ax.Observable.fn.init.call(this);this._prefetching=false;this.dataSource=A2;this.prefetch=!A0;var A3=this;A2.bind("change",function(){A3._change()});A2.bind("reset",function(){A3._reset()});this._syncWithDataSource();this.setViewSize(A1)},setViewSize:function(A0){this.viewSize=A0;this._recalculate()},at:function(A3){var A0=this.pageSize,A1,A4=true,A2;if(A3>=this.total()){this.trigger("endreached",{index:A3});return null}if(!this.useRanges){return this.dataSource.view()[A3]}if(this.useRanges){if(A3<this.dataOffset||A3>=this.skip+A0){A4=this.range(Math.floor(A3/A0)*A0)}if(A3===this.prefetchThreshold){this._prefetch()}if(A3===this.midPageThreshold){this.range(this.nextMidRange,true)}else{if(A3===this.nextPageThreshold){this.range(this.nextFullRange)}else{if(A3===this.pullBackThreshold){if(this.offset===this.skip){this.range(this.previousMidRange)}else{this.range(this.previousFullRange)}}}}if(A4){return this.dataSource.at(A3-this.dataOffset)}else{this.trigger("endreached",{index:A3});return null}}},indexOf:function(A0){return this.dataSource.data().indexOf(A0)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var A2=this,A1=A2.pageSize,A0=A2.skip-A2.viewSize+A1,A3=Ah.max(Ah.floor(A0/A1),0)*A1;this.offset=A0;this.dataSource.prefetch(A3,A1,function(){A2._goToRange(A0,true)})},range:function(A0,A4){if(this.offset===A0){return true}var A2=this,A1=this.pageSize,A5=Ah.max(Ah.floor(A0/A1),0)*A1,A3=this.dataSource;if(A4){A5+=A1}if(A3.inRange(A0,A1)){this.offset=A0;this._recalculate();this._goToRange(A0);return true}else{if(this.prefetch){A3.prefetch(A5,A1,function(){A2.offset=A0;A2._recalculate();A2._goToRange(A0,true)});return false}}return true},syncDataSource:function(){var A0=this.offset;this.offset=null;this.range(A0)},destroy:function(){this.unbind()},_prefetch:function(){var A1=this,A0=this.pageSize,A3=this.skip+A0,A2=this.dataSource;if(!A2.inRange(A3,A0)&&!this._prefetching&&this.prefetch){this._prefetching=true;this.trigger("prefetching",{skip:A3,take:A0});A2.prefetch(A3,A0,function(){A1._prefetching=false;A1.trigger("prefetched",{skip:A3,take:A0})})}},_goToRange:function(A0,A1){if(this.offset!==A0){return}this.dataOffset=A0;this._expanding=A1;this.dataSource.range(A0,this.pageSize);this.dataSource.enableRequestsInProgress()},_reset:function(){this._syncPending=true},_change:function(){var A0=this.dataSource;this.length=this.useRanges?A0.lastRange().end:A0.view().length;if(this._syncPending){this._syncWithDataSource();this._recalculate();this._syncPending=false;this.trigger("reset",{offset:this.offset})}this.trigger("resize");if(this._expanding){this.trigger("expand")}delete this._expanding},_syncWithDataSource:function(){var A0=this.dataSource;this._firstItemUid=A0.firstItemUid();this.dataOffset=this.offset=A0.skip()||0;this.pageSize=A0.pageSize();this.useRanges=A0.options.serverPaging},_recalculate:function(){var A2=this.pageSize,A1=this.offset,A3=this.viewSize,A0=Math.ceil(A1/A2)*A2;this.skip=A0;this.midPageThreshold=A0+A2-1;this.nextPageThreshold=A0+A3-1;this.prefetchThreshold=A0+Math.floor(A2/3*2);this.pullBackThreshold=this.offset-1;this.nextMidRange=A0+A2-A3;this.nextFullRange=A0;this.previousMidRange=A1-A3;this.previousFullRange=A0-A2}});var Ai=Ax.Observable.extend({init:function(A0,A2){var A1=this;Ax.Observable.fn.init.call(A1);this.dataSource=A0;this.batchSize=A2;this._total=0;this.buffer=new K(A0,A2*3);this.buffer.bind({"endreached":function(A3){A1.trigger("endreached",{index:A3.index})},"prefetching":function(A3){A1.trigger("prefetching",{skip:A3.skip,take:A3.take})},"prefetched":function(A3){A1.trigger("prefetched",{skip:A3.skip,take:A3.take})},"reset":function(){A1._total=0;A1.trigger("reset")},"resize":function(){A1._total=Math.ceil(this.length/A1.batchSize);A1.trigger("resize",{total:A1.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(A5){var A2=this.buffer,A0=A5*this.batchSize,A6=this.batchSize,A4=[],A3;if(A2.offset>A0){A2.at(A2.offset-1)}for(var A1=0;A1<A6;A1++){A3=A2.at(A0+A1);if(A3===null){break}A4.push(A3)}return A4},total:function(){return this._total},destroy:function(){this.buffer.destroy();this.unbind()}});X(true,Ax.data,{readers:{json:AG},Query:k,DataSource:AM,HierarchicalDataSource:p,Node:L,ObservableObject:U,ObservableArray:AC,LazyObservableArray:AQ,LocalTransport:n,RemoteTransport:Ag,Cache:AS,DataReader:AG,Model:t,Buffer:K,BatchBuffer:Ai})})(window.kendo.jQuery);(function(Y,Z){var U=window.kendo,B=U.support.browser,X=U.Observable,D=U.data.ObservableObject,S=U.data.ObservableArray,L={}.toString,j={},T=Array.prototype.slice,W=U.Class,p=Y.proxy,f="value",Q="source",c="events",F="checked",l="css",g=true,b="change";(function(){var r=document.createElement("a");try{delete r.test}catch(q){g=false}})();var O=X.extend({init:function(q,s){var r=this;X.fn.init.call(r);r.source=q[0];r.parents=q;r.path=s;r.dependencies={};r.dependencies[s]=true;r.observable=r.source instanceof X;r._access=function(t){r.dependencies[t.field]=true};if(r.observable){r._change=function(t){r.change(t)};r.source.bind(b,r._change)}},_parents:function(){var q=this.parents;var r=this.get();if(r&&typeof r.parent=="function"){var s=r.parent();if(Y.inArray(s,q)<0){q=[s].concat(q)}}return q},change:function(q){var s,t,u=q.field,r=this;if(r.path==="this"){r.trigger(b,q)}else{for(s in r.dependencies){if(s.indexOf(u)===0){t=s.charAt(u.length);if(!t||t==="."||t==="["){r.trigger(b,q);break}}}}},start:function(q){q.bind("get",this._access)},stop:function(q){q.unbind("get",this._access)},get:function(){var r=this,s=r.source,t=0,u=r.path,q=s;if(!r.observable){return q}r.start(r.source);q=s.get(u);while(q===Z&&s){s=r.parents[++t];if(s instanceof D){q=s.get(u)}}if(q===Z){s=r.source;while(q===Z&&s){s=s.parent();if(s instanceof D){q=s.get(u)}}}if(typeof q==="function"){t=u.lastIndexOf(".");if(t>0){s=s.get(u.substring(0,t))}r.start(s);if(s!==r.source){q=q.call(s,r.source)}else{q=q.call(s)}r.stop(s)}if(s&&s!==r.source){r.currentSource=s;s.unbind(b,r._change).bind(b,r._change)}r.stop(r.source);return q},set:function(r){var q=this.currentSource||this.source;var s=U.getter(this.path)(q);if(typeof s==="function"){if(q!==this.source){s.call(q,this.source,r)}else{s.call(q,r)}}else{q.set(this.path,r)}},destroy:function(){if(this.observable){this.source.unbind(b,this._change);if(this.currentSource){this.currentSource.unbind(b,this._change)}}this.unbind()}});var n=O.extend({get:function(){var q=this.source,t=this.path,s=0,r;r=q.get(t);while(!r&&q){q=this.parents[++s];if(q instanceof D){r=q.get(t)}}return p(r,q)}});var J=O.extend({init:function(q,t,r){var s=this;O.fn.init.call(s,q,t);s.template=r},render:function(r){var q;this.start(this.source);q=U.render(this.template,r);this.stop(this.source);return q}});var R=W.extend({init:function(s,r,q){this.element=s;this.bindings=r;this.options=q},bind:function(r,q){var s=this;r=q?r[q]:r;r.bind(b,function(t){s.refresh(q||t)});s.refresh(q)},destroy:function(){}});var d=R.extend({dataType:function(){var q=this.element.getAttribute("data-type")||this.element.type||"text";return q.toLowerCase()},parsedValue:function(){return this._parseValue(this.element.value,this.dataType())},_parseValue:function(q,r){if(r=="date"){q=U.parseDate(q,"yyyy-MM-dd")}else{if(r=="datetime-local"){q=U.parseDate(q,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"])}else{if(r=="number"){q=U.parseFloat(q)}else{if(r=="boolean"){q=q.toLowerCase();if(U.parseFloat(q)!==null){q=Boolean(U.parseFloat(q))}else{q=(q.toLowerCase()==="true")}}}}}return q}});j.attr=R.extend({refresh:function(q){this.element.setAttribute(q,this.bindings.attr[q].get())}});j.css=R.extend({init:function(s,r,q){R.fn.init.call(this,s,r,q);this.classes={}},refresh:function(r){var t=Y(this.element),s=this.bindings.css[r],q=this.classes[r]=s.get();if(q){t.addClass(r)}else{t.removeClass(r)}}});j.style=R.extend({refresh:function(q){this.element.style[q]=this.bindings.style[q].get()||""}});j.enabled=R.extend({refresh:function(){if(this.bindings.enabled.get()){this.element.removeAttribute("disabled")}else{this.element.setAttribute("disabled","disabled")}}});j.readonly=R.extend({refresh:function(){if(this.bindings.readonly.get()){this.element.setAttribute("readonly","readonly")}else{this.element.removeAttribute("readonly")}}});j.disabled=R.extend({refresh:function(){if(this.bindings.disabled.get()){this.element.setAttribute("disabled","disabled")}else{this.element.removeAttribute("disabled")}}});j.events=R.extend({init:function(s,r,q){R.fn.init.call(this,s,r,q);this.handlers={}},refresh:function(q){var t=Y(this.element),r=this.bindings.events[q],s=this.handlers[q];if(s){t.off(q,s)}s=this.handlers[q]=r.get();t.on(q,r.source,s)},destroy:function(){var r=Y(this.element),q;for(q in this.handlers){r.off(q,this.handlers[q])}}});j.text=R.extend({refresh:function(){var r=this.bindings.text.get();var q=this.element.getAttribute("data-format")||"";if(r==null){r=""}Y(this.element).text(U.toString(r,q))}});j.visible=R.extend({refresh:function(){if(this.bindings.visible.get()){this.element.style.display=""}else{this.element.style.display="none"}}});j.invisible=R.extend({refresh:function(){if(!this.bindings.invisible.get()){this.element.style.display=""}else{this.element.style.display="none"}}});j.html=R.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}});j.value=d.extend({init:function(s,r,q){d.fn.init.call(this,s,r,q);this._change=p(this.change,this);this.eventName=q.valueUpdate||b;Y(this.element).on(this.eventName,this._change);this._initChange=false},change:function(){this._initChange=this.eventName!=b;this.bindings[f].set(this.parsedValue());this._initChange=false},refresh:function(){if(!this._initChange){var r=this.bindings[f].get();if(r==null){r=""}var q=this.dataType();if(q=="date"){r=U.toString(r,"yyyy-MM-dd")}else{if(q=="datetime-local"){r=U.toString(r,"yyyy-MM-ddTHH:mm:ss")}}this.element.value=r}this._initChange=false},destroy:function(){Y(this.element).off(this.eventName,this._change)}});j.source=R.extend({init:function(t,s,r){R.fn.init.call(this,t,s,r);var q=this.bindings.source.get();if(q instanceof U.data.DataSource&&r.autoBind!==false){q.fetch()}},refresh:function(q){var r=this,s=r.bindings.source.get();if(s instanceof S||s instanceof U.data.DataSource){q=q||{};if(q.action=="add"){r.add(q.index,q.items)}else{if(q.action=="remove"){r.remove(q.index,q.items)}else{if(q.action!="itemchange"){r.render()}}}}else{r.render()}},container:function(){var q=this.element;if(q.nodeName.toLowerCase()=="table"){if(!q.tBodies[0]){q.appendChild(document.createElement("tbody"))}q=q.tBodies[0]}return q},template:function(){var q=this.options,r=q.template,s=this.container().nodeName.toLowerCase();if(!r){if(s=="select"){if(q.valueField||q.textField){r=U.format('<option value="#:{0}#">#:{1}#</option>',q.valueField||q.textField,q.textField||q.valueField)}else{r="<option>#:data#</option>"}}else{if(s=="tbody"){r="<tr><td>#:data#</td></tr>"}else{if(s=="ul"||s=="ol"){r="<li>#:data#</li>"}else{r="#:data#"}}}r=U.template(r)}return r},add:function(s,x){var q=this.container(),v,t,u,w,r=q.cloneNode(false),y=q.children[s];Y(r).html(U.render(this.template(),x));if(r.children.length){v=this.bindings.source._parents();for(t=0,u=x.length;t<u;t++){w=r.children[0];q.insertBefore(w,y||null);M(w,x[t],this.options.roles,[x[t]].concat(v))}}},remove:function(t,s){var q,u=this.container();for(q=0;q<s.length;q++){var r=u.children[t];e(r);u.removeChild(r)}},render:function(){var s=this.bindings.source.get(),q,u,r,v=this.container(),t=this.template();if(s instanceof U.data.DataSource){s=s.view()}if(!(s instanceof S)&&L.call(s)!=="[object Array]"){s=[s]}if(this.bindings.template){a(v);Y(v).html(this.bindings.template.render(s));if(v.children.length){q=this.bindings.source._parents();for(u=0,r=s.length;u<r;u++){M(v.children[u],s[u],this.options.roles,[s[u]].concat(q))}}}else{Y(v).html(U.render(t,s))}}});j.input={checked:d.extend({init:function(s,r,q){d.fn.init.call(this,s,r,q);this._change=p(this.change,this);Y(this.element).change(this._change)},change:function(){var t=this.element;var s=this.value();if(t.type=="radio"){s=this.parsedValue();this.bindings[F].set(s)}else{if(t.type=="checkbox"){var r=this.bindings[F].get();var u;if(r instanceof S){s=this.parsedValue();if(s instanceof Date){for(var q=0;q<r.length;q++){if(r[q] instanceof Date&&+r[q]===+s){u=q;break}}}else{u=r.indexOf(s)}if(u>-1){r.splice(u,1)}else{r.push(s)}}else{this.bindings[F].set(s)}}}},refresh:function(){var t=this.bindings[F].get(),s=t,q=this.dataType(),u=this.element;if(u.type=="checkbox"){if(s instanceof S){var v=-1;t=this.parsedValue();if(t instanceof Date){for(var r=0;r<s.length;r++){if(s[r] instanceof Date&&+s[r]===+t){v=r;break}}}else{v=s.indexOf(t)}u.checked=(v>=0)}else{u.checked=s}}else{if(u.type=="radio"&&t!=null){if(q=="date"){t=U.toString(t,"yyyy-MM-dd")}else{if(q=="datetime-local"){t=U.toString(t,"yyyy-MM-ddTHH:mm:ss")}}if(u.value===t.toString()){u.checked=true}}}},value:function(){var r=this.element,q=r.value;if(r.type=="checkbox"){q=r.checked}return q},destroy:function(){Y(this.element).off(b,this._change)}})};j.select={source:j.source.extend({refresh:function(q){var r=this,s=r.bindings.source.get();if(s instanceof S||s instanceof U.data.DataSource){q=q||{};if(q.action=="add"){r.add(q.index,q.items)}else{if(q.action=="remove"){r.remove(q.index,q.items)}else{if(q.action=="itemchange"||q.action===Z){r.render();if(r.bindings.value){if(r.bindings.value){r.element.value=P(r.bindings.value.get(),Y(r.element).data("valueField"))}}}}}}else{r.render()}}}),value:d.extend({init:function(s,r,q){d.fn.init.call(this,s,r,q);this._change=p(this.change,this);Y(this.element).change(this._change)},parsedValue:function(){var v=this.dataType();var t=[];var u,q,s,r;for(s=0,r=this.element.options.length;s<r;s++){q=this.element.options[s];if(q.selected){u=q.attributes.value;if(u&&u.specified){u=q.value}else{u=q.text}t.push(this._parseValue(u,v))}}return t},change:function(){var z=[],q=this.element,y,x=this.options.valueField||this.options.textField,t=this.options.valuePrimitive,Aa,r,w,u,v;z=this.parsedValue();if(x){y=this.bindings.source.get();if(y instanceof U.data.DataSource){y=y.view()}for(r=0;r<z.length;r++){for(u=0,v=y.length;u<v;u++){var s=t?(this._parseValue(z[r],this.dataType())===y[u].get(x)):(this._parseValue(y[u].get(x),this.dataType()).toString()===z[r]);if(s){z[r]=y[u];break}}}}w=this.bindings[f].get();if(w instanceof S){w.splice.apply(w,[0,w.length].concat(z))}else{if(!t&&(w instanceof D||w===null||w===Z||!x)){this.bindings[f].set(z[0])}else{this.bindings[f].set(z[0].get(x))}}},refresh:function(){var u,q=this.element,t=q.options,s=this.options.valuePrimitive,v=this.bindings[f].get(),y=v,x=this.options.valueField||this.options.textField,w=false,z=this.dataType(),Aa;if(!(y instanceof S)){y=new S([v])}q.selectedIndex=-1;for(var r=0;r<y.length;r++){v=y[r];if(x&&v instanceof D){v=v.get(x)}if(z=="date"){v=U.toString(y[r],"yyyy-MM-dd")}else{if(z=="datetime-local"){v=U.toString(y[r],"yyyy-MM-ddTHH:mm:ss")}}for(u=0;u<t.length;u++){Aa=t[u].value;if(Aa===""&&v!==""){Aa=t[u].text}if(v!=null&&Aa==v.toString()){t[u].selected=true;w=true}}}},destroy:function(){Y(this.element).off(b,this._change)}})};function C(q,r,s){return R.extend({init:function(w,v,u){var t=this;R.fn.init.call(t,w.element[0],v,u);t.widget=w;t._dataBinding=p(t.dataBinding,t);t._dataBound=p(t.dataBound,t);t._itemChange=p(t.itemChange,t)},itemChange:function(t){M(t.item[0],t.data,this._ns(t.ns),[t.data].concat(this.bindings[q]._parents()))},dataBinding:function(u){var w,t,x=this.widget,v=u.removedItems||x.items();for(w=0,t=v.length;w<t;w++){e(v[w])}},_ns:function(u){u=u||U.ui;var t=[U.ui,U.dataviz.ui,U.mobile.ui];t.splice(Y.inArray(u,t),1);t.unshift(u);return U.rolesFromNamespaces(t)},dataBound:function(t){var v,w,Aa=this.widget,Ab=t.addedItems||Aa.items(),Ac=Aa[r],z,x,y=Ac.group()||[],u=U.data.HierarchicalDataSource;if(u&&Ac instanceof u){return}if(Ab.length){z=t.addedDataItems||Ac.flatView();x=this.bindings[q]._parents();for(v=0,w=z.length;v<w;v++){M(Ab[v],z[v],this._ns(t.ns),[z[v]].concat(x))}}},refresh:function(t){var u=this,v,w=u.widget;t=t||{};if(!t.action){u.destroy();w.bind("dataBinding",u._dataBinding);w.bind("dataBound",u._dataBound);w.bind("itemChange",u._itemChange);v=u.bindings[q].get();if(w[r] instanceof U.data.DataSource&&w[r]!=v){if(v instanceof U.data.DataSource){w[s](v)}else{if(v&&v._dataSource){w[s](v._dataSource)}else{w[r].data(v);if(u.bindings.value&&(w instanceof U.ui.Select||w instanceof U.ui.MultiSelect)){w.value(P(u.bindings.value.get(),w.options.dataValueField))}}}}}},destroy:function(){var t=this.widget;t.unbind("dataBinding",this._dataBinding);t.unbind("dataBound",this._dataBound);t.unbind("itemChange",this._itemChange)}})}j.widget={events:R.extend({init:function(s,r,q){R.fn.init.call(this,s.element[0],r,q);this.widget=s;this.handlers={}},refresh:function(q){var r=this.bindings.events[q],s=this.handlers[q];if(s){this.widget.unbind(q,s)}s=r.get();this.handlers[q]=function(t){t.data=r.source;s(t);if(t.data===r.source){delete t.data}};this.widget.bind(q,this.handlers[q])},destroy:function(){var q;for(q in this.handlers){this.widget.unbind(q,this.handlers[q])}}}),checked:R.extend({init:function(s,r,q){R.fn.init.call(this,s.element[0],r,q);this.widget=s;this._change=p(this.change,this);this.widget.bind(b,this._change)},change:function(){this.bindings[F].set(this.value())},refresh:function(){this.widget.check(this.bindings[F].get()===true)},value:function(){var r=this.element,q=r.value;if(q=="on"||q=="off"){q=r.checked}return q},destroy:function(){this.widget.unbind(b,this._change)}}),visible:R.extend({init:function(s,r,q){R.fn.init.call(this,s.element[0],r,q);this.widget=s},refresh:function(){var q=this.bindings.visible.get();this.widget.wrapper[0].style.display=q?"":"none"}}),invisible:R.extend({init:function(s,r,q){R.fn.init.call(this,s.element[0],r,q);this.widget=s},refresh:function(){var q=this.bindings.invisible.get();this.widget.wrapper[0].style.display=q?"none":""}}),enabled:R.extend({init:function(s,r,q){R.fn.init.call(this,s.element[0],r,q);this.widget=s},refresh:function(){if(this.widget.enable){this.widget.enable(this.bindings.enabled.get())}}}),disabled:R.extend({init:function(s,r,q){R.fn.init.call(this,s.element[0],r,q);this.widget=s},refresh:function(){if(this.widget.enable){this.widget.enable(!this.bindings.disabled.get())}}}),source:C("source","dataSource","setDataSource"),value:R.extend({init:function(t,r,q){R.fn.init.call(this,t.element[0],r,q);this.widget=t;this._change=Y.proxy(this.change,this);this.widget.first(b,this._change);var s=this.bindings.value.get();this._valueIsObservableObject=!q.valuePrimitive&&(s==null||s instanceof D);this._valueIsObservableArray=s instanceof S;this._initChange=false},change:function(){var w=this.widget.value(),x=this.options.dataValueField||this.options.dataTextField,t=L.call(w)==="[object Array]",u=this._valueIsObservableObject,r,q,z=[],Ab,Aa,s,v,y;this._initChange=true;if(x){if(this.bindings.source){y=this.bindings.source.get()}if(w===""&&(u||this.options.valuePrimitive)){w=null}else{if(!y||y instanceof U.data.DataSource){y=this.widget.dataSource.view()}if(t){q=w.length;z=w.slice(0)}for(s=0,v=y.length;s<v;s++){Ab=y[s];Aa=Ab.get(x);if(t){for(r=0;r<q;r++){if(Aa==z[r]){z[r]=Ab;break}}}else{if(Aa==w){w=u?Ab:Aa;break}}}if(z[0]){if(this._valueIsObservableArray){w=z}else{if(u||!x){w=z[0]}else{w=z[0].get(x)}}}}}this.bindings.value.set(w);this._initChange=false},refresh:function(){if(!this._initChange){var x=this.widget;var v=x.options;var y=v.dataTextField;var w=v.dataValueField||y;var t=this.bindings.value.get();var q=v.text||"";var r=0,s;var u=[];if(t===Z){t=null}if(w){if(t instanceof S){for(s=t.length;r<s;r++){u[r]=t[r].get(w)}t=u}else{if(t instanceof D){q=t.get(y);t=t.get(w)}}}if(v.autoBind===false&&!v.cascadeFrom&&x.listView&&!x.listView.isBound()){if(y===w&&!q){q=t}if(!q&&t&&v.valuePrimitive){x.value(t)}else{x._preselect(t,q)}}else{x.value(t)}}this._initChange=false},destroy:function(){this.widget.unbind(b,this._change)}}),gantt:{dependencies:C("dependencies","dependencies","setDependenciesDataSource")},multiselect:{value:R.extend({init:function(s,r,q){R.fn.init.call(this,s.element[0],r,q);this.widget=s;this._change=Y.proxy(this.change,this);this.widget.first(b,this._change);this._initChange=false},change:function(){var z=this,Ac=z.bindings[f].get(),v=z.options.valuePrimitive,t=v?z.widget.value():z.widget.dataItems();var Aa=this.options.dataValueField||this.options.dataTextField;t=t.slice(0);z._initChange=true;if(Ac instanceof S){var y=[];var u=t.length;var Ab=0,w=0;var r=Ac[Ab];var s=false;var x;var q;var Ad;while(r!==Z){Ad=false;for(w=0;w<u;w++){if(v){s=t[w]==r}else{q=t[w];q=q.get?q.get(Aa):q;s=q==(r.get?r.get(Aa):r)}if(s){t.splice(w,1);u-=1;Ad=true;break}}if(!Ad){y.push(r);k(Ac,Ab,1);x=Ab}else{Ab+=1}r=Ac[Ab]}k(Ac,Ac.length,0,t);if(y.length){Ac.trigger("change",{action:"remove",items:y,index:x})}if(t.length){Ac.trigger("change",{action:"add",items:t,index:Ac.length-1})}}else{z.bindings[f].set(t)}z._initChange=false},refresh:function(){if(!this._initChange){var u=this.options,y=this.widget,w=u.dataValueField||u.dataTextField,r=this.bindings.value.get(),q=r,s=0,t,v=[],x;if(r===Z){r=null}if(w){if(r instanceof S){for(t=r.length;s<t;s++){x=r[s];v[s]=x.get?x.get(w):x}r=v}else{if(r instanceof D){r=r.get(w)}}}if(u.autoBind===false&&u.valuePrimitive!==true&&!y.listView.isBound()){y._preselect(q,r)}else{y.value(r)}}},destroy:function(){this.widget.unbind(b,this._change)}})},scheduler:{source:C("source","dataSource","setDataSource").extend({dataBound:function(r){var u;var q;var v=this.widget;var s=r.addedItems||v.items();var w,t;if(s.length){w=r.addedDataItems||v.dataItems();t=this.bindings.source._parents();for(u=0,q=w.length;u<q;u++){M(s[u],w[u],this._ns(r.ns),[w[u]].concat(t))}}}})}};var k=function(w,r,v,s){s=s||[];v=v||0;var u=s.length;var x=w.length;var y=[].slice.call(w,r+v);var t=y.length;var q;if(u){u=r+u;q=0;for(;r<u;r++){w[r]=s[q];q++}w.length=u}else{if(v){w.length=r;v+=r;while(r<v){delete w[--v]}}}if(t){t=r+t;q=0;for(;r<t;r++){w[r]=y[q];q++}w.length=t}r=w.length;while(r<x){delete w[r];r++}};var A=W.extend({init:function(r,q){this.target=r;this.options=q;this.toDestroy=[]},bind:function(u){var s,y,r,w,q,t,x=this instanceof h,v=this.binders();for(s in u){if(s==f){y=true}else{if(s==Q){r=true}else{if(s==c&&!x){w=true}else{if(s==F){q=true}else{if(s==l){t=true}else{this.applyBinding(s,u,v)}}}}}}if(r){this.applyBinding(Q,u,v)}if(y){this.applyBinding(f,u,v)}if(q){this.applyBinding(F,u,v)}if(w&&!x){this.applyBinding(c,u,v)}if(t&&!x){this.applyBinding(l,u,v)}},binders:function(){return j[this.target.nodeName.toLowerCase()]||{}},applyBinding:function(v,w,u){var q=u[v]||j[v],t=this.toDestroy,s,r=w[v];if(q){q=new q(this.target,w,this.options);t.push(q);if(r instanceof O){q.bind(r);t.push(r)}else{for(s in r){q.bind(r,s);t.push(r[s])}}}else{if(v!=="template"){throw new Error("The "+v+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")}}},destroy:function(){var s,q,r=this.toDestroy;for(s=0,q=r.length;s<q;s++){r[s].destroy()}}});var h=A.extend({binders:function(){return j.widget[this.target.options.name.toLowerCase()]||{}},applyBinding:function(v,w,u){var q=u[v]||j.widget[v],t=this.toDestroy,s,r=w[v];if(q){q=new q(this.target,w,this.target.options);t.push(q);if(r instanceof O){q.bind(r);t.push(r)}else{for(s in r){q.bind(r,s);t.push(r[s])}}}else{throw new Error("The "+v+" binding is not supported by the "+this.target.options.name+" widget")}}});function E(s,q){var r=U.initWidget(s,{},q);if(r){return new h(r)}}var V=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,I=/\s/g;function N(r){var s={},u,v,y,t,x,w,q;q=r.match(V);for(u=0,v=q.length;u<v;u++){y=q[u];t=y.indexOf(":");x=y.substring(0,t);w=y.substring(t+1);if(w.charAt(0)=="{"){w=N(w)}s[x]=w}return s}function K(t,s,q){var r,u={};for(r in t){u[r]=new q(s,t[r])}return u}function M(v,Aa,r,x){var Ac=v.getAttribute("data-"+U.ns+"role"),t,q=v.getAttribute("data-"+U.ns+"bind"),u=v.children,z=[],y=true,s,w={},Ab;x=x||[Aa];if(Ac||q){G(v)}if(Ac){Ab=E(v,r)}if(q){q=N(q.replace(I,""));if(!Ab){w=U.parseOptions(v,{textField:"",valueField:"",template:"",valueUpdate:b,valuePrimitive:false,autoBind:true});w.roles=r;Ab=new A(v,w)}Ab.source=Aa;s=K(q,x,O);if(w.template){s.template=new J(x,"",w.template)}if(s.click){q.events=q.events||{};q.events.click=q.click;s.click.destroy();delete s.click}if(s.source){y=false}if(q.attr){s.attr=K(q.attr,x,O)}if(q.style){s.style=K(q.style,x,O)}if(q.events){s.events=K(q.events,x,n)}if(q.css){s.css=K(q.css,x,O)}Ab.bind(s)}if(Ab){v.kendoBindingTarget=Ab}if(y&&u){for(t=0;t<u.length;t++){z[t]=u[t]}for(t=0;t<z.length;t++){M(z[t],Aa,r,x)}}}function m(q,t){var v,r,s,u=U.rolesFromNamespaces([].slice.call(arguments,2));t=U.observable(t);q=Y(q);for(v=0,r=q.length;v<r;v++){s=q[v];if(s.nodeType===1){M(s,t,u)}}}function G(r){var q=r.kendoBindingTarget;if(q){q.destroy();if(g){delete r.kendoBindingTarget}else{if(r.removeAttribute){r.removeAttribute("kendoBindingTarget")}else{r.kendoBindingTarget=null}}}}function e(q){G(q);a(q)}function a(s){var t=s.children;if(t){for(var r=0,q=t.length;r<q;r++){e(t[r])}}}function o(q){var s,r;q=Y(q);for(s=0,r=q.length;s<r;s++){e(q[s])}}function H(t,q){var r=t.element,s=r[0].kendoBindingTarget;if(s){m(r,s.source,q)}}function P(u,s){var v=[];var r=0;var q;var t;if(!s){return u}if(u instanceof S){for(q=u.length;r<q;r++){t=u[r];v[r]=t.get?t.get(s):t[s]}u=v}else{if(u instanceof D){u=u.get(s)}}return u}U.unbind=o;U.bind=m;U.data.binders=j;U.data.Binder=R;U.notify=H;U.observable=function(q){if(!(q instanceof D)){q=new D(q)}return q};U.observableHierarchy=function(q){var r=U.data.HierarchicalDataSource.create(q);function s(v){var u,t;for(u=0;u<v.length;u++){v[u]._initChildren();t=v[u].children;t.fetch();v[u].items=t.data();s(v[u].items)}}r.fetch();s(r.data());r._data._dataSource=r;return r._data}})(window.kendo.jQuery);(function(t,r){var f=window.kendo,Ac=f.effects,X=t.each,Ao=t.extend,Aq=t.proxy,A=f.support,C=A.browser,Q=A.transforms,e=A.transitions,V={scale:0,scalex:0,scaley:0,scale3d:0},n={translate:0,translatex:0,translatey:0,translate3d:0},x=(typeof document.documentElement.style.zoom!=="undefined")&&!Q,Ad=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,W=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,o=/translatex?$/i,z=/(zoom|fade|expand)(\w+)/,h=/(zoom|fade|expand)/,R=/[xy]$/i,K=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],Z=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],An={"rotate":"deg",scale:"",skew:"px",translate:"px"},U=Q.css,q=Math.round,Al="",j="px",I="none",Ah="auto",k="width",Af="height",v="hidden",a="origin",O="abortId",w="overflow",Ae="translate",Ag="position",N="completeCallback",E=U+"transition",Ai=U+"transform",s=U+"backface-visibility",T=U+"perspective",Ab="1500px",G="perspective("+Ab+")",u=A.mobileOS&&A.mobileOS.majorVersion==7,y={left:{reverse:"right",property:"left",transition:"translatex",vertical:false,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:false,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:true,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:true,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};f.directions=y;Ao(t.fn,{kendoStop:function(As,Ar){if(e){return Ac.stopQueue(this,As||false,Ar||false)}else{return this.stop(As,Ar)}}});if(Q&&!e){X(Z,function(As,Ar){t.fn[Ar]=function(Au){if(typeof Au=="undefined"){return D(this,Ar)}else{var At=t(this)[0],Av=Ar+"("+Au+An[Ar.replace(R,"")]+")";if(At.style.cssText.indexOf(Ai)==-1){t(this).css(Ai,Av)}else{At.style.cssText=At.style.cssText.replace(new RegExp(Ar+"\\(.*?\\)","i"),Av)}}return this};t.fx.step[Ar]=function(At){t(At.elem)[Ar](At.now)}});var Ak=t.fx.prototype.cur;t.fx.prototype.cur=function(){if(Z.indexOf(this.prop)!=-1){return parseFloat(t(this.elem)[this.prop]())}return Ak.apply(this,arguments)}}f.toggleClass=function(Au,As,At,Ar){if(As){As=As.split(" ");if(e){At=Ao({exclusive:"all",duration:400,ease:"ease-out"},At);Au.css(E,At.exclusive+" "+At.duration+"ms "+At.ease);setTimeout(function(){Au.css(E,"").css(Af)},At.duration)}X(As,function(Aw,Av){Au.toggleClass(Av,Ar)})}return Au};f.parseEffects=function(As,At){var Ar={};if(typeof As==="string"){X(As.split(" "),function(Ax,Au){var Ay=!h.test(Au),AA=Au.replace(z,function(AC,AB,AD){return AB+":"+AD.toLowerCase()}),Aw=AA.split(":"),Az=Aw[1],Av={};if(Aw.length>1){Av.direction=(At&&Ay?y[Az].reverse:Az)}Ar[Aw[0]]=Av})}else{X(As,function(Au){var Av=this.direction;if(Av&&At&&!h.test(Au)){this.direction=y[Av].reverse}Ar[Au]=this})}return Ar};function Y(Ar){return parseInt(Ar,10)}function B(As,Ar){return Y(As.css(Ar))}function d(As){var At=[];for(var Ar in As){At.push(Ar)}return At}function S(As){for(var Ar in As){if(K.indexOf(Ar)!=-1&&Z.indexOf(Ar)==-1){delete As[Ar]}}return As}function P(As,Av){var At=[],Ay={},Ar,Ax,Au,Aw;for(Ax in Av){Ar=Ax.toLowerCase();Aw=Q&&K.indexOf(Ar)!=-1;if(!A.hasHW3D&&Aw&&Z.indexOf(Ar)==-1){delete Av[Ax]}else{Au=Av[Ax];if(Aw){At.push(Ax+"("+Au+")")}else{Ay[Ax]=Au}}}if(At.length){Ay[Ai]=At.join(" ")}return Ay}if(e){Ao(Ac,{transition:function(As,Ay,Ax){var Au,At=0,Az=As.data("keys")||[],Av;Ax=Ao({duration:200,ease:"ease-out",complete:null,exclusive:"all"},Ax);var Ar=false;var Aw=function(){if(!Ar){Ar=true;if(Av){clearTimeout(Av);Av=null}As.removeData(O).dequeue().css(E,"").css(E);Ax.complete.call(As)}};Ax.duration=t.fx?t.fx.speeds[Ax.duration]||Ax.duration:Ax.duration;Au=P(As,Ay);t.merge(Az,d(Au));As.data("keys",t.unique(Az)).height();As.css(E,Ax.exclusive+" "+Ax.duration+"ms "+Ax.ease).css(E);As.css(Au).css(Ai);if(e.event){As.one(e.event,Aw);if(Ax.duration!==0){At=500}}Av=setTimeout(Aw,Ax.duration+At);As.data(O,Av);As.data(N,Aw)},stopQueue:function(Aw,Ax,Au){var Av,At=Aw.data("keys"),As=(!Au&&At),Ar=Aw.data(N);if(As){Av=f.getComputedStyles(Aw[0],At)}if(Ar){Ar()}if(As){Aw.css(Av)}return Aw.removeData("keys").stop(Ax)}})}function D(At,As){if(Q){var Av=At.css(Ai);if(Av==I){return As=="scale"?1:0}var Ar=Av.match(new RegExp(As+"\\s*\\(([\\d\\w\\.]+)")),Au=0;if(Ar){Au=Y(Ar[1])}else{Ar=Av.match(Ad)||[0,0,0,0,0];As=As.toLowerCase();if(o.test(As)){Au=parseFloat(Ar[3]/Ar[2])}else{if(As=="translatey"){Au=parseFloat(Ar[4]/Ar[2])}else{if(As=="scale"){Au=parseFloat(Ar[2])}else{if(As=="rotate"){Au=parseFloat(Math.atan2(Ar[2],Ar[1]))}}}}}return Au}else{return parseFloat(At.css(As))}}var H=f.Class.extend({init:function(At,As){var Ar=this;Ar.element=At;Ar.effects=[];Ar.options=As;Ar.restore=[]},run:function(AE){var Ay=this,AD,Aw,Au,Ax=AE.length,Ar=Ay.element,Az=Ay.options,AA=t.Deferred(),As={},AF={},AC,Av,AB;Ay.effects=AE;AA.then(t.proxy(Ay,"complete"));Ar.data("animating",true);for(Aw=0;Aw<Ax;Aw++){AD=AE[Aw];AD.setReverse(Az.reverse);AD.setOptions(Az);Ay.addRestoreProperties(AD.restore);AD.prepare(As,AF);Av=AD.children();for(Au=0,AB=Av.length;Au<AB;Au++){Av[Au].duration(Az.duration).run()}}for(var At in Az.effects){Ao(AF,Az.effects[At].properties)}if(!Ar.is(":visible")){Ao(As,{display:Ar.data("olddisplay")||"block"})}if(Q&&!Az.reset){AC=Ar.data("targetTransform");if(AC){As=Ao(AC,As)}}As=P(Ar,As);if(Q&&!e){As=S(As)}Ar.css(As).css(Ai);for(Aw=0;Aw<Ax;Aw++){AE[Aw].setup()}if(Az.init){Az.init()}Ar.data("targetTransform",AF);Ac.animate(Ar,AF,Ao({},Az,{complete:AA.resolve}));return AA.promise()},stop:function(){t(this.element).kendoStop(true,true)},addRestoreProperties:function(Av){var At=this.element,Au,Ar=0,As=Av.length;for(;Ar<As;Ar++){Au=Av[Ar];this.restore.push(Au);if(!At.data(Au)){At.data(Au,At.css(Au))}}},restoreCallback:function(){var Au=this.element;for(var Ar=0,As=this.restore.length;Ar<As;Ar++){var At=this.restore[Ar];Au.css(At,Au.data(At))}},complete:function(){var As=this,Av=0,Aw=As.element,Au=As.options,At=As.effects,Ar=At.length;Aw.removeData("animating").dequeue();if(Au.hide){Aw.data("olddisplay",Aw.css("display")).hide()}this.restoreCallback();if(x&&!Q){setTimeout(t.proxy(this,"restoreCallback"),0)}for(;Av<Ar;Av++){At[Av].teardown()}if(Au.completeCallback){Au.completeCallback(Aw)}}});Ac.promise=function(Ar,At){var Ax=[],Ay,As=new H(Ar,At),Av=f.parseEffects(At.effects),Au;At.effects=Av;for(var Aw in Av){Ay=Ac[Aa(Aw)];if(Ay){Au=new Ay(Ar,Av[Aw].direction);Ax.push(Au)}}if(Ax[0]){As.run(Ax)}else{if(!Ar.is(":visible")){Ar.css({display:Ar.data("olddisplay")||"block"}).css("display")}if(At.init){At.init()}Ar.dequeue();As.complete()}};Ao(Ac,{animate:function(As,At,Au){var Ar=Au.transition!==false;delete Au.transition;if(e&&"transition" in Ac&&Ar){Ac.transition(As,At,Au)}else{if(Q){As.animate(S(At),{queue:false,show:false,hide:false,duration:Au.duration,complete:Au.complete})}else{As.each(function(){var Aw=t(this),Av={};X(K,function(Az,AB){var AC,AA=At?At[AB]+" ":null;if(AA){var AG=At;if(AB in V&&At[AB]!==r){AC=AA.match(W);if(Q){Ao(AG,{scale:+AC[0]})}}else{if(AB in n&&At[AB]!==r){var AD=Aw.css(Ag),Ax=(AD=="absolute"||AD=="fixed");if(!Aw.data(Ae)){if(Ax){Aw.data(Ae,{top:B(Aw,"top")||0,left:B(Aw,"left")||0,bottom:B(Aw,"bottom"),right:B(Aw,"right")})}else{Aw.data(Ae,{top:B(Aw,"marginTop")||0,left:B(Aw,"marginLeft")||0})}}var Ay=Aw.data(Ae);AC=AA.match(W);if(AC){var AE=AB==Ae+"y"?+null:+AC[1],AF=AB==Ae+"y"?+AC[1]:+AC[2];if(Ax){if(!isNaN(Ay.right)){if(!isNaN(AE)){Ao(AG,{right:Ay.right-AE})}}else{if(!isNaN(AE)){Ao(AG,{left:Ay.left+AE})}}if(!isNaN(Ay.bottom)){if(!isNaN(AF)){Ao(AG,{bottom:Ay.bottom-AF})}}else{if(!isNaN(AF)){Ao(AG,{top:Ay.top+AF})}}}else{if(!isNaN(AE)){Ao(AG,{marginLeft:Ay.left+AE})}if(!isNaN(AF)){Ao(AG,{marginTop:Ay.top+AF})}}}}}if(!Q&&AB!="scale"&&AB in AG){delete AG[AB]}if(AG){Ao(Av,AG)}}});if(C.msie){delete Av.scale}Aw.animate(Av,{queue:false,show:false,hide:false,duration:Au.duration,complete:Au.complete})})}}}});Ac.animatedPromise=Ac.promise;var Am=f.Class.extend({init:function(As,At){var Ar=this;Ar.element=As;Ar._direction=At;Ar.options={};Ar._additionalEffects=[];if(!Ar.restore){Ar.restore=[]}},reverse:function(){this._reverse=true;return this.run()},play:function(){this._reverse=false;return this.run()},add:function(Ar){this._additionalEffects.push(Ar);return this},direction:function(Ar){this._direction=Ar;return this},duration:function(Ar){this._duration=Ar;return this},compositeRun:function(){var Ar=this,As=new H(Ar.element,{reverse:Ar._reverse,duration:Ar._duration}),At=Ar._additionalEffects.concat([Ar]);return As.run(At)},run:function(){if(this._additionalEffects&&this._additionalEffects[0]){return this.compositeRun()}var Ay=this,Ar=Ay.element,Av=0,AB=Ay.restore,Aw=AB.length,Ax,Az=t.Deferred(),As={},At={},AA,Au=Ay.children(),AC=Au.length;Az.then(t.proxy(Ay,"_complete"));Ar.data("animating",true);for(Av=0;Av<Aw;Av++){Ax=AB[Av];if(!Ar.data(Ax)){Ar.data(Ax,Ar.css(Ax))}}for(Av=0;Av<AC;Av++){Au[Av].duration(Ay._duration).run()}Ay.prepare(As,At);if(!Ar.is(":visible")){Ao(As,{display:Ar.data("olddisplay")||"block"})}if(Q){AA=Ar.data("targetTransform");if(AA){As=Ao(AA,As)}}As=P(Ar,As);if(Q&&!e){As=S(As)}Ar.css(As).css(Ai);Ay.setup();Ar.data("targetTransform",At);Ac.animate(Ar,At,{duration:Ay._duration,complete:Az.resolve});return Az.promise()},stop:function(){var As=0,At=this.children(),Ar=At.length;for(As=0;As<Ar;As++){At[As].stop()}t(this.element).kendoStop(true,true);return this},restoreCallback:function(){var Au=this.element;for(var Ar=0,As=this.restore.length;Ar<As;Ar++){var At=this.restore[Ar];Au.css(At,Au.data(At))}},_complete:function(){var Ar=this,As=Ar.element;As.removeData("animating").dequeue();Ar.restoreCallback();if(Ar.shouldHide()){As.data("olddisplay",As.css("display")).hide()}if(x&&!Q){setTimeout(t.proxy(Ar,"restoreCallback"),0)}Ar.teardown()},setOptions:function(Ar){Ao(true,this.options,Ar)},children:function(){return[]},shouldHide:t.noop,setup:t.noop,prepare:t.noop,teardown:t.noop,directions:[],setReverse:function(Ar){this._reverse=Ar;return this}});function Aa(Ar){return Ar.charAt(0).toUpperCase()+Ar.substring(1)}function l(At,Ar){var Au=Am.extend(Ar),As=Au.prototype.directions;Ac[Aa(At)]=Au;Ac.Element.prototype[At]=function(Ax,Av,Ay,Aw){return new Au(this.element,Ax,Av,Ay,Aw)};X(As,function(Aw,Av){Ac.Element.prototype[At+Aa(Av)]=function(Az,Ax,Ay){return new Au(this.element,Av,Az,Ax,Ay)}})}var M=["left","right","up","down"],Aj=["in","out"];l("slideIn",{directions:M,divisor:function(Ar){this.options.divisor=Ar;return this},prepare:function(At,Au){var Ax=this,Av,As=Ax.element,Ar=y[Ax._direction],Az=-Ar.modifier*(Ar.vertical?As.outerHeight():As.outerWidth()),Ay=Az/(Ax.options&&Ax.options.divisor||1)+j,Aw="0px";if(Ax._reverse){Av=At;At=Au;Au=Av}if(Q){At[Ar.transition]=Ay;Au[Ar.transition]=Aw}else{At[Ar.property]=Ay;Au[Ar.property]=Aw}}});l("tile",{directions:M,init:function(As,At,Ar){Am.prototype.init.call(this,As,At);this.options={previous:Ar}},previousDivisor:function(Ar){this.options.previousDivisor=Ar;return this},children:function(){var At=this,As=At._reverse,Av=At.options.previous,Au=At.options.previousDivisor||1,Ar=At._direction;var Aw=[f.fx(At.element).slideIn(Ar).setReverse(As)];if(Av){Aw.push(f.fx(Av).slideIn(y[Ar].reverse).divisor(Au).setReverse(!As))}return Aw}});function g(As,Au,At,Ar){l(As,{directions:Aj,startValue:function(Av){this._startValue=Av;return this},endValue:function(Av){this._endValue=Av;return this},shouldHide:function(){return this._shouldHide},prepare:function(Ax,Ay){var AA=this,AB,AC,Aw=this._direction==="out",Az=AA.element.data(Au),Av=!(isNaN(Az)||Az==At);if(Av){AB=Az}else{if(typeof this._startValue!=="undefined"){AB=this._startValue}else{AB=Aw?At:Ar}}if(typeof this._endValue!=="undefined"){AC=this._endValue}else{AC=Aw?Ar:At}if(this._reverse){Ax[Au]=AC;Ay[Au]=AB}else{Ax[Au]=AB;Ay[Au]=AC}AA._shouldHide=Ay[Au]===Ar}})}g("fade","opacity",1,0);g("zoom","scale",1,0.01);l("slideMargin",{prepare:function(Au,Aw){var Ax=this,At=Ax.element,Ay=Ax.options,As=At.data(a),Az=Ay.offset,Ar,Av=Ax._reverse;if(!Av&&As===null){At.data(a,parseFloat(At.css("margin-"+Ay.axis)))}Ar=(At.data(a)||0);Aw["margin-"+Ay.axis]=!Av?Ar+Az:Ar}});l("slideTo",{prepare:function(Ax,Av){var At=this,Aw=At.element,Au=At.options,Ar=Au.offset.split(","),As=At._reverse;if(Q){Av.translatex=!As?Ar[0]:0;Av.translatey=!As?Ar[1]:0}else{Av.left=!As?Ar[0]:0;Av.top=!As?Ar[1]:0}Aw.css("left")}});l("expand",{directions:["horizontal","vertical"],restore:[w],prepare:function(As,Au){var Ay=this,Ar=Ay.element,Az=Ay.options,At=Ay._reverse,Ax=Ay._direction==="vertical"?Af:k,AA=Ar[0].style[Ax],AB=Ar.data(Ax),Aw=parseFloat(AB||AA),Av=q(Ar.css(Ax,Ah)[Ax]());As.overflow=v;Aw=(Az&&Az.reset)?Av||Aw:Aw||Av;Au[Ax]=(At?0:Aw)+j;As[Ax]=(At?Aw:0)+j;if(AB===r){Ar.data(Ax,AA)}},shouldHide:function(){return this._reverse},teardown:function(){var As=this,Au=As.element,At=As._direction==="vertical"?Af:k,Ar=Au.data(At);if(Ar==Ah||Ar===Al){setTimeout(function(){Au.css(At,Ah).css(At)},0)}}});var L={position:"absolute",marginLeft:0,marginTop:0,scale:1};l("transfer",{init:function(As,Ar){this.element=As;this.options={target:Ar};this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(As,Au){var Aw=this,Ar=Aw.element,Ay=Ac.box(Ar),Az=Ac.box(Aw.options.target),Ax=D(Ar,"scale"),At=Ac.fillScale(Az,Ay),Av=Ac.transformOrigin(Az,Ay);Ao(As,L);Au.scale=1;Ar.css(Ai,"scale(1)").css(Ai);Ar.css(Ai,"scale("+Ax+")");As.top=Ay.top;As.left=Ay.left;As.transformOrigin=Av.x+j+" "+Av.y+j;if(Aw._reverse){As.scale=At}else{Au.scale=At}}});var m={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"};var p={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};function Ap(As,Au){var At=f.directions[Au].vertical,Ar=(As[At?Af:k]()/2)+"px";return m[Au].replace("$size",Ar)}l("turningPage",{directions:M,init:function(As,At,Ar){Am.prototype.init.call(this,As,At);this._container=Ar},prepare:function(Aw,Av){var At=this,As=At._reverse,Au=As?y[At._direction].reverse:At._direction,Ar=p[Au];Aw.zIndex=1;if(At._clipInHalf){Aw.clip=Ap(At._container,f.directions[Au].reverse)}Aw[s]=v;Av[Ai]=G+(As?Ar.start:Ar.end);Aw[Ai]=G+(As?Ar.end:Ar.start)},setup:function(){this._container.append(this.element)},face:function(Ar){this._face=Ar;return this},shouldHide:function(){var At=this,As=At._reverse,Ar=At._face;return(As&&!Ar)||(!As&&Ar)},clipInHalf:function(Ar){this._clipInHalf=Ar;return this},temporary:function(){this.element.addClass("temp-page");return this}});l("staticPage",{directions:M,init:function(As,At,Ar){Am.prototype.init.call(this,As,At);this._container=Ar},restore:["clip"],prepare:function(Au,At){var As=this,Ar=As._reverse?y[As._direction].reverse:As._direction;Au.clip=Ap(As._container,Ar);Au.opacity=0.999;At.opacity=1},shouldHide:function(){var At=this,As=At._reverse,Ar=At._face;return(As&&!Ar)||(!As&&Ar)},face:function(Ar){this._face=Ar;return this}});l("pageturn",{directions:["horizontal","vertical"],init:function(At,Au,As,Ar){Am.prototype.init.call(this,At,Au);this.options={};this.options.face=As;this.options.back=Ar},children:function(){var Ax=this,Ay=Ax.options,Ar=Ax._direction==="horizontal"?"left":"top",Az=f.directions[Ar].reverse,Au=Ax._reverse,Aw,At=Ay.face.clone(true).removeAttr("id"),Av=Ay.back.clone(true).removeAttr("id"),As=Ax.element;if(Au){Aw=Ar;Ar=Az;Az=Aw}return[f.fx(Ay.face).staticPage(Ar,As).face(true).setReverse(Au),f.fx(Ay.back).staticPage(Az,As).setReverse(Au),f.fx(At).turningPage(Ar,As).face(true).clipInHalf(true).temporary().setReverse(Au),f.fx(Av).turningPage(Az,As).clipInHalf(true).temporary().setReverse(Au)]},prepare:function(As,Ar){As[T]=Ab;As.transformStyle="preserve-3d";As.opacity=0.999;Ar.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}});l("flip",{directions:["horizontal","vertical"],init:function(At,Au,As,Ar){Am.prototype.init.call(this,At,Au);this.options={};this.options.face=As;this.options.back=Ar},children:function(){var At=this,Au=At.options,Ax=At._direction==="horizontal"?"left":"top",Ar=f.directions[Ax].reverse,As=At._reverse,Av,Aw=At.element;if(As){Av=Ax;Ax=Ar;Ar=Av}return[f.fx(Au.face).turningPage(Ax,Aw).face(true).setReverse(As),f.fx(Au.back).turningPage(Ar,Aw).setReverse(As)]},prepare:function(Ar){Ar[T]=Ab;Ar.transformStyle="preserve-3d"}});var c=!A.mobileOS.android;var F=".km-touch-scrollbar, .km-actionsheet-wrapper";l("replace",{_before:t.noop,_after:t.noop,init:function(At,As,Ar){Am.prototype.init.call(this,At);this._previous=t(As);this._transitionClass=Ar},duration:function(){throw new Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule")},beforeTransition:function(Ar){this._before=Ar;return this},afterTransition:function(Ar){this._after=Ar;return this},_both:function(){return t().add(this._element).add(this._previous)},_containerClass:function(){var As=this._direction,Ar="k-fx k-fx-start k-fx-"+this._transitionClass;if(As){Ar+=" k-fx-"+As}if(this._reverse){Ar+=" k-fx-reverse"}return Ar},complete:function(Ar){if(!this.deferred||(Ar&&t(Ar.target).is(F))){return}var As=this.container;As.removeClass("k-fx-end").removeClass(this._containerClass()).off(e.event,this.completeProxy);this._previous.hide().removeClass("k-fx-current");this.element.removeClass("k-fx-next");if(c){As.css(w,"")}if(!this.isAbsolute){this._both().css(Ag,"")}this.deferred.resolve();delete this.deferred},run:function(){if(this._additionalEffects&&this._additionalEffects[0]){return this.compositeRun()}var Av=this,Ar=Av.element,Ay=Av._previous,Ax=Ar.parents().filter(Ay.parents()).first(),At=Av._both(),Aw=t.Deferred(),As=Ar.css(Ag),Au;if(!Ax.length){Ax=Ar.parent()}this.container=Ax;this.deferred=Aw;this.isAbsolute=As=="absolute";if(!this.isAbsolute){At.css(Ag,"absolute")}if(c){Au=Ax.css(w);Ax.css(w,"hidden")}if(!e){this.complete()}else{Ar.addClass("k-fx-hidden");Ax.addClass(this._containerClass());this.completeProxy=t.proxy(this,"complete");Ax.on(e.event,this.completeProxy);f.animationFrame(function(){Ar.removeClass("k-fx-hidden").addClass("k-fx-next");Ay.css("display","").addClass("k-fx-current");Av._before(Ay,Ar);f.animationFrame(function(){Ax.removeClass("k-fx-start").addClass("k-fx-end");Av._after(Ay,Ar)})})}return Aw.promise()},stop:function(){this.complete()}});var J=f.Class.extend({init:function(){var Ar=this;Ar._tickProxy=Aq(Ar._tick,Ar);Ar._started=false},tick:t.noop,done:t.noop,onEnd:t.noop,onCancel:t.noop,start:function(){if(!this.enabled()){return}if(!this.done()){this._started=true;f.animationFrame(this._tickProxy)}else{this.onEnd()}},enabled:function(){return true},cancel:function(){this._started=false;this.onCancel()},_tick:function(){var Ar=this;if(!Ar._started){return}Ar.tick();if(!Ar.done()){f.animationFrame(Ar._tickProxy)}else{Ar._started=false;Ar.onEnd()}}});var b=J.extend({init:function(As){var Ar=this;Ao(Ar,As);J.fn.init.call(Ar)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,(new Date())-this.startDate)},moveTo:function(As){var Ar=this,At=Ar.movable;Ar.initial=At[Ar.axis];Ar.delta=As.location-Ar.initial;Ar.duration=typeof As.duration=="number"?As.duration:300;Ar.tick=Ar._easeProxy(As.ease);Ar.startDate=new Date();Ar.start()},_easeProxy:function(Ar){var As=this;return function(){As.movable.moveAxis(As.axis,Ar(As.timePassed(),As.initial,As.delta,As.duration))}}});Ao(b,{easeOutExpo:function(At,As,Au,Ar){return(At==Ar)?As+Au:Au*(-Math.pow(2,-10*At/Ar)+1)+As},easeOutBack:function(Au,At,Av,Ar,As){As=1.70158;return Av*((Au=Au/Ar-1)*Au*((As+1)*Au+As)+1)+At}});Ac.Animation=J;Ac.Transition=b;Ac.createEffect=l;Ac.box=function(As){As=t(As);var Ar=As.offset();Ar.width=As.outerWidth();Ar.height=As.outerHeight();return Ar};Ac.transformOrigin=function(Au,Ar){var As=(Au.left-Ar.left)*Ar.width/(Ar.width-Au.width),At=(Au.top-Ar.top)*Ar.height/(Ar.height-Au.height);return{x:isNaN(As)?0:As,y:isNaN(At)?0:At}};Ac.fillScale=function(As,Ar){return Math.min(As.width/Ar.width,As.height/Ar.height)};Ac.fitScale=function(As,Ar){return Math.max(As.width/Ar.width,As.height/Ar.height)}})(window.kendo.jQuery);(function(Q,C){var O=window.kendo,I=O.Observable,D="SCRIPT",A="init",N="show",J="hide",E="transitionStart",R="transitionEnd",T="attach",F="detach",P=/unrecognized expression/;var L=I.extend({init:function(W,V){var U=this;V=V||{};I.fn.init.call(U);U.content=W;U.id=O.guid();U.tagName=V.tagName||"div";U.model=V.model;U._wrap=V.wrap!==false;this._evalTemplate=V.evalTemplate||false;U._fragments={};U.bind([A,N,J,E,R],V)},render:function(V){var U=this,W=!U.element;if(W){U.element=U._createElement()}if(V){Q(V).append(U.element)}if(W){O.bind(U.element,U.model);U.trigger(A)}if(V){U._eachFragment(T);U.trigger(N)}return U.element},clone:function(U){return new M(this)},triggerBeforeShow:function(){return true},triggerBeforeHide:function(){return true},showStart:function(){this.element.css("display","")},showEnd:function(){},hideEnd:function(){this.hide()},beforeTransition:function(U){this.trigger(E,{type:U})},afterTransition:function(U){this.trigger(R,{type:U})},hide:function(){this._eachFragment(F);this.element.detach();this.trigger(J)},destroy:function(){var U=this.element;if(U){O.unbind(U);O.destroy(U);U.remove()}},fragments:function(U){Q.extend(this._fragments,U)},_eachFragment:function(U){for(var V in this._fragments){this._fragments[V][U](this,V)}},_createElement:function(){var V=this,U="<"+V.tagName+" />",Y,Z;try{Z=Q(document.getElementById(V.content)||V.content);if(Z[0].tagName===D){Z=Z.html()}}catch(W){if(P.test(W.message)){Z=V.content}}if(typeof Z==="string"){Z=Z.replace(/^\s+|\s+$/g,"");if(V._evalTemplate){Z=O.template(Z)(V.model||{})}Y=Q(U).append(Z);if(!V._wrap){Y=Y.contents()}}else{Y=Z;if(V._evalTemplate){var X=Q(O.template(Q("<div />").append(Y.clone(true)).html())(V.model||{}));if(Q.contains(document,Y[0])){Y.replaceWith(X)}Y=X}if(V._wrap){Y=Y.wrapAll(U).parent()}}return Y}});var M=O.Class.extend({init:function(U){Q.extend(this,{element:U.element.clone(true),transition:U.transition,id:U.id});U.element.parent().append(this.element)},hideEnd:function(){this.element.remove()},beforeTransition:Q.noop,afterTransition:Q.noop});var H=L.extend({init:function(V,U){L.fn.init.call(this,V,U);this.containers={}},container:function(V){var U=this.containers[V];if(!U){U=this._createContainer(V);this.containers[V]=U}return U},showIn:function(V,U,W){this.container(V).show(U,W)},_createContainer:function(W){var U=this.render(),X=U.find(W),V;if(!X.length&&U.is(W)){if(U.is(W)){X=U}else{throw new Error("can't find a container with the specified "+W+" selector")}}V=new G(X);V.bind("accepted",function(Y){Y.view.render(X)});return V}});var K=L.extend({attach:function(U,V){U.element.find(V).replaceWith(this.render())},detach:function(){}});var B=/^(\w+)(:(\w+))?( (\w+))?$/;function S(V){if(!V){return{}}var U=V.match(B)||[];return{type:U[1],direction:U[3],reverse:U[5]==="reverse"}}var G=I.extend({init:function(U){I.fn.init.call(this);this.container=U;this.history=[];this.view=null;this.running=false},after:function(){this.running=false;this.trigger("complete",{view:this.view});this.trigger("after")},end:function(){this.view.showEnd();this.previous.hideEnd();this.after()},show:function(U,Z,W){if(!U.triggerBeforeShow()||(this.view&&!this.view.triggerBeforeHide())){this.trigger("after");return false}W=W||U.id;var X=this,V=(U===X.view)?U.clone():X.view,c=X.history,b=c[c.length-2]||{},Y=b.id===W,d=Z||(Y?c[c.length-1].transition:U.transition),a=S(d);if(X.running){X.effect.stop()}if(d==="none"){d=null}X.trigger("accepted",{view:U});X.view=U;X.previous=V;X.running=true;if(!Y){c.push({id:W,transition:d})}else{c.pop()}if(!V){U.showStart();U.showEnd();X.after();return true}if(!d||!O.effects.enabled){U.showStart();X.end()}else{U.element.addClass("k-fx-hidden");U.showStart();if(Y&&!Z){a.reverse=!a.reverse}X.effect=O.fx(U.element).replace(V.element,a.type).beforeTransition(function(){U.beforeTransition("show");V.beforeTransition("hide")}).afterTransition(function(){U.afterTransition("show");V.afterTransition("hide")}).direction(a.direction).setReverse(a.reverse);X.effect.run().then(function(){X.end()})}return true}});O.ViewContainer=G;O.Fragment=K;O.Layout=H;O.View=L;O.ViewClone=M})(window.kendo.jQuery);(function(C){function F(){this.node=null}F.prototype={remove:function(){this.node.parentNode.removeChild(this.node)},attr:{}};function G(){}G.prototype={nodeName:"#null",attr:{style:{}},children:[],remove:function(){}};var K=new G();function A(N,M,L){this.nodeName=N;this.attr=M||{};this.children=L||[]}A.prototype=new F();A.prototype.appendTo=function(N){var L=document.createElement(this.nodeName);var O=this.children;for(var M=0;M<O.length;M++){O[M].render(L,K)}N.appendChild(L);return L};A.prototype.render=function(S,R){var P;if(R.nodeName!==this.nodeName){R.remove();P=this.appendTo(S)}else{P=R.node;var M;var N=this.children;var O=N.length;var L=R.children;var Q=L.length;if(Math.abs(Q-O)>2){this.render({appendChild:function(T){S.replaceChild(T,R.node)}},K);return}for(M=0;M<O;M++){N[M].render(P,L[M]||K)}for(M=O;M<Q;M++){L[M].remove()}}this.node=P;this.syncAttributes(R.attr);this.removeAttributes(R.attr)};A.prototype.syncAttributes=function(M){var P=this.attr;for(var N in P){var O=P[N];var L=M[N];if(N==="style"){this.setStyle(O,L)}else{if(O!==L){this.setAttribute(N,O,L)}}}};A.prototype.setStyle=function(O,N){var M=this.node;var L;if(N){for(L in O){if(O[L]!==N[L]){M.style[L]=O[L]}}}else{for(L in O){M.style[L]=O[L]}}};A.prototype.removeStyle=function(M){var O=this.attr.style||{};var N=this.node;for(var L in M){if(O[L]===undefined){N.style[L]=""}}};A.prototype.removeAttributes=function(L){var N=this.attr;for(var M in L){if(M==="style"){this.removeStyle(L.style)}else{if(N[M]===undefined){this.removeAttribute(M)}}}};A.prototype.removeAttribute=function(M){var L=this.node;if(M==="style"){L.style.cssText=""}else{if(M==="className"){L.className=""}else{L.removeAttribute(M)}}};A.prototype.setAttribute=function(N,O,M){var L=this.node;if(L[N]!==undefined){L[N]=O}else{L.setAttribute(N,O)}};function E(L){this.nodeValue=L}E.prototype=new F();E.prototype.nodeName="#text";E.prototype.render=function(N,M){var L;if(M.nodeName!==this.nodeName){M.remove();L=document.createTextNode(this.nodeValue);N.appendChild(L)}else{L=M.node;if(this.nodeValue!==M.nodeValue){L.nodeValue=this.nodeValue}}this.node=L};function I(L){this.html=L}I.prototype={nodeName:"#html",attr:{},remove:function(){for(var L=0;L<this.nodes.length;L++){this.nodes[L].parentNode.removeChild(this.nodes[L])}},render:function(O,N){if(N.nodeName!==this.nodeName||N.html!==this.html){N.remove();var M=O.lastChild;O.insertAdjacentHTML("beforeend",this.html);this.nodes=[];for(var L=M?M.nextSibling:O.firstChild;L;L=L.nextSibling){this.nodes.push(L)}}else{this.nodes=N.nodes.slice(0)}}};function J(L){return new I(L)}function B(N,M,L){return new A(N,M,L)}function H(L){return new E(L)}function D(L){this.root=L;this.children=[]}D.prototype={html:J,element:B,text:H,render:function(O){var M=this.children;var N;var L;for(N=0,L=O.length;N<L;N++){O[N].render(this.root,M[N]||K)}for(N=L;N<M.length;N++){M[N].remove()}this.children=O}};C.dom={html:J,text:H,element:B,Tree:D}})(window.kendo);(function(O,M){var C='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>';var N=M.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>${creator}</dc:creator><cp:lastModifiedBy>${lastModifiedBy}</cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">${created}</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">${modified}</dcterms:modified></cp:coreProperties>');var T=M.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>${sheets.length}</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="${sheets.length}" baseType="lpstr"># for (var idx = 0; idx < sheets.length; idx++) { ## if (sheets[idx].options.title) { #<vt:lpstr>${sheets[idx].options.title}</vt:lpstr># } else { #<vt:lpstr>Sheet${idx+1}</vt:lpstr># } ## } #</vt:vector></TitlesOfParts><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>14.0300</AppVersion></Properties>');var L=M.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="xml" ContentType="application/xml" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/># for (var idx = 1; idx <= count; idx++) { #<Override PartName="/xl/worksheets/sheet${idx}.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /># } #<Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml" /><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" /></Types>');var J=M.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="9303" /><workbookPr defaultThemeVersion="124226" /><bookViews><workbookView xWindow="240" yWindow="45" windowWidth="18195" windowHeight="7995" /></bookViews><sheets># for (var idx = 0; idx < sheets.length; idx++) { ## if (sheets[idx].options.title) { #<sheet name="${sheets[idx].options.title}" sheetId="${idx+1}" r:id="rId${idx+1}" /># } else { #<sheet name="Sheet${idx+1}" sheetId="${idx+1}" r:id="rId${idx+1}" /># } ## } #</sheets># if (definedNames.length) { #<definedNames> # for (var di = 0; di < definedNames.length; di++) { #<definedName name="_xlnm._FilterDatabase" hidden="1" localSheetId="${definedNames[di].localSheetId}">${definedNames[di].name}!$${definedNames[di].from}:$${definedNames[di].to}</definedName> # } #</definedNames># } #<calcPr calcId="145621" /></workbook>');var G=M.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" mc:Ignorable="x14ac"><dimension ref="A1" /><sheetViews><sheetView #if(index==0) {# tabSelected="1" #}# workbookViewId="0"># if (freezePane) { #<pane state="frozen"# if (freezePane.colSplit) { # xSplit="${freezePane.colSplit}"# } ## if (freezePane.rowSplit) { # ySplit="${freezePane.rowSplit}"# } # topLeftCell="${String.fromCharCode(65 + (freezePane.colSplit || 0))}${(freezePane.rowSplit || 0)+1}"/># } #</sheetView></sheetViews><sheetFormatPr defaultRowHeight="15" x14ac:dyDescent="0.25" /># if (columns) { #<cols># for (var ci = 0; ci < columns.length; ci++) { ## var column = columns[ci]; ## if (column.width) { #<col min="${ci+1}" max="${ci+1}" customWidth="1"# if (column.autoWidth) { # width="${((column.width*7+5)/7*256)/256}" bestFit="1"# } else { # width="${(((column.width)/7)*100+0.5)/100}" # } #/># } ## } #</cols># } #<sheetData># for (var ri = 0; ri < data.length; ri++) { ## var row = data[ri]; #<row r="#=ri + 1#"># for (var ci = 0; ci < row.data.length; ci++) { ## var cell = row.data[ci];#<c r="#=cell.ref#"# if (cell.style) { # s="#=cell.style#" # } ## if (cell.type) { # t="#=cell.type#"# } #># if (cell.value != null) { #<v>${cell.value}</v># } #</c># } #</row># } #</sheetData># if (filter) { #<autoFilter ref="${filter.from}:${filter.to}"/># } ## if (mergeCells.length) { #<mergeCells count="${mergeCells.length}"># for (var ci = 0; ci < mergeCells.length; ci++) { #<mergeCell ref="${mergeCells[ci]}"/># } #</mergeCells># } #<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" /></worksheet>');var P=M.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"># for (var idx = 1; idx <= count; idx++) { #<Relationship Id="rId${idx}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet${idx}.xml" /># } #<Relationship Id="rId${count+1}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml" /><Relationship Id="rId${count+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" /></Relationships>');var I=M.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${count}" uniqueCount="${uniqueCount}"># for (var index in indexes) { #<si><t>${index.substring(1)}</t></si># } #</sst>');var H=M.template('<?xml version="1.0" encoding="UTF-8"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="${formats.length}"># for (var fi = 0; fi < formats.length; fi++) { ## var format = formats[fi]; #<numFmt formatCode="${format.format}" numFmtId="${165+fi}" /># } #</numFmts><fonts count="${fonts.length+1}" x14ac:knownFonts="1"><font><sz val="11" /><color theme="1" /><name val="Calibri" /><family val="2" /><scheme val="minor" /></font># for (var fi = 0; fi < fonts.length; fi++) { ## var font = fonts[fi]; #<font># if (font.bold) { #<b/># } ## if (font.italic) { #<i/># } ## if (font.underline) { #<u/># } ## if (font.color) { #<color rgb="${font.color}" /># } else { #<color theme="1" /># } ## if (font.fontSize) { #<sz val="${font.fontSize}" /># } else { #<sz val="11" /># } ## if (font.fontName) { #<name val="${font.fontName}" /># } else { #<name val="Calibri" /><scheme val="minor" /># } #<family val="2" /></font># } #</fonts><fills count="${fills.length+1}"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill># for (var fi = 0; fi < fills.length; fi++) { ## var fill = fills[fi]; ## if (fill.background) { #<fill><patternFill patternType="solid"><fgColor rgb="${fill.background}"/></patternFill></fill># } ## } #</fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellXfs count="${styles.length+1}"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/># for (var si = 0; si < styles.length; si++) { ## var style = styles[si]; #<xf xfid="0"# if (style.fontId) { # fontId="${style.fontId}" applyFont="1"# } ## if (style.fillId) { # fillId="${style.fillId}" applyFill="1"# } ## if (style.numFmtId) { # numFmtId="${style.numFmtId}" applyNumberFormat="1"# } ## if (style.hAlign || style.vAlign || style.wrap) { # applyAlignment="1"# } #># if (style.hAlign || style.vAlign || style.wrap) { #<alignment# if (style.hAlign) { # horizontal="${style.hAlign}"# } ## if (style.vAlign) { # vertical="${style.vAlign}"# } ## if (style.wrap) { # wrapText="1"# } #/># } #</xf># } #</cellXfs><dxfs count="0" /><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleMedium9" /></styleSheet>');function E(U){var V=Math.floor(U/26)-1;return(V>=0?E(V):"")+String.fromCharCode(65+(U%26))}function S(U,V){return E(V)+(U+1)}function B(U,V){return E(V)+"$"+(U+1)}function F(U){return((U.freezePane||{}).rowSplit||1)-1}var D=M.timezone.remove(new Date(1900,0,0),"Etc/UTC");var K=M.Class.extend({init:function(V,U,W){this.options=V;this._strings=U;this._styles=W;this._mergeCells=[]},toXML:function(Y){var W=this.options.rows||[];var X=this.options.filter;var U={};this._maxCellIndex=0;var Z=[];for(var V=0;V<W.length;V++){Z.push(this._row(W,U,W[V],V))}return G({freezePane:this.options.freezePane,columns:this.options.columns,data:Z,index:Y,mergeCells:this._mergeCells,filter:X?{from:S(F(this.options),X.from),to:S(F(this.options),X.to)}:null})},_row:function(U,c,b,V){if(this._cellIndex&&this._cellIndex>this._maxCellIndex){this._maxCellIndex=this._cellIndex}this._cellIndex=0;var d;var X=[];var W=b.cells;for(var Z=0,a=W.length;Z<a;Z++){d=this._cell(W[Z],c,V);if(d){X.push.apply(X,d)}}var Y;while(this._cellIndex<this._maxCellIndex){Y=c[this._cellIndex];if(Y){Y.rowSpan-=1}X.push({ref:S(V,this._cellIndex)});this._cellIndex++}return{data:X}},_lookupString:function(W){var U="$"+W;var V=this._strings.indexes[U];if(V!==undefined){W=V}else{W=this._strings.indexes[U]=this._strings.uniqueCount;this._strings.uniqueCount++}this._strings.count++;return W},_lookupStyle:function(V){var U=M.stringify(V);if(U=="{}"){return 0}var W=O.inArray(U,this._styles);if(W<0){W=this._styles.push(U)-1}return W+1},_cell:function(W,f,U){if(!W){this._cellIndex++;return}var a=W.value;var b={bold:W.bold,color:W.color,background:W.background,italic:W.italic,underline:W.underline,fontName:W.fontName,fontSize:W.fontSize,format:W.format,hAlign:W.hAlign,vAlign:W.vAlign,wrap:W.wrap};var Y=this.options.columns||[];var V=Y[this._cellIndex];if(V&&V.autoWidth){V.width=Math.max(V.width||0,(""+a).length)}var g=typeof a;if(g==="string"){a=this._lookupString(a);g="s"}else{if(g==="number"){g="n"}else{if(g==="boolean"){g="b";a=+a}else{if(a&&a.getTime){g=null;a=(M.timezone.remove(a,"Etc/UTC")-D)/M.date.MS_PER_DAY+1;if(!b.format){b.format="mm-dd-yy"}}else{g=null;a=""}}}}b=this._lookupStyle(b);var j=[];var h,d;var X=f[this._cellIndex]||{};while(X.rowSpan>1){X.rowSpan-=1;h=X.colSpan;while(h>0){j.push({ref:S(U,this._cellIndex)});h--;this._cellIndex++}X=f[this._cellIndex]||{}}d=S(U,this._cellIndex);j.push({value:a,type:g,style:b,ref:d});var Z=W.colSpan||1;var e=W.rowSpan||1;if(Z>1||e>1){if(e>1){f[this._cellIndex]={colSpan:Z,rowSpan:e}}for(var c=1;c<Z;c++){this._cellIndex++;j.push({ref:S(U,this._cellIndex)})}this._mergeCells.push(d+":"+S(U+e-1,this._cellIndex))}this._cellIndex++;return j}});var R={"General":0,"0":1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49,"[$-404]e/m/d":27,"m/d/yy":30,"t0":59,"t0.00":60,"t#,##0":61,"t#,##0.00":62,"t0%":67,"t0.00%":68,"t# ?/?":69,"t# ??/??":70};function A(U){if(U.length<6){U=U.replace(/(\w)/g,function(W,V){return V+V})}U=U.substring(1).toUpperCase();if(U.length<8){U="FF"+U}return U}var Q=M.Class.extend({init:function(U){this.options=U||{};this._strings={indexes:{},count:0,uniqueCount:0};this._styles=[];this._sheets=O.map(this.options.sheets||[],O.proxy(function(V){return new K(V,this._strings,this._styles)},this))},toDataURL:function(){if(typeof JSZip==="undefined"){throw new Error("JSZip not found. Check http://docs.telerik.com/kendo-ui/framework/excel/introduction#requirements for more details.")}var U=new JSZip();var h=U.folder("docProps");h.file("core.xml",N({creator:this.options.creator||"Kendo UI",lastModifiedBy:this.options.creator||"Kendo UI",created:this.options.date||new Date().toJSON(),modified:this.options.date||new Date().toJSON()}));var a=this._sheets.length;h.file("app.xml",T({sheets:this._sheets}));var f=U.folder("_rels");f.file(".rels",C);var Y=U.folder("xl");var V=Y.folder("_rels");V.file("workbook.xml.rels",P({count:a}));Y.file("workbook.xml",J({sheets:this._sheets,definedNames:O.map(this._sheets,function(k,m){var j=k.options;var l=j.filter;if(l){return{localSheetId:m,name:(j.title||"Sheet"+(m+1)),from:B(F(j),l.from),to:B(F(j),l.to)}}})}));var Z=Y.folder("worksheets");var X=new Date();for(var b=0;b<a;b++){Z.file(M.format("sheet{0}.xml",b+1),this._sheets[b].toXML(b))}var W=O.map(this._styles,O.parseJSON);var d=function(j){return j.underline||j.bold||j.italic||j.color||j.fontName||j.fontSize};var c=O.map(W,function(j){if(j.color){j.color=A(j.color)}if(d(j)){return j}});var g=O.map(W,function(j){if(j.format&&R[j.format]===undefined){return j}});var e=O.map(W,function(j){if(j.background){j.background=A(j.background);return j}});Y.file("styles.xml",H({fonts:c,fills:e,formats:g,styles:O.map(W,function(k){var j={};if(d(k)){j.fontId=O.inArray(k,c)+1}if(k.background){j.fillId=O.inArray(k,e)+2}j.hAlign=k.hAlign;j.vAlign=k.vAlign;j.wrap=k.wrap;if(k.format){if(R[k.format]!==undefined){j.numFmtId=R[k.format]}else{j.numFmtId=165+O.inArray(k,g)}}return j})}));Y.file("sharedStrings.xml",I(this._strings));U.file("[Content_Types].xml",L({count:a}));return"data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,"+U.generate({compression:"DEFLATE"})}});M.ooxml={Workbook:Q,Worksheet:K}})(kendo.jQuery,kendo);(function(B,A){A.ExcelExporter=A.Class.extend({init:function(D){D.columns=this._trimColumns(D.columns||[]);this.allColumns=B.map(this._leafColumns(D.columns||[]),this._prepareColumn);this.columns=B.grep(this.allColumns,function(F){return !F.hidden});this.options=D;var C=D.dataSource;if(C instanceof A.data.DataSource){this.dataSource=new C.constructor(B.extend({},C.options,{page:D.allPages?0:C.page(),filter:C.filter(),pageSize:D.allPages?C.total():C.pageSize(),sort:C.sort(),group:C.group(),aggregate:C.aggregate()}));var E=C.data();if(E.length>0){this.dataSource._data=E}}else{this.dataSource=A.data.DataSource.create(C)}},_trimColumns:function(D){var C=this;return B.grep(D,function(F){var E=!(!F.field);if(!E&&F.columns){E=C._trimColumns(F.columns).length>0}return E})},_leafColumns:function(E){var C=[];for(var D=0;D<E.length;D++){if(!E[D].columns){C.push(E[D]);continue}C=C.concat(this._leafColumns(E[D].columns))}return C},workbook:function(){return B.Deferred(B.proxy(function(C){this.dataSource.fetch().then(B.proxy(function(){var D={sheets:[{columns:this._columns(),rows:this._rows(),freezePane:this._freezePane(),filter:this._filter()}]};C.resolve(D,this.dataSource.view())},this))},this)).promise()},_prepareColumn:function(E){if(!E.field){return}var C=function(F){return F.get(E.field)};var D=null;if(E.values){D={};B.each(E.values,function(F){D[this.value]=this.text});C=function(F){return D[F.get(E.field)]}}return B.extend({},E,{value:C,values:D,groupHeaderTemplate:A.template(E.groupHeaderTemplate||"${title}: ${value}"),groupFooterTemplate:E.groupFooterTemplate?A.template(E.groupFooterTemplate):null,footerTemplate:E.footerTemplate?A.template(E.footerTemplate):null})},_filter:function(){if(!this.options.filterable){return null}var C=this._depth();return{from:C,to:C+this.columns.length-1}},_dataRow:function(O,L,J){if(this._hierarchical()){L=this.dataSource.level(O)+1}var M=[];for(var G=0;G<L;G++){M[G]={background:"#dfdfdf",color:"#333"}}if(J&&O.items){var D=B.grep(this.allColumns,function(P){return P.field==O.field})[0];var K=D&&D.title?D.title:O.field;var C=D?D.groupHeaderTemplate:null;var E=K+": "+O.value;var H=B.extend({title:K,field:O.field,value:D&&D.values?D.values[O.value]:O.value,aggregates:O.aggregates},O.aggregates[O.field]);if(C){E=C(H)}M.push({value:E,background:"#dfdfdf",color:"#333",colSpan:this.columns.length+J-L});var F=this._dataRows(O.items,L+1);F.unshift({type:"group-header",cells:M});return F.concat(this._footer(O))}else{var N=[];for(var I=0;I<this.columns.length;I++){N[I]=this._cell(O,this.columns[I])}if(this._hierarchical()){N[0].colSpan=J-L+1}return[{type:"data",cells:M.concat(N)}]}},_dataRows:function(C,E){var F=this._depth();var G=[];for(var D=0;D<C.length;D++){G.push.apply(G,this._dataRow(C[D],E,F))}return G},_footer:function(D){var E=[];var C=false;var F=B.map(this.columns,B.proxy(function(G){if(G.groupFooterTemplate){C=true;return{background:"#dfdfdf",color:"#333",value:G.groupFooterTemplate(B.extend({},this.dataSource.aggregates(),D.aggregates,D.aggregates[G.field]))}}else{return{background:"#dfdfdf",color:"#333"}}},this));if(C){E.push({type:"group-footer",cells:B.map(new Array(this.dataSource.group().length),function(){return{background:"#dfdfdf",color:"#333"}}).concat(F)})}return E},_isColumnVisible:function(C){return this._visibleColumns([C]).length>0&&(C.field||C.columns)},_visibleColumns:function(D){var C=this;return B.grep(D,function(F){var E=!F.hidden;if(E&&F.columns){E=C._visibleColumns(F.columns).length>0}return E})},_headerRow:function(E,D){var C=B.map(E.cells,function(F){return{background:"#7a7a7a",color:"#fff",value:F.title,colSpan:F.colSpan>1?F.colSpan:1,rowSpan:E.rowSpan>1&&!F.colSpan?E.rowSpan:1}});if(this._hierarchical()){C[0].colSpan=this._depth()+1}return{type:"header",cells:B.map(new Array(D.length),function(){return{background:"#7a7a7a",color:"#fff"}}).concat(C)}},_prependHeaderRows:function(D){var C=this.dataSource.group();var F=[{rowSpan:1,cells:[],index:0}];this._prepareHeaderRows(F,this.options.columns);for(var E=F.length-1;E>=0;E--){D.unshift(this._headerRow(F[E],C))}},_prepareHeaderRows:function(C,E,J,G){var H=G||C[C.length-1];var I=C[H.index+1];var K=0;var D;var L;for(var F=0;F<E.length;F++){D=E[F];if(this._isColumnVisible(D)){L={title:D.title||D.field,colSpan:0};H.cells.push(L);if(D.columns&&D.columns.length){if(!I){I={rowSpan:0,cells:[],index:C.length};C.push(I)}L.colSpan=this._trimColumns(this._visibleColumns(D.columns)).length;this._prepareHeaderRows(C,D.columns,L,I);K+=L.colSpan-1;H.rowSpan=C.length-H.index}}}if(J){J.colSpan+=K}},_rows:function(){var C=this.dataSource.group();var E=this._dataRows(this.dataSource.view(),0);if(this.columns.length){this._prependHeaderRows(E);var D=false;var F=B.map(this.columns,B.proxy(function(H){if(H.footerTemplate){D=true;var G=this.dataSource.aggregates();return{background:"#dfdfdf",color:"#333",value:H.footerTemplate(B.extend({},G,G[H.field]))}}else{return{background:"#dfdfdf",color:"#333"}}},this));if(D){E.push({type:"footer",cells:B.map(new Array(C.length),function(){return{background:"#dfdfdf",color:"#333"}}).concat(F)})}}return E},_headerDepth:function(G){var D=1;var F=0;for(var E=0;E<G.length;E++){if(G[E].columns){var C=this._headerDepth(G[E].columns);if(C>F){F=C}}}return D+F},_freezePane:function(){var D=this._visibleColumns(this.options.columns||[]);var C=this._trimColumns(this._leafColumns(B.grep(D,function(E){return E.locked}))).length;return{rowSplit:this._headerDepth(D),colSplit:C?C+this.dataSource.group().length:0}},_cell:function(C,D){return{value:D.value(C)}},_hierarchical:function(){return this.options.hierarchy&&this.dataSource.level},_depth:function(){var E=this.dataSource;var G=0;var F,C,D;if(this._hierarchical()){F=E.view();for(C=0;C<F.length;C++){D=E.level(F[C]);if(D>G){G=D}}G++}else{G=E.group().length}return G},_columns:function(){var C=this._depth();var D=B.map(new Array(C),function(){return{width:20}});return D.concat(B.map(this.columns,function(E){return{width:parseInt(E.width,10),autoWidth:E.width?false:true}}))}});A.ExcelMixin={extend:function(C){C.events.push("excelExport");C.options.excel=B.extend(C.options.excel,this.options);C.saveAsExcel=this.saveAsExcel},options:{proxyURL:"",allPages:false,filterable:false,fileName:"Export.xlsx"},saveAsExcel:function(){var C=this.options.excel||{};var D=new A.ExcelExporter({columns:this.columns,dataSource:this.dataSource,allPages:C.allPages,filterable:C.filterable,hierarchy:C.hierarchy});D.workbook().then(B.proxy(function(G,F){if(!this.trigger("excelExport",{workbook:G,data:F})){var E=new A.ooxml.Workbook(G);A.saveAs({dataURI:E.toDataURL(),fileName:G.fileName||C.fileName,proxyURL:C.proxyURL,forceProxy:C.forceProxy})}},this))}}})(kendo.jQuery,kendo);(function(B){var A=kendo.data.RemoteTransport.extend({init:function(D){var F=D&&D.signalr?D.signalr:{};var C=F.promise;if(!C){throw new Error('The "promise" option must be set.')}if(typeof C.done!="function"||typeof C.fail!="function"){throw new Error('The "promise" option must be a Promise.')}this.promise=C;var E=F.hub;if(!E){throw new Error('The "hub" option must be set.')}if(typeof E.on!="function"||typeof E.invoke!="function"){throw new Error('The "hub" option is not a valid SignalR hub proxy.')}this.hub=E;kendo.data.RemoteTransport.fn.init.call(this,D)},push:function(D){var C=this.options.signalr.client||{};if(C.create){this.hub.on(C.create,D.pushCreate)}if(C.update){this.hub.on(C.update,D.pushUpdate)}if(C.destroy){this.hub.on(C.destroy,D.pushDestroy)}},_crud:function(E,C){var F=this.hub;var G=this.options.signalr.server;if(!G||!G[C]){throw new Error(kendo.format('The "server.{0}" option must be set.',C))}var H=[G[C]];var D=this.parameterMap(E.data,C);if(!B.isEmptyObject(D)){H.push(D)}this.promise.done(function(){F.invoke.apply(F,H).done(E.success).fail(E.error)})},read:function(C){this._crud(C,"read")},create:function(C){this._crud(C,"create")},update:function(C){this._crud(C,"update")},destroy:function(C){this._crud(C,"destroy")}});B.extend(true,kendo.data,{transports:{signalr:A}})})(window.kendo.jQuery);(function(J,C,E){var D=function(P){var N=this,S=D.formats,M,O,R,Q,T;if(arguments.length===1){P=N.resolveColor(P);for(Q=0;Q<S.length;Q++){M=S[Q].re;O=S[Q].process;R=M.exec(P);if(R){T=O(R);N.r=T[0];N.g=T[1];N.b=T[2]}}}else{N.r=arguments[0];N.g=arguments[1];N.b=arguments[2]}N.r=N.normalizeByte(N.r);N.g=N.normalizeByte(N.g);N.b=N.normalizeByte(N.b)};D.prototype={toHex:function(){var Q=this,O=Q.padDigit,N=Q.r.toString(16),M=Q.g.toString(16),P=Q.b.toString(16);return"#"+O(N)+O(M)+O(P)},resolveColor:function(M){M=M||"black";if(M.charAt(0)=="#"){M=M.substr(1,6)}M=M.replace(/ /g,"");M=M.toLowerCase();M=D.namedColors[M]||M;return M},normalizeByte:function(M){return(M<0||isNaN(M))?0:((M>255)?255:M)},padDigit:function(M){return(M.length===1)?"0"+M:M},brightness:function(N){var O=this,M=Math.round;O.r=M(O.normalizeByte(O.r*N));O.g=M(O.normalizeByte(O.g*N));O.b=M(O.normalizeByte(O.b*N));return O},percBrightness:function(){var M=this;return Math.sqrt(0.241*M.r*M.r+0.691*M.g*M.g+0.068*M.b*M.b)}};D.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(M){return[E(M[1],10),E(M[2],10),E(M[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(M){return[E(M[1],16),E(M[2],16),E(M[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(M){return[E(M[1]+M[1],16),E(M[2]+M[2],16),E(M[3]+M[3],16)]}}];D.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};var B=["transparent"];for(var G in D.namedColors){if(D.namedColors.hasOwnProperty(G)){B.push(G)}}B=new RegExp("^("+B.join("|")+")(\\W|$)","i");function F(P,M){var N,O;if(P==null||P=="none"){return null}if(P instanceof A){return P}P=P.toLowerCase();if((N=B.exec(P))){if(N[1]=="transparent"){P=new I(1,1,1,0)}else{P=F(D.namedColors[N[1]],M)}P.match=[N[1]];return P}if((N=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(P))){O=new L(E(N[1],16),E(N[2],16),E(N[3],16),1)}else{if((N=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(P))){O=new L(E(N[1]+N[1],16),E(N[2]+N[2],16),E(N[3]+N[3],16),1)}else{if((N=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(P))){O=new L(E(N[1],10),E(N[2],10),E(N[3],10),1)}else{if((N=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(P))){O=new L(E(N[1],10),E(N[2],10),E(N[3],10),C(N[4]))}else{if((N=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(P))){O=new I(C(N[1])/100,C(N[2])/100,C(N[3])/100,1)}else{if((N=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(P))){O=new I(C(N[1])/100,C(N[2])/100,C(N[3])/100,C(N[4]))}}}}}}if(O){O.match=N}else{if(!M){throw new Error("Cannot parse color: "+P)}}return O}function H(M,N,O){if(!O){O="0"}M=M.toString(16);while(N>M.length){M="0"+M}return M}var A=kendo.Class.extend({toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var M=this.toBytes();return"rgba("+M.r+", "+M.g+", "+M.b+", "+C((+this.a).toFixed(3))+")"},toDisplay:function(){if(kendo.support.browser.msie&&kendo.support.browser.version<9){return this.toCss()}return this.toCssRgba()},equals:function(M){return M===this||M!==null&&this.toCssRgba()==F(M).toCssRgba()},diff:function(M){if(M==null){return NaN}var N=this.toBytes();M=M.toBytes();return Math.sqrt(Math.pow((N.r-M.r)*0.3,2)+Math.pow((N.g-M.g)*0.59,2)+Math.pow((N.b-M.b)*0.11,2))},clone:function(){var M=this.toBytes();if(M===this){M=new L(M.r,M.g,M.b,M.a)}return M}});var I=A.extend({init:function(N,M,O,P){this.r=N;this.g=M;this.b=O;this.a=P},toHSV:function(){var U,P,S,Q,N,O;var M=this.r,T=this.g,R=this.b;U=Math.min(M,T,R);P=Math.max(M,T,R);O=P;S=P-U;if(S===0){return new K(0,0,O,this.a)}if(P!==0){N=S/P;if(M==P){Q=(T-R)/S}else{if(T==P){Q=2+(R-M)/S}else{Q=4+(M-T)/S}}Q*=60;if(Q<0){Q+=360}}else{N=0;Q=-1}return new K(Q,N,O,this.a)},toBytes:function(){return new L(this.r*255,this.g*255,this.b*255,this.a)}});var L=I.extend({init:function(N,M,O,P){this.r=Math.round(N);this.g=Math.round(M);this.b=Math.round(O);this.a=P},toRGB:function(){return new I(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHex:function(){return H(this.r,2)+H(this.g,2)+H(this.b,2)},toBytes:function(){return this}});var K=A.extend({init:function(M,N,O,P){this.h=M;this.s=N;this.v=O;this.a=P},toRGB:function(){var S=this.h,N=this.s,Q=this.v;var T,M,W,U,V,O,P,R;if(N===0){M=W=U=Q}else{S/=60;T=Math.floor(S);V=S-T;O=Q*(1-N);P=Q*(1-N*V);R=Q*(1-N*(1-V));switch(T){case 0:M=Q;W=R;U=O;break;case 1:M=P;W=Q;U=O;break;case 2:M=O;W=Q;U=R;break;case 3:M=O;W=P;U=Q;break;case 4:M=R;W=O;U=Q;break;default:M=Q;W=O;U=P;break}}return new I(M,W,U,this.a)},toBytes:function(){return this.toRGB().toBytes()}});D.fromBytes=function(N,M,O,P){return new L(N,M,O,P!=null?P:1)};D.fromRGB=function(N,M,O,P){return new I(N,M,O,P!=null?P:1)};D.fromHSV=function(M,N,O,P){return new K(M,N,O,P!=null?P:1)};kendo.Color=D;kendo.parseColor=F})(window.kendo.jQuery,parseFloat,parseInt);(function(b){var f=Math,V=window.kendo,q=V.deepExtend,m=V.dataviz;var N=f.PI/180,k=Number.MAX_VALUE,T=-Number.MAX_VALUE,d="undefined",Q=b.inArray,Y=[].push,K=[].pop,I=[].splice,r=[].shift,U=[].slice,s=[].unshift;function A(t){return typeof t!==d}function p(v,u){var t=L(u);return f.round(v*t)/t}function L(t){if(t){return f.pow(10,t)}else{return 1}}function P(u,t,v){return f.max(f.min(u,v),t)}function j(t){return t*N}function l(t){return t/N}function H(t){return typeof t==="number"&&!isNaN(t)}function D(u,t){return A(u)?u:t}function W(t){return t*t}function M(v){var t=[];for(var u in v){t.push(u+v[u])}return t.sort().join("")}function n(v){var u=2166136261;for(var t=0;t<v.length;++t){u+=(u<<1)+(u<<4)+(u<<7)+(u<<8)+(u<<24);u^=v.charCodeAt(t)}return u>>>0}function a(t){return n(M(t))}var h=Date.now;if(!h){h=function(){return new Date().getTime()}}function o(w){var u=w.length,v,t=k,x=T;for(v=0;v<u;v++){x=f.max(x,w[v]);t=f.min(t,w[v])}return{min:t,max:x}}function J(t){return o(t).min}function F(t){return o(t).max}function X(t){return Z(t).min}function e(t){return Z(t).max}function Z(x){var t=k,y=T;for(var u=0,v=x.length;u<v;u++){var w=x[u];if(w!==null&&isFinite(w)){t=f.min(t,w);y=f.max(y,w)}}return{min:t===k?undefined:t,max:y===T?undefined:y}}function S(t){if(t){return t[t.length-1]}}function O(u,t){u.push.apply(u,t);return u}function c(t){return V.template(t,{useWithBlock:false,paramName:"d"})}function C(t,u){return(A(u)&&u!==null)?" "+t+"='"+u+"' ":""}function G(u){var v="";for(var t=0;t<u.length;t++){v+=C(u[t][0],u[t][1])}return v}function B(u){var w="";for(var t=0;t<u.length;t++){var v=u[t][1];if(A(v)){w+=u[t][0]+":"+v+";"}}if(w!==""){return w}}function g(t){if(typeof t!=="string"){t+="px"}return t}function R(w){var v=[];if(w){var t=V.toHyphens(w).split("-");for(var u=0;u<t.length;u++){v.push("k-pos-"+t[u])}}return v.join(" ")}function E(t){return t===""||t===null||t==="none"||t==="transparent"||!A(t)}q(V,{util:{MAX_NUM:k,MIN_NUM:T,append:O,arrayLimits:o,arrayMin:J,arrayMax:F,defined:A,deg:l,hashKey:n,hashObject:a,isNumber:H,isTransparent:E,last:S,limitValue:P,now:h,objectKey:M,round:p,rad:j,renderAttr:C,renderAllAttr:G,renderPos:R,renderSize:g,renderStyle:B,renderTemplate:c,sparseArrayLimits:Z,sparseArrayMin:X,sparseArrayMax:e,sqr:W,valueOrDefault:D}});V.dataviz.util=V.util})(window.kendo.jQuery);(function(G){var B=window.kendo,A=B.deepExtend,D=String.fromCharCode;var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function F(O){var K="";var L,M,N,I,Q,H,P;var J=0;O=E(O);while(J<O.length){L=O.charCodeAt(J++);M=O.charCodeAt(J++);N=O.charCodeAt(J++);I=L>>2;Q=((L&3)<<4)|(M>>4);H=((M&15)<<2)|(N>>6);P=N&63;if(isNaN(M)){H=P=64}else{if(isNaN(N)){P=64}}K=K+C.charAt(I)+C.charAt(Q)+C.charAt(H)+C.charAt(P)}return K}function E(I){var K="";for(var H=0;H<I.length;H++){var J=I.charCodeAt(H);if(J<128){K+=D(J)}else{if(J<2048){K+=D(192|(J>>>6));K+=D(128|(J&63))}else{if(J<65536){K+=D(224|(J>>>12));K+=D(128|(J>>>6&63));K+=D(128|(J&63))}}}}return K}A(B.util,{encodeBase64:F,encodeUTF8:E})})(window.kendo.jQuery);(function(F){var D=Math,B=window.kendo,A=B.deepExtend,E=F.inArray;var C={observers:function(){this._observers=this._observers||[];return this._observers},addObserver:function(G){if(!this._observers){this._observers=[G]}else{this._observers.push(G)}return this},removeObserver:function(H){var I=this.observers();var G=E(H,I);if(G!=-1){I.splice(G,1)}return this},trigger:function(G,H){var K=this._observers;var J;var I;if(K&&!this._suspended){for(I=0;I<K.length;I++){J=K[I];if(J[G]){J[G](H)}}}return this},optionsChange:function(G){this.trigger("optionsChange",G)},geometryChange:function(G){this.trigger("geometryChange",G)},suspend:function(){this._suspended=(this._suspended||0)+1;return this},resume:function(){this._suspended=D.max((this._suspended||0)-1,0);return this},_observerField:function(H,G){if(this[H]){this[H].removeObserver(this)}this[H]=G;G.addObserver(this)}};A(B,{mixins:{ObserversMixin:C}})})(window.kendo.jQuery);(function(a){var M=Math,g=M.pow,E=a.inArray,Y=window.kendo,K=Y.Class,V=Y.deepExtend,P=Y.mixins.ObserversMixin,U=Y.util,O=U.defined,G=U.rad,S=U.deg,B=U.round;var f=M.PI/2,H=U.MIN_NUM,e=U.MAX_NUM;var Z=K.extend({init:function(h,j){this.x=h||0;this.y=j||0},equals:function(h){return h&&h.x===this.x&&h.y===this.y},clone:function(){return new Z(this.x,this.y)},rotate:function(j,h){return this.transform(I().rotate(j,h))},translate:function(h,j){this.x+=h;this.y+=j;this.geometryChange();return this},translateWith:function(h){return this.translate(h.x,h.y)},move:function(h,j){this.x=this.y=0;return this.translate(h,j)},scale:function(j,h){if(!O(h)){h=j}this.x*=j;this.y*=h;this.geometryChange();return this},scaleCopy:function(j,h){return this.clone().scale(j,h)},transform:function(h){var l=W(h),j=this.x,k=this.y;this.x=l.a*j+l.c*k+l.e;this.y=l.b*j+l.d*k+l.f;this.geometryChange();return this},transformCopy:function(j){var h=this.clone();if(j){h.transform(j)}return h},distanceTo:function(h){var j=this.x-h.x;var k=this.y-h.y;return M.sqrt(j*j+k*k)},round:function(h){this.x=B(this.x,h);this.y=B(this.y,h);this.geometryChange();return this},toArray:function(h){var j=O(h);var k=j?B(this.x,h):this.x;var l=j?B(this.y,h):this.y;return[k,l]}});D(Z.fn,["x","y"]);V(Z.fn,P);Z.fn.toString=function(h,j){var k=this.x,l=this.y;if(O(h)){k=B(k,h);l=B(l,h)}j=j||" ";return k+j+l};Z.create=function(j,h){if(O(j)){if(j instanceof Z){return j}else{if(arguments.length===1&&j.length===2){return new Z(j[0],j[1])}else{return new Z(j,h)}}}};Z.min=function(){var l=U.MAX_NUM;var k=U.MAX_NUM;for(var h=0;h<arguments.length;h++){var j=arguments[h];l=M.min(j.x,l);k=M.min(j.y,k)}return new Z(l,k)};Z.max=function(l,n){var k=U.MIN_NUM;var h=U.MIN_NUM;for(var j=0;j<arguments.length;j++){var m=arguments[j];k=M.max(m.x,k);h=M.max(m.y,h)}return new Z(k,h)};Z.minPoint=function(){return new Z(H,H)};Z.maxPoint=function(){return new Z(e,e)};Z.ZERO=new Z(0,0);var C=K.extend({init:function(j,h){this.width=j||0;this.height=h||0},equals:function(h){return h&&h.width===this.width&&h.height===this.height},clone:function(){return new C(this.width,this.height)},toArray:function(j){var k=O(j);var l=k?B(this.width,j):this.width;var h=k?B(this.height,j):this.height;return[l,h]}});D(C.fn,["width","height"]);V(C.fn,P);C.create=function(j,h){if(O(j)){if(j instanceof C){return j}else{if(arguments.length===1&&j.length===2){return new C(j[0],j[1])}else{return new C(j,h)}}}};C.ZERO=new C(0,0);var c=K.extend({init:function(j,h){this.setOrigin(j||new Z());this.setSize(h||new C())},clone:function(){return new c(this.origin.clone(),this.size.clone())},equals:function(h){return h&&h.origin.equals(this.origin)&&h.size.equals(this.size)},setOrigin:function(h){this._observerField("origin",Z.create(h));this.geometryChange();return this},getOrigin:function(){return this.origin},setSize:function(h){this._observerField("size",C.create(h));this.geometryChange();return this},getSize:function(){return this.size},width:function(){return this.size.width},height:function(){return this.size.height},topLeft:function(){return this.origin.clone()},bottomRight:function(){return this.origin.clone().translate(this.width(),this.height())},topRight:function(){return this.origin.clone().translate(this.width(),0)},bottomLeft:function(){return this.origin.clone().translate(0,this.height())},center:function(){return this.origin.clone().translate(this.width()/2,this.height()/2)},bbox:function(h){var l=this.topLeft().transformCopy(h);var k=this.topRight().transformCopy(h);var j=this.bottomRight().transformCopy(h);var m=this.bottomLeft().transformCopy(h);return c.fromPoints(l,k,j,m)},transformCopy:function(h){return c.fromPoints(this.topLeft().transform(h),this.bottomRight().transform(h))}});V(c.fn,P);c.fromPoints=function(){var k=Z.min.apply(this,arguments);var j=Z.max.apply(this,arguments);var h=new C(j.x-k.x,j.y-k.y);return new c(k,h)};c.union=function(j,h){return c.fromPoints(Z.min(j.topLeft(),h.topLeft()),Z.max(j.bottomRight(),h.bottomRight()))};c.intersect=function(j,h){j={left:j.topLeft().x,top:j.topLeft().y,right:j.bottomRight().x,bottom:j.bottomRight().y};h={left:h.topLeft().x,top:h.topLeft().y,right:h.bottomRight().x,bottom:h.bottomRight().y};if(j.left<=h.right&&h.left<=j.right&&j.top<=h.bottom&&h.top<=j.bottom){return c.fromPoints(new Z(M.max(j.left,h.left),M.max(j.top,h.top)),new Z(M.min(j.right,h.right),M.min(j.bottom,h.bottom)))}};var N=K.extend({init:function(h,j){this.setCenter(h||new Z());this.setRadius(j||0)},setCenter:function(h){this._observerField("center",Z.create(h));this.geometryChange();return this},getCenter:function(){return this.center},equals:function(h){return h&&h.center.equals(this.center)&&h.radius===this.radius},clone:function(){return new N(this.center.clone(),this.radius)},pointAt:function(h){return this._pointAt(G(h))},bbox:function(k){var h=Z.maxPoint();var j=Z.minPoint();var l=Q(this.center,this.radius,this.radius,k);for(var m=0;m<4;m++){var o=this._pointAt(l.x+m*f).transformCopy(k);var n=this._pointAt(l.y+m*f).transformCopy(k);var p=new Z(o.x,n.y);h=Z.min(h,p);j=Z.max(j,p)}return c.fromPoints(h,j)},_pointAt:function(k){var j=this.center;var h=this.radius;return new Z(j.x-h*M.cos(k),j.y-h*M.sin(k))}});D(N.fn,["radius"]);V(N.fn,P);var T=K.extend({init:function(j,h){this.setCenter(j||new Z());h=h||{};this.radiusX=h.radiusX;this.radiusY=h.radiusY||h.radiusX;this.startAngle=h.startAngle;this.endAngle=h.endAngle;this.anticlockwise=h.anticlockwise||false},clone:function(){return new T(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})},setCenter:function(h){this._observerField("center",Z.create(h));this.geometryChange();return this},getCenter:function(){return this.center},MAX_INTERVAL:45,pointAt:function(k){var h=this.center;var j=G(k);return new Z(h.x+this.radiusX*M.cos(j),h.y+this.radiusY*M.sin(j))},curvePoints:function(){var t=this.startAngle;var h=this.endAngle;var j=this.anticlockwise?-1:1;var s=[this.pointAt(t)];var m=t;var p=this._arcInterval();var n=p.endAngle-p.startAngle;var r=M.ceil(n/this.MAX_INTERVAL);var l=n/r;for(var o=1;o<=r;o++){var k=m+j*l;var q=this._intervalCurvePoints(m,k);s.push(q.cp1,q.cp2,q.p2);m=k}return s},bbox:function(o){var n=this;var r=n._arcInterval();var x=r.startAngle;var h=r.endAngle;var m=Q(this.center,this.radiusX,this.radiusY,o);var l=S(m.x);var k=S(m.y);var u=n.pointAt(x).transformCopy(o);var t=n.pointAt(h).transformCopy(o);var j=Z.min(u,t);var v=Z.max(u,t);var w=X(l,x);var s=X(k,x);while(w<h||s<h){var q;if(w<h){q=n.pointAt(w).transformCopy(o);w+=90}var p;if(s<h){p=n.pointAt(s).transformCopy(o);s+=90}u=new Z(q.x,p.y);j=Z.min(j,u);v=Z.max(v,u)}return c.fromPoints(j,v)},_arcInterval:function(){var l=this.startAngle;var j=this.endAngle;var k=this.anticlockwise;if(k){var h=l;l=j;j=h}if(l>j||(k&&l===j)){j+=360}return{startAngle:l,endAngle:j}},_intervalCurvePoints:function(r,h){var m=this;var n=m.pointAt(r);var o=m.pointAt(h);var j=m._derivativeAt(r);var p=m._derivativeAt(h);var k=(G(h)-G(r))/3;var q=new Z(n.x+k*j.x,n.y+k*j.y);var l=new Z(o.x-k*p.x,o.y-k*p.y);return{p1:n,cp1:q,cp2:l,p2:o}},_derivativeAt:function(k){var h=this;var j=G(k);return new Z(-h.radiusX*M.sin(j),h.radiusY*M.cos(j))}});D(T.fn,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]);V(T.fn,P);T.fromPoints=function(n,m,j,l,o,k){var h=J(n.x,n.y,m.x,m.y,j,l,o,k);return new T(h.center,{startAngle:h.startAngle,endAngle:h.endAngle,radiusX:j,radiusY:l,anticlockwise:k===0})};var R=K.extend({init:function(m,k,l,h,j,n){this.a=m||0;this.b=k||0;this.c=l||0;this.d=h||0;this.e=j||0;this.f=n||0},multiplyCopy:function(h){return new R(this.a*h.a+this.c*h.b,this.b*h.a+this.d*h.b,this.a*h.c+this.c*h.d,this.b*h.c+this.d*h.d,this.a*h.e+this.c*h.f+this.e,this.b*h.e+this.d*h.f+this.f)},invert:function(){var p=this.a,o=this.b;var k=this.c,l=this.d;var j=this.e,m=this.f;var n=p*l-o*k;if(n===0){return null}return new R(l/n,-o/n,-k/n,p/n,(k*m-l*j)/n,(o*j-p*m)/n)},clone:function(){return new R(this.a,this.b,this.c,this.d,this.e,this.f)},equals:function(h){if(!h){return false}return this.a===h.a&&this.b===h.b&&this.c===h.c&&this.d===h.d&&this.e===h.e&&this.f===h.f},round:function(h){this.a=B(this.a,h);this.b=B(this.b,h);this.c=B(this.c,h);this.d=B(this.d,h);this.e=B(this.e,h);this.f=B(this.f,h);return this},toArray:function(j){var k=[this.a,this.b,this.c,this.d,this.e,this.f];if(O(j)){for(var h=0;h<k.length;h++){k[h]=B(k[h],j)}}return k}});R.fn.toString=function(h,j){return this.toArray(h).join(j||",")};R.translate=function(h,j){return new R(1,0,0,1,h,j)};R.unit=function(){return new R(1,0,0,1,0,0)};R.rotate=function(l,j,k){var h=new R();h.a=M.cos(G(l));h.b=M.sin(G(l));h.c=-h.b;h.d=h.a;h.e=(j-j*h.a+k*h.b)||0;h.f=(k-k*h.a-j*h.b)||0;return h};R.scale=function(j,h){return new R(j,0,0,h,0,0)};R.IDENTITY=R.unit();var b=K.extend({init:function(h){this._matrix=h||R.unit()},clone:function(){return new b(this._matrix.clone())},equals:function(h){return h&&h._matrix.equals(this._matrix)},_optionsChange:function(){this.optionsChange({field:"transform",value:this})},translate:function(h,j){this._matrix=this._matrix.multiplyCopy(R.translate(h,j));this._optionsChange();return this},scale:function(j,h,k){if(!O(h)){h=j}if(k){k=Z.create(k);this._matrix=this._matrix.multiplyCopy(R.translate(k.x,k.y))}this._matrix=this._matrix.multiplyCopy(R.scale(j,h));if(k){this._matrix=this._matrix.multiplyCopy(R.translate(-k.x,-k.y))}this._optionsChange();return this},rotate:function(j,h){h=Z.create(h)||Z.ZERO;this._matrix=this._matrix.multiplyCopy(R.rotate(j,h.x,h.y));this._optionsChange();return this},multiply:function(j){var h=W(j);this._matrix=this._matrix.multiplyCopy(h);this._optionsChange();return this},matrix:function(){return this._matrix}});V(b.fn,P);function I(h){if(h===null){return null}if(h instanceof b){return h}return new b(h)}function W(h){if(h&&Y.isFunction(h.matrix)){return h.matrix()}return h}function Q(l,k,m,h){var j=0,n=0;if(h){j=M.atan2(h.c*m,h.a*k);if(h.b!==0){n=M.atan2(h.d*m,h.b*k)}}return{x:j,y:n}}function X(j,h){while(j<h){j+=90}return j}function D(j,m){for(var h=0;h<m.length;h++){var k=m[h];var l=k.charAt(0).toUpperCase()+k.substring(1,k.length);j["set"+l]=L(k);j["get"+l]=d(k)}}function L(h){return function(j){if(this[h]!==j){this[h]=j;this.geometryChange()}return this}}function d(h){return function(){return this[h]}}function F(l,j,h){if(l>j){j+=360}var k=M.abs(j-l);if(!h){k=360-k}return k}function A(l,j,m,n,o,p){var k=B((o-l)/m,3);var h=B((p-j)/n,3);return B(S(M.atan2(h,k)))}function J(Ad,n,Ai,Aj,Ae,r,o,v){var p,Aa;var Ag,Af;var w,t,u,x;if(n!==Aj){var j=Ai-Ad;var Ac=Aj-n;var h=g(Ae,2),y=g(r,2);var q=(y*j*(Ad+Ai)+h*Ac*(n+Aj))/(2*h*Ac);var Ah=q-Aj;var s=-(j*y)/(h*Ac);w=1/h+g(s,2)/y;t=2*((s*Ah)/y-Ai/h);u=g(Ai,2)/h+g(Ah,2)/y-1;x=M.sqrt(g(t,2)-4*w*u);p=(-t-x)/(2*w);Aa=q+s*p;Ag=(-t+x)/(2*w);Af=q+s*Ag}else{if(Ad!==Ai){t=-2*Aj;u=g(((Ai-Ad)*r)/(2*Ae),2)+g(Aj,2)-g(r,2);x=M.sqrt(g(t,2)-4*u);p=Ag=(Ad+Ai)/2;Aa=(-t-x)/2;Af=(-t+x)/2}else{return false}}var m=A(p,Aa,Ae,r,Ad,n);var Ab=A(p,Aa,Ae,r,Ai,Aj);var z=F(m,Ab,v);if((o&&z<=180)||(!o&&z>180)){p=Ag;Aa=Af;m=A(p,Aa,Ae,r,Ad,n);Ab=A(p,Aa,Ae,r,Ai,Aj)}return{center:new Z(p,Aa),startAngle:m,endAngle:Ab}}V(Y,{geometry:{Arc:T,Circle:N,Matrix:R,Point:Z,Rect:c,Size:C,Transformation:b,transform:I,toMatrix:W}});Y.dataviz.geometry=Y.geometry})(window.kendo.jQuery);(function(I){var G=document,H=I.noop,F=Object.prototype.toString,A=window.kendo,B=A.Class,M=A.ui.Widget,N=A.deepExtend,K=A.util,J=K.defined;var D=M.extend({init:function(P,O){this.options=N({},this.options,O);M.fn.init.call(this,P,this.options);this._click=this._handler("click");this._mouseenter=this._handler("mouseenter");this._mouseleave=this._handler("mouseleave");this._visual=new A.drawing.Group();if(this.options.width){this.element.css("width",this.options.width)}if(this.options.height){this.element.css("height",this.options.height)}},options:{name:"Surface"},events:["click","mouseenter","mouseleave","resize"],draw:function(O){this._visual.children.push(O)},clear:function(){this._visual.children=[]},destroy:function(){this._visual=null;M.fn.destroy.call(this)},exportVisual:function(){return this._visual},getSize:function(){return{width:this.element.width(),height:this.element.height()}},setSize:function(O){this.element.css({width:O.width,height:O.height});this._size=O;this._resize()},eventTarget:function(P){var O=I(P.touch?P.touch.initialTouch:P.target);var Q;while(!Q&&O.length>0){Q=O[0]._kendoNode;if(O.is(this.element)||O.length===0){break}O=O.parent()}if(Q){return Q.srcElement}},_resize:H,_handler:function(O){var P=this;return function(Q){var R=P.eventTarget(Q);if(R){P.trigger(O,{element:R,originalEvent:Q})}}}});A.ui.plugin(D);D.create=function(P,O){return C.current.create(P,O)};var E=B.extend({init:function(O){this.childNodes=[];this.parent=null;if(O){this.srcElement=O;this.observe()}},destroy:function(){if(this.srcElement){this.srcElement.removeObserver(this)}var P=this.childNodes;for(var O=0;O<P.length;O++){this.childNodes[O].destroy()}this.parent=null},load:H,observe:function(){if(this.srcElement){this.srcElement.addObserver(this)}},append:function(O){this.childNodes.push(O);O.parent=this},insertAt:function(O,P){this.childNodes.splice(P,0,O);O.parent=this},remove:function(Q,P){var R=Q+P;for(var O=Q;O<R;O++){this.childNodes[O].removeSelf()}this.childNodes.splice(Q,P)},removeSelf:function(){this.clear();this.destroy()},clear:function(){this.remove(0,this.childNodes.length)},invalidate:function(){if(this.parent){this.parent.invalidate()}},geometryChange:function(){this.invalidate()},optionsChange:function(){this.invalidate()},childrenChange:function(O){if(O.action==="add"){this.load(O.items,O.index)}else{if(O.action==="remove"){this.remove(O.index,O.items.length)}}this.invalidate()}});var L=B.extend({init:function(P,O){var Q,R;this.prefix=O||"";for(Q in P){R=P[Q];R=this._wrap(R,Q);this[Q]=R}},get:function(O){return A.getter(O,true)(this)},set:function(R,O){var Q=A.getter(R,true)(this);if(Q!==O){var P=this._set(R,this._wrap(O,R));if(!P){this.optionsChange({field:this.prefix+R,value:O})}}},_set:function(S,O){var Q=S.indexOf(".")>=0;if(Q){var P=S.split("."),T="",R;while(P.length>1){T+=P.shift();R=A.getter(T,true)(this);if(!R){R=new L({},T+".");R.addObserver(this);this[T]=R}if(R instanceof L){R.set(P.join("."),O);return Q}T+="."}}this._clear(S);A.setter(S)(this,O);return Q},_clear:function(P){var O=A.getter(P,true)(this);if(O&&O.removeObserver){O.removeObserver(this)}},_wrap:function(P,Q){var O=F.call(P);if(P!==null&&J(P)&&O==="[object Object]"){if(!(P instanceof L)&&!(P instanceof B)){P=new L(P,this.prefix+Q+".")}P.addObserver(this)}return P}});N(L.fn,A.mixins.ObserversMixin);var C=function(){this._items=[]};C.prototype={register:function(R,O,T){var Q=this._items,S=Q[0],P={name:R,type:O,order:T};if(!S||T<S.order){Q.unshift(P)}else{Q.push(P)}},create:function(S,Q){var R=this._items,P=R[0];if(Q&&Q.type){var T=Q.type.toLowerCase();for(var O=0;O<R.length;O++){if(R[O].name===T){P=R[O];break}}}if(P){return new P.type(S,Q)}A.logToConsole("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG, VML and Canvas. User agent: "+navigator.userAgent+"\n- The Kendo UI scripts are not fully loaded")}};C.current=new C();N(A,{drawing:{DASH_ARRAYS:{dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},Color:A.Color,BaseNode:E,OptionsStore:L,Surface:D,SurfaceFactory:C}});A.dataviz.drawing=A.drawing})(window.kendo.jQuery);(function(G){var C=window.kendo,A=C.deepExtend,F=C.util.defined;var B="gradient";var E={extend:function(H){H.fill=this.fill;H.stroke=this.stroke},fill:function(K,I){var H=this.options;if(F(K)){if(K&&K.nodeType!=B){var J={color:K};if(F(I)){J.opacity=I}H.set("fill",J)}else{H.set("fill",K)}return this}else{return H.get("fill")}},stroke:function(J,I,H){if(F(J)){this.options.set("stroke.color",J);if(F(I)){this.options.set("stroke.width",I)}if(F(H)){this.options.set("stroke.opacity",H)}return this}else{return this.options.get("stroke")}}};var D={extend:function(I,H){I.traverse=function(J){var M=this[H];for(var K=0;K<M.length;K++){var L=M[K];if(L.traverse){L.traverse(J)}else{J(L)}}return this}}};A(C.drawing,{mixins:{Paintable:E,Traversable:D}})})(window.kendo.jQuery);(function(G){var F=document,B=window.kendo,C=B.Class,K=B.deepExtend,H=B.util,J=H.defined;var D=1;var E=C.extend({init:function(L){this._size=L;this._length=0;this._map={}},put:function(L,P){var N=this,M=N._map,O={key:L,value:P};M[L]=O;if(!N._head){N._head=N._tail=O}else{N._tail.newer=O;O.older=N._tail;N._tail=O}if(N._length>=N._size){M[N._head.key]=null;N._head=N._head.newer;N._head.older=null}else{N._length++}},get:function(L){var M=this,N=M._map[L];if(N){if(N===M._head&&N!==M._tail){M._head=N.newer;M._head.older=null}if(N!==M._tail){if(N.older){N.older.newer=N.newer;N.newer.older=N.older}N.older=M._tail;N.newer=null;M._tail.newer=N;M._tail=N}return N.value}}});var A=C.extend({init:function(){this._cache=new E(1000)},measure:function(R,Q){var S=H.objectKey(Q),L=H.hashKey(R+S),O=this._cache.get(L);if(O){return O}var P={width:0,height:0,baseline:0};var U=this._measureBox,T=this._baselineMarker.cloneNode(false);for(var N in Q){var M=Q[N];if(J(M)){U.style[N]=M}}G(U).text(R);U.appendChild(T);F.body.appendChild(U);if((R+"").length){P.width=U.offsetWidth-D;P.height=U.offsetHeight;P.baseline=T.offsetTop+D}this._cache.put(L,P);U.parentNode.removeChild(U);return P}});A.fn._baselineMarker=G("<div class='k-baseline-marker' style='display: inline-block; vertical-align: baseline;width: "+D+"px; height: "+D+"px;overflow: hidden;' />")[0];A.fn._measureBox=G("<div style='position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space:nowrap !important;' />")[0];A.current=new A();function I(L,M){return A.current.measure(L,M)}K(B.drawing,{util:{TextMetrics:A,LRUCache:E,measureText:I}})})(window.kendo.jQuery);(function(s){var f=window.kendo,d=f.Class,Aq=f.deepExtend,Aw=f.geometry,T=Aw.Point,N=Aw.Rect,G=Aw.Size,As=Aw.Matrix,K=Aw.toMatrix,Am=f.drawing,Ai=Am.OptionsStore,Aa=Math,S=Aa.pow,u=f.util,W=u.append,Ao=u.arrayLimits,A=u.defined,Al=u.last,F=u.valueOrDefault,k=f.mixins.ObserversMixin,a=s.inArray,H=[].push,P=[].pop,M=[].splice,At=[].shift,j=[].slice,Au=[].unshift,I=1,Ah="start",t="end",B="horizontal";var x=d.extend({nodeType:"Element",init:function(g){this._initOptions(g)},_initOptions:function(g){g=g||{};var Az=g.transform;var Ay=g.clip;if(Az){g.transform=Aw.transform(Az)}if(Ay&&!Ay.id){Ay.id=z()}this.options=new Ai(g);this.options.addObserver(this)},transform:function(g){if(A(g)){this.options.set("transform",Aw.transform(g))}else{return this.options.get("transform")}},parentTransform:function(){var AA=this,Az,g,Ay;while(AA.parent){AA=AA.parent;Az=AA.transform();if(Az){Ay=Az.matrix().multiplyCopy(Ay||As.unit())}}if(Ay){return Aw.transform(Ay)}},currentTransform:function(AA){var AB=this.transform(),g=K(AB),Ay,Az;if(!A(AA)){AA=this.parentTransform()}Ay=K(AA);if(g&&Ay){Az=Ay.multiplyCopy(g)}else{Az=g||Ay}if(Az){return Aw.transform(Az)}},visible:function(g){if(A(g)){this.options.set("visible",g);return this}else{return this.options.get("visible")!==false}},clip:function(Ay){var g=this.options;if(A(Ay)){if(Ay&&!Ay.id){Ay.id=z()}g.set("clip",Ay);return this}else{return g.get("clip")}},opacity:function(g){if(A(g)){this.options.set("opacity",g);return this}else{return F(this.options.get("opacity"),1)}},clippedBBox:function(Ay){var g=this._clippedBBox(Ay);if(g){var Az=this.clip();return Az?N.intersect(g,Az.bbox(Ay)):g}},_clippedBBox:function(g){return this.bbox(g)}});Aq(x.fn,k);var C=d.extend({init:function(g){g=g||[];this.length=0;this._splice(0,g.length,g)},elements:function(g){if(g){this._splice(0,this.length,g);this._change();return this}else{return this.slice(0)}},push:function(){var g=arguments;var Ay=H.apply(this,g);this._add(g);return Ay},slice:j,pop:function(){var g=this.length;var Ay=P.apply(this);if(g){this._remove([Ay])}return Ay},splice:function(Az,AA){var Ay=j.call(arguments,2);var g=this._splice(Az,AA,Ay);this._change();return g},shift:function(){var g=this.length;var Ay=At.apply(this);if(g){this._remove([Ay])}return Ay},unshift:function(){var g=arguments;var Ay=Au.apply(this,g);this._add(g);return Ay},indexOf:function(AA){var Ay=this;var Az;var g;for(Az=0,g=Ay.length;Az<g;Az++){if(Ay[Az]===AA){return Az}}return -1},_splice:function(Az,AA,Ay){var g=M.apply(this,[Az,AA].concat(Ay));this._clearObserver(g);this._setObserver(Ay);return g},_add:function(g){this._setObserver(g);this._change()},_remove:function(g){this._clearObserver(g);this._change()},_setObserver:function(g){for(var Ay=0;Ay<g.length;Ay++){g[Ay].addObserver(this)}},_clearObserver:function(g){for(var Ay=0;Ay<g.length;Ay++){g[Ay].removeObserver(this)}},_change:function(){}});Aq(C.fn,k);var Ap=x.extend({nodeType:"Group",init:function(g){x.fn.init.call(this,g);this.children=[]},childrenChange:function(g,Az,Ay){this.trigger("childrenChange",{action:g,items:Az,index:Ay})},append:function(){W(this.children,arguments);this._reparent(arguments,this);this.childrenChange("add",arguments);return this},insertAt:function(Ay,g){this.children.splice(g,0,Ay);Ay.parent=this;this.childrenChange("add",[Ay],g);return this},remove:function(Ay){var g=a(Ay,this.children);if(g>=0){this.children.splice(g,1);Ay.parent=null;this.childrenChange("remove",[Ay],g)}return this},removeAt:function(g){if(0<=g&&g<this.children.length){var Ay=this.children[g];this.children.splice(g,1);Ay.parent=null;this.childrenChange("remove",[Ay],g)}return this},clear:function(){var g=this.children;this.children=[];this._reparent(g,null);this.childrenChange("remove",g,0);return this},bbox:function(g){return Aj(this.children,true,this.currentTransform(g))},rawBBox:function(){return Aj(this.children,false)},_clippedBBox:function(g){return c(this.children,this.currentTransform(g))},currentTransform:function(g){return x.fn.currentTransform.call(this,g)||null},_reparent:function(Ay,AB){for(var g=0;g<Ay.length;g++){var Az=Ay[g];var AA=Az.parent;if(AA&&AA!=this&&AA.remove){AA.remove(Az)}Az.parent=AB}}});Am.mixins.Traversable.extend(Ap.fn,"children");var e=x.extend({nodeType:"Text",init:function(Az,Ay,g){x.fn.init.call(this,g);this.content(Az);this.position(Ay||new Aw.Point());if(!this.options.font){this.options.font="12px sans-serif"}if(!A(this.options.fill)){this.fill("#000")}},content:function(g){if(A(g)){this.options.set("content",g);return this}else{return this.options.get("content")}},measure:function(){var g=Am.util.measureText(this.content(),{font:this.options.get("font")});return g},rect:function(){var g=this.measure();var Ay=this.position().clone();return new Aw.Rect(Ay,[g.width,g.height])},bbox:function(g){var Ay=K(this.currentTransform(g));return this.rect().bbox(Ay)},rawBBox:function(){return this.rect().bbox()}});Am.mixins.Paintable.extend(e.fn);Ad(e.fn,["position"]);var J=x.extend({nodeType:"Circle",init:function(Ay,g){x.fn.init.call(this,g);this.geometry(Ay||new Aw.Circle());if(!A(this.options.stroke)){this.stroke("#000")}},bbox:function(Az){var AA=K(this.currentTransform(Az));var Ay=this._geometry.bbox(AA);var g=this.options.get("stroke.width");if(g){E(Ay,g/2)}return Ay},rawBBox:function(){return this._geometry.bbox()}});Am.mixins.Paintable.extend(J.fn);Ae(J.fn,["geometry"]);var L=x.extend({nodeType:"Arc",init:function(Ay,g){x.fn.init.call(this,g);this.geometry(Ay||new Aw.Arc());if(!A(this.options.stroke)){this.stroke("#000")}},bbox:function(Az){var AA=K(this.currentTransform(Az));var Ay=this.geometry().bbox(AA);var g=this.options.get("stroke.width");if(g){E(Ay,g/2)}return Ay},rawBBox:function(){return this.geometry().bbox()},toPath:function(){var Az=new Ax();var Ay=this.geometry().curvePoints();if(Ay.length>0){Az.moveTo(Ay[0].x,Ay[0].y);for(var g=1;g<Ay.length;g+=3){Az.curveTo(Ay[g],Ay[g+1],Ay[g+2])}}return Az}});Am.mixins.Paintable.extend(L.fn);Ae(L.fn,["geometry"]);var Y=C.extend({_change:function(){this.geometryChange()}});var Ar=d.extend({init:function(Az,g,Ay){this.anchor(Az||new T());this.controlIn(g);this.controlOut(Ay)},bboxTo:function(AB,g){var Az;var AA=this.anchor().transformCopy(g);var Ay=AB.anchor().transformCopy(g);if(this.controlOut()&&AB.controlIn()){Az=this._curveBoundingBox(AA,this.controlOut().transformCopy(g),AB.controlIn().transformCopy(g),Ay)}else{Az=this._lineBoundingBox(AA,Ay)}return Az},_lineBoundingBox:function(g,Ay){return N.fromPoints(g,Ay)},_curveBoundingBox:function(AB,AE,AF,AC){var AD=[AB,AE,AF,AC],AA=this._curveExtremesFor(AD,"x"),Az=this._curveExtremesFor(AD,"y"),Ay=Ao([AA.min,AA.max,AB.x,AC.x]),g=Ao([Az.min,Az.max,AB.y,AC.y]);return N.fromPoints(new T(Ay.min,g.min),new T(Ay.max,g.max))},_curveExtremesFor:function(g,Ay){var Az=this._curveExtremes(g[0][Ay],g[1][Ay],g[2][Ay],g[3][Ay]);return{min:this._calculateCurveAt(Az.min,Ay,g),max:this._calculateCurveAt(Az.max,Ay,g)}},_calculateCurveAt:function(Ay,Az,g){var AA=1-Ay;return S(AA,3)*g[0][Az]+3*S(AA,2)*Ay*g[1][Az]+3*S(Ay,2)*AA*g[2][Az]+S(Ay,3)*g[3][Az]},_curveExtremes:function(Az,AB,AD,Ay){var AH=Az-3*AB+3*AD-Ay;var AF=-2*(Az-2*AB+AD);var AG=Az-AB;var AE=Aa.sqrt(AF*AF-4*AH*AG);var AA=0;var g=1;if(AH===0){if(AF!==0){AA=g=-AG/AF}}else{if(!isNaN(AE)){AA=(-AF+AE)/(2*AH);g=(-AF-AE)/(2*AH)}}var AI=Aa.max(Aa.min(AA,g),0);if(AI<0||AI>1){AI=0}var AC=Aa.min(Aa.max(AA,g),1);if(AC>1||AC<0){AC=1}return{min:AI,max:AC}}});Ad(Ar.fn,["anchor","controlIn","controlOut"]);Aq(Ar.fn,k);var Ax=x.extend({nodeType:"Path",init:function(g){x.fn.init.call(this,g);this.segments=new Y();this.segments.addObserver(this);if(!A(this.options.stroke)){this.stroke("#000");if(!A(this.options.stroke.lineJoin)){this.options.set("stroke.lineJoin","miter")}}},moveTo:function(g,Ay){this.suspend();this.segments.elements([]);this.resume();this.lineTo(g,Ay);return this},lineTo:function(Ay,Az){var g=A(Az)?new T(Ay,Az):Ay,AA=new Ar(g);this.segments.push(AA);return this},curveTo:function(AA,Ay,g){if(this.segments.length>0){var AB=Al(this.segments);var Az=new Ar(g,Ay);this.suspend();AB.controlOut(AA);this.resume();this.segments.push(Az)}return this},arc:function(AG,Ay,AC,AB,AE){if(this.segments.length>0){var AD=Al(this.segments);var g=AD.anchor();var Az=u.rad(AG);var AA=new T(g.x-AC*Aa.cos(Az),g.y-AB*Aa.sin(Az));var AF=new Aw.Arc(AA,{startAngle:AG,endAngle:Ay,radiusX:AC,radiusY:AB,anticlockwise:AE});this._addArcSegments(AF)}return this},arcTo:function(Az,AE,AD,AC,Ay){if(this.segments.length>0){var AB=Al(this.segments);var g=AB.anchor();var AA=Aw.Arc.fromPoints(g,Az,AE,AD,AC,Ay);this._addArcSegments(AA)}return this},_addArcSegments:function(g){this.suspend();var Az=g.curvePoints();for(var Ay=1;Ay<Az.length;Ay+=3){this.curveTo(Az[Ay],Az[Ay+1],Az[Ay+2])}this.resume();this.geometryChange()},close:function(){this.options.closed=true;this.geometryChange();return this},bbox:function(Az){var AA=K(this.currentTransform(Az));var g=this._bbox(AA);var Ay=this.options.get("stroke.width");if(Ay){E(g,Ay/2)}return g},rawBBox:function(){return this._bbox()},_bbox:function(g){var AA=this.segments;var Ay=AA.length;var Az;if(Ay===1){var AD=AA[0].anchor().transformCopy(g);Az=new N(AD,G.ZERO)}else{if(Ay>0){for(var AB=1;AB<Ay;AB++){var AC=AA[AB-1].bboxTo(AA[AB],g);if(Az){Az=N.union(Az,AC)}else{Az=AC}}}}return Az}});Am.mixins.Paintable.extend(Ax.fn);Ax.fromRect=function(g,Ay){return new Ax(Ay).moveTo(g.topLeft()).lineTo(g.topRight()).lineTo(g.bottomRight()).lineTo(g.bottomLeft()).close()};Ax.fromPoints=function(AA,Az){if(AA){var AB=new Ax(Az);for(var g=0;g<AA.length;g++){var Ay=T.create(AA[g]);if(Ay){if(g===0){AB.moveTo(Ay)}else{AB.lineTo(Ay)}}}return AB}};Ax.fromArc=function(g,Ay){var AB=new Ax(Ay);var Az=g.startAngle;var AA=g.pointAt(Az);AB.moveTo(AA.x,AA.y);AB.arc(Az,g.endAngle,g.radiusX,g.radiusY,g.anticlockwise);return AB};var U=x.extend({nodeType:"MultiPath",init:function(g){x.fn.init.call(this,g);this.paths=new Y();this.paths.addObserver(this);if(!A(this.options.stroke)){this.stroke("#000")}},moveTo:function(g,Ay){var Az=new Ax();Az.moveTo(g,Ay);this.paths.push(Az);return this},lineTo:function(g,Ay){if(this.paths.length>0){Al(this.paths).lineTo(g,Ay)}return this},curveTo:function(Az,Ay,g){if(this.paths.length>0){Al(this.paths).curveTo(Az,Ay,g)}return this},arc:function(Az,g,AB,AA,Ay){if(this.paths.length>0){Al(this.paths).arc(Az,g,AB,AA,Ay)}return this},arcTo:function(Az,g,Ay,AB,AA){if(this.paths.length>0){Al(this.paths).arcTo(Az,g,Ay,AB,AA)}return this},close:function(){if(this.paths.length>0){Al(this.paths).close()}return this},bbox:function(g){return Aj(this.paths,true,this.currentTransform(g))},rawBBox:function(){return Aj(this.paths,false)},_clippedBBox:function(g){return c(this.paths,this.currentTransform(g))}});Am.mixins.Paintable.extend(U.fn);var Ab=x.extend({nodeType:"Image",init:function(Az,g,Ay){x.fn.init.call(this,Ay);this.src(Az);this.rect(g||new Aw.Rect())},src:function(g){if(A(g)){this.options.set("src",g);return this}else{return this.options.get("src")}},bbox:function(g){var Ay=K(this.currentTransform(g));return this._rect.bbox(Ay)},rawBBox:function(){return this._rect.bbox()}});Ae(Ab.fn,["rect"]);var Z=d.extend({init:function(g,Az,Ay){this.options=new Ai({offset:g,color:Az,opacity:A(Ay)?Ay:1});this.options.addObserver(this)}});q(Z.fn,["offset","color","opacity"]);Aq(Z.fn,k);Z.create=function(g){if(A(g)){var Ay;if(g instanceof Z){Ay=g}else{if(g.length>1){Ay=new Z(g[0],g[1],g[2])}else{Ay=new Z(g.offset,g.color,g.opacity)}}return Ay}};var w=C.extend({_change:function(){this.optionsChange({field:"stops"})}});var Av=d.extend({nodeType:"gradient",init:function(g){this.stops=new w(this._createStops(g.stops));this.stops.addObserver(this);this._userSpace=g.userSpace;this.id=z()},userSpace:function(g){if(A(g)){this._userSpace=g;this.optionsChange();return this}else{return this._userSpace}},_createStops:function(g){var Ay=[];var Az;g=g||[];for(Az=0;Az<g.length;Az++){Ay.push(Z.create(g[Az]))}return Ay},addStop:function(g,Az,Ay){this.stops.push(new Z(g,Az,Ay))},removeStop:function(g){var Ay=this.stops.indexOf(g);if(Ay>=0){this.stops.splice(Ay,1)}}});Aq(Av.fn,k,{optionsChange:function(g){this.trigger("optionsChange",{field:"gradient"+(g?"."+g.field:""),value:this})},geometryChange:function(){this.optionsChange()}});var p=Av.extend({init:function(g){g=g||{};Av.fn.init.call(this,g);this.start(g.start||new T());this.end(g.end||new T(1,0))}});Ad(p.fn,["start","end"]);var b=Av.extend({init:function(g){g=g||{};Av.fn.init.call(this,g);this.center(g.center||new T());this._radius=A(g.radius)?g.radius:1;this._fallbackFill=g.fallbackFill},radius:function(g){if(A(g)){this._radius=g;this.geometryChange();return this}else{return this._radius}},fallbackFill:function(g){if(A(g)){this._fallbackFill=g;this.optionsChange();return this}else{return this._fallbackFill}}});Ad(b.fn,["center"]);var Ag=Ap.extend({init:function(g,Ay){Ap.fn.init.call(this,f.deepExtend({},this._defaults,Ay));this._rect=g;this._fieldMap={}},_defaults:{alignContent:Ah,justifyContent:Ah,alignItems:Ah,spacing:0,orientation:B,lineSpacing:0,wrap:true},rect:function(g){if(g){this._rect=g;return this}else{return this._rect}},_initMap:function(){var Ay=this.options;var g=this._fieldMap;if(Ay.orientation==B){g.sizeField="width";g.groupsSizeField="height";g.groupAxis="x";g.groupsAxis="y"}else{g.sizeField="height";g.groupsSizeField="width";g.groupAxis="y";g.groupsAxis="x"}},reflow:function(){if(!this._rect||this.children.length===0){return}this._initMap();if(this.options.transform){this.transform(null)}var AQ=this.options;var AU=this._fieldMap;var Ay=this._rect;var AV=this._initGroups();var g=AV.groups;var Az=AV.groupsSize;var AS=AU.sizeField;var AJ=AU.groupsSizeField;var AA=AU.groupAxis;var AR=AU.groupsAxis;var AL=n(Az,Ay,AQ.alignContent,AR,AJ);var AK=new T();var AI=new T();var AB=new Aw.Size();var AG,AH,AP,AO,AD;for(var AC=0;AC<g.length;AC++){AO=g[AC];AK[AA]=AG=n(AO.size,Ay,AQ.justifyContent,AA,AS);AK[AR]=AL;AB[AS]=AO.size;AB[AJ]=AO.lineSize;AD=new N(AK,AB);for(var AE=0;AE<AO.bboxes.length;AE++){AP=AO.elements[AE];AH=AO.bboxes[AE];AI[AA]=AG;AI[AR]=n(AH.size[AJ],AD,AQ.alignItems,AR,AJ);O(AI,AH,AP);AG+=AH.size[AS]+AQ.spacing}AL+=AO.lineSize+AQ.lineSpacing}if(!AQ.wrap&&AO.size>Ay.size[AS]){var AM=Ay.size[AS]/AD.size[AS];var AT=AD.topLeft().scale(AM,AM);var AW=AD.size[AJ]*AM;var AF=n(AW,Ay,AQ.alignContent,AR,AJ);var AN=Aw.transform();if(AA==="x"){AN.translate(Ay.origin.x-AT.x,AF-AT.y)}else{AN.translate(AF-AT.x,Ay.origin.y-AT.y)}AN.scale(AM,AM);this.transform(AN)}},_initGroups:function(){var AC=this.options;var AA=this.children;var AH=AC.lineSpacing;var Ay=this._fieldMap.sizeField;var AF=-AH;var AE=[];var AD=this._newGroup();var g=function(){AE.push(AD);AF+=AD.lineSize+AH};var AG,AB;for(var Az=0;Az<AA.length;Az++){AB=AA[Az];AG=AA[Az].clippedBBox();if(AB.visible()&&AG){if(AC.wrap&&AD.size+AG.size[Ay]+AC.spacing>this._rect.size[Ay]){if(AD.bboxes.length===0){this._addToGroup(AD,AG,AB);g();AD=this._newGroup()}else{g();AD=this._newGroup();this._addToGroup(AD,AG,AB)}}else{this._addToGroup(AD,AG,AB)}}}if(AD.bboxes.length){g()}return{groups:AE,groupsSize:AF}},_addToGroup:function(g,Az,Ay){g.size+=Az.size[this._fieldMap.sizeField]+this.options.spacing;g.lineSize=Math.max(Az.size[this._fieldMap.groupsSizeField],g.lineSize);g.bboxes.push(Az);g.elements.push(Ay)},_newGroup:function(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}}});function Aj(Az,AB,AA){var g;for(var Ay=0;Ay<Az.length;Ay++){var AC=Az[Ay];if(AC.visible()){var AD=AB?AC.bbox(AA):AC.rawBBox();if(AD){if(g){g=N.union(g,AD)}else{g=AD}}}}return g}function c(Az,AA){var g;for(var Ay=0;Ay<Az.length;Ay++){var AC=Az[Ay];if(AC.visible()){var AB=AC.clippedBBox(AA);if(AB){if(g){g=N.union(g,AB)}else{g=AB}}}}return g}function E(g,Ay){g.origin.x-=Ay;g.origin.y-=Ay;g.size.width+=Ay*2;g.size.height+=Ay*2}function Ae(Ay,Az){for(var g=0;g<Az.length;g++){Ay[Az[g]]=R(Az[g])}}function R(g){var Ay="_"+g;return function(Az){if(A(Az)){this._observerField(Ay,Az);this.geometryChange();return this}else{return this[Ay]}}}function Ad(Ay,Az){for(var g=0;g<Az.length;g++){Ay[Az[g]]=r(Az[g])}}function r(g){var Ay="_"+g;return function(Az){if(A(Az)){this._observerField(Ay,T.create(Az));this.geometryChange();return this}else{return this[Ay]}}}function q(Ay,Az){for(var g=0;g<Az.length;g++){Ay[Az[g]]=X(Az[g])}}function X(g){return function(Ay){if(A(Ay)){this.options.set(g,Ay);return this}else{return this.options.get(g)}}}function z(){return"kdef"+I++}function Ak(Ay,Az,g){D(Ay,Az,g,"x","width")}function h(Ay,Az,g){D(Ay,Az,g,"y","height")}function Ac(g){V(o(g),"x","y","width")}function v(g){V(o(g),"y","x","height")}function l(g,Ay){return An(g,Ay,"x","y","width")}function m(g,Ay){return An(g,Ay,"y","x","height")}function An(Ay,AB,g,Az,AE){var AA=[];var AF=Q(Ay,AB,AE);var AD=AB.origin.clone();var AG;var AH;var AI;var AC;for(AC=0;AC<AF.length;AC++){AI=AF[AC];AG=AI[0];AD[Az]=AG.bbox.origin[Az];O(AD,AG.bbox,AG.element);AG.bbox.origin[g]=AD[g];V(AI,g,Az,AE);AA.push([]);for(AH=0;AH<AI.length;AH++){AA[AC].push(AI[AH].element)}}return AA}function y(AC,AA){var AD=AC.clippedBBox();var Ay=AD.size;var g=AA.size;if(g.width<Ay.width||g.height<Ay.height){var Az=Aa.min(g.width/Ay.width,g.height/Ay.height);var AB=AC.transform()||Aw.transform();AB.scale(Az,Az);AC.transform(AB)}}function Q(AA,AB,AE){var g=AB.size[AE];var AG=0;var AF=[];var AI=[];var Az;var AD;var AH;var Ay=function(){AI.push({element:Az,bbox:AH})};for(var AC=0;AC<AA.length;AC++){Az=AA[AC];AH=Az.clippedBBox();if(AH){AD=AH.size[AE];if(AG+AD>g){if(AI.length){AF.push(AI);AI=[];Ay();AG=AD}else{Ay();AF.push(AI);AI=[];AG=0}}else{Ay();AG+=AD}}}if(AI.length){AF.push(AI)}return AF}function o(g){var Ay=[];var AA;var AB;for(var Az=0;Az<g.length;Az++){AA=g[Az];AB=AA.clippedBBox();if(AB){Ay.push({element:AA,bbox:AB})}}return Ay}function V(g,AE,AA,AD){if(g.length>1){var Az=g[0].bbox;var AC=new T();var Ay;var AF;for(var AB=1;AB<g.length;AB++){Ay=g[AB].element;AF=g[AB].bbox;AC[AE]=Az.origin[AE]+Az.size[AD];AC[AA]=AF.origin[AA];O(AC,AF,Ay);AF.origin[AE]=AC[AE];Az=AF}}}function D(g,AA,AE,Ay,AD){var AF,Az,AB;AE=AE||"start";for(var AC=0;AC<g.length;AC++){AF=g[AC].clippedBBox();if(AF){AB=AF.origin.clone();AB[Ay]=n(AF.size[AD],AA,AE,Ay,AD);O(AB,AF,g[AC])}}}function n(g,Ay,Az,AC,AA){var AB;if(Az==Ah){AB=Ay.origin[AC]}else{if(Az==t){AB=Ay.origin[AC]+Ay.size[AA]-g}else{AB=Ay.origin[AC]+(Ay.size[AA]-g)/2}}return AB}function Af(Az,AA,AB){var Ay=AB.transform()||Aw.transform();var g=Ay.matrix();g.e+=Az;g.f+=AA;AB.transform(Ay)}function O(g,Az,Ay){Af(g.x-Az.origin.x,g.y-Az.origin.y,Ay)}Aq(Am,{align:Ak,Arc:L,Circle:J,Element:x,ElementsArray:C,fit:y,Gradient:Av,GradientStop:Z,Group:Ap,Image:Ab,Layout:Ag,LinearGradient:p,MultiPath:U,Path:Ax,RadialGradient:b,Segment:Ar,stack:Ac,Text:e,vAlign:h,vStack:v,vWrap:m,wrap:l})})(window.kendo.jQuery);(function(S){var T=window.kendo,A=T.drawing,R=T.geometry,G=T.Class,U=R.Point,L=T.deepExtend,I=S.trim,K=T.util,J=K.deg,P=K.last,B=K.round;var O=/([a-z]{1})([^a-z]*)(z)?/gi,E=/[,\s]?(-?(?:\d+\.)?\d+)/g,V="m",Q="z";var F=G.extend({parse:function(Z,Y){var a=this;var X=new A.MultiPath(Y);var W=new U();var b;Z.replace(O,function(d,g,h,c){var f=g.toLowerCase();var j=f===g;var e=D(I(h));if(f===V){if(j){W.x+=e[0];W.y+=e[1]}else{W.x=e[0];W.y=e[1]}X.moveTo(W.x,W.y);if(e.length>2){f="l";e.splice(0,2)}}if(N[f]){N[f](X,{parameters:e,position:W,isRelative:j,previousCommand:b});if(c&&c.toLowerCase()===Q){X.close()}}else{if(f!==V){throw new Error("Error while parsing SVG path. Unsupported command: "+f)}}b=f});return X}});var N={l:function(b,Z){var a=Z.parameters;var W=Z.position;for(var X=0;X<a.length;X+=2){var Y=new U(a[X],a[X+1]);if(Z.isRelative){Y.translateWith(W)}b.lineTo(Y.x,Y.y);W.x=Y.x;W.y=Y.y}},c:function(b,Z){var c=Z.parameters;var a=Z.position;var X,W,d;for(var Y=0;Y<c.length;Y+=6){X=new U(c[Y],c[Y+1]);W=new U(c[Y+2],c[Y+3]);d=new U(c[Y+4],c[Y+5]);if(Z.isRelative){W.translateWith(a);X.translateWith(a);d.translateWith(a)}b.curveTo(X,W,d);a.x=d.x;a.y=d.y}},v:function(Y,W){var X=W.isRelative?0:W.position.x;M(W.parameters,true,X);this.l(Y,W)},h:function(Y,W){var X=W.isRelative?0:W.position.y;M(W.parameters,false,X);this.l(Y,W)},a:function(e,c){var f=c.parameters;var d=c.position;for(var a=0;a<f.length;a+=7){var Z=f[a];var Y=f[a+1];var b=f[a+3];var X=f[a+4];var W=new U(f[a+5],f[a+6]);if(c.isRelative){W.translateWith(d)}e.arcTo(W,Z,Y,b,X);d.x=W.x;d.y=W.y}},s:function(c,a){var d=a.parameters;var b=a.position;var f=a.previousCommand;var X,Y,W,e;if(f=="s"||f=="c"){e=P(P(c.paths).segments).controlIn()}for(var Z=0;Z<d.length;Z+=4){W=new U(d[Z],d[Z+1]);Y=new U(d[Z+2],d[Z+3]);if(a.isRelative){W.translateWith(b);Y.translateWith(b)}if(e){X=C(e,b)}else{X=b.clone()}e=W;c.curveTo(X,W,Y);b.x=Y.x;b.y=Y.y}},q:function(c,a){var d=a.parameters;var b=a.position;var X,W,Y;for(var Z=0;Z<d.length;Z+=4){Y=new U(d[Z],d[Z+1]);W=new U(d[Z+2],d[Z+3]);if(a.isRelative){Y.translateWith(b);W.translateWith(b)}X=H(b,Y,W);c.curveTo(X.controlOut,X.controlIn,W);b.x=W.x;b.y=W.y}},t:function(d,b){var e=b.parameters;var c=b.position;var f=b.previousCommand;var X,Y,W;if(f=="q"||f=="t"){var Z=P(P(d.paths).segments);Y=Z.controlIn().clone().translateWith(c.scaleCopy(-1/3)).scale(3/2)}for(var a=0;a<e.length;a+=2){W=new U(e[a],e[a+1]);if(b.isRelative){W.translateWith(c)}if(Y){Y=C(Y,c)}else{Y=c.clone()}X=H(c,Y,W);d.curveTo(X.controlOut,X.controlIn,W);c.x=W.x;c.y=W.y}}};function D(W){var X=[];W.replace(E,function(Y,Z){X.push(parseFloat(Z))});return X}function M(a,Y,Z){var X=Y?0:1;for(var W=0;W<a.length;W+=2){a.splice(W+X,0,Z)}}function C(W,X){if(W&&X){return X.scaleCopy(2).translate(-W.x,-W.y)}}function H(Y,Z,W){var X=1/3;Z=Z.clone().scale(2/3);return{controlOut:Z.clone().translateWith(Y.scaleCopy(X)),controlIn:Z.translateWith(W.scaleCopy(X))}}F.current=new F();A.Path.parse=function(X,W){return F.current.parse(X,W)};L(A,{PathParser:F})})(window.kendo.jQuery);(function(a){var I=document,T=window.kendo,x=T.deepExtend,Ab=T.geometry,Ac=T.drawing,e=Ac.BaseNode,b=T.util,Aa=b.defined,C=b.isTransparent,L=b.renderAttr,F=b.renderAllAttr,l=b.renderSize,c=b.renderTemplate,O=a.inArray;var m="butt",h=Ac.DASH_ARRAYS,E="gradient",G="none",z=".kendo",R="solid",D=" ",K="square",P="http://www.w3.org/2000/svg",v="transform",f="undefined";var j=Ac.Surface.extend({init:function(g,d){Ac.Surface.fn.init.call(this,g,d);this._root=new X(this.options);U(this.element[0],this._template(this));this._rootElement=this.element[0].firstElementChild;Y(this._rootElement);this._root.attachTo(this._rootElement);this.element.on("click"+z,this._click);this.element.on("mouseover"+z,this._mouseenter);this.element.on("mouseout"+z,this._mouseleave);this.resize()},type:"svg",destroy:function(){if(this._root){this._root.destroy();this._root=null;this._rootElement=null;this.element.off(z)}Ac.Surface.fn.destroy.call(this)},translate:function(d){var g=T.format("{0} {1} {2} {3}",Math.round(d.x),Math.round(d.y),this._size.width,this._size.height);this._offset=d;this._rootElement.setAttribute("viewBox",g)},draw:function(d){Ac.Surface.fn.draw.call(this,d);this._root.load([d])},clear:function(){Ac.Surface.fn.clear.call(this);this._root.clear()},svg:function(){return"<?xml version='1.0' ?>"+this._template(this)},exportVisual:function(){var Ad=this._visual;var d=this._offset;if(d){var g=new Ac.Group();g.children.push(Ad);g.transform(Ab.transform().translate(-d.x,-d.y));Ad=g}return Ad},_resize:function(){if(this._offset){this.translate(this._offset)}},_template:c("<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='"+P+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>#= d._root.render() #</svg>")});var Q=e.extend({init:function(d){e.fn.init.call(this,d);this.definitions={}},destroy:function(){if(this.element){this.element._kendoNode=null;this.element=null}this.clearDefinitions();e.fn.destroy.call(this)},load:function(g,Ag){var Af=this,d=Af.element,Ai,Ah,Ad,Ae;for(Ae=0;Ae<g.length;Ae++){Ah=g[Ae];Ad=Ah.children;Ai=new n[Ah.nodeType](Ah);if(Aa(Ag)){Af.insertAt(Ai,Ag)}else{Af.append(Ai)}Ai.createDefinitions();if(Ad&&Ad.length>0){Ai.load(Ad)}if(d){Ai.attachTo(d,Ag)}}},root:function(){var d=this;while(d.parent){d=d.parent}return d},attachTo:function(Ad,d){var g=I.createElement("div");U(g,"<svg xmlns='"+P+"' version='1.1'>"+this.render()+"</svg>");var Ae=g.firstChild.firstChild;if(Ae){if(Aa(d)){Ad.insertBefore(Ae,Ad.childNodes[d]||null)}else{Ad.appendChild(Ae)}this.setElement(Ae)}},setElement:function(Ae){var Ad=this.childNodes,d,g;if(this.element){this.element._kendoNode=null}this.element=Ae;this.element._kendoNode=this;for(g=0;g<Ad.length;g++){d=Ae.childNodes[g];Ad[g].setElement(d)}},clear:function(){this.clearDefinitions();if(this.element){this.element.innerHTML=""}var g=this.childNodes;for(var d=0;d<g.length;d++){g[d].destroy()}this.childNodes=[]},removeSelf:function(){if(this.element){var d=this.element.parentNode;if(d){d.removeChild(this.element)}this.element=null}e.fn.removeSelf.call(this)},template:c("#= d.renderChildren() #"),render:function(){return this.template(this)},renderChildren:function(){var g=this.childNodes,Ad="",d;for(d=0;d<g.length;d++){Ad+=g[d].render()}return Ad},optionsChange:function(g){var Ad=g.field;var d=g.value;if(Ad==="visible"){this.css("display",d?"":G)}else{if(A[Ad]&&r(Ad,d)){this.updateDefinition(Ad,d)}else{if(Ad==="opacity"){this.attr("opacity",d)}}}e.fn.optionsChange.call(this,g)},attr:function(d,g){if(this.element){this.element.setAttribute(d,g)}},allAttr:function(g){for(var d=0;d<g.length;d++){this.attr(g[d][0],g[d][1])}},css:function(d,g){if(this.element){this.element.style[d]=g}},allCss:function(g){for(var d=0;d<g.length;d++){this.css(g[d][0],g[d][1])}},removeAttr:function(d){if(this.element){this.element.removeAttribute(d)}},mapTransform:function(g){var d=[];if(g){d.push([v,"matrix("+g.matrix().toString(6)+")"])}return d},renderTransform:function(){return F(this.mapTransform(this.srcElement.transform()))},transformChange:function(d){if(d){this.allAttr(this.mapTransform(d))}else{this.removeAttr(v)}},mapStyle:function(){var d=this.srcElement.options;var g=[["cursor",d.cursor]];if(d.visible===false){g.push(["display",G])}return g},renderStyle:function(){return L("style",b.renderStyle(this.mapStyle()))},renderOpacity:function(){return L("opacity",this.srcElement.options.opacity)},createDefinitions:function(){var g=this.srcElement;var Ag=this.definitions;var Ad,Ae,d,Af;if(g){d=g.options;for(Ae in A){Ad=d.get(Ae);if(Ad&&r(Ae,Ad)){Ag[Ae]=Ad;Af=true}}if(Af){this.definitionChange({action:"add",definitions:Ag})}}},definitionChange:function(d){if(this.parent){this.parent.definitionChange(d)}},updateDefinition:function(d,Af){var Ag=this.definitions;var Ae=Ag[d];var g=A[d];var Ad={};if(Ae){Ad[d]=Ae;this.definitionChange({action:"remove",definitions:Ad});delete Ag[d]}if(!Af){if(Ae){this.removeAttr(g)}}else{Ad[d]=Af;this.definitionChange({action:"add",definitions:Ad});Ag[d]=Af;this.attr(g,q(Af.id))}},clearDefinitions:function(){var g=this.definitions;var d;for(d in g){this.definitionChange({action:"remove",definitions:g});this.definitions={};break}},renderDefinitions:function(){return F(this.mapDefinitions())},mapDefinitions:function(){var Ad=this.definitions;var d=[];var g;for(g in Ad){d.push([A[g],q(Ad[g].id)])}return d}});var X=Q.extend({init:function(d){Q.fn.init.call(this);this.options=d;this.defs=new N()},attachTo:function(d){this.element=d;this.defs.attachTo(d.firstElementChild)},clear:function(){e.fn.clear.call(this)},template:c("#=d.defs.render()##= d.renderChildren() #"),definitionChange:function(d){this.defs.definitionChange(d)}});var N=Q.extend({init:function(){Q.fn.init.call(this);this.definitionMap={}},attachTo:function(d){this.element=d},template:c("<defs>#= d.renderChildren()#</defs>"),definitionChange:function(g){var Ad=g.definitions;var d=g.action;if(d=="add"){this.addDefinitions(Ad)}else{if(d=="remove"){this.removeDefinitions(Ad)}}},createDefinition:function(d,Ad){var g;if(d=="clip"){g=B}else{if(d=="fill"){if(Ad instanceof Ac.LinearGradient){g=J}else{if(Ad instanceof Ac.RadialGradient){g=u}}}}return new g(Ad)},addDefinitions:function(g){for(var d in g){this.addDefinition(d,g[d])}},addDefinition:function(d,Ae){var Ad=this.definitionMap;var Ah=Ae.id;var Af=this.element;var Ag,g;g=Ad[Ah];if(!g){Ag=this.createDefinition(d,Ae);Ad[Ah]={element:Ag,count:1};this.append(Ag);if(Af){Ag.attachTo(this.element)}}else{g.count++}},removeDefinitions:function(g){for(var d in g){this.removeDefinition(g[d])}},removeDefinition:function(Ad){var g=this.definitionMap;var Ae=Ad.id;var d;d=g[Ae];if(d){d.count--;if(d.count===0){this.remove(O(d.element,this.childNodes),1);delete g[Ae]}}}});var B=Q.extend({init:function(d){Q.fn.init.call(this);this.srcElement=d;this.id=d.id;this.load([d])},template:c("<clipPath id='#=d.id#'>#= d.renderChildren()#</clipPath>")});var M=Q.extend({template:c("<g#= d.renderTransform() + d.renderStyle() + d.renderOpacity() + d.renderDefinitions()#>#= d.renderChildren() #</g>"),optionsChange:function(d){if(d.field==v){this.transformChange(d.value)}Q.fn.optionsChange.call(this,d)}});var p=Q.extend({geometryChange:function(){this.attr("d",this.renderData());this.invalidate()},optionsChange:function(d){switch(d.field){case"fill":if(d.value){this.allAttr(this.mapFill(d.value))}else{this.removeAttr("fill")}break;case"fill.color":this.allAttr(this.mapFill({color:d.value}));break;case"stroke":if(d.value){this.allAttr(this.mapStroke(d.value))}else{this.removeAttr("stroke")}break;case v:this.transformChange(d.value);break;default:var g=this.attributeMap[d.field];if(g){this.attr(g,d.value)}break}Q.fn.optionsChange.call(this,d)},attributeMap:{"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},content:function(d){if(this.element){this.element.textContent=this.srcElement.content()}},renderData:function(){return this.printPath(this.srcElement)},printPath:function(Af){var Ai=Af.segments,Ah=Ai.length;if(Ah>0){var Ae=[],d,g,Ag,Ad;for(Ad=1;Ad<Ah;Ad++){g=this.segmentType(Ai[Ad-1],Ai[Ad]);if(g!==Ag){Ag=g;Ae.push(g)}if(g==="L"){Ae.push(this.printPoints(Ai[Ad].anchor()))}else{Ae.push(this.printPoints(Ai[Ad-1].controlOut(),Ai[Ad].controlIn(),Ai[Ad].anchor()))}}d="M"+this.printPoints(Ai[0].anchor())+D+Ae.join(D);if(Af.options.closed){d+="Z"}return d}},printPoints:function(){var Ae=arguments,d=Ae.length,g,Ad=[];for(g=0;g<d;g++){Ad.push(Ae[g].toString(3))}return Ad.join(D)},segmentType:function(g,d){return g.controlOut()&&d.controlIn()?"C":"L"},mapStroke:function(d){var g=[];if(d&&!C(d.color)){g.push(["stroke",d.color]);g.push(["stroke-width",d.width]);g.push(["stroke-linecap",this.renderLinecap(d)]);g.push(["stroke-linejoin",d.lineJoin]);if(Aa(d.opacity)){g.push(["stroke-opacity",d.opacity])}if(Aa(d.dashType)){g.push(["stroke-dasharray",this.renderDashType(d)])}}else{g.push(["stroke",G])}return g},renderStroke:function(){return F(this.mapStroke(this.srcElement.options.stroke))},renderDashType:function(Ad){var Ag=Ad.width||1,d=Ad.dashType;if(d&&d!=R){var Ae=h[d.toLowerCase()],Af=[],g;for(g=0;g<Ae.length;g++){Af.push(Ae[g]*Ag)}return Af.join(" ")}},renderLinecap:function(Ad){var d=Ad.dashType,g=Ad.lineCap;return(d&&d!=R)?m:g},mapFill:function(d){var g=[];if(!(d&&d.nodeType==E)){if(d&&!C(d.color)){g.push(["fill",d.color]);if(Aa(d.opacity)){g.push(["fill-opacity",d.opacity])}}else{g.push(["fill",G])}}return g},renderFill:function(){return F(this.mapFill(this.srcElement.options.fill))},template:c("<path #= d.renderStyle() # #= d.renderOpacity() # #= kendo.util.renderAttr('d', d.renderData()) # #= d.renderStroke() # #= d.renderFill() # #= d.renderDefinitions() # #= d.renderTransform() #></path>")});var s=p.extend({renderData:function(){return this.printPath(this.srcElement.toPath())}});var o=p.extend({renderData:function(){var Ad=this.srcElement.paths;if(Ad.length>0){var g=[],d;for(d=0;d<Ad.length;d++){g.push(this.printPath(Ad[d]))}return g.join(" ")}}});var w=p.extend({geometryChange:function(){var d=this.center();this.attr("cx",d.x);this.attr("cy",d.y);this.attr("r",this.radius());this.invalidate()},center:function(){return this.srcElement.geometry().center},radius:function(){return this.srcElement.geometry().radius},template:c("<circle #= d.renderStyle() # #= d.renderOpacity() # cx='#= d.center().x #' cy='#= d.center().y #' r='#= d.radius() #' #= d.renderStroke() # #= d.renderFill() # #= d.renderDefinitions() # #= d.renderTransform() # ></circle>")});var Z=p.extend({geometryChange:function(){var d=this.pos();this.attr("x",d.x);this.attr("y",d.y);this.invalidate()},optionsChange:function(d){if(d.field==="font"){this.attr("style",b.renderStyle(this.mapStyle()));this.geometryChange()}else{if(d.field==="content"){p.fn.content.call(this,this.srcElement.content())}}p.fn.optionsChange.call(this,d)},mapStyle:function(){var g=p.fn.mapStyle.call(this);var d=this.srcElement.options.font;g.push(["font",T.htmlEncode(d)]);return g},pos:function(){var g=this.srcElement.position();var d=this.srcElement.measure();return g.clone().setY(g.y+d.baseline)},content:function(){var g=this.srcElement.content();var d=this.root().options;if(d&&d.encodeText){g=k(g);g=T.htmlEncode(g)}return g},template:c("<text #= d.renderStyle() # #= d.renderOpacity() # x='#= this.pos().x #' y='#= this.pos().y #' #= d.renderStroke() # #= d.renderTransform() # #= d.renderDefinitions() # #= d.renderFill() #>#= d.content() #</text>")});var H=p.extend({geometryChange:function(){this.allAttr(this.mapPosition());this.invalidate()},optionsChange:function(d){if(d.field==="src"){this.allAttr(this.mapSource())}p.fn.optionsChange.call(this,d)},mapPosition:function(){var d=this.srcElement.rect();var g=d.topLeft();return[["x",g.x],["y",g.y],["width",d.width()+"px"],["height",d.height()+"px"]]},renderPosition:function(){return F(this.mapPosition())},mapSource:function(){return[["xlink:href",this.srcElement.src()]]},renderSource:function(){return F(this.mapSource())},template:c("<image preserveAspectRatio='none' #= d.renderStyle() # #= d.renderTransform()# #= d.renderOpacity() # #= d.renderPosition() # #= d.renderSource() # #= d.renderDefinitions()#></image>")});var t=Q.extend({template:c("<stop #=d.renderOffset()# #=d.renderStyle()# />"),renderOffset:function(){return L("offset",this.srcElement.offset())},mapStyle:function(){var d=this.srcElement;return[["stop-color",d.color()],["stop-opacity",d.opacity()]]},optionsChange:function(d){if(d.field=="offset"){this.attr(d.field,d.value)}else{if(d.field=="color"||d.field=="opacity"){this.css("stop-"+d.field,d.value)}}}});var y=Q.extend({init:function(d){Q.fn.init.call(this,d);this.id=d.id;this.loadStops()},loadStops:function(){var Ad=this.srcElement;var d=Ad.stops;var Af=this.element;var g;var Ae;for(Ae=0;Ae<d.length;Ae++){g=new t(d[Ae]);this.append(g);if(Af){g.attachTo(Af)}}},optionsChange:function(d){if(d.field=="gradient.stops"){e.fn.clear.call(this);this.loadStops()}else{if(d.field==E){this.allAttr(this.mapCoordinates())}}},renderCoordinates:function(){return F(this.mapCoordinates())},mapSpace:function(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}});var J=y.extend({template:c("<linearGradient id='#=d.id#' #=d.renderCoordinates()#>#= d.renderChildren()#</linearGradient>"),mapCoordinates:function(){var d=this.srcElement;var Ae=d.start();var Ad=d.end();var g=[["x1",Ae.x],["y1",Ae.y],["x2",Ad.x],["y2",Ad.y],this.mapSpace()];return g}});var u=y.extend({template:c("<radialGradient id='#=d.id#' #=d.renderCoordinates()#>#= d.renderChildren()#</radialGradient>"),mapCoordinates:function(){var d=this.srcElement;var g=d.center();var Ad=d.radius();var Ae=[["cx",g.x],["cy",g.y],["r",Ad],this.mapSpace()];return Ae}});var n={Group:M,Text:Z,Path:p,MultiPath:o,Circle:w,Arc:s,Image:H};var U=function(g,d){g.innerHTML=d};(function(){var d="<svg xmlns='"+P+"'></svg>",g=I.createElement("div"),Ad=typeof DOMParser!=f;g.innerHTML=d;if(Ad&&g.firstChild.namespaceURI!=P){U=function(Ag,Ae){var Ai=new DOMParser(),Ah=Ai.parseFromString(Ae,"text/xml"),Af=I.adoptNode(Ah.documentElement);Ag.innerHTML="";Ag.appendChild(Af)}}})();function Y(Ag){var Af;try{Af=Ag.getScreenCTM?Ag.getScreenCTM():null}catch(g){}if(Af){var Ad=-Af.e%1,Ae=-Af.f%1,d=Ag.style;if(Ad!==0||Ae!==0){d.left=Ad+"px";d.top=Ae+"px"}}}function W(){var Ae=document.getElementsByTagName("base")[0],g="",d=document.location.href,Ad=d.indexOf("#");if(Ae&&!T.support.browser.msie){if(Ad!==-1){d=d.substring(0,Ad)}g=d}return g}function q(d){return"url("+W()+"#"+d+")"}function S(g){var Ad=new X({encodeText:true});var Ag=g.clippedBBox();if(Ag){var Af=Ag.getOrigin();var Ae=new Ac.Group();Ae.transform(Ab.transform().translate(-Af.x,-Af.y));Ae.children.push(g);g=Ae}Ad.load([g]);var d="<?xml version='1.0' ?><svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='"+P+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+Ad.render()+"</svg>";Ad.destroy();return d}function V(g,Ad){var d=S(g);if(!Ad||!Ad.raw){d="data:image/svg+xml;base64,"+b.encodeBase64(d)}return a.Deferred().resolve(d).promise()}function r(d,g){return d=="clip"||(d=="fill"&&(!g||g.nodeType==E))}function k(d){if(!d||!d.indexOf||d.indexOf("&")<0){return d}else{var g=k._element;g.innerHTML=d;return g.textContent||g.innerText}}k._element=document.createElement("span");var A={clip:"clip-path",fill:"fill"};T.support.svg=(function(){return I.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")})();if(T.support.svg){Ac.SurfaceFactory.current.register("svg",j,10)}x(Ac,{exportSVG:V,svg:{ArcNode:s,CircleNode:w,ClipNode:B,DefinitionNode:N,GradientStopNode:t,GroupNode:M,ImageNode:H,LinearGradientNode:J,MultiPathNode:o,Node:Q,PathNode:p,RadialGradientNode:u,RootNode:X,Surface:j,TextNode:Z,_exportGroup:S}})})(window.kendo.jQuery);(function(a){var O=a.noop,Y=document,F=window.kendo,S=F.deepExtend,R=F.util,M=R.defined,K=R.isTransparent,G=R.renderTemplate,A=R.valueOrDefault,N=F.geometry,D=F.drawing,T=D.BaseNode;var Z="butt",I=D.DASH_ARRAYS,B=1000/60,E="none",W="solid";var H=D.Surface.extend({init:function(h,g){D.Surface.fn.init.call(this,h,g);this.element[0].innerHTML=this._template(this);var d=this.element[0].firstElementChild;d.width=a(h).width();d.height=a(h).height();this._rootElement=d;this._root=new X(d)},destroy:function(){D.Surface.fn.destroy.call(this);if(this._root){this._root.destroy();this._root=null}},type:"canvas",draw:function(d){D.Surface.fn.draw.call(this,d);this._root.load([d],undefined,this.options.cors)},clear:function(){D.Surface.fn.clear.call(this);this._root.clear()},image:function(){var g=this._root;var d=this._rootElement;var h=[];g.traverse(function(k){if(k.loading){h.push(k.loading)}});var j=a.Deferred();a.when.apply(a,h).done(function(){g._invalidate();try{var l=d.toDataURL();j.resolve(l)}catch(k){j.reject(k)}}).fail(function(k){j.reject(k)});return j.promise()},_resize:function(){this._rootElement.width=this._size.width;this._rootElement.height=this._size.height;this._root.invalidate()},_template:G("<canvas style='width: 100%; height: 100%;'></canvas>")});var Q=T.extend({init:function(d){T.fn.init.call(this,d);if(d){this.initClip()}},initClip:function(){var d=this.srcElement.clip();if(d){this.clip=d;d.addObserver(this)}},clear:function(){if(this.srcElement){this.srcElement.removeObserver(this)}this.clearClip();T.fn.clear.call(this)},clearClip:function(){if(this.clip){this.clip.removeObserver(this);delete this.clip}},setClip:function(d){if(this.clip){d.beginPath();b.fn.renderPoints(d,this.clip);d.clip()}},optionsChange:function(d){if(d.field=="clip"){this.clearClip();this.initClip()}T.fn.optionsChange.call(this,d)},setTransform:function(d){if(this.srcElement){var g=this.srcElement.transform();if(g){d.transform.apply(d,g.matrix().toArray(6))}}},load:function(g,l,d){var k=this,n,m,h,j;for(j=0;j<g.length;j++){m=g[j];h=m.children;n=new f[m.nodeType](m,d);if(h&&h.length>0){n.load(h,l,d)}if(M(l)){k.insertAt(n,l)}else{k.append(n)}}k.invalidate()},setOpacity:function(g){if(this.srcElement){var d=this.srcElement.opacity();if(M(d)){this.globalAlpha(g,d)}}},globalAlpha:function(g,d){if(d&&g.globalAlpha){d*=g.globalAlpha}g.globalAlpha=d},visible:function(){var d=this.srcElement;return !d||(d&&d.options.visible!==false)}});var C=Q.extend({renderTo:function(j){if(!this.visible()){return}j.save();this.setTransform(j);this.setClip(j);this.setOpacity(j);var g=this.childNodes;for(var d=0;d<g.length;d++){var h=g[d];if(h.visible()){h.renderTo(j)}}j.restore()}});D.mixins.Traversable.extend(C.fn,"childNodes");var X=C.extend({init:function(d){C.fn.init.call(this);this.canvas=d;this.ctx=d.getContext("2d");this.invalidate=F.throttle(a.proxy(this._invalidate,this),B)},destroy:function(){C.fn.destroy.call(this);this.canvas=null;this.ctx=null},_invalidate:function(){if(!this.ctx){return}this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);this.renderTo(this.ctx)}});D.mixins.Traversable.extend(X.fn,"childNodes");var b=Q.extend({renderTo:function(d){d.save();this.setTransform(d);this.setClip(d);this.setOpacity(d);d.beginPath();this.renderPoints(d,this.srcElement);this.setLineDash(d);this.setLineCap(d);this.setLineJoin(d);this.setFill(d);this.setStroke(d);d.restore()},setFill:function(g){var d=this.srcElement.options.fill;var h=false;if(d){if(d.nodeType=="gradient"){this.setGradientFill(g,d);h=true}else{if(!K(d.color)){g.fillStyle=d.color;g.save();this.globalAlpha(g,d.opacity);g.fill();g.restore();h=true}}}return h},setGradientFill:function(k,d){var m=this.srcElement.rawBBox();var h;if(d instanceof D.LinearGradient){var l=d.start();var j=d.end();h=k.createLinearGradient(l.x,l.y,j.x,j.y)}else{if(d instanceof D.RadialGradient){var g=d.center();h=k.createRadialGradient(g.x,g.y,0,g.x,g.y,d.radius())}}P(h,d.stops);k.save();if(!d.userSpace()){k.transform(m.width(),0,0,m.height(),m.origin.x,m.origin.y)}k.fillStyle=h;k.fill();k.restore()},setStroke:function(g){var d=this.srcElement.options.stroke;if(d&&!K(d.color)&&d.width>0){g.strokeStyle=d.color;g.lineWidth=A(d.width,1);g.save();this.globalAlpha(g,d.opacity);g.stroke();g.restore();return true}},dashType:function(){var d=this.srcElement.options.stroke;if(d&&d.dashType){return d.dashType.toLowerCase()}},setLineDash:function(h){var d=this.dashType();if(d&&d!=W){var g=I[d];if(h.setLineDash){h.setLineDash(g)}else{h.mozDash=g;h.webkitLineDash=g}}},setLineCap:function(h){var d=this.dashType();var g=this.srcElement.options.stroke;if(d&&d!==W){h.lineCap=Z}else{if(g&&g.lineCap){h.lineCap=g.lineCap}}},setLineJoin:function(g){var d=this.srcElement.options.stroke;if(d&&d.lineJoin){g.lineJoin=d.lineJoin}},renderPoints:function(h,l){var o=l.segments;if(o.length===0){return}var n=o[0];var d=n.anchor();h.moveTo(d.x,d.y);for(var k=1;k<o.length;k++){n=o[k];d=n.anchor();var m=o[k-1];var g=m.controlOut();var j=n.controlIn();if(g&&j){h.bezierCurveTo(g.x,g.y,j.x,j.y,d.x,d.y)}else{h.lineTo(d.x,d.y)}}if(l.options.closed){h.closePath()}}});var e=b.extend({renderPoints:function(g){var h=this.srcElement.paths;for(var d=0;d<h.length;d++){b.fn.renderPoints(g,h[d])}}});var L=b.extend({renderPoints:function(j){var g=this.srcElement.geometry();var h=g.center;var d=g.radius;j.arc(h.x,h.y,d,0,Math.PI*2)}});var V=b.extend({renderPoints:function(d){var g=this.srcElement.toPath();b.fn.renderPoints.call(this,d,g)}});var J=b.extend({renderTo:function(j){var h=this.srcElement;var g=h.position();var d=h.measure();j.save();this.setTransform(j);this.setClip(j);this.setOpacity(j);j.beginPath();j.font=h.options.font;if(this.setFill(j)){j.fillText(h.content(),g.x,g.y+d.baseline)}if(this.setStroke(j)){this.setLineDash(j);j.strokeText(h.content(),g.x,g.y+d.baseline)}j.restore()}});var c=b.extend({init:function(g,d){b.fn.init.call(this,g);this.onLoad=a.proxy(this.onLoad,this);this.onError=a.proxy(this.onError,this);this.loading=a.Deferred();var j=this.img=new Image();if(d&&!(/^data:/i.test(g.src()))){j.crossOrigin=d}var h=j.src=g.src();if(j.complete){this.onLoad()}else{j.onload=this.onLoad;j.onerror=this.onError}},renderTo:function(d){if(this.loading.state()==="resolved"){d.save();this.setTransform(d);this.setClip(d);this.drawImage(d);d.restore()}},optionsChange:function(d){if(d.field==="src"){this.loading=a.Deferred();this.img.src=this.srcElement.src()}else{b.fn.optionsChange.call(this,d)}},onLoad:function(){this.loading.resolve();this.invalidate()},onError:function(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))},drawImage:function(h){var d=this.srcElement.rect();var g=d.topLeft();h.drawImage(this.img,g.x,g.y,d.width(),d.height())}});function U(m,l){var g={width:"800px",height:"600px",cors:"Anonymous"};var o=m.clippedBBox();if(o){var k=o.getOrigin();var p=new D.Group();p.transform(N.transform().translate(-k.x,-k.y));p.children.push(m);m=p;var j=o.getSize();g.width=j.width+"px";g.height=j.height+"px"}l=S(g,l);var n=a("<div />").css({display:"none",width:l.width,height:l.height}).appendTo(document.body);var h=new H(n,l);h.draw(m);var d=h.image();d.always(function(){h.destroy();n.remove()});return d}var f={Group:C,Text:J,Path:b,MultiPath:e,Circle:L,Arc:V,Image:c};function P(h,d){var k,g,j;for(j=0;j<d.length;j++){g=d[j];k=F.parseColor(g.color());k.a*=g.opacity();h.addColorStop(g.offset(),k.toCssRgba())}}F.support.canvas=(function(){return !!Y.createElement("canvas").getContext})();if(F.support.canvas){D.SurfaceFactory.current.register("canvas",H,20)}S(F.drawing,{exportImage:U,canvas:{ArcNode:V,CircleNode:L,GroupNode:C,ImageNode:c,MultiPathNode:e,Node:Q,PathNode:b,RootNode:X,Surface:H,TextNode:J}})})(window.kendo.jQuery);(function(l){var O=document,r=Math,u=r.atan2,R=r.ceil,z=r.sqrt,m=window.kendo,Ag=m.deepExtend,L=l.noop,Am=m.drawing,o=Am.BaseNode,Al=m.geometry,I=Al.toMatrix,j=m.Color,n=m.util,E=n.isTransparent,Aj=n.defined,Ac=n.deg,a=n.renderTemplate,Ae=n.round,D=n.valueOrDefault;var K="none",Ai=".kendo",A=100,F=A*A,G="gradient",Ab=4;var Ah=Am.Surface.extend({init:function(g,d){Am.Surface.fn.init.call(this,g,d);J();this.element.empty();this._root=new s();this._root.attachTo(this.element[0]);this.element.on("click"+Ai,this._click);this.element.on("mouseover"+Ai,this._mouseenter);this.element.on("mouseout"+Ai,this._mouseleave)},type:"vml",destroy:function(){if(this._root){this._root.destroy();this._root=null;this.element.off(Ai)}Am.Surface.fn.destroy.call(this)},draw:function(d){Am.Surface.fn.draw.call(this,d);this._root.load([d],undefined,null)},clear:function(){Am.Surface.fn.clear.call(this);this._root.clear()}});var Y=o.extend({init:function(d){o.fn.init.call(this,d);this.createElement();this.attachReference()},observe:L,destroy:function(){if(this.element){this.element._kendoNode=null;this.element=null}o.fn.destroy.call(this)},clear:function(){if(this.element){this.element.innerHTML=""}var g=this.childNodes;for(var d=0;d<g.length;d++){g[d].destroy()}this.childNodes=[]},removeSelf:function(){if(this.element){this.element.parentNode.removeChild(this.element);this.element=null}o.fn.removeSelf.call(this)},createElement:function(){this.element=O.createElement("div")},attachReference:function(){this.element._kendoNode=this},load:function(g,Ar,Aq,Ao){Ao=D(Ao,1);if(this.srcElement){Ao*=D(this.srcElement.options.opacity,1)}for(var Ap=0;Ap<g.length;Ap++){var As=g[Ap];var An=As.children;var d=As.currentTransform(Aq);var Au=Ao*D(As.options.opacity,1);var At=new v[As.nodeType](As,d,Au);if(An&&An.length>0){At.load(An,Ar,d,Ao)}if(Aj(Ar)){this.insertAt(At,Ar)}else{this.append(At)}At.attachTo(this.element,Ar)}},attachTo:function(g,d){if(Aj(d)){g.insertBefore(this.element,g.children[d]||null)}else{g.appendChild(this.element)}},optionsChange:function(d){if(d.field=="visible"){this.css("display",d.value!==false?"":K)}},setStyle:function(){this.allCss(this.mapStyle())},mapStyle:function(){var d=[];if(this.srcElement&&this.srcElement.options.visible===false){d.push(["display",K])}return d},mapOpacityTo:function(g,d){var An=D(this.opacity,1);An*=D(d,1);g.push(["opacity",An])},attr:function(d,g){if(this.element){this.element[d]=g}},allAttr:function(g){for(var d=0;d<g.length;d++){this.attr(g[d][0],g[d][1])}},css:function(d,g){if(this.element){this.element.style[d]=g}},allCss:function(g){for(var d=0;d<g.length;d++){this.css(g[d][0],g[d][1])}}});var s=Y.extend({createElement:function(){Y.fn.createElement.call(this);this.allCss([["width","100%"],["height","100%"],["position","relative"],["visibility","visible"]])},attachReference:L});var S=m.Class.extend({init:function(d,g){this.srcElement=d;this.observer=g;d.addObserver(this)},geometryChange:function(){this.observer.optionsChange({field:"clip",value:this.srcElement})},clear:function(){this.srcElement.removeObserver(this)}});var U=Y.extend({init:function(d){Y.fn.init.call(this,d);if(d){this.initClip()}},observe:function(){o.fn.observe.call(this)},mapStyle:function(){var d=Y.fn.mapStyle.call(this);if(this.srcElement&&this.srcElement.clip()){d.push(["clip",this.clipRect()])}return d},optionsChange:function(d){if(d.field=="clip"){this.clearClip();this.initClip();this.setClip()}Y.fn.optionsChange.call(this,d)},clear:function(){this.clearClip();Y.fn.clear.call(this)},initClip:function(){if(this.srcElement.clip()){this.clip=new S(this.srcElement.clip(),this);this.clip.observer=this}},clearClip:function(){if(this.clip){this.clip.clear();this.clip=null;this.css("clip",this.clipRect())}},setClip:function(){if(this.clip){this.css("clip",this.clipRect())}},clipRect:function(){var d=h;var Ao=this.srcElement.clip();if(Ao){var Ap=this.clipBBox(Ao);var g=Ap.topLeft();var An=Ap.bottomRight();d=m.format("rect({0}px {1}px {2}px {3}px)",g.y,An.x,An.y,g.x)}return d},clipBBox:function(d){var An=this.srcElement.rawBBox().topLeft();var g=d.rawBBox();g.origin.translate(-An.x,-An.y);return g}});var T=U.extend({createElement:function(){Y.fn.createElement.call(this);this.setStyle()},attachTo:function(g,d){this.css("display",K);Y.fn.attachTo.call(this,g,d);if(this.srcElement.options.visible!==false){this.css("display","")}},_attachTo:function(g){var d=document.createDocumentFragment();d.appendChild(this.element);g.appendChild(d)},mapStyle:function(){var d=U.fn.mapStyle.call(this);d.push(["position","absolute"]);d.push(["white-space","nowrap"]);return d},optionsChange:function(d){if(d.field==="transform"){this.refreshTransform()}if(d.field==="opacity"){this.refreshOpacity()}U.fn.optionsChange.call(this,d)},refreshTransform:function(Ap){var Ao=this.srcElement.currentTransform(Ap),d=this.childNodes,g=d.length,An;this.setClip();for(An=0;An<g;An++){d[An].refreshTransform(Ao)}},currentOpacity:function(){var d=D(this.srcElement.options.opacity,1);if(this.parent&&this.parent.currentOpacity){d*=this.parent.currentOpacity()}return d},refreshOpacity:function(){var Ao=this.childNodes,d=Ao.length,g;var An=this.currentOpacity();for(g=0;g<d;g++){Ao[g].refreshOpacity(An)}},initClip:function(){U.fn.initClip.call(this);if(this.clip){var d=this.clip.srcElement.bbox(this.srcElement.currentTransform());if(d){this.css("width",d.width()+d.origin.x);this.css("height",d.height()+d.origin.y)}}},clipBBox:function(d){return d.bbox(this.srcElement.currentTransform())},clearClip:function(){U.fn.clearClip.call(this)}});var x=Y.extend({init:function(d,g){this.opacity=g;Y.fn.init.call(this,d)},createElement:function(){this.element=Ad("stroke");this.setOpacity()},optionsChange:function(d){if(d.field.indexOf("stroke")===0){this.setStroke()}},refreshOpacity:function(d){this.opacity=d;this.setStroke()},setStroke:function(){this.allAttr(this.mapStroke())},setOpacity:function(){this.setStroke()},mapStroke:function(){var g=this.srcElement.options.stroke;var An=[];if(g&&!E(g.color)&&g.width!==0){An.push(["on","true"]);An.push(["color",g.color]);An.push(["weight",(g.width||1)+"px"]);this.mapOpacityTo(An,g.opacity);if(Aj(g.dashType)){An.push(["dashstyle",g.dashType])}if(Aj(g.lineJoin)){An.push(["joinstyle",g.lineJoin])}if(Aj(g.lineCap)){var d=g.lineCap.toLowerCase();if(d==="butt"){d=d==="butt"?"flat":d}An.push(["endcap",d])}}else{An.push(["on","false"])}return An}});var c=Y.extend({init:function(d,An,g){this.opacity=g;Y.fn.init.call(this,d)},createElement:function(){this.element=Ad("fill");this.setFill()},optionsChange:function(d){if(X(d.field)){this.setFill()}},refreshOpacity:function(d){this.opacity=d;this.setOpacity()},setFill:function(){this.allAttr(this.mapFill())},setOpacity:function(){this.setFill()},attr:function(d,g){var An=this.element;if(An){var Ao=d.split(".");while(Ao.length>1){An=An[Ao.shift()]}An[Ao[0]]=g}},mapFill:function(){var d=this.srcElement.fill();var g=[["on","false"]];if(d){if(d.nodeType==G){g=this.mapGradient(d)}else{if(!E(d.color)){g=this.mapFillColor(d)}}}return g},mapFillColor:function(d){var g=[["on","true"],["color",d.color]];this.mapOpacityTo(g,d.opacity);return g},mapGradient:function(d){var Ao=this.srcElement.options;var g=Ao.fallbackFill||(d.fallbackFill&&d.fallbackFill());var An;if(d instanceof Am.LinearGradient){An=this.mapLinearGradient(d)}else{if(d instanceof Am.RadialGradient&&d.supportVML){An=this.mapRadialGradient(d)}else{if(g){An=this.mapFillColor(g)}else{An=[["on","false"]]}}}return An},mapLinearGradient:function(d){var Ap=d.start();var Ao=d.end();var g=d.stops;var Aq=n.deg(u(Ao.y-Ap.y,Ao.x-Ap.x));var An=[["on","true"],["type",G],["focus",0],["method","none"],["angle",270-Aq]];this.addColors(An);return An},mapRadialGradient:function(d){var Ar=this.srcElement.rawBBox();var Ap=d.center();var g=d.stops;var Aq=(Ap.x-Ar.origin.x)/Ar.width();var An=(Ap.y-Ar.origin.y)/Ar.height();var Ao=[["on","true"],["type","gradienttitle"],["focus","100%"],["focusposition",Aq+" "+An],["method","none"]];this.addColors(Ao);return Ao},addColors:function(An){var As=this.srcElement.options;var Ar=D(this.opacity,1);var Av=[];var Ao=As.fill.stops;var Ap=As.baseColor;var At=this.element.colors?"colors.value":"colors";var d=V(Ap,Ao[0],Ar);var Au=V(Ap,Ao[Ao.length-1],Ar);var g;for(var Aq=0;Aq<Ao.length;Aq++){g=Ao[Aq];Av.push(r.round(g.offset()*100)+"% "+V(Ap,g,Ar))}An.push([At,Av.join(",")],["color",d],["color2",Au])}});var M=Y.extend({init:function(d,g){this.transform=g;Y.fn.init.call(this,d)},createElement:function(){this.element=Ad("skew");this.setTransform()},optionsChange:function(d){if(d.field==="transform"){this.refresh(this.srcElement.currentTransform())}},refresh:function(d){this.transform=d;this.setTransform()},transformOrigin:function(){return"-0.5,-0.5"},setTransform:function(){this.allAttr(this.mapTransform())},mapTransform:function(){var As=this.transform;var Ao=[],Ar,Ap,Aq,An,g=I(As);if(g){g.round(Ab);Ao.push(["on","true"],["matrix",[g.a,g.c,g.b,g.d,0,0].join(",")],["offset",g.e+"px,"+g.f+"px"],["origin",this.transformOrigin()])}else{Ao.push(["on","false"])}return Ao}});var W=U.extend({init:function(d,An,g){this.fill=this.createFillNode(d,An,g);this.stroke=new x(d,g);this.transform=this.createTransformNode(d,An);U.fn.init.call(this,d)},attachTo:function(g,d){this.fill.attachTo(this.element);this.stroke.attachTo(this.element);this.transform.attachTo(this.element);Y.fn.attachTo.call(this,g,d)},createFillNode:function(d,An,g){return new c(d,An,g)},createTransformNode:function(d,g){return new M(d,g)},createElement:function(){this.element=Ad("shape");this.setCoordsize();this.setStyle()},optionsChange:function(d){if(X(d.field)){this.fill.optionsChange(d)}else{if(d.field.indexOf("stroke")===0){this.stroke.optionsChange(d)}else{if(d.field==="transform"){this.transform.optionsChange(d)}else{if(d.field==="opacity"){this.fill.setOpacity();this.stroke.setOpacity()}}}}U.fn.optionsChange.call(this,d)},refreshTransform:function(d){this.transform.refresh(this.srcElement.currentTransform(d))},refreshOpacity:function(d){d*=D(this.srcElement.options.opacity,1);this.fill.refreshOpacity(d);this.stroke.refreshOpacity(d)},mapStyle:function(Ao,g){var An=U.fn.mapStyle.call(this);if(!Ao||!g){Ao=g=A}An.push(["position","absolute"],["width",Ao+"px"],["height",g+"px"]);var d=this.srcElement.options.cursor;if(d){An.push(["cursor",d])}return An},setCoordsize:function(){this.allAttr([["coordorigin","0 0"],["coordsize",F+" "+F]])}});var B=Y.extend({createElement:function(){this.element=Ad("path");this.setPathData()},geometryChange:function(){this.setPathData()},setPathData:function(){this.attr("v",this.renderData())},renderData:function(){return Aa(this.srcElement)}});var Z=W.extend({init:function(d,An,g){this.pathData=this.createDataNode(d);W.fn.init.call(this,d,An,g)},attachTo:function(g,d){this.pathData.attachTo(this.element);W.fn.attachTo.call(this,g,d)},createDataNode:function(d){return new B(d)},geometryChange:function(){this.pathData.geometryChange();W.fn.geometryChange.call(this)}});var e=B.extend({renderData:function(){var Ao=this.srcElement.paths;if(Ao.length>0){var g=[],d,An;for(d=0;d<Ao.length;d++){An=d<Ao.length-1;g.push(Aa(Ao[d],An))}return g.join(" ")}}});var w=Z.extend({createDataNode:function(d){return new e(d)}});var N=M.extend({transformOrigin:function(){var d=this.srcElement.geometry().bbox(),An=d.center(),g=-R(An.x)/R(d.width()),Ao=-R(An.y)/R(d.height());return g+","+Ao}});var C=W.extend({createElement:function(){this.element=Ad("oval");this.setStyle()},createTransformNode:function(d,g){return new N(d,g)},geometryChange:function(){W.fn.geometryChange.call(this);this.setStyle();this.refreshTransform()},mapStyle:function(){var An=this.srcElement.geometry();var Ao=An.radius;var g=An.center;var d=R(Ao*2);var Ap=W.fn.mapStyle.call(this,d,d);Ap.push(["left",R(g.x-Ao)+"px"],["top",R(g.y-Ao)+"px"]);return Ap}});var k=B.extend({renderData:function(){return Aa(this.srcElement.toPath())}});var y=Z.extend({createDataNode:function(d){return new k(d)}});var b=B.extend({createElement:function(){B.fn.createElement.call(this);this.attr("textpathok",true)},renderData:function(){var d=this.srcElement.rect();var g=d.center();return"m "+q([new Al.Point(d.topLeft().x,g.y)])+" l "+q([new Al.Point(d.bottomRight().x,g.y)])}});var Ak=Y.extend({createElement:function(){this.element=Ad("textpath");this.attr("on",true);this.attr("fitpath",false);this.setStyle();this.setString()},optionsChange:function(d){if(d.field==="content"){this.setString()}else{this.setStyle()}Y.fn.optionsChange.call(this,d)},mapStyle:function(){return[["font",this.srcElement.options.font]]},setString:function(){this.attr("string",this.srcElement.content())}});var f=Z.extend({init:function(d,An,g){this.path=new Ak(d);Z.fn.init.call(this,d,An,g)},createDataNode:function(d){return new b(d)},attachTo:function(g,d){this.path.attachTo(this.element);Z.fn.attachTo.call(this,g,d)},optionsChange:function(d){if(d.field==="font"||d.field==="content"){this.path.optionsChange(d);this.pathData.geometryChange(d)}Z.fn.optionsChange.call(this,d)}});var t=B.extend({renderData:function(){var d=this.srcElement.rect();var g=new Am.Path().moveTo(d.topLeft()).lineTo(d.topRight()).lineTo(d.bottomRight()).lineTo(d.bottomLeft()).close();return Aa(g)}});var p=M.extend({init:function(d,An,g){this.opacity=g;M.fn.init.call(this,d,An)},createElement:function(){this.element=Ad("fill");this.attr("type","frame");this.attr("rotate",true);this.setOpacity();this.setSrc();this.setTransform()},optionsChange:function(d){if(d.field==="src"){this.setSrc()}M.fn.optionsChange.call(this,d)},geometryChange:function(){this.refresh()},refreshOpacity:function(d){this.opacity=d;this.setOpacity()},setOpacity:function(){var d=[];this.mapOpacityTo(d,this.srcElement.options.opacity);this.allAttr(d)},setSrc:function(){this.attr("src",this.srcElement.src())},mapTransform:function(){var AB=this.srcElement;var As=AB.rawBBox();var Aq=As.center();var At=A/2;var Aw=A;var Ay;var Az;var Au=As.width()/Aw;var AA=As.height()/Aw;var Ap=0;var An=this.transform;if(An){var Ar=I(An);var Ax=z(Ar.a*Ar.a+Ar.b*Ar.b);var Ao=z(Ar.c*Ar.c+Ar.d*Ar.d);Au*=Ax;AA*=Ao;var g=Ac(u(Ar.b,Ar.d));var Av=Ac(u(-Ar.c,Ar.a));Ap=(g+Av)/2;if(Ap!==0){var d=AB.bbox().center();Ay=(d.x-At)/Aw;Az=(d.y-At)/Aw}else{Ay=(Aq.x*Ax+Ar.e-At)/Aw;Az=(Aq.y*Ao+Ar.f-At)/Aw}}else{Ay=(Aq.x-At)/Aw;Az=(Aq.y-At)/Aw}Au=Ae(Au,Ab);AA=Ae(AA,Ab);Ay=Ae(Ay,Ab);Az=Ae(Az,Ab);Ap=Ae(Ap,Ab);return[["size",Au+","+AA],["position",Ay+","+Az],["angle",Ap]]}});var Q=Z.extend({createFillNode:function(d,An,g){return new p(d,An,g)},createDataNode:function(d){return new t(d)},optionsChange:function(d){if(d.field==="src"||d.field==="transform"){this.fill.optionsChange(d)}Z.fn.optionsChange.call(this,d)},geometryChange:function(){this.fill.geometryChange();Z.fn.geometryChange.call(this)},refreshTransform:function(d){Z.fn.refreshTransform.call(this,d);this.fill.refresh(this.srcElement.currentTransform(d))}});var v={Group:T,Text:f,Path:Z,MultiPath:w,Circle:C,Arc:y,Image:Q};function J(){if(O.namespaces&&!O.namespaces.kvml){O.namespaces.add("kvml","urn:schemas-microsoft-com:vml");var d=O.styleSheets.length>30?O.styleSheets[0]:O.createStyleSheet();d.addRule(".kvml","behavior:url(#default#VML)")}}function Ad(d){var g=O.createElement("kvml:"+d);g.className="kvml";return g}function q(Ao){var d=Ao.length;var An=[];for(var g=0;g<d;g++){An.push(Ao[g].scaleCopy(A).toString(0,","))}return An.join(" ")}function Aa(Aq,Ap){var At=Aq.segments,g=At.length;if(g>0){var As=[],d,Ar,Ao,An;for(An=1;An<g;An++){Ar=P(At[An-1],At[An]);if(Ar!==Ao){Ao=Ar;As.push(Ar)}if(Ar==="l"){As.push(q([At[An].anchor()]))}else{As.push(q([At[An-1].controlOut(),At[An].controlIn(),At[An].anchor()]))}}d="m "+q([At[0].anchor()])+" "+As.join(" ");if(Aq.options.closed){d+=" x"}if(Ap!==true){d+=" e"}return d}}function P(g,d){return g.controlOut()&&d.controlIn()?"c":"l"}function X(d){return d.indexOf("fill")===0||d.indexOf(G)===0}function V(g,An,Ao){var d=Ao*D(An.opacity(),1);var Ap;if(g){Ap=Af(g,An.color(),d)}else{Ap=Af(An.color(),"#fff",1-d)}return Ap}function Af(An,Ao,Ap){var Aq=new j(An),Ar=new j(Ao),d=H(Aq.r,Ar.r,Ap),At=H(Aq.g,Ar.g,Ap),As=H(Aq.b,Ar.b,Ap);return new j(d,At,As).toHex()}function H(An,d,g){return r.round(g*d+(1-g)*An)}m.support.vml=(function(){var d=m.support.browser;return d.msie&&d.version<9})();var h="inherit";if(m.support.browser.msie&&m.support.browser.version<8){h="rect(auto auto auto auto)"}if(m.support.vml){Am.SurfaceFactory.current.register("vml",Ah,30)}Ag(Am,{vml:{ArcDataNode:k,ArcNode:y,CircleTransformNode:N,CircleNode:C,FillNode:c,GroupNode:T,ImageNode:Q,ImageFillNode:p,ImagePathDataNode:t,MultiPathDataNode:e,MultiPathNode:w,Node:Y,PathDataNode:B,PathNode:Z,RootNode:s,StrokeNode:x,Surface:Ah,TextNode:f,TextPathNode:Ak,TextPathDataNode:b,TransformNode:M}})})(window.kendo.jQuery);(function(n,e,b){var Ah=kendo.drawing;var Ap=kendo.geometry;var Y=Array.prototype.slice;var B=kendo.support.browser;var M="KENDO-PSEUDO-ELEMENT";var R={};var V={};V._root=V;var v=Ah.Text.extend({nodeType:"Text",init:function(As,Aq,Ar){Ah.Text.fn.init.call(this,As,Aq.getOrigin(),Ar);this._pdfRect=Aq},rect:function(){return this._pdfRect},rawBBox:function(){return this._pdfRect}});function w(Au,At){if(!At){At={}}var Av=n.Deferred();Au=n(Au)[0];if(!Au){return Av.reject("No element to export")}if(typeof window.getComputedStyle!="function"){throw new Error("window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.")}if(kendo.pdf){kendo.pdf.defineFont(U(Au.ownerDocument))}function Ar(Ay){var Aw=new Ah.Group();var Ax=Ay.getBoundingClientRect();t(Aw,[1,0,0,1,-Ax.left,-Ax.top]);V._clipbox=false;V._matrix=Ap.Matrix.unit();V._stackingContext={element:Ay,group:Aw};n(Ay).addClass("k-pdf-export");Ad(Ay,Aw);n(Ay).removeClass("k-pdf-export");return Aw}c(Au,function(){var AC=At&&At.forcePageBreak;var Ay=At&&At.paperSize&&At.paperSize!="auto";var AB=Ay&&kendo.pdf.getPaperOptions(function(AD,AE){return AD in At?At[AD]:AE});var Az=Ay&&AB.paperSize[0];var Ax=Ay&&AB.paperSize[1];var Aw=At.margin&&AB.margin;if(AC||Ax){if(!Aw){Aw={left:0,top:0,right:0,bottom:0}}var AA=new Ah.Group({pdf:{multiPage:true,paperSize:Ay?AB.paperSize:"auto"}});As(function(AF){if(At.progress){var AE=false,AD=0;(function AG(){if(AD<AF.pages.length){AA.append(Ar(AF.pages[AD]));At.progress({pageNum:++AD,totalPages:AF.pages.length,cancel:function(){AE=true}});if(!AE){setTimeout(AG)}else{AF.container.parentNode.removeChild(AF.container)}}else{AF.container.parentNode.removeChild(AF.container);Av.resolve(AA)}})()}else{AF.pages.forEach(function(AH){AA.append(Ar(AH))});AF.container.parentNode.removeChild(AF.container);Av.resolve(AA)}},Au,AC,Az?Az-Aw.left-Aw.right:null,Ax?Ax-Aw.top-Aw.bottom:null,Aw,At)}else{Av.resolve(Ar(Au))}});function Aq(Aw){if(Aw!=null){if(typeof Aw=="string"){Aw=kendo.template(Aw.replace(/^\s+|\s+$/g,""))}if(typeof Aw=="function"){return function(Ay){var Ax=Aw(Ay);if(Ax){return n(Ax)[0]}}}return function(){return n(Aw).clone()[0]}}}function As(Aw,AI,AK,Ax,AJ,AA,AL){var AP=Aq(AL.template);var AH=AI.ownerDocument;var AB=[];var Ay=n(AI).clone(true,true)[0];var AO=AH.createElement("KENDO-PDF-DOCUMENT");var AG=0;n(AO).css({display:"block",position:"absolute",boxSizing:"content-box",left:"-10000px",top:"-10000px"});if(Ax){n(AO).css({width:Ax,paddingLeft:AA.left,paddingRight:AA.right});n(Ay).css({overflow:"hidden"})}AO.appendChild(Ay);AI.parentNode.insertBefore(AO,AI);if(AL.beforePageBreak){setTimeout(function(){AL.beforePageBreak(AO,AE)},15)}else{setTimeout(AE,15)}function AE(){if(AK!="-"||AJ){AC(Ay)}var AS=AM();Ay.parentNode.insertBefore(AS,Ay);AS.appendChild(Ay);if(AP){var AQ=AB.length;AB.forEach(function(AV,AU){var AT=AP({element:AV,pageNum:AU+1,totalPages:AB.length});if(AT){AV.appendChild(AT);c(AT,function(){if(--AQ===0){AR()}})}})}else{AR()}function AR(){setTimeout(function(){Aw({pages:AB,container:AO})},10)}}function AC(AR){var AX=W(AR);var AY=e(f(AX,"padding-bottom"));var AQ=e(f(AX,"border-bottom-width"));var AV=AG;AG+=AY+AQ;var AS=true;for(var AW=AR.firstChild;AW;AW=AW.nextSibling){if(AW.nodeType==1){AS=false;var AT=n(AW);if(AT.is(AK)){AF(AW);continue}if(!AJ){AC(AW);continue}if(!/^(?:static|relative)$/.test(f(W(AW),"position"))){continue}var AU=AN(AW);if(AU==1){AF(AW)}else{if(AU){if(AT.data("kendoChart")||/^(?:img|tr|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(AW.tagName)){AF(AW)}else{AC(AW)}}else{AC(AW)}}}else{if(AW.nodeType==3&&AJ){Az(AW,AS);AS=false}}}AG=AV}function AD(AQ){var AR=AQ.parentNode,AS=AR.firstChild;if(AQ===AS){return true}if(AQ===AR.children[0]){if(AS.nodeType==7||AS.nodeType==8){return true}if(AS.nodeType==3){return !/\S/.test(AS.data)}}return false}function AF(AQ){if(AQ.nodeType==1&&AQ!==Ay&&AD(AQ)){return AF(AQ.parentNode)}var AS=AM();var AR=AH.createRange();AR.setStartBefore(Ay);AR.setEndBefore(AQ);AS.appendChild(AR.extractContents());Ay.parentNode.insertBefore(AS,Ay)}function AM(){var AQ=AH.createElement("KENDO-PDF-PAGE");n(AQ).css({display:"block",boxSizing:"content-box",width:Ax||"auto",padding:(AA.top+"px "+AA.right+"px "+AA.bottom+"px "+AA.left+"px"),position:"relative",height:AJ||"auto",overflow:AJ||Ax?"hidden":"visible",clear:"both"});if(AL&&AL.pageClassName){AQ.className=AL.pageClassName}AB.push(AQ);return AQ}function AN(AR){var AT=AR.getBoundingClientRect();if(AT.width===0||AT.height===0){return 0}var AS=Ay.getBoundingClientRect().top;var AQ=AJ-AG;return(AT.height>AQ)?3:(AT.top-AS>AQ)?1:(AT.bottom-AS>AQ)?2:0}function Az(AT,AQ){if(!/\S/.test(AT.data)){return}var AW=AT.data.length;var AX=AH.createRange();AX.selectNodeContents(AT);var AR=AN(AX);if(!AR){return}var AS=AT;if(AR==1){if(AQ){AF(AT.parentNode)}else{AF(AT)}}else{(function AU(AY,AZ,A0){AX.setEnd(AT,AZ);if(AY==AZ||AZ==A0){return AZ}if(AN(AX)){return AU(AY,(AY+AZ)>>1,AZ)}else{return AU(AZ,(AZ+A0)>>1,A0)}})(0,AW>>1,AW);if(!/\S/.test(AX.toString())&&AQ){AF(AT.parentNode)}else{AS=AT.splitText(AX.endOffset);var AV=AM();AX.setStartBefore(Ay);AV.appendChild(AX.extractContents());Ay.parentNode.insertBefore(AV,Ay)}}Az(AS)}}return Av.promise()}Ah.drawDOM=w;w.getFontFaces=U;var Af=(function(){var AD=/^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\s*)\(/;var Aq=/^((-webkit-|-moz-|-o-|-ms-)?radial-gradient\s*)\(/;var AE=/^([-0-9.]+%)/;var AC=/^([-0-9.]+px)/;var At=/^(left|right|top|bottom|to|center)\W/;var Aw=/^([-0-9.]+(deg|grad|rad|turn))/;var Ax=/^(\s+)/;var Ar=/^(\()/;var Ay=/^(\))/;var Av=/^(,)/;var AB=/^(url)\(/;var Az=/^(.*?)\)/;var As={},Au={};function AA(AK){var AM=AK;if(D(As,AM)){return As[AM]}function AL(){var AN=Ax.exec(AK);if(AN){AK=AK.substr(AN[1].length)}}function AG(AN){AL();var AO=AN.exec(AK);if(AO){AK=AK.substr(AO[1].length);return AO[1]}}function AI(){var AP=kendo.parseColor(AK,true);var AO,AN;if(AP){AK=AK.substr(AP.match[0].length);AP=AP.toRGB();if(!(AO=AG(AC))){AN=AG(AE)}return{color:AP,length:AO,percent:AN}}}function AF(AO){var AS;var AR,AQ;var AV=[];var AP=false;if(AG(Ar)){AS=AG(Aw);if(AS){AS=H(AS);AG(Av)}else{AR=AG(At);if(AR=="to"){AR=AG(At)}else{if(AR&&/^-/.test(AO)){AP=true}}AQ=AG(At);AG(Av)}if(/-moz-/.test(AO)&&AS==null&&AR==null){var AT=AG(AE),AU=AG(AE);AP=true;if(AT=="0%"){AR="left"}else{if(AT=="100%"){AR="right"}}if(AU=="0%"){AQ="top"}else{if(AU=="100%"){AQ="bottom"}}AG(Av)}while(AK&&!AG(Ay)){var AN=AI();if(!AN){break}AV.push(AN);AG(Av)}return{type:"linear",angle:AS,to:AR&&AQ?AR+" "+AQ:AR?AR:AQ?AQ:null,stops:AV,reverse:AP}}}function AJ(){if(AG(Ar)){var AN=AG(Az);AN=AN.replace(/^['"]+|["']+$/g,"");AG(Ay);return{type:"url",url:AN}}}var AH;if((AH=AG(AD))){AH=AF(AH)}else{if((AH=AG(AB))){AH=AJ()}}return(As[AM]=AH||{type:"none"})}return function(AF){if(D(Au,AF)){return Au[AF]}return(Au[AF]=Ae(AF).map(AA))}})();var Ae=(function(){var Aq={};return function(Az,Av){if(!Av){Av=/^\s*,\s*/}var Ar=Az+Av;if(D(Aq,Ar)){return Aq[Ar]}var AA=[];var Aw=0,Ax=0;var Au=0;var AB=false;var Ay;function As(AC){return(Ay=AC.exec(Az.substr(Ax)))}function At(AC){return AC.replace(/^\s+|\s+$/g,"")}while(Ax<Az.length){if(!AB&&As(/^[\(\[\{]/)){Au++;Ax++}else{if(!AB&&As(/^[\)\]\}]/)){Au--;Ax++}else{if(!AB&&As(/^[\"\']/)){AB=Ay[0];Ax++}else{if(AB=="'"&&As(/^\\\'/)){Ax+=2}else{if(AB=='"'&&As(/^\\\"/)){Ax+=2}else{if(AB=="'"&&As(/^\'/)){AB=false;Ax++}else{if(AB=='"'&&As(/^\"/)){AB=false;Ax++}else{if(As(Av)){if(!AB&&!Au&&Ax>Aw){AA.push(At(Az.substring(Aw,Ax)));Aw=Ax+Ay[0].length}Ax+=Ay[0].length}else{Ax++}}}}}}}}}if(Aw<Ax){AA.push(At(Az.substring(Aw,Ax)))}return(Aq[Ar]=AA)}})();var E=(function(){var Aq={};return function(Ar){var As=Aq[Ar];if(!As){var At;if((At=/url\((['"]?)([^'")]*?)\1\)\s+format\((['"]?)truetype\3\)/.exec(Ar))){As=Aq[Ar]=At[2]}else{if((At=/url\((['"]?)([^'")]*?\.ttf)\1\)/.exec(Ar))){As=Aq[Ar]=At[2]}}}return As}})();function U(Aw){if(Aw==null){Aw=document}var Ar={};for(var Aq=0;Aq<Aw.styleSheets.length;++Aq){As(Aw.styleSheets[Aq])}return Ar;function As(Ax){if(Ax){var Ay=null;try{Ay=Ax.cssRules}catch(Az){}if(Ay){At(Ax,Ay)}}}function Au(Ax){var Az=f(Ax.style,"src");if(Az){return Ae(Az).reduce(function(AC,AA){var AB=E(AA);if(AB){AC.push(AB)}return AC},[])}else{var Ay=E(Ax.cssText);return Ay?[Ay]:[]}}function At(AB,AA){for(var AD=0;AD<AA.length;++AD){var Ax=AA[AD];switch(Ax.type){case 3:As(Ax.styleSheet);break;case 5:var AC=Ax.style;var AE=Ae(f(AC,"font-family"));var Az=/^(400|bold)$/i.test(f(AC,"font-weight"));var AF="italic"==f(AC,"font-style");var Ay=Au(Ax);if(Ay.length>0){Av(AB,AE,Az,AF,Ay[0])}}}}function Av(Ay,AB,AA,Ax,Az){if(!(/^data:/i.test(Az))){if(!(/^[^\/:]+:\/\//.test(Az)||/^\//.test(Az))){Az=String(Ay.href).replace(/[^\/]*$/,"")+Az}}AB.forEach(function(AC){AC=AC.replace(/^(['"]?)(.*?)\1$/,"$2");if(AA){AC+="|bold"}if(Ax){AC+="|italic"}Ar[AC]=Az})}}function D(Ar,Aq){return Object.prototype.hasOwnProperty.call(Ar,Aq)}function l(Aq){Aq="_counter_"+Aq;return V[Aq]}function Ao(Ar){var As=[],Aq=V;Ar="_counter_"+Ar;while(Aq){if(D(Aq,Ar)){As.push(Aq[Ar])}Aq=Object.getPrototypeOf(Aq)}return As.reverse()}function k(Ar,As){var Aq=V;Ar="_counter_"+Ar;while(Aq&&!D(Aq,Ar)){Aq=Object.getPrototypeOf(Aq)}if(!Aq){Aq=V._root}Aq[Ar]=(Aq[Ar]||0)+(As==null?1:As)}function s(Aq,Ar){Aq="_counter_"+Aq;V[Aq]=Ar==null?0:Ar}function Ab(Au,Av,As){for(var Aq=0;Aq<Au.length;){var Ar=Au[Aq++];var At=e(Au[Aq]);if(isNaN(At)){Av(Ar,As)}else{Av(Ar,At);++Aq}}}function u(Ar,Aq){var As=kendo.parseColor(Ar);if(As){As=As.toRGB();if(Aq){As=As.toCssRgba()}else{if(As.a===0){As=null}}}return As}function c(Av,Aq){var Ar=[];function Au(Ax){if(!R[Ax]){R[Ax]=true;Ar.push(Ax)}}(function At(Ax){if(/^img$/i.test(Ax.tagName)){Au(Ax.src)}Af(f(W(Ax),"background-image")).forEach(function(Ay){if(Ay.type=="url"){Au(Ay.url)}});Y.call(Ax.children).forEach(At)})(Av);var Aw=Ar.length;function As(){if(--Aw<=0){Aq()}}if(Aw===0){As()}Ar.forEach(function(Ax){var Ay=R[Ax]=new Image();if(!(/^data:/i.test(Ax))){Ay.crossOrigin="Anonymous"}Ay.src=Ax;if(Ay.complete){As()}else{Ay.onload=As;Ay.onerror=function(){R[Ax]=null;As()}}})}function O(Aq){var As={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1000:"m"};var At=[1000,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1];var Ar="";while(Aq>0){if(Aq<At[0]){At.shift()}else{Ar+=As[At[0]];Aq-=At[0]}}return Ar}function I(Ar){var As="";do{var Aq=Ar%26;As=String.fromCharCode(97+Aq)+As;Ar=b.floor(Ar/26)}while(Ar>0);return As}function P(At,As,Aq){V=Object.create(V);V[At.tagName.toLowerCase()]={element:At,style:As};var Ar=f(As,"text-decoration");if(Ar&&Ar!="none"){var Au=f(As,"color");Ar.split(/\s+/g).forEach(function(Av){if(!V[Av]){V[Av]=Au}})}if(r(As)){V._stackingContext={element:At,group:Aq}}}function X(){V=Object.getPrototypeOf(V)}function S(Ar){if(V._clipbox!=null){var Aq=Ar.bbox(V._matrix);if(V._clipbox){V._clipbox=Ap.Rect.intersect(V._clipbox,Aq)}else{V._clipbox=Aq}}}function Ak(){var Aq=V._clipbox;if(Aq==null){return true}if(Aq){return Aq.width()===0||Aq.height()===0}}function r(Aq){function Ar(As){return f(Aq,As)}if(Ar("transform")!="none"||(Ar("position")!="static"&&Ar("z-index")!="auto")||(Ar("opacity")<1)){return true}}function W(Ar,Aq){return window.getComputedStyle(Ar,Aq||null)}function f(Aq,Ar){return Aq.getPropertyValue(Ar)||(B.webkit&&Aq.getPropertyValue("-webkit-"+Ar))||(B.mozilla&&Aq.getPropertyValue("-moz-"+Ar))||(B.opera&&Aq.getPropertyValue("-o-"+Ar))||(B.msie&&Aq.getPropertyValue("-ms-"+Ar))}function J(Ar,As,At,Aq){Ar.setProperty(As,At,Aq);if(B.webkit){Ar.setProperty("-webkit-"+As,At,Aq)}else{if(B.mozilla){Ar.setProperty("-moz-"+As,At,Aq)}else{if(B.opera){Ar.setProperty("-o-"+As,At,Aq)}else{if(B.msie){Ar.setProperty("-ms-"+As,At,Aq);As="ms"+As.replace(/(^|-)([a-z])/g,function(Au,Av,Aw){return Av+Aw.toUpperCase()});Ar[As]=At}}}}}function h(Ar){if(B.msie){var Aq=Ar.getClientRects();if(Aq.length==2&&Aq[1].width===0){return Aq[0]}}return Ar.getBoundingClientRect()}function y(Aq,Ar){Ar="border-"+Ar;return{width:e(f(Aq,Ar+"-width")),style:f(Aq,Ar+"-style"),color:u(f(Aq,Ar+"-color"),true)}}function Al(As,Aq){var At=As.style.cssText;var Ar=Aq();As.style.cssText=At;return Ar}function Ai(Ar,As){var Aq=f(Ar,"border-"+As+"-radius").split(/\s+/g).map(e);if(Aq.length==1){Aq.push(Aq[0])}return Z({x:Aq[0],y:Aq[1]})}function Ag(Ar){var Aq=Ar.getBoundingClientRect();Aq=An(Aq,"border-*-width",Ar);Aq=An(Aq,"padding-*",Ar);return Aq}function An(At,As,Aq){var Au,Ar,Aw,Av,Ax;if(typeof As=="string"){Au=W(Aq);Ar=e(f(Au,As.replace("*","top")));Aw=e(f(Au,As.replace("*","right")));Av=e(f(Au,As.replace("*","bottom")));Ax=e(f(Au,As.replace("*","left")))}else{if(typeof As=="number"){Ar=Aw=Av=Ax=As}}return{top:At.top+Ar,right:At.right-Aw,bottom:At.bottom-Av,left:At.left+Ax,width:At.right-At.left-Aw-Ax,height:At.bottom-At.top-Av-Ar}}function j(Ar){var At=f(Ar,"transform");if(At=="none"){return null}var Aq=/^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(At);if(Aq){var As=f(Ar,"transform-origin");Aq=Aq[1].split(/\s*,\s*/g).map(e);As=As.split(/\s+/g).map(e);return{matrix:Aq,origin:As}}}function A(Aq){return((180*Aq)/b.PI)%360}function H(Ar){var Aq=e(Ar);if(/grad$/.test(Ar)){return b.PI*Aq/200}else{if(/rad$/.test(Ar)){return Aq}else{if(/turn$/.test(Ar)){return b.PI*Aq*2}else{if(/deg$/.test(Ar)){return b.PI*Aq/180}}}}}function t(Ar,Aq){Aq=new Ap.Matrix(Aq[0],Aq[1],Aq[2],Aq[3],Aq[4],Aq[5]);Ar.transform(Aq);return Aq}function m(Ar,Aq){Ar.clip(Aq)}function Am(Av,At,Au,As){var Ar=new Ap.Arc([At,Au],As).curvePoints(),Aq=1;while(Aq<Ar.length){Av.curveTo(Ar[Aq++],Ar[Aq++],Ar[Aq++])}}function Z(Aq){if(Aq.x<=0||Aq.y<=0){Aq.x=Aq.y=0}return Aq}function G(Ax,Aw,Av,Az,AA){var Ar=b.max(0,Aw.x),At=b.max(0,Aw.y);var Ay=b.max(0,Av.x),AC=b.max(0,Av.y);var AB=b.max(0,Az.x),Au=b.max(0,Az.y);var Aq=b.max(0,AA.x),As=b.max(0,AA.y);var AD=b.min(Ax.width/(Ar+Ay),Ax.height/(AC+Au),Ax.width/(AB+Aq),Ax.height/(As+At));if(AD<1){Ar*=AD;At*=AD;Ay*=AD;AC*=AD;AB*=AD;Au*=AD;Aq*=AD;As*=AD}return{tl:{x:Ar,y:At},tr:{x:Ay,y:AC},br:{x:AB,y:Au},bl:{x:Aq,y:As}}}function N(As,Ay,AE){var Az=W(As);var Ax=Ai(Az,"top-left");var Aw=Ai(Az,"top-right");var AC=Ai(Az,"bottom-left");var AB=Ai(Az,"bottom-right");if(AE=="padding"||AE=="content"){var Aq=y(Az,"top");var Au=y(Az,"right");var At=y(Az,"bottom");var AD=y(Az,"left");Ax.x-=AD.width;Ax.y-=Aq.width;Aw.x-=Au.width;Aw.y-=Aq.width;AB.x-=Au.width;AB.y-=At.width;AC.x-=AD.width;AC.y-=At.width;if(AE=="content"){var Ar=e(f(Az,"padding-top"));var AA=e(f(Az,"padding-right"));var AF=e(f(Az,"padding-bottom"));var Av=e(f(Az,"padding-left"));Ax.x-=Av;Ax.y-=Ar;Aw.x-=AA;Aw.y-=Ar;AB.x-=AA;AB.y-=AF;AC.x-=Av;AC.y-=AF}}if(typeof AE=="number"){Ax.x-=AE;Ax.y-=AE;Aw.x-=AE;Aw.y-=AE;AB.x-=AE;AB.y-=AE;AC.x-=AE;AC.y-=AE}return Q(Ay,Ax,Aw,AB,AC)}function Q(Au,AA,Az,Aq,Ay){var As=G(Au,AA,Az,Aq,Ay);var At=As.tl;var Av=As.tr;var Ar=As.br;var Aw=As.bl;var Ax=new Ah.Path({fill:null,stroke:null});Ax.moveTo(Au.left,Au.top+At.y);if(At.x){Am(Ax,Au.left+At.x,Au.top+At.y,{startAngle:-180,endAngle:-90,radiusX:At.x,radiusY:At.y})}Ax.lineTo(Au.right-Av.x,Au.top);if(Av.x){Am(Ax,Au.right-Av.x,Au.top+Av.y,{startAngle:-90,endAngle:0,radiusX:Av.x,radiusY:Av.y})}Ax.lineTo(Au.right,Au.bottom-Ar.y);if(Ar.x){Am(Ax,Au.right-Ar.x,Au.bottom-Ar.y,{startAngle:0,endAngle:90,radiusX:Ar.x,radiusY:Ar.y})}Ax.lineTo(Au.left+Aw.x,Au.bottom);if(Aw.x){Am(Ax,Au.left+Aw.x,Au.bottom-Aw.y,{startAngle:90,endAngle:180,radiusX:Aw.x,radiusY:Aw.y})}return Ax.close()}function C(As,Aq){var Ar=e(As)+"";switch(Aq){case"decimal-leading-zero":if(Ar.length<2){Ar="0"+Ar}return Ar;case"lower-roman":return O(As);case"upper-roman":return O(As).toUpperCase();case"lower-latin":case"lower-alpha":return I(As-1);case"upper-latin":case"upper-alpha":return I(As-1).toUpperCase();default:return Ar}}function Aj(Au,Aq){function Ar(Aw,Ay,Ax){if(!Ax){return C(l(Aw)||0,Ay)}Ax=Ax.replace(/^\s*(["'])(.*)\1\s*$/,"$2");return Ao(Aw).map(function(Az){return C(Az,Ay)}).join(Ax)}var Av=Ae(Aq,/^\s+/);var At=[],As;Av.forEach(function(Aw){var Ax;if((As=/^\s*(["'])(.*)\1\s*$/.exec(Aw))){At.push(As[2].replace(/\\([0-9a-f]{4})/gi,function(Ay,Az){return String.fromCharCode(parseInt(Az,16))}))}else{if((As=/^\s*counter\((.*?)\)\s*$/.exec(Aw))){Ax=Ae(As[1]);At.push(Ar(Ax[0],Ax[1]))}else{if((As=/^\s*counters\((.*?)\)\s*$/.exec(Aw))){Ax=Ae(As[1]);At.push(Ar(Ax[0],Ax[2],Ax[1]))}else{if((As=/^\s*attr\((.*?)\)\s*$/.exec(Aw))){At.push(Au.getAttribute(As[1])||"")}else{At.push(Aw)}}}}});return At.join("")}function x(As){if(As.cssText){return As.cssText}var Ar=[];for(var Aq=0;Aq<As.length;++Aq){Ar.push(As[Aq]+": "+f(As,As[Aq]))}return Ar.join(";\n")}function p(At,Aq){if(At.tagName==M){K(At,Aq);return}var As=[];function Ar(Ax,Au){var Aw=W(At,Ax);if(Aw.content&&Aw.content!="normal"&&Aw.content!="none"&&Aw.width!="0px"){var Av=At.ownerDocument.createElement(M);Av.style.cssText=x(Aw);Av.textContent=Aj(At,Aw.content);At.insertBefore(Av,Au);if(Ax==":before"&&!(/absolute|fixed/.test(f(Av.style,"position")))){Av.style.marginLeft=e(f(Av.style,"margin-left"))-Av.offsetWidth+"px"}As.push(Av)}}Ar(":before",At.firstChild);Ar(":after",null);K(At,Aq);As.forEach(function(Au){At.removeChild(Au)})}function K(AL,AI){var AQ=W(AL);var AK=y(AQ,"top");var Ax=y(AQ,"right");var AC=y(AQ,"bottom");var AN=y(AQ,"left");var AM=Ai(AQ,"top-left");var Aw=Ai(AQ,"top-right");var Aq=Ai(AQ,"bottom-left");var AB=Ai(AQ,"bottom-right");var AJ=f(AQ,"direction");var AP=f(AQ,"background-color");AP=u(AP);var AH=Af(f(AQ,"background-image"));var Av=Ae(f(AQ,"background-repeat"));var Ay=Ae(f(AQ,"background-position"));var Au=Ae(f(AQ,"background-origin"));var AG=Ae(f(AQ,"background-size"));if(B.msie&&B.version<10){Ay=Ae(AL.currentStyle.backgroundPosition)}var Az=An(AL.getBoundingClientRect(),"border-*-width",AL);(function(){var AZ=f(AQ,"clip");var AV=/^\s*rect\((.*)\)\s*$/.exec(AZ);if(AV){var AY=AV[1].split(/[ ,]+/g);var AT=AY[0]=="auto"?Az.top:e(AY[0])+Az.top;var AR=AY[1]=="auto"?Az.right:e(AY[1])+Az.left;var AW=AY[2]=="auto"?Az.bottom:e(AY[2])+Az.top;var AU=AY[3]=="auto"?Az.left:e(AY[3])+Az.left;var AS=new Ah.Group();var AX=new Ah.Path().moveTo(AU,AT).lineTo(AR,AT).lineTo(AR,AW).lineTo(AU,AW).close();m(AS,AX);AI.append(AS);AI=AS;S(AX)}})();var AD=AL.getClientRects();if(AD.length==1){AD=[AL.getBoundingClientRect()]}AD=AF(AD);for(var AO=0;AO<AD.length;++AO){Ar(AD[AO],AO===0,AO==AD.length-1)}if(AD.length>0&&f(AQ,"display")=="list-item"){AA(AD[0])}(function(){function AR(){var AT=N(AL,Az,"padding");var AS=new Ah.Group();m(AS,AT);AI.append(AS);AI=AS;S(AT)}if(g(AL)){AR()}else{if(/^(hidden|auto|scroll)/.test(f(AQ,"overflow"))){AR()}else{if(/^(hidden|auto|scroll)/.test(f(AQ,"overflow-x"))){AR()}else{if(/^(hidden|auto|scroll)/.test(f(AQ,"overflow-y"))){AR()}}}}})();if(!Ac(AL,AI)){o(AL,AI)}return AI;function AF(AT){if(/^td$/i.test(AL.tagName)){var AW=V.table;if(AW&&f(AW.style,"border-collapse")=="collapse"){var AU=y(AW.style,"left").width;var AS=y(AW.style,"top").width;if(AU===0&&AS===0){return AT}var AV=AW.element.getBoundingClientRect();var AX=AW.element.rows[0].cells[0];var AR=AX.getBoundingClientRect();if(AR.top==AV.top||AR.left==AV.left){return Y.call(AT).map(function(AY){return{left:AY.left+AU,top:AY.top+AS,right:AY.right+AU,bottom:AY.bottom+AS,height:AY.height,width:AY.width}})}}}return AT}function At(AS,AZ,AT,AR,A0,AU,AV,AW){if(AT<=0){return}var AY,AX=new Ah.Group();t(AX,AW);AI.append(AX);Z(AU);Z(AV);AY=new Ah.Path({fill:{color:AS},stroke:null});AX.append(AY);AY.moveTo(AU.x?b.max(AU.x,AR):0,0).lineTo(AZ-(AV.x?b.max(AV.x,A0):0),0).lineTo(AZ-b.max(AV.x,A0),AT).lineTo(b.max(AU.x,AR),AT).close();if(AU.x){A1(AR,AU,[-1,0,0,1,AU.x,0])}if(AV.x){A1(A0,AV,[1,0,0,1,AZ-AV.x,0])}function A1(A4,A2,A7){var A6=b.PI/2*A4/(A4+AT);var A5={x:A2.x-A4,y:A2.y-AT};var A3=new Ah.Path({fill:{color:AS},stroke:null}).moveTo(0,0);t(A3,A7);Am(A3,0,A2.y,{startAngle:-90,endAngle:-A(A6),radiusX:A2.x,radiusY:A2.y});if(A5.x>0&&A5.y>0){A3.lineTo(A5.x*b.cos(A6),A2.y-A5.y*b.sin(A6));Am(A3,0,A2.y,{startAngle:-A(A6),endAngle:-90,radiusX:A5.x,radiusY:A5.y,anticlockwise:true})}else{if(A5.x>0){A3.lineTo(A5.x,AT).lineTo(0,AT)}else{A3.lineTo(A5.x,AT).lineTo(A5.x,0)}}AX.append(A3.close())}}function As(AS){var AT=new Ah.Group();m(AT,Q(AS,AM,Aw,AB,Aq));AI.append(AT);if(AL.tagName=="A"&&AL.href&&!/^#?$/.test(n(AL).attr("href"))){AT._pdfLink={url:AL.href,top:AS.top,right:AS.right,bottom:AS.bottom,left:AS.left}}if(AP){var AU=new Ah.Path({fill:{color:AP.toCssRgba()},stroke:null});AU.moveTo(AS.left,AS.top).lineTo(AS.right,AS.top).lineTo(AS.right,AS.bottom).lineTo(AS.left,AS.bottom).close();AT.append(AU)}for(var AR=AH.length;--AR>=0;){AE(AT,AS,AH[AR],Av[AR%Av.length],Ay[AR%Ay.length],Au[AR%Au.length],AG[AR%AG.length])}}function AE(AW,AU,AZ,AR,AV,AX,AT){if(!AZ||(AZ=="none")){return}if(AZ.type=="url"){if(/^url\(\"data:image\/svg/i.test(AZ.url)){return}var AS=R[AZ.url];if(AS&&AS.width>0&&AS.height>0){AY(AW,AU,AS.width,AS.height,function(A0,A1){A0.append(new Ah.Image(AZ.url,A1))})}}else{if(AZ.type=="linear"){AY(AW,AU,AU.width,AU.height,F(AZ))}else{return}}function AY(A9,A7,Bb,A3,A4){var A6=Bb/A3;var Bc=A7;if(AX=="content-box"){Bc=An(Bc,"border-*-width",AL);Bc=An(Bc,"padding-*",AL)}else{if(AX=="padding-box"){Bc=An(Bc,"border-*-width",AL)}}if(!/^\s*auto(\s+auto)?\s*$/.test(AT)){var Bd=AT.split(/\s+/g);if(/%$/.test(Bd[0])){Bb=Bc.width*e(Bd[0])/100}else{Bb=e(Bd[0])}if(Bd.length==1||Bd[1]=="auto"){A3=Bb/A6}else{if(/%$/.test(Bd[1])){A3=Bc.height*e(Bd[1])/100}else{A3=e(Bd[1])}}}var Ba=(AV+"").split(/\s+/);if(Ba.length==1){Ba[1]="50%"}if(/%$/.test(Ba[0])){Ba[0]=e(Ba[0])/100*(Bc.width-Bb)}else{Ba[0]=e(Ba[0])}if(/%$/.test(Ba[1])){Ba[1]=e(Ba[1])/100*(Bc.height-A3)}else{Ba[1]=e(Ba[1])}var A5=new Ap.Rect([Bc.left+Ba[0],Bc.top+Ba[1]],[Bb,A3]);function A8(){while(A5.origin.x>A7.left){A5.origin.x-=Bb}}function A2(){while(A5.origin.y>A7.top){A5.origin.y-=A3}}function A1(){while(A5.origin.x<A7.right){A4(A9,A5.clone());A5.origin.x+=Bb}}if(AR=="no-repeat"){A4(A9,A5)}else{if(AR=="repeat-x"){A8();A1()}else{if(AR=="repeat-y"){A2();while(A5.origin.y<A7.bottom){A4(A9,A5.clone());A5.origin.y+=A3}}else{if(AR=="repeat"){A8();A2();var A0=A5.origin.clone();while(A5.origin.y<A7.bottom){A5.origin.x=A0.x;A1();A5.origin.y+=A3}}}}}}}function AA(AT){var AU=f(AQ,"list-style-type");if(AU=="none"){return}var AW=f(AQ,"list-style-image");var AV=f(AQ,"list-style-position");function AS(AX){Al(AL,function(){AL.style.position="relative";var AY=AL.ownerDocument.createElement(M);AY.style.position="absolute";AY.style.boxSizing="border-box";if(AV=="outside"){AY.style.width="6em";AY.style.left="-6.8em";AY.style.textAlign="right"}else{AY.style.left="0px"}AX(AY);AL.insertBefore(AY,AL.firstChild);Ad(AY,AI);AL.removeChild(AY)})}function AR(AZ){var AY=AL.parentNode.children;for(var AX=0;AX<AY.length;++AX){if(AY[AX]===AL){return AZ(AX,AY.length)}}}switch(AU){case"circle":case"disc":case"square":AS(function(AX){AX.style.fontSize="60%";AX.style.lineHeight="200%";AX.style.paddingRight="0.5em";AX.style.fontFamily="DejaVu Serif";AX.innerHTML={"disc":"\u25cf","circle":"\u25ef","square":"\u25a0"}[AU]});break;case"decimal":case"decimal-leading-zero":AS(function(AX){AR(function(AZ,AY){++AZ;if(AU=="decimal-leading-zero"&&(AZ+"").length<2){AZ="0"+AZ}AX.innerHTML=AZ+"."})});break;case"lower-roman":case"upper-roman":AS(function(AX){AR(function(AZ,AY){AZ=O(AZ+1);if(AU=="upper-roman"){AZ=AZ.toUpperCase()}AX.innerHTML=AZ+"."})});break;case"lower-latin":case"lower-alpha":case"upper-latin":case"upper-alpha":AS(function(AX){AR(function(AZ,AY){AZ=I(AZ);if(/^upper/i.test(AU)){AZ=AZ.toUpperCase()}AX.innerHTML=AZ+"."})});break}}function Ar(AZ,AS,AY){if(AZ.width===0||AZ.height===0){return}As(AZ);var AX=(AN.width>0&&((AS&&AJ=="ltr")||(AY&&AJ=="rtl")));var A2=(Ax.width>0&&((AY&&AJ=="ltr")||(AS&&AJ=="rtl")));if(AK.width===0&&AN.width===0&&Ax.width===0&&AC.width===0){return}if(true){if(AK.color==Ax.color&&AK.color==AC.color&&AK.color==AN.color){if(AK.width==Ax.width&&AK.width==AC.width&&AK.width==AN.width){if(AX&&A2){AZ=An(AZ,AK.width/2);var A1=N(AL,AZ,AK.width/2);A1.options.stroke={color:AK.color,width:AK.width};AI.append(A1);return}}}if(AM.x===0&&Aw.x===0&&AB.x===0&&Aq.x===0){if(AK.width<2&&AN.width<2&&Ax.width<2&&AC.width<2){if(AK.width>0){AI.append(new Ah.Path({stroke:{width:AK.width,color:AK.color}}).moveTo(AZ.left,AZ.top+AK.width/2).lineTo(AZ.right,AZ.top+AK.width/2))}if(AC.width>0){AI.append(new Ah.Path({stroke:{width:AC.width,color:AC.color}}).moveTo(AZ.left,AZ.bottom-AC.width/2).lineTo(AZ.right,AZ.bottom-AC.width/2))}if(AX){AI.append(new Ah.Path({stroke:{width:AN.width,color:AN.color}}).moveTo(AZ.left+AN.width/2,AZ.top).lineTo(AZ.left+AN.width/2,AZ.bottom))}if(A2){AI.append(new Ah.Path({stroke:{width:Ax.width,color:Ax.color}}).moveTo(AZ.right-Ax.width/2,AZ.top).lineTo(AZ.right-Ax.width/2,AZ.bottom))}return}}}var AW=G(AZ,AM,Aw,AB,Aq);var AR=AW.tl;var A0=AW.tr;var AT=AW.br;var AU=AW.bl;At(AK.color,AZ.width,AK.width,AN.width,Ax.width,AR,A0,[1,0,0,1,AZ.left,AZ.top]);At(AC.color,AZ.width,AC.width,Ax.width,AN.width,AT,AU,[-1,0,0,-1,AZ.right,AZ.bottom]);function AV(A3){return{x:A3.y,y:A3.x}}At(AN.color,AZ.height,AN.width,AC.width,AK.width,AV(AU),AV(AR),[0,-1,1,0,AZ.left,AZ.bottom]);At(Ax.color,AZ.height,Ax.width,AK.width,AC.width,AV(A0),AV(AT),[0,1,-1,0,AZ.right,AZ.top])}}function F(Aq){return function(Ay,Ax){var AA=Ax.width(),AG=Ax.height(),AI=Ax.topLeft();switch(Aq.type){case"linear":var Au=Aq.angle!=null?Aq.angle:b.PI;switch(Aq.to){case"top":Au=0;break;case"left":Au=-b.PI/2;break;case"bottom":Au=b.PI;break;case"right":Au=b.PI/2;break;case"top left":case"left top":Au=-b.atan2(AG,AA);break;case"top right":case"right top":Au=b.atan2(AG,AA);break;case"bottom left":case"left bottom":Au=b.PI+b.atan2(AG,AA);break;case"bottom right":case"right bottom":Au=b.PI-b.atan2(AG,AA);break}if(Aq.reverse){Au-=b.PI}Au%=2*b.PI;if(Au<0){Au+=2*b.PI}var Av=b.abs(AA*b.sin(Au))+b.abs(AG*b.cos(Au));var As=b.atan(AA*b.tan(Au)/AG);var AD=b.sin(As),AC=b.cos(As);var Ar=b.abs(AD)+b.abs(AC);var AE=Ar/2*AD;var AF=Ar/2*AC;if(Au>b.PI/2&&Au<=3*b.PI/2){AE=-AE;AF=-AF}var Az=[],At=0;var AB=Aq.stops.map(function(AK,AJ){var AM=AK.percent;if(AM){AM=e(AM)/100}else{if(AK.length){AM=e(AK.length)/Av}else{if(AJ===0){AM=0}else{if(AJ==Aq.stops.length-1){AM=1}}}}var AL={color:AK.color.toCssRgba(),offset:AM};if(AM!=null){At=AM;Az.forEach(function(AO,AN){var AP=AO.stop;AP.offset=AO.left+(At-AO.left)*(AN+1)/(Az.length+1)});Az=[]}else{Az.push({left:At,stop:AL})}return AL});var AH=[0.5-AE,0.5+AF];var Aw=[0.5+AE,0.5-AF];Ay.append(Ah.Path.fromRect(Ax).stroke(null).fill(new Ah.LinearGradient({start:AH,end:Aw,stops:AB,userSpace:false})));break;case"radial":if(window.console&&window.console.log){window.console.log("Radial gradients are not yet supported in HTML renderer")}break}}}function Ac(Au,Aq){if(Au.getAttribute(kendo.attr("role"))){var At=kendo.widgetInstance(n(Au));if(At&&(At.exportDOMVisual||At.exportVisual)){var As;if(At.exportDOMVisual){As=At.exportDOMVisual()}else{As=At.exportVisual()}if(!As){return false}var Ar=new Ah.Group();Ar.children.push(As);var Av=Au.getBoundingClientRect();Ar.transform(Ap.transform().translate(Av.left,Av.top));Aq.append(Ar);return true}}}function a(Av,Ar,Aq){var Au=Ag(Av);var As=new Ap.Rect([Au.left,Au.top],[Au.width,Au.height]);var At=new Ah.Image(Ar,As);m(At,N(Av,Au,"content"));Aq.append(At)}function z(Aw,Av){var Ar=W(Aw);var At=W(Av);var Ax=e(f(Ar,"z-index"));var Aq=e(f(At,"z-index"));var As=f(Ar,"position");var Au=f(At,"position");if(isNaN(Ax)&&isNaN(Aq)){if((/static|absolute/.test(As))&&(/static|absolute/.test(Au))){return 0}if(As=="static"){return -1}if(Au=="static"){return 1}return 0}if(isNaN(Ax)){return Aq===0?0:Aq>0?-1:1}if(isNaN(Aq)){return Ax===0?0:Ax>0?1:-1}return e(Ax)-e(Aq)}function g(Aq){return/^(?:textarea|select|input)$/i.test(Aq.tagName)}function q(Aq){if(Aq.selectedOptions&&Aq.selectedOptions.length>0){return Aq.selectedOptions[0]}return Aq.options[Aq.selectedIndex]}function d(Aq,Au){var Aw=Aq.tagName.toLowerCase();var Ar=Aq.parentNode;var Av=Aq.ownerDocument;var As=Av.createElement(M);var Ax;As.style.cssText=x(W(Aq));As.style.display="inline-block";if(Aw=="input"){As.style.whiteSpace="pre"}if(Aw=="select"||Aw=="textarea"){As.style.overflow="auto"}if(Aw=="select"){if(Aq.multiple){for(var At=0;At<Aq.options.length;++At){Ax=Av.createElement(M);Ax.style.cssText=x(W(Aq.options[At]));Ax.style.display="block";Ax.textContent=Aq.options[At].textContent;As.appendChild(Ax)}}else{Ax=q(Aq);if(Ax){As.textContent=Ax.textContent}}}else{As.textContent=Aq.value}Ar.insertBefore(As,Aq);As.scrollLeft=Aq.scrollLeft;As.scrollTop=Aq.scrollTop;o(As,Au);Ar.removeChild(As)}function o(Ar,Av){if(V._stackingContext.element===Ar){V._stackingContext.group=Av}switch(Ar.tagName.toLowerCase()){case"img":a(Ar,Ar.src,Av);break;case"canvas":try{a(Ar,Ar.toDataURL("image/png"),Av)}catch(Az){}break;case"textarea":case"input":case"select":d(Ar,Av);break;default:var AB=[],Aq=[],As=[],Aw=[];for(var Au=Ar.firstChild;Au;Au=Au.nextSibling){switch(Au.nodeType){case 3:if(/\S/.test(Au.data)){Aa(Ar,Au,Av)}break;case 1:var At=W(Au);var AA=f(At,"display");var Ay=f(At,"float");var Ax=f(At,"position");if(Ax!="static"){Aw.push(Au)}else{if(AA!="inline"){if(Ay!="none"){Aq.push(Au)}else{AB.push(Au)}}else{As.push(Au)}}break}}AB.sort(z).forEach(function(AC){Ad(AC,Av)});Aq.sort(z).forEach(function(AC){Ad(AC,Av)});As.sort(z).forEach(function(AC){Ad(AC,Av)});Aw.sort(z).forEach(function(AC){Ad(AC,Av)})}}function Aa(AE,AD,AC){if(Ak()){return}var AH=W(AE);if(e(f(AH,"text-indent"))<-500){return}var Ay=AD.data;var AA=0;var At=Ay.search(/\S\s*$/)+1;if(!At){return}var AF=f(AH,"font-size");var Az=f(AH,"line-height");var Ax=[f(AH,"font-style"),f(AH,"font-variant"),f(AH,"font-weight"),AF,f(AH,"font-family")].join(" ");AF=e(AF);Az=e(Az);if(AF===0){return}var Aw=f(AH,"color");var Ar=AE.ownerDocument.createRange();var Au=f(AH,"text-align");var Av=Au=="justify";var AG=f(AH,"white-space");var AB=AE.getBoundingClientRect().width/AF*5;if(AB===0){AB=500}while(!Aq()){}return;function Aq(){var AL=AA;var AO,AR=Ay.substr(AA).search(/\S/);AA+=AR;if(AR<0||AA>=At){return true}Ar.setStart(AD,AA);Ar.setEnd(AD,AA+1);AO=Ar.getBoundingClientRect();var AQ=false;if(Av){AR=Ay.substr(AA).search(/\s/);if(AR>=0){Ar.setEnd(AD,AA+AR);var AJ=Ar.getBoundingClientRect();if(AJ.bottom==AO.bottom){AO=AJ;AQ=true;AA+=AR}}}if(!AQ){AR=(function AP(AT,AU,AW){Ar.setEnd(AD,AU);var AV=h(Ar);if(AV.bottom!=AO.bottom&&AT<AU){return AP(AT,(AT+AU)>>1,AU)}else{if(AV.right!=AO.right){AO=AV;if(AU<AW){return AP(AU,(AU+AW)>>1,AW)}else{return AU}}else{return AU}}})(AA,b.min(At,AA+AB),At);if(AR==AA){return true}AA=AR;AR=Ar.toString().search(/\s+$/);if(AR===0){return}if(AR>0){Ar.setEnd(AD,Ar.startOffset+AR);AO=Ar.getBoundingClientRect()}}if(B.msie){AO=Ar.getClientRects()[0]}var AN=Ar.toString();if(!/^(?:pre|pre-wrap)$/i.test(AG)){AN=AN.replace(/\s+/g," ")}else{if(/\t/.test(AN)){var AK=0;for(AR=AL;AR<Ar.startOffset;++AR){var AM=Ay.charCodeAt(AR);if(AM==9){AK+=8-AK%8}else{if(AM==10||AM==13){AK=0}else{AK++}}}while((AR=AN.search("\t"))>=0){var AS="        ".substr(0,8-(AK+AR)%8);AN=AN.substr(0,AR)+AS+AN.substr(AR+1)}}}AI(AN,AO)}function AI(AM,AK){if(B.msie&&!isNaN(Az)){var AJ=Ah.util.measureText(AM,{font:Ax});var AL=(AK.top+AK.bottom-AJ.height)/2;AK={top:AL,right:AK.right,bottom:AL+AJ.height,left:AK.left,height:AJ.height,width:AK.right-AK.left}}var AN=new v(AM,new Ap.Rect([AK.left,AK.top],[AK.width,AK.height]),{font:Ax,fill:{color:Aw}});AC.append(AN);As(AK)}function As(AJ){AK(V["underline"],AJ.bottom);AK(V["line-through"],AJ.bottom-AJ.height/2.7);AK(V["overline"],AJ.top);function AK(AN,AL){if(AN){var AM=AF/12;var AO=new Ah.Path({stroke:{width:AM,color:AN}});AL-=AM;AO.moveTo(AJ.left,AL).lineTo(AJ.right,AL);AC.append(AO)}}}}function L(Ar,Au,Av){var Ax;if(Av!="auto"){Ax=V._stackingContext.group;Av=e(Av)}else{Ax=Au;Av=0}var Ay=Ax.children;for(var At=0;At<Ay.length;++At){if(Ay[At]._dom_zIndex!=null&&Ay[At]._dom_zIndex>Av){break}}var As=new Ah.Group();Ax.insertAt(As,At);As._dom_zIndex=Av;if(Ax!==Au){if(V._clipbox){var Aw=V._matrix.invert();var Aq=V._clipbox.transformCopy(Aw);m(As,Ah.Path.fromRect(Aq))}}return As}function Ad(Aq,Aw){var As=W(Aq);var Ar=f(As,"counter-reset");if(Ar){Ab(Ae(Ar,/^\s+/),s,0)}var Az=f(As,"counter-increment");if(Az){Ab(Ae(Az,/^\s+/),k,1)}if(/^(style|script|link|meta|iframe|svg|col|colgroup)$/i.test(Aq.tagName)){return}if(V._clipbox==null){return}var At=e(f(As,"opacity"));var Au=f(As,"visibility");var AA=f(As,"display");if(At===0||Au=="hidden"||AA=="none"){return}var Ay=j(As);var Av;var Ax=f(As,"z-index");if((Ay||At<1)&&Ax=="auto"){Ax=0}Av=L(Aq,Aw,Ax);if(At<1){Av.opacity(At*Av.opacity())}P(Aq,As,Av);if(!Ay){p(Aq,Av)}else{Al(Aq,function(){J(Aq.style,"transform","none","important");J(Aq.style,"transition","none","important");if(f(As,"position")=="static"){J(Aq.style,"position","relative","important")}var AE=Aq.getBoundingClientRect();var AC=AE.left+Ay.origin[0];var AD=AE.top+Ay.origin[1];var AB=[1,0,0,1,-AC,-AD];AB=T(AB,Ay.matrix);AB=T(AB,[1,0,0,1,AC,AD]);AB=t(Av,AB);V._matrix=V._matrix.multiplyCopy(AB);p(Aq,Av)})}X()}function T(AD,AB){var As=AD[0],Aq=AD[1],Ar=AD[2],Au=AD[3],Av=AD[4],At=AD[5];var Az=AB[0],Aw=AB[1],Ax=AB[2],AC=AB[3],Ay=AB[4],AA=AB[5];return[As*Az+Aq*Ax,As*Aw+Aq*AC,Ar*Az+Au*Ax,Ar*Aw+Au*AC,Av*Az+At*Ax+Ay,Av*Aw+At*AC+AA]}})(window.kendo.jQuery,parseFloat,Math);(function(H,F){var E=document,G=H.noop,A=window.kendo,C=A.Class,I=A.util,J=A.animationFrame,K=A.deepExtend;var B=C.extend({init:function(N,M){var L=this;L.options=K({},L.options,M);L.element=N},options:{duration:500,easing:"swing"},setup:G,step:G,play:function(){var L=this,N=L.options,M=H.easing[N.easing],O=N.duration,Q=N.delay||0,R=I.now()+Q,P=R+O;if(O===0){L.step(1);L.abort()}else{setTimeout(function(){var S=function(){if(L._stopped){return}var U=I.now();var V=I.limitValue(U-R,0,O);var T=V/O;var W=M(T,V,0,1,O);L.step(W);if(U<P){J(S)}else{L.abort()}};S()},Q)}},abort:function(){this._stopped=true},destroy:function(){this.abort()}});var D=function(){this._items=[]};D.prototype={register:function(M,L){this._items.push({name:M,type:L})},create:function(Q,O){var P=this._items;var N;if(O&&O.type){var L=O.type.toLowerCase();for(var M=0;M<P.length;M++){if(P[M].name.toLowerCase()===L){N=P[M];break}}}if(N){return new N.type(Q,O)}}};D.current=new D();B.create=function(L,N,M){return D.current.create(L,N,M)};K(A.drawing,{Animation:B,AnimationFactory:D})})(window.kendo.jQuery,Math);(function(W,V){var D=window.kendo,T=D.ui.Widget,Q=".kendoValidator",H="k-invalid-msg",C=new RegExp(H,"i"),R="k-invalid",Y="k-valid",A=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,Z=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,F=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",P=":checkbox:not([disabled],[readonly])",S="[type=number],[type=range]",M="blur",a="name",G="form",b="novalidate",J=W.proxy,X=function(c,d){if(typeof d==="string"){d=new RegExp("^(?:"+d+")$")}return d.test(c)},B=function(d,e,f){var c=d.val();if(d.filter(e).length&&c!==""){return X(c,f)}return true},K=function(d,c){if(d.length){return d[0].attributes[c]!=null}return false};if(!D.ui.validator){D.ui.validator={rules:{},messages:{}}}function L(e){var f=D.ui.validator.ruleResolvers||{},c={},d;for(d in f){W.extend(true,c,f[d].resolve(e))}return c}function E(c){return c.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}function N(c){c=(c+"").split(".");if(c.length>1){return c[1].length}return 0}function O(c){if(W.parseHTML){return W(W.parseHTML(c))}return W(c)}function I(d,f){var g=W(),h,j;for(var e=0,c=d.length;e<c;e++){h=d[e];if(C.test(h.className)){j=h.getAttribute(D.attr("for"));if(j===f){g=g.add(h)}}}return g}var U=T.extend({init:function(f,e){var d=this,g=L(f),c="["+D.attr("validate")+"!=false]";e=e||{};e.rules=W.extend({},D.ui.validator.rules,g.rules,e.rules);e.messages=W.extend({},D.ui.validator.messages,g.messages,e.messages);T.fn.init.call(d,f,e);d._errorTemplate=D.template(d.options.errorTemplate);if(d.element.is(G)){d.element.attr(b,b)}d._inputSelector=F+c;d._checkboxSelector=P+c;d._errors={};d._attachEvents();d._isValidated=false},events:["validate","change"],options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> </span> #=message#</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date",dateCompare:"End date should be greater than or equal to the start date"},rules:{required:function(d){var c=d.filter("[type=checkbox]").length&&!d.is(":checked"),e=d.val();return !(K(d,"required")&&(e===""||!e||c))},pattern:function(c){if(c.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&c.val()!==""){return X(c.val(),c.attr("pattern"))}return true},min:function(d){if(d.filter(S+",["+D.attr("type")+"=number]").filter("[min]").length&&d.val()!==""){var c=parseFloat(d.attr("min"))||0,e=D.parseFloat(d.val());return c<=e}return true},max:function(c){if(c.filter(S+",["+D.attr("type")+"=number]").filter("[max]").length&&c.val()!==""){var e=parseFloat(c.attr("max"))||0,d=D.parseFloat(c.val());return e>=d}return true},step:function(f){if(f.filter(S+",["+D.attr("type")+"=number]").filter("[step]").length&&f.val()!==""){var c=parseFloat(f.attr("min"))||0,d=parseFloat(f.attr("step"))||1,g=parseFloat(f.val()),e=N(d),h;if(e){h=Math.pow(10,e);return((Math.floor((g-c)*h))%(d*h))/Math.pow(100,e)===0}return((g-c)%d)===0}return true},email:function(c){return B(c,"[type=email],["+D.attr("type")+"=email]",A)},url:function(c){return B(c,"[type=url],["+D.attr("type")+"=url]",Z)},date:function(c){if(c.filter("[type^=date],["+D.attr("type")+"=date]").length&&c.val()!==""){return D.parseDate(c.val(),c.attr(D.attr("format")))!==null}return true}},validateOnBlur:true},destroy:function(){T.fn.destroy.call(this);this.element.off(Q)},value:function(){if(!this._isValidated){return false}return this.errors().length===0},_submit:function(c){if(!this.validate()){c.stopPropagation();c.stopImmediatePropagation();c.preventDefault();return false}return true},_checkElement:function(c){var d=this.value();this.validateInput(c);if(this.value()!==d){this.trigger("change")}},_attachEvents:function(){var c=this;if(c.element.is(G)){c.element.on("submit"+Q,J(c._submit,c))}if(c.options.validateOnBlur){if(!c.element.is(F)){c.element.on(M+Q,c._inputSelector,function(){c._checkElement(W(this))});c.element.on("click"+Q,c._checkboxSelector,function(){c._checkElement(W(this))})}else{c.element.on(M+Q,function(){c._checkElement(c.element)});if(c.element.is(P)){c.element.on("click"+Q,function(){c._checkElement(c.element)})}}}},validate:function(){var c;var g;var e=false;var d;var f=this.value();this._errors={};if(!this.element.is(F)){var h=false;c=this.element.find(this._inputSelector);for(g=0,d=c.length;g<d;g++){if(!this.validateInput(c.eq(g))){h=true}}e=!h}else{e=this.validateInput(this.element)}this.trigger("validate",{valid:e});if(f!==e){this.trigger("change")}return e},validateInput:function(k){k=W(k);this._isValidated=true;var h=this,c=h._errorTemplate,d=h._checkValidity(k),e=d.valid,l="."+H,g=(k.attr(a)||""),f=h._findMessageContainer(g).add(k.next(l).filter(function(){var o=W(this);if(o.filter("["+D.attr("for")+"]").length){return o.attr(D.attr("for"))===g}return true})).hide(),n;k.removeAttr("aria-invalid");if(!e){n=h._extractMessage(k,d.key);h._errors[g]=n;var j=O(c({message:E(n)}));var m=f.attr("id");h._decorateMessageContainer(j,g);if(m){j.attr("id",m)}if(!f.replaceWith(j).length){j.insertAfter(k)}j.show();k.attr("aria-invalid",true)}else{delete h._errors[g]}k.toggleClass(R,!e);k.toggleClass(Y,e);return e},hideMessages:function(){var d=this,c="."+H,e=d.element;if(!e.is(F)){e.find(c).hide()}else{e.next(c).hide()}},_findMessageContainer:function(g){var h=D.ui.validator.messageLocators,e,f=W();for(var d=0,c=this.element.length;d<c;d++){f=f.add(I(this.element[d].getElementsByTagName("*"),g))}for(e in h){f=f.add(h[e].locate(this.element,g))}return f},_decorateMessageContainer:function(c,e){var f=D.ui.validator.messageLocators,d;c.addClass(H).attr(D.attr("for"),e||"");for(d in f){f[d].decorate(c,e)}c.attr("role","alert")},_extractMessage:function(e,g){var d=this,f=d.options.messages[g],c=e.attr(a);f=D.isFunction(f)?f(e):f;return D.format(e.attr(D.attr(g+"-msg"))||e.attr("validationMessage")||e.attr("title")||f||"",c,e.attr(g))},_checkValidity:function(e){var d=this.options.rules,c;for(c in d){if(!d[c].call(this,e)){return{valid:false,key:c}}}return{valid:true}},errors:function(){var d=[],c=this._errors,e;for(e in c){d.push(c[e])}return d}});D.ui.plugin(U)})(window.kendo.jQuery);(function(S,U){var P=window.kendo,C=P.support,Y=window.document,O=P.Class,R=P.Observable,V=S.now,g=S.extend,h=C.mobileOS,X=h&&h.android,e=800,L=C.browser.msie?5:0,F="press",H="hold",G="select",b="start",a="move",T="end",d="cancel",Z="tap",I="release",f="gesturestart",A="gesturechange",M="gestureend",D="gesturetap";var W={"api":0,"touch":0,"mouse":9,"pointer":9};var K=(!C.touch||C.mouseAndTouchPresent);function J(q,j){var k=q.x.location,l=q.y.location,m=j.x.location,n=j.y.location,p=k-m,o=l-n;return{center:{x:(k+m)/2,y:(l+n)/2},distance:Math.sqrt(p*p+o*o)}}function E(j){var o=[],p=j.originalEvent,m=j.currentTarget,l=0,q,n,k;if(j.api){o.push({id:2,event:j,target:j.target,currentTarget:j.target,location:j,type:"api"})}else{if(j.type.match(/touch/)){n=p?p.changedTouches:[];for(q=n.length;l<q;l++){k=n[l];o.push({location:k,event:j,target:k.target,currentTarget:m,id:k.identifier,type:"touch"})}}else{if(C.pointers||C.msPointers){o.push({location:p,event:j,target:j.target,currentTarget:m,id:p.pointerId,type:"pointer"})}else{o.push({id:1,event:j,target:j.target,currentTarget:m,location:j,type:"mouse"})}}}return o}var Q=O.extend({init:function(l,j){var k=this;k.axis=l;k._updateLocationData(j);k.startLocation=k.location;k.velocity=k.delta=0;k.timeStamp=V()},move:function(j){var k=this,m=j["page"+k.axis],l=V(),n=(l-k.timeStamp)||1;if(!m&&X){return}k.delta=m-k.location;k._updateLocationData(j);k.initialDelta=m-k.startLocation;k.velocity=k.delta/n;k.timeStamp=l},_updateLocationData:function(j){var k=this,l=k.axis;k.location=j["page"+l];k.client=j["client"+l];k.screen=j["screen"+l]}});var c=O.extend({init:function(l,k,j){g(this,{x:new Q("X",j.location),y:new Q("Y",j.location),type:j.type,threshold:l.threshold||W[j.type],userEvents:l,target:k,currentTarget:j.currentTarget,initialTouch:j.target,id:j.id,pressEvent:j,_moved:false,_finished:false})},press:function(){this._holdTimeout=setTimeout(S.proxy(this,"_hold"),this.userEvents.minHold);this._trigger(F,this.pressEvent)},_hold:function(){this._trigger(H,this.pressEvent)},move:function(k){var j=this;if(j._finished){return}j.x.move(k.location);j.y.move(k.location);if(!j._moved){if(j._withinIgnoreThreshold()){return}if(!N.current||N.current===j.userEvents){j._start(k)}else{return j.dispose()}}if(!j._finished){j._trigger(a,k)}},end:function(k){var j=this;j.endTime=V();if(j._finished){return}j._finished=true;j._trigger(I,k);if(j._moved){j._trigger(T,k)}else{j._trigger(Z,k)}clearTimeout(j._holdTimeout);j.dispose()},dispose:function(){var j=this.userEvents,k=j.touches;this._finished=true;this.pressEvent=null;clearTimeout(this._holdTimeout);k.splice(S.inArray(this,k),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(j){clearTimeout(this._holdTimeout);this.startTime=V();this._moved=true;this._trigger(b,j)},_trigger:function(k,l){var j=this,m=l.event,n={touch:j,x:j.x,y:j.y,target:j.target,event:m};if(j.userEvents.notify(k,n)){m.preventDefault()}},_withinIgnoreThreshold:function(){var k=this.x.initialDelta,j=this.y.initialDelta;return Math.sqrt(k*k+j*j)<=this.threshold}});function B(j){var l=P.eventMap.up.split(" "),m=0,k=l.length;for(;m<k;m++){j(l[m])}}var N=R.extend({init:function(o,m){var l=this,n,j=P.guid();m=m||{};n=l.filter=m.filter;l.threshold=m.threshold||L;l.minHold=m.minHold||e;l.touches=[];l._maxTouches=m.multiTouch?2:1;l.allowSelection=m.allowSelection;l.captureUpIfMoved=m.captureUpIfMoved;l.eventNS=j;o=S(o).handler(l);R.fn.init.call(l);g(l,{element:o,surface:m.global&&K?S(Y.documentElement):S(m.surface||o),stopPropagation:m.stopPropagation,pressed:false});l.surface.handler(l).on(P.applyEventMap("move",j),"_move").on(P.applyEventMap("up cancel",j),"_end");o.on(P.applyEventMap("down",j),n,"_start");if(C.pointers||C.msPointers){o.css("-ms-touch-action","pinch-zoom double-tap-zoom")}if(m.preventDragEvent){o.on(P.applyEventMap("dragstart",j),P.preventDefault)}o.on(P.applyEventMap("mousedown",j),n,{root:o},"_select");if(l.captureUpIfMoved&&C.eventCapture){var k=l.surface[0],p=S.proxy(l.preventIfMoving,l);B(function(q){k.addEventListener(q,p,true)})}l.bind([F,H,Z,b,a,T,I,d,f,A,M,D,G],m)},preventIfMoving:function(j){if(this._isMoved()){j.preventDefault()}},destroy:function(){var k=this;if(k._destroyed){return}k._destroyed=true;if(k.captureUpIfMoved&&C.eventCapture){var j=k.surface[0];B(function(l){j.removeEventListener(l,k.preventIfMoving)})}k.element.kendoDestroy(k.eventNS);k.surface.kendoDestroy(k.eventNS);k.element.removeData("handler");k.surface.removeData("handler");k._disposeAll();k.unbind();delete k.surface;delete k.element;delete k.currentTarget},capture:function(){N.current=this},cancel:function(){this._disposeAll();this.trigger(d)},notify:function(l,m){var k=this,j=k.touches;if(this._isMultiTouch()){switch(l){case a:l=A;break;case T:l=M;break;case Z:l=D;break}g(m,{touches:j},J(j[0],j[1]))}return this.trigger(l,g(m,{type:l}))},press:function(j,k,l){this._apiCall("_start",j,k,l)},move:function(j,k){this._apiCall("_move",j,k)},end:function(j,k){this._apiCall("_end",j,k)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){var j=this.touches;while(j.length>0){j.pop().dispose()}},_isMoved:function(){return S.grep(this.touches,function(j){return j.isMoved()}).length},_select:function(j){if(!this.allowSelection||this.trigger(G,{event:j})){j.preventDefault()}},_start:function(j){var o=this,m=0,l=o.filter,q,p=E(j),n=p.length,k,r=j.which;if((r&&r>1)||(o._maxTouchesReached())){return}N.current=null;o.currentTarget=j.currentTarget;if(o.stopPropagation){j.stopPropagation()}for(;m<n;m++){if(o._maxTouchesReached()){break}k=p[m];if(l){q=S(k.currentTarget)}else{q=o.element}if(!q.length){continue}k=new c(o,q,k);o.touches.push(k);k.press();if(o._isMultiTouch()){o.notify("gesturestart",{})}}},_move:function(j){this._eachTouch("move",j)},_end:function(j){this._eachTouch("end",j)},_eachTouch:function(r,j){var o=this,p={},q=E(j),n=o.touches,m,l,s,k;for(m=0;m<n.length;m++){l=n[m];p[l.id]=l}for(m=0;m<q.length;m++){s=q[m];k=p[s.id];if(k){k[r](s)}}},_apiCall:function(j,k,l,m){this[j]({api:true,pageX:k,pageY:l,clientX:k,clientY:l,target:S(m||this.element)[0],stopPropagation:S.noop,preventDefault:S.noop})}});N.defaultThreshold=function(j){L=j};N.minHold=function(j){e=j};P.getTouches=E;P.touchDelta=J;P.UserEvents=N})(window.kendo.jQuery);(function(e,f){var S=window.kendo,A=S.support,r=window.document,C=e(window),R=S.Class,O=S.ui.Widget,d=S.Observable,P=S.UserEvents,y=e.proxy,w=e.extend,K=S.getOffset,F={},I={},v={},s,u=S.elementUnderCursor,q="keyup",h="change",X="dragstart",J="hold",o="drag",p="dragend",Z="dragcancel",W="hintDestroyed",n="dragenter",E="dragleave",c="drop";function Y(Ab,Aa){try{return e.contains(Ab,Aa)||Ab==Aa}catch(z){return false}}function Q(Aa,z){return parseInt(Aa.css(z),10)||0}function b(z,Aa){return Math.min(Math.max(z,Aa.min),Aa.max)}function G(Ac,Ae){var Aa=K(Ac),Af=Aa.left+Q(Ac,"borderLeftWidth")+Q(Ac,"paddingLeft"),Ad=Aa.top+Q(Ac,"borderTopWidth")+Q(Ac,"paddingTop"),Ab=Af+Ac.width()-Ae.outerWidth(true),z=Ad+Ac.height()-Ae.outerHeight(true);return{x:{min:Af,max:Ab},y:{min:Ad,max:z}}}function H(Af,Ae,Ab){var Ac,Aa,Ad=0,Ag=Ae&&Ae.length,z=Ab&&Ab.length;while(Af&&Af.parentNode){for(Ad=0;Ad<Ag;Ad++){Ac=Ae[Ad];if(Ac.element[0]===Af){return{target:Ac,targetElement:Af}}}for(Ad=0;Ad<z;Ad++){Aa=Ab[Ad];if(e.contains(Aa.element[0],Af)&&A.matchesSelector.call(Af,Aa.options.filter)){return{target:Aa,targetElement:Af}}}Af=Af.parentNode}return f}var k=d.extend({init:function(Ac,Aa){var z=this,Ab=Ac[0];z.capture=false;if(Ab.addEventListener){e.each(S.eventMap.down.split(" "),function(){Ab.addEventListener(this,y(z._press,z),true)});e.each(S.eventMap.up.split(" "),function(){Ab.addEventListener(this,y(z._release,z),true)})}else{e.each(S.eventMap.down.split(" "),function(){Ab.attachEvent(this,y(z._press,z))});e.each(S.eventMap.up.split(" "),function(){Ab.attachEvent(this,y(z._release,z))})}d.fn.init.call(z);z.bind(["press","release"],Aa||{})},captureNext:function(){this.capture=true},cancelCapture:function(){this.capture=false},_press:function(z){var Aa=this;Aa.trigger("press");if(Aa.capture){z.preventDefault()}},_release:function(z){var Aa=this;Aa.trigger("release");if(Aa.capture){z.preventDefault();Aa.cancelCapture()}}});var V=d.extend({init:function(Aa){var z=this;d.fn.init.call(z);z.forcedEnabled=false;e.extend(z,Aa);z.scale=1;if(z.horizontal){z.measure="offsetWidth";z.scrollSize="scrollWidth";z.axis="x"}else{z.measure="offsetHeight";z.scrollSize="scrollHeight";z.axis="y"}},makeVirtual:function(){e.extend(this,{virtual:true,forcedEnabled:true,_virtualMin:0,_virtualMax:0})},virtualSize:function(z,Aa){if(this._virtualMin!==z||this._virtualMax!==Aa){this._virtualMin=z;this._virtualMax=Aa;this.update()}},outOfBounds:function(z){return z>this.max||z<this.min},forceEnabled:function(){this.forcedEnabled=true},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(z){this.scale=z},update:function(Ad){var Aa=this,Ab=Aa.virtual?Aa._virtualMax:Aa.getTotal(),Ac=Ab*Aa.scale,z=Aa.getSize();if(Ab===0&&!Aa.forcedEnabled){return}Aa.max=Aa.virtual?-Aa._virtualMin:0;Aa.size=z;Aa.total=Ac;Aa.min=Math.min(Aa.max,z-Ac);Aa.minScale=z/Ab;Aa.centerOffset=(Ac-z)/2;Aa.enabled=Aa.forcedEnabled||(Ac>z);if(!Ad){Aa.trigger(h,Aa)}}});var g=d.extend({init:function(Aa){var z=this;d.fn.init.call(z);z.x=new V(w({horizontal:true},Aa));z.y=new V(w({horizontal:false},Aa));z.container=Aa.container;z.forcedMinScale=Aa.minScale;z.maxScale=Aa.maxScale||100;z.bind(h,Aa)},rescale:function(z){this.x.rescale(z);this.y.rescale(z);this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var z=this;z.x.update();z.y.update();z.enabled=z.x.enabled||z.y.enabled;z.minScale=z.forcedMinScale||Math.min(z.x.minScale,z.y.minScale);z.fitScale=Math.max(z.x.minScale,z.y.minScale);z.trigger(h)}});var B=d.extend({init:function(Aa){var z=this;w(z,Aa);d.fn.init.call(z)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(Aa){var Ab=this,Ac=Ab.dimension,Ae=Ab.axis,Ad=Ab.movable,z=Ad[Ae]+Aa;if(!Ac.enabled){return}if((z<Ac.min&&Aa<0)||(z>Ac.max&&Aa>0)){Aa*=Ab.resistance}Ad.translateAxis(Ae,Aa);Ab.trigger(h,Ab)}});var N=R.extend({init:function(Aa){var z=this,Ab,Ac,Ae,Ad;w(z,{elastic:true},Aa);Ae=z.elastic?0.5:0;Ad=z.movable;z.x=Ab=new B({axis:"x",dimension:z.dimensions.x,resistance:Ae,movable:Ad});z.y=Ac=new B({axis:"y",dimension:z.dimensions.y,resistance:Ae,movable:Ad});z.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(Af){z.gesture=Af;z.offset=z.dimensions.container.offset()},gesturechange:function(Ah){var Ao=z.gesture,Ai=Ao.center,Af=Ah.center,An=Ah.distance/Ao.distance,Ag=z.dimensions.minScale,Aj=z.dimensions.maxScale,Am;if(Ad.scale<=Ag&&An<1){An+=(1-An)*0.8}if(Ad.scale*An>=Aj){An=Aj/Ad.scale}var Ak=Ad.x+z.offset.left,Al=Ad.y+z.offset.top;Am={x:(Ak-Ai.x)*An+Af.x-Ak,y:(Al-Ai.y)*An+Af.y-Al};Ad.scaleWith(An);Ab.dragMove(Am.x);Ac.dragMove(Am.y);z.dimensions.rescale(Ad.scale);z.gesture=Ah;Ah.preventDefault()},move:function(Af){if(Af.event.target.tagName.match(/textarea|input/i)){return}if(Ab.dimension.enabled||Ac.dimension.enabled){Ab.dragMove(Af.x.delta);Ac.dragMove(Af.y.delta);Af.preventDefault()}else{Af.touch.skip()}},end:function(Af){Af.preventDefault()}})}});var j=A.transitions.prefix+"Transform",m;if(A.hasHW3D){m=function(z,Aa,Ab){return"translate3d("+z+"px,"+Aa+"px,0) scale("+Ab+")"}}else{m=function(z,Aa,Ab){return"translate("+z+"px,"+Aa+"px) scale("+Ab+")"}}var t=d.extend({init:function(Aa){var z=this;d.fn.init.call(z);z.element=e(Aa);z.element[0].style.webkitTransformOrigin="left top";z.x=0;z.y=0;z.scale=1;z._saveCoordinates(m(z.x,z.y,z.scale))},translateAxis:function(Aa,z){this[Aa]+=z;this.refresh()},scaleTo:function(z){this.scale=z;this.refresh()},scaleWith:function(z){this.scale*=z;this.refresh()},translate:function(z){this.x+=z.x;this.y+=z.y;this.refresh()},moveAxis:function(Aa,z){this[Aa]=z;this.refresh()},moveTo:function(z){w(this,z);this.refresh()},refresh:function(){var z=this,Aa=z.x,Ab=z.y,Ac;if(z.round){Aa=Math.round(Aa);Ab=Math.round(Ab)}Ac=m(Aa,Ab,z.scale);if(Ac!=z.coordinates){if(S.support.browser.msie&&S.support.browser.version<10){z.element[0].style.position="absolute";z.element[0].style.left=z.x+"px";z.element[0].style.top=z.y+"px"}else{z.element[0].style[j]=Ac}z._saveCoordinates(Ac);z.trigger(h)}},_saveCoordinates:function(z){this.coordinates=z}});function U(Ab,Ad){var z=Ad.options.group,Ac=Ab[z],Aa;O.fn.destroy.call(Ad);if(Ac.length>1){for(Aa=0;Aa<Ac.length;Aa++){if(Ac[Aa]==Ad){Ac.splice(Aa,1);break}}}else{Ac.length=0;delete Ab[z]}}var x=O.extend({init:function(Ac,Ab){var Aa=this;O.fn.init.call(Aa,Ac,Ab);var z=Aa.options.group;if(!(z in I)){I[z]=[Aa]}else{I[z].push(Aa)}},events:[n,E,c],options:{name:"DropTarget",group:"default"},destroy:function(){U(I,this)},_trigger:function(Ac,Aa){var Ab=this,z=F[Ab.options.group];if(z){return Ab.trigger(Ac,w({},Aa.event,{draggable:z,dropTarget:Aa.dropTarget}))}},_over:function(z){this._trigger(n,z)},_out:function(z){this._trigger(E,z)},_drop:function(Aa){var Ab=this,z=F[Ab.options.group];if(z){z.dropped=!Ab._trigger(c,Aa)}}});x.destroyGroup=function(z){var Aa=I[z]||v[z],Ab;if(Aa){for(Ab=0;Ab<Aa.length;Ab++){O.fn.destroy.call(Aa[Ab])}Aa.length=0;delete I[z];delete v[z]}};x._cache=I;var L=x.extend({init:function(Ac,Ab){var Aa=this;O.fn.init.call(Aa,Ac,Ab);var z=Aa.options.group;if(!(z in v)){v[z]=[Aa]}else{v[z].push(Aa)}},destroy:function(){U(v,this)},options:{name:"DropTargetArea",group:"default",filter:null}});var T=O.extend({init:function(Ab,Aa){var z=this;O.fn.init.call(z,Ab,Aa);z._activated=false;z.userEvents=new P(z.element,{global:true,allowSelection:true,filter:z.options.filter,threshold:z.options.distance,start:y(z._start,z),hold:y(z._hold,z),move:y(z._drag,z),end:y(z._end,z),cancel:y(z._cancel,z),select:y(z._select,z)});z._afterEndHandler=y(z._afterEnd,z);z._captureEscape=y(z._captureEscape,z)},events:[J,X,o,p,Z,W],options:{name:"Draggable",distance:(S.support.touch?0:5),group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:false,autoScroll:false,dropped:false},cancelHold:function(){this._activated=false},_captureEscape:function(z){var Aa=this;if(z.keyCode===S.keys.ESC){Aa._trigger(Z,{event:z});Aa.userEvents.cancel()}},_updateHint:function(Aa){var Ab=this,Af,Ac=Ab.options,z=Ab.boundaries,Ae=Ac.axis,Ad=Ab.options.cursorOffset;if(Ad){Af={left:Aa.x.location+Ad.left,top:Aa.y.location+Ad.top}}else{Ab.hintOffset.left+=Aa.x.delta;Ab.hintOffset.top+=Aa.y.delta;Af=e.extend({},Ab.hintOffset)}if(z){Af.top=b(Af.top,z.y);Af.left=b(Af.left,z.x)}if(Ae==="x"){delete Af.top}else{if(Ae==="y"){delete Af.left}}Ab.hint.css(Af)},_shouldIgnoreTarget:function(Aa){var z=this.options.ignore;return z&&e(Aa).is(z)},_select:function(z){if(!this._shouldIgnoreTarget(z.event.target)){z.preventDefault()}},_start:function(Ab){var Ac=this,Ad=Ac.options,Ae=Ad.container,z=Ad.hint;if(this._shouldIgnoreTarget(Ab.touch.initialTouch)||(Ad.holdToDrag&&!Ac._activated)){Ac.userEvents.cancel();return}Ac.currentTarget=Ab.target;Ac.currentTargetOffset=K(Ac.currentTarget);if(z){if(Ac.hint){Ac.hint.stop(true,true).remove()}Ac.hint=S.isFunction(z)?e(z.call(Ac,Ac.currentTarget)):z;var Aa=K(Ac.currentTarget);Ac.hintOffset=Aa;Ac.hint.css({position:"absolute",zIndex:20000,left:Aa.left,top:Aa.top}).appendTo(r.body);Ac.angular("compile",function(){Ac.hint.removeAttr("ng-repeat");var Af=e(Ab.target);while(!Af.data("$$kendoScope")&&Af.length){Af=Af.parent()}return{elements:Ac.hint.get(),scopeFrom:Af.data("$$kendoScope")}})}F[Ad.group]=Ac;Ac.dropped=false;if(Ae){Ac.boundaries=G(Ae,Ac.hint)}if(Ac._trigger(X,Ab)){Ac.userEvents.cancel();Ac._afterEnd()}Ac.userEvents.capture();e(r).on(q,Ac._captureEscape)},_hold:function(z){this.currentTarget=z.target;if(this._trigger(J,z)){this.userEvents.cancel()}else{this._activated=true}},_drag:function(z){var Aa=this;z.preventDefault();var Ac=this._elementUnderCursor(z);Aa._withDropTarget(Ac,function(Ae,Ad){if(!Ae){if(s){s._trigger(E,w(z,{dropTarget:e(s.targetElement)}));s=null}return}if(s){if(Ad===s.targetElement){return}s._trigger(E,w(z,{dropTarget:e(s.targetElement)}))}Ae._trigger(n,w(z,{dropTarget:e(Ad)}));s=w(Ae,{targetElement:Ad})});Aa._trigger(o,w(z,{dropTarget:s,elementUnderCursor:Ac}));if(this.options.autoScroll){if(this._cursorElement!==Ac){this._scrollableParent=l(Ac);this._cursorElement=Ac}if(this._scrollableParent[0]){var Ab=M(z.x.location,z.y.location,a(this._scrollableParent));this._scrollCompenstation=e.extend({},this.hintOffset);this._scrollVelocity=Ab;if(Ab.y===0&&Ab.x===0){clearInterval(this._scrollInterval);this._scrollInterval=null}else{if(!this._scrollInterval){this._scrollInterval=setInterval(e.proxy(this,"_autoScroll"),50)}}}}if(Aa.hint){Aa._updateHint(z)}},_autoScroll:function(){var Ag=this._scrollableParent[0],Ab=this._scrollVelocity,Ah=this._scrollCompenstation;if(!Ag){return}var Ai,Aa;var Ac=Ag===r.body;if(Ac){Ai=r.body.offsetHeight>C.height();Aa=r.body.offsetWidth>C.width()}else{Ai=Ag.offsetHeight<=Ag.scrollHeight;Aa=Ag.offsetWidth<=Ag.scrollWidth}var z=Ag.scrollTop+Ab.y;var Ad=Ai&&z>0&&z<Ag.scrollHeight;var Af=Ag.scrollLeft+Ab.x;var Ae=Aa&&Af>0&&Af<Ag.scrollWidth;if(Ad){Ag.scrollTop+=Ab.y}if(Ae){Ag.scrollLeft+=Ab.x}if(Ac&&(Ae||Ad)){if(Ad){Ah.top+=Ab.y}if(Ae){Ah.left+=Ab.x}this.hint.css(Ah)}},_end:function(z){this._withDropTarget(this._elementUnderCursor(z),function(Ab,Aa){if(Ab){Ab._drop(w({},z,{dropTarget:e(Aa)}));s=null}});this._trigger(p,z);this._cancel(z.event)},_cancel:function(){var z=this;z._scrollableParent=null;clearInterval(this._scrollInterval);z._activated=false;if(z.hint&&!z.dropped){setTimeout(function(){z.hint.stop(true,true).animate(z.currentTargetOffset,"fast",z._afterEndHandler)},0)}else{z._afterEnd()}},_trigger:function(Ab,z){var Aa=this;return Aa.trigger(Ab,w({},z.event,{x:z.x,y:z.y,currentTarget:Aa.currentTarget,initialTarget:z.touch?z.touch.initialTouch:null,dropTarget:z.dropTarget,elementUnderCursor:z.elementUnderCursor}))},_elementUnderCursor:function(Aa){var Ab=u(Aa),z=this.hint;if(z&&Y(z[0],Ab)){z.hide();Ab=u(Aa);if(!Ab){Ab=u(Aa)}z.show()}return Ab},_withDropTarget:function(Ae,z){var Ab,Aa=this.options.group,Ac=I[Aa],Ad=v[Aa];if(Ac&&Ac.length||Ad&&Ad.length){Ab=H(Ae,Ac,Ad);if(Ab){z(Ab.target,Ab.targetElement)}else{z()}}},destroy:function(){var z=this;O.fn.destroy.call(z);z._afterEnd();z.userEvents.destroy();this._scrollableParent=null;this._cursorElement=null;clearInterval(this._scrollInterval);z.currentTarget=null},_afterEnd:function(){var z=this;if(z.hint){z.hint.remove()}delete F[z.options.group];z.trigger("destroy");z.trigger(W);e(r).off(q,z._captureEscape)}});S.ui.plugin(x);S.ui.plugin(L);S.ui.plugin(T);S.TapCapture=k;S.containerBoundaries=G;w(S.ui,{Pane:N,PaneDimensions:g,Movable:t});function a(Ad){var Aa=r.body,z,Ac,Ab;if(Ad[0]===Aa){Ac=Aa.scrollTop;Ab=Aa.scrollLeft;return{top:Ac,left:Ab,bottom:Ac+C.height(),right:Ab+C.width()}}else{z=Ad.offset();z.bottom=z.top+Ad.height();z.right=z.left+Ad.width();return z}}function D(z){return z===r.body||z===r.documentElement||z===r}function l(z){if(!z||D(z)){return e(r.body)}var Aa=e(z)[0];while(!S.isScrollable(Aa)&&!D(Aa)){Aa=Aa.parentNode}return e(Aa)}function M(Ab,Ad,z){var Ac={x:0,y:0};var Aa=50;if(Ab-z.left<Aa){Ac.x=-(Aa-(Ab-z.left))}else{if(z.right-Ab<Aa){Ac.x=Aa-(z.right-Ab)}}if(Ad-z.top<Aa){Ac.y=-(Aa-(Ad-z.top))}else{if(z.bottom-Ad<Aa){Ac.y=Aa-(z.bottom-Ad)}}return Ac}S.ui.Draggable.utils={autoScrollVelocity:M,scrollableViewPort:a,findScrollableParent:l}})(window.kendo.jQuery);(function(R,S){var N=window.kendo,f=N.mobile,Z=N.effects,T=f.ui,O=R.proxy,h=R.extend,L=T.Widget,M=N.Class,A=N.ui.Movable,K=N.ui.Pane,P=N.ui.PaneDimensions,Q=Z.Transition,J=Z.Animation,c=Math.abs,E=500,W=0.7,V=0.96,Y=10,D=55,a=0.5,j=5,B="km-scroller-release",e="km-scroller-refresh",b="pull",U="change",X="resize",H="scroll",g=2;var F=J.extend({init:function(l){var k=this;J.fn.init.call(k);h(k,l);k.userEvents.bind("gestureend",O(k.start,k));k.tapCapture.bind("press",O(k.cancel,k))},enabled:function(){return this.movable.scale<this.dimensions.minScale},done:function(){return this.dimensions.minScale-this.movable.scale<0.01},tick:function(){var k=this.movable;k.scaleWith(1.1);this.dimensions.rescale(k.scale)},onEnd:function(){var k=this.movable;k.scaleTo(this.dimensions.minScale);this.dimensions.rescale(k.scale)}});var I=J.extend({init:function(l){var k=this;J.fn.init.call(k);h(k,l,{transition:new Q({axis:l.axis,movable:l.movable,onEnd:function(){k._end()}})});k.tapCapture.bind("press",function(){k.cancel()});k.userEvents.bind("end",O(k.start,k));k.userEvents.bind("gestureend",O(k.start,k));k.userEvents.bind("tap",O(k.onEnd,k))},onCancel:function(){this.transition.cancel()},freeze:function(k){var l=this;l.cancel();l._moveTo(k)},onEnd:function(){var k=this;if(k.paneAxis.outOfBounds()){k._snapBack()}else{k._end()}},done:function(){return c(this.velocity)<1},start:function(k){var l=this,m;if(!l.dimension.enabled){return}if(l.paneAxis.outOfBounds()){l._snapBack()}else{m=k.touch.id===g?0:k.touch[l.axis].velocity;l.velocity=Math.max(Math.min(m*l.velocityMultiplier,D),-D);l.tapCapture.captureNext();J.fn.start.call(l)}},tick:function(){var n=this,m=n.dimension,o=n.paneAxis.outOfBounds()?a:n.friction,k=(n.velocity*=o),l=n.movable[n.axis]+k;if(!n.elastic&&m.outOfBounds(l)){l=Math.max(Math.min(l,m.max),m.min);n.velocity=0}n.movable.moveAxis(n.axis,l)},_end:function(){this.tapCapture.cancelCapture();this.end()},_snapBack:function(){var l=this,k=l.dimension,m=l.movable[l.axis]>k.max?k.max:k.min;l._moveTo(m)},_moveTo:function(k){this.transition.moveTo({location:k,duration:E,ease:Q.easeOutExpo})}});var C=J.extend({init:function(l){var k=this;N.effects.Animation.fn.init.call(this);h(k,l,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates();this.moveTo(this.origin)},done:function(){return c(this.offset.y)<j&&c(this.offset.x)<j},onEnd:function(){this.moveTo(this.destination);if(this.callback){this.callback.call()}},setCoordinates:function(k,l){this.offset={};this.origin=k;this.destination=l},setCallback:function(k){if(k&&N.isFunction(k)){this.callback=k}else{k=S}},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4};this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}});var d=M.extend({init:function(l){var k=this,m=l.axis==="x",n=R('<div class="km-touch-scrollbar km-'+(m?"horizontal":"vertical")+'-scrollbar" />');h(k,l,{element:n,elementSize:0,movable:new A(n),scrollMovable:l.movable,alwaysVisible:l.alwaysVisible,size:m?"width":"height"});k.scrollMovable.bind(U,O(k.refresh,k));k.container.append(n);if(l.alwaysVisible){k.show()}},refresh:function(){var p=this,l=p.axis,m=p.dimension,k=m.size,r=p.scrollMovable,o=k/m.total,q=Math.round(-r[l]*o),n=Math.round(k*o);if(o>=1){this.element.css("display","none")}else{this.element.css("display","")}if(q+n>k){n=k-q}else{if(q<0){n+=q;q=0}}if(p.elementSize!=n){p.element.css(p.size,n+"px");p.elementSize=n}p.movable.moveAxis(l,q)},show:function(){this.element.css({opacity:W,visibility:"visible"})},hide:function(){if(!this.alwaysVisible){this.element.css({opacity:0})}}});var G=L.extend({init:function(m,s){var r=this;L.fn.init.call(r,m,s);m=r.element;r._native=r.options.useNative&&N.support.hasNativeScrolling;if(r._native){m.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>');h(r,{scrollElement:m,fixedContainer:m.children().first()});return}m.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var n=m.children().eq(1),t=new N.TapCapture(m),u=new A(n),k=new P({element:n,container:m,forcedEnabled:r.options.zoom}),p=this.options.avoidScrolling,o=new N.UserEvents(m,{allowSelection:true,preventDragEvent:true,captureUpIfMoved:true,multiTouch:r.options.zoom,start:function(x){k.refresh();var Ab=c(x.x.velocity),Aa=c(x.y.velocity),w=Ab*2>=Aa,z=R.contains(r.fixedContainer[0],x.event.target),y=Aa*2>=Ab;if(!z&&!p(x)&&r.enabled&&(k.x.enabled&&w||k.y.enabled&&y)){o.capture()}else{o.cancel()}}}),v=new K({movable:u,dimensions:k,userEvents:o,elastic:r.options.elastic}),l=new F({movable:u,dimensions:k,userEvents:o,tapCapture:t}),q=new C({moveTo:function(w){r.scrollTo(w.x,w.y)}});u.bind(U,function(){r.scrollTop=-u.y;r.scrollLeft=-u.x;r.trigger(H,{scrollTop:r.scrollTop,scrollLeft:r.scrollLeft})});if(r.options.mousewheelScrolling){m.on("DOMMouseScroll mousewheel",O(this,"_wheelScroll"))}h(r,{movable:u,dimensions:k,zoomSnapBack:l,animatedScroller:q,userEvents:o,pane:v,tapCapture:t,pulled:false,enabled:true,scrollElement:n,scrollTop:0,scrollLeft:0,fixedContainer:m.children().first()});r._initAxis("x");r._initAxis("y");r._wheelEnd=function(){r._wheel=false;r.userEvents.end(0,r._wheelY)};k.refresh();if(r.options.pullToRefresh){r._initPullToRefresh()}},_wheelScroll:function(l){if(!this._wheel){this._wheel=true;this._wheelY=0;this.userEvents.press(0,this._wheelY)}clearTimeout(this._wheelTimeout);this._wheelTimeout=setTimeout(this._wheelEnd,50);var k=N.wheelDeltaY(l);if(k){this._wheelY+=k;this.userEvents.move(0,this._wheelY)}l.preventDefault()},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(k,l){this.dimensions.y.virtualSize(k,l)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:false,pullOffset:140,visibleScrollHints:false,elastic:true,useNative:false,mousewheelScrolling:true,avoidScrolling:function(){return false},pullToRefresh:false,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}},events:[b,H,X],_resize:function(){if(!this._native){this.contentResized()}},setOptions:function(l){var k=this;L.fn.setOptions.call(k,l);if(l.pullToRefresh){k._initPullToRefresh()}},reset:function(){if(this._native){this.scrollElement.scrollTop(0)}else{this.movable.moveTo({x:0,y:0});this._scale(1)}},contentResized:function(){this.dimensions.refresh();if(this.pane.x.outOfBounds()){this.movable.moveAxis("x",this.dimensions.x.min)}if(this.pane.y.outOfBounds()){this.movable.moveAxis("y",this.dimensions.y.min)}},zoomOut:function(){var k=this.dimensions;k.refresh();this._scale(k.fitScale);this.movable.moveTo(k.centerCoordinates())},enable:function(){this.enabled=true},disable:function(){this.enabled=false},scrollTo:function(k,l){if(this._native){this.scrollElement.scrollLeft(c(k));this.scrollElement.scrollTop(c(l))}else{this.dimensions.refresh();this.movable.moveTo({x:k,y:l})}},animatedScrollTo:function(n,o,k){var l,m;if(this._native){this.scrollTo(n,o)}else{l={x:this.movable.x,y:this.movable.y};m={x:n,y:o};this.animatedScroller.setCoordinates(l,m);this.animatedScroller.setCallback(k);this.animatedScroller.start()}},pullHandled:function(){var k=this;k.refreshHint.removeClass(e);k.hintContainer.html(k.pullTemplate({}));k.yinertia.onEnd();k.xinertia.onEnd();k.userEvents.cancel()},destroy:function(){L.fn.destroy.call(this);if(this.userEvents){this.userEvents.destroy()}},_scale:function(k){this.dimensions.rescale(k);this.movable.scaleTo(k)},_initPullToRefresh:function(){var k=this;k.dimensions.y.forceEnabled();k.pullTemplate=N.template(k.options.messages.pullTemplate);k.releaseTemplate=N.template(k.options.messages.releaseTemplate);k.refreshTemplate=N.template(k.options.messages.refreshTemplate);k.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+k.pullTemplate({})+"</span></span>");k.refreshHint=k.scrollElement.children().first();k.hintContainer=k.refreshHint.children(".km-template");k.pane.y.bind("change",O(k._paneChange,k));k.userEvents.bind("end",O(k._dragEnd,k))},_dragEnd:function(){var k=this;if(!k.pulled){return}k.pulled=false;k.refreshHint.removeClass(B).addClass(e);k.hintContainer.html(k.refreshTemplate({}));k.yinertia.freeze(k.options.pullOffset/2);k.trigger("pull")},_paneChange:function(){var k=this;if(k.movable.y/a>k.options.pullOffset){if(!k.pulled){k.pulled=true;k.refreshHint.removeClass(e).addClass(B);k.hintContainer.html(k.releaseTemplate({}))}}else{if(k.pulled){k.pulled=false;k.refreshHint.removeClass(B);k.hintContainer.html(k.pullTemplate({}))}}},_initAxis:function(q){var l=this,o=l.movable,k=l.dimensions[q],m=l.tapCapture,n=l.pane[q],p=new d({axis:q,movable:o,dimension:k,container:l.element,alwaysVisible:l.options.visibleScrollHints});k.bind(U,function(){p.refresh()});n.bind(U,function(){p.show()});l[q+"inertia"]=new I({axis:q,paneAxis:n,movable:o,tapCapture:m,userEvents:l.userEvents,dimension:k,elastic:l.options.elastic,friction:l.options.friction||V,velocityMultiplier:l.options.velocityMultiplier||Y,end:function(){p.hide();l.trigger("scrollEnd",{axis:q,scrollTop:l.scrollTop,scrollLeft:l.scrollLeft})}})}});T.plugin(G)})(window.kendo.jQuery);(function(M,A){var C=window.kendo,L=C.ui.Widget,D=M.proxy,I=false,G=".kendoGroupable",J="change",N=C.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}"><a href="\\#" class="k-link"><span class="k-icon k-si-arrow-${(data.dir || "asc") == "asc" ? "n" : "s"}">(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})</span>${data.title ? data.title: data.field}</a><a class="k-button k-button-icon k-button-bare"><span class="k-icon k-group-delete"></span></a></div>',{useWithBlock:false}),F=function(O){return M('<div class="k-header k-drag-clue" />').css({width:O.width(),paddingLeft:O.css("paddingLeft"),paddingRight:O.css("paddingRight"),lineHeight:O.height()+"px",paddingTop:O.css("paddingTop"),paddingBottom:O.css("paddingBottom")}).html(O.attr(C.attr("title"))||O.attr(C.attr("field"))).prepend('<span class="k-icon k-drag-status k-denied" />')},K=M('<div class="k-grouping-dropclue"/>'),E=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g;function B(O){return O.position().top+3}var H=L.extend({init:function(O,S){var R=this,T,U=C.guid(),W=D(R._intializePositions,R),P,V,Q=R._dropCuePositions=[];L.fn.init.call(R,O,S);I=C.support.isRtl(O);V=I?"right":"left";R.draggable=P=R.options.draggable||new C.ui.Draggable(R.element,{filter:R.options.draggableElements,hint:F,group:U});R.groupContainer=M(R.options.groupContainer,R.element).kendoDropTarget({group:P.options.group,dragenter:function(X){if(R._canDrag(X.draggable.currentTarget)){X.draggable.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add");K.css("top",B(R.groupContainer)).css(V,0).appendTo(R.groupContainer)}},dragleave:function(X){X.draggable.hint.find(".k-drag-status").removeClass("k-add").addClass("k-denied");K.remove()},drop:function(X){var Y=X.draggable.currentTarget,c=Y.attr(C.attr("field")),f=Y.attr(C.attr("title")),d=R.indicator(c),a=R._dropCuePositions,b=a[a.length-1],Z;if(!Y.hasClass("k-group-indicator")&&!R._canDrag(Y)){return}if(b){Z=R._dropCuePosition(C.getOffset(K).left+parseInt(b.element.css("marginLeft"),10)*(I?-1:1)+parseInt(b.element.css("marginRight"),10));if(Z&&R._canDrop(M(d),Z.element,Z.left)){if(Z.before){Z.element.before(d||R.buildIndicator(c,f))}else{Z.element.after(d||R.buildIndicator(c,f))}R._change()}}else{R.groupContainer.append(R.buildIndicator(c,f));R._change()}}}).kendoDraggable({filter:"div.k-group-indicator",hint:F,group:P.options.group,dragcancel:D(R._dragCancel,R),dragstart:function(X){var b=X.currentTarget,a=parseInt(b.css("marginLeft"),10),Z=b.position(),Y=I?Z.left-a:Z.left+b.outerWidth();W();K.css({top:B(R.groupContainer),left:Y}).appendTo(R.groupContainer);this.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add")},dragend:function(){R._dragEnd(this)},drag:D(R._drag,R)}).on("click"+G,".k-button",function(X){X.preventDefault();R._removeIndicator(M(this).parent())}).on("click"+G,".k-link",function(X){var Z=M(this).parent(),Y=R.buildIndicator(Z.attr(C.attr("field")),Z.attr(C.attr("title")),Z.attr(C.attr("dir"))=="asc"?"desc":"asc");Z.before(Y).remove();R._change();X.preventDefault()});P.bind(["dragend","dragcancel","dragstart","drag"],{dragend:function(){R._dragEnd(this)},dragcancel:D(R._dragCancel,R),dragstart:function(X){var Z,a,Y;if(!R.options.allowDrag&&!R._canDrag(X.currentTarget)){X.preventDefault();return}W();if(Q.length){Z=Q[Q.length-1].element;a=parseInt(Z.css("marginRight"),10);Y=Z.position().left+Z.outerWidth()+a}else{Y=0}},drag:D(R._drag,R)});R.dataSource=R.options.dataSource;if(R.dataSource&&R._refreshHandler){R.dataSource.unbind(J,R._refreshHandler)}else{R._refreshHandler=D(R.refresh,R)}if(R.dataSource){R.dataSource.bind("change",R._refreshHandler);R.refresh()}},refresh:function(){var O=this,P=O.dataSource;if(O.groupContainer){O.groupContainer.empty().append(M.map(P.group()||[],function(Q){var R=Q.field;var T=C.attr("field");var S=O.element.find(O.options.filter).filter(function(){return M(this).attr(T)===R});return O.buildIndicator(Q.field,S.attr(C.attr("title")),Q.dir)}).join(""))}O._invalidateGroupContainer()},destroy:function(){var O=this;L.fn.destroy.call(O);O.groupContainer.off(G);if(O.groupContainer.data("kendoDropTarget")){O.groupContainer.data("kendoDropTarget").destroy()}if(O.groupContainer.data("kendoDraggable")){O.groupContainer.data("kendoDraggable").destroy()}if(!O.options.draggable){O.draggable.destroy()}if(O.dataSource&&O._refreshHandler){O.dataSource.unbind("change",O._refreshHandler);O._refreshHandler=null}O.groupContainer=O.element=O.draggable=null},options:{name:"Groupable",filter:"th",draggableElements:"th",messages:{empty:"Drag a column header and drop it here to group by that column"}},indicator:function(O){var P=M(".k-group-indicator",this.groupContainer);return M.grep(P,function(Q){return M(Q).attr(C.attr("field"))===O})[0]},buildIndicator:function(Q,P,O){return N({field:Q.replace(/"/g,"'"),dir:O,title:P,ns:C.ns})},descriptors:function(){var Q=this,S=M(".k-group-indicator",Q.groupContainer),O,T,R,U,P;O=Q.element.find(Q.options.filter).map(function(){var V=M(this),W=V.attr(C.attr("aggregates")),X=V.attr(C.attr("field"));if(W&&W!==""){T=W.split(",");W=[];for(U=0,P=T.length;U<P;U++){W.push({field:X,aggregate:T[U]})}}return W}).toArray();return M.map(S,function(V){V=M(V);R=V.attr(C.attr("field"));return{field:R,dir:V.attr(C.attr("dir")),aggregates:O||[]}})},_removeIndicator:function(O){var P=this;O.remove();P._invalidateGroupContainer();P._change()},_change:function(){var O=this;if(O.dataSource){O.dataSource.group(O.descriptors())}},_dropCuePosition:function(R){var T=this._dropCuePositions;if(!K.is(":visible")||T.length===0){return}R=Math.ceil(R);var Q=T[T.length-1],P=Q.left,O=Q.right,S=parseInt(Q.element.css("marginLeft"),10),U=parseInt(Q.element.css("marginRight"),10);if(R>=O&&!I||R<P&&I){R={left:Q.element.position().left+(!I?Q.element.outerWidth()+U:-S),element:Q.element,before:false}}else{R=M.grep(T,function(V){return(V.left<=R&&R<=V.right)||(I&&R>V.right)})[0];if(R){R={left:I?R.element.position().left+R.element.outerWidth()+U:R.element.position().left-S,element:R.element,before:true}}}return R},_drag:function(P){var O=this._dropCuePosition(P.x.location);if(O){K.css({left:O.left,right:"auto"})}},_canDrag:function(P){var O=P.attr(C.attr("field"));return P.attr(C.attr("groupable"))!="false"&&O&&(P.hasClass("k-group-indicator")||!this.indicator(O))},_canDrop:function(O,S,Q){var P=O.next(),R=O[0]!==S[0]&&(!P[0]||S[0]!==P[0]||(!I&&Q>P.position().left||I&&Q<P.position().left));return R},_dragEnd:function(O){var P=this,Q=O.currentTarget.attr(C.attr("field")),R=P.indicator(Q);if(O!==P.options.draggable&&!O.dropped&&R){P._removeIndicator(M(R))}P._dragCancel()},_dragCancel:function(){K.remove();this._dropCuePositions=[]},_intializePositions:function(){var P=this,Q=M(".k-group-indicator",P.groupContainer),O;P._dropCuePositions=M.map(Q,function(R){R=M(R);O=C.getOffset(R).left;return{left:parseInt(O,10),right:parseInt(O+R.outerWidth(),10),element:R}})},_invalidateGroupContainer:function(){var O=this.groupContainer;if(O&&O.is(":empty")){O.html(this.options.messages.empty)}}});C.ui.plugin(H)})(window.kendo.jQuery);(function(H,A){var B=window.kendo,E=B.getOffset,G=B.ui.Widget,F="change",C="k-reorderable";function I(J,K){J=H(J);if(K){J.find(".k-drag-status").removeClass("k-add").addClass("k-denied")}else{J.find(".k-drag-status").removeClass("k-denied").addClass("k-add")}}var D=G.extend({init:function(N,M){var K=this,J,L=B.guid()+"-reorderable";G.fn.init.call(K,N,M);N=K.element.addClass(C);M=K.options;K.draggable=J=M.draggable||new B.ui.Draggable(N,{group:L,filter:M.filter,hint:M.hint});K.reorderDropCue=H('<div class="k-reorder-cue"><div class="k-icon k-i-arrow-s"></div><div class="k-icon k-i-arrow-n"></div></div>');N.find(J.options.filter).kendoDropTarget({group:J.options.group,dragenter:function(P){if(!K._draggable){return}var R=this.element,O;var S=!K._dropTargetAllowed(R)||K._isLastDraggable();I(P.draggable.hint,S);if(!S){O=E(R);var Q=O.left;if(M.inSameContainer&&!M.inSameContainer({source:R,target:K._draggable,sourceIndex:K._index(R),targetIndex:K._index(K._draggable)})){K._dropTarget=R}else{if(K._index(R)>K._index(K._draggable)){Q+=R.outerWidth()}}K.reorderDropCue.css({height:R.outerHeight(),top:O.top,left:Q}).appendTo(document.body)}},dragleave:function(O){I(O.draggable.hint,true);K.reorderDropCue.remove();K._dropTarget=null},drop:function(){K._dropTarget=null;if(!K._draggable){return}var P=this.element;var O=K._draggable;var Q=false;if(K._dropTargetAllowed(P)&&!K._isLastDraggable()){K.trigger(F,{element:K._draggable,target:P,oldIndex:K._index(O),newIndex:K._index(P),position:E(K.reorderDropCue).left>E(P).left?"after":"before"})}}});J.bind(["dragcancel","dragend","dragstart","drag"],{dragcancel:function(){K.reorderDropCue.remove();K._draggable=null;K._elements=null},dragend:function(){K.reorderDropCue.remove();K._draggable=null;K._elements=null},dragstart:function(O){K._draggable=O.currentTarget;K._elements=K.element.find(K.draggable.options.filter)},drag:function(O){if(!K._dropTarget||this.hint.find(".k-drag-status").hasClass("k-denied")){return}var P=E(K._dropTarget).left;var Q=K._dropTarget.outerWidth();if(O.pageX>P+Q/2){K.reorderDropCue.css({left:P+Q})}else{K.reorderDropCue.css({left:P})}}})},options:{name:"Reorderable",filter:"*"},events:[F],_isLastDraggable:function(){var M=this.options.inSameContainer,J=this._draggable[0],K=this._elements.get(),N=false,L;if(!M){return false}while(!N&&K.length>0){L=K.pop();N=J!==L&&M({source:J,target:L,sourceIndex:this._index(J),targetIndex:this._index(L)})}return !N},_dropTargetAllowed:function(K){var L=this.options.inSameContainer,M=this.options.dragOverContainers,J=this._draggable;if(J[0]===K[0]){return false}if(!L||!M){return true}if(L({source:J,target:K,sourceIndex:this._index(J),targetIndex:this._index(K)})){return true}return M(this._index(J),this._index(K))},_index:function(J){return this._elements.index(J)},destroy:function(){var J=this;G.fn.destroy.call(J);J.element.find(J.draggable.options.filter).each(function(){var K=H(this);if(K.data("kendoDropTarget")){K.data("kendoDropTarget").destroy()}});if(J.draggable){J.draggable.destroy();J.draggable.element=J.draggable=null}J.elements=J.reorderDropCue=J._elements=J._draggable=null}});B.ui.plugin(D)})(window.kendo.jQuery);(function(K,A){var C=window.kendo,N=C.ui,J=N.Widget,D=K.proxy,F=C.isFunction,G=K.extend,I="horizontal",H="vertical",B="start",E="resize",M="resizeend";var L=J.extend({init:function(Q,P){var O=this;J.fn.init.call(O,Q,P);O.orientation=O.options.orientation.toLowerCase()!=H?I:H;O._positionMouse=O.orientation==I?"x":"y";O._position=O.orientation==I?"left":"top";O._sizingDom=O.orientation==I?"outerWidth":"outerHeight";O.draggable=new N.Draggable(Q,{distance:1,filter:P.handle,drag:D(O._resize,O),dragcancel:D(O._cancel,O),dragstart:D(O._start,O),dragend:D(O._stop,O)});O.userEvents=O.draggable.userEvents},events:[E,M,B],options:{name:"Resizable",orientation:I},resize:function(){},_max:function(P){var Q=this,O=Q.hint?Q.hint[Q._sizingDom]():0,R=Q.options.max;return F(R)?R(P):R!==A?(Q._initialElementPosition+R)-O:R},_min:function(P){var Q=this,O=Q.options.min;return F(O)?O(P):O!==A?Q._initialElementPosition+O:O},_start:function(P){var Q=this,O=Q.options.hint,R=K(P.currentTarget);Q._initialElementPosition=R.position()[Q._position];Q._initialMousePosition=P[Q._positionMouse].startLocation;if(O){Q.hint=F(O)?K(O(R)):O;Q.hint.css({position:"absolute"}).css(Q._position,Q._initialElementPosition).appendTo(Q.element)}Q.trigger(B,P);Q._maxPosition=Q._max(P);Q._minPosition=Q._min(P);K(document.body).css("cursor",R.css("cursor"))},_resize:function(Q){var R=this,S=R._maxPosition,O=R._minPosition,P=R._initialElementPosition+(Q[R._positionMouse].location-R._initialMousePosition),T;T=O!==A?Math.max(O,P):P;R.position=T=S!==A?Math.min(S,T):T;if(R.hint){R.hint.toggleClass(R.options.invalidClass||"",T==S||T==O).css(R._position,T)}R.resizing=true;R.trigger(E,G(Q,{position:T}))},_stop:function(O){var P=this;if(P.hint){P.hint.remove()}P.resizing=false;P.trigger(M,G(O,{position:P.position}));K(document.body).css("cursor","")},_cancel:function(O){var P=this;if(P.hint){P.position=A;P.hint.css(P._position,P._initialElementPosition);P._stop(O)}},destroy:function(){var O=this;J.fn.destroy.call(O);if(O.draggable){O.draggable.destroy()}},press:function(Q){if(!Q){return}var P=Q.position(),O=this;O.userEvents.press(P.left,P.top,Q[0]);O.targetPosition=P;O.target=Q},move:function(P){var Q=this,O=Q._position,R=Q.targetPosition,S=Q.position;if(S===A){S=R[O]}R[O]=S+P;Q.userEvents.move(R.left,R.top)},end:function(){this.userEvents.end();this.target=this.position=A}});C.ui.plugin(L)})(window.kendo.jQuery);(function(R,Q){var J=window.kendo,O=J.ui.Widget,E="start",A="beforeMove",S="move",L="end",C="change",I="cancel",K="sort",H="remove",N="receive",G=">*",M=-1;function P(V,U){try{return R.contains(V,U)||V==U}catch(T){return false}}function B(T){return T.clone()}function D(T){return T.clone().removeAttr("id").css("visibility","hidden")}var F=O.extend({init:function(V,U){var T=this;O.fn.init.call(T,V,U);if(!T.options.placeholder){T.options.placeholder=D}if(!T.options.hint){T.options.hint=B}T._draggable=T._createDraggable()},events:[E,A,S,L,C,I],options:{name:"Sortable",hint:null,placeholder:null,filter:G,holdToDrag:false,disabled:null,container:null,connectWith:null,handler:null,cursorOffset:null,axis:null,ignore:null,autoScroll:false,cursor:"auto"},destroy:function(){this._draggable.destroy();O.fn.destroy.call(this)},_createDraggable:function(){var T=this,V=T.element,U=T.options;return new J.ui.Draggable(V,{filter:U.filter,hint:J.isFunction(U.hint)?U.hint:R(U.hint),holdToDrag:U.holdToDrag,container:U.container?R(U.container):null,cursorOffset:U.cursorOffset,axis:U.axis,ignore:U.ignore,autoScroll:U.autoScroll,dragstart:R.proxy(T._dragstart,T),dragcancel:R.proxy(T._dragcancel,T),drag:R.proxy(T._drag,T),dragend:R.proxy(T._dragend,T)})},_dragstart:function(U){var Y=this.draggedElement=U.currentTarget,X=U.target||J.elementUnderCursor(U),T=this.options.disabled,W=this.options.handler,V=this.options.placeholder,Z=this.placeholder=J.isFunction(V)?R(V.call(this,Y)):R(V);if(T&&Y.is(T)){U.preventDefault()}else{if(W&&!R(U.initialTarget).is(W)){U.preventDefault()}else{if(this.trigger(E,{item:Y,draggableEvent:U})){U.preventDefault()}else{Y.css("display","none");Y.before(Z);this._setCursor()}}}},_dragcancel:function(T){this._cancel();this.trigger(I,{item:this.draggedElement});this._resetCursor()},_drag:function(T){var d=this.draggedElement,a=this._findTarget(T),X,b={left:T.x.location,top:T.y.location},Y,f={x:T.x.delta,y:T.y.delta},U,Z,c,V=this.options.axis,W={item:d,list:this,draggableEvent:T};if(V==="x"||V==="y"){this._movementByAxis(V,b,f[V],W);return}if(a){X=this._getElementCenter(a.element);Y={left:Math.round(b.left-X.left),top:Math.round(b.top-X.top)};R.extend(W,{target:a.element});if(a.appendToBottom){this._movePlaceholder(a,null,W);return}if(a.appendAfterHidden){this._movePlaceholder(a,"next",W)}if(this._isFloating(a.element)){if(f.x<0&&Y.left<0){U="prev"}else{if(f.x>0&&Y.left>0){U="next"}}}else{if(f.y<0&&Y.top<0){U="prev"}else{if(f.y>0&&Y.top>0){U="next"}}}if(U){c=(U==="prev")?jQuery.fn.prev:jQuery.fn.next;Z=c.call(a.element);while(Z.length&&!Z.is(":visible")){Z=c.call(Z)}if(Z[0]!=this.placeholder[0]){this._movePlaceholder(a,U,W)}}}},_dragend:function(U){var T=this.placeholder,a=this.draggedElement,Z=this.indexOf(a),W=this.indexOf(T),c=this.options.connectWith,Y,V,X,b;this._resetCursor();X={action:K,item:a,oldIndex:Z,newIndex:W,draggableEvent:U};if(W>=0){V=this.trigger(L,X)}else{Y=T.parents(c).getKendoSortable();X.action=H;b=R.extend({},X,{action:N,oldIndex:M,newIndex:Y.indexOf(T)});V=!(!this.trigger(L,X)&&!Y.trigger(L,b))}if(V||W===Z){this._cancel();return}T.replaceWith(a);a.show();this._draggable.dropped=true;X={action:this.indexOf(a)!=M?K:H,item:a,oldIndex:Z,newIndex:this.indexOf(a),draggableEvent:U};this.trigger(C,X);if(Y){b=R.extend({},X,{action:N,oldIndex:M,newIndex:Y.indexOf(a)});Y.trigger(C,b)}},_findTarget:function(U){var X=this._findElementUnderCursor(U),W,T=this.options.connectWith,V;if(R.contains(this.element[0],X)){W=this.items();V=W.filter(X)[0]||W.has(X)[0];return V?{element:R(V),sortable:this}:null}else{if(this.element[0]==X&&this._isEmpty()){return{element:this.element,sortable:this,appendToBottom:true}}else{if(this.element[0]==X&&this._isLastHidden()){V=this.items().eq(0);return{element:V,sortable:this,appendAfterHidden:true}}else{if(T){return this._searchConnectedTargets(X,U)}}}}},_findElementUnderCursor:function(U){var V=J.elementUnderCursor(U),T=U.sender,Y=this.options.disabled,W=this.options.filter,X=this.items();if(P(T.hint[0],V)){T.hint.hide();V=J.elementUnderCursor(U);if(!V){V=J.elementUnderCursor(U)}T.hint.show()}return V},_searchConnectedTargets:function(Y,U){var Z=R(this.options.connectWith),T,X,W;for(var V=0;V<Z.length;V++){T=Z.eq(V).getKendoSortable();if(R.contains(Z[V],Y)){if(T){X=T.items();W=X.filter(Y)[0]||X.has(Y)[0];if(W){T.placeholder=this.placeholder;return{element:R(W),sortable:T}}else{return null}}}else{if(Z[V]==Y){if(T&&T._isEmpty()){return{element:Z.eq(V),sortable:T,appendToBottom:true}}else{if(this._isCursorAfterLast(T,U)){W=T.items().last();return{element:W,sortable:T}}}}}}},_isCursorAfterLast:function(W,V){var X=W.items().last(),Y={left:V.x.location,top:V.y.location},U,T;U=J.getOffset(X);U.top+=X.outerHeight();U.left+=X.outerWidth();if(this._isFloating(X)){T=U.left-Y.left}else{T=U.top-Y.top}return T<0?true:false},_movementByAxis:function(Z,U,T,W){var Y=(Z==="x")?U.left:U.top,X=(T<0)?this.placeholder.prev():this.placeholder.next(),V;if(X.length&&!X.is(":visible")){X=(T<0)?X.prev():X.next()}R.extend(W,{target:X});V=this._getElementCenter(X);if(V){V=(Z==="x")?V.left:V.top}if(X.length&&T<0&&Y-V<0){this._movePlaceholder({element:X,sortable:this},"prev",W)}else{if(X.length&&T>0&&Y-V>0){this._movePlaceholder({element:X,sortable:this},"next",W)}}},_movePlaceholder:function(U,V,W){var T=this.placeholder;if(!U.sortable.trigger(A,W)){if(!V){U.element.append(T)}else{if(V==="prev"){U.element.before(T)}else{if(V==="next"){U.element.after(T)}}}U.sortable.trigger(S,W)}},_setCursor:function(){var T=this.options.cursor,U;if(T&&T!=="auto"){U=R(document.body);this._originalCursorType=U.css("cursor");U.css({"cursor":T});if(!this._cursorStylesheet){this._cursorStylesheet=R("<style>* { cursor: "+T+" !important; }</style>")}this._cursorStylesheet.appendTo(U)}},_resetCursor:function(){if(this._originalCursorType){R(document.body).css("cursor",this._originalCursorType);this._originalCursorType=null;this._cursorStylesheet.remove()}},_getElementCenter:function(U){var T=U.length?J.getOffset(U):null;if(T){T.top+=U.outerHeight()/2;T.left+=U.outerWidth()/2}return T},_isFloating:function(T){return(/left|right/).test(T.css("float"))||(/inline|table-cell/).test(T.css("display"))},_cancel:function(){this.draggedElement.show();this.placeholder.remove()},_items:function(){var T=this.options.filter,U;if(T){U=this.element.find(T)}else{U=this.element.children()}return U},indexOf:function(V){var U=this._items(),W=this.placeholder,T=this.draggedElement;if(W&&V[0]==W[0]){return U.not(T).index(V)}else{return U.not(W).index(V)}},items:function(){var U=this.placeholder,T=this._items();if(U){T=T.not(U)}return T},_isEmpty:function(){return !this.items().length},_isLastHidden:function(){return this.items().length===1&&this.items().is(":hidden")}});J.ui.plugin(F)})(window.kendo.jQuery);(function(O,R){var H=window.kendo,M=H.ui.Widget,G=O.proxy,K=Math.abs,N=Array.prototype.shift,L="aria-selected",D="k-state-selected",S="k-state-selecting",J="k-selectable",B="change",I=".kendoSelectable",A="k-state-unselecting",E="input,a,textarea,.k-multiselect-wrap,select,button,a.k-button>.k-icon,button.k-button>.k-icon,span.k-icon.k-i-expand,span.k-icon.k-i-collapse",P=H.support.browser.msie,F=false;(function(T){(function(){T('<div class="parent"><span /></div>').on("click",">*",function(){F=true}).find("span").click().end().off()})()})(O);var Q=M.extend({init:function(W,V){var U=this,T;M.fn.init.call(U,W,V);U._marquee=O("<div class='k-marquee'><div class='k-marquee-color'></div></div>");U._lastActive=null;U.element.addClass(J);U.relatedTarget=U.options.relatedTarget;T=U.options.multiple;if(this.options.aria&&T){U.element.attr("aria-multiselectable",true)}U.userEvents=new H.UserEvents(U.element,{global:true,allowSelection:true,filter:(!F?"."+J+" ":"")+U.options.filter,tap:G(U._tap,U)});if(T){U.userEvents.bind("start",G(U._start,U)).bind("move",G(U._move,U)).bind("end",G(U._end,U)).bind("select",G(U._select,U))}},events:[B],options:{name:"Selectable",filter:">*",multiple:false,relatedTarget:O.noop},_isElement:function(X){var V=this.element;var W,U=V.length,T=false;X=X[0];for(W=0;W<U;W++){if(V[W]===X){T=true;break}}return T},_tap:function(V){var a=O(V.target),U=this,b=V.event.ctrlKey||V.event.metaKey,Z=U.options.multiple,T=Z&&V.event.shiftKey,Y,W=V.event.which,X=V.event.button;if(!U._isElement(a.closest("."+J))||W&&W==3||X&&X==2){return}if(!this._allowSelection(V.event.target)){return}Y=a.hasClass(D);if(!Z||!b){U.clear()}a=a.add(U.relatedTarget(a));if(T){U.selectRange(U._firstSelectee(),a)}else{if(Y&&b){U._unselect(a);U._notify(B)}else{U.value(a)}U._lastActive=U._downTarget=a}},_start:function(T){var U=this,X=O(T.target),Y=X.hasClass(D),W,V=T.event.ctrlKey||T.event.metaKey;if(!this._allowSelection(T.event.target)){return}U._downTarget=X;if(!U._isElement(X.closest("."+J))){U.userEvents.cancel();return}if(U.options.useAllItems){U._items=U.element.find(U.options.filter)}else{W=X.closest(U.element);U._items=W.find(U.options.filter)}T.sender.capture();U._marquee.appendTo(document.body).css({left:T.x.client+1,top:T.y.client+1,width:0,height:0});if(!V){U.clear()}X=X.add(U.relatedTarget(X));if(Y){U._selectElement(X,true);if(V){X.addClass(A)}}},_move:function(T){var U=this,V={left:T.x.startLocation>T.x.location?T.x.location:T.x.startLocation,top:T.y.startLocation>T.y.location?T.y.location:T.y.startLocation,width:K(T.x.initialDelta),height:K(T.y.initialDelta)};U._marquee.css(V);U._invalidateSelectables(V,(T.event.ctrlKey||T.event.metaKey));T.preventDefault()},_end:function(){var T=this;T._marquee.remove();T._unselect(T.element.find(T.options.filter+"."+A)).removeClass(A);var U=T.element.find(T.options.filter+"."+S);U=U.add(T.relatedTarget(U));T.value(U);T._lastActive=T._downTarget;T._items=null},_invalidateSelectables:function(V,Z){var T,U,X=this._downTarget[0],Y=this._items,W,a;for(T=0,U=Y.length;T<U;T++){a=Y.eq(T);W=a.add(this.relatedTarget(a));if(C(a,V)){if(a.hasClass(D)){if(Z&&X!==a[0]){W.removeClass(D).addClass(A)}}else{if(!a.hasClass(S)&&!a.hasClass(A)){W.addClass(S)}}}else{if(a.hasClass(S)){W.removeClass(S)}else{if(Z&&a.hasClass(A)){W.removeClass(A).addClass(D)}}}}},value:function(V){var U=this,T=G(U._selectElement,U);if(V){V.each(function(){T(this)});U._notify(B);return}return U.element.find(U.options.filter+"."+D)},_firstSelectee:function(){var T=this,U;if(T._lastActive!==null){return T._lastActive}U=T.value();return U.length>0?U[0]:T.element.find(T.options.filter)[0]},_selectElement:function(V,U){var W=O(V),T=!U&&this._notify("select",{element:V});W.removeClass(S);if(!T){W.addClass(D);if(this.options.aria){W.attr(L,true)}}},_notify:function(T,U){U=U||{};return this.trigger(T,U)},_unselect:function(T){T.removeClass(D);if(this.options.aria){T.attr(L,false)}return T},_select:function(T){if(this._allowSelection(T.event.target)){if(!P||(P&&!O(H._activeElement()).is(E))){T.preventDefault()}}},_allowSelection:function(T){if(O(T).is(E)){this.userEvents.cancel();this._downTarget=null;return false}return true},resetTouchEvents:function(){this.userEvents.cancel()},clear:function(){var T=this.element.find(this.options.filter+"."+D);this._unselect(T)},selectRange:function(X,W){var U=this,Y,T,V;U.clear();if(U.element.length>1){V=U.options.continuousItems()}if(!V||!V.length){V=U.element.find(U.options.filter)}X=O.inArray(O(X)[0],V);W=O.inArray(O(W)[0],V);if(X>W){T=X;X=W;W=T}if(!U.options.useAllItems){W+=U.element.length-1}for(Y=X;Y<=W;Y++){U._selectElement(V[Y])}U._notify(B)},destroy:function(){var T=this;M.fn.destroy.call(T);T.element.off(I);T.userEvents.destroy();T._marquee=T._lastActive=T.element=T.userEvents=null}});Q.parseOptions=function(T){var U=typeof T==="string"&&T.toLowerCase();return{multiple:U&&U.indexOf("multiple")>-1,cell:U&&U.indexOf("cell")>-1}};function C(W,U){if(!W.is(":visible")){return false}var V=H.getOffset(W),T=U.left+U.width,X=U.top+U.height;V.right=V.left+W.outerWidth();V.bottom=V.top+W.outerHeight();return !(V.left>T||V.right<U.left||V.top>X||V.bottom<U.top)}H.ui.plugin(Q)})(window.kendo.jQuery);(function(M,A){var B=window.kendo,J=B.ui.Widget,C=M.proxy,K=B.keys,N="click",O="k-button",D="k-button-icon",I="k-button-icontext",E=".kendoButton",H="disabled",F="k-state-disabled",L="k-state-focused",P="k-state-selected";var G=J.extend({init:function(S,R){var Q=this;J.fn.init.call(Q,S,R);S=Q.wrapper=Q.element;R=Q.options;S.addClass(O).attr("role","button");R.enable=R.enable&&!S.attr(H);Q.enable(R.enable);Q._tabindex();Q._graphics();S.on(N+E,C(Q._click,Q)).on("focus"+E,C(Q._focus,Q)).on("blur"+E,C(Q._blur,Q)).on("keydown"+E,C(Q._keydown,Q)).on("keyup"+E,C(Q._keyup,Q));B.notify(Q)},destroy:function(){var Q=this;Q.wrapper.off(E);J.fn.destroy.call(Q)},events:[N],options:{name:"Button",icon:"",spriteCssClass:"",imageUrl:"",enable:true},_isNativeButton:function(){return this.element.prop("tagName").toLowerCase()=="button"},_click:function(Q){if(this.options.enable){if(this.trigger(N,{event:Q})){Q.preventDefault()}}},_focus:function(){if(this.options.enable){this.element.addClass(L)}},_blur:function(){this.element.removeClass(L)},_keydown:function(Q){var R=this;if(!R._isNativeButton()){if(Q.keyCode==K.ENTER||Q.keyCode==K.SPACEBAR){if(Q.keyCode==K.SPACEBAR){Q.preventDefault();if(R.options.enable){R.element.addClass(P)}}R._click(Q)}}},_keyup:function(){this.element.removeClass(P)},_graphics:function(){var W=this,Q=W.element,U=W.options,T=U.icon,V=U.spriteCssClass,Y=U.imageUrl,S,R,X;if(V||Y||T){X=true;Q.contents().not("span.k-sprite").not("span.k-icon").not("img.k-image").each(function(a,Z){if(Z.nodeType==1||Z.nodeType==3&&M.trim(Z.nodeValue).length>0){X=false}});if(X){Q.addClass(D)}else{Q.addClass(I)}}if(T){S=Q.children("span.k-icon").first();if(!S[0]){S=M('<span class="k-icon"></span>').prependTo(Q)}S.addClass("k-i-"+T)}else{if(V){S=Q.children("span.k-sprite").first();if(!S[0]){S=M('<span class="k-sprite"></span>').prependTo(Q)}S.addClass(V)}else{if(Y){R=Q.children("img.k-image").first();if(!R[0]){R=M('<img alt="icon" class="k-image" />').prependTo(Q)}R.attr("src",Y)}}}},enable:function(T){var Q=this,S=Q.element;if(T===A){T=true}T=!!T;Q.options.enable=T;S.toggleClass(F,!T).attr("aria-disabled",!T).attr(H,!T);try{S.blur()}catch(R){}}});B.ui.plugin(G)})(window.kendo.jQuery);(function(W,V){var U=window.kendo,E=U.ui,C=E.Widget,P=W.proxy,N=".k-i-seek-w",I=".k-i-seek-e",H=".k-i-arrow-w",D=".k-i-arrow-e",B="change",O=".kendoPager",X="click",A="keydown",F="disabled",M=U.template('<a href="\\#" title="#=text#" class="k-link k-pager-nav #= wrapClassName #"><span class="k-icon #= className #">#=text#</span></a>');function K(Z,a,Y,b,c){return Z({idx:a,text:Y,ns:U.ns,numeric:b,title:c||""})}function J(Y,a,Z){return M({className:Y.substring(1),text:a,wrapClassName:Z||""})}function T(a,Z,b,Y){a.find(Z).parent().attr(U.attr("page"),b).attr("tabindex",-1).toggleClass("k-state-disabled",Y)}function L(Y,Z){T(Y,N,1,Z<=1)}function G(Y,Z){T(Y,H,Math.max(1,Z-1),Z<=1)}function Q(Y,a,Z){T(Y,D,Math.min(Z,a+1),a>=Z)}function S(Y,a,Z){T(Y,I,Z,a>=Z)}var R=C.extend({init:function(c,b){var Z=this,e,d;C.fn.init.call(Z,c,b);b=Z.options;Z.dataSource=U.data.DataSource.create(b.dataSource);Z.linkTemplate=U.template(Z.options.linkTemplate);Z.selectTemplate=U.template(Z.options.selectTemplate);Z.currentPageTemplate=U.template(Z.options.currentPageTemplate);e=Z.page();d=Z.totalPages();Z._refreshHandler=P(Z.refresh,Z);Z.dataSource.bind(B,Z._refreshHandler);if(b.previousNext){if(!Z.element.find(N).length){Z.element.append(J(N,b.messages.first,"k-pager-first"));L(Z.element,e,d)}if(!Z.element.find(H).length){Z.element.append(J(H,b.messages.previous));G(Z.element,e,d)}}if(b.numeric){Z.list=Z.element.find(".k-pager-numbers");if(!Z.list.length){Z.list=W('<ul class="k-pager-numbers k-reset" />').appendTo(Z.element)}}if(b.input){if(!Z.element.find(".k-pager-input").length){Z.element.append('<span class="k-pager-input k-label">'+b.messages.page+'<input class="k-textbox">'+U.format(b.messages.of,d)+"</span>")}Z.element.on(A+O,".k-pager-input input",P(Z._keydown,Z))}if(b.previousNext){if(!Z.element.find(D).length){Z.element.append(J(D,b.messages.next));Q(Z.element,e,d)}if(!Z.element.find(I).length){Z.element.append(J(I,b.messages.last,"k-pager-last"));S(Z.element,e,d)}}if(b.pageSizes){if(!Z.element.find(".k-pager-sizes").length){var a=b.pageSizes.length?b.pageSizes:["all",5,10,20];var Y=W.map(a,function(f){if(f.toLowerCase&&f.toLowerCase()==="all"){return"<option value='all'>"+b.messages.allPages+"</option>"}return"<option>"+f+"</option>"});W('<span class="k-pager-sizes k-label"><select/>'+b.messages.itemsPerPage+"</span>").appendTo(Z.element).find("select").html(Y.join("")).end().appendTo(Z.element)}Z.element.find(".k-pager-sizes select").val(Z.pageSize());if(U.ui.DropDownList){Z.element.find(".k-pager-sizes select").show().kendoDropDownList()}Z.element.on(B+O,".k-pager-sizes select",P(Z._change,Z))}if(b.refresh){if(!Z.element.find(".k-pager-refresh").length){Z.element.append('<a href="#" class="k-pager-refresh k-link" title="'+b.messages.refresh+'"><span class="k-icon k-i-refresh">'+b.messages.refresh+"</span></a>")}Z.element.on(X+O,".k-pager-refresh",P(Z._refreshClick,Z))}if(b.info){if(!Z.element.find(".k-pager-info").length){Z.element.append('<span class="k-pager-info k-label" />')}}Z.element.on(X+O,"a",P(Z._click,Z)).addClass("k-pager-wrap k-widget");Z.element.on(X+O,".k-current-page",P(Z._toggleActive,Z));if(b.autoBind){Z.refresh()}U.notify(Z)},destroy:function(){var Y=this;C.fn.destroy.call(Y);Y.element.off(O);Y.dataSource.unbind(B,Y._refreshHandler);Y._refreshHandler=null;U.destroy(Y.element);Y.element=Y.list=null},events:[B],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',currentPageTemplate:'<li class="k-current-page"><span class="k-link k-pager-nav">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#" #if (title !== "") {# title="#=title#" #}#>#=text#</a></li>',buttonCount:10,autoBind:true,numeric:true,info:true,input:false,previousNext:true,pageSizes:false,refresh:false,messages:{allPages:"All",display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh",morePages:"More pages"}},setDataSource:function(Z){var Y=this;Y.dataSource.unbind(B,Y._refreshHandler);Y.dataSource=Y.options.dataSource=Z;Z.bind(B,Y._refreshHandler);if(Y.options.autoBind){Z.fetch()}},refresh:function(g){var o=this,p,d,q=1,c,j=o.page(),h="",m=o.options,Z=o.pageSize(),n=o.dataSource.total(),a=o.totalPages(),k=o.linkTemplate,l=m.buttonCount;if(g&&g.action=="itemchange"){return}if(m.numeric){if(j>l){c=(j%l);q=(c===0)?(j-l)+1:(j-c)+1}d=Math.min((q+l)-1,a);if(q>1){h+=K(k,q-1,"...",false,m.messages.morePages)}for(p=q;p<=d;p++){h+=K(p==j?o.selectTemplate:k,p,p,true)}if(d<a){h+=K(k,p,"...",false,m.messages.morePages)}if(h===""){h=o.selectTemplate({text:0})}h=this.currentPageTemplate({text:j})+h;o.list.removeClass("k-state-expanded").html(h)}if(m.info){if(n>0){h=U.format(m.messages.display,(j-1)*Z+1,Math.min(j*Z,n),n)}else{h=m.messages.empty}o.element.find(".k-pager-info").html(h)}if(m.input){o.element.find(".k-pager-input").html(o.options.messages.page+'<input class="k-textbox">'+U.format(m.messages.of,a)).find("input").val(j).attr(F,n<1).toggleClass("k-state-disabled",n<1)}if(m.previousNext){L(o.element,j,a);G(o.element,j,a);Q(o.element,j,a);S(o.element,j,a)}if(m.pageSizes){var b=o.element.find(".k-pager-sizes option[value='all']").length>0;var f=b&&Z===this.dataSource.total();var Y=Z;if(f){Z="all";Y=m.messages.allPages}o.element.find(".k-pager-sizes select").val(Z).filter("["+U.attr("role")+"=dropdownlist]").kendoDropDownList("value",Z).kendoDropDownList("text",Y)}},_keydown:function(Y){if(Y.keyCode===U.keys.ENTER){var Z=this.element.find(".k-pager-input").find("input"),a=parseInt(Z.val(),10);if(isNaN(a)||a<1||a>this.totalPages()){a=this.page()}Z.val(a);this.page(a)}},_refreshClick:function(Y){Y.preventDefault();this.dataSource.read()},_change:function(Y){var b=Y.currentTarget.value;var a=parseInt(b,10);var Z=this.dataSource;if(!isNaN(a)){Z.pageSize(a)}else{if(b=="all"){Z.pageSize(Z.total())}}},_toggleActive:function(Y){this.list.toggleClass("k-state-expanded")},_click:function(Y){var Z=W(Y.currentTarget);Y.preventDefault();if(!Z.is(".k-state-disabled")){this.page(Z.attr(U.attr("page")))}},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/this.pageSize())},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(Y){if(Y!==V){this.dataSource.page(Y);this.trigger(B,{index:Y})}else{if(this.dataSource.total()>0){return this.dataSource.page()}else{return 0}}}});E.plugin(R)})(window.kendo.jQuery);(function(Y,a){var Z=window.kendo,b=Z.ui,K=b.Widget,l=Z.support,I=Z.getOffset,V=Z._activeElement,T="open",L="close",S="deactivate",f="activate",Q="center",j="left",M="right",g="top",C="bottom",o="absolute",n="hidden",G="body",m="location",P="position",H="visible",E="effects",U="k-state-active",F="k-state-border",d=/k-state-border-(\w+)/,O=".k-picker-wrap, .k-dropdown-wrap, .k-link",c="down",N=Y(document.documentElement),D=Y(window),J="scroll",e="resize scroll",k=l.transitions.css,h=k+"transform",W=Y.extend,B=".kendoPopup",R=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];function X(p,q){return p===q||Y.contains(p,q)}var A=K.extend({init:function(s,r){var q=this,p;r=r||{};if(r.isRtl){r.origin=r.origin||C+" "+M;r.position=r.position||g+" "+M}K.fn.init.call(q,s,r);s=q.element;r=q.options;q.collisions=r.collision?r.collision.split(" "):[];q.downEvent=Z.applyEventMap(c,Z.guid());if(q.collisions.length===1){q.collisions.push(q.collisions[0])}p=Y(q.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])");r.appendTo=Y(Y(r.appendTo)[0]||p[0]||G);q.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!r.isRtl).css({position:o}).appendTo(r.appendTo).on("mouseenter"+B,function(){q._hovered=true}).on("mouseleave"+B,function(){q._hovered=false});q.wrapper=Y();if(r.animation===false){r.animation={open:{effects:{}},close:{hide:true,effects:{}}}}W(r.animation.open,{complete:function(){q.wrapper.css({overflow:H});q._activated=true;q._trigger(f)}});W(r.animation.close,{complete:function(){q._animationClose()}});q._mousedownProxy=function(t){q._mousedown(t)};q._resizeProxy=function(t){q._resize(t)};if(r.toggleTarget){Y(r.toggleTarget).on(r.toggleEvent+B,Y.proxy(q.toggle,q))}},events:[T,f,L,S],options:{name:"Popup",toggleEvent:"click",origin:C+" "+j,position:g+" "+j,anchor:G,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:true,autosize:false,modal:false,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:true,duration:200},close:{duration:100,hide:true}}},_animationClose:function(){var r=this,t=r.options;r.wrapper.hide();var p=r.wrapper.data(m),u=Y(t.anchor),q,s;if(p){r.wrapper.css(p)}if(t.anchor!=G){q=((u.attr("class")||"").match(d)||["","down"])[1];s=F+"-"+q;u.removeClass(s).children(O).removeClass(U).removeClass(s);r.element.removeClass(F+"-"+Z.directions[q].reverse)}r._closing=false;r._trigger(S)},destroy:function(){var p=this,q=p.options,r=p.element.off(B),s;K.fn.destroy.call(p);if(q.toggleTarget){Y(q.toggleTarget).off(B)}if(!q.modal){N.unbind(p.downEvent,p._mousedownProxy);p._scrollableParents().unbind(J,p._resizeProxy);D.unbind(e,p._resizeProxy)}Z.destroy(p.element.children());r.removeData();if(q.appendTo[0]===document.body){s=r.parent(".k-animation-container");if(s[0]){s.remove()}else{r.remove()}}},open:function(z,Aa){var v=this,t={isFixed:!isNaN(parseInt(Aa,10)),x:z,y:Aa},r=v.element,w=v.options,q="down",Ab,Ac,p=Y(w.anchor),s=r[0]&&r.hasClass("km-widget");if(!v.visible()){if(w.copyAnchorStyles){if(s&&R[0]=="font-size"){R.shift()}r.css(Z.getComputedStyles(p[0],R))}if(r.data("animating")||v._trigger(T)){return}v._activated=false;if(!w.modal){N.unbind(v.downEvent,v._mousedownProxy).bind(v.downEvent,v._mousedownProxy);if(!(l.mobileOS.ios||l.mobileOS.android)){v._scrollableParents().unbind(J,v._resizeProxy).bind(J,v._resizeProxy);D.unbind(e,v._resizeProxy).bind(e,v._resizeProxy)}}v.wrapper=Ac=Z.wrap(r,w.autosize).css({overflow:n,display:"block",position:o});if(l.mobileOS.android){Ac.css(h,"translatez(0)")}Ac.css(P);if(Y(w.appendTo)[0]==document.body){Ac.css(g,"-10000px")}Ab=W(true,{},w.animation.open);v.flipped=v._position(t);Ab.effects=Z.parseEffects(Ab.effects,v.flipped);q=Ab.effects.slideIn?Ab.effects.slideIn.direction:q;if(w.anchor!=G){var u=F+"-"+q;r.addClass(F+"-"+Z.directions[q].reverse);p.addClass(u).children(O).addClass(U).addClass(u)}r.data(E,Ab.effects).kendoStop(true).kendoAnimate(Ab)}},position:function(){if(this.visible()){this._position()}},toggle:function(){var p=this;p[p.visible()?L:T]()},visible:function(){return this.element.is(":"+H)},close:function(v){var r=this,t=r.options,s,p,q,u;if(r.visible()){s=(r.wrapper[0]?r.wrapper:Z.wrap(r.element).hide());if(r._closing||r._trigger(L)){return}r.element.find(".k-popup").each(function(){var w=Y(this),x=w.data("kendoPopup");if(x){x.close(v)}});N.unbind(r.downEvent,r._mousedownProxy);r._scrollableParents().unbind(J,r._resizeProxy);D.unbind(e,r._resizeProxy);if(v){p={hide:true,effects:{}}}else{p=W(true,{},t.animation.close);q=r.element.data(E);u=p.effects;if(!u&&!Z.size(u)&&q&&Z.size(q)){p.effects=q;p.reverse=true}r._closing=true}r.element.kendoStop(true);s.css({overflow:n});r.element.kendoAnimate(p)}},_trigger:function(p){return this.trigger(p,{type:p})},_resize:function(p){var q=this;if(p.type==="resize"){clearTimeout(q._resizeTimeout);q._resizeTimeout=setTimeout(function(){q._position();q._resizeTimeout=null},50)}else{if(!q._hovered||(q._activated&&q.element.hasClass("k-list-container"))){q.close()}}},_mousedown:function(q){var t=this,v=t.element[0],u=t.options,p=Y(u.anchor)[0],r=u.toggleTarget,w=Z.eventTarget(q),x=Y(w).closest(".k-popup"),s=x.parent().parent(".km-shim").length;x=x[0];if(!s&&x&&x!==t.element[0]){return}if(Y(q.target).closest("a").data("rel")==="popover"){return}if(!X(v,w)&&!X(p,w)&&!(r&&X(Y(r)[0],w))){t.close()}},_fit:function(q,p,s){var r=0;if(q+p>s){r=s-(q+p)}if(q<0){r=-q}return r},_flip:function(v,s,w,p,t,u,r){var q=0;r=r||s;if(u!==t&&u!==Q&&t!==Q){if(v+r>p){q+=-(w+s)}if(v+q<0){q+=w+s}}return q},_scrollableParents:function(){return Y(this.options.anchor).parentsUntil("body").filter(function(p,q){return Z.isScrollable(q)})},_position:function(Ar){var An=this,Ah=An.element,q=An.wrapper,Ak=An.options,z=Y(Ak.viewport),Aa=z.offset(),r=Y(Ak.anchor),Ao=Ak.origin.toLowerCase().split(" "),Al=Ak.position.toLowerCase().split(" "),Ai=An.collisions,Am=l.zoomLevel(),Aj,Ab,Ad,s=10002,Af=!!((z[0]==window)&&window.innerWidth&&(Am<=1.02)),Ap=0,x=document.documentElement,p,w,v;w=Af?window.innerWidth:z.width();v=Af?window.innerHeight:z.height();if(Af&&x.scrollHeight-x.clientHeight>0){w-=Z.support.scrollbar()}Aj=r.parents().filter(q.siblings());if(Aj[0]){Ad=Math.max(Number(Aj.css("zIndex")),0);if(Ad){s=Ad+10}else{Ab=r.parentsUntil(Aj);for(p=Ab.length;Ap<p;Ap++){Ad=Number(Y(Ab[Ap]).css("zIndex"));if(Ad&&s<Ad){s=Ad+10}}}}q.css("zIndex",s);if(Ar&&Ar.isFixed){q.css({left:Ar.x,top:Ar.y})}else{q.css(An._align(Ao,Al))}var Ae=I(q,P,r[0]===q.offsetParent()[0]),Ac=I(q),t=r.offsetParent().parent(".k-animation-container,.k-popup,.k-group");if(t.length){Ae=I(q,P,true);Ac=I(q)}if(z[0]===window){Ac.top-=(window.pageYOffset||document.documentElement.scrollTop||0);Ac.left-=(window.pageXOffset||document.documentElement.scrollLeft||0)}else{Ac.top-=Aa.top;Ac.left-=Aa.left}if(!An.wrapper.data(m)){q.data(m,W({},Ae))}var Ag=W({},Ac),u=W({},Ae),Aq=Ak.adjustSize;if(Ai[0]==="fit"){u.top+=An._fit(Ag.top,q.outerHeight()+Aq.height,v/Am)}if(Ai[1]==="fit"){u.left+=An._fit(Ag.left,q.outerWidth()+Aq.width,w/Am)}var y=W({},u);if(Ai[0]==="flip"){u.top+=An._flip(Ag.top,Ah.outerHeight(),r.outerHeight(),v/Am,Ao[0],Al[0],q.outerHeight())}if(Ai[1]==="flip"){u.left+=An._flip(Ag.left,Ah.outerWidth(),r.outerWidth(),w/Am,Ao[1],Al[1],q.outerWidth())}Ah.css(P,o);q.css(u);return(u.left!=y.left||u.top!=y.top)},_align:function(s,Ae){var Af=this,Ab=Af.wrapper,q=Y(Af.options.anchor),u=s[0],x=s[1],w=Ae[0],t=Ae[1],r=I(q),Aa=Y(Af.options.appendTo),Ac,z=Ab.outerWidth(),Ah=Ab.outerHeight(),Ag=q.outerWidth(),v=q.outerHeight(),y=r.top,Ad=r.left,p=Math.round;if(Aa[0]!=document.body){Ac=I(Aa);y-=Ac.top;Ad-=Ac.left}if(u===C){y+=v}if(u===Q){y+=p(v/2)}if(w===C){y-=Ah}if(w===Q){y-=p(Ah/2)}if(x===M){Ad+=Ag}if(x===Q){Ad+=p(Ag/2)}if(t===M){Ad-=z}if(t===Q){Ad-=p(z/2)}return{top:y,left:Ad}}});b.plugin(A)})(window.kendo.jQuery);(function(W,V){var M=window.kendo,T=M.ui.Widget,P=W.proxy,J=W.extend,Y=window.setTimeout,X="click",S="show",N="hide",K="k-notification",E=".k-notification-wrap .k-i-close",R="info",A="success",C="warning",U="error",G="top",L="left",D="bottom",Q="right",H="up",O=".kendoNotification",I='<div class="k-widget k-notification"></div>',F='<div class="k-notification-wrap"><span class="k-icon k-i-note">#=typeIcon#</span>#=content#<span class="k-icon k-i-close">Hide</span></div>';var B=T.extend({init:function(b,a){var Z=this;T.fn.init.call(Z,b,a);a=Z.options;if(!a.appendTo||!W(a.appendTo).is(b)){Z.element.hide()}Z._compileTemplates(a.templates);Z._guid="_"+M.guid();Z._isRtl=M.support.isRtl(b);Z._compileStacking(a.stacking,a.position.top);M.notify(Z)},events:[S,N],options:{name:"Notification",position:{pinned:true,top:null,left:null,bottom:20,right:20},stacking:"default",hideOnClick:true,button:false,allowHideAfter:0,autoHideAfter:5000,appendTo:null,width:null,height:null,templates:[],animation:{open:{effects:"fade:in",duration:300},close:{effects:"fade:out",duration:600,hide:true}}},_compileTemplates:function(a){var Z=this;var b=M.template;Z._compiled={};W.each(a,function(c,d){Z._compiled[d.type]=b(d.template||W("#"+d.templateId).html())});Z._defaultCompiled=b(F)},_getCompiled:function(Z){var b=this;var a=b._defaultCompiled;return Z?b._compiled[Z]||a:a},_compileStacking:function(Z,c){var b=this,a={paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},e,d;switch(Z){case"down":e=D+" "+L;d=G+" "+L;delete a.paddingBottom;break;case Q:e=G+" "+Q;d=G+" "+L;delete a.paddingRight;break;case L:e=G+" "+L;d=G+" "+Q;delete a.paddingLeft;break;case H:e=G+" "+L;d=D+" "+L;delete a.paddingTop;break;default:if(c!==null){e=D+" "+L;d=G+" "+L;delete a.paddingBottom}else{e=G+" "+L;d=D+" "+L;delete a.paddingTop}break}b._popupOrigin=e;b._popupPosition=d;b._popupPaddings=a},_attachPopupEvents:function(c,d){var b=this,Z=c.allowHideAfter,a=!isNaN(Z)&&Z>0,f;function e(g){g.on(X+O,function(){d.close()})}if(c.hideOnClick){d.bind("activate",function(g){if(a){Y(function(){e(d.element)},Z)}else{e(d.element)}})}else{if(c.button){f=d.element.find(E);if(a){Y(function(){e(f)},Z)}else{e(f)}}}},_showPopup:function(k,d){var c=this,h=d.autoHideAfter,f=d.position.left,g=d.position.top,e=d.allowHideAfter,Z,j,a,b;j=W("."+c._guid).last();Z=new M.ui.Popup(k,{anchor:j[0]?j:document.body,origin:c._popupOrigin,position:c._popupPosition,animation:d.animation,modal:true,collision:"",isRtl:c._isRtl,close:function(l){c._triggerHide(this.element)},deactivate:function(l){l.sender.element.off(O);l.sender.element.find(E).off(O);l.sender.destroy()}});c._attachPopupEvents(d,Z);if(j[0]){Z.open()}else{if(f===null){f=W(window).width()-k.width()-d.position.right}if(g===null){g=W(window).height()-k.height()-d.position.bottom}Z.open(f,g)}Z.wrapper.addClass(c._guid).css(J({margin:0},c._popupPaddings));if(d.position.pinned){Z.wrapper.css("position","fixed");if(j[0]){c._togglePin(Z.wrapper,true)}}else{if(!j[0]){c._togglePin(Z.wrapper,false)}}if(h>0){Y(function(){Z.close()},h)}},_togglePin:function(a,Z){var b=W(window),c=Z?-1:1;a.css({top:parseInt(a.css(G),10)+c*b.scrollTop(),left:parseInt(a.css(L),10)+c*b.scrollLeft()})},_attachStaticEvents:function(d,b){var c=this,Z=d.allowHideAfter,a=!isNaN(Z)&&Z>0;function e(f){f.on(X+O,P(c._hideStatic,c,b))}if(d.hideOnClick){if(a){Y(function(){e(b)},Z)}else{e(b)}}else{if(d.button){if(a){Y(function(){e(b.find(E))},Z)}else{e(b.find(E))}}}},_showStatic:function(b,d){var c=this,e=d.autoHideAfter,a=d.animation,Z=d.stacking==H||d.stacking==L?"prependTo":"appendTo",f;b.addClass(c._guid)[Z](d.appendTo).hide().kendoAnimate(a.open||false);c._attachStaticEvents(d,b);if(e>0){Y(function(){c._hideStatic(b)},e)}},_hideStatic:function(Z){Z.kendoAnimate(J(this.options.animation.close||false,{complete:function(){Z.off(O).find(E).off(O);Z.remove()}}));this._triggerHide(Z)},_triggerHide:function(Z){this.trigger(N,{element:Z});this.angular("cleanup",function(){return{elements:Z}})},show:function(g,a){var b=this,c=b.options,f=W(I),Z,e,d;if(!a){a=R}if(g!==null&&g!==V&&g!==""){if(M.isFunction(g)){g=g()}e={typeIcon:a,content:""};if(W.isPlainObject(g)){Z=J(e,g)}else{Z=J(e,{content:g})}f.addClass(K+"-"+a).toggleClass(K+"-button",c.button).attr("data-role","alert").css({width:c.width,height:c.height}).append(b._getCompiled(a)(Z));b.angular("compile",function(){return{elements:f,data:[{dataItem:Z}]}});if(W(c.appendTo)[0]){b._showStatic(f,c)}else{b._showPopup(f,c)}b.trigger(S,{element:f})}return b},info:function(Z){return this.show(Z,R)},success:function(Z){return this.show(Z,A)},warning:function(Z){return this.show(Z,C)},error:function(Z){return this.show(Z,U)},hide:function(){var Z=this,a=Z.getNotifications();if(Z.options.appendTo){a.each(function(b,c){Z._hideStatic(W(c))})}else{a.each(function(c,d){var b=W(d).data("kendoPopup");if(b){b.close()}})}return Z},getNotifications:function(){var Z=this,a=W("."+Z._guid);if(Z.options.appendTo){return a}else{return a.children("."+K)}},setOptions:function(b){var Z=this,a;T.fn.setOptions.call(Z,b);a=Z.options;if(b.templates!==V){Z._compileTemplates(a.templates)}if(b.stacking!==V||b.position!==V){Z._compileStacking(a.stacking,a.position.top)}},destroy:function(){T.fn.destroy.call(this);this.getNotifications().off(O).find(E).off(O)}});M.ui.plugin(B)})(window.kendo.jQuery);(function(c,b){var O=window.kendo,a=O.ui.Widget,N=O.ui.Popup,C=O.isFunction,J=c.isPlainObject,L=c.extend,T=c.proxy,A=c(document),E=O.isLocalUrl,f="_tt_active",Y="aria-describedby",Z="show",Q="hide",B="error",W="contentLoad",U="requestStart",H="k-content-frame",M='<div role="tooltip" class="k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#">#if (!autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close</a></div> #}#<div class="k-tooltip-content"></div>#if (callout){ #<div class="k-callout k-callout-#=dir#"></div>#}#</div>',P=O.template("<iframe frameborder='0' class='"+H+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),S=".kendoTooltip",K={bottom:{origin:"bottom center",position:"top center"},top:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"},center:{position:"center center",origin:"center center"}},I={"top":"bottom","bottom":"top","left":"right","right":"left","center":"center"},e={bottom:"n",top:"s",left:"e",right:"w",center:"n"},F={"horizontal":{offset:"top",size:"outerHeight"},"vertical":{offset:"left",size:"outerWidth"}},D=function(g){return g.target.data(O.ns+"title")};function d(g){while(g.length){G(g);g=g.parent()}}function G(h){var g=h.data(O.ns+"title");if(g){h.attr("title",g);h.removeData(O.ns+"title")}}function V(h){var g=h.attr("title");if(g){h.data(O.ns+"title",g);h.attr("title","")}}function R(g){while(g.length&&!g.is("body")){V(g);g=g.parent()}}var X=a.extend({init:function(j,h){var g=this,k;a.fn.init.call(g,j,h);k=g.options.position.match(/left|right/)?"horizontal":"vertical";g.dimensions=F[k];g._documentKeyDownHandler=T(g._documentKeyDown,g);g.element.on(g.options.showOn+S,g.options.filter,T(g._showOn,g)).on("mouseenter"+S,g.options.filter,T(g._mouseenter,g));if(this.options.autoHide){g.element.on("mouseleave"+S,g.options.filter,T(g._mouseleave,g))}},options:{name:"Tooltip",filter:"",content:D,showAfter:100,callout:true,position:"bottom",showOn:"mouseenter",autoHide:true,width:null,height:null,animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:40,hide:true}}},events:[Z,Q,W,B,U],_mouseenter:function(g){R(c(g.currentTarget))},_showOn:function(g){var h=this;var j=c(g.currentTarget);if(h.options.showOn&&h.options.showOn.match(/click|focus/)){h._show(j)}else{clearTimeout(h.timeout);h.timeout=setTimeout(function(){h._show(j)},h.options.showAfter)}},_appendContent:function(k){var j=this,m=j.options.content,l=j.content,g=j.options.iframe,h;if(J(m)&&m.url){if(!("iframe" in j.options)){g=!E(m.url)}j.trigger(U,{options:m,target:k});if(!g){l.empty();O.ui.progress(l,true);j._ajaxRequest(m)}else{l.hide();h=l.find("."+H)[0];if(h){h.src=m.url||h.src}else{l.html(P({content:m}))}l.find("."+H).off("load"+S).on("load"+S,function(){j.trigger(W);l.show()})}}else{if(m&&C(m)){m=m({sender:this,target:k});l.html(m||"")}else{l.html(m)}}j.angular("compile",function(){return{elements:l}})},_ajaxRequest:function(h){var g=this;jQuery.ajax(L({type:"GET",dataType:"html",cache:false,error:function(k,j){O.ui.progress(g.content,false);g.trigger(B,{status:j,xhr:k})},success:T(function(j){O.ui.progress(g.content,false);g.content.html(j);g.trigger(W)},g)},h))},_documentKeyDown:function(g){if(g.keyCode===O.keys.ESC){this.hide()}},refresh:function(){var g=this,h=g.popup;if(h&&h.options.anchor){g._appendContent(h.options.anchor)}},hide:function(){if(this.popup){this.popup.close()}},show:function(g){g=g||this.element;R(g);this._show(g)},_show:function(j){var g=this,h=g.target();if(!g.popup){g._initPopup()}if(h&&h[0]!=j[0]){g.popup.close();g.popup.element.kendoStop(true,true)}if(!h||h[0]!=j[0]){g._appendContent(j);g.popup.options.anchor=j}g.popup.one("deactivate",function(){d(j);j.removeAttr(Y);this.element.removeAttr("id").attr("aria-hidden",true);A.off("keydown"+S,g._documentKeyDownHandler)});g.popup.open()},_initPopup:function(){var h=this,j=h.options,g=c(O.template(M)({callout:j.callout&&j.position!=="center",dir:e[j.position],autoHide:j.autoHide}));h.popup=new N(g,L({activate:function(){var l=this.options.anchor,k=l[0].id||h.element[0].id;if(k){l.attr(Y,k+f);this.element.attr("id",k+f)}if(j.callout){h._positionCallout()}this.element.removeAttr("aria-hidden");A.on("keydown"+S,h._documentKeyDownHandler);h.trigger(Z)},close:function(){h.trigger(Q)},copyAnchorStyles:false,animation:j.animation},K[j.position]));g.css({width:j.width,height:j.height});h.content=g.find(".k-tooltip-content");h.arrow=g.find(".k-callout");if(j.autoHide){g.on("mouseleave"+S,T(h._mouseleave,h))}else{g.on("click"+S,".k-tooltip-button",T(h._closeButtonClick,h))}},_closeButtonClick:function(g){g.preventDefault();this.hide()},_mouseleave:function(h){if(this.popup){var l=c(h.currentTarget),g=l.offset(),k=h.pageX,j=h.pageY;g.right=g.left+l.outerWidth();g.bottom=g.top+l.outerHeight();if(k>g.left&&k<g.right&&j>g.top&&j<g.bottom){return}this.popup.close()}else{d(c(h.currentTarget))}clearTimeout(this.timeout)},_positionCallout:function(){var m=this,o=m.options.position,q=m.dimensions,j=q.offset,p=m.popup,g=p.options.anchor,r=c(g).offset(),l=parseInt(m.arrow.css("border-top-width"),10),h=c(p.element).offset(),k=e[p.flipped?I[o]:o],n=r[j]-h[j]+(c(g)[q.size]()/2)-l;m.arrow.removeClass("k-callout-n k-callout-s k-callout-w k-callout-e").addClass("k-callout-"+k).css(j,n)},target:function(){if(this.popup){return this.popup.options.anchor}return null},destroy:function(){var g=this.popup;if(g){g.element.off(S);g.destroy()}this.element.off(S);A.off("keydown"+S,this._documentKeyDownHandler);a.fn.destroy.call(this)}});O.ui.plugin(X)})(window.kendo.jQuery);(function(U,W){var O=window.kendo,b=O.ui,K=b.Widget,N=O.keys,C=O.support,c=O.htmlEncode,Q=O._activeElement,M=O.data.ObservableArray,a="id",Z="li",R="change",D="character",A="k-state-focused",Y="k-state-hover",d="k-loading",J="open",L="close",H="select",G="selected",V="requestStart",f="requestEnd",P="width",h=U.extend,k=U.proxy,g=U.isArray,B=C.browser,e=B.msie&&B.version<9,F=/"/g,I={"ComboBox":"DropDownList","DropDownList":"ComboBox"};var S=O.ui.DataBoundWidget.extend({init:function(o,n){var m=this,l=m.ns,p;K.fn.init.call(m,o,n);o=m.element;n=m.options;m._isSelect=o.is(H);if(m._isSelect&&m.element[0].length){if(!n.dataSource){n.dataTextField=n.dataTextField||"text";n.dataValueField=n.dataValueField||"value"}}m.ul=U('<ul unselectable="on" class="k-list k-reset"/>').attr({tabIndex:-1,"aria-hidden":true});m.list=U("<div class='k-list-container'/>").append(m.ul).on("mousedown"+l,k(m._listMousedown,m));p=o.attr(a);if(p){m.list.attr(a,p+"-list");m.ul.attr(a,p+"_listbox")}m._header();m._accessors();m._initValue()},options:{valuePrimitive:false,headerTemplate:""},setOptions:function(l){K.fn.setOptions.call(this,l);if(l&&l.enable!==W){l.enabled=l.enable}},focus:function(){this._focused.focus()},readonly:function(l){this._editable({readonly:l===W?true:l,disable:false})},enable:function(l){this._editable({readonly:false,disable:!(l=l===W?true:l)})},_listOptions:function(l){var m=this.options;l=l||{};l={height:l.height||m.height,dataValueField:l.dataValueField||m.dataValueField,dataTextField:l.dataTextField||m.dataTextField,groupTemplate:l.groupTemplate||m.groupTemplate,fixedGroupTemplate:l.fixedGroupTemplate||m.fixedGroupTemplate,template:l.template||m.template};if(!l.template){l.template="#:"+O.expr(l.dataTextField,"data")+"#"}return l},_initList:function(){var n=this;var p=n.options;var l=p.virtual;var r=!!l;var q=p.value;var o=k(n._listBound,n);var m={autoBind:false,selectable:true,dataSource:n.dataSource,click:k(n._click,n),change:k(n._listChange,n),activate:k(n._activateItem,n),deactivate:k(n._deactivateItem,n),dataBinding:function(){n.trigger("dataBinding");n._angularItems("cleanup")},dataBound:o,listBound:o,selectedItemChange:k(n._listChange,n)};m=U.extend(n._listOptions(),m,typeof l==="object"?l:{});if(!r){n.listView=new O.ui.StaticList(n.ul,m)}else{n.listView=new O.ui.VirtualList(n.ul,m)}if(q!==W){n.listView.value(q).done(function(){var s=p.text;if(!n.listView.filter()&&n.input){if(n.selectedIndex===-1){if(s===W||s===null){s=q}n._accessor(q);n.input.val(s)}else{if(n._oldIndex===-1){n._oldIndex=n.selectedIndex}}}})}},_listMousedown:function(l){if(!this.filterInput||this.filterInput[0]!==l.target){l.preventDefault()}},_filterSource:function(q,m){var n=this;var p=n.options;var o=n.dataSource;var r=h({},o.filter()||{});var l=j(r,p.dataTextField);if((q||l)&&n.trigger("filtering",{filter:q})){return}if(q){r=r.filters||[];r.push(q)}if(!m){o.filter(r)}else{o.read(r)}},_header:function(){var l=this;var n=l.options.headerTemplate;var m;if(U.isFunction(n)){n=n({})}if(n){l.list.prepend(n);m=l.ul.prev();l.header=m[0]?m:null;if(l.header){l.angular("compile",function(){return{elements:l.header}})}}},_initValue:function(){var l=this,m=l.options.value;if(m!==null){l.element.val(m)}else{m=l._accessor();l.options.value=m}l._old=m},_ignoreCase:function(){var l=this,n=l.dataSource.reader.model,m;if(n&&n.fields){m=n.fields[l.options.dataTextField];if(m&&m.type&&m.type!=="string"){l.options.ignoreCase=false}}},_focus:function(l){return this.listView.focus(l)},current:function(l){return this._focus(l)},items:function(){return this.ul[0].children},destroy:function(){var m=this;var l=m.ns;K.fn.destroy.call(m);m._unbindDataSource();m.listView.destroy();m.list.off(l);m.popup.destroy();if(m._form){m._form.off("reset",m._resetHandler)}},dataItem:function(m){var l=this;if(m===W){return l.listView.selectedDataItems()[0]}if(typeof m!=="number"){m=U(l.items()).index(m)}return l.dataSource.flatView()[m]},_activateItem:function(){var l=this.listView.focus();if(l){this._focused.add(this.filterInput).attr("aria-activedescendant",l.attr("id"))}},_deactivateItem:function(){this._focused.add(this.filterInput).removeAttr("aria-activedescendant")},_accessors:function(){var l=this;var q=l.element;var n=l.options;var o=O.getter;var m=q.attr(O.attr("text-field"));var p=q.attr(O.attr("value-field"));if(!n.dataTextField&&m){n.dataTextField=m}if(!n.dataValueField&&p){n.dataValueField=p}l._text=o(n.dataTextField);l._value=o(n.dataValueField)},_aria:function(o){var l=this,m=l.options,n=l._focused.add(l.filterInput);if(m.suggest!==W){n.attr("aria-autocomplete",m.suggest?"both":"list")}o=o?o+" "+l.ul[0].id:l.ul[0].id;n.attr("aria-owns",o);l.ul.attr("aria-live",!m.filter||m.filter==="none"?"off":"polite")},_blur:function(){var l=this;l._change();l.close()},_change:function(){var m=this;var n=m.selectedIndex;var p=m.options.value;var l=m.value();var o;if(m._isSelect&&!m.listView.isBound()&&p){l=p}if(l!==m._old){o=true}else{if(n!==W&&n!==m._oldIndex){o=true}}if(o){m._old=l;m._oldIndex=n;if(!m._typing){m.element.trigger(R)}m.trigger(R)}m.typing=false},_data:function(){return this.dataSource.view()},_enable:function(){var l=this,m=l.options,n=l.element.is("[disabled]");if(m.enable!==W){m.enabled=m.enable}if(!m.enabled||n){l.enable(false)}else{l.readonly(l.element.is("[readonly]"))}},_dataValue:function(l){var m=this._value(l);if(m===W){m=this._text(l)}return m},_offsetHeight:function(){var m=0;var l=this.listView.content.prevAll(":visible");l.each(function(){var n=U(this);if(n.hasClass("k-list-filter")){m+=n.children().outerHeight()}else{m+=n.outerHeight()}});return m},_height:function(m){var o=this;var q=o.list;var l=o.options.height;var r=o.popup.visible();var p;var n;if(m){n=q.add(q.parent(".k-animation-container")).show();l=o.listView.content[0].scrollHeight>l?l:"auto";n.height(l);if(l!=="auto"){p=o._offsetHeight();if(p){l-=p}}o.listView.content.height(l);if(!r){n.hide()}}return l},_adjustListWidth:function(){var o=this.list,p=o[0].style.width,l=this.wrapper,m,n;if(!o.data(P)&&p){return}m=window.getComputedStyle?window.getComputedStyle(l[0],null):0;n=m?parseFloat(m.width):l.outerWidth();if(m&&B.msie){n+=parseFloat(m.paddingLeft)+parseFloat(m.paddingRight)+parseFloat(m.borderLeftWidth)+parseFloat(m.borderRightWidth)}if(o.css("box-sizing")!=="border-box"){p=n-(o.outerWidth()-o.width())}else{p=n}o.css({fontFamily:l.css("font-family"),width:p}).data(P,p);return true},_openHandler:function(l){this._adjustListWidth();if(this.trigger(J)){l.preventDefault()}else{this._focused.attr("aria-expanded",true);this.ul.attr("aria-hidden",false)}},_closeHandler:function(l){if(this.trigger(L)){l.preventDefault()}else{this._focused.attr("aria-expanded",false);this.ul.attr("aria-hidden",true)}},_focusItem:function(){var l=this.listView;var n=l.focus();var m=l.select();m=m[m.length-1];if(m===W&&this.options.highlightFirst&&!n){m=0}if(m!==W){l.focus(m)}else{l.scrollToIndex(0)}},_calculateGroupPadding:function(l){var n=this.ul.children(".k-first:first");var o=this.listView.content.prev(".k-group-header");var m=0;if(o[0]&&o[0].style.display!=="none"){if(l!=="auto"){m=O.support.scrollbar()}m+=parseFloat(n.css("border-right-width"),10)+parseFloat(n.children(".k-group").css("padding-right"),10);o.css("padding-right",m)}},_firstOpen:function(){var l=this._height(this.dataSource.flatView().length);this._calculateGroupPadding(l)},_popup:function(){var l=this;l.popup=new b.Popup(l.list,h({},l.options.popup,{anchor:l.wrapper,open:k(l._openHandler,l),close:k(l._closeHandler,l),animation:l.options.animation,isRtl:C.isRtl(l.wrapper)}));if(!l.options.virtual){l.popup.one(J,k(l._firstOpen,l))}},_makeUnselectable:function(){if(e){this.list.find("*").not(".k-textbox").attr("unselectable","on")}},_toggleHover:function(l){U(l.currentTarget).toggleClass(Y,l.type==="mouseenter")},_toggle:function(o,n){var m=this;var l=C.mobileOS&&(C.touch||C.MSPointers||C.pointers);o=o!==W?o:!m.popup.visible();if(!n&&!l&&m._focused[0]!==Q()){m._prevent=true;m._focused.focus();m._prevent=false}m[o?J:L]()},_triggerCascade:function(){var l=this;if(!l._cascadeTriggered||l._old!==l.value()||l._oldIndex!==l.selectedIndex){l._cascadeTriggered=true;l.trigger("cascade",{userTriggered:l._userTriggered})}},_unbindDataSource:function(){var l=this;l.dataSource.unbind(V,l._requestStartHandler).unbind(f,l._requestEndHandler).unbind("error",l._errorHandler)}});h(S,{inArray:function(o,n){var p,m,l=n.children;if(!o||o.parentNode!==n){return -1}for(p=0,m=l.length;p<m;p++){if(o===l[p]){return p}}return -1}});O.ui.List=S;b.Select=S.extend({init:function(m,l){S.fn.init.call(this,m,l);this._initial=this.element.val()},setDataSource:function(m){var l=this;var n;l.options.dataSource=m;l._dataSource();l.listView.setDataSource(l.dataSource);if(l.options.autoBind){l.dataSource.fetch()}n=l._parentWidget();if(n){n.trigger("cascade")}},close:function(){this.popup.close()},select:function(l){var m=this;if(l===W){return m.selectedIndex}else{m._select(l);m._old=m._accessor();m._oldIndex=m.selectedIndex}},search:function(q){q=typeof q==="string"?q:this.text();var m=this;var l=q.length;var n=m.options;var r=n.ignoreCase;var o=n.filter;var p=n.dataTextField;clearTimeout(m._typingTimeout);if(!l||l>=n.minLength){m._state="filter";m.listView.filter(true);if(o==="none"){m._filter(q)}else{m._open=true;m._filterSource({value:r?q.toLowerCase():q,field:p,operator:o,ignoreCase:r})}}},_accessor:function(m,l){return this[this._isSelect?"_accessorSelect":"_accessorInput"](m,l)},_accessorInput:function(l){var m=this.element[0];if(l===W){return m.value}else{if(l===null){l=""}m.value=l}},_accessorSelect:function(o,m){var p=this.element[0];var n=p.selectedIndex;var l;if(o===W){if(n>-1){l=p.options[n]}if(l){o=l.value}return o||""}else{if(n>-1){p.options[n].removeAttribute(G)}if(m===W){m=-1}if(o!==null&&o!==""&&m==-1){this._custom(o)}else{if(o){p.value=o}else{p.selectedIndex=m}if(p.selectedIndex>-1){l=p.options[p.selectedIndex]}if(l){l.setAttribute(G,G)}}}},_custom:function(n){var m=this;var o=m.element;var l=m._customOption;if(!l){l=U("<option/>");m._customOption=l;o.append(l)}l.text(n);l[0].setAttribute(G,G);l[0].selected=true},_hideBusy:function(){var l=this;clearTimeout(l._busy);l._arrow.removeClass(d);l._focused.attr("aria-busy",false);l._busy=null},_showBusy:function(){var l=this;l._request=true;if(l._busy){return}l._busy=setTimeout(function(){if(l._arrow){l._focused.attr("aria-busy",true);l._arrow.addClass(d)}},100)},_requestEnd:function(){this._request=false;this._hideBusy()},_dataSource:function(){var l=this,p=l.element,n=l.options,m=n.dataSource||{},o;m=U.isArray(m)?{data:m}:m;if(l._isSelect){o=p[0].selectedIndex;if(o>-1){n.index=o}m.select=p;m.fields=[{field:n.dataTextField},{field:n.dataValueField}]}if(l.dataSource){l._unbindDataSource()}else{l._requestStartHandler=k(l._showBusy,l);l._requestEndHandler=k(l._requestEnd,l);l._errorHandler=k(l._hideBusy,l)}l.dataSource=O.data.DataSource.create(m).bind(V,l._requestStartHandler).bind(f,l._requestEndHandler).bind("error",l._errorHandler)},_firstItem:function(){this.listView.first()},_lastItem:function(){this.listView.last()},_nextItem:function(){this.listView.next()},_prevItem:function(){this.listView.prev()},_move:function(l){var r=this;var p=l.keyCode;var m=r.ul[0];var n=p===N.DOWN;var t;var s;var o;if(p===N.UP||n){if(l.altKey){r.toggle(n)}else{if(!r.listView.isBound()){if(!r._fetch){r.dataSource.one(R,function(){r._fetch=false;r._move(l)});r._fetch=true;r._filterSource()}l.preventDefault();return true}o=r._focus();if(!r._fetch&&(!o||o.hasClass("k-state-selected"))){if(n){r._nextItem();if(!r._focus()){r._lastItem()}}else{r._prevItem();if(!r._focus()){r._firstItem()}}}if(r.trigger(H,{item:r.listView.focus()})){r._focus(o);return}r._select(r._focus(),true);if(!r.popup.visible()){r._blur()}}l.preventDefault();s=true}else{if(p===N.ENTER||p===N.TAB){if(r.popup.visible()){l.preventDefault()}o=r._focus();t=r.dataItem();if(!r.popup.visible()&&(!t||r.text()!==r._text(t))){o=null}var q=r.filterInput&&r.filterInput[0]===Q();if(o){if(r.trigger(H,{item:o})){return}r._select(o)}else{if(r.input){r._accessor(r.input.val());r.listView.value(r.input.val())}}if(r._focusElement){r._focusElement(r.wrapper)}if(q&&p===N.TAB){r.wrapper.focusout()}else{r._blur()}r.close();s=true}else{if(p===N.ESC){if(r.popup.visible()){l.preventDefault()}r.close();s=true}}}return s},_fetchData:function(){var l=this;var m=!!l.dataSource.view().length;if(l._request||l.options.cascadeFrom){return}if(!l.listView.isBound()&&!l._fetch&&!m){l._fetch=true;l.dataSource.fetch().done(function(){l._fetch=false})}},_options:function(n,t,r){var s=this,l=s.element,q=n.length,o="",u,w,v,m,p=0;if(t){o=t}for(;p<q;p++){u="<option";w=n[p];v=s._text(w);m=s._value(w);if(m!==W){m+="";if(m.indexOf('"')!==-1){m=m.replace(F,"&quot;")}u+=' value="'+m+'"'}u+=">";if(v!==W){u+=c(v)}u+="</option>";o+=u}l.html(o);if(r!==W){l[0].value=r}},_reset:function(){var n=this,o=n.element,m=o.attr("form"),l=m?U("#"+m):o.closest("form");if(l[0]){n._resetHandler=function(){setTimeout(function(){n.value(n._initial)})};n._form=l.on("reset",n._resetHandler)}},_parentWidget:function(){var l=this.options.name;var m=U("#"+this.options.cascadeFrom);var n=m.data("kendo"+l);if(!n){n=m.data("kendo"+I[l])}return n},_cascade:function(){var m=this,o=m.options,r=o.cascadeFrom,p,n,q,l;if(r){q=m._parentWidget();if(!q){return}o.autoBind=false;n=o.cascadeFromField||q.options.dataValueField;l=function(){m.dataSource.unbind(R,l);var s=m._accessor();if(m._userTriggered){m._clearSelection(q,true)}else{if(s){if(s!==m.listView.value()[0]){m.value(s)}if(!m.dataSource.view()[0]||m.selectedIndex===-1){m._clearSelection(q,true)}}else{if(m.dataSource.flatView().length){m.select(o.index)}}}m.enable();m._triggerCascade();m._userTriggered=false};p=function(){var t=q.dataItem(),w=t?q._value(t):null,s,u;if(w||w===0){s=m.dataSource.filter()||{};j(s,n);u=s.filters||[];u.push({field:n,operator:"eq",value:w});var v=function(){m.unbind("dataBound",v);l.apply(m,arguments)};m.first("dataBound",v);m.dataSource.filter(u)}else{m.enable(false);m._clearSelection(q);m._triggerCascade();m._userTriggered=false}};q.first("cascade",function(s){m._userTriggered=s.userTriggered;p()});if(q.listView.isBound()){p()}else{if(!q.value()){m.enable(false)}}}}});var E=".StaticList";var T=O.ui.DataBoundWidget.extend({init:function(n,l){K.fn.init.call(this,n,l);this.element.attr("role","listbox").on("click"+E,"li",k(this._click,this)).on("mouseenter"+E,"li",function(){U(this).addClass(Y)}).on("mouseleave"+E,"li",function(){U(this).removeClass(Y)});this.content=this.element.wrap("<div unselectable='on'></div>").parent().css({"overflow":"auto","position":"relative"});this.header=this.content.before('<div class="k-group-header" style="display:none"></div>').prev();this._bound=false;this._optionID=O.guid();this._selectedIndices=[];this._view=[];this._dataItems=[];this._values=[];var m=this.options.value;if(m){this._values=U.isArray(m)?m.slice(0):[m]}this._getter();this._templates();this.setDataSource(this.options.dataSource);this._onScroll=k(function(){var o=this;clearTimeout(o._scrollId);o._scrollId=setTimeout(function(){o._renderHeader()},50)},this)},options:{name:"StaticList",dataValueField:null,selectable:true,template:null,groupTemplate:null,fixedGroupTemplate:null},events:["click","change","activate","deactivate","dataBinding","dataBound","selectedItemChange"],setDataSource:function(l){var o=this;var m=l||{};var n;m=U.isArray(m)?{data:m}:m;m=O.data.DataSource.create(m);if(o.dataSource){o.dataSource.unbind(R,o._refreshHandler);n=o.value();o.value([]);o._bound=false;o.value(n)}else{o._refreshHandler=k(o.refresh,o)}o.dataSource=m.bind(R,o._refreshHandler);o._fixedHeader()},setOptions:function(l){K.fn.setOptions.call(this,l);this._getter();this._templates();this._render()},destroy:function(){this.element.off(E);if(this._refreshHandler){this.dataSource.unbind(R,this._refreshHandler)}K.fn.destroy.call(this)},scrollToIndex:function(m){var l=this.element[0].children[m];if(l){this.scroll(l)}},scroll:function(t){if(!t){return}if(t[0]){t=t[0]}var s=this.content[0],l=t.offsetTop,n=t.offsetHeight,q=s.scrollTop,o=s.clientHeight,m=l+n,p,r;if(q>l){q=l}else{if(m>(q+o)){q=(m-o)}}s.scrollTop=q},selectedDataItems:function(l){var m=this._valueGetter;if(l===W){return this._dataItems.slice()}this._dataItems=l;this._values=U.map(l,function(n){return m(n)})},next:function(){var l=this.focus();if(!l){l=0}else{l=l.next()}this.focus(l)},prev:function(){var l=this.focus();if(!l){l=this.element[0].children.length-1}else{l=l.prev()}this.focus(l)},first:function(){this.focus(this.element[0].children[0])},last:function(){this.focus(this.element[0].children[this.element[0].children.length-1])},focus:function(l){var m=this;var o=m._optionID;var n;if(l===W){return m._current}l=m._get(l);l=l[l.length-1];l=U(this.element[0].children[l]);if(m._current){m._current.removeClass(A).removeAttr("aria-selected").removeAttr(a);m.trigger("deactivate")}n=!!l[0];if(n){l.addClass(A);m.scroll(l);l.attr("id",o)}m._current=n?l:null;m.trigger("activate")},focusIndex:function(){return this.focus()?this.focus().index():W},filter:function(l,m){if(l===W){return this._filtered}this._filtered=l},skipUpdate:function(l){this._skipUpdate=l},select:function(p){var q=this;var m=q.options.selectable;var s=m!=="multiple"&&m!==false;var o=q._selectedIndices;var r=[];var n=[];var l;if(p===W){return o.slice()}p=q._get(p);if(p.length===1&&p[0]===-1){p=[]}if(q._filtered&&!s&&q._deselectFiltered(p)){return}if(s&&!q._filtered&&U.inArray(p[p.length-1],o)!==-1){if(q._dataItems.length&&q._view.length){q._dataItems=[q._view[o[0]].item]}return}l=q._deselect(p);n=l.removed;p=l.indices;if(p.length){if(s){p=[p[p.length-1]]}r=q._select(p)}if(r.length||n.length){q._valueComparer=null;q.trigger("change",{added:r,removed:n})}},removeAt:function(l){this._selectedIndices.splice(l,1);this._values.splice(l,1);return{position:l,dataItem:this._dataItems.splice(l,1)[0]}},setValue:function(l){l=U.isArray(l)||l instanceof M?l.slice(0):[l];this._values=l;this._valueComparer=null},value:function(o){var m=this;var n=m._valueDeferred;var l;if(o===W){return m._values.slice()}m.setValue(o);if(!n||n.state()==="resolved"){m._valueDeferred=n=U.Deferred()}if(m.isBound()){l=m._valueIndices(m._values);if(m.options.selectable==="multiple"){m.select(-1)}m.select(l);n.resolve()}m._skipUpdate=false;return n},_click:function(l){if(!l.isDefaultPrevented()){this.trigger("click",{item:U(l.currentTarget)})}},_valueExpr:function(r,q){var p=this;var o;var n=0;var s;var l;var m=[];if(!p._valueComparer||p._valueType!==r){p._valueType=r;for(;n<q.length;n++){o=q[n];if(o!==W&&o!==""&&o!==null){if(r==="boolean"){o=Boolean(o)}else{if(r==="number"){o=Number(o)}else{if(r==="string"){o=o.toString()}}}}m.push(o)}s="for (var idx = 0; idx < "+m.length+"; idx++) { if (current === values[idx]) {   return idx; }} return -1;";l=new Function(["current","values"],s);p._valueComparer=function(t){return l(t,m)}}return p._valueComparer},_dataItemPosition:function(l,o){var n=this._valueGetter(l);var m=this._valueExpr(typeof n,o);return m(n)},_getter:function(){this._valueGetter=O.getter(this.options.dataValueField)},_deselect:function(r){var s=this;var n=s.element[0].children;var l=s.options.selectable;var p=s._selectedIndices;var u=s._dataItems;var v=s._values;var o=[];var t=0;var w;var m,q;var x=0;r=r.slice();if(l===true||!r.length){for(;t<p.length;t++){U(n[p[t]]).removeClass("k-state-selected");o.push({position:t,dataItem:u[t]})}s._values=[];s._dataItems=[];s._selectedIndices=[]}else{if(l==="multiple"){for(;t<r.length;t++){m=r[t];if(!U(n[m]).hasClass("k-state-selected")){continue}for(w=0;w<p.length;w++){q=p[w];if(q===m){U(n[q]).removeClass("k-state-selected");o.push({position:w+x,dataItem:u.splice(w,1)[0]});p.splice(w,1);r.splice(t,1);v.splice(w,1);x+=1;t-=1;w-=1;break}}}}}return{indices:r,removed:o}},_deselectFiltered:function(l){var r=this.element[0].children;var o,q,p;var m=[];var n=0;for(;n<l.length;n++){q=l[n];o=this._view[q].item;p=this._dataItemPosition(o,this._values);if(p>-1){m.push(this.removeAt(p));U(r[q]).removeClass("k-state-selected")}}if(m.length){this.trigger("change",{added:[],removed:m});return true}return false},_select:function(p){var q=this;var n=q.element[0].children;var m=q._view;var s,l;var r=[];var o=0;if(p[p.length-1]!==-1){q.focus(p)}for(;o<p.length;o++){l=p[o];s=m[l];if(l===-1||!s){continue}s=s.item;q._selectedIndices.push(l);q._dataItems.push(s);q._values.push(q._valueGetter(s));U(n[l]).addClass("k-state-selected").attr("aria-selected",true);r.push({dataItem:s})}return r},_get:function(l){if(typeof l==="number"){l=[l]}else{if(!g(l)){l=U(l).data("offset-index");if(l===W){l=-1}l=[l]}}return l},_template:function(){var l=this;var m=l.options;var n=m.template;if(!n){n=O.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+O.expr(m.dataTextField,"data")+"}</li>",{useWithBlock:false})}else{n=O.template(n);n=function(o){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+n(o)+"</li>"}}return n},_templates:function(){var m;var n={template:this.options.template,groupTemplate:this.options.groupTemplate,fixedGroupTemplate:this.options.fixedGroupTemplate};for(var l in n){m=n[l];if(m&&typeof m!=="function"){n[l]=O.template(m)}}this.templates=n},_normalizeIndices:function(l){var m=[];var n=0;for(;n<l.length;n++){if(l[n]!==W){m.push(l[n])}}return m},_valueIndices:function(o,l){var p=this._view;var n=0;var m;l=l?l.slice():[];if(!o.length){return[]}for(;n<p.length;n++){m=this._dataItemPosition(p[n].item,o);if(m!==-1){l[m]=n}}return this._normalizeIndices(l)},_firstVisibleItem:function(){var q=this.element[0];var m=this.content[0];var p=m.scrollTop;var l=U(q.children[0]).height();var o=Math.floor(p/l)||0;var n=q.children[o]||q.lastChild;var r=n.offsetTop<p;while(n){if(r){if((n.offsetTop+l)>p||!n.nextSibling){break}n=n.nextSibling}else{if(n.offsetTop<=p||!n.previousSibling){break}n=n.previousSibling}}return this._view[U(n).data("offset-index")]},_fixedHeader:function(){if(this.isGrouped()&&this.templates.fixedGroupTemplate){this.header.show();this.content.scroll(this._onScroll)}else{this.header.hide();this.content.off("scroll",this._onScroll)}},_renderHeader:function(){var m=this.templates.fixedGroupTemplate;if(!m){return}var l=this._firstVisibleItem();if(l){this.header.html(m(l.group))}},_renderItem:function(l){var o='<li tabindex="-1" role="option" unselectable="on" class="k-item';var n=l.item;var m=l.index!==0;var p=l.selected;if(m&&l.newGroup){o+=" k-first"}if(p){o+=" k-state-selected"}o+='"'+(p?' aria-selected="true"':"")+' data-offset-index="'+l.index+'">';o+=this.templates.template(n);if(m&&l.newGroup){o+='<div class="k-group">'+this.templates.groupTemplate(l.group)+"</div>"}return o+"</li>"},_render:function(){var v="";var q=0;var o=0;var p;var n=[];var l=this.dataSource.view();var u=this.value();var r,m,t;var s=this.isGrouped();if(s){for(q=0;q<l.length;q++){r=l[q];m=true;for(t=0;t<r.items.length;t++){p={selected:this._selected(r.items[t],u),item:r.items[t],group:r.value,newGroup:m,index:o};n[o]=p;o+=1;v+=this._renderItem(p);m=false}}}else{for(q=0;q<l.length;q++){p={selected:this._selected(l[q],u),item:l[q],index:q};n[q]=p;v+=this._renderItem(p)}}this._view=n;this.element[0].innerHTML=v;if(s&&n.length){this._renderHeader()}},_selected:function(l,n){var m=!this._filtered||this.options.selectable==="multiple";return m&&this._dataItemPosition(l,n)!==-1},refresh:function(m){var n=this;var o;var l=m&&m.action;n.trigger("dataBinding");n._fixedHeader();n._render();n._bound=true;if(l==="itemchange"){o=X(n._dataItems,m.items);if(o.length){n.trigger("selectedItemChange",{items:o})}}else{if(n._filtered||n._skipUpdate){n.focus(0);if(n._skipUpdate){n._skipUpdate=false;n._selectedIndices=n._valueIndices(n._values,n._selectedIndices)}}else{if(!l||l==="add"){n.value(n._values)}}}if(n._valueDeferred){n._valueDeferred.resolve()}n.trigger("dataBound")},isBound:function(){return this._bound},isGrouped:function(){return(this.dataSource.group()||[]).length}});b.plugin(T);function X(r,m){var o=m.length;var p=[];var n;var l,q;for(l=0;l<r.length;l++){n=r[l];for(q=0;q<o;q++){if(n===m[q]){p.push({index:l,item:n})}}}return p}function j(o,m){var l;var n=false;if(o.filters){l=U.grep(o.filters,function(p){n=j(p,m);if(p.filters){return p.filters.length}else{return p.field!=m}});if(!n&&o.filters.length!==l.length){n=true}o.filters=l}return n}})(window.kendo.jQuery);(function(p,s){var a=window.kendo,Aq=a.support,z=a.ui,X=z.Widget,Y=a.keys,A=a.parseDate,H=a.date.adjustDST,Ai=a._extractFormat,v=a.template,At=a.getCulture,Z=a.support.transitions,W=Z?Z.css+"transform-origin":"",r=v('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:false}),I=v('<td role="gridcell">&nbsp;</td>',{useWithBlock:false}),D=a.support.browser,Ag=D.msie&&D.version<9,G=".kendoCalendar",c="click"+G,Ad="keydown"+G,O="id",U="min",Al="left",S="slideIn",M="month",Af="century",g="change",T="navigate",Ac="value",u="k-state-hover",P="k-state-disabled",B="k-state-focused",x="k-other-month",Ap=' class="'+x+'"',j="k-nav-today",y="td:has(.k-link)",Ar="blur"+G,N="focus",Am=N+G,l=Aq.touch?"touchstart":"mouseenter",Ae=Aq.touch?"touchstart"+G:"mouseenter"+G,q=Aq.touch?"touchend"+G+" touchmove"+G:"mouseleave"+G,Ab=60000,d=86400000,V="_prevArrow",J="_nextArrow",b="aria-disabled",K="aria-selected",f=p.proxy,F=p.extend,An=Date,w={month:0,year:1,decade:2,century:3};var R=X.extend({init:function(Ax,Av){var Au=this,Aw,Ay;X.fn.init.call(Au,Ax,Av);Ax=Au.wrapper=Au.element;Av=Au.options;Av.url=window.unescape(Av.url);Au._templates();Au._header();Au._footer(Au.footer);Ay=Ax.addClass("k-widget k-calendar").on(Ae+" "+q,y,Ak).on(Ad,"table.k-content",f(Au._move,Au)).on(c,y,function(Az){var AA=Az.currentTarget.firstChild;if(AA.href.indexOf("#")!=-1){Az.preventDefault()}Au._click(p(AA))}).on("mouseup"+G,"table.k-content, .k-footer",function(){Au._focusView(Au.options.focusOnNav!==false)}).attr(O);if(Ay){Au._cellID=Ay+"_cell_selected"}k(Av);Aw=A(Av.value,Av.format,Av.culture);Au._index=w[Av.start];Au._current=new An(+Q(Aw,Av.min,Av.max));Au._addClassProxy=function(){Au._active=true;Au._cell.addClass(B)};Au._removeClassProxy=function(){Au._active=false;Au._cell.removeClass(B)};Au.value(Aw);a.notify(Au)},options:{name:"Calendar",value:null,min:new An(1900,0,1),max:new An(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:M,depth:M,animation:{horizontal:{effects:S,reverse:true,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[g,T],setOptions:function(Av){var Au=this;k(Av);if(!Av.dates[0]){Av.dates=Au.options.dates}X.fn.setOptions.call(Au,Av);Au._templates();Au._footer(Au.footer);Au._index=w[Au.options.start];Au.navigate()},destroy:function(){var Au=this,Av=Au._today;Au.element.off(G);Au._title.off(G);Au[V].off(G);Au[J].off(G);a.destroy(Au._table);if(Av){a.destroy(Av.off(G))}X.fn.destroy.call(Au)},current:function(){return this._current},view:function(){return this._view},focus:function(Au){Au=Au||this._table;this._bindTable(Au);Au.focus()},min:function(Au){return this._option(U,Au)},max:function(Au){return this._option("max",Au)},navigateToPast:function(){this._navigate(V,-1)},navigateToFuture:function(){this._navigate(J,1)},navigateUp:function(){var Au=this,Av=Au._index;if(Au._title.hasClass(P)){return}Au.navigate(Au._current,++Av)},navigateDown:function(Aw){var Au=this,Ax=Au._index,Av=Au.options.depth;if(!Aw){return}if(Ax===w[Av]){if(+Au._value!=+Aw){Au.value(Aw);Au.trigger(g)}return}Au.navigate(Aw,--Ax)},navigate:function(AC,AG){AG=isNaN(AG)?w[AG]:AG;var AJ=this,AH=AJ.options,AL=AH.culture,AA=AH.min,AF=AH.max,AB=AJ._title,AD=AJ._table,AE=AJ._oldTable,Aw=AJ._value,Au=AJ._current,AI=AC&&+AC>+Au,Ay=AG!==s&&AG!==AJ._index,Av,AK,Az,Ax;if(!AC){AC=Au}AJ._current=AC=new An(+Q(AC,AA,AF));if(AG===s){AG=AJ._index}else{AJ._index=AG}AJ._view=AK=Aj.views[AG];Az=AK.compare;Ax=AG===w[Af];AB.toggleClass(P,Ax).attr(b,Ax);Ax=Az(AC,AA)<1;AJ[V].toggleClass(P,Ax).attr(b,Ax);Ax=Az(AC,AF)>-1;AJ[J].toggleClass(P,Ax).attr(b,Ax);if(AD&&AE&&AE.data("animating")){AE.kendoStop(true,true);AD.kendoStop(true,true)}AJ._oldTable=AD;if(!AD||AJ._changeView){AB.html(AK.title(AC,AA,AF,AL));AJ._table=Av=p(AK.content(F({min:AA,max:AF,date:AC,url:AH.url,dates:AH.dates,format:AH.format,culture:AL},AJ[AK.name])));m(Av);AJ._animate({from:AD,to:Av,vertical:Ay,future:AI});AJ._focus(AC);AJ.trigger(T)}if(AG===w[AH.depth]&&Aw){AJ._class("k-state-selected",AK.toDateString(Aw))}AJ._class(B,AK.toDateString(AC));if(!AD&&AJ._cell){AJ._cell.removeClass(B)}AJ._changeView=true},value:function(Az){var Aw=this,Ay=Aw._view,Ax=Aw.options,Av=Aw._view,Au=Ax.min,AA=Ax.max;if(Az===s){return Aw._value}Az=A(Az,Ax.format,Ax.culture);if(Az!==null){Az=new An(+Az);if(!o(Az,Au,AA)){Az=null}}Aw._value=Az;if(Av&&Az===null&&Aw._cell){Aw._cell.removeClass("k-state-selected")}else{Aw._changeView=!Az||Ay&&Ay.compare(Az,Aw._current)!==0;Aw.navigate(Az)}},_move:function(Ax){var AB=this,AC=AB.options,AE=Ax.keyCode,Au=AB._view,Av=AB._index,Ay=new An(+AB._current),Az=a.support.isRtl(AB.wrapper),Aw,AF,AD,AA;if(Ax.target===AB._table[0]){AB._active=true}if(Ax.ctrlKey){if(AE==Y.RIGHT&&!Az||AE==Y.LEFT&&Az){AB.navigateToFuture();AF=true}else{if(AE==Y.LEFT&&!Az||AE==Y.RIGHT&&Az){AB.navigateToPast();AF=true}else{if(AE==Y.UP){AB.navigateUp();AF=true}else{if(AE==Y.DOWN){AB._click(p(AB._cell[0].firstChild));AF=true}}}}}else{if(AE==Y.RIGHT&&!Az||AE==Y.LEFT&&Az){Aw=1;AF=true}else{if(AE==Y.LEFT&&!Az||AE==Y.RIGHT&&Az){Aw=-1;AF=true}else{if(AE==Y.UP){Aw=Av===0?-7:-4;AF=true}else{if(AE==Y.DOWN){Aw=Av===0?7:4;AF=true}else{if(AE==Y.ENTER){AB._click(p(AB._cell[0].firstChild));AF=true}else{if(AE==Y.HOME||AE==Y.END){AD=AE==Y.HOME?"first":"last";AA=Au[AD](Ay);Ay=new An(AA.getFullYear(),AA.getMonth(),AA.getDate(),Ay.getHours(),Ay.getMinutes(),Ay.getSeconds(),Ay.getMilliseconds());AF=true}else{if(AE==Y.PAGEUP){AF=true;AB.navigateToPast()}else{if(AE==Y.PAGEDOWN){AF=true;AB.navigateToFuture()}}}}}}}}if(Aw||AD){if(!AD){Au.setDate(Ay,Aw)}AB._focus(Q(Ay,AC.min,AC.max))}}if(AF){Ax.preventDefault()}return AB._current},_animate:function(Aw){var Av=this,Au=Aw.from,Ax=Aw.to,Ay=Av._active;if(!Au){Ax.insertAfter(Av.element[0].firstChild);Av._bindTable(Ax)}else{if(Au.parent().data("animating")){Au.off(G);Au.parent().kendoStop(true,true).remove();Au.remove();Ax.insertAfter(Av.element[0].firstChild);Av._focusView(Ay)}else{if(!Au.is(":visible")||Av.options.animation===false){Ax.insertAfter(Au);Au.off(G).remove();Av._focusView(Ay)}else{Av[Aw.vertical?"_vertical":"_horizontal"](Au,Ax,Aw.future)}}}},_horizontal:function(Au,Az,Av){var Aw=this,Ax=Aw._active,Ay=Aw.options.animation.horizontal,AA=Ay.effects,AB=Au.outerWidth();if(AA&&AA.indexOf(S)!=-1){Au.add(Az).css({width:AB});Au.wrap("<div/>");Aw._focusView(Ax,Au);Au.parent().css({position:"relative",width:AB*2,"float":Al,"margin-left":Av?0:-AB});Az[Av?"insertAfter":"insertBefore"](Au);F(Ay,{effects:S+":"+(Av?"right":Al),complete:function(){Au.off(G).remove();Aw._oldTable=null;Az.unwrap();Aw._focusView(Ax)}});Au.parent().kendoStop(true,true).kendoAnimate(Ay)}},_vertical:function(Au,Az){var Ax=this,Av=Ax.options.animation.vertical,AA=Av.effects,Ay=Ax._active,AB,Aw;if(AA&&AA.indexOf("zoom")!=-1){Az.css({position:"absolute",top:Au.prev().outerHeight(),left:0}).insertBefore(Au);if(W){AB=Ax._cellByDate(Ax._view.toDateString(Ax._current));Aw=AB.position();Aw=(Aw.left+parseInt(AB.width()/2,10))+"px "+(Aw.top+parseInt(AB.height()/2,10)+"px");Az.css(W,Aw)}Au.kendoStop(true,true).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){Au.off(G).remove();Ax._oldTable=null;Az.css({position:"static",top:0,left:0});Ax._focusView(Ay)}});Az.kendoStop(true,true).kendoAnimate(Av)}},_cellByDate:function(Au){return this._table.find("td:not(."+x+")").filter(function(){return p(this.firstChild).attr(a.attr(Ac))===Au})},_class:function(Au,Aw){var Av=this,Ay=Av._cellID,Ax=Av._cell;if(Ax){Ax.removeAttr(K).removeAttr("aria-label").removeAttr(O)}Ax=Av._table.find("td:not(."+x+")").removeClass(Au).filter(function(){return p(this.firstChild).attr(a.attr(Ac))===Aw}).attr(K,true);if(Au===B&&!Av._active&&Av.options.focusOnNav!==false){Au=""}Ax.addClass(Au);if(Ax[0]){Av._cell=Ax}if(Ay){Ax.attr(O,Ay);Av._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",Ay)}},_bindTable:function(Au){Au.on(Am,this._addClassProxy).on(Ar,this._removeClassProxy)},_click:function(Au){var Ay=this,Av=Ay.options,Aw=new Date(+Ay._current),Ax=Au.attr(a.attr(Ac)).split("/");Ax=new An(Ax[0],Ax[1],Ax[2]);H(Ax,0);Ay._view.setDate(Aw,Ax);Ay.navigateDown(Q(Aw,Av.min,Av.max))},_focus:function(Aw){var Au=this,Av=Au._view;if(Av.compare(Aw,Au._current)!==0){Au.navigate(Aw)}else{Au._current=Aw;Au._class(B,Av.toDateString(Aw))}},_focusView:function(Au,Av){if(Au){this.focus(Av)}},_footer:function(Aw){var Au=this,Av=Ah(),Ay=Au.element,Ax=Ay.find(".k-footer");if(!Aw){Au._toggle(false);Ax.hide();return}if(!Ax[0]){Ax=p('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(Ay)}Au._today=Ax.show().find(".k-link").html(Aw(Av)).attr("title",a.toString(Av,"D",Au.options.culture));Au._toggle()},_header:function(){var Au=this,Av=Au.element,Aw;if(!Av.find(".k-header")[0]){Av.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a></div>')}Aw=Av.find(".k-link").on(Ae+" "+q+" "+Am+" "+Ar,Ak).click(false);Au._title=Aw.eq(1).on(c,function(){Au._active=Au.options.focusOnNav!==false;Au.navigateUp()});Au[V]=Aw.eq(0).on(c,function(){Au._active=Au.options.focusOnNav!==false;Au.navigateToPast()});Au[J]=Aw.eq(2).on(c,function(){Au._active=Au.options.focusOnNav!==false;Au.navigateToFuture()})},_navigate:function(Au,Ay){var Av=this,Ax=Av._index+1,Aw=new An(+Av._current);Au=Av[Au];if(!Au.hasClass(P)){if(Ax>3){Aw.setFullYear(Aw.getFullYear()+100*Ay)}else{Aj.views[Ax].setDate(Aw,Ay)}Av.navigate(Aw)}},_option:function(Au,Ax){var Av=this,Aw=Av.options,Az=Av._value||Av._current,Ay;if(Ax===s){return Aw[Au]}Ax=A(Ax,Aw.format,Aw.culture);if(!Ax){return}Aw[Au]=new An(+Ax);if(Au===U){Ay=Ax>Az}else{Ay=Az>Ax}if(Ay||t(Az,Ax)){if(Ay){Av._value=null}Av._changeView=true}if(!Av._changeView){Av._changeView=!!(Aw.month.content||Aw.month.empty)}Av.navigate(Av._value);Av._toggle()},_toggle:function(Aw){var Au=this,Av=Au.options,Ax=Au._today;if(Aw===s){Aw=o(Ah(),Av.min,Av.max)}if(Ax){Ax.off(c);if(Aw){Ax.addClass(j).removeClass(P).on(c,f(Au._todayClick,Au))}else{Ax.removeClass(j).addClass(P).on(c,Aa)}}},_todayClick:function(Au){var Av=this,Aw=w[Av.options.depth],Ax=Ah();Au.preventDefault();if(Av._view.compare(Av._current,Ax)===0&&Av._index==Aw){Av._changeView=false}Av._value=Ax;Av.navigate(Ax,Aw);Av.trigger(g)},_templates:function(){var Av=this,Aw=Av.options,Ax=Aw.footer,Au=Aw.month,Ay=Au.content,Az=Au.empty;Av.month={content:v('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+a.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(Ay||"#=data.value#")+"</a></td>",{useWithBlock:!!Ay}),empty:v('<td role="gridcell">'+(Az||"&nbsp;")+"</td>",{useWithBlock:!!Az})};Av.footer=Ax!==false?v(Ax||'#= kendo.toString(data,"D","'+Aw.culture+'") #',{useWithBlock:false}):null}});z.plugin(R);var Aj={firstDayOfMonth:function(Au){return new An(Au.getFullYear(),Au.getMonth(),1)},firstVisibleDay:function(Ax,Aw){Aw=Aw||a.culture().calendar;var Av=Aw.firstDay,Au=new An(Ax.getFullYear(),Ax.getMonth(),0,Ax.getHours(),Ax.getMinutes(),Ax.getSeconds(),Ax.getMilliseconds());while(Au.getDay()!=Av){Aj.setTime(Au,-1*d)}return Au},setTime:function(Ax,Av){var Au=Ax.getTimezoneOffset(),Ay=new An(Ax.getTime()+Av),Aw=Ay.getTimezoneOffset()-Au;Ax.setTime(Ay.getTime()+Aw*Ab)},views:[{name:M,title:function(Aw,Au,Ax,Av){return e(Av).months.names[Aw.getMonth()]+" "+Aw.getFullYear()},content:function(AK){var AN=this,AO=0,AE=AK.min,AI=AK.max,Ay=AK.date,AF=AK.dates,AJ=AK.format,Av=AK.culture,AH=AK.url,Au=AH&&AF[0],AD=e(Av),AB=AD.firstDay,Aw=AD.days,Ax=E(Aw.names,AB),AC=E(Aw.namesShort,AB),AP=Aj.firstVisibleDay(Ay,AD),AA=AN.first(Ay),Az=AN.last(Ay),AM=AN.toDateString,AL=new An(),AG='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';for(;AO<7;AO++){AG+='<th scope="col" title="'+Ax[AO]+'">'+AC[AO]+"</th>"}AL=new An(AL.getFullYear(),AL.getMonth(),AL.getDate());H(AL,0);AL=+AL;AP=new An(AP.getFullYear(),AP.getMonth(),AP.getDate());H(AP,0);return As({cells:42,perRow:7,html:AG+='</tr></thead><tbody><tr role="row">',start:AP,min:new An(AE.getFullYear(),AE.getMonth(),AE.getDate()),max:new An(AI.getFullYear(),AI.getMonth(),AI.getDate()),content:AK.content,empty:AK.empty,setter:AN.setDate,build:function(AU){var AS=[],AQ=AU.getDay(),AR="",AT="#";if(AU<AA||AU>Az){AS.push(x)}if(+AU===AL){AS.push("k-today")}if(AQ===0||AQ===6){AS.push("k-weekend")}if(Au&&Ao(+AU,AF)){AT=AH.replace("{0}",a.toString(AU,AJ,Av));AR=" k-action-link"}return{date:AU,dates:AF,ns:a.ns,title:a.toString(AU,"D",Av),value:AU.getDate(),dateString:AM(AU),cssClass:AS[0]?' class="'+AS.join(" ")+'"':"",linkClass:AR,url:AT}}})},first:function(Au){return Aj.firstDayOfMonth(Au)},last:function(Ax){var Aw=new An(Ax.getFullYear(),Ax.getMonth()+1,0),Av=Aj.firstDayOfMonth(Ax),Au=Math.abs(Aw.getTimezoneOffset()-Av.getTimezoneOffset());if(Au){Aw.setHours(Av.getHours()+(Au/60))}return Aw},compare:function(Ay,Av){var Ax,Au=Ay.getMonth(),Aw=Ay.getFullYear(),Az=Av.getMonth(),AA=Av.getFullYear();if(Aw>AA){Ax=1}else{if(Aw<AA){Ax=-1}else{Ax=Au==Az?0:Au>Az?1:-1}}return Ax},setDate:function(Aw,Av){var Au=Aw.getHours();if(Av instanceof An){Aw.setFullYear(Av.getFullYear(),Av.getMonth(),Av.getDate())}else{Aj.setTime(Aw,Av*d)}H(Aw,Au)},toDateString:function(Au){return Au.getFullYear()+"/"+Au.getMonth()+"/"+Au.getDate()}},{name:"year",title:function(Au){return Au.getFullYear()},content:function(Aw){var Av=e(Aw.culture).months.namesAbbr,Ay=this.toDateString,Au=Aw.min,Ax=Aw.max;return As({min:new An(Au.getFullYear(),Au.getMonth(),1),max:new An(Ax.getFullYear(),Ax.getMonth(),1),start:new An(Aw.date.getFullYear(),0,1),setter:this.setDate,build:function(Az){return{value:Av[Az.getMonth()],ns:a.ns,dateString:Ay(Az),cssClass:""}}})},first:function(Au){return new An(Au.getFullYear(),0,Au.getDate())},last:function(Au){return new An(Au.getFullYear(),11,Au.getDate())},compare:function(Av,Au){return n(Av,Au)},setDate:function(Ax,Aw){var Av,Au=Ax.getHours();if(Aw instanceof An){Av=Aw.getMonth();Ax.setFullYear(Aw.getFullYear(),Av,Ax.getDate());if(Av!==Ax.getMonth()){Ax.setDate(0)}}else{Av=Ax.getMonth()+Aw;Ax.setMonth(Av);if(Av>11){Av-=12}if(Av>0&&Ax.getMonth()!=Av){Ax.setDate(0)}}H(Ax,Au)},toDateString:function(Au){return Au.getFullYear()+"/"+Au.getMonth()+"/1"}},{name:"decade",title:function(Av,Au,Aw){return L(Av,Au,Aw,10)},content:function(Av){var Au=Av.date.getFullYear(),Aw=this.toDateString;return As({start:new An(Au-Au%10-1,0,1),min:new An(Av.min.getFullYear(),0,1),max:new An(Av.max.getFullYear(),0,1),setter:this.setDate,build:function(Ay,Ax){return{value:Ay.getFullYear(),ns:a.ns,dateString:Aw(Ay),cssClass:Ax===0||Ax==11?Ap:""}}})},first:function(Av){var Au=Av.getFullYear();return new An(Au-Au%10,Av.getMonth(),Av.getDate())},last:function(Av){var Au=Av.getFullYear();return new An(Au-Au%10+9,Av.getMonth(),Av.getDate())},compare:function(Av,Au){return n(Av,Au,10)},setDate:function(Av,Au){h(Av,Au,1)},toDateString:function(Au){return Au.getFullYear()+"/0/1"}},{name:Af,title:function(Av,Au,Aw){return L(Av,Au,Aw,100)},content:function(Ay){var Ax=Ay.date.getFullYear(),Au=Ay.min.getFullYear(),AA=Ay.max.getFullYear(),Av=this.toDateString,Az=Au,Aw=AA;Az=Az-Az%10;Aw=Aw-Aw%10;if(Aw-Az<10){Aw=Az+9}return As({start:new An(Ax-Ax%100-10,0,1),min:new An(Az,0,1),max:new An(Aw,0,1),setter:this.setDate,build:function(AD,AC){var AE=AD.getFullYear(),AB=AE+9;if(AE<Au){AE=Au}if(AB>AA){AB=AA}return{ns:a.ns,value:AE+" - "+AB,dateString:Av(AD),cssClass:AC===0||AC==11?Ap:""}}})},first:function(Av){var Au=Av.getFullYear();return new An(Au-Au%100,Av.getMonth(),Av.getDate())},last:function(Av){var Au=Av.getFullYear();return new An(Au-Au%100+99,Av.getMonth(),Av.getDate())},compare:function(Av,Au){return n(Av,Au,100)},setDate:function(Av,Au){h(Av,Au,10)},toDateString:function(Av){var Au=Av.getFullYear();return(Au-Au%10)+"/0/1"}}]};function L(AB,Aw,Ax,Au){var Av=AB.getFullYear(),Az=Aw.getFullYear(),AA=Ax.getFullYear(),Ay;Av=Av-Av%Au;Ay=Av+(Au-1);if(Av<Az){Av=Az}if(Ay>AA){Ay=AA}return Av+"-"+Ay}function As(AB){var Ax=0,Aw,Av=AB.min,AG=AB.max,Au=AB.start,Az=AB.setter,AE=AB.build,Ay=AB.cells||12,AC=AB.perRow||4,AF=AB.content||r,AD=AB.empty||I,AA=AB.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';for(;Ax<Ay;Ax++){if(Ax>0&&Ax%AC===0){AA+='</tr><tr role="row">'}Aw=AE(Au,Ax);AA+=o(Au,Av,AG)?AF(Aw):AD(Aw);Az(Au,1)}return AA+"</tr></tbody></table>"}function n(Ax,Au,Az){var Av=Ax.getFullYear(),AA=Au.getFullYear(),Ay=AA,Aw=0;if(Az){AA=AA-AA%Az;Ay=AA-AA%Az+Az-1}if(Av>Ay){Aw=1}else{if(Av<AA){Aw=-1}}return Aw}function Ah(){var Au=new An();return new An(Au.getFullYear(),Au.getMonth(),Au.getDate())}function Q(Aw,Au,Ax){var Av=Ah();if(Aw){Av=new An(+Aw)}if(Au>Av){Av=new An(+Au)}else{if(Ax<Av){Av=new An(+Ax)}}return Av}function o(Av,Au,Aw){return +Av>=+Au&&+Av<=+Aw}function E(Au,Av){return Au.slice(Av).concat(Au.slice(0,Av))}function h(Aw,Av,Au){Av=Av instanceof An?Av.getFullYear():Aw.getFullYear()+Au*Av;Aw.setFullYear(Av)}function Ak(Au){p(this).toggleClass(u,l.indexOf(Au.type)>-1||Au.type==N)}function Aa(Au){Au.preventDefault()}function e(Au){return At(Au).calendars.standard}function k(Aw){var Ax=w[Aw.start],Av=w[Aw.depth],Au=At(Aw.culture);Aw.format=Ai(Aw.format||Au.calendars.standard.patterns.d);if(isNaN(Ax)){Ax=0;Aw.start=M}if(Av===s||Av>Ax){Aw.depth=M}if(!Aw.dates){Aw.dates=[]}}function m(Au){if(Ag){Au.find("*").attr("unselectable","on")}}function Ao(Ax,Aw){for(var Au=0,Av=Aw.length;Au<Av;Au++){if(Ax===+Aw[Au]){return true}}return false}function C(Au,Av){if(Au){return Au.getFullYear()===Av.getFullYear()&&Au.getMonth()===Av.getMonth()&&Au.getDate()===Av.getDate()}return false}function t(Au,Av){if(Au){return Au.getFullYear()===Av.getFullYear()&&Au.getMonth()===Av.getMonth()}return false}Aj.isEqualDatePart=C;Aj.makeUnselectable=m;Aj.restrictValue=Q;Aj.isInRange=o;Aj.normalize=k;Aj.viewsEnum=w;a.calendar=Aj})(window.kendo.jQuery);(function(d,e){var R=window.kendo,n=R.ui,N=n.Widget,A=R.parseDate,P=R.keys,g=R.template,V=R._activeElement,E="<div />",q="<span />",F=".kendoDatePicker",T="click"+F,M="open",O="close",W="change",j="dateView",J="disabled",h="readonly",t="k-state-default",B="k-state-focused",Z="k-state-selected",U="k-state-disabled",f="k-state-hover",C="keydown"+F,l="mouseenter"+F+" mouseleave"+F,k="mousedown"+F,I="id",L="min",G="max",H="month",S="aria-disabled",m="aria-expanded",K="aria-hidden",o="aria-readonly",b=R.calendar,c=b.isInRange,r=b.restrictValue,D=b.isEqualDatePart,s=d.extend,u=d.proxy,Q=Date;function a(x){var w=x.parseFormats,v=x.format;b.normalize(x);w=d.isArray(w)?w:[w];if(!w.length){w.push("yyyy-MM-dd")}if(d.inArray(v,w)===-1){w.splice(0,0,x.format)}x.parseFormats=w}function p(v){v.preventDefault()}var Y=function(x){var w=this,z,v=document.body,y=d(E).attr(K,"true").addClass("k-calendar-container").appendTo(v);w.options=x=x||{};z=x.id;if(z){z+="_dateview";y.attr(I,z);w._dateViewID=z}w.popup=new n.Popup(y,s(x.popup,x,{name:"Popup",isRtl:R.support.isRtl(x.anchor)}));w.div=y;w.value(x.value)};Y.prototype={_calendar:function(){var w=this;var v=w.calendar;var x=w.options;var y;if(!v){y=d(E).attr(I,R.guid()).appendTo(w.popup.element).on(k,p).on(T,"td:has(.k-link)",u(w._click,w));w.calendar=v=new n.Calendar(y);w._setOptions(x);R.calendar.makeUnselectable(v.element);v.navigate(w._value||w._current,x.start);w.value(w._value)}},_setOptions:function(v){this.calendar.setOptions({focusOnNav:false,change:v.change,culture:v.culture,dates:v.dates,depth:v.depth,footer:v.footer,format:v.format,max:v.max,min:v.min,month:v.month,start:v.start})},setOptions:function(w){var v=this.options;this.options=s(v,w,{change:v.change,close:v.close,open:v.open});if(this.calendar){this._setOptions(this.options)}},destroy:function(){this.popup.destroy()},open:function(){var v=this;v._calendar();v.popup.open()},close:function(){this.popup.close()},min:function(v){this._option(L,v)},max:function(v){this._option(G,v)},toggle:function(){var v=this;v[v.popup.visible()?O:M]()},move:function(x){var y=this,w=x.keyCode,v=y.calendar,z=x.ctrlKey&&w==P.DOWN||w==P.ENTER,Aa=false;if(x.altKey){if(w==P.DOWN){y.open();x.preventDefault();Aa=true}else{if(w==P.UP){y.close();x.preventDefault();Aa=true}}}else{if(y.popup.visible()){if(w==P.ESC||(z&&v._cell.hasClass(Z))){y.close();x.preventDefault();return true}y._current=v._move(x);Aa=true}}return Aa},current:function(v){this._current=v;this.calendar._focus(v)},value:function(y){var w=this,v=w.calendar,x=w.options;w._value=y;w._current=new Q(+r(y,x.min,x.max));if(v){v.value(y)}},_click:function(v){if(v.currentTarget.className.indexOf(Z)!==-1){this.close()}},_option:function(w,y){var x=this;var v=x.calendar;x.options[w]=y;if(v){v[w](y)}}};Y.normalize=a;R.DateView=Y;var X=N.extend({init:function(Aa,y){var x=this,v,z;N.fn.init.call(x,Aa,y);Aa=x.element;y=x.options;y.min=A(Aa.attr("min"))||A(y.min);y.max=A(Aa.attr("max"))||A(y.max);a(y);x._initialOptions=s({},y);x._wrapper();x.dateView=new Y(s({},y,{id:Aa.attr(I),anchor:x.wrapper,change:function(){x._change(this.value());x.close()},close:function(Ab){if(x.trigger(O)){Ab.preventDefault()}else{Aa.attr(m,false);z.attr(K,true)}},open:function(Ab){var Ac=x.options,Ad;if(x.trigger(M)){Ab.preventDefault()}else{if(x.element.val()!==x._oldText){Ad=A(Aa.val(),Ac.parseFormats,Ac.culture);x.dateView[Ad?"current":"value"](Ad)}Aa.attr(m,true);z.attr(K,false);x._updateARIA(Ad)}}}));z=x.dateView.div;x._icon();try{Aa[0].setAttribute("type","text")}catch(w){Aa[0].type="text"}Aa.addClass("k-input").attr({role:"combobox","aria-expanded":false,"aria-owns":x.dateView._dateViewID});x._reset();x._template();v=Aa.is("[disabled]")||d(x.element).parents("fieldset").is(":disabled");if(v){x.enable(false)}else{x.readonly(Aa.is("[readonly]"))}x._old=x._update(y.value||x.element.val());x._oldText=Aa.val();R.notify(x)},events:[M,O,W],options:{name:"DatePicker",value:null,footer:"",format:"yyyy-MM-dd",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:H,depth:H,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(w){var v=this;var x=v._value;N.fn.setOptions.call(v,w);w=v.options;w.min=A(w.min);w.max=A(w.max);a(w);v.dateView.setOptions(w);if(x){v.element.val(R.toString(x,w.format,w.culture));v._updateARIA(x)}},_editable:function(y){var w=this,z=w._dateIcon.off(F),Aa=w.element.off(F),v=w._inputWrapper.off(F),Ab=y.readonly,x=y.disable;if(!Ab&&!x){v.addClass(t).removeClass(U).on(l,w._toggleHover);Aa.removeAttr(J).removeAttr(h).attr(S,false).attr(o,false).on("keydown"+F,u(w._keydown,w)).on("focusout"+F,u(w._blur,w)).on("focus"+F,function(){w._inputWrapper.addClass(B)});z.on(T,u(w._click,w)).on(k,p)}else{v.addClass(x?U:t).removeClass(x?t:U);Aa.attr(J,x).attr(h,Ab).attr(S,x).attr(o,Ab)}},readonly:function(v){this._editable({readonly:v===e?true:v,disable:false})},enable:function(v){this._editable({readonly:false,disable:!(v=v===e?true:v)})},destroy:function(){var v=this;N.fn.destroy.call(v);v.dateView.destroy();v.element.off(F);v._dateIcon.off(F);v._inputWrapper.off(F);if(v._form){v._form.off("reset",v._resetHandler)}},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(v){return this._option(L,v)},max:function(v){return this._option(G,v)},value:function(w){var v=this;if(w===e){return v._value}v._old=v._update(w);if(v._old===null){v.element.val("")}v._oldText=v.element.val()},_toggleHover:function(v){d(v.currentTarget).toggleClass(f,v.type==="mouseenter")},_blur:function(){var v=this,w=v.element.val();v.close();if(w!==v._oldText){v._change(w)}v._inputWrapper.removeClass(B)},_click:function(){var v=this,w=v.element;v.dateView.toggle();if(!R.support.touch&&w[0]!==V()){w.focus()}},_change:function(w){var v=this;w=v._update(w);if(+v._old!=+w){v._old=w;v._oldText=v.element.val();if(!v._typing){v.element.trigger(W)}v.trigger(W)}v._typing=false},_keydown:function(x){var y=this,w=y.dateView,z=y.element.val(),v=false;if(!w.popup.visible()&&x.keyCode==P.ENTER&&z!==y._oldText){y._change(z)}else{v=w.move(x);y._updateARIA(w._current);if(!v){y._typing=true}}},_icon:function(){var v=this,x=v.element,w;w=x.next("span.k-select");if(!w[0]){w=d('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span></span>').insertAfter(x)}v._dateIcon=w.attr({"role":"button","aria-controls":v.dateView._dateViewID})},_option:function(v,y){var w=this,x=w.options;if(y===e){return x[v]}y=A(y,x.parseFormats,x.culture);if(!y){return}x[v]=new Q(+y);w.dateView[v](y)},_update:function(z){var Aa=this,Ab=Aa.options,x=Ab.min,y=Ab.max,Ac=Aa._value,Ad=A(z,Ab.parseFormats,Ab.culture),w=(Ad===null&&Ac===null)||(Ad instanceof Date&&Ac instanceof Date),v;if(+Ad===+Ac&&w){v=R.toString(Ad,Ab.format,Ab.culture);if(v!==z){Aa.element.val(Ad===null?z:v)}return Ad}if(Ad!==null&&D(Ad,x)){Ad=r(Ad,x,y)}else{if(!c(Ad,x,y)){Ad=null}}Aa._value=Ad;Aa.dateView.value(Ad);Aa.element.val(Ad?R.toString(Ad,Ab.format,Ab.culture):z);Aa._updateARIA(Ad);return Ad},_wrapper:function(){var w=this,x=w.element,v;v=x.parents(".k-datepicker");if(!v[0]){v=x.wrap(q).parent().addClass("k-picker-wrap k-state-default");v=v.wrap(q).parent()}v[0].style.cssText=x[0].style.cssText;x.css({width:"100%",height:x[0].style.height});w.wrapper=v.addClass("k-widget k-datepicker k-header").addClass(x[0].className);w._inputWrapper=d(v[0].firstChild)},_reset:function(){var x=this,y=x.element,w=y.attr("form"),v=w?d("#"+w):y.closest("form");if(v[0]){x._resetHandler=function(){x.value(y[0].defaultValue);x.max(x._initialOptions.max);x.min(x._initialOptions.min)};x._form=v.on("reset",x._resetHandler)}},_template:function(){this._ariaTemplate=g(this.options.ARIATemplate)},_updateARIA:function(y){var x;var w=this;var v=w.dateView.calendar;w.element.removeAttr("aria-activedescendant");if(v){x=v._cell;x.attr("aria-label",w._ariaTemplate({current:y||v.current()}));w.element.attr("aria-activedescendant",x.attr("id"))}}});n.plugin(X)})(window.kendo.jQuery);(function(Z,Y){var W=window.kendo,H=W.support,N=W.caret,O=W._activeElement,M=H.placeholder,D=W.ui,L=D.List,R=W.keys,I=W.data.DataSource,P="aria-disabled",B="aria-readonly",G="k-state-default",F="disabled",X="readonly",U="k-state-focused",C="k-state-selected",T="k-state-disabled",J="k-state-hover",V=".kendoAutoComplete",A="mouseenter"+V+" mouseleave"+V,Q=Z.proxy;function K(d,b,c){return c?b.substring(0,d).split(c).length-1:0}function a(d,b,c){return b.split(c)[K(d,b,c)]}function S(f,c,e,d){var b=c.split(d);b.splice(K(f,c,d),1,e);if(d&&b[b.length-1]!==""){b.push("")}return b.join(d)}var E=L.extend({init:function(f,e){var d=this,c,b;d.ns=V;e=Z.isArray(e)?{dataSource:e}:e;L.fn.init.call(d,f,e);f=d.element;e=d.options;e.placeholder=e.placeholder||f.attr("placeholder");if(M){f.attr("placeholder",e.placeholder)}d._wrapper();d._loader();d._dataSource();d._ignoreCase();f[0].type="text";c=d.wrapper;d._popup();f.addClass("k-input").on("keydown"+V,Q(d._keydown,d)).on("paste"+V,Q(d._search,d)).on("focus"+V,function(){d._prev=d._accessor();d._placeholder(false);c.addClass(U)}).on("focusout"+V,function(){d._change();d._placeholder();c.removeClass(U)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":true});d._enable();d._old=d._accessor();if(f[0].id){f.attr("aria-owns",d.ul[0].id)}d._aria();d._placeholder();d._initList();b=Z(d.element).parents("fieldset").is(":disabled");if(b){d.enable(false)}W.notify(d)},options:{name:"AutoComplete",enabled:true,suggest:false,template:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:true,highlightFirst:false,separator:null,placeholder:"",animation:{},value:null},_dataSource:function(){var b=this;if(b.dataSource&&b._refreshHandler){b._unbindDataSource()}else{b._progressHandler=Q(b._showBusy,b)}b.dataSource=I.create(b.options.dataSource).bind("progress",b._progressHandler)},setDataSource:function(b){this.options.dataSource=b;this._dataSource();this.listView.setDataSource(this.dataSource)},events:["open","close","change","select","filtering","dataBinding","dataBound"],setOptions:function(c){var b=this._listOptions(c);L.fn.setOptions.call(this,c);b.dataValueField=b.dataTextField;this.listView.setOptions(b);this._accessors();this._aria()},_editable:function(e){var c=this,f=c.element,b=c.wrapper.off(V),g=e.readonly,d=e.disable;if(!g&&!d){b.addClass(G).removeClass(T).on(A,c._toggleHover);f.removeAttr(F).removeAttr(X).attr(P,false).attr(B,false)}else{b.addClass(d?T:G).removeClass(d?G:T);f.attr(F,d).attr(X,g).attr(P,d).attr(B,g)}},close:function(){var b=this;var c=b.listView.focus();if(c){c.removeClass(C)}b.popup.close()},destroy:function(){var b=this;b.element.off(V);b.wrapper.off(V);L.fn.destroy.call(b)},refresh:function(){this.listView.refresh()},select:function(b){this._select(b)},search:function(f){var c=this,d=c.options,g=d.ignoreCase,e=d.separator,b;f=f||c._accessor();clearTimeout(c._typingTimeout);if(e){f=a(N(c.element)[0],f,e)}b=f.length;if(!b||b>=d.minLength){c._open=true;c.listView.filter(true);c._filterSource({value:g?f.toLowerCase():f,operator:d.filter,field:d.dataTextField,ignoreCase:g})}},suggest:function(h){var g=this,l=g._last,f=g._accessor(),b=g.element[0],e=N(b)[0],d=g.options.separator,k=f.split(d),m=K(e,f,d),j=e,c;if(l==R.BACKSPACE||l==R.DELETE){g._last=Y;return}h=h||"";if(typeof h!=="string"){if(h[0]){h=g.dataSource.view()[L.inArray(h[0],g.ul[0])]}h=h?g._text(h):""}if(e<=0){e=f.toLowerCase().indexOf(h.toLowerCase())+1}c=f.substring(0,e).lastIndexOf(d);c=c>-1?e-(c+d.length):e;f=k[m].substring(0,c);if(h){h=h.toString();c=h.toLowerCase().indexOf(f.toLowerCase());if(c>-1){h=h.substring(c+f.length);j=e+h.length;f+=h}if(d&&k[k.length-1]!==""){k.push("")}}k[m]=f;g._accessor(k.join(d||""));if(b===O()){N(b,e,j)}},value:function(b){if(b!==Y){this.listView.value(b);this._accessor(b);this._old=this._accessor()}else{return this._accessor()}},_click:function(b){var c=b.item;var d=this.element;if(this.trigger("select",{item:c})){this.close();return}this._select(c);this._blur();N(d,d.val().length)},_initList:function(){var d=this;var b=d.options.virtual;var f=!!b;var e=Q(d._listBound,d);var c={autoBind:false,selectable:true,dataSource:d.dataSource,click:Z.proxy(d._click,this),change:Z.proxy(d._listChange,this),activate:Q(d._activateItem,d),deactivate:Q(d._deactivateItem,d),dataBinding:function(){d.trigger("dataBinding");d._angularItems("cleanup")},dataBound:e,listBound:e};c=Z.extend(d._listOptions(),c,typeof b==="object"?b:{});c.dataValueField=c.dataTextField;if(!f){d.listView=new W.ui.StaticList(d.ul,c)}else{d.listView=new W.ui.VirtualList(d.ul,c)}d.listView.value(d.options.value)},_listBound:function(){var d=this;var g=d.popup;var e=d.options;var b=d.dataSource.flatView();var c=b.length;var f=d.element[0]===O();var j;d._angularItems("compile");d.listView.value([]);d.listView.focus(-1);d.listView.filter(false);d._calculateGroupPadding(d._height(c));g.position();if(c){var h=this.listView.focus();if(e.highlightFirst&&!h){d.listView.first()}if(e.suggest&&f){d.suggest(b[0])}}if(d._open){d._open=false;j=c?"open":"close";if(d._typingTimeout&&!f){j="close"}g[j]();d._typingTimeout=Y}if(d._touchScroller){d._touchScroller.reset()}d._hideBusy();d._makeUnselectable();d.trigger("dataBound")},_listChange:function(){if(!this.listView.filter()){this._selectValue(this.listView.selectedDataItems()[0])}},_selectValue:function(b){var d=this.options.separator;var c="";if(b){c=this._text(b)}if(c===null){c=""}if(d){c=S(N(this.element)[0],this._accessor(),c,d)}this._prev=c;this._accessor(c);this._placeholder()},_accessor:function(c){var b=this,d=b.element[0];if(c!==Y){d.value=c===null?"":c;b._placeholder()}else{c=d.value;if(d.className.indexOf("k-readonly")>-1){if(c===b.options.placeholder){return""}else{return c}}return c}},_keydown:function(c){var d=this;var b=c.keyCode;var g=d.popup.visible();var f=this.listView.focus();d._last=b;if(b===R.DOWN){if(g){this._move(f?"next":"first")}c.preventDefault()}else{if(b===R.UP){if(g){this._move(f?"prev":"last")}c.preventDefault()}else{if(b===R.ENTER||b===R.TAB){if(b===R.ENTER&&g){c.preventDefault()}if(g&&f){if(d.trigger("select",{item:f})){return}this._select(f)}this._blur()}else{if(b===R.ESC){if(g){c.preventDefault()}d.close()}else{d._search();d._typing=true}}}}},_move:function(b){this.listView[b]();if(this.options.suggest){this.suggest(this.listView.focus())}},_hideBusy:function(){var b=this;clearTimeout(b._busy);b._loading.hide();b.element.attr("aria-busy",false);b._busy=null},_showBusy:function(){var b=this;if(b._busy){return}b._busy=setTimeout(function(){b.element.attr("aria-busy",true);b._loading.show()},100)},_placeholder:function(c){if(M){return}var f=this,e=f.element,d=f.options.placeholder,b;if(d){b=e.val();if(c===Y){c=!b}if(!c){if(b!==d){d=b}else{d=""}}if(b===f._old&&!c){return}e.toggleClass("k-readonly",c).val(d);if(!d&&e[0]===document.activeElement){N(e[0],0,0)}}},_search:function(){var b=this;clearTimeout(b._typingTimeout);b._typingTimeout=setTimeout(function(){if(b._prev!==b._accessor()){b._prev=b._accessor();b.search()}},b.options.delay)},_select:function(b){this.listView.select(b)},_loader:function(){this._loading=Z('<span class="k-icon k-loading" style="display:none"></span>').insertAfter(this.element)},_toggleHover:function(b){Z(b.currentTarget).toggleClass(J,b.type==="mouseenter")},_wrapper:function(){var c=this,d=c.element,e=d[0],b;b=d.parent();if(!b.is("span.k-widget")){b=d.wrap("<span />").parent()}b.attr("tabindex",-1);b.attr("role","presentation");b[0].style.cssText=e.style.cssText;d.css({width:"100%",height:e.style.height});c._focused=c.element;c.wrapper=b.addClass("k-widget k-autocomplete k-header").addClass(e.className)}});D.plugin(E)})(window.kendo.jQuery);(function(X,W){var F=window.kendo,E=F.ui,V=E.Select,I=F.support,O=F._activeElement,B=F.data.ObservableObject,R=F.keys,G=".kendoDropDownList",S="disabled",M="readonly",C="change",U="k-state-focused",H="k-state-default",T="k-state-disabled",P="aria-disabled",J="aria-readonly",D="k-state-selected",N="mouseenter"+G+" mouseleave"+G,Z="tabindex",Y="filter",L="accept",Q=X.proxy;var A=V.extend({init:function(g,e){var d=this;var f=e&&e.index;var c,a,b;d.ns=G;e=X.isArray(e)?{dataSource:e}:e;V.fn.init.call(d,g,e);e=d.options;g=d.element.on("focus"+G,Q(d._focusHandler,d));d._focusInputHandler=X.proxy(d._focusInput,d);d._inputTemplate();d._reset();d._prev="";d._word="";d.optionLabel=X();d._wrapper();d._tabindex();d.wrapper.data(Z,d.wrapper.attr(Z));d._span();d._popup();d._mobile();d._dataSource();d._ignoreCase();d._filterHeader();d._aria();d._enable();d._oldIndex=d.selectedIndex=-1;if(f!==W){e.index=f}d._initialIndex=e.index;d._optionLabel();d._initList();d._cascade();if(e.autoBind){d.dataSource.fetch()}else{if(d.selectedIndex===-1){a=e.text||"";if(!a){c=e.optionLabel;if(c&&e.index===0){a=c}else{if(d._isSelect){a=g.children(":selected").text()}}}d._textAccessor(a)}}b=X(d.element).parents("fieldset").is(":disabled");if(b){d.enable(false)}F.notify(d)},options:{name:"DropDownList",enabled:true,autoBind:true,index:0,text:null,value:null,delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",ignoreCase:true,animation:{},filter:"none",minLength:1,virtual:false,template:null,valueTemplate:null,optionLabelTemplate:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#"},events:["open","close",C,"select","filtering","dataBinding","dataBound","cascade"],setOptions:function(a){V.fn.setOptions.call(this,a);this.listView.setOptions(this._listOptions(a));this._optionLabel();this._inputTemplate();this._accessors();this._filterHeader();this._enable();this._aria();if(!this.value()&&this.optionLabel[0]){this.select(0)}},destroy:function(){var a=this;a.wrapper.off(G);a.element.off(G);a._inputWrapper.off(G);a._arrow.off();a._arrow=null;a.optionLabel.off();V.fn.destroy.call(a)},open:function(){var a=this;if(a.popup.visible()){return}if(!a.listView.isBound()||a._state===L){a._open=true;a._state="rebind";if(a.filterInput){a.filterInput.val("");a._prev=""}a._filterSource()}else{if(a._allowOpening()){a.popup.one("activate",a._focusInputHandler);a.popup.open();a._focusItem()}}},_focusInput:function(){this._focusElement(this.filterInput)},_allowOpening:function(a){return this.optionLabel[0]||this.filterInput||this.dataSource.view().length},toggle:function(a){this._toggle(a,true)},current:function(a){var b;if(a===W){b=this.listView.focus();if(!b&&this.selectedIndex===0&&this.optionLabel[0]){return this.optionLabel}return b}this._focus(a)},dataItem:function(d){var a=this;var b=null;var e=!!a.optionLabel[0];var c=a.options.optionLabel;if(d===W){b=a.listView.selectedDataItems()[0]}else{if(typeof d!=="number"){if(d.hasClass("k-list-optionlabel")){d=-1}else{d=X(a.items()).index(d)}}else{if(e){d-=1}}b=a.dataSource.flatView()[d]}if(!b&&e){b=X.isPlainObject(c)?new B(c):a._assignInstance(a._optionLabelText(),"")}return b},refresh:function(){this.listView.refresh()},text:function(c){var a=this;var b,e;var d=a.options.ignoreCase;c=c===null?"":c;if(c!==W){if(typeof c==="string"){e=d?c.toLowerCase():c;a._select(function(f){f=a._text(f);if(d){f=(f+"").toLowerCase()}return f===e});b=a.dataItem();if(b){c=b}}a._textAccessor(c)}else{return a._textAccessor()}},value:function(c){var a=this;var b=a.dataSource;if(c===W){c=a._accessor()||a.listView.value()[0];return c===W||c===null?"":c}if(c){a._initialIndex=null}if(a._request&&a.options.cascadeFrom&&a.listView.isBound()){if(a._valueSetter){b.unbind(C,a._valueSetter)}a._valueSetter=Q(function(){a.value(c)},a);b.one(C,a._valueSetter);return}a.listView.value(c).done(function(){if(a.selectedIndex===-1&&a.text()){a.text("");a._accessor("",-1)}a._old=a._accessor();a._oldIndex=a.selectedIndex});a._fetchData()},_optionLabel:function(){var a=this;var b=a.options;var d=b.optionLabel;var c=b.optionLabelTemplate;if(!d){a.optionLabel.off().remove();a.optionLabel=X();return}if(!c){c="#:";if(typeof d==="string"){c+="data"}else{c+=F.expr(b.dataTextField,"data")}c+="#"}if(typeof c!=="function"){c=F.template(c)}a.optionLabelTemplate=c;if(!a.optionLabel[0]){a.optionLabel=X('<div class="k-list-optionlabel"></div>').prependTo(a.list)}a.optionLabel.html(c(d)).off().click(Q(a._click,a)).on(N,a._toggleHover);a.angular("compile",function(){return{elements:a.optionLabel}})},_optionLabelText:function(){var a=this.options.optionLabel;return(typeof a==="string")?a:this._text(a)},_listBound:function(){var f=this;var h=f._initialIndex;var g=f.options.optionLabel;var j=f._state===Y;var a=f.element[0];var c=f.dataSource.flatView();var d=c.length;var k;var b;var e;f._angularItems("compile");f._presetValue=false;if(!f.options.virtual){b=f._height(j?(d||1):d);f._calculateGroupPadding(b)}f.popup.position();if(f._isSelect){e=f.value();if(d){if(g){g=f._option("",f._optionLabelText())}}else{if(e){g=f._option(e,f.text())}}f._options(c,g,e)}f._makeUnselectable();if(!j){if(f._open){f.toggle(f._allowOpening())}f._open=false;if(!f._fetch){if(d){if(!f.listView.value().length&&h>-1&&h!==null){f.select(h)}f._initialIndex=null;k=f.listView.selectedDataItems()[0];if(k&&f.text()!==f._text(k)){f._selectValue(k)}}else{if(f._textAccessor()!==f._optionLabelText()){f.listView.value("");f._selectValue(null);f._oldIndex=f.selectedIndex}}}}f._hideBusy();f.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]);if(this._presetValue||(this._old&&this._oldIndex===-1)){this._oldIndex=this.selectedIndex}},_focusHandler:function(){this.wrapper.focus()},_focusinHandler:function(){this._inputWrapper.addClass(U);this._prevent=false},_focusoutHandler:function(){var b=this;var d=b._state===Y;var a=window.self!==window.top;var c=b._focus();if(!b._prevent){clearTimeout(b._typingTimeout);if(d&&c&&!b.trigger("select",{item:c})){b._select(c,!b.dataSource.view().length)}if(I.mobileOS.ios&&a){b._change()}else{b._blur()}b._inputWrapper.removeClass(U);b._prevent=true;b._open=false;b.element.blur()}},_wrapperMousedown:function(){this._prevent=!!this.filterInput},_wrapperClick:function(a){a.preventDefault();this.popup.unbind("activate",this._focusInputHandler);this._focused=this.wrapper;this._toggle()},_editable:function(d){var b=this;var f=b.element;var c=d.disable;var g=d.readonly;var a=b.wrapper.add(b.filterInput).off(G);var e=b._inputWrapper.off(N);if(!g&&!c){f.removeAttr(S).removeAttr(M);e.addClass(H).removeClass(T).on(N,b._toggleHover);a.attr(Z,a.data(Z)).attr(P,false).attr(J,false).on("keydown"+G,Q(b._keydown,b)).on("focusin"+G,Q(b._focusinHandler,b)).on("focusout"+G,Q(b._focusoutHandler,b)).on("mousedown"+G,Q(b._wrapperMousedown,b));b.wrapper.on("click"+G,Q(b._wrapperClick,b));if(!b.filterInput){a.on("keypress"+G,Q(b._keypress,b))}}else{if(c){a.removeAttr(Z);e.addClass(T).removeClass(H)}else{e.addClass(H).removeClass(T);a.on("focusin"+G,Q(b._focusinHandler,b)).on("focusout"+G,Q(b._focusoutHandler,b))}}f.attr(S,c).attr(M,g);a.attr(P,c).attr(J,g)},_option:function(b,a){return'<option value="'+b+'">'+a+"</option>"},_keydown:function(a){var g=this;var c=a.keyCode;var j=a.altKey;var h=g.ul[0];var f;var b;var d=g.popup.visible();if(g.filterInput){f=g.filterInput[0]===O()}if(c===R.LEFT){c=R.UP;b=true}else{if(c===R.RIGHT){c=R.DOWN;b=true}}if(b&&f){return}a.keyCode=c;if(j&&c===R.UP){g._focusElement(g.wrapper)}if(c===R.ENTER&&g._typingTimeout&&g.filterInput&&d){a.preventDefault();return}b=g._move(a);if(b){return}if(!d||!g.filterInput){if(c===R.HOME){b=true;g._firstItem()}else{if(c===R.END){b=true;g._lastItem()}}if(b){g._select(g._focus());a.preventDefault()}}if(!j&&!b&&g.filterInput){g._search()}},_matchText:function(c,d){var a=this;var e=a.options.ignoreCase;var b=false;c=c+"";if(e){c=c.toLowerCase()}if(c.indexOf(a._word)===0){if(a.optionLabel[0]){d+=1}a._select(d);if(!a.popup.visible()){a._change()}b=true}return b},_selectNext:function(d){var b=this;var c=d;var f=b.dataSource.flatView();var a=f.length;var e;for(;d<a;d++){e=b._text(f[d]);if(e&&b._matchText(e,d)&&!(b._word.length===1&&c===b.selectedIndex)){return true}}if(c>0&&c<a){d=0;for(;d<=c;d++){e=b._text(f[d]);if(e&&b._matchText(e,d)){return true}}}return false},_keypress:function(b){var c=this;if(b.which===0||b.keyCode===F.keys.ENTER){return}var f=String.fromCharCode(b.charCode||b.keyCode);var d=c.selectedIndex;var a=c._word.length;if(c.options.ignoreCase){f=f.toLowerCase()}if(f===" "){b.preventDefault()}if(!a){c._word=f}if(c._last===f&&a<=1&&d>-1){if(c._selectNext(d)){return}}if(a){c._word+=f}c._last=f;c._search()},_popupOpen:function(){var a=this.popup;a.wrapper=F.wrap(a.element);if(a.element.closest(".km-root")[0]){a.wrapper.addClass("km-popup km-widget");this.wrapper.addClass("km-widget")}},_popup:function(){V.fn._popup.call(this);this.popup.one("open",Q(this._popupOpen,this))},_click:function(a){var b=a.item||X(a.currentTarget);if(this.trigger("select",{item:b})){this.close();return}this._userTriggered=true;this._select(b);this._focusElement(this.wrapper);this._blur()},_focusElement:function(e){var c=O();var b=this.wrapper;var f=this.filterInput;var d=e===f?b:f;var a=I.mobileOS&&(I.touch||I.MSPointers||I.pointers);if(f&&f[0]===e[0]&&a){return}if(f&&d[0]===c){this._prevent=true;this._focused=e.focus()}},_filter:function(b){if(b){var a=this;var c=a.options.ignoreCase;if(c){b=b.toLowerCase()}a._select(function(d){var e=a._text(d);if(e!==W){e=(e+"");if(c){e=e.toLowerCase()}return e.indexOf(b)===0}})}},_search:function(){var a=this;var b=a.dataSource;var c=a.selectedIndex;clearTimeout(a._typingTimeout);if(a.options.filter!=="none"){a._typingTimeout=setTimeout(function(){var d=a.filterInput.val();if(a._prev!==d){a._prev=d;a.search(d)}a._typingTimeout=null},a.options.delay)}else{a._typingTimeout=setTimeout(function(){a._word=""},a.options.delay);if(c===-1){c=0}if(!a.ul[0].firstChild){b.fetch().done(function(){if(b.data()[0]&&c>-1){a._selectNext(c)}});return}a._selectNext(c)}},_get:function(a){var e,d,c;var b=X(a);if(this.optionLabel[0]){if(typeof a==="number"){if(a>-1){a-=1}}else{if(b.hasClass("k-list-optionlabel")){a=-1}}}if(typeof a==="function"){e=this.dataSource.flatView();for(c=0;c<e.length;c++){if(a(e[c])){a=c;d=true;break}}if(!d){a=-1}}return a},_firstItem:function(){if(this.optionLabel[0]){this._focus(this.optionLabel)}else{this.listView.first()}},_lastItem:function(){this.optionLabel.removeClass("k-state-focused");this.listView.last()},_nextItem:function(){if(this.optionLabel.hasClass("k-state-focused")){this.optionLabel.removeClass("k-state-focused");this.listView.first()}else{this.listView.next()}},_prevItem:function(){if(this.optionLabel.hasClass("k-state-focused")){return}this.listView.prev();if(!this.listView.focus()){this.optionLabel.addClass("k-state-focused")}},_focusItem:function(){var a=this.listView;var c=a.focus();var b=a.select();b=b[b.length-1];if(b===W&&this.options.highlightFirst&&!c){b=0}if(b!==W){a.focus(b)}else{if(this.options.optionLabel){this._focus(this.optionLabel);this._select(this.optionLabel)}else{a.scrollToIndex(0)}}},_focus:function(a){var b=this.listView;var c=this.optionLabel;if(a===W){a=b.focus();if(!a&&c.hasClass("k-state-focused")){a=c}return a}c.removeClass("k-state-focused");a=this._get(a);b.focus(a);if(a===-1){c.addClass("k-state-focused")}},_select:function(a,c){var b=this;var d=b.optionLabel;a=b._get(a);b.listView.select(a);if(!c&&b._state===Y){b.listView.filter(false);b._state=L}if(a===-1){b._selectValue(null)}},_selectValue:function(d){var c=this;var g=c.options.optionLabel;var a=c.optionLabel;var f=c.listView.select();var b="";var e="";f=f[f.length-1];if(f===W){f=-1}a.removeClass("k-state-focused k-state-selected");if(d){e=d;b=c._dataValue(d);if(g){f+=1}}else{if(g){c._focus(a.addClass("k-state-selected"));e=c._optionLabelText();if(typeof g==="string"){b=""}else{b=c._value(g)}f=0}}c.selectedIndex=f;if(b===null){b=""}c._textAccessor(e);c._accessor(b,f);c._triggerCascade()},_mobile:function(){var b=this,d=b.popup,c=I.mobileOS,a=d.element.parents(".km-root").eq(0);if(a.length&&c){d.options.animation.open.effects=(c.android||c.meego)?"fadeIn":(c.ios||c.wp)?"slideIn:up":d.options.animation.open.effects}},_filterHeader:function(){var c;var b=this.options;var a=b.filter!=="none";if(this.filterInput){this.filterInput.off(G).parent().remove();this.filterInput=null}if(a){c='<span unselectable="on" class="k-icon k-i-search">select</span>';this.filterInput=X('<input class="k-textbox"/>').attr({role:"listbox","aria-haspopup":true,"aria-expanded":false});this.list.prepend(X('<span class="k-list-filter" />').append(this.filterInput.add(c)))}},_span:function(){var b=this,a=b.wrapper,c="span.k-input",d;d=a.find(c);if(!d[0]){a.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(b.element);d=a.find(c)}b.span=d;b._inputWrapper=X(a[0].firstChild);b._arrow=a.find(".k-icon")},_wrapper:function(){var b=this,c=b.element,d=c[0],a;a=c.parent();if(!a.is("span.k-widget")){a=c.wrap("<span />").parent();a[0].style.cssText=d.style.cssText;a[0].title=d.title}c.hide();b._focused=b.wrapper=a.addClass("k-widget k-dropdown k-header").addClass(d.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":true,"aria-expanded":false})},_clearSelection:function(a){this.select(a.value()?0:-1)},_inputTemplate:function(){var a=this,b=a.options.valueTemplate;if(!b){b=X.proxy(F.template("#:this._text(data)#",{useWithBlock:false}),a)}else{b=F.template(b)}a.valueTemplate=b},_textAccessor:function(e){var d=null;var f=this.valueTemplate;var c=this.options;var g=c.optionLabel;var b=this.span;if(e!==W){if(X.isPlainObject(e)||e instanceof B){d=e}else{if(g&&this._optionLabelText()===e){d=g;f=this.optionLabelTemplate}}if(!d){d=this._assignInstance(e,this._accessor())}var a=function(){return{elements:b.get(),data:[{dataItem:d}]}};this.angular("cleanup",a);b.html(f(d));this.angular("compile",a)}else{return b.text()}},_preselect:function(b,a){if(!b&&!a){a=this._optionLabelText()}this._accessor(b);this._textAccessor(a);this._old=this._accessor();this._oldIndex=this.selectedIndex;this.listView.setValue(b);this._initialIndex=null;this._presetValue=true},_assignInstance:function(c,d){var a=this.options.dataTextField;var b={};if(a){K(b,a.split("."),c);K(b,this.options.dataValueField.split("."),d);b=new B(b)}else{b=c}return b}});function K(b,f,d){var c=0,a=f.length-1,e;for(;c<a;++c){e=f[c];if(!(e in b)){b[e]={}}b=b[e]}b[f[a]]=d}E.plugin(A)})(window.kendo.jQuery);(function(Z,Y){var W=window.kendo,E=W.ui,M=E.List,T=E.Select,O=W.caret,I=W.support,N=I.placeholder,P=W._activeElement,S=W.keys,G=".kendoComboBox",a="click"+G,X="mousedown"+G,A="disabled",D="readonly",C="change",H="k-state-default",V="k-state-focused",U="k-state-disabled",Q="aria-disabled",J="aria-readonly",F="k-state-selected",b="filter",L="accept",K="rebind",d="mouseenter"+G+" mouseleave"+G,c=null,R=Z.proxy;var B=T.extend({init:function(j,h){var g=this,e,f;g.ns=G;h=Z.isArray(h)?{dataSource:h}:h;T.fn.init.call(g,j,h);h=g.options;j=g.element.on("focus"+G,R(g._focusHandler,g));h.placeholder=h.placeholder||j.attr("placeholder");g._reset();g._wrapper();g._input();g._tabindex(g.input);g._popup();g._dataSource();g._ignoreCase();g._enable();g._oldIndex=g.selectedIndex=-1;g._aria();g._initialIndex=h.index;g._initList();g._cascade();if(h.autoBind){g._filterSource()}else{e=h.text;if(!e&&g._isSelect){e=j.children(":selected").text()}if(e){g.input.val(e);g._prev=e}}if(!e){g._placeholder()}f=Z(g.element).parents("fieldset").is(":disabled");if(f){g.enable(false)}W.notify(g)},options:{name:"ComboBox",enabled:true,index:-1,text:null,value:null,autoBind:true,delay:200,dataTextField:"",dataValueField:"",minLength:0,height:200,highlightFirst:true,filter:"none",placeholder:"",suggest:false,cascadeFrom:"",cascadeFromField:"",ignoreCase:true,animation:{},template:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#"},events:["open","close",C,"select","filtering","dataBinding","dataBound","cascade"],setOptions:function(e){T.fn.setOptions.call(this,e);this.listView.setOptions(e);this._accessors();this._aria()},destroy:function(){var e=this;e.input.off(G);e.element.off(G);e._inputWrapper.off(G);T.fn.destroy.call(e)},_focusHandler:function(){this.input.focus()},_arrowClick:function(){this._toggle()},_inputFocus:function(){this._inputWrapper.addClass(V);this._placeholder(false)},_inputFocusout:function(){var e=this;e._inputWrapper.removeClass(V);clearTimeout(e._typingTimeout);e._typingTimeout=null;if(e.options.text!==e.input.val()){e.text(e.text())}e._placeholder();e._blur();e.element.blur()},_editable:function(j){var g=this,h=j.disable,l=j.readonly,f=g._inputWrapper.off(G),k=g.element.add(g.input.off(G)),e=g._arrow.parent().off(a+" "+X);if(!l&&!h){f.addClass(H).removeClass(U).on(d,g._toggleHover);k.removeAttr(A).removeAttr(D).attr(Q,false).attr(J,false);e.on(a,R(g._arrowClick,g)).on(X,function(m){m.preventDefault()});g.input.on("keydown"+G,R(g._keydown,g)).on("focus"+G,R(g._inputFocus,g)).on("focusout"+G,R(g._inputFocusout,g))}else{f.addClass(h?U:H).removeClass(h?H:U);k.attr(A,h).attr(D,l).attr(Q,h).attr(J,l)}},open:function(){var e=this;var h=e._state;var g;var f;if(e.popup.visible()){return}if((!e.listView.isBound()&&h!==b)||h===L){e._open=true;e._state=K;e.listView.filter(false);e._filterSource()}else{e.popup.open();e._focusItem()}},_listBound:function(){var m=this;var k=m.options;var o=m._initialIndex;var s=m._state===b;var p=m.input[0]===P();var h=m.listView;var n=h.focus();var e=this.dataSource.flatView();var f=this.dataSource.page();var j=e.length;var t;var g;m._angularItems("compile");m._presetValue=false;if(!k.virtual){m._calculateGroupPadding(m._height(j))}m.popup.position();if(m._isSelect){var l=m.element[0].children[0];if(m._state===K){m._state=""}var q=true;var r=m._customOption;m._customOption=Y;m._options(e,"",m.value());if(r&&r[0].selected){m._custom(r.val(),q)}else{if(!l){m._custom("",q)}}}m._makeUnselectable();if(!s&&!m._fetch){if(!h.value().length){if(o!==null&&o>-1){m.select(o);n=h.focus()}else{if(m._accessor()){h.value(m._accessor())}}}m._initialIndex=null;t=m.listView.selectedDataItems()[0];if(t&&m.text()&&m.text()!==m._text(t)){m._selectValue(t)}}else{if(s&&n){n.removeClass("k-state-selected")}}if(j&&(f===Y||f===1)){if(k.highlightFirst){if(!n&&!h.focusIndex()){h.focus(0)}}else{h.focus(-1)}if(k.suggest&&p&&m.input.val()){m.suggest(e[0])}}if(m._open){m._open=false;if(m._typingTimeout&&!p){m.popup.close()}else{m.toggle(!!j)}m._typingTimeout=null}if(m._touchScroller){m._touchScroller.reset()}m._hideBusy();m.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]);if(this._presetValue){this._oldIndex=this.selectedIndex}},_get:function(e){var h,g,f;if(typeof e==="function"){h=this.dataSource.flatView();for(f=0;f<h.length;f++){if(e(h[f])){e=f;g=true;break}}if(!g){e=-1}}return e},_select:function(e,f){e=this._get(e);if(e===-1){this.input[0].value="";this._accessor("")}this.listView.select(e);if(!f&&this._state===b){this.listView.filter(false);this._state=L}},_selectValue:function(f){var h=this.listView.select();var e="";var g="";h=h[h.length-1];if(h===Y){h=-1}this.selectedIndex=h;if(h===-1){e=g=this.input[0].value;this.listView.focus(-1)}else{if(f){e=this._dataValue(f);g=this._text(f)}if(e===null){e=""}}this._prev=this.input[0].value=g;this._accessor(e!==Y?e:g,h);this._placeholder();this._triggerCascade()},refresh:function(){this.listView.refresh()},suggest:function(j){var f=this;var k=f.input[0];var h=f.text();var l=O(k)[0];var e=f._last;var g;if(e==S.BACKSPACE||e==S.DELETE){f._last=Y;return}j=j||"";if(typeof j!=="string"){if(j[0]){j=f.dataSource.view()[M.inArray(j[0],f.ul[0])]}j=j?f._text(j):""}if(l<=0){l=h.toLowerCase().indexOf(j.toLowerCase())+1}if(j){j=j.toString();g=j.toLowerCase().indexOf(h.toLowerCase());if(g>-1){h+=j.substring(g+h.length)}}else{h=h.substring(0,l)}if(h.length!==l||!j){k.value=h;if(k===P()){O(k,l,h.length)}}},text:function(g){g=g===null?"":g;var e=this;var h=e.input[0];var k=e.options.ignoreCase;var l=g;var f;var j;if(g===Y){return h.value}f=e.dataItem();if(e.options.autoBind===false&&!e.listView.isBound()){return}if(f&&e._text(f)===g){j=e._value(f);if(j===null){j=""}else{j+=""}if(j===e._old){e._triggerCascade();return}}if(k){l=l.toLowerCase()}e._select(function(m){m=e._text(m);if(k){m=(m+"").toLowerCase()}return m===l});if(e.selectedIndex<0){e._accessor(g);h.value=g;e._triggerCascade()}e._prev=h.value},toggle:function(e){this._toggle(e,true)},value:function(g){var e=this;var f=e.options;if(g===Y){g=e._accessor()||e.listView.value()[0];return g===Y||g===null?"":g}if(g===f.value&&e.input.val()===f.text){return}e._accessor(g);e.listView.value(g).done(function(){e._selectValue(e.listView.selectedDataItems()[0]);if(e.selectedIndex===-1){e._accessor(g);e.input.val(g);e._placeholder(true)}e._old=e._accessor();e._oldIndex=e.selectedIndex;e._prev=e.input.val();if(e._state===b){e._state=L}});e._fetchData()},_click:function(f){var g=f.item;if(this.trigger("select",{item:g})){this.close();return}this._userTriggered=true;this._select(g);this._blur()},_filter:function(k){var f=this;var h=f.options;var g=f.dataSource;var l=h.ignoreCase;var e=function(m){var n=f._text(m);if(n!==Y){n=n+"";if(n!==""&&k===""){return false}if(l){n=n.toLowerCase()}return n.indexOf(k)===0}};if(l){k=k.toLowerCase()}if(!f.ul[0].firstChild){g.one(C,function(){if(g.view()[0]){f.search(k)}}).fetch();return}this.listView.focus(this._get(e));var j=this.listView.focus();if(j){if(h.suggest){f.suggest(j)}this.open()}if(this.options.highlightFirst&&!k){this.listView.first()}},_input:function(){var f=this,k=f.element.removeClass("k-input")[0],e=k.accessKey,l=f.wrapper,j="input.k-input",g=k.name||"",h;if(g){g='name="'+g+'_input" '}h=l.find(j);if(!h[0]){l.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+g+'class="k-input" type="text" autocomplete="off"/><span tabindex="-1" unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(f.element);h=l.find(j)}h[0].style.cssText=k.style.cssText;h[0].title=k.title;if(k.maxLength>-1){h[0].maxLength=k.maxLength}h.addClass(k.className).val(this.options.text||k.value).css({width:"100%",height:k.style.height}).attr({"role":"combobox","aria-expanded":false}).show();if(N){h.attr("placeholder",f.options.placeholder)}if(e){k.accessKey="";h[0].accessKey=e}f._focused=f.input=h;f._inputWrapper=Z(l[0].firstChild);f._arrow=l.find(".k-icon").attr({"role":"button","tabIndex":-1});if(k.id){f._arrow.attr("aria-controls",f.ul[0].id)}},_keydown:function(g){var h=this,f=g.keyCode;h._last=f;clearTimeout(h._typingTimeout);h._typingTimeout=null;if(f!=S.TAB&&!h._move(g)){h._search()}},_placeholder:function(f){if(N){return}var j=this,g=j.input,h=j.options.placeholder,e;if(h){e=j.value();if(f===Y){f=!e}g.toggleClass("k-readonly",f);if(!f){if(!e){h=""}else{return}}g.val(h);if(!h&&g[0]===P()){O(g[0],0,0)}}},_search:function(){var e=this;e._typingTimeout=setTimeout(function(){var f=e.text();if(e._prev!==f){e._prev=f;e.search(f)}e._typingTimeout=null},e.options.delay)},_wrapper:function(){var f=this,g=f.element,e=g.parent();if(!e.is("span.k-widget")){e=g.hide().wrap("<span />").parent();e[0].style.cssText=g[0].style.cssText}f.wrapper=e.addClass("k-widget k-combobox k-header").addClass(g[0].className).css("display","")},_clearSelection:function(j,f){var g=this;var h=j.value();var e=h&&j.selectedIndex===-1;if(f||!h||e){g.options.value="";g.value("")}},_preselect:function(f,e){this.input.val(e);this._accessor(f);this._old=this._accessor();this._oldIndex=this.selectedIndex;this.listView.setValue(f);this._initialIndex=null;this._presetValue=true}});E.plugin(B)})(window.kendo.jQuery);(function(Z,b){var P=window.kendo,h=P.ui,V=h.List,O=P.keys,U=P._activeElement,N=P.data.ObservableArray,p=Z.proxy,f="id",e="li",a="accept",g="filter",l="rebind",L="open",M="close",c="change",K="progress",J="select",S="nextSibling",F="previousSibling",n=' style="display:none"',Q="aria-disabled",j="aria-readonly",k="k-state-focused",m="k-loading-hidden",E="k-state-hover",T="k-state-disabled",I="disabled",H="readonly",D=".kendoMultiSelect",R="click"+D,B="keydown"+D,W="mouseenter"+D,d="mouseleave"+D,A=W+" "+d,G=/"/g,o=Z.isArray,C=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"];var Y=V.extend({init:function(t,s){var r=this,u,q;r.ns=D;V.fn.init.call(r,t,s);r._optionsMap={};r._customOptions={};r._wrapper();r._tagList();r._input();r._textContainer();r._loader();r._tabindex(r.input);t=r.element.attr("multiple","multiple").hide();s=r.options;if(!s.placeholder){s.placeholder=t.data("placeholder")}u=t.attr(f);if(u){r._tagID=u+"_tag_active";u=u+"_taglist";r.tagList.attr(f,u)}r._aria(u);r._dataSource();r._ignoreCase();r._popup();r._tagTemplate();r._initList();r._reset();r._enable();r._placeholder();if(s.autoBind){r.dataSource.fetch()}else{if(s.value){r._preselect(s.value)}}q=Z(r.element).parents("fieldset").is(":disabled");if(q){r.enable(false)}P.notify(r)},_preselect:function(s,r){var q=this;if(!o(s)&&!(s instanceof P.data.ObservableArray)){s=[s]}if(Z.isPlainObject(s[0])||s[0] instanceof P.data.ObservableObject||!q.options.dataValueField){q._retrieveData=true;q.dataSource.data(s);q.value(r||q._initialValues)}},options:{name:"MultiSelect",tagMode:"multiple",enabled:true,autoBind:true,autoClose:true,highlightFirst:true,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:true,minLength:0,delay:100,value:null,maxSelectedItems:null,placeholder:"",height:200,animation:{},itemTemplate:"",tagTemplate:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#"},events:[L,M,c,J,"filtering","dataBinding","dataBound"],setDataSource:function(q){this.options.dataSource=q;this._dataSource();this.listView.setDataSource(this.dataSource);if(this.options.autoBind){this.dataSource.fetch()}},setOptions:function(r){var q=this._listOptions(r);V.fn.setOptions.call(this,r);this._normalizeOptions(q);this.listView.setOptions(q);this._accessors();this._aria(this.tagList.attr(f));this._tagTemplate()},currentTag:function(q){var r=this;if(q!==b){if(r._currentTag){r._currentTag.removeClass(k).removeAttr(f);r.input.removeAttr("aria-activedescendant")}if(q){q.addClass(k).attr(f,r._tagID);r.input.attr("aria-activedescendant",r._tagID)}r._currentTag=q}else{return r._currentTag}},dataItems:function(){return this.listView.selectedDataItems()},destroy:function(){var r=this,q=r.ns;clearTimeout(r._busy);clearTimeout(r._typingTimeout);r.wrapper.off(q);r.tagList.off(q);r.input.off(q);V.fn.destroy.call(r)},_activateItem:function(){V.fn._activateItem.call(this);this.currentTag(null)},_normalizeOptions:function(r){var q=this.options.itemTemplate||this.options.template;var s=r.itemTemplate||q||r.template;if(!s){s="#:"+P.expr(r.dataTextField,"data")+"#"}r.template=s},_initList:function(){var s=this;var q=s.options.virtual;var u=!!q;var t=p(s._listBound,s);var r={autoBind:false,selectable:"multiple",dataSource:s.dataSource,click:p(s._click,s),change:p(s._listChange,s),activate:p(s._activateItem,s),deactivate:p(s._deactivateItem,s),dataBinding:function(){s.trigger("dataBinding");s._angularItems("cleanup")},dataBound:t,listBound:t,selectedItemChange:p(s._selectedItemChange,s)};r=Z.extend(s._listOptions(),r,typeof q==="object"?q:{});s._normalizeOptions(r);if(!u){s.listView=new P.ui.StaticList(s.ul,r)}else{s.listView=new P.ui.VirtualList(s.ul,r)}s.listView.value(s._initialValues||s.options.value)},_listChange:function(q){if(this._state===l){this._state="";q.added=[]}this._selectValue(q.added,q.removed)},_selectedItemChange:function(r){var t=r.items;var q;var s;for(s=0;s<t.length;s++){q=t[s];this.tagList.children().eq(q.index).children("span:first").html(this.tagTextTemplate(q.item))}},_wrapperMousedown:function(r){var s=this;var q=r.target.nodeName.toLowerCase()!=="input";var u=Z(r.target);var t=u.hasClass("k-select")||u.hasClass("k-icon");if(t){t=!u.closest(".k-select").children(".k-i-arrow-s").length}if(q&&!(t&&P.support.mobileOS)){r.preventDefault()}if(!t){if(s.input[0]!==U()&&q){s.input.focus()}if(s.options.minLength===0){s.open()}}},_inputFocus:function(){this._placeholder(false);this.wrapper.addClass(k)},_inputFocusout:function(){var q=this;clearTimeout(q._typingTimeout);q.wrapper.removeClass(k);q._placeholder(!q.listView.selectedDataItems()[0],true);q.close();if(q._state===g){q._state=a;q.listView.filter(false);q.listView.skipUpdate(true)}q.element.blur()},_removeTag:function(q){var v=this;var u=v._state;var w=q.index();var r=v.listView;var t=r.value()[w];var s=v._customOptions[t];var x;if(s===b&&(u===a||u===g)){s=v._optionsMap[t]}if(s!==b){x=v.element[0].children[s];x.removeAttribute("selected");x.selected=false;r.removeAt(w);q.remove()}else{r.select(r.select()[w])}v.currentTag(null);v._change();v._close()},_tagListClick:function(q){var r=Z(q.currentTarget);if(!r.children(".k-i-arrow-s").length){this._removeTag(r.closest(e))}},_editable:function(t){var r=this,s=t.disable,v=t.readonly,q=r.wrapper.off(D),w=r.tagList.off(D),u=r.element.add(r.input.off(D));if(!v&&!s){q.removeClass(T).on(A,r._toggleHover).on("mousedown"+D+" touchend"+D,p(r._wrapperMousedown,r));r.input.on(B,p(r._keydown,r)).on("paste"+D,p(r._search,r)).on("focus"+D,p(r._inputFocus,r)).on("focusout"+D,p(r._inputFocusout,r));u.removeAttr(I).removeAttr(H).attr(Q,false).attr(j,false);w.on(W,e,function(){Z(this).addClass(E)}).on(d,e,function(){Z(this).removeClass(E)}).on(R,"li.k-button .k-select",p(r._tagListClick,r))}else{if(s){q.addClass(T)}else{q.removeClass(T)}u.attr(I,s).attr(H,v).attr(Q,s).attr(j,v)}},_close:function(){var q=this;if(q.options.autoClose){q.close()}else{q.popup.position()}},close:function(){this.popup.close()},open:function(){var q=this;if(q._request){q._retrieveData=false}if(q._retrieveData||!q.listView.isBound()||q._state===a){q._open=true;q._state=l;q._retrieveData=false;q.listView.filter(false);q.listView.skipUpdate(true);q._filterSource()}else{if(q._allowSelection()){q.popup.open();q._focusItem()}}},toggle:function(q){q=q!==b?q:!this.popup.visible();this[q?L:M]()},refresh:function(){this.listView.refresh()},_listBound:function(r){var s=this;var u=s.dataSource.flatView();var t=s.dataSource.page();var q=u.length;s._angularItems("compile");s._render(u);s._calculateGroupPadding(s._height(q));if(s._open){s._open=false;s.toggle(q)}s.popup.position();if(s.options.highlightFirst&&(t===b||t===1)){s.listView.first()}if(s._touchScroller){s._touchScroller.reset()}s._hideBusy();s._makeUnselectable();s.trigger("dataBound")},search:function(x){var w=this;var v=w.options;var s=v.ignoreCase;var t=v.filter;var r=v.dataTextField;var q=w.input.val();var y;var u;if(v.placeholder===q){q=""}clearTimeout(w._typingTimeout);x=typeof x==="string"?x:q;u=x.length;if(!u||u>=v.minLength){w.listView.filter(true);w._state=g;w._open=true;y={value:s?x.toLowerCase():x,field:r,operator:t,ignoreCase:s};w._filterSource(y,w._retrieveData);w._retrieveData=false}},value:function(t){var s=this;var r=s.listView.value().slice();var q=s.options.maxSelectedItems;var u;if(t===b){return r}t=s._normalizeValues(t);if(q!==null&&t.length>q){t=t.slice(0,q)}s.listView.value(t);s._old=t;s._fetchData()},_setOption:function(r,s){var q=this.element[0].children[this._optionsMap[r]];if(q){if(s){q.setAttribute("selected","selected")}else{q.removeAttribute("selected")}q.selected=s}},_fetchData:function(){var q=this;var r=!!q.dataSource.view().length;var s=q.listView.value().length===0;if(s||q._request){return}if(!q._fetch&&!r){q._fetch=true;q.dataSource.fetch().done(function(){q._fetch=false})}},_dataSource:function(){var q=this,t=q.element,s=q.options,r=s.dataSource||{};r=o(r)?{data:r}:r;r.select=t;r.fields=[{field:s.dataTextField},{field:s.dataValueField}];if(q.dataSource&&q._refreshHandler){q._unbindDataSource()}else{q._progressHandler=p(q._showBusy,q)}q.dataSource=P.data.DataSource.create(r).bind(K,q._progressHandler)},_reset:function(){var s=this,t=s.element,r=t.attr("form"),q=r?Z("#"+r):t.closest("form");if(q[0]){s._resetHandler=function(){setTimeout(function(){s.value(s._initialValues);s._placeholder()})};s._form=q.on("reset",s._resetHandler)}},_initValue:function(){var q=this.options.value||this.element.val();this._old=this._initialValues=this._normalizeValues(q)},_normalizeValues:function(r){var q=this;if(r===null){r=[]}else{if(r&&Z.isPlainObject(r)){r=[q._value(r)]}else{if(r&&Z.isPlainObject(r[0])){r=Z.map(r,function(s){return q._value(s)})}else{if(!o(r)&&!(r instanceof N)){r=[r]}}}}return r},_change:function(){var q=this,r=q.value();if(!X(r,q._old)){q._old=r.slice();q.trigger(c);q.element.trigger(c)}},_click:function(q){var r=q.item;if(this.trigger(J,{item:r})){this._close();return}this._select(r);this._change();this._close()},_keydown:function(q){var u=this;var w=q.keyCode;var v=u._currentTag;var r=u.listView.focus();var x=u.input.val();var t=P.support.isRtl(u.wrapper);var s=u.popup.visible();if(w===O.DOWN){q.preventDefault();if(!s){u.open();if(!r){this.listView.first()}return}if(r){this.listView.next();if(!this.listView.focus()){this.listView.last()}}else{this.listView.first()}}else{if(w===O.UP){if(s){if(r){this.listView.prev()}if(!this.listView.focus()){u.close()}}q.preventDefault()}else{if((w===O.LEFT&&!t)||(w===O.RIGHT&&t)){if(!x){v=v?v.prev():Z(u.tagList[0].lastChild);if(v[0]){u.currentTag(v)}}}else{if((w===O.RIGHT&&!t)||(w===O.LEFT&&t)){if(!x&&v){v=v.next();u.currentTag(v[0]?v:null)}}else{if(w===O.ENTER&&s){if(r){if(u.trigger(J,{item:r})){u._close();return}u._select(r)}u._change();u._close();q.preventDefault()}else{if(w===O.ESC){if(s){q.preventDefault()}else{u.currentTag(null)}u.close()}else{if(w===O.HOME){if(s){this.listView.first()}else{if(!x){v=u.tagList[0].firstChild;if(v){u.currentTag(Z(v))}}}}else{if(w===O.END){if(s){this.listView.last()}else{if(!x){v=u.tagList[0].lastChild;if(v){u.currentTag(Z(v))}}}}else{if((w===O.DELETE||w===O.BACKSPACE)&&!x){if(w===O.BACKSPACE&&!v){v=Z(u.tagList[0].lastChild)}if(v&&v[0]){u._removeTag(v)}}else{clearTimeout(u._typingTimeout);setTimeout(function(){u._scale()});u._search()}}}}}}}}}},_hideBusy:function(){var q=this;clearTimeout(q._busy);q.input.attr("aria-busy",false);q._loading.addClass(m);q._request=false;q._busy=null},_showBusyHandler:function(){this.input.attr("aria-busy",true);this._loading.removeClass(m)},_showBusy:function(){var q=this;q._request=true;if(q._busy){return}q._busy=setTimeout(p(q._showBusyHandler,q),100)},_placeholder:function(r,q){var u=this,t=u.input,s=U();if(r===b){r=false;if(t[0]!==s){r=!u.listView.selectedDataItems()[0]}}u._prev="";t.toggleClass("k-readonly",r).val(r?u.options.placeholder:"");if(t[0]===s&&!q){P.caret(t[0],0,0)}u._scale()},_scale:function(){var s=this,r=s.wrapper,t=r.width(),u=s._span.text(s.input.val()),q;if(!r.is(":visible")){u.appendTo(document.documentElement);t=q=u.width()+25;u.appendTo(r)}else{q=u.width()+25}s.input.width(q>t?t:q)},_option:function(s,r,t){var q="<option";if(s!==b){s+="";if(s.indexOf('"')!==-1){s=s.replace(G,"&quot;")}q+=' value="'+s+'"'}if(t){q+=" selected"}q+=">";if(r!==b){q+=P.htmlEncode(r)}return q+="</option>"},_render:function(q){var z=this.listView.selectedDataItems();var w=this.listView.value();var t=q.length;var u;var v="";var Aa;var r;var s;if(w.length!==z.length){z=this._buildSelectedItems(w)}var x={};var y={};for(s=0;s<t;s++){Aa=q[s];r=this._value(Aa);u=this._selectedItemIndex(r,z);if(u!==-1){z.splice(u,1)}y[r]=s;v+=this._option(r,this._text(Aa),u!==-1)}if(z.length){for(s=0;s<z.length;s++){Aa=z[s];r=this._value(Aa);x[r]=t;y[r]=t;t+=1;v+=this._option(r,this._text(Aa),true)}}this._customOptions=x;this._optionsMap=y;this.element.html(v)},_buildSelectedItems:function(v){var r=this.options.dataValueField;var t=this.options.dataTextField;var q=[];var s;for(var u=0;u<v.length;u++){s={};s[r]=v[u];s[t]=v[u];q.push(s)}return q},_selectedItemIndex:function(s,q){var t=this._value;var r=0;for(;r<q.length;r++){if(s===t(q[r])){return r}}return -1},_search:function(){var q=this;q._typingTimeout=setTimeout(function(){var r=q.input.val();if(q._prev!==r){q._prev=r;q.search(r)}},q.options.delay)},_allowSelection:function(){var q=this.options.maxSelectedItems;return q===null||q>this.listView.value().length},_angularTagItems:function(r){var q=this;q.angular(r,function(){return{elements:q.tagList[0].children,data:Z.map(q.dataItems(),function(s){return{dataItem:s}})}})},_selectValue:function(z,q){var w=this;var y=w.value();var x=w.dataSource.total();var r=w.tagList;var v=w._value;var s;var t;var u;w._angularTagItems("cleanup");if(w.options.tagMode==="multiple"){for(u=q.length-1;u>-1;u--){s=q[u];r[0].removeChild(r[0].children[s.position]);w._setOption(v(s.dataItem),false)}for(u=0;u<z.length;u++){t=z[u];r.append(w.tagTemplate(t.dataItem));w._setOption(v(t.dataItem),true)}}else{if(!w._maxTotal||w._maxTotal<x){w._maxTotal=x}r.html("");if(y.length){r.append(w.tagTemplate({values:y,dataItems:w.dataItems(),maxTotal:w._maxTotal,currentTotal:x}))}}w._angularTagItems("compile");w._placeholder()},_select:function(q){var r=this;var s;if(r._state===l){r._state=""}if(!r._allowSelection()){return}this.listView.select(q);r._placeholder();if(r._state===g){r._state=a;r.listView.filter(false);r.listView.skipUpdate(true)}},_input:function(){var r=this,q=r.element[0].accessKey,s=r._innerWrapper.children("input.k-input");if(!s[0]){s=Z('<input class="k-input" style="width: 25px" />').appendTo(r._innerWrapper)}r.element.removeAttr("accesskey");r._focused=r.input=s.attr({"accesskey":q,"autocomplete":"off","role":"listbox","aria-expanded":false})},_tagList:function(){var q=this,r=q._innerWrapper.children("ul");if(!r[0]){r=Z('<ul role="listbox" unselectable="on" class="k-reset"/>').appendTo(q._innerWrapper)}q.tagList=r},_tagTemplate:function(){var r=this;var t=r.options;var u=t.tagTemplate;var q=t.dataSource;var s=t.tagMode==="multiple";var v;if(r.element[0].length&&!q){t.dataTextField=t.dataTextField||"text";t.dataValueField=t.dataValueField||"value"}v=s?P.template("#:"+P.expr(t.dataTextField,"data")+"#",{useWithBlock:false}):P.template("#:values.length# item(s) selected");r.tagTextTemplate=u=u?P.template(u):v;r.tagTemplate=function(w){return'<li class="k-button" unselectable="on"><span unselectable="on">'+u(w)+'</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon '+(s?"k-i-close":"k-i-arrow-s")+'">'+(s?"delete":"open")+"</span></span></li>"}},_loader:function(){this._loading=Z('<span class="k-icon k-loading '+m+'"></span>').insertAfter(this.input)},_textContainer:function(){var q=P.getComputedStyles(this.input[0],C);q.position="absolute";q.visibility="hidden";q.top=-3333;q.left=-3333;this._span=Z("<span/>").css(q).appendTo(this.wrapper)},_wrapper:function(){var r=this,s=r.element,q=s.parent("span.k-multiselect");if(!q[0]){q=s.wrap('<div class="k-widget k-multiselect k-header" unselectable="on" />').parent();q[0].style.cssText=s[0].style.cssText;q[0].title=s[0].title;Z('<div class="k-multiselect-wrap k-floatwrap" unselectable="on" />').insertBefore(s)}r.wrapper=q.addClass(s[0].className).css("display","");r._innerWrapper=Z(q[0].firstChild)}});function X(s,r){var q;if((s===null&&r!==null)||(s!==null&&r===null)){return false}q=s.length;if(q!==r.length){return false}while(q--){if(s[q]!==r[q]){return false}}return true}h.plugin(Y)})(window.kendo.jQuery);(function(c,d){var T=window.kendo,P=T.ui.Widget,U=T.ui.Draggable,x=c.extend,O=T.format,A=T.parseFloat,Ab=c.proxy,u=c.isArray,h=Math,B=T.support,M=B.pointers,Z=B.msPointers,f="change",N="slide",y=".slider",k="touchstart"+y+" mousedown"+y,t=M?"pointerdown"+y:(Z?"MSPointerDown"+y:k),n="touchend"+y+" mouseup"+y,L=M?"pointerup":(Z?"MSPointerUp"+y:n),s="moveSelection",r="keydown"+y,V="click"+y,D="mouseover"+y,I="focus"+y,H="blur"+y,j=".k-draghandle",Aa=".k-slider-track",b=".k-tick",q="k-state-selected",S="k-state-focused",g="k-state-default",G="k-state-disabled",X=3,K="disabled",e="undefined",W="tabindex",o=T.getTouches;var Y=P.extend({init:function(Af,Ad){var Ac=this;P.fn.init.call(Ac,Af,Ad);Ad=Ac.options;Ac._distance=a(Ad.max-Ad.min);Ac._isHorizontal=Ad.orientation=="horizontal";Ac._isRtl=Ac._isHorizontal&&T.support.isRtl(Af);Ac._position=Ac._isHorizontal?"left":"bottom";Ac._sizeFn=Ac._isHorizontal?"width":"height";Ac._outerSize=Ac._isHorizontal?"outerWidth":"outerHeight";Ad.tooltip.format=Ad.tooltip.enabled?Ad.tooltip.format||"{0}":"{0}";Ac._createHtml();Ac.wrapper=Ac.element.closest(".k-slider");Ac._trackDiv=Ac.wrapper.find(Aa);Ac._setTrackDivWidth();Ac._maxSelection=Ac._trackDiv[Ac._sizeFn]();Ac._sliderItemsInit();Ac._reset();Ac._tabindex(Ac.wrapper.find(j));Ac[Ad.enabled?"enable":"disable"]();var Ae=T.support.isRtl(Ac.wrapper)?-1:1;Ac._keyMap={37:l(-1*Ae*Ad.smallStep),40:l(-Ad.smallStep),39:l(+1*Ae*Ad.smallStep),38:l(+Ad.smallStep),35:m(Ad.max),36:m(Ad.min),33:l(+Ad.largeStep),34:l(-Ad.largeStep)};T.notify(Ac)},events:[f,N],options:{enabled:true,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:true,format:"{0}"}},_resize:function(){this._setTrackDivWidth();this.wrapper.find(".k-slider-items").remove();this._maxSelection=this._trackDiv[this._sizeFn]();this._sliderItemsInit();this._refresh()},_sliderItemsInit:function(){var Ad=this,Ae=Ad.options;var Af=Ad._maxSelection/((Ae.max-Ae.min)/Ae.smallStep);var Ac=Ad._calculateItemsWidth(h.floor(Ad._distance/Ae.smallStep));if(Ae.tickPlacement!="none"&&Af>=2){Ad._trackDiv.before(E(Ae,Ad._distance));Ad._setItemsWidth(Ac);Ad._setItemsTitle()}Ad._calculateSteps(Ac);if(Ae.tickPlacement!="none"&&Af>=2&&Ae.largeStep>=Ae.smallStep){Ad._setItemsLargeTick()}},getSize:function(){return T.dimensions(this.wrapper)},_setTrackDivWidth:function(){var Ac=this,Ad=parseFloat(Ac._trackDiv.css(Ac._isRtl?"right":Ac._position),10)*2;Ac._trackDiv[Ac._sizeFn]((Ac.wrapper[Ac._sizeFn]()-2)-Ad)},_setItemsWidth:function(Ae){var Ai=this,Ah=Ai.options,Ad=0,Ag=Ae.length-1,Al=Ai.wrapper.find(b),Af,Ac=0,Am=2,Aj=Al.length,Ak=0;for(Af=0;Af<Aj-2;Af++){c(Al[Af+1])[Ai._sizeFn](Ae[Af])}if(Ai._isHorizontal){c(Al[Ad]).addClass("k-first")[Ai._sizeFn](Ae[Ag-1]);c(Al[Ag]).addClass("k-last")[Ai._sizeFn](Ae[Ag])}else{c(Al[Ag]).addClass("k-first")[Ai._sizeFn](Ae[Ag]);c(Al[Ad]).addClass("k-last")[Ai._sizeFn](Ae[Ag-1])}if(Ai._distance%Ah.smallStep!==0&&!Ai._isHorizontal){for(Af=0;Af<Ae.length;Af++){Ak+=Ae[Af]}Ac=Ai._maxSelection-Ak;Ac+=parseFloat(Ai._trackDiv.css(Ai._position),10)+Am;Ai.wrapper.find(".k-slider-items").css("padding-top",Ac)}},_setItemsTitle:function(){var Ag=this,Ah=Ag.options,Ai=Ag.wrapper.find(b),Ae=Ah.min,Ad=Ai.length,Af=Ag._isHorizontal&&!Ag._isRtl?0:Ad-1,Ac=Ag._isHorizontal&&!Ag._isRtl?Ad:-1,Aj=Ag._isHorizontal&&!Ag._isRtl?1:-1;for(;Af-Ac!==0;Af+=Aj){c(Ai[Af]).attr("title",O(Ah.tooltip.format,a(Ae)));Ae+=Ah.smallStep}},_setItemsLargeTick:function(){var Ae=this,Ag=Ae.options,Ai=Ae.wrapper.find(b),Ad=0,Af,Ac;if(p(Ag.largeStep)%p(Ag.smallStep)===0||Ae._distance/Ag.largeStep>=3){if(!Ae._isHorizontal&&!Ae._isRtl){Ai=c.makeArray(Ai).reverse()}for(Ad=0;Ad<Ai.length;Ad++){Af=c(Ai[Ad]);Ac=Ae._values[Ad];var Ah=a(p(Ac-this.options.min));if(Ah%p(Ag.smallStep)===0&&Ah%p(Ag.largeStep)===0){Af.addClass("k-tick-large").html("<span class='k-label'>"+Af.attr("title")+"</span>");if(Ad!==0&&Ad!==Ai.length-1){Af.css("line-height",Af[Ae._sizeFn]()+"px")}}}}},_calculateItemsWidth:function(Ac){var Ag=this,Ah=Ag.options,Af=parseFloat(Ag._trackDiv.css(Ag._sizeFn))+1,Ad=Af/Ag._distance,Aj,Ae,Ai;if((Ag._distance/Ah.smallStep)-h.floor(Ag._distance/Ah.smallStep)>0){Af-=((Ag._distance%Ah.smallStep)*Ad)}Aj=Af/Ac;Ae=[];for(Ai=0;Ai<Ac-1;Ai++){Ae[Ai]=Aj}Ae[Ac-1]=Ae[Ac]=Aj/2;return Ag._roundWidths(Ae)},_roundWidths:function(Ae){var Af=0,Ad=Ae.length,Ac;for(Ac=0;Ac<Ad;Ac++){Af+=(Ae[Ac]-h.floor(Ae[Ac]));Ae[Ac]=h.floor(Ae[Ac])}Af=h.round(Af);return this._addAdditionalSize(Af,Ae)},_addAdditionalSize:function(Af,Ae){if(Af===0){return Ae}var Ac=parseFloat(Ae.length-1)/parseFloat(Af==1?Af:Af-1),Ad;for(Ad=0;Ad<Af;Ad++){Ae[parseInt(h.round(Ac*Ad),10)]+=1}return Ae},_calculateSteps:function(Ae){var Ag=this,Ah=Ag.options,Af=Ah.min,Aj=0,Ad=h.ceil(Ag._distance/Ah.smallStep),Ai=1,Ac;Ad+=(Ag._distance/Ah.smallStep)%1===0?1:0;Ae.splice(0,0,Ae[Ad-2]*2);Ae.splice(Ad-1,1,Ae.pop()*2);Ag._pixelSteps=[Aj];Ag._values=[Af];if(Ad===0){return}while(Ai<Ad){Aj+=(Ae[Ai-1]+Ae[Ai])/2;Ag._pixelSteps[Ai]=Aj;Af+=Ah.smallStep;Ag._values[Ai]=a(Af);Ai++}Ac=Ag._distance%Ah.smallStep===0?Ad-1:Ad;Ag._pixelSteps[Ac]=Ag._maxSelection;Ag._values[Ac]=Ah.max;if(Ag._isRtl){Ag._pixelSteps.reverse();Ag._values.reverse()}},_getValueFromPosition:function(Ai,Ae){var Ah=this,Af=Ah.options,Ac=h.max(Af.smallStep*(Ah._maxSelection/Ah._distance),0),Ag=0,Ad=(Ac/2),Aj;if(Ah._isHorizontal){Ag=Ai-Ae.startPoint;if(Ah._isRtl){Ag=Ah._maxSelection-Ag}}else{Ag=Ae.startPoint-Ai}if(Ah._maxSelection-((parseInt(Ah._maxSelection%Ac,10)-3)/2)<Ag){return Af.max}for(Aj=0;Aj<Ah._pixelSteps.length;Aj++){if(h.abs(Ah._pixelSteps[Aj]-Ag)-1<=Ad){return a(Ah._values[Aj])}}},_getFormattedValue:function(Ad,Aj){var Ae=this,Ai="",Ah=Ae.options.tooltip,Ac,Ag,Af;if(u(Ad)){Ag=Ad[0];Af=Ad[1]}else{if(Aj&&Aj.type){Ag=Aj.selectionStart;Af=Aj.selectionEnd}}if(Aj){Ac=Aj.tooltipTemplate}if(!Ac&&Ah.template){Ac=T.template(Ah.template)}if(u(Ad)||(Aj&&Aj.type)){if(Ac){Ai=Ac({selectionStart:Ag,selectionEnd:Af})}else{Ag=O(Ah.format,Ag);Af=O(Ah.format,Af);Ai=Ag+" - "+Af}}else{if(Aj){Aj.val=Ad}if(Ac){Ai=Ac({value:Ad})}else{Ai=O(Ah.format,Ad)}}return Ai},_getDraggableArea:function(){var Ad=this,Ac=T.getOffset(Ad._trackDiv);return{startPoint:Ad._isHorizontal?Ac.left:Ac.top+Ad._maxSelection,endPoint:Ad._isHorizontal?Ac.left+Ad._maxSelection:Ac.top}},_createHtml:function(){var Ad=this,Af=Ad.element,Ae=Ad.options,Ac=Af.find("input");if(Ac.length==2){Ac.eq(0).prop("value",Q(Ae.selectionStart));Ac.eq(1).prop("value",Q(Ae.selectionEnd))}else{Af.prop("value",Q(Ae.value))}Af.wrap(w(Ae,Af,Ad._isHorizontal)).hide();if(Ae.showButtons){Af.before(C(Ae,"increase",Ad._isHorizontal)).before(C(Ae,"decrease",Ad._isHorizontal))}Af.before(v(Ae,Af))},_focus:function(Ad){var Ae=this,Af=Ad.target,Ag=Ae.value(),Ac=Ae._drag;if(!Ac){if(Af==Ae.wrapper.find(j).eq(0)[0]){Ac=Ae._firstHandleDrag;Ae._activeHandle=0}else{Ac=Ae._lastHandleDrag;Ae._activeHandle=1}Ag=Ag[Ae._activeHandle]}c(Af).addClass(S+" "+q);if(Ac){Ae._activeHandleDrag=Ac;Ac.selectionStart=Ae.options.selectionStart;Ac.selectionEnd=Ae.options.selectionEnd;Ac._updateTooltip(Ag)}},_focusWithMouse:function(Ae){Ae=c(Ae);var Ac=this,Ad=Ae.is(j)?Ae.index():0;window.setTimeout(function(){Ac.wrapper.find(j)[Ad==2?1:0].focus()},1);Ac._setTooltipTimeout()},_blur:function(Ad){var Ae=this,Ac=Ae._activeHandleDrag;c(Ad.target).removeClass(S+" "+q);if(Ac){Ac._removeTooltip();delete Ae._activeHandleDrag;delete Ae._activeHandle}},_setTooltipTimeout:function(){var Ac=this;Ac._tooltipTimeout=window.setTimeout(function(){var Ad=Ac._drag||Ac._activeHandleDrag;if(Ad){Ad._removeTooltip()}},300)},_clearTooltipTimeout:function(){var Ad=this;window.clearTimeout(this._tooltipTimeout);var Ac=Ad._drag||Ad._activeHandleDrag;if(Ac&&Ac.tooltipDiv){Ac.tooltipDiv.stop(true,false).css("opacity",1)}},_reset:function(){var Ae=this,Af=Ae.element,Ad=Af.attr("form"),Ac=Ad?c("#"+Ad):Af.closest("form");if(Ac[0]){Ae._form=Ac.on("reset",Ab(Ae._formResetHandler,Ae))}},destroy:function(){if(this._form){this._form.off("reset",this._formResetHandler)}P.fn.destroy.call(this)}});function w(Ah,Ai,Af){var Ad=Af?" k-slider-horizontal":" k-slider-vertical",Ac=Ah.style?Ah.style:Ai.attr("style"),Ae=Ai.attr("class")?(" "+Ai.attr("class")):"",Ag="";if(Ah.tickPlacement=="bottomRight"){Ag=" k-slider-bottomright"}else{if(Ah.tickPlacement=="topLeft"){Ag=" k-slider-topleft"}}Ac=Ac?" style='"+Ac+"'":"";return"<div class='k-widget k-slider"+Ad+Ae+"'"+Ac+"><div class='k-slider-wrap"+(Ah.showButtons?" k-slider-buttons":"")+Ag+"'></div></div>"}function C(Af,Ac,Ad){var Ae="";if(Ac=="increase"){Ae=Ad?"k-i-arrow-e":"k-i-arrow-n"}else{Ae=Ad?"k-i-arrow-w":"k-i-arrow-s"}return"<a class='k-button k-button-"+Ac+"'><span class='k-icon "+Ae+"' title='"+Af[Ac+"ButtonTitle"]+"'>"+Af[Ac+"ButtonTitle"]+"</span></a>"}function E(Af,Ag){var Ae="<ul class='k-reset k-slider-items'>",Ad=h.floor(a(Ag/Af.smallStep))+1,Ac;for(Ac=0;Ac<Ad;Ac++){Ae+="<li class='k-tick' role='presentation'>&nbsp;</li>"}Ae+="</ul>";return Ae}function v(Ad,Ae){var Af=Ae.is("input")?1:2,Ac=Af==2?Ad.leftDragHandleTitle:Ad.dragHandleTitle;return"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div><a href='#' class='k-draghandle' title='"+Ac+"' role='slider' aria-valuemin='"+Ad.min+"' aria-valuemax='"+Ad.max+"' aria-valuenow='"+(Af>1?(Ad.selectionStart||Ad.min):Ad.value||Ad.min)+"'>Drag</a>"+(Af>1?"<a href='#' class='k-draghandle' title='"+Ad.rightDragHandleTitle+"'role='slider' aria-valuemin='"+Ad.min+"' aria-valuemax='"+Ad.max+"' aria-valuenow='"+(Ad.selectionEnd||Ad.max)+"'>Drag</a>":"")+"</div>"}function l(Ac){return function(Ad){return Ad+Ac}}function m(Ac){return function(){return Ac}}function Q(Ac){return(Ac+"").replace(".",T.cultures.current.numberFormat["."])}function a(Ad){Ad=parseFloat(Ad,10);var Ac=h.pow(10,X||0);return h.round(Ad*Ac)/Ac}function z(Ae,Ac){var Ad=A(Ae.getAttribute(Ac));if(Ad===null){Ad=d}return Ad}function F(Ac){return typeof Ac!==e}function p(Ac){return Ac*10000}var J=Y.extend({init:function(Af,Ae){var Ac=this,Ad;Af.type="text";Ae=x({},{value:z(Af,"value"),min:z(Af,"min"),max:z(Af,"max"),smallStep:z(Af,"step")},Ae);Af=c(Af);if(Ae&&Ae.enabled===d){Ae.enabled=!Af.is("[disabled]")}Y.fn.init.call(Ac,Af,Ae);Ae=Ac.options;if(!F(Ae.value)||Ae.value===null){Ae.value=Ae.min;Af.prop("value",Q(Ae.min))}Ae.value=h.max(h.min(Ae.value,Ae.max),Ae.min);Ad=Ac.wrapper.find(j);new J.Selection(Ad,Ac,Ae);Ac._drag=new J.Drag(Ad,"",Ac,Ae)},options:{name:"Slider",showButtons:true,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},value:null},enable:function(Ah){var Ad=this,Ae=Ad.options,Ag,Af;Ad.disable();if(Ah===false){return}Ad.wrapper.removeClass(G).addClass(g);Ad.wrapper.find("input").removeAttr(K);Ag=function(Ai){var Ak=o(Ai)[0];if(!Ak){return}var Aj=Ad._isHorizontal?Ak.location.pageX:Ak.location.pageY,Am=Ad._getDraggableArea(),Al=c(Ai.target);if(Al.hasClass("k-draghandle")){Al.addClass(S+" "+q);return}Ad._update(Ad._getValueFromPosition(Aj,Am));Ad._focusWithMouse(Ai.target);Ad._drag.dragstart(Ai);Ai.preventDefault()};Ad.wrapper.find(b+", "+Aa).on(t,Ag).end().on(t,function(){c(document.documentElement).one("selectstart",T.preventDefault)}).on(L,function(){Ad._drag._end()});Ad.wrapper.find(j).attr(W,0).on(n,function(){Ad._setTooltipTimeout()}).on(V,function(Ai){Ad._focusWithMouse(Ai.target);Ai.preventDefault()}).on(I,Ab(Ad._focus,Ad)).on(H,Ab(Ad._blur,Ad));Af=Ab(function(Ai){var Aj=Ad._nextValueByIndex(Ad._valueIndex+(Ai*1));Ad._setValueInRange(Aj);Ad._drag._updateTooltip(Aj)},Ad);if(Ae.showButtons){var Ac=Ab(function(Ai,Aj){this._clearTooltipTimeout();if(Ai.which===1||(B.touch&&Ai.which===0)){Af(Aj);this.timeout=setTimeout(Ab(function(){this.timer=setInterval(function(){Af(Aj)},60)},this),200)}},Ad);Ad.wrapper.find(".k-button").on(n,Ab(function(Ai){this._clearTimer();Ad._focusWithMouse(Ai.target)},Ad)).on(D,function(Ai){c(Ai.currentTarget).addClass("k-state-hover")}).on("mouseout"+y,Ab(function(Ai){c(Ai.currentTarget).removeClass("k-state-hover");this._clearTimer()},Ad)).eq(0).on(k,Ab(function(Ai){Ac(Ai,1)},Ad)).click(false).end().eq(1).on(k,Ab(function(Ai){Ac(Ai,-1)},Ad)).click(T.preventDefault)}Ad.wrapper.find(j).off(r,false).on(r,Ab(this._keydown,Ad));Ae.enabled=true},disable:function(){var Ac=this;Ac.wrapper.removeClass(g).addClass(G);c(Ac.element).prop(K,K);Ac.wrapper.find(".k-button").off(k).on(k,T.preventDefault).off(n).on(n,T.preventDefault).off("mouseleave"+y).on("mouseleave"+y,T.preventDefault).off(D).on(D,T.preventDefault);Ac.wrapper.find(b+", "+Aa).off(t).off(L);Ac.wrapper.find(j).attr(W,-1).off(n).off(r).off(V).off(I).off(H);Ac.options.enabled=false},_update:function(Ae){var Ad=this,Ac=Ad.value()!=Ae;Ad.value(Ae);if(Ac){Ad.trigger(f,{value:Ad.options.value})}},value:function(Ae){var Ac=this,Ad=Ac.options;Ae=a(Ae);if(isNaN(Ae)){return Ad.value}if(Ae>=Ad.min&&Ae<=Ad.max){if(Ad.value!=Ae){Ac.element.prop("value",Q(Ae));Ad.value=Ae;Ac._refreshAriaAttr(Ae);Ac._refresh()}}},_refresh:function(){this.trigger(s,{value:this.options.value})},_refreshAriaAttr:function(Af){var Ae=this,Ac=Ae._drag,Ad;if(Ac&&Ac._tooltipDiv){Ad=Ac._tooltipDiv.text()}else{Ad=Ae._getFormattedValue(Af,null)}this.wrapper.find(j).attr("aria-valuenow",Af).attr("aria-valuetext",Ad)},_clearTimer:function(){clearTimeout(this.timeout);clearInterval(this.timer)},_keydown:function(Ac){var Ad=this;if(Ac.keyCode in Ad._keyMap){Ad._clearTooltipTimeout();Ad._setValueInRange(Ad._keyMap[Ac.keyCode](Ad.options.value));Ad._drag._updateTooltip(Ad.value());Ac.preventDefault()}},_setValueInRange:function(Ae){var Ac=this,Ad=Ac.options;Ae=a(Ae);if(isNaN(Ae)){Ac._update(Ad.min);return}Ae=h.max(h.min(Ae,Ad.max),Ad.min);Ac._update(Ae)},_nextValueByIndex:function(Ad){var Ac=this._values.length;if(this._isRtl){Ad=Ac-1-Ad}return this._values[h.max(0,h.min(Ad,Ac-1))]},_formResetHandler:function(){var Ad=this,Ac=Ad.options.min;setTimeout(function(){var Ae=Ad.element[0].value;Ad.value(Ae===""||isNaN(Ae)?Ac:Ae)})},destroy:function(){var Ac=this;Y.fn.destroy.call(Ac);Ac.wrapper.off(y).find(".k-button").off(y).end().find(j).off(y).end().find(b+", "+Aa).off(y).end();Ac._drag.draggable.destroy();Ac._drag._removeTooltip(true)}});J.Selection=function(Ae,Ad,Af){function Ac(Al){var Ai=Al-Af.min,Ak=Ad._valueIndex=h.ceil(a(Ai/Af.smallStep)),Aj=parseInt(Ad._pixelSteps[Ak],10),Ag=Ad._trackDiv.find(".k-slider-selection"),Ah=parseInt(Ae[Ad._outerSize]()/2,10),Am=Ad._isRtl?2:0;Ag[Ad._sizeFn](Ad._isRtl?Ad._maxSelection-Aj:Aj);Ae.css(Ad._position,Aj-Ah-Am)}Ac(Af.value);Ad.bind([f,N,s],function(Ag){Ac(parseFloat(Ag.value,10))})};J.Drag=function(Af,Ac,Ag,Ae){var Ad=this;Ad.owner=Ag;Ad.options=Ae;Ad.element=Af;Ad.type=Ac;Ad.draggable=new U(Af,{distance:0,dragstart:Ab(Ad._dragstart,Ad),drag:Ab(Ad.drag,Ad),dragend:Ab(Ad.dragend,Ad),dragcancel:Ab(Ad.dragcancel,Ad)});Af.click(false)};J.Drag.prototype={dragstart:function(Ac){this.owner._activeDragHandle=this;this.draggable.userEvents.cancel();this.draggable.userEvents._start(Ac)},_dragstart:function(Ac){var Ad=this,Af=Ad.owner,Ae=Ad.options;if(!Ae.enabled){Ac.preventDefault();return}this.owner._activeDragHandle=this;Af.element.off(D);Af.wrapper.find("."+S).removeClass(S+" "+q);Ad.element.addClass(S+" "+q);c(document.documentElement).css("cursor","pointer");Ad.dragableArea=Af._getDraggableArea();Ad.step=h.max(Ae.smallStep*(Af._maxSelection/Af._distance),0);if(Ad.type){Ad.selectionStart=Ae.selectionStart;Ad.selectionEnd=Ae.selectionEnd;Af._setZIndex(Ad.type)}else{Ad.oldVal=Ad.val=Ae.value}Ad._removeTooltip(true);Ad._createTooltip()},_createTooltip:function(){var Ae=this,Ai=Ae.owner,Ah=Ae.options.tooltip,Ac="",Ag=c(window),Ad,Af;if(!Ah.enabled){return}if(Ah.template){Ad=Ae.tooltipTemplate=T.template(Ah.template)}c(".k-slider-tooltip").remove();Ae.tooltipDiv=c("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --></div>").appendTo(document.body);Ac=Ai._getFormattedValue(Ae.val||Ai.value(),Ae);if(!Ae.type){Af="k-callout-"+(Ai._isHorizontal?"s":"e");Ae.tooltipInnerDiv="<div class='k-callout "+Af+"'><!-- --></div>";Ac+=Ae.tooltipInnerDiv}Ae.tooltipDiv.html(Ac);Ae._scrollOffset={top:Ag.scrollTop(),left:Ag.scrollLeft()};Ae.moveTooltip()},drag:function(Ac){var Ag=this,Ad=Ag.owner,Ah=Ac.x.location,Ai=Ac.y.location,Af=Ag.dragableArea.startPoint,Ae=Ag.dragableArea.endPoint,Aj;Ac.preventDefault();if(Ad._isHorizontal){if(Ad._isRtl){Ag.val=Ag.constrainValue(Ah,Af,Ae,Ah<Ae)}else{Ag.val=Ag.constrainValue(Ah,Af,Ae,Ah>=Ae)}}else{Ag.val=Ag.constrainValue(Ai,Ae,Af,Ai<=Ae)}if(Ag.oldVal!=Ag.val){Ag.oldVal=Ag.val;if(Ag.type){if(Ag.type=="firstHandle"){if(Ag.val<Ag.selectionEnd){Ag.selectionStart=Ag.val}else{Ag.selectionStart=Ag.selectionEnd=Ag.val}}else{if(Ag.val>Ag.selectionStart){Ag.selectionEnd=Ag.val}else{Ag.selectionStart=Ag.selectionEnd=Ag.val}}Aj={values:[Ag.selectionStart,Ag.selectionEnd],value:[Ag.selectionStart,Ag.selectionEnd]}}else{Aj={value:Ag.val}}Ad.trigger(N,Aj)}Ag._updateTooltip(Ag.val)},_updateTooltip:function(Ag){var Ad=this,Ae=Ad.options,Af=Ae.tooltip,Ac="";if(!Af.enabled){return}if(!Ad.tooltipDiv){Ad._createTooltip()}Ac=Ad.owner._getFormattedValue(a(Ag),Ad);if(!Ad.type){Ac+=Ad.tooltipInnerDiv}Ad.tooltipDiv.html(Ac);Ad.moveTooltip()},dragcancel:function(){this.owner._refresh();c(document.documentElement).css("cursor","");return this._end()},dragend:function(){var Ac=this,Ad=Ac.owner;c(document.documentElement).css("cursor","");if(Ac.type){Ad._update(Ac.selectionStart,Ac.selectionEnd)}else{Ad._update(Ac.val);Ac.draggable.userEvents._disposeAll()}return Ac._end()},_end:function(){var Ac=this,Ad=Ac.owner;Ad._focusWithMouse(Ac.element);Ad.element.on(D);return false},_removeTooltip:function(Ac){var Ad=this,Ae=Ad.owner;if(Ad.tooltipDiv&&Ae.options.tooltip.enabled&&Ae.options.enabled){if(Ac){Ad.tooltipDiv.remove();Ad.tooltipDiv=null}else{Ad.tooltipDiv.fadeOut("slow",function(){c(this).remove();Ad.tooltipDiv=null})}}},moveTooltip:function(){var Aj=this,Ad=Aj.owner,Ah=0,Ai=0,Ag=Aj.element,Ae=T.getOffset(Ag),Ac=8,Am=c(window),Ak=Aj.tooltipDiv.find(".k-callout"),Af=Aj.tooltipDiv.outerWidth(),Aq=Aj.tooltipDiv.outerHeight(),Ap,Al,Ao,An;if(Aj.type){Ap=Ad.wrapper.find(j);Ae=T.getOffset(Ap.eq(0));Al=T.getOffset(Ap.eq(1));if(Ad._isHorizontal){Ah=Al.top;Ai=Ae.left+((Al.left-Ae.left)/2)}else{Ah=Ae.top+((Al.top-Ae.top)/2);Ai=Al.left}An=Ap.eq(0).outerWidth()+2*Ac}else{Ah=Ae.top;Ai=Ae.left;An=Ag.outerWidth()+2*Ac}if(Ad._isHorizontal){Ai-=parseInt((Af-Ag[Ad._outerSize]())/2,10);Ah-=Aq+Ak.height()+Ac}else{Ah-=parseInt((Aq-Ag[Ad._outerSize]())/2,10);Ai-=Af+Ak.width()+Ac}if(Ad._isHorizontal){Ao=Aj._flip(Ah,Aq,An,Am.outerHeight()+Aj._scrollOffset.top);Ah+=Ao;Ai+=Aj._fit(Ai,Af,Am.outerWidth()+Aj._scrollOffset.left)}else{Ao=Aj._flip(Ai,Af,An,Am.outerWidth()+Aj._scrollOffset.left);Ah+=Aj._fit(Ah,Aq,Am.outerHeight()+Aj._scrollOffset.top);Ai+=Ao}if(Ao>0&&Ak){Ak.removeClass();Ak.addClass("k-callout k-callout-"+(Ad._isHorizontal?"n":"w"))}Aj.tooltipDiv.css({top:Ah,left:Ai})},_fit:function(Ae,Ac,Ad){var Af=0;if(Ae+Ac>Ad){Af=Ad-(Ae+Ac)}if(Ae<0){Af=-Ae}return Af},_flip:function(Ad,Ac,Ae,Af){var Ag=0;if(Ad+Ac>Af){Ag+=-(Ae+Ac)}if(Ad+Ag<0){Ag+=Ae+Ac}return Ag},constrainValue:function(Af,Ac,Ah,Ad){var Ae=this,Ag=0;if(Ac<Af&&Af<Ah){Ag=Ae.owner._getValueFromPosition(Af,Ae.dragableArea)}else{if(Ad){Ag=Ae.options.max}else{Ag=Ae.options.min}}return Ag}};T.ui.plugin(J);var R=Y.extend({init:function(Ag,Ae){var Ad=this,Ac=c(Ag).find("input"),Af=Ac.eq(0)[0],Ai=Ac.eq(1)[0];Af.type="text";Ai.type="text";if(Ae&&Ae.showButtons){if(window.console){window.console.warn("showbuttons option is not supported for the range slider, ignoring")}Ae.showButtons=false}Ae=x({},{selectionStart:z(Af,"value"),min:z(Af,"min"),max:z(Af,"max"),smallStep:z(Af,"step")},{selectionEnd:z(Ai,"value"),min:z(Ai,"min"),max:z(Ai,"max"),smallStep:z(Ai,"step")},Ae);if(Ae&&Ae.enabled===d){Ae.enabled=!Ac.is("[disabled]")}Y.fn.init.call(Ad,Ag,Ae);Ae=Ad.options;if(!F(Ae.selectionStart)||Ae.selectionStart===null){Ae.selectionStart=Ae.min;Ac.eq(0).prop("value",Q(Ae.min))}if(!F(Ae.selectionEnd)||Ae.selectionEnd===null){Ae.selectionEnd=Ae.max;Ac.eq(1).prop("value",Q(Ae.max))}var Ah=Ad.wrapper.find(j);new R.Selection(Ah,Ad,Ae);Ad._firstHandleDrag=new J.Drag(Ah.eq(0),"firstHandle",Ad,Ae);Ad._lastHandleDrag=new J.Drag(Ah.eq(1),"lastHandle",Ad,Ae)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},selectionStart:null,selectionEnd:null},enable:function(Af){var Ac=this,Ad=Ac.options,Ae;Ac.disable();if(Af===false){return}Ac.wrapper.removeClass(G).addClass(g);Ac.wrapper.find("input").removeAttr(K);Ae=function(Ag){var Ah=o(Ag)[0];if(!Ah){return}var Am=Ac._isHorizontal?Ah.location.pageX:Ah.location.pageY,Aj=Ac._getDraggableArea(),Ai=Ac._getValueFromPosition(Am,Aj),Al=c(Ag.target),Ak,An,Ao;if(Al.hasClass("k-draghandle")){Ac.wrapper.find("."+S).removeClass(S+" "+q);Al.addClass(S+" "+q);return}if(Ai<Ad.selectionStart){Ak=Ai;An=Ad.selectionEnd;Ao=Ac._firstHandleDrag}else{if(Ai>Ac.selectionEnd){Ak=Ad.selectionStart;An=Ai;Ao=Ac._lastHandleDrag}else{if(Ai-Ad.selectionStart<=Ad.selectionEnd-Ai){Ak=Ai;An=Ad.selectionEnd;Ao=Ac._firstHandleDrag}else{Ak=Ad.selectionStart;An=Ai;Ao=Ac._lastHandleDrag}}}Ao.dragstart(Ag);Ac._setValueInRange(Ak,An);Ac._focusWithMouse(Ao.element)};Ac.wrapper.find(b+", "+Aa).on(t,Ae).end().on(t,function(){c(document.documentElement).one("selectstart",T.preventDefault)}).on(L,function(){if(Ac._activeDragHandle){Ac._activeDragHandle._end()}});Ac.wrapper.find(j).attr(W,0).on(n,function(){Ac._setTooltipTimeout()}).on(V,function(Ag){Ac._focusWithMouse(Ag.target);Ag.preventDefault()}).on(I,Ab(Ac._focus,Ac)).on(H,Ab(Ac._blur,Ac));Ac.wrapper.find(j).off(r,T.preventDefault).eq(0).on(r,Ab(function(Ag){this._keydown(Ag,"firstHandle")},Ac)).end().eq(1).on(r,Ab(function(Ag){this._keydown(Ag,"lastHandle")},Ac));Ac.options.enabled=true},disable:function(){var Ac=this;Ac.wrapper.removeClass(g).addClass(G);Ac.wrapper.find("input").prop(K,K);Ac.wrapper.find(b+", "+Aa).off(t).off(L);Ac.wrapper.find(j).attr(W,-1).off(n).off(r).off(V).off(I).off(H);Ac.options.enabled=false},_keydown:function(Ac,Ad){var Af=this,Ai=Af.options.selectionStart,Aj=Af.options.selectionEnd,Ag,Ae,Ah;if(Ac.keyCode in Af._keyMap){Af._clearTooltipTimeout();if(Ad=="firstHandle"){Ah=Af._activeHandleDrag=Af._firstHandleDrag;Ai=Af._keyMap[Ac.keyCode](Ai);if(Ai>Aj){Aj=Ai}}else{Ah=Af._activeHandleDrag=Af._lastHandleDrag;Aj=Af._keyMap[Ac.keyCode](Aj);if(Ai>Aj){Ai=Aj}}Af._setValueInRange(a(Ai),a(Aj));Ag=Math.max(Ai,Af.options.selectionStart);Ae=Math.min(Aj,Af.options.selectionEnd);Ah.selectionEnd=Math.max(Ae,Af.options.selectionStart);Ah.selectionStart=Math.min(Ag,Af.options.selectionEnd);Ah._updateTooltip(Af.value()[Af._activeHandle]);Ac.preventDefault()}},_update:function(Ad,Ae){var Ag=this,Af=Ag.value();var Ac=Af[0]!=Ad||Af[1]!=Ae;Ag.value([Ad,Ae]);if(Ac){Ag.trigger(f,{values:[Ad,Ae],value:[Ad,Ae]})}},value:function(Ac){if(Ac&&Ac.length){return this._value(Ac[0],Ac[1])}else{return this._value()}},_value:function(Ah,Ag){var Ad=this,Af=Ad.options,Ae=Af.selectionStart,Ac=Af.selectionEnd;if(isNaN(Ah)&&isNaN(Ag)){return[Ae,Ac]}else{Ah=a(Ah);Ag=a(Ag)}if(Ah>=Af.min&&Ah<=Af.max&&Ag>=Af.min&&Ag<=Af.max&&Ah<=Ag){if(Ae!=Ah||Ac!=Ag){Ad.element.find("input").eq(0).prop("value",Q(Ah)).end().eq(1).prop("value",Q(Ag));Af.selectionStart=Ah;Af.selectionEnd=Ag;Ad._refresh();Ad._refreshAriaAttr(Ah,Ag)}}},values:function(Ad,Ac){if(u(Ad)){return this._value(Ad[0],Ad[1])}else{return this._value(Ad,Ac)}},_refresh:function(){var Ac=this,Ad=Ac.options;Ac.trigger(s,{values:[Ad.selectionStart,Ad.selectionEnd],value:[Ad.selectionStart,Ad.selectionEnd]});if(Ad.selectionStart==Ad.max&&Ad.selectionEnd==Ad.max){Ac._setZIndex("firstHandle")}},_refreshAriaAttr:function(Ah,Ag){var Ae=this,Af=Ae.wrapper.find(j),Ac=Ae._activeHandleDrag,Ad;Ad=Ae._getFormattedValue([Ah,Ag],Ac);Af.eq(0).attr("aria-valuenow",Ah);Af.eq(1).attr("aria-valuenow",Ag);Af.attr("aria-valuetext",Ad)},_setValueInRange:function(Ac,Ae){var Ad=this.options;Ac=h.max(h.min(Ac,Ad.max),Ad.min);Ae=h.max(h.min(Ae,Ad.max),Ad.min);if(Ac==Ad.max&&Ae==Ad.max){this._setZIndex("firstHandle")}this._update(h.min(Ac,Ae),h.max(Ac,Ae))},_setZIndex:function(Ac){this.wrapper.find(j).each(function(Ad){c(this).css("z-index",Ac=="firstHandle"?1-Ad:Ad)})},_formResetHandler:function(){var Ac=this,Ad=Ac.options;setTimeout(function(){var Ae=Ac.element.find("input");var Ag=Ae[0].value;var Af=Ae[1].value;Ac.values(Ag===""||isNaN(Ag)?Ad.min:Ag,Af===""||isNaN(Af)?Ad.max:Af)})},destroy:function(){var Ac=this;Y.fn.destroy.call(Ac);Ac.wrapper.off(y).find(b+", "+Aa).off(y).end().find(j).off(y);Ac._firstHandleDrag.draggable.destroy();Ac._lastHandleDrag.draggable.destroy()}});R.Selection=function(Ad,Ag,Af){function Ae(Ak){Ak=Ak||[];var Ao=Ak[0]-Af.min,Ap=Ak[1]-Af.min,Am=h.ceil(a(Ao/Af.smallStep)),Ai=h.ceil(a(Ap/Af.smallStep)),An=Ag._pixelSteps[Am],Al=Ag._pixelSteps[Ai],Aj=parseInt(Ad.eq(0)[Ag._outerSize]()/2,10),Ah=Ag._isRtl?2:0;Ad.eq(0).css(Ag._position,An-Aj-Ah).end().eq(1).css(Ag._position,Al-Aj-Ah);Ac(An,Al)}function Ac(Aj,Ak){var Al,Ai,Ah=Ag._trackDiv.find(".k-slider-selection");Al=h.abs(Aj-Ak);Ah[Ag._sizeFn](Al);if(Ag._isRtl){Ai=h.max(Aj,Ak);Ah.css("right",Ag._maxSelection-Ai-1)}else{Ai=h.min(Aj,Ak);Ah.css(Ag._position,Ai-1)}}Ae(Ag.value());Ag.bind([f,N,s],function(Ah){Ae(Ah.values)})};T.ui.plugin(R)})(window.kendo.jQuery);(function(X,G,W){var J=window.kendo,B=J.ui,V=B.Widget,Q=J.parseColor,D=J.Color,T=J.keys,P="background-color",S="k-state-selected",Z="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",N="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",L={apply:"Apply",cancel:"Cancel"},M=".kendoColorTools",O="click"+M,Y="keydown"+M,A=J.support.browser,U=A.msie&&A.version<9;var K=V.extend({init:function(e,d){var c=this,b;V.fn.init.call(c,e,d);e=c.element;d=c.options;c._value=d.value=Q(d.value);c._tabIndex=e.attr("tabIndex")||0;b=c._ariaId=d.ariaId;if(b){e.attr("aria-labelledby",b)}if(d._standalone){c._triggerSelect=c._triggerChange}},options:{name:"ColorSelector",value:null,_standalone:true},events:["change","select","cancel"],color:function(b){if(b!==W){this._value=Q(b);this._updateUI(this._value)}return this._value},value:function(b){b=this.color(b);if(b){if(this.options.opacity){b=b.toCssRgba()}else{b=b.toCss()}}return b||null},enable:function(b){if(arguments.length===0){b=true}X(".k-disabled-overlay",this.wrapper).remove();if(!b){this.wrapper.append("<div class='k-disabled-overlay'></div>")}this._onEnable(b)},_select:function(d,c){var b=this._value;d=this.color(d);if(!c){this.element.trigger("change");if(!d.equals(b)){this.trigger("change",{value:this.value()})}else{if(!this._standalone){this.trigger("cancel")}}}},_triggerSelect:function(b){C(this,"select",b)},_triggerChange:function(b){C(this,"change",b)},destroy:function(){if(this.element){this.element.off(M)}if(this.wrapper){this.wrapper.off(M).find("*").off(M)}this.wrapper=null;V.fn.destroy.call(this)},_updateUI:X.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}});function C(c,b,d){d=Q(d);if(d&&!d.equals(c.color())){if(b=="change"){c._value=d}if(d.a!=1){d=d.toCssRgba()}else{d=d.toCss()}c.trigger(b,{value:d})}}var I=K.extend({init:function(g,e){var d=this;K.fn.init.call(d,g,e);g=d.wrapper=d.element;e=d.options;var h=e.palette;if(h=="websafe"){h=N;e.columns=18}else{if(h=="basic"){h=Z}}if(typeof h=="string"){h=h.split(",")}if(X.isArray(h)){h=X.map(h,function(j){return Q(j)})}d._selectedID=(e.ariaId||J.guid())+"_selected";g.addClass("k-widget k-colorpalette").attr("role","grid").attr("aria-readonly","true").append(X(d._template({colors:h,columns:e.columns,tileSize:e.tileSize,value:d._value,id:e.ariaId}))).on(O,".k-item",function(j){d._select(X(j.currentTarget).css(P))}).attr("tabIndex",d._tabIndex).on(Y,F(d._keydown,d));var c=e.tileSize,f,b;if(c){if(/number|string/.test(typeof c)){f=b=parseFloat(c)}else{if(typeof c=="object"){f=parseFloat(c.width);b=parseFloat(c.height)}else{throw new Error("Unsupported value for the 'tileSize' argument")}}g.find(".k-item").css({width:f,height:b})}},focus:function(){this.wrapper.focus()},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(b){if(b){this.wrapper.attr("tabIndex",this._tabIndex)}else{this.wrapper.removeAttr("tabIndex")}},_keydown:function(b){var f,k=this.wrapper,j=k.find(".k-item"),c=j.filter("."+S).get(0),h=b.keyCode;if(h==T.LEFT){f=H(j,c,-1)}else{if(h==T.RIGHT){f=H(j,c,1)}else{if(h==T.DOWN){f=H(j,c,this.options.columns)}else{if(h==T.UP){f=H(j,c,-this.options.columns)}else{if(h==T.ENTER){R(b);if(c){this._select(X(c).css(P))}}else{if(h==T.ESC){this._cancel()}}}}}}if(f){R(b);this._current(f);try{var d=Q(f.css(P));this._triggerSelect(d)}catch(g){}}},_current:function(b){this.wrapper.find("."+S).removeClass(S).attr("aria-selected",false).removeAttr("id");X(b).addClass(S).attr("aria-selected",true).attr("id",this._selectedID);this.element.removeAttr("aria-activedescendant").attr("aria-activedescendant",this._selectedID)},_updateUI:function(c){var b=null;this.wrapper.find(".k-item").each(function(){var d=Q(X(this).css(P));if(d&&d.equals(c)){b=this;return false}});this._current(b)},_template:J.template('<table class="k-palette k-reset" role="presentation"><tr role="row"># for (var i = 0; i < colors.length; ++i) { ## var selected = colors[i].equals(value); ## if (i && i % columns == 0) { # </tr><tr role="row"> # } #<td role="gridcell" unselectable="on" style="background-color:#= colors[i].toCss() #"#= selected ? " aria-selected=true" : "" # #=(id && i === 0) ? "id=\\""+id+"\\" " : "" # class="k-item#= selected ? " '+S+'" : "" #" aria-label="#= colors[i].toCss() #"></td># } #</tr></table>')});var a=K.extend({init:function(d,c){var b=this;K.fn.init.call(b,d,c);c=b.options;d=b.element;b.wrapper=d.addClass("k-widget k-flatcolorpicker").append(b._template(c));b._hueElements=X(".k-hsv-rectangle, .k-transparency-slider .k-slider-track",d);b._selectedColor=X(".k-selected-color-display",d);b._colorAsText=X("input.k-color-value",d);b._sliders();b._hsvArea();b._updateUI(b._value||Q("#f00"));d.find("input.k-color-value").on(Y,function(j){var g=this;if(j.keyCode==T.ENTER){try{var e=Q(g.value);var h=b.color();b._select(e,e.equals(h))}catch(f){X(g).addClass("k-state-error")}}else{if(b.options.autoupdate){setTimeout(function(){var k=Q(g.value,true);if(k){b._updateUI(k,true)}},10)}}}).end().on(O,".k-controls button.apply",function(){b._select(b._getHSV())}).on(O,".k-controls button.cancel",function(){b._updateUI(b.color());b._cancel()});if(U){b._applyIEFilter()}},destroy:function(){this._hueSlider.destroy();if(this._opacitySlider){this._opacitySlider.destroy()}this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null;K.fn.destroy.call(this)},options:{name:"FlatColorPicker",opacity:false,buttons:false,input:true,preview:true,autoupdate:true,messages:L},_applyIEFilter:function(){var c=this.element.find(".k-hue-slider .k-slider-track")[0],b=c.currentStyle.backgroundImage;b=b.replace(/^url\([\'\"]?|[\'\"]?\)$/g,"");c.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+b+"', sizingMethod='scale')"},_sliders:function(){var c=this,e=c.element;function b(f){c._updateUI(c._getHSV(f.value,null,null,null))}c._hueSlider=e.find(".k-hue-slider").kendoSlider({min:0,max:359,tickPlacement:"none",showButtons:false,slide:b,change:b}).data("kendoSlider");function d(f){c._updateUI(c._getHSV(null,null,null,f.value/100))}c._opacitySlider=e.find(".k-transparency-slider").kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:false,slide:d,change:d}).data("kendoSlider")},_hsvArea:function(){var d=this,f=d.element,b=f.find(".k-hsv-rectangle"),e=b.find(".k-draghandle").attr("tabIndex",0).on(Y,F(d._keydown,d));function c(l,m){var h=this.offset,k=l-h.left,j=m-h.top,n=this.width,g=this.height;k=k<0?0:k>n?n:k;j=j<0?0:j>g?g:j;d._svChange(k/n,1-j/g)}d._hsvEvents=new J.UserEvents(b,{global:true,press:function(g){this.offset=J.getOffset(b);this.width=b.width();this.height=b.height();e.focus();c.call(this,g.x.location,g.y.location)},start:function(){b.addClass("k-dragging");e.focus()},move:function(g){g.preventDefault();c.call(this,g.x.location,g.y.location)},end:function(){b.removeClass("k-dragging")}});d._hsvRect=b;d._hsvHandle=e},_onEnable:function(c){this._hueSlider.enable(c);if(this._opacitySlider){this._opacitySlider.enable(c)}this.wrapper.find("input").attr("disabled",!c);var b=this._hsvRect.find(".k-draghandle");if(c){b.attr("tabIndex",this._tabIndex)}else{b.removeAttr("tabIndex")}},_keydown:function(e){var c=this;function d(g,f){var h=c._getHSV();h[g]+=f*(e.shiftKey?0.01:0.05);if(h[g]<0){h[g]=0}if(h[g]>1){h[g]=1}c._updateUI(h);R(e)}function b(f){var g=c._getHSV();g.h+=f*(e.shiftKey?1:5);if(g.h<0){g.h=0}if(g.h>359){g.h=359}c._updateUI(g);R(e)}switch(e.keyCode){case T.LEFT:if(e.ctrlKey){b(-1)}else{d("s",-1)}break;case T.RIGHT:if(e.ctrlKey){b(1)}else{d("s",1)}break;case T.UP:d(e.ctrlKey&&c._opacitySlider?"a":"v",1);break;case T.DOWN:d(e.ctrlKey&&c._opacitySlider?"a":"v",-1);break;case T.ENTER:c._select(c._getHSV());break;case T.F2:c.wrapper.find("input.k-color-value").focus().select();break;case T.ESC:c._cancel();break}},focus:function(){this._hsvHandle.focus()},_getHSV:function(g,b,d,k){var f=this._hsvRect,j=f.width(),c=f.height(),e=this._hsvHandle.position();if(g==null){g=this._hueSlider.value()}if(b==null){b=e.left/j}if(d==null){d=1-e.top/c}if(k==null){k=this._opacitySlider?this._opacitySlider.value()/100:1}return D.fromHSV(g,b,d,k)},_svChange:function(b,c){var d=this._getHSV(null,b,c,null);this._updateUI(d)},_updateUI:function(e,b){var c=this,d=c._hsvRect;if(!e){return}this._colorAsText.removeClass("k-state-error");c._selectedColor.css(P,e.toDisplay());if(!b){c._colorAsText.val(c._opacitySlider?e.toCssRgba():e.toCss())}c._triggerSelect(e);e=e.toHSV();c._hsvHandle.css({left:e.s*d.width()+"px",top:(1-e.v)*d.height()+"px"});c._hueElements.css(P,D.fromHSV(e.h,1,1,1).toCss());c._hueSlider.value(e.h);if(c._opacitySlider){c._opacitySlider.value(100*e.a)}},_selectOnHide:function(){return this.options.buttons?null:this._getHSV()},_template:J.template('# if (preview) { #<div class="k-selected-color"><div class="k-selected-color-display"><input class="k-color-value" #= !data.input ? \'style="visibility: hidden;"\' : "" #></div></div># } #<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div><input class="k-hue-slider" /># if (opacity) { #<input class="k-transparency-slider" /># } ## if (buttons) { #<div unselectable="on" class="k-controls"><button class="k-button k-primary apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div># } #')});function H(b,f,c){b=Array.prototype.slice.call(b);var d=b.length;var e=b.indexOf(f);if(e<0){return c<0?b[d-1]:b[0]}e+=c;if(e<0){e+=d}else{e%=d}return b[e]}var E=V.extend({init:function(c,g){var f=this;V.fn.init.call(f,c,g);g=f.options;c=f.element;var d=c.attr("value")||c.val();if(d){d=Q(d,true)}else{d=Q(g.value,true)}f._value=g.value=d;var j=f.wrapper=X(f._template(g));c.hide().after(j);if(c.is("input")){c.appendTo(j);var e=c.closest("label");var h=c.attr("id");if(h){e=e.add('label[for="'+h+'"]')}e.click(function(k){f.open();k.preventDefault()})}f._tabIndex=c.attr("tabIndex")||0;f.enable(!c.attr("disabled"));var b=c.attr("accesskey");if(b){c.attr("accesskey",null);j.attr("accesskey",b)}f.bind("activate",function(k){if(!k.isDefaultPrevented()){f.toggle()}});f._updateUI(d)},destroy:function(){this.wrapper.off(M).find("*").off(M);if(this._popup){this._selector.destroy();this._popup.destroy()}this._selector=this._popup=this.wrapper=null;V.fn.destroy.call(this)},enable:function(f){var c=this,b=c.wrapper,e=b.children(".k-picker-wrap"),d=e.find(".k-select");if(arguments.length===0){f=true}c.element.attr("disabled",!f);b.attr("aria-disabled",!f);d.off(M).on("mousedown"+M,R);b.addClass("k-state-disabled").removeAttr("tabIndex").add("*",b).off(M);if(f){b.removeClass("k-state-disabled").attr("tabIndex",c._tabIndex).on("mouseenter"+M,function(){e.addClass("k-state-hover")}).on("mouseleave"+M,function(){e.removeClass("k-state-hover")}).on("focus"+M,function(){e.addClass("k-state-focused")}).on("blur"+M,function(){e.removeClass("k-state-focused")}).on(Y,F(c._keydown,c)).on(O,".k-icon",F(c.toggle,c)).on(O,c.options.toolIcon?".k-tool-icon":".k-selected-color",function(){c.trigger("activate")})}},_template:J.template('<span role="textbox" aria-haspopup="true" class="k-widget k-colorpicker k-header"><span class="k-picker-wrap k-state-default"># if (toolIcon) { #<span class="k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"></span># } #<span class="k-select" unselectable="on"><span class="k-icon k-i-arrow-s" unselectable="on"></span></span></span></span>'),options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:L,opacity:false,buttons:true,preview:true,ARIATemplate:'Current selected color is #=data || ""#'},events:["activate","change","select","open","close"],open:function(){this._getPopup().open()},close:function(){this._getPopup().close()},toggle:function(){this._getPopup().toggle()},color:K.fn.color,value:K.fn.value,_select:K.fn._select,_triggerSelect:K.fn._triggerSelect,_isInputTypeColor:function(){var b=this.element[0];return(/^input$/i).test(b.tagName)&&(/^color$/i).test(b.type)},_updateUI:function(c){var b="";if(c){if(this._isInputTypeColor()||c.a==1){b=c.toCss()}else{b=c.toCssRgba()}this.element.val(b)}if(!this._ariaTemplate){this._ariaTemplate=J.template(this.options.ARIATemplate)}this.wrapper.attr("aria-label",this._ariaTemplate(b));this._triggerSelect(c);this.wrapper.find(".k-selected-color").css(P,c?c.toDisplay():"transparent")},_keydown:function(c){var b=c.keyCode;if(this._getPopup().visible()){if(b==T.ESC){this._selector._cancel()}else{this._selector._keydown(c)}R(c)}else{if(b==T.ENTER||b==T.DOWN){this.open();R(c)}}},_getPopup:function(){var c=this,f=c._popup;if(!f){var e=c.options;var d;if(e.palette){d=I}else{d=a}e._standalone=false;delete e.select;delete e.change;delete e.cancel;var g=J.guid();var b=c._selector=new d(X('<div id="'+g+'"/>').appendTo(document.body),e);c.wrapper.attr("aria-owns",g);c._popup=f=b.wrapper.kendoPopup({anchor:c.wrapper,adjustSize:{width:5,height:0}}).data("kendoPopup");b.bind({select:function(h){c._updateUI(Q(h.value))},change:function(){c._select(b.color());c.close()},cancel:function(){c.close()}});f.bind({close:function(j){if(c.trigger("close")){j.preventDefault();return}c.wrapper.children(".k-picker-wrap").removeClass("k-state-focused");var h=b._selectOnHide();if(!h){c.wrapper.focus();c._updateUI(c.color())}else{c._select(h)}},open:function(h){if(c.trigger("open")){h.preventDefault()}else{c.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}},activate:function(){b._select(c.color(),true);b.focus();c.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}})}return f}});function R(b){b.preventDefault()}function F(b,c){return function(){return b.apply(c,arguments)}}B.plugin(I);B.plugin(a);B.plugin(E)})(jQuery,parseInt);(function(V,W){var P=window.kendo,D=P.caret,O=P.keys,c=P.ui,N=c.Widget,T=P._activeElement,g=P._extractFormat,A=P.parseFloat,h=P.support.placeholder,l=P.getCulture,j=P._round,M="change",J="disabled",I="readonly",f="k-input",a="spin",C=".kendoNumericTextBox",F="touchend",Y="mouseleave"+C,Z="mouseenter"+C+" "+Y,b="k-state-default",B="k-state-focused",X="k-state-hover",H="focus",G=".",L="k-state-selected",R="k-state-disabled",Q="aria-disabled",d="aria-readonly",U=/^(-)?(\d*)$/,E=null,S=V.proxy,k=V.extend;var e=N.extend({init:function(n,u){var t=this,m=u&&u.step!==W,o,p,q,s,r;N.fn.init.call(t,n,u);u=t.options;n=t.element.on("focusout"+C,S(t._focusout,t)).attr("role","spinbutton");u.placeholder=u.placeholder||n.attr("placeholder");t._initialOptions=k({},u);t._reset();t._wrapper();t._arrows();t._input();if(!P.support.mobileOS){t._text.on(H+C,S(t._click,t))}else{t._text.on(F+C+" "+H+C,function(v){t._toggleText(false);n.focus()})}o=t.min(n.attr("min"));p=t.max(n.attr("max"));q=t._parse(n.attr("step"));if(u.min===E&&o!==E){u.min=o}if(u.max===E&&p!==E){u.max=p}if(!m&&q!==E){u.step=q}n.attr("aria-valuemin",u.min).attr("aria-valuemax",u.max);u.format=g(u.format);s=u.value;t.value(s!==E?s:n.val());r=n.is("[disabled]")||V(t.element).parents("fieldset").is(":disabled");if(r){t.enable(false)}else{t.readonly(n.is("[readonly]"))}P.notify(t)},options:{name:"NumericTextBox",decimals:E,min:E,max:E,value:E,step:1,culture:"",format:"n",spinners:true,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:[M,a],_editable:function(q){var o=this,r=o.element,p=q.disable,s=q.readonly,m=o._text.add(r),n=o._inputWrapper.off(Z);o._toggleText(true);o._upArrowEventHandler.unbind("press");o._downArrowEventHandler.unbind("press");r.off("keydown"+C).off("keypress"+C).off("paste"+C);if(!s&&!p){n.addClass(b).removeClass(R).on(Z,o._toggleHover);m.removeAttr(J).removeAttr(I).attr(Q,false).attr(d,false);o._upArrowEventHandler.bind("press",function(t){t.preventDefault();o._spin(1);o._upArrow.addClass(L)});o._downArrowEventHandler.bind("press",function(t){t.preventDefault();o._spin(-1);o._downArrow.addClass(L)});o.element.on("keydown"+C,S(o._keydown,o)).on("keypress"+C,S(o._keypress,o)).on("paste"+C,S(o._paste,o))}else{n.addClass(p?R:b).removeClass(p?b:R);m.attr(J,p).attr(I,s).attr(Q,p).attr(d,s)}},readonly:function(m){this._editable({readonly:m===W?true:m,disable:false})},enable:function(m){this._editable({readonly:false,disable:!(m=m===W?true:m)})},destroy:function(){var m=this;m.element.add(m._text).add(m._upArrow).add(m._downArrow).add(m._inputWrapper).off(C);m._upArrowEventHandler.destroy();m._downArrowEventHandler.destroy();if(m._form){m._form.off("reset",m._resetHandler)}N.fn.destroy.call(m)},min:function(m){return this._option("min",m)},max:function(m){return this._option("max",m)},step:function(m){return this._option("step",m)},value:function(o){var n=this,m;if(o===W){return n._value}o=n._parse(o);m=n._adjust(o);if(o!==m){return}n._update(o);n._old=n._value},focus:function(){this._focusin()},_adjust:function(p){var n=this,o=n.options,m=o.min,q=o.max;if(p===E){return p}if(m!==E&&p<m){p=m}else{if(q!==E&&p>q){p=q}}return p},_arrows:function(){var m=this,n,r=function(){clearTimeout(m._spinning);n.removeClass(L)},o=m.options,p=o.spinners,q=m.element;n=q.siblings(".k-icon");if(!n[0]){n=V(K("n",o.upArrowText)+K("s",o.downArrowText)).insertAfter(q);n.wrapAll('<span class="k-select"/>')}if(!p){n.parent().toggle(p);m._inputWrapper.addClass("k-expand-padding")}m._upArrow=n.eq(0);m._upArrowEventHandler=new P.UserEvents(m._upArrow,{release:r});m._downArrow=n.eq(1);m._downArrowEventHandler=new P.UserEvents(m._downArrow,{release:r})},_blur:function(){var m=this;m._toggleText(true);m._change(m.element.val())},_click:function(m){var n=this;clearTimeout(n._focusing);n._focusing=setTimeout(function(){var w=m.target,s=D(w)[0],t=w.value.substring(0,s),q=n._format(n.options.format),u=q[","],p,o,r,v=0;if(u){o=new RegExp("\\"+u,"g");r=new RegExp("([\\d\\"+u+"]+)(\\"+q[G]+")?(\\d+)?")}if(r){p=r.exec(t)}if(p){v=p[0].replace(o,"").length;if(t.indexOf("(")!=-1&&n._value<0){v++}}n._focusin();D(n.element[0],v)})},_change:function(n){var m=this;m._update(n);n=m._value;if(m._old!=n){m._old=n;if(!m._typing){m.element.trigger(M)}m.trigger(M)}m._typing=false},_culture:function(m){return m||l(this.options.culture)},_focusin:function(){var m=this;m._inputWrapper.addClass(B);m._toggleText(false);m.element[0].focus()},_focusout:function(){var m=this;clearTimeout(m._focusing);m._inputWrapper.removeClass(B).removeClass(X);m._blur()},_format:function(m,o){var n=this._culture(o).numberFormat;m=m.toLowerCase();if(m.indexOf("c")>-1){n=n.currency}else{if(m.indexOf("p")>-1){n=n.percent}}return n},_input:function(){var n=this,q="k-formatted-value",r=n.element.addClass(f).show()[0],m=r.accessKey,s=n.wrapper,p;p=s.find(G+q);if(!p[0]){p=V('<input type="text"/>').insertBefore(r).addClass(q)}try{r.setAttribute("type","text")}catch(o){r.type="text"}p[0].tabIndex=r.tabIndex;p[0].style.cssText=r.style.cssText;p[0].title=r.title;p.prop("placeholder",n.options.placeholder);if(m){p.attr("accesskey",m);r.accessKey=""}n._text=p.addClass(r.className)},_keydown:function(n){var o=this,m=n.keyCode;o._key=m;if(m==O.DOWN){o._step(-1)}else{if(m==O.UP){o._step(1)}else{if(m==O.ENTER){o._change(o.element.val())}else{o._typing=true}}}},_keypress:function(m){if(m.which===0||m.metaKey||m.ctrlKey||m.keyCode===O.BACKSPACE||m.keyCode===O.ENTER){return}var v=this;var o=v.options.min;var n=v.element;var u=D(n);var w=u[0];var t=u[1];var p=String.fromCharCode(m.which);var q=v._format(v.options.format);var s=v._key===O.NUMPAD_DOT;var r=n.val();var x;if(s){p=q[G]}r=r.substring(0,w)+p+r.substring(t);x=v._numericRegex(q).test(r);if(x&&s){n.val(r);D(n,w+p.length);m.preventDefault()}else{if((o!==null&&o>=0&&r.charAt(0)==="-")||!x){m.preventDefault()}}v._key=0},_numericRegex:function(n){var m=this;var p=n[G];var o=m.options.decimals;if(p===G){p="\\"+p}if(o===E){o=n.decimals}if(o===0){return U}if(m._separator!==p){m._separator=p;m._floatRegExp=new RegExp("^(-)?(((\\d+("+p+"\\d*)?)|("+p+"\\d*)))?$")}return m._floatRegExp},_paste:function(m){var n=this,p=m.target,o=p.value;setTimeout(function(){if(n._parse(p.value)===E){n._update(o)}})},_option:function(m,p){var n=this,o=n.options;if(p===W){return o[m]}p=n._parse(p);if(!p&&m==="step"){return}o[m]=p;n.element.attr("aria-value"+m,p).attr(m,p)},_spin:function(m,o){var n=this;o=o||500;clearTimeout(n._spinning);n._spinning=setTimeout(function(){n._spin(m,50)},o);n._step(m)},_step:function(m){var n=this,p=n.element,o=n._parse(p.val())||0;if(T()!=p[0]){n._focusin()}o+=n.options.step*m;n._update(n._adjust(o));n._typing=false;n.trigger(a)},_toggleHover:function(m){V(m.currentTarget).toggleClass(X,m.type==="mouseenter")},_toggleText:function(n){var m=this;m._text.toggle(n);m.element.toggle(!n)},_parse:function(n,m){return A(n,this._culture(m),this.options.format)},_update:function(q){var r=this,s=r.options,n=s.format,t=s.decimals,p=r._culture(),m=r._format(n,p),o;if(t===E){t=m.decimals}q=r._parse(q,p);o=q!==E;if(o){q=parseFloat(j(q,t))}r._value=q=r._adjust(q);r._placeholder(P.toString(q,n,p));if(o){q=q.toString();if(q.indexOf("e")!==-1){q=j(+q,t)}q=q.replace(G,m[G])}else{q=""}r.element.val(q).attr("aria-valuenow",q)},_placeholder:function(m){this._text.val(m);if(!h&&!m){this._text.val(this.options.placeholder)}},_wrapper:function(){var n=this,o=n.element,p=o[0],m;m=o.parents(".k-numerictextbox");if(!m.is("span.k-numerictextbox")){m=o.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent();m=m.wrap("<span/>").parent()}m[0].style.cssText=p.style.cssText;p.style.width="";n.wrapper=m.addClass("k-widget k-numerictextbox").addClass(p.className).css("display","");n._inputWrapper=V(m[0].firstChild)},_reset:function(){var o=this,p=o.element,n=p.attr("form"),m=n?V("#"+n):p.closest("form");if(m[0]){o._resetHandler=function(){setTimeout(function(){o.value(p[0].value);o.max(o._initialOptions.max);o.min(o._initialOptions.min)})};o._form=m.on("reset",o._resetHandler)}}});function K(m,n){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+m+'" title="'+n+'">'+n+"</span></span>"}c.plugin(e)})(window.kendo.jQuery);(function(Z,Y){var b=window.kendo,E=b.ui,Q=Z.proxy,I="kendoPopup",A="init",C="refresh",K="change",d=".kendoFilterMenu",F="Is equal to",B="Is not equal to",G={"number":"numerictextbox","date":"datepicker"},P={"string":"text","number":"number","date":"date"},M=b.isFunction,X=E.Widget;var O='<div><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><div><button type="submit" class="k-button k-primary">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>';var U='<div><div class="k-filter-help-text">#=messages.info#</div><select data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#" data-#=ns#value-primitive="true"></select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}##if(extra){#<select class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#" data-#=ns#value-primitive="true"></select>#}else{#<input data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>#}##}#<div><button type="submit" class="k-button k-primary">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>';var V='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#</button>#=title#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[0].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[0].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#if(extra){#</ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="and" />#=messages.and#</label></li><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="or" />#=messages.or#</label></li></ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[1].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[1].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[1].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#}#</ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></div></form></div>';var L='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#</button>#=title#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label></li><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label></li></ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></form></div>';function T(g,f){if(g.filters){g.filters=Z.grep(g.filters,function(h){T(h,f);if(h.filters){return h.filters.length}else{return h.field!=f}})}}function c(l){var h,g,k,f,m,j;if(l&&l.length){j=[];for(h=0,g=l.length;h<g;h++){k=l[h];m=k.text||k.value||k;f=k.value==null?(k.text||k):k.value;j[h]={text:m,value:f}}}return j}function S(f,g){return Z.grep(f,function(h){if(h.filters){h.filters=Z.grep(h.filters,function(j){return j.field!=g});return h.filters.length}return h.field!=g})}var D=X.extend({init:function(g,l){var k=this,j="string",h,m,n,f;X.fn.init.call(k,g,l);h=k.operators=l.operators||{};g=k.element;l=k.options;if(!l.appendToElement){n=g.addClass("k-with-icon k-filterable").find(".k-grid-filter");if(!n[0]){n=g.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/></a>').find(".k-grid-filter")}n.attr("tabindex",-1).on("click"+d,Q(k._click,k))}k.link=n||Z();k.dataSource=l.dataSource;k.field=l.field||g.attr(b.attr("field"));k.model=k.dataSource.reader.model;k._parse=function(o){return o+""};if(k.model&&k.model.fields){f=k.model.fields[k.field];if(f){j=f.type||"string";if(f.parse){k._parse=Q(f.parse,f)}}}if(l.values){j="enums"}k.type=j;h=h[j]||l.operators[j];for(m in h){break}k._defaultFilter=function(){return{field:k.field,operator:m||"eq",value:""}};k._refreshHandler=Q(k.refresh,k);k.dataSource.bind(K,k._refreshHandler);if(l.appendToElement){k._init()}else{k.refresh()}},_init:function(){var g=this,f=g.options.ui,j=M(f),h;g.pane=g.options.pane;if(g.pane){g._isMobile=true}if(!j){h=f||G[g.type]}if(g._isMobile){g._createMobileForm(h)}else{g._createForm(h)}g.form.on("submit"+d,Q(g._submit,g)).on("reset"+d,Q(g._reset,g));if(j){g.form.find(".k-textbox").removeClass("k-textbox").each(function(){f(Z(this))})}g.form.find("["+b.attr("role")+"=numerictextbox]").removeClass("k-textbox").end().find("["+b.attr("role")+"=datetimepicker]").removeClass("k-textbox").end().find("["+b.attr("role")+"=timepicker]").removeClass("k-textbox").end().find("["+b.attr("role")+"=datepicker]").removeClass("k-textbox");g.refresh();g.trigger(A,{field:g.field,container:g.form});b.cycleForm(g.form)},_createForm:function(h){var g=this,j=g.options,k=g.operators||{},f=g.type;k=k[f]||j.operators[f];g.form=Z('<form class="k-filter-menu"/>').html(b.template(f==="boolean"?O:U)({field:g.field,format:j.format,ns:b.ns,messages:j.messages,extra:j.extra,operators:k,type:f,role:h,values:c(j.values)}));if(!j.appendToElement){g.popup=g.form[I]({anchor:g.link,open:Q(g._open,g),activate:Q(g._activate,g),close:function(){if(g.options.closeCallback){g.options.closeCallback(g.element)}}}).data(I)}else{g.element.append(g.form);g.popup=g.element.closest(".k-popup").data(I)}g.form.on("keydown"+d,Q(g._keydown,g))},_createMobileForm:function(h){var g=this,j=g.options,k=g.operators||{},f=g.type;k=k[f]||j.operators[f];g.form=Z("<div />").html(b.template(f==="boolean"?L:V)({field:g.field,title:j.title||g.field,format:j.format,ns:b.ns,messages:j.messages,extra:j.extra,operators:k,type:f,role:h,useRole:(!b.support.input.date&&f==="date")||f==="number",inputType:P[f],values:c(j.values)}));g.view=g.pane.append(g.form.html());g.form=g.view.element.find("form");g.view.element.on("click",".k-submit",function(l){g.form.submit();l.preventDefault()}).on("click",".k-cancel",function(l){g._closeForm();l.preventDefault()})},refresh:function(){var f=this,g=f.dataSource.filter()||{filters:[],logic:"and"};f.filterModel=b.observable({logic:"and",filters:[f._defaultFilter(),f._defaultFilter()]});if(f.form){b.bind(f.form.children().first(),f.filterModel)}if(f._bind(g)){f.link.addClass("k-state-active")}else{f.link.removeClass("k-state-active")}},destroy:function(){var f=this;X.fn.destroy.call(f);if(f.form){b.unbind(f.form);b.destroy(f.form);f.form.unbind(d);if(f.popup){f.popup.destroy();f.popup=null}f.form=null}if(f.view){f.view.purge();f.view=null}f.link.unbind(d);if(f._refreshHandler){f.dataSource.unbind(K,f._refreshHandler);f.dataSource=null}f.element=f.link=f._refreshHandler=f.filterModel=null},_bind:function(f){var n=this,p=f.filters,j,k,l=false,g=0,m=n.filterModel,o,h;for(j=0,k=p.length;j<k;j++){h=p[j];if(h.field==n.field){m.set("logic",f.logic);o=m.filters[g];if(!o){m.filters.push({field:n.field});o=m.filters[g]}o.set("value",n._parse(h.value));o.set("operator",h.operator);g++;l=true}else{if(h.filters){l=l||n._bind(h)}}}return l},_merge:function(f){var m=this,l=f.logic||"and",n=f.filters,h,g=m.dataSource.filter()||{filters:[],logic:"and"},j,k;T(g,m.field);n=Z.grep(n,function(o){return o.value!==""&&o.value!=null});for(j=0,k=n.length;j<k;j++){h=n[j];h.value=m._parse(h.value)}if(n.length){if(g.filters.length){f.filters=n;if(g.logic!=="and"){g.filters=[{logic:g.logic,filters:g.filters}];g.logic="and"}if(n.length>1){g.filters.push(f)}else{g.filters.push(n[0])}}else{g.filters=n;g.logic=l}}return g},filter:function(f){f=this._merge(f);if(f.filters.length){this.dataSource.filter(f)}},clear:function(){var f=this,g=f.dataSource.filter()||{filters:[]};g.filters=Z.grep(g.filters,function(h){if(h.filters){h.filters=S(h.filters,f.field);return h.filters.length}return h.field!=f.field});if(!g.filters.length){g=null}f.dataSource.filter(g)},_submit:function(f){f.preventDefault();f.stopPropagation();this.filter(this.filterModel.toJSON());this._closeForm()},_reset:function(){this.clear();this._closeForm()},_closeForm:function(){if(this._isMobile){this.pane.navigate("",this.options.animations.right)}else{this.popup.close()}},_click:function(f){f.preventDefault();f.stopPropagation();if(!this.popup&&!this.pane){this._init()}if(this._isMobile){this.pane.navigate(this.view,this.options.animations.left)}else{this.popup.toggle()}},_open:function(){var f;Z(".k-filter-menu").not(this.form).each(function(){f=Z(this).data(I);if(f){f.close()}})},_activate:function(){this.form.find(":kendoFocusable:first").focus()},_keydown:function(f){if(f.keyCode==b.keys.ESC){this.popup.close()}},events:[A],options:{name:"FilterMenu",extra:true,appendToElement:false,type:"string",operators:{string:{eq:F,neq:B,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with",gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},number:{eq:F,neq:B,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},date:{eq:F,neq:B,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before"},enums:{eq:F,neq:B}},messages:{info:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-",operator:"Operator",value:"Value",cancel:"Cancel"},animations:{left:"slide",right:"slide:right"}}});var W=".kendoFilterMultiCheck";function H(g,f){if(g.filters){g.filters=Z.grep(g.filters,function(h){H(h,f);if(h.filters){return h.filters.length}else{return h.field==f&&h.operator=="eq"}})}}function J(f){if(f.logic=="and"&&f.filters.length>1){return[]}if(f.filters){return Z.map(f.filters,function(g){return J(g)})}else{if(f.value!==null&&f.value!==Y){return[f.value]}else{return[]}}}function N(m,l){var k=b.getter(l,true),f=[],h=0,j={};while(h<m.length){var n=m[h++],g=k(n);if(g!==Y&&g!==null&&!j.hasOwnProperty(g)){f.push(n);j[g]=true}}return f}function a(g,f){return function(h){var j=g(h);return N(j,f)}}var R=b.data.DataSource;var e=X.extend({init:function(j,g){X.fn.init.call(this,j,g);g=this.options;this.element=Z(j);var h=this.field=this.options.field||this.element.attr(b.attr("field"));var f=g.checkSource;if(g.forceUnique){f=g.dataSource.options;delete f.pageSize;this.checkSource=R.create(f);this.checkSource.reader.data=a(this.checkSource.reader.data,this.field)}else{this.checkSource=R.create(f)}this.dataSource=g.dataSource;this.model=this.dataSource.reader.model;this._parse=function(k){return k+""};if(this.model&&this.model.fields){h=this.model.fields[this.field];if(h){if(h.parse){this._parse=Q(h.parse,h)}this.type=h.type||"string"}}if(!g.appendToElement){this._createLink()}else{this._init()}this._refreshHandler=Q(this.refresh,this);this.dataSource.bind(K,this._refreshHandler)},_createLink:function(){var g=this.element;var f=g.addClass("k-with-icon k-filterable").find(".k-grid-filter");if(!f[0]){f=g.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/></a>').find(".k-grid-filter")}this._link=f.attr("tabindex",-1).on("click"+d,Q(this._click,this))},_init:function(){var f=this;var h=this.options.forceUnique;var g=this.options;this.pane=g.pane;if(this.pane){this._isMobile=true}this._createForm();if(h&&!this.checkSource.options.serverPaging&&this.dataSource.data().length){this.checkSource.data(N(this.dataSource.data(),this.field));this.refresh()}else{this._attachProgress();this.checkSource.fetch(function(){f.refresh.call(f)})}if(!this.options.forceUnique){this.checkChangeHandler=function(){f.container.empty();f.refresh()};this.checkSource.bind(K,this.checkChangeHandler)}this.form.on("keydown"+W,Q(this._keydown,this)).on("submit"+W,Q(this._filter,this)).on("reset"+W,Q(this._reset,this));this.trigger(A,{field:this.field,container:this.form})},_attachProgress:function(){var f=this;this._progressHandler=function(){E.progress(f.container,true)};this._progressHideHandler=function(){E.progress(f.container,false)};this.checkSource.bind("progress",this._progressHandler).bind("change",this._progressHideHandler)},_createForm:function(){var h=this.options;var f="<ul class='k-reset k-multicheck-wrap'></ul><button type='submit' class='k-button k-primary'>"+h.messages.filter+"</button>";f+="<button type='reset' class='k-button'>"+h.messages.clear+"</button>";this.form=Z('<form class="k-filter-menu"/>').html(f);this.container=this.form.find(".k-multicheck-wrap");if(this._isMobile){this.view=this.pane.append(this.form.addClass("k-mobile-list").wrap("<div/>").parent().html());var j=this.view.element;this.form=j.find("form");this.container=j.find(".k-multicheck-wrap");var g=this;j.on("click",".k-primary",function(k){g.form.submit();k.preventDefault()}).on("click","[type=reset]",function(k){g._reset();k.preventDefault()})}else{if(!h.appendToElement){this.popup=this.form.kendoPopup({anchor:this._link}).data(I)}else{this.popup=this.element.closest(".k-popup").data(I);this.element.append(this.form)}}},createCheckAllItem:function(){var g=this.options;var h=b.template(g.itemTemplate({field:"all",mobile:this._isMobile}));var f=Z(h({all:g.messages.checkAll}));this.container.prepend(f);this.checkBoxAll=f.find(":checkbox").eq(0).addClass("k-check-all");this.checkAllHandler=Q(this.checkAll,this);this.checkBoxAll.on(K+W,this.checkAllHandler)},updateCheckAllState:function(){if(this.checkBoxAll){var f=this.container.find(":checkbox:not(.k-check-all)").length==this.container.find(":checked:not(.k-check-all)").length;this.checkBoxAll.prop("checked",f)}},refresh:function(f){var j=this.options.forceUnique;var g=this.dataSource;var h=this.getFilterArray();if(this._link){this._link.toggleClass("k-state-active",h.length!==0)}if(this.form){if(f&&j&&f.sender===g&&!g.options.serverPaging&&(f.action=="itemchange"||f.action=="add"||f.action=="remove")){this.checkSource.data(N(this.dataSource.data(),this.field));this.container.empty()}if(this.container.is(":empty")){this.createCheckBoxes()}this.checkValues(h);this.trigger(C)}},getFilterArray:function(){var g=Z.extend(true,{},{filters:[],logic:"and"},this.dataSource.filter());H(g,this.field);var f=J(g);return f},createCheckBoxes:function(){var f=this.options;var k;var h={field:this.field,format:f.format,mobile:this._isMobile,type:this.type};if(!this.options.forceUnique){k=this.checkSource.view()}else{if(f.values){k=f.values;h.valueField="value";h.field="text"}else{k=this.checkSource.data()}}var g=b.template(f.itemTemplate(h));var j=b.render(g,k);if(f.checkAll){this.createCheckAllItem();this.container.on(K+W,":checkbox",Q(this.updateCheckAllState,this))}this.container.append(j)},checkAll:function(){var f=this.checkBoxAll.is(":checked");this.container.find(":checkbox").prop("checked",f)},checkValues:function(g){var f=this;Z(Z.grep(this.container.find(":checkbox").prop("checked",false),function(l){var k=false;if(Z(l).is(".k-check-all")){return}var h=f._parse(Z(l).val());for(var j=0;j<g.length;j++){if(f.type=="date"){k=g[j].getTime()==h.getTime()}else{k=g[j]==h}if(k){return k}}})).prop("checked",true);this.updateCheckAllState()},_filter:function(f){f.preventDefault();f.stopPropagation();var h={logic:"or"};var g=this;h.filters=Z.map(this.form.find(":checkbox:checked:not(.k-check-all)"),function(j){return{value:Z(j).val(),operator:"eq",field:g.field}});h=this._merge(h);if(h.filters.length){this.dataSource.filter(h)}this._closeForm()},destroy:function(){var f=this;X.fn.destroy.call(f);if(f.form){b.unbind(f.form);b.destroy(f.form);f.form.unbind(W);if(f.popup){f.popup.destroy();f.popup=null}f.form=null;if(f.container){f.container.unbind(W);f.container=null}if(f.checkBoxAll){f.checkBoxAll.unbind(W)}}if(f.view){f.view.purge();f.view=null}if(f._link){f._link.unbind(d)}if(f._refreshHandler){f.dataSource.unbind(K,f._refreshHandler);f.dataSource=null}if(f.checkChangeHandler){f.checkSource.unbind(K,f.checkChangeHandler)}if(f._progressHandler){f.checkSource.unbind("progress",f._progressHandler)}if(f._progressHideHandler){f.checkSource.unbind("change",f._progressHideHandler)}f.element=f.checkSource=f.container=f.checkBoxAll=f._link=f._refreshHandler=f.checkAllHandler=null},options:{name:"FilterMultiCheck",itemTemplate:function(j){var l=j.field;var g=j.format;var h=j.valueField;var f=j.mobile;var k="";if(h===Y){h=l}if(j.type=="date"){k=":yyyy-MM-ddTHH:mm:sszzz"}return"<li class='k-item'><label class='k-label'><input type='checkbox' class='"+(f?"k-check":"")+"'  value='#:kendo.format('{0"+k+"}',"+h+")#'/>#:kendo.format('"+(g?g:"{0}")+"', "+l+")#</label></li>"},checkAll:true,appendToElement:false,messages:{checkAll:"Select All",clear:"Clear",filter:"Filter"},forceUnique:true,animations:{left:"slide",right:"slide:right"}},events:[A,C]});Z.extend(e.fn,{_click:D.fn._click,_keydown:D.fn._keydown,_reset:D.fn._reset,_closeForm:D.fn._closeForm,clear:D.fn.clear,_merge:D.fn._merge});E.plugin(D);E.plugin(e)})(window.kendo.jQuery);(function(o,r){var b=window.kendo,w=b.ui,g=b._activeElement,Ag=(b.support.touch&&b.support.mobileOS),u="mousedown",c="click",Ah=o.extend,Am=o.proxy,U=o.each,t=b.template,Z=b.keys,W=w.Widget,f=/^(ul|a|div)$/i,Aj=".kendoMenu",O="img",L="open",n="k-menu",Ac="k-link",P="k-last",X="close",Q="timer",S="k-first",G="k-image",K="select",F="zIndex",Ab="activate",d="deactivate",H="touchstart"+Aj+" MSPointerDown"+Aj+" pointerdown"+Aj,k=b.support.pointers,l=b.support.msPointers,B=l||k,y=k?"pointerover":(l?"MSPointerOver":"mouseenter"),p=k?"pointerout":(l?"MSPointerOut":"mouseleave"),Ae=Ag||B,Y=o(document.documentElement),Af="kendoPopup",R="k-state-default",E="k-state-hover",q="k-state-focused",v="k-state-disabled",e=".k-menu",Ai=".k-menu-group",V=Ai+",.k-animation-container",Ad=":not(.k-list) > .k-item",x=".k-item.k-state-disabled",Aa=".k-item:not(.k-state-disabled)",I=".k-item:not(.k-state-disabled) > .k-link",T=":not(.k-item.k-separator)",Al=T+":eq(0)",J=T+":last",z="> div:not(.k-animation-container,.k-list-container)",C={"2":1,"touch":1},N={content:t("<div class='k-content #= groupCssClass() #' tabindex='-1'>#= content(item) #</div>"),group:t("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:t("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:t("<li class='#= wrapperCssClass(group, item) #' role='menuitem' #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:t("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:t("<span class='#= arrowClass(item, group) #'></span>"),sprite:t("<span class='k-sprite #= spriteCssClass #'></span>"),empty:t("")},M={wrapperCssClass:function(An,Ap){var Ao="k-item",Aq=Ap.index;if(Ap.enabled===false){Ao+=" k-state-disabled"}else{Ao+=" k-state-default"}if(An.firstLevel&&Aq===0){Ao+=" k-first"}if(Aq==An.length-1){Ao+=" k-last"}if(Ap.cssClass){Ao+=" "+Ap.cssClass}return Ao},textClass:function(){return Ac},textAttributes:function(An){return An.url?" href='"+An.url+"'":""},arrowClass:function(Ap,An){var Ao="k-icon";if(An.horizontal){Ao+=" k-i-arrow-s"}else{Ao+=" k-i-arrow-e"}return Ao},text:function(An){return An.encoded===false?An.text:b.htmlEncode(An.text)},tag:function(An){return An.url?"a":"span"},groupAttributes:function(An){return An.expanded!==true?" style='display:none'":""},groupCssClass:function(){return"k-group k-menu-group"},content:function(An){return An.content?An.content:"&nbsp;"}};function a(Ao,An){Ao=Ao.split(" ")[!An+0]||Ao;return Ao.replace("top","up").replace("bottom","down")}function m(Aq,Ao,An){Aq=Aq.split(" ")[!Ao+0]||Aq;var Ar={origin:["bottom",(An?"right":"left")],position:["top",(An?"right":"left")]},Ap=/left|right/.test(Aq);if(Ap){Ar.origin=["top",Aq];Ar.position[1]=b.directions[Aq].reverse}else{Ar.origin[0]=Aq;Ar.position[0]=b.directions[Aq].reverse}Ar.origin=Ar.origin.join(" ");Ar.position=Ar.position.join(" ");return Ar}function j(Ap,Ao){try{return o.contains(Ap,Ao)}catch(An){return false}}function A(An){An=o(An);An.addClass("k-item").children(O).addClass(G);An.children("a").addClass(Ac).children(O).addClass(G);An.filter(":not([disabled])").addClass(R);An.filter(".k-separator:empty").append("&nbsp;");An.filter("li[disabled]").addClass(v).removeAttr("disabled").attr("aria-disabled",true);if(!An.filter("[role]").length){An.attr("role","menuitem")}if(!An.children("."+Ac).length){An.contents().filter(function(){return(!this.nodeName.match(f)&&!(this.nodeType==3&&!o.trim(this.nodeValue)))}).wrapAll("<span class='"+Ac+"'/>")}s(An);D(An)}function s(An){An=o(An);An.find("> .k-link > [class*=k-i-arrow]:not(.k-sprite)").remove();An.filter(":has(.k-menu-group)").children(".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))").each(function(){var Ao=o(this),Ap=Ao.parent().parent();Ao.append("<span class='k-icon "+(Ap.hasClass(n+"-horizontal")?"k-i-arrow-s":"k-i-arrow-e")+"'/>")})}function D(An){An=o(An);An.filter(".k-first:not(:first-child)").removeClass(S);An.filter(".k-last:not(:last-child)").removeClass(P);An.filter(":first-child").addClass(S);An.filter(":last-child").addClass(P)}var h=W.extend({init:function(Ap,Ao){var An=this;W.fn.init.call(An,Ap,Ao);Ap=An.wrapper=An.element;Ao=An.options;An._initData(Ao);An._updateClasses();An._animations(Ao);An.nextItemZIndex=100;An._tabindex();An._focusProxy=Am(An._focusHandler,An);Ap.on(H,Aa,An._focusProxy).on(c+Aj,x,false).on(c+Aj,Aa,Am(An._click,An)).on("keydown"+Aj,Am(An._keydown,An)).on("focus"+Aj,Am(An._focus,An)).on("focus"+Aj,".k-content",Am(An._focus,An)).on(H+" "+u+Aj,".k-content",Am(An._preventClose,An)).on("blur"+Aj,Am(An._removeHoverItem,An)).on("blur"+Aj,"[tabindex]",Am(An._checkActiveElement,An)).on(y+Aj,Aa,Am(An._mouseenter,An)).on(p+Aj,Aa,Am(An._mouseleave,An)).on(y+Aj+" "+p+Aj+" "+u+Aj+" "+c+Aj,I,Am(An._toggleHover,An));if(Ao.openOnClick){An.clicked=false;An._documentClickHandler=Am(An._documentClick,An);o(document).click(An._documentClickHandler)}Ap.attr("role","menubar");if(Ap[0].id){An._ariaId=b.format("{0}_mn_active",Ap[0].id)}b.notify(An)},events:[L,X,Ab,d,K],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:false,closeOnClick:true,hoverDelay:100,popupCollision:r},_initData:function(Ao){var An=this;if(Ao.dataSource){An.angular("cleanup",function(){return{elements:An.element.children()}});An.element.empty();An.append(Ao.dataSource,An.element);An.angular("compile",function(){return{elements:An.element.children()}})}},setOptions:function(Ao){var An=this.options.animation;this._animations(Ao);Ao.animation=Ah(true,An,Ao.animation);if("dataSource" in Ao){this._initData(Ao)}this._updateClasses();W.fn.setOptions.call(this,Ao)},destroy:function(){var An=this;W.fn.destroy.call(An);An.element.off(Aj);if(An._documentClickHandler){o(document).unbind("click",An._documentClickHandler)}b.destroy(An.element)},enable:function(An,Ao){this._toggleDisabled(An,Ao!==false);return this},disable:function(An){this._toggleDisabled(An,false);return this},append:function(Ap,An){An=this.element.find(An);var Ao=this._insert(Ap,An,An.length?An.find("> .k-menu-group, > .k-animation-container > .k-menu-group"):null);U(Ao.items,function(){Ao.group.append(this);s(this)});s(An);D(Ao.group.find(".k-first, .k-last").add(Ao.items));return this},insertBefore:function(Ap,An){An=this.element.find(An);var Ao=this._insert(Ap,An,An.parent());U(Ao.items,function(){An.before(this);s(this);D(this)});D(An);return this},insertAfter:function(Ap,An){An=this.element.find(An);var Ao=this._insert(Ap,An,An.parent());U(Ao.items,function(){An.after(this);s(this);D(this)});D(An);return this},_insert:function(Au,Ao,At){var Ap=this,As,Aq;if(!Ao||!Ao.length){At=Ap.element}var Ar=o.isPlainObject(Au),An={firstLevel:At.hasClass(n),horizontal:At.hasClass(n+"-horizontal"),expanded:true,length:At.children().length};if(Ao&&!At.length){At=o(h.renderGroup({group:An})).appendTo(Ao)}if(Ar||o.isArray(Au)){As=o(o.map(Ar?[Au]:Au,function(Aw,Av){if(typeof Aw==="string"){return o(Aw).get()}else{return o(h.renderItem({group:An,item:Ah(Aw,{index:Av})})).get()}}))}else{if(typeof Au=="string"&&Au.charAt(0)!="<"){As=Ap.element.find(Au)}else{As=o(Au)}Aq=As.find("> ul").addClass("k-menu-group").attr("role","menu");As=As.filter("li");As.add(Aq.find("> li")).each(function(){A(this)})}return{items:As,group:At}},remove:function(Aq){Aq=this.element.find(Aq);var Ao=this,Ar=Aq.parentsUntil(Ao.element,Ad),An=Aq.parent("ul:not(.k-menu)");Aq.remove();if(An&&!An.children(Ad).length){var Ap=An.parent(".k-animation-container");if(Ap.length){Ap.remove()}else{An.remove()}}if(Ar.length){Ar=Ar.eq(0);s(Ar);D(Ar)}return Ao},open:function(Ar){var Ao=this,Ap=Ao.options,Aq=Ap.orientation=="horizontal",As=Ap.direction,An=b.support.isRtl(Ao.wrapper);Ar=Ao.element.find(Ar);if(/^(top|bottom|default)$/.test(As)){if(An){As=Aq?(As+" left").replace("default","bottom"):"left"}else{As=Aq?(As+" right").replace("default","bottom"):"right"}}Ar.siblings().find(">.k-popup:visible,>.k-animation-container>.k-popup:visible").each(function(){var At=o(this).data("kendoPopup");if(At){At.close()}});Ar.each(function(){var At=o(this);clearTimeout(At.data(Q));At.data(Q,setTimeout(function(){var Av=At.find(".k-menu-group:first:hidden"),AA;if(Av[0]&&Ao._triggerEvent({item:At[0],type:L})===false){if(!Av.find(".k-menu-group")[0]&&Av.children(".k-item").length>1){var Aw=o(window).height(),Au=function(){Av.css({maxHeight:Aw-(Av.outerHeight()-Av.height())-b.getShadows(Av).bottom,overflow:"auto"})};if(b.support.browser.msie&&b.support.browser.version<=7){setTimeout(Au,0)}else{Au()}}else{Av.css({maxHeight:"",overflow:""})}At.data(F,At.css(F));At.css(F,Ao.nextItemZIndex++);AA=Av.data(Af);var Ax=At.parent().hasClass(n),AC=Ax&&Aq,Ay=m(As,Ax,An),AB=Ap.animation.open.effects,Az=AB!==r?AB:"slideIn:"+a(As,Ax);if(!AA){AA=Av.kendoPopup({activate:function(){Ao._triggerEvent({item:this.wrapper.parent(),type:Ab})},deactivate:function(AD){AD.sender.element.removeData("targetTransform").css({opacity:""});Ao._triggerEvent({item:this.wrapper.parent(),type:d})},origin:Ay.origin,position:Ay.position,collision:Ap.popupCollision!==r?Ap.popupCollision:(AC?"fit":"fit flip"),anchor:At,appendTo:At,animation:{open:Ah(true,{effects:Az},Ap.animation.open),close:Ap.animation.close},close:function(AD){var AE=AD.sender.wrapper.parent();if(!Ao._triggerEvent({item:AE[0],type:X})){AE.css(F,AE.data(F));AE.removeData(F);if(Ag){AE.removeClass(E);Ao._removeHoverItem()}}else{AD.preventDefault()}}}).data(Af)}else{AA=Av.data(Af);AA.options.origin=Ay.origin;AA.options.position=Ay.position;AA.options.animation.open.effects=Az}Av.removeAttr("aria-hidden");AA.open()}},Ao.options.hoverDelay))});return Ao},close:function(Ao,Aq){var An=this,Ap=An.element;Ao=Ap.find(Ao);if(!Ao.length){Ao=Ap.find(">.k-item")}Ao.each(function(){var Ar=o(this);if(!Aq&&An._isRootItem(Ar)){An.clicked=false}clearTimeout(Ar.data(Q));Ar.data(Q,setTimeout(function(){var As=Ar.find(".k-menu-group:not(.k-list-container):not(.k-calendar-container):first:visible").data(Af);if(As){As.close();As.element.attr("aria-hidden",true)}},An.options.hoverDelay))});return An},_toggleDisabled:function(An,Ao){this.element.find(An).each(function(){o(this).toggleClass(R,Ao).toggleClass(v,!Ao).attr("aria-disabled",!Ao)})},_toggleHover:function(Ao){var Ap=o(b.eventTarget(Ao)||Ao.target).closest(Ad),An=Ao.type==y||u.indexOf(Ao.type)!==-1;if(!Ap.parents("li."+v).length){Ap.toggleClass(E,An||Ao.type=="mousedown"||Ao.type=="click")}this._removeHoverItem()},_preventClose:function(){if(!this.options.closeOnClick){this._closurePrevented=true}},_checkActiveElement:function(Ao){var Ap=this,An=o(Ao?Ao.currentTarget:this._hoverItem()),Aq=Ap._findRootParent(An)[0];if(!this._closurePrevented){setTimeout(function(){if(!document.hasFocus()||(!j(Aq,b._activeElement())&&Ao&&!j(Aq,Ao.currentTarget))){Ap.close(Aq)}},0)}this._closurePrevented=false},_removeHoverItem:function(){var An=this._hoverItem();if(An&&An.hasClass(q)){An.removeClass(q);this._oldHoverItem=null}},_updateClasses:function(){var Ap=this.element,An=".k-menu-init div ul",Ao;Ap.removeClass("k-menu-horizontal k-menu-vertical");Ap.addClass("k-widget k-reset k-header k-menu-init "+n).addClass(n+"-"+this.options.orientation);Ap.find("li > ul").filter(function(){return !b.support.matchesSelector.call(this,An)}).addClass("k-group k-menu-group").attr("role","menu").attr("aria-hidden",Ap.is(":visible")).end().find("li > div").addClass("k-content").attr("tabindex","-1");Ao=Ap.find("> li,.k-menu-group > li");Ap.removeClass("k-menu-init");Ao.each(function(){A(this)})},_mouseenter:function(An){var Ao=this,Ap=o(An.currentTarget),Aq=(Ap.children(".k-animation-container").length||Ap.children(Ai).length);if(An.delegateTarget!=Ap.parents(e)[0]){return}if((!Ao.options.openOnClick||Ao.clicked)&&!Ag&&!((k||l)&&An.originalEvent.pointerType in C&&Ao._isRootItem(Ap.closest(Ad)))){if(!j(An.currentTarget,An.relatedTarget)&&Aq){Ao.open(Ap)}}if(Ao.options.openOnClick&&Ao.clicked||Ae){Ap.siblings().each(Am(function(As,Ar){Ao.close(Ar,true)},Ao))}},_mouseleave:function(An){var Ao=this,Ap=o(An.currentTarget),Aq=(Ap.children(".k-animation-container").length||Ap.children(Ai).length);if(Ap.parentsUntil(".k-animation-container",".k-list-container,.k-calendar-container")[0]){An.stopImmediatePropagation();return}if(!Ao.options.openOnClick&&!Ag&&!((k||l)&&An.originalEvent.pointerType in C)&&!j(An.currentTarget,An.relatedTarget||An.target)&&Aq&&!j(An.currentTarget,b._activeElement())){Ao.close(Ap)}},_click:function(Ar){var As=this,Az,At=As.options,AA=o(b.eventTarget(Ar)),Ap=AA[0]?AA[0].nodeName.toUpperCase():"",An=(Ap=="INPUT"||Ap=="SELECT"||Ap=="BUTTON"||Ap=="LABEL"),Au=AA.closest("."+Ac),Ax=AA.closest(Ad),AC=Au.attr("href"),Aw,Av,Ay=AA.attr("href"),AB=o("<a href='#' />").attr("href"),AE=(!!AC&&AC!==AB),AD=AE&&!!AC.match(/^#/),Ao=(!!Ay&&Ay!==AB),Aq=(At.openOnClick&&Av&&As._isRootItem(Ax));if(AA.closest(z,Ax[0]).length){return}if(Ax.hasClass(v)){Ar.preventDefault();return}if(!Ar.handled&&As._triggerEvent({item:Ax[0],type:K})&&!An){Ar.preventDefault()}Ar.handled=true;Aw=Ax.children(V);Av=Aw.is(":visible");if(At.closeOnClick&&(!AE||AD)&&(!Aw.length||Aq)){Ax.removeClass(E).css("height");As._oldHoverItem=As._findRootParent(Ax);As.close(Au.parentsUntil(As.element,Ad));As.clicked=false;if("MSPointerUp".indexOf(Ar.type)!=-1){Ar.preventDefault()}return}if(AE&&Ar.enterKey){Au[0].click()}if((!As._isRootItem(Ax)||!At.openOnClick)&&!b.support.touch&&!((k||l)&&As._isRootItem(Ax.closest(Ad)))){return}if(!AE&&!An&&!Ao){Ar.preventDefault()}As.clicked=true;Az=Aw.is(":visible")?X:L;if(!At.closeOnClick&&Az==X){return}As[Az](Ax)},_documentClick:function(An){if(j(this.element[0],An.target)){return}this.clicked=false},_focus:function(Ao){var Ap=this,Ar=Ao.target,An=Ap._hoverItem(),Aq=g();if(Ar!=Ap.wrapper[0]&&!o(Ar).is(":kendoFocusable")){Ao.stopPropagation();o(Ar).closest(".k-content").closest(".k-menu-group").closest(".k-item").addClass(q);Ap.wrapper.focus();return}if(Aq===Ao.currentTarget){if(An.length){Ap._moveHover([],An)}else{if(!Ap._oldHoverItem){Ap._moveHover([],Ap.wrapper.children().first())}}}},_keydown:function(An){var As=this,Au=An.keyCode,Ao=As._oldHoverItem,At,Ar,Ap,Aq=b.support.isRtl(As.wrapper);if(An.target!=An.currentTarget&&Au!=Z.ESC){return}if(!Ao){Ao=As._oldHoverItem=As._hoverItem()}Ar=As._itemBelongsToVertival(Ao);Ap=As._itemHasChildren(Ao);if(Au==Z.RIGHT){At=As[Aq?"_itemLeft":"_itemRight"](Ao,Ar,Ap)}else{if(Au==Z.LEFT){At=As[Aq?"_itemRight":"_itemLeft"](Ao,Ar,Ap)}else{if(Au==Z.DOWN){At=As._itemDown(Ao,Ar,Ap)}else{if(Au==Z.UP){At=As._itemUp(Ao,Ar,Ap)}else{if(Au==Z.ESC){At=As._itemEsc(Ao,Ar)}else{if(Au==Z.ENTER||Au==Z.SPACEBAR){At=Ao.children(".k-link");if(At.length>0){As._click({target:At[0],preventDefault:function(){},enterKey:true});As._moveHover(Ao,As._findRootParent(Ao))}}else{if(Au==Z.TAB){At=As._findRootParent(Ao);As._moveHover(Ao,At);As._checkActiveElement();return}}}}}}}if(At&&At[0]){An.preventDefault();An.stopPropagation()}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(Ao){var An=this.wrapper.hasClass("k-menu-vertical");if(!Ao.length){return An}return Ao.parent().hasClass("k-menu-group")||An},_itemHasChildren:function(An){if(!An.length){return false}return An.children("ul.k-menu-group, div.k-animation-container").length>0},_moveHover:function(Ap,An){var Ao=this,Aq=Ao._ariaId;if(Ap.length&&An.length){Ap.removeClass(q)}if(An.length){if(An[0].id){Aq=An[0].id}An.addClass(q);Ao._oldHoverItem=An;if(Aq){Ao.element.removeAttr("aria-activedescendant");o("#"+Aq).removeAttr("id");An.attr("id",Aq);Ao.element.attr("aria-activedescendant",Aq)}}},_findRootParent:function(An){if(this._isRootItem(An)){return An}else{return An.parentsUntil(e,"li.k-item").last()}},_isRootItem:function(An){return An.parent().hasClass(n)},_itemRight:function(Aq,Ao,As){var Ap=this,An,Ar;if(Aq.hasClass(v)){return}if(!Ao){An=Aq.nextAll(Al);if(!An.length){An=Aq.prevAll(J)}}else{if(As){Ap.open(Aq);An=Aq.find(".k-menu-group").children().first()}else{if(Ap.options.orientation=="horizontal"){Ar=Ap._findRootParent(Aq);Ap.close(Ar);An=Ar.nextAll(Al)}}}if(An&&!An.length){An=Ap.wrapper.children(".k-item").first()}else{if(!An){An=[]}}Ap._moveHover(Aq,An);return An},_itemLeft:function(Aq,Ao){var Ap=this,An;if(!Ao){An=Aq.prevAll(Al);if(!An.length){An=Aq.nextAll(J)}}else{An=Aq.parent().closest(".k-item");Ap.close(An);if(Ap._isRootItem(An)&&Ap.options.orientation=="horizontal"){An=An.prevAll(Al)}}if(!An.length){An=Ap.wrapper.children(".k-item").last()}Ap._moveHover(Aq,An);return An},_itemDown:function(Aq,Ao,Ar){var Ap=this,An;if(!Ao){if(!Ar||Aq.hasClass(v)){return}else{Ap.open(Aq);An=Aq.find(".k-menu-group").children().first()}}else{An=Aq.nextAll(Al)}if(!An.length&&Aq.length){An=Aq.parent().children().first()}else{if(!Aq.length){An=Ap.wrapper.children(".k-item").first()}}Ap._moveHover(Aq,An);return An},_itemUp:function(Aq,Ao){var Ap=this,An;if(!Ao){return}else{An=Aq.prevAll(Al)}if(!An.length&&Aq.length){An=Aq.parent().children().last()}else{if(!Aq.length){An=Ap.wrapper.children(".k-item").last()}}Ap._moveHover(Aq,An);return An},_itemEsc:function(Aq,Ao){var Ap=this,An;if(!Ao){return Aq}else{An=Aq.parent().closest(".k-item");Ap.close(An);Ap._moveHover(Aq,An)}return An},_triggerEvent:function(An){var Ao=this;return Ao.trigger(An.type,{type:An.type,item:An.item})},_focusHandler:function(An){var Ao=this,Ap=o(b.eventTarget(An)).closest(Ad);setTimeout(function(){Ao._moveHover([],Ap);if(Ap.children(".k-content")[0]){Ap.parent().closest(".k-item").removeClass(q)}},200)},_animations:function(An){if(An&&("animation" in An)&&!An.animation){An.animation={open:{effects:{}},close:{hide:true,effects:{}}}}}});Ah(h,{renderItem:function(Ao){Ao=Ah({menu:{},group:{}},Ao);var Ap=N.empty,An=Ao.item;return N.item(Ah(Ao,{image:An.imageUrl?N.image:Ap,sprite:An.spriteCssClass?N.sprite:Ap,itemWrapper:N.itemWrapper,renderContent:h.renderContent,arrow:An.items||An.content?N.arrow:Ap,subGroup:h.renderGroup},M))},renderGroup:function(An){return N.group(Ah({renderItems:function(Aq){var Ao="",Ap=0,As=Aq.items,Ar=As?As.length:0,At=Ah({length:Ar},Aq.group);for(;Ap<Ar;Ap++){Ao+=h.renderItem(Ah(Aq,{group:At,item:Ah({index:Ap},As[Ap])}))}return Ao}},An,M))},renderContent:function(An){return N.content(Ah(An,M))}});var Ak=h.extend({init:function(Ap,Ao){var An=this;h.fn.init.call(An,Ap,Ao);An.target=o(An.options.target);An._popup();An._wire()},options:{name:"ContextMenu",filter:null,showOn:"contextmenu",orientation:"vertical",alignToAnchor:false,target:"body"},events:[L,X,Ab,d,K],setOptions:function(Ao){var An=this;h.fn.setOptions.call(An,Ao);An.target.off(An.showOn+Aj,An._showProxy);if(An.userEvents){An.userEvents.destroy()}An.target=o(An.options.target);if(Ao.orientation&&An.popup.wrapper[0]){An.popup.element.unwrap()}An._wire();h.fn.setOptions.call(this,Ao)},destroy:function(){var An=this;An.target.off(An.options.showOn+Aj);Y.off(b.support.mousedown+Aj,An._closeProxy);if(An.userEvents){An.userEvents.destroy()}h.fn.destroy.call(An)},open:function(Ao,Ap){var An=this;Ao=o(Ao)[0];if(j(An.element[0],o(Ao)[0])){h.fn.open.call(An,Ao)}else{if(An._triggerEvent({item:An.element,type:L})===false){if(An.popup.visible()&&An.options.filter){An.popup.close(true)}if(Ap!==r){An.popup.wrapper.hide();An.popup.open(Ao,Ap)}else{An.popup.options.anchor=(Ao?Ao:An.popup.anchor)||An.target;An.popup.open()}Y.off(An.popup.downEvent,An.popup._mousedownProxy);Y.on(b.support.mousedown+Aj,An._closeProxy)}}return An},close:function(){var An=this;if(j(An.element[0],o(arguments[0])[0])){h.fn.close.call(An,arguments[0])}else{if(An.popup.visible()){if(An._triggerEvent({item:An.element,type:X})===false){An.popup.close();Y.off(b.support.mousedown+Aj,An._closeProxy);An.unbind(K,An._closeTimeoutProxy)}}}},_showHandler:function(Ao){var Ar=Ao,An,Ap=this,Aq=Ap.options;if(Ao.event){Ar=Ao.event;Ar.pageX=Ao.x.location;Ar.pageY=Ao.y.location}if(j(Ap.element[0],Ao.relatedTarget||Ao.target)){return}Ap._eventOrigin=Ar;Ar.preventDefault();Ar.stopImmediatePropagation();Ap.element.find("."+q).removeClass(q);if((Aq.filter&&b.support.matchesSelector.call(Ar.currentTarget,Aq.filter))||!Aq.filter){if(Aq.alignToAnchor){Ap.open(Ar.currentTarget)}else{Ap.popup.options.anchor=Ar.currentTarget;if(Ap._targetChild){An=Ap.target.offset();Ap.open(Ar.pageX-An.left,Ar.pageY-An.top)}else{Ap.open(Ar.pageX,Ar.pageY)}}}},_closeHandler:function(An){var At=this,Ar=At.options,As=o(An.relatedTarget||An.target),Au=As.closest(At.target.selector)[0]==At.target[0],Ap=As.closest(Aa).children(V),Aq=j(At.element[0],As[0]);At._eventOrigin=An;var Ao=An.which!==3;if(At.popup.visible()&&((Ao&&Au)||!Au)&&((At.options.closeOnClick&&!Ap[0]&&Aq)||!Aq)){if(Aq){this.unbind(K,this._closeTimeoutProxy);At.bind(K,At._closeTimeoutProxy)}else{At.close()}}},_wire:function(){var An=this,Ao=An.options,Ap=An.target;An._showProxy=Am(An._showHandler,An);An._closeProxy=Am(An._closeHandler,An);An._closeTimeoutProxy=Am(An.close,An);if(Ap[0]){if(b.support.mobileOS&&Ao.showOn=="contextmenu"){An.userEvents=new b.UserEvents(Ap,{filter:Ao.filter,allowSelection:false});Ap.on(Ao.showOn+Aj,false);An.userEvents.bind("hold",An._showProxy)}else{if(Ao.filter){Ap.on(Ao.showOn+Aj,Ao.filter,An._showProxy)}else{Ap.on(Ao.showOn+Aj,An._showProxy)}}}},_triggerEvent:function(An){var Ao=this,Aq=o(Ao.popup.options.anchor)[0],Ap=Ao._eventOrigin;Ao._eventOrigin=r;return Ao.trigger(An.type,Ah({type:An.type,item:An.item||this.element[0],target:Aq},Ap?{event:Ap}:{}))},_popup:function(){var An=this;An._triggerProxy=Am(An._triggerEvent,An);An.popup=An.element.addClass("k-context-menu").kendoPopup({anchor:An.target||"body",copyAnchorStyles:An.options.copyAnchorStyles,collision:An.options.popupCollision||"fit",animation:An.options.animation,activate:An._triggerProxy,deactivate:An._triggerProxy}).data("kendoPopup");An._targetChild=j(An.target[0],An.popup.element[0])}});w.plugin(h);w.plugin(Ak)})(window.kendo.jQuery);(function(X,W){var U=window.kendo,E=U.ui,Q=X.proxy,L=X.extend,C=X.grep,S=X.map,F=X.inArray,B="k-state-selected",I="asc",Z="desc",J="change",A="init",M="select",G="kendoPopup",K="kendoFilterMenu",H="kendoMenu",P=".kendoColumnMenu",T=E.Widget;function N(b){return X.trim(b).replace(/&nbsp;/gi,"")}function V(f,b){var c={};var g,e,d;for(g=0,e=f.length;g<e;g++){d=f[g];c[d[b]]=d}return c}function O(d){var b=[];for(var c=0;c<d.length;c++){if(!d[c].columns){b.push(d[c]);continue}b=b.concat(O(d[c].columns))}return b}var R=T.extend({init:function(e,c){var b=this,d;T.fn.init.call(b,e,c);e=b.element;c=b.options;b.owner=c.owner;b.dataSource=c.dataSource;b.field=e.attr(U.attr("field"));b.title=e.attr(U.attr("title"));d=e.find(".k-header-column-menu");if(!d[0]){d=e.addClass("k-with-icon").prepend('<a class="k-header-column-menu" href="#"><span class="k-icon k-i-arrowhead-s"/></a>').find(".k-header-column-menu")}b.link=d.attr("tabindex",-1).on("click"+P,Q(b._click,b));b.wrapper=X('<div class="k-column-menu"/>')},_init:function(){var b=this;b.pane=b.options.pane;if(b.pane){b._isMobile=true}if(b._isMobile){b._createMobileMenu()}else{b._createMenu()}b._angularItems("compile");b._refreshHandler=Q(b.refresh,b);b.dataSource.bind(J,b._refreshHandler);b._sort();b._columns();b._filter();b._lockColumns();b.trigger(A,{field:b.field,container:b.wrapper})},events:[A],options:{name:"ColumnMenu",messages:{sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filter:"Filter",columns:"Columns",done:"Done",settings:"Column Settings",lock:"Lock",unlock:"Unlock"},filter:"",columns:true,sortable:true,filterable:true,animations:{left:"slide"}},_createMenu:function(){var b=this,c=b.options;b.wrapper.html(U.template(a)({ns:U.ns,messages:c.messages,sortable:c.sortable,filterable:c.filterable,columns:b._ownerColumns(),showColumns:c.columns,lockedColumns:c.lockedColumns}));b.popup=b.wrapper[G]({anchor:b.link,open:Q(b._open,b),activate:Q(b._activate,b),close:function(){if(b.options.closeCallback){b.options.closeCallback(b.element)}}}).data(G);b.menu=b.wrapper.children()[H]({orientation:"vertical",closeOnClick:false}).data(H)},_createMobileMenu:function(){var c=this,d=c.options;var b=U.template(Y)({ns:U.ns,field:c.field,title:c.title||c.field,messages:d.messages,sortable:d.sortable,filterable:d.filterable,columns:c._ownerColumns(),showColumns:d.columns,lockedColumns:d.lockedColumns});c.view=c.pane.append(b);c.wrapper=c.view.element.find(".k-column-menu");c.menu=new D(c.wrapper.children(),{pane:c.pane});c.view.element.on("click",".k-done",function(f){c.close();f.preventDefault()});if(c.options.lockedColumns){c.view.bind("show",function(){c._updateLockedColumns()})}},_angularItems:function(b){var c=this;c.angular(b,function(){var d=c.wrapper.find(".k-columns-item input["+U.attr("field")+"]").map(function(){return X(this).closest("li")});var e=S(c._ownerColumns(),function(f){return{column:f._originalObject}});return{elements:d,data:e}})},destroy:function(){var b=this;b._angularItems("cleanup");T.fn.destroy.call(b);if(b.filterMenu){b.filterMenu.destroy()}if(b._refreshHandler){b.dataSource.unbind(J,b._refreshHandler)}if(b.options.columns&&b.owner){if(b._updateColumnsMenuHandler){b.owner.unbind("columnShow",b._updateColumnsMenuHandler);b.owner.unbind("columnHide",b._updateColumnsMenuHandler)}if(b._updateColumnsLockedStateHandler){b.owner.unbind("columnLock",b._updateColumnsLockedStateHandler);b.owner.unbind("columnUnlock",b._updateColumnsLockedStateHandler)}}if(b.menu){b.menu.element.off(P);b.menu.destroy()}b.wrapper.off(P);if(b.popup){b.popup.destroy()}if(b.view){b.view.purge()}b.link.off(P);b.owner=null;b.wrapper=null;b.element=null},close:function(){this.menu.close();if(this.popup){this.popup.close();this.popup.element.off("keydown"+P)}},_click:function(b){b.preventDefault();b.stopPropagation();var c=this.options;if(c.filter&&this.element.is(!c.filter)){return}if(!this.popup&&!this.pane){this._init()}if(this._isMobile){this.pane.navigate(this.view,this.options.animations.left)}else{this.popup.toggle()}},_open:function(){var b=this;X(".k-column-menu").not(b.wrapper).each(function(){X(this).data(G).close()});b.popup.element.on("keydown"+P,function(c){if(c.keyCode==U.keys.ESC){b.close()}});if(b.options.lockedColumns){b._updateLockedColumns()}},_activate:function(){this.menu.element.focus()},_ownerColumns:function(){var c=O(this.owner.columns),b=C(c,function(d){var e=true,f=N(d.title||"");if(d.menu===false||(!d.field&&!f.length)){e=false}return e});return S(b,function(d){return{originalField:d.field,field:d.field||d.title,title:d.title||d.field,hidden:d.hidden,index:F(d,c),locked:!!d.locked,_originalObject:d}})},_sort:function(){var b=this;if(b.options.sortable){b.refresh();b.menu.bind(M,function(d){var f=X(d.item),c;if(f.hasClass("k-sort-asc")){c=I}else{if(f.hasClass("k-sort-desc")){c=Z}}if(!c){return}f.parent().find(".k-sort-"+(c==I?Z:I)).removeClass(B);b._sortDataSource(f,c);b.close()})}},_sortDataSource:function(k,b){var f=this,g=f.options.sortable,e=g.compare===null?W:g.compare,j=f.dataSource,c,d,h=j.sort()||[];if(k.hasClass(B)&&g&&g.allowUnsort!==false){k.removeClass(B);b=W}else{k.addClass(B)}if(g.mode==="multiple"){for(c=0,d=h.length;c<d;c++){if(h[c].field===f.field){h.splice(c,1);break}}h.push({field:f.field,dir:b,compare:e})}else{h=[{field:f.field,dir:b,compare:e}]}j.sort(h)},_columns:function(){var b=this;if(b.options.columns){b._updateColumnsMenu();b._updateColumnsMenuHandler=Q(b._updateColumnsMenu,b);b.owner.bind(["columnHide","columnShow"],b._updateColumnsMenuHandler);b._updateColumnsLockedStateHandler=Q(b._updateColumnsLockedState,b);b.owner.bind(["columnUnlock","columnLock"],b._updateColumnsLockedStateHandler);b.menu.bind(M,function(c){var d=X(c.item),f,g,j,k=O(b.owner.columns),h;if(b._isMobile){c.preventDefault()}if(!d.parent().closest("li.k-columns-item")[0]){return}f=d.find(":checkbox");if(f.attr("disabled")){return}h=f.attr(U.attr("field"));j=C(k,function(e){return e.field==h||e.title==h})[0];if(j.hidden===true){b.owner.showColumn(j)}else{b.owner.hideColumn(j)}})}},_updateColumnsMenu:function(){var g,h,e,n,l;var m=U.attr("field"),k=U.attr("locked"),f=C(this._ownerColumns(),function(o){return !o.hidden}),b=C(f,function(o){return o.originalField}),j=C(b,function(o){return o.locked===true}).length,d=C(b,function(o){return o.locked!==true}).length;f=S(f,function(o){return o.field});var c=this.wrapper.find(".k-columns-item input["+m+"]").prop("disabled",false).prop("checked",false);for(g=0,h=c.length;g<h;g++){e=c.eq(g);l=e.attr(k)==="true";n=false;if(F(e.attr(m),f)>-1){n=true;e.prop("checked",n)}if(n){if(j==1&&l){e.prop("disabled",true)}if(d==1&&!l){e.prop("disabled",true)}}}},_updateColumnsLockedState:function(){var f,g,d,j,c;var k=U.attr("field");var h=U.attr("locked");var e=V(this._ownerColumns(),"field");var b=this.wrapper.find(".k-columns-item input[type=checkbox]");for(f=0,g=b.length;f<g;f++){d=b.eq(f);c=e[d.attr(k)];if(c){d.attr(h,c.locked)}}this._updateColumnsMenu()},_filter:function(){var b=this,d=K,c=b.options;if(c.filterable!==false){if(c.filterable.multi){d="kendoFilterMultiCheck";if(c.filterable.dataSource){c.filterable.checkSource=c.filterable.dataSource;delete c.filterable.dataSource}}b.filterMenu=b.wrapper.find(".k-filterable")[d](L(true,{},{appendToElement:true,dataSource:c.dataSource,values:c.values,field:b.field,title:b.title},c.filterable)).data(d);if(b._isMobile){b.menu.bind(M,function(f){var g=X(f.item);if(g.hasClass("k-filter-item")){b.pane.navigate(b.filterMenu.view,b.options.animations.left)}})}}},_lockColumns:function(){var b=this;b.menu.bind(M,function(c){var d=X(c.item);if(d.hasClass("k-lock")){b.owner.lockColumn(b.field);b.close()}else{if(d.hasClass("k-unlock")){b.owner.unlockColumn(b.field);b.close()}}})},_updateLockedColumns:function(){var f=this.field;var h=this.owner.columns;var g=C(h,function(j){return j.field==f||j.title==f})[0];if(!g){return}var e=g.locked===true;var b=C(h,function(j){return !j.hidden&&((j.locked&&e)||(!j.locked&&!e))}).length;var d=this.wrapper.find(".k-lock").removeClass("k-state-disabled");var c=this.wrapper.find(".k-unlock").removeClass("k-state-disabled");if(e||b==1){d.addClass("k-state-disabled")}if(!e||b==1){c.addClass("k-state-disabled")}this._updateColumnsLockedState()},refresh:function(){var d=this,b=d.options.dataSource.sort()||[],e,f=d.field,g,c;d.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(B);for(g=0,c=b.length;g<c;g++){e=b[g];if(f==e.field){d.wrapper.find(".k-sort-"+e.dir).addClass(B)}}d.link[d._filterExist(d.dataSource.filter())?"addClass":"removeClass"]("k-state-active")},_filterExist:function(c){var f=false;var d;if(!c){return}c=c.filters;for(var e=0,b=c.length;e<b;e++){d=c[e];if(d.field==this.field){f=true}else{if(d.filters){f=f||this._filterExist(d)}}}return f}});var a='<ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#if(showColumns || filterable){#<li class="k-separator"></li>#}##}##if(showColumns){#<li class="k-item k-columns-item"><span class="k-link"><span class="k-sprite k-i-columns"></span>${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li><input type="checkbox" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</li>#}#</ul></li>#if(filterable || lockedColumns){#<li class="k-separator"></li>#}##}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link"><span class="k-sprite k-filter"></span>${messages.filter}</span><ul><li><div class="k-filterable"></div></li></ul></li>#if(lockedColumns){#<li class="k-separator"></li>#}##}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-sprite k-i-lock"></span>${messages.lock}</span></li><li class="k-item k-unlock"><span class="k-link"><span class="k-sprite k-i-unlock"></span>${messages.unlock}</span></li>#}#</ul>';var Y='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-column-menu"><div data-#=ns#role="header" class="k-header">${messages.settings}<button class="k-button k-done">#=messages.done#</button></div><div class="k-column-menu k-mobile-list"><ul><li><span class="k-link">${title}</span><ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-sprite k-i-lock"></span>${messages.lock}</span></li><li class="k-item k-unlock"><span class="k-link"><span class="k-sprite k-i-unlock"></span>${messages.unlock}</span></li>#}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link k-filterable"><span class="k-sprite k-filter"></span>${messages.filter}</span></li>#}#</ul></li>#if(showColumns){#<li class="k-columns-item"><span class="k-link">${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li class="k-item"><label class="k-label"><input type="checkbox" class="k-check" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</label></li>#}#</ul></li>#}#</ul></div></div>';var D=T.extend({init:function(c,b){T.fn.init.call(this,c,b);this.element.on("click"+P,"li.k-item:not(.k-separator):not(.k-state-disabled)","_click")},events:[M],_click:function(b){if(!X(b.target).is("[type=checkbox]")){b.preventDefault()}this.trigger(M,{item:b.currentTarget})},close:function(){this.options.pane.navigate("")},destroy:function(){T.fn.destroy.call(this);this.element.off(P)}});E.plugin(R)})(window.kendo.jQuery);(function(N,A){var C=window.kendo;var O=C.ui;var L=O.Widget;var B="dir";var K="asc";var H="single";var D="field";var M="desc";var E=".kendoColumnSorter";var I=".k-link";var J="aria-sort";var F=N.proxy;var G=L.extend({init:function(S,Q){var P=this,R;L.fn.init.call(P,S,Q);P._refreshHandler=F(P.refresh,P);P.dataSource=P.options.dataSource.bind("change",P._refreshHandler);R=P.element.find(I);if(!R[0]){R=P.element.wrapInner('<a class="k-link" href="#"/>').find(I)}P.link=R;P.element.on("click"+E,F(P._click,P))},options:{name:"ColumnSorter",mode:H,allowUnsort:true,compare:null,filter:""},destroy:function(){var P=this;L.fn.destroy.call(P);P.element.off(E);P.dataSource.unbind("change",P._refreshHandler);P._refreshHandler=P.element=P.link=P.dataSource=null},refresh:function(){var U=this,W=U.dataSource.sort()||[],S,T,R,Q,P=U.element,V=P.attr(C.attr(D));P.removeAttr(C.attr(B));P.removeAttr(J);for(S=0,T=W.length;S<T;S++){R=W[S];if(V==R.field){P.attr(C.attr(B),R.dir)}}Q=P.attr(C.attr(B));P.find(".k-i-arrow-n,.k-i-arrow-s").remove();if(Q===K){N('<span class="k-icon k-i-arrow-n" />').appendTo(U.link);P.attr(J,"ascending")}else{if(Q===M){N('<span class="k-icon k-i-arrow-s" />').appendTo(U.link);P.attr(J,"descending")}}},_click:function(P){var W=this,Q=W.element,X=Q.attr(C.attr(D)),R=Q.attr(C.attr(B)),S=W.options,V=W.options.compare===null?A:W.options.compare,Y=W.dataSource.sort()||[],T,U;P.preventDefault();if(S.filter&&!Q.is(S.filter)){return}if(R===K){R=M}else{if(R===M&&S.allowUnsort){R=A}else{R=K}}if(S.mode===H){Y=[{field:X,dir:R,compare:V}]}else{if(S.mode==="multiple"){for(T=0,U=Y.length;T<U;T++){if(Y[T].field===X){Y.splice(T,1);break}}Y.push({field:X,dir:R,compare:V})}}this.dataSource.sort(Y)}});O.plugin(G)})(window.kendo.jQuery);(function(T,S){var N=window.kendo,C=N.ui,R=C.Widget,I=T.extend,A=N.support.browser.msie&&N.support.browser.version<9,J=N.isFunction,G=T.isPlainObject,D=T.inArray,P=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,O='<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>',B="change";var F=["url","email","number","date","boolean"];function U(V){V=V!=null?V:"";return V.type||T.type(V)||"string"}function E(V){V.find(":input:not(:button, ["+N.attr("role")+"=upload], ["+N.attr("skip")+"], [type=file]), select").each(function(){var Z=N.attr("bind"),X=this.getAttribute(Z)||"",W=this.type==="checkbox"||this.type==="radio"?"checked:":"value:",Y=this.name;if(X.indexOf(W)===-1&&Y){X+=(X.length?",":"")+W+Y;T(this).attr(Z,X)}})}function Q(X){var Z=(X.model.fields||X.model)[X.field],c=U(Z),a=Z?Z.validation:{},V,d=N.attr("type"),b=N.attr("bind"),Y,W={name:X.field};for(V in a){Y=a[V];if(D(V,F)>=0){W[d]=V}else{if(!J(Y)){W[V]=G(Y)?Y.value||V:Y}}W[N.attr(V+"-msg")]=Y.message}if(D(c,F)>=0){W[d]=c}W[b]=(c==="boolean"?"checked:":"value:")+X.field;return W}function M(a){var X,W,Z,V,b,Y;if(a&&a.length){Y=[];for(X=0,W=a.length;X<W;X++){Z=a[X];b=Z.text||Z.value||Z;V=Z.value==null?(Z.text||Z):Z.value;Y[X]={text:b,value:V}}}return Y}var H={"number":function(W,V){var X=Q(V);T('<input type="text"/>').attr(X).appendTo(W).kendoNumericTextBox({format:V.format});T("<span "+N.attr("for")+'="'+V.field+'" class="k-invalid-msg"/>').hide().appendTo(W)},"date":function(X,W){var Y=Q(W),V=W.format;if(V){V=N._extractFormat(V)}Y[N.attr("format")]=V;T('<input type="text"/>').attr(Y).appendTo(X).kendoDatePicker({format:W.format});T("<span "+N.attr("for")+'="'+W.field+'" class="k-invalid-msg"/>').hide().appendTo(X)},"string":function(W,V){var X=Q(V);T('<input type="text" class="k-input k-textbox"/>').attr(X).appendTo(W)},"boolean":function(W,V){var X=Q(V);T('<input type="checkbox" />').attr(X).appendTo(W)},"values":function(W,V){var X=Q(V);T("<select "+N.attr("text-field")+'="text"'+N.attr("value-field")+'="value"'+N.attr("source")+"='"+N.stringify(M(V.values)).replace(/\'/g,"&apos;")+"'"+N.attr("role")+'="dropdownlist"/>').attr(X).appendTo(W);T("<span "+N.attr("for")+'="'+V.field+'" class="k-invalid-msg"/>').hide().appendTo(W)}};function K(Z,W){var Y=Z?(Z.validation||{}):{},V,X;for(V in Y){X=Y[V];if(G(X)&&X.value){X=X.value}if(J(X)){W[V]=X}}}var L=R.extend({init:function(X,W){var V=this;if(W.target){W.$angular=W.target.options.$angular}R.fn.init.call(V,X,W);V._validateProxy=T.proxy(V._validate,V);V.refresh()},events:[B],options:{name:"Editable",editors:H,clearContainer:true,errorTemplate:O},editor:function(Z,b){var Y=this,f=Y.options.editors,e=G(Z),W=e?Z.field:Z,g=Y.options.model||{},X=e&&Z.values,d=X?"values":U(b),V=e&&Z.editor,c=V?Z.editor:f[d],a=Y.element.find("["+N.attr("container-for")+"="+W.replace(P,"\\$1")+"]");c=c?c:f.string;if(V&&typeof Z.editor==="string"){c=function(h){h.append(Z.editor)}}a=a.length?a:Y.element;c(a,I(true,{},e?Z:{field:W},{model:g}))},_validate:function(V){var a=this,d,Z=V.value,X=a._validationEventInProgress,c={},b=N.attr("bind"),W=V.field.replace(P,"\\$1"),Y=new RegExp("(value|checked)\\s*:\\s*"+W+"\\s*(,|$)");c[V.field]=V.value;d=T(":input["+b+'*="'+W+'"]',a.element).filter("["+N.attr("validate")+"!='false']").filter(function(e){return Y.test(T(this).attr(b))});if(d.length>1){d=d.filter(function(){var e=T(this);return !e.is(":radio")||e.val()==Z})}try{a._validationEventInProgress=true;if(!a.validatable.validateInput(d)||(!X&&a.trigger(B,{values:c}))){V.preventDefault()}}finally{a._validationEventInProgress=false}},end:function(){return this.validatable.validate()},destroy:function(){var V=this;V.angular("cleanup",function(){return{elements:V.element}});R.fn.destroy.call(V);V.options.model.unbind("set",V._validateProxy);N.unbind(V.element);if(V.validatable){V.validatable.destroy()}N.destroy(V.element);V.element.removeData("kendoValidator")},refresh:function(){var b=this,Z,a,f=b.options.fields||[],d=b.options.clearContainer?b.element.empty():b.element,g=b.options.model||{},Y={},c,e,X,V,W;if(!T.isArray(f)){f=[f]}for(Z=0,a=f.length;Z<a;Z++){c=f[Z];e=G(c);X=e?c.field:c;V=(g.fields||g)[X];K(V,Y);b.editor(c,V)}if(b.options.target){b.angular("compile",function(){return{elements:d,data:[{dataItem:g}]}})}if(!a){W=g.fields||g;for(X in W){K(W[X],Y)}}E(d);if(b.validatable){b.validatable.destroy()}N.bind(d,b.options.model);b.options.model.unbind("set",b._validateProxy);b.options.model.bind("set",b._validateProxy);b.validatable=new N.ui.Validator(d,{validateOnBlur:false,errorTemplate:b.options.errorTemplate||S,rules:Y});var h=d.find(":kendoFocusable").eq(0).focus();if(A){h.focus()}}});C.plugin(L)})(window.kendo.jQuery);(function(h,j){var W=window.kendo,Q=W.ui.Widget,X=W.ui.Draggable,Z=h.isPlainObject,a=W._activeElement,Ac=h.proxy,c=h.extend,O=h.each,m=W.template,I="body",r,Aa=".kendoWindow",Y=".k-window",A=".k-window-title",C=A+"bar",f=".k-window-content",H=".k-resize-handle",J=".k-overlay",z="k-content-frame",t="k-loading",y="k-state-hover",U="k-state-focused",q="k-window-maximized",n=":visible",s="hidden",V="cursor",B="open",u="activate",x="deactivate",R="close",N="refresh",o="resize",S="resizeEnd",d="dragstart",b="dragend",l="error",k="overflow",D="zIndex",v=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",P=".k-i-pin",p=".k-i-unpin",F=P+","+p,L=".k-window-titlebar .k-window-action",G=".k-window-titlebar .k-i-refresh",T=W.isLocalUrl;function Ab(Ad){return(typeof Ad!="undefined")}function K(Ae,Ad,Af){return Math.max(Math.min(parseInt(Ae,10),Af===Infinity?Af:parseInt(Af,10)),parseInt(Ad,10))}function e(Ad,Ae){return function(){var Ag=this,Af=Ag.wrapper,Ai=Af[0].style,Ah=Ag.options;if(Ah.isMaximized||Ah.isMinimized){return Ag}Ag.restoreOptions={width:Ai.width,height:Ai.height};Af.children(H).hide().end().children(C).find(v).parent().hide().eq(0).before(r.action({name:"Restore"}));Ae.call(Ag);if(Ad=="maximize"){Ag.wrapper.children(C).find(F).parent().hide()}else{Ag.wrapper.children(C).find(F).parent().show()}return Ag}}function g(){return !this.type||this.type.toLowerCase().indexOf("script")>=0}var M=Q.extend({init:function(Ae,Ai){var Al=this,Am,Af={},Ah,An,Aj,Ao=false,Ap,Ad,Ag=Ai&&Ai.actions&&!Ai.actions.length,Ak;Q.fn.init.call(Al,Ae,Ai);Ai=Al.options;Aj=Ai.position;Ae=Al.element;Ap=Ai.content;if(Ag){Ai.actions=[]}Al.appendTo=h(Ai.appendTo);Al._animations();if(Ap&&!Z(Ap)){Ap=Ai.content={url:Ap}}Ae.find("script").filter(g).remove();if(!Ae.parent().is(Al.appendTo)&&(Aj.top===j||Aj.left===j)){if(Ae.is(n)){Af=Ae.offset();Ao=true}else{Ah=Ae.css("visibility");An=Ae.css("display");Ae.css({visibility:s,display:""});Af=Ae.offset();Ae.css({visibility:Ah,display:An})}if(Aj.top===j){Aj.top=Af.top}if(Aj.left===j){Aj.left=Af.left}}if(!Ab(Ai.visible)||Ai.visible===null){Ai.visible=Ae.is(n)}Am=Al.wrapper=Ae.closest(Y);if(!Ae.is(".k-content")||!Am[0]){Ae.addClass("k-window-content k-content");Al._createWindow(Ae,Ai);Am=Al.wrapper=Ae.closest(Y);Al._dimensions()}Al._position();if(Ai.pinned){Al.pin(true)}if(Ap){Al.refresh(Ap)}if(Ai.visible){Al.toFront()}Ad=Am.children(f);Al._tabindex(Ad);if(Ai.visible&&Ai.modal){Al._overlay(Am.is(n)).css({opacity:0.5})}Am.on("mouseenter"+Aa,L,Ac(Al._buttonEnter,Al)).on("mouseleave"+Aa,L,Ac(Al._buttonLeave,Al)).on("click"+Aa,"> "+L,Ac(Al._windowActionHandler,Al));Ad.on("keydown"+Aa,Ac(Al._keydown,Al)).on("focus"+Aa,Ac(Al._focus,Al)).on("blur"+Aa,Ac(Al._blur,Al));this._resizable();this._draggable();Ak=Ae.attr("id");if(Ak){Ak=Ak+"_wnd_title";Am.children(C).children(A).attr("id",Ak);Ad.attr({"role":"dialog","aria-labelledby":Ak})}Am.add(Am.children(".k-resize-handle,"+C)).on("mousedown"+Aa,Ac(Al.toFront,Al));Al.touchScroller=W.touchScroller(Ae);Al._resizeHandler=Ac(Al._onDocumentResize,Al);Al._marker=W.guid().substring(0,8);h(window).on("resize"+Aa+Al._marker,Al._resizeHandler);if(Ai.visible){Al.trigger(B);Al.trigger(u)}W.notify(Al)},_buttonEnter:function(Ad){h(Ad.currentTarget).addClass(y)},_buttonLeave:function(Ad){h(Ad.currentTarget).removeClass(y)},_focus:function(){this.wrapper.addClass(U)},_blur:function(){this.wrapper.removeClass(U)},_dimensions:function(){var Ak=this.wrapper;var Ah=this.options;var Ai=Ah.width;var Ae=Ah.height;var Aj=Ah.maxHeight;var Ad=["minWidth","minHeight","maxWidth","maxHeight"];this.title(Ah.title);for(var Ag=0;Ag<Ad.length;Ag++){var Af=Ah[Ad[Ag]];if(Af&&Af!=Infinity){Ak.css(Ad[Ag],Af)}}if(Aj&&Aj!=Infinity){this.element.css("maxHeight",Aj)}if(Ai){if(Ai.toString().indexOf("%")>0){Ak.width(Ai)}else{Ak.width(K(Ai,Ah.minWidth,Ah.maxWidth))}}if(Ae){if(Ae.toString().indexOf("%")>0){Ak.height(Ae)}else{Ak.height(K(Ae,Ah.minHeight,Ah.maxHeight))}}if(!Ah.visible){Ak.hide()}},_position:function(){var Ad=this.wrapper,Ae=this.options.position;if(Ae.top===0){Ae.top=Ae.top.toString()}if(Ae.left===0){Ae.left=Ae.left.toString()}Ad.css({top:Ae.top||"",left:Ae.left||""})},_animations:function(){var Ad=this.options;if(Ad.animation===false){Ad.animation={open:{effects:{}},close:{hide:true,effects:{}}}}},_resize:function(){W.resize(this.element.children())},_resizable:function(){var Ad=this.options.resizable;var Ae=this.wrapper;if(this.resizing){Ae.off("dblclick"+Aa).children(H).remove();this.resizing.destroy();this.resizing=null}if(Ad){Ae.on("dblclick"+Aa,C,Ac(function(Af){if(!h(Af.target).closest(".k-window-action").length){this.toggleMaximization()}},this));O("n e s w se sw ne nw".split(" "),function(Ag,Af){Ae.append(r.resizeHandle(Af))});this.resizing=new w(this)}Ae=null},_draggable:function(){var Ad=this.options.draggable;if(this.dragging){this.dragging.destroy();this.dragging=null}if(Ad){this.dragging=new E(this,Ad.dragHandle||C)}},_actions:function(){var Af=this.options.actions;var Ad=this.wrapper.children(C);var Ae=Ad.find(".k-window-actions");Af=h.map(Af,function(Ag){return{name:Ag}});Ae.html(W.render(r.action,Af))},setOptions:function(Ad){Q.fn.setOptions.call(this,Ad);this.restore();this._animations();this._dimensions();this._position();this._resizable();this._draggable();this._actions()},events:[B,u,x,R,N,o,S,d,b,l],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:0.7}},fade:{direction:"out"}},duration:350,hide:true}},title:"",actions:["Close"],autoFocus:true,modal:false,resizable:true,draggable:true,minWidth:90,minHeight:50,maxWidth:Infinity,maxHeight:Infinity,pinned:false,position:{},content:null,visible:null,height:null,width:null,appendTo:"body"},_closable:function(){return h.inArray("close",h.map(this.options.actions,function(Ad){return Ad.toLowerCase()}))>-1},_keydown:function(Ad){var Ak=this,Al=Ak.options,Am=W.keys,Aq=Ad.keyCode,Ao=Ak.wrapper,Af,Ai,Ap=10,An=Ak.options.isMaximized,Aj,Ah,Ag,Ae;if(Ad.target!=Ad.currentTarget||Ak._closing){return}if(Aq==Am.ESC&&Ak._closable()){Ak._close(false)}if(Al.draggable&&!Ad.ctrlKey&&!An){Af=W.getOffset(Ao);if(Aq==Am.UP){Ai=Ao.css("top",Af.top-Ap)}else{if(Aq==Am.DOWN){Ai=Ao.css("top",Af.top+Ap)}else{if(Aq==Am.LEFT){Ai=Ao.css("left",Af.left-Ap)}else{if(Aq==Am.RIGHT){Ai=Ao.css("left",Af.left+Ap)}}}}}if(Al.resizable&&Ad.ctrlKey&&!An){if(Aq==Am.UP){Ai=true;Ah=Ao.height()-Ap}else{if(Aq==Am.DOWN){Ai=true;Ah=Ao.height()+Ap}}if(Aq==Am.LEFT){Ai=true;Aj=Ao.width()-Ap}else{if(Aq==Am.RIGHT){Ai=true;Aj=Ao.width()+Ap}}if(Ai){Ag=K(Aj,Al.minWidth,Al.maxWidth);Ae=K(Ah,Al.minHeight,Al.maxHeight);if(!isNaN(Ag)){Ao.width(Ag);Ak.options.width=Ag+"px"}if(!isNaN(Ae)){Ao.height(Ae);Ak.options.height=Ae+"px"}Ak.resize()}}if(Ai){Ad.preventDefault()}},_overlay:function(Ae){var Af=this.appendTo.children(J),Ad=this.wrapper;if(!Af.length){Af=h("<div class='k-overlay' />")}Af.insertBefore(Ad[0]).toggle(Ae).css(D,parseInt(Ad.css(D),10)-1);return Af},_actionForIcon:function(Ae){var Ad=/\bk-i-\w+\b/.exec(Ae[0].className)[0];return{"k-i-close":"_close","k-i-maximize":"maximize","k-i-minimize":"minimize","k-i-restore":"restore","k-i-refresh":"refresh","k-i-pin":"pin","k-i-unpin":"unpin"}[Ad]},_windowActionHandler:function(Ae){if(this._closing){return}var Af=h(Ae.target).closest(".k-window-action").find(".k-icon");var Ad=this._actionForIcon(Af);if(Ad){Ae.preventDefault();this[Ad]();return false}},_modals:function(){var Ad=this;var Ae=h(Y).filter(function(){var Af=h(this);var Ag=Ad._object(Af);var Ah=Ag&&Ag.options;return Ah&&Ah.modal&&Ah.visible&&Af.is(n)}).sort(function(Ag,Af){return +h(Ag).css("zIndex")-+h(Af).css("zIndex")});Ad=null;return Ae},_object:function(Ae){var Ad=Ae.children(f);return Ad.data("kendoWindow")||Ad.data("kendo"+this.options.name)},center:function(){var Ah=this,Af=Ah.options.position,Aj=Ah.wrapper,Ai=h(window),Ad=0,Ae=0,Ak,Ag;if(Ah.options.isMaximized){return Ah}if(!Ah.options.pinned){Ad=Ai.scrollTop();Ae=Ai.scrollLeft()}Ag=Ae+Math.max(0,(Ai.width()-Aj.width())/2);Ak=Ad+Math.max(0,(Ai.height()-Aj.height()-parseInt(Aj.css("paddingTop"),10))/2);Aj.css({left:Ag,top:Ak});Af.top=Ak;Af.left=Ag;return Ah},title:function(Ai){var Ag=this,Af=Ag.wrapper,Ah=Ag.options,Ad=Af.children(C),Aj=Ad.children(A),Ae;if(!arguments.length){return Aj.text()}if(Ai===false){Af.addClass("k-window-titleless");Ad.remove()}else{if(!Ad.length){Af.prepend(r.titlebar(Ah));Ag._actions();Ad=Af.children(C)}else{Aj.html(Ai)}Ae=Ad.outerHeight();Af.css("padding-top",Ae);Ad.css("margin-top",-Ae)}Ag.options.title=Ai;return Ag},content:function(Ad,Ag){var Af=this.wrapper.children(f),Ae=Af.children(".km-scroll-container");Af=Ae[0]?Ae:Af;if(!Ab(Ad)){return Af.html()}this.angular("cleanup",function(){return{elements:Af.children()}});W.destroy(this.element.children());Af.empty().html(Ad);this.angular("compile",function(){var Ai=[];for(var Ah=Af.length;--Ah>=0;){Ai.push({dataItem:Ag})}return{elements:Af.children(),data:Ai}});return this},open:function(){var Ag=this,Ak=Ag.wrapper,Ah=Ag.options,Af=Ah.animation.open,Aj=Ak.children(f),Ad,Ai=h(document);if(!Ag.trigger(B)){if(Ag._closing){Ak.kendoStop(true,true)}Ag._closing=false;Ag.toFront();if(Ah.autoFocus){Ag.element.focus()}Ah.visible=true;if(Ah.modal){Ad=Ag._overlay(false);Ad.kendoStop(true,true);if(Af.duration&&W.effects.Fade){var Ae=W.fx(Ad).fadeIn();Ae.duration(Af.duration||0);Ae.endValue(0.5);Ae.play()}else{Ad.css("opacity",0.5)}Ad.show()}if(!Ak.is(n)){Aj.css(k,s);Ak.show().kendoStop().kendoAnimate({effects:Af.effects,duration:Af.duration,complete:Ac(this._activate,this)})}}if(Ah.isMaximized){Ag._documentScrollTop=Ai.scrollTop();Ag._documentScrollLeft=Ai.scrollLeft();h("html, body").css(k,s)}return Ag},_activate:function(){if(this.options.autoFocus){this.element.focus()}this.trigger(u);this.wrapper.children(f).css(k,"")},_removeOverlay:function(Ae){var Ai=this._modals();var Ag=this.options;var Af=Ag.modal&&!Ai.length;var Ah=Ag.modal?this._overlay(true):h(j);var Aj=Ag.animation.close;if(Af){if(!Ae&&Aj.duration&&W.effects.Fade){var Ad=W.fx(Ah).fadeOut();Ad.duration(Aj.duration||0);Ad.startValue(0.5);Ad.play()}else{this._overlay(false).remove()}}else{if(Ai.length){this._object(Ai.last())._overlay(true)}}},_close:function(Ag){var Ae=this,Ad=Ae.wrapper,Af=Ae.options,Ah=Af.animation.open,Ai=Af.animation.close,Aj=h(document);if(Ad.is(n)&&!Ae.trigger(R,{userTriggered:!Ag})){if(Ae._closing){return}Ae._closing=true;Af.visible=false;h(Y).each(function(Ak,Am){var Al=h(Am).children(f);if(Am!=Ad&&Al.find("> ."+z).length>0){Al.children(J).remove()}});this._removeOverlay();Ad.kendoStop().kendoAnimate({effects:Ai.effects||Ah.effects,reverse:Ai.reverse===true,duration:Ai.duration,complete:Ac(this._deactivate,this)})}if(Ae.options.isMaximized){h("html, body").css(k,"");if(Ae._documentScrollTop&&Ae._documentScrollTop>0){Aj.scrollTop(Ae._documentScrollTop)}if(Ae._documentScrollLeft&&Ae._documentScrollLeft>0){Aj.scrollLeft(Ae._documentScrollLeft)}}},_deactivate:function(){this.wrapper.hide().css("opacity","");this.trigger(x);var Ad=this._object(this._modals().last());if(Ad){Ad.toFront()}},close:function(){this._close(true);return this},_actionable:function(Ad){return h(Ad).is(L+","+L+" .k-icon,:input,a")},_shouldFocus:function(Ae){var Ad=a(),Af=this.element;return this.options.autoFocus&&!h(Ad).is(Af)&&!this._actionable(Ae)&&(!Af.find(Ad).length||!Af.find(Ae).length)},toFront:function(Ae){var Ah=this,Ak=Ah.wrapper,Ad=Ak[0],Ai=+Ak.css(D),Al=Ai,Aj=(Ae&&Ae.target)||null;h(Y).each(function(Am,Aq){var Ao=h(Aq),An=Ao.css(D),Ap=Ao.children(f);if(!isNaN(An)){Ai=Math.max(+An,Ai)}if(Aq!=Ad&&Ap.find("> ."+z).length>0){Ap.append(r.overlay)}});if(!Ak[0].style.zIndex||Al<Ai){Ak.css(D,Ai+2)}Ah.element.find("> .k-overlay").remove();if(Ah._shouldFocus(Aj)){Ah.element.focus();var Af=h(window).scrollTop(),Ag=parseInt(Ak.position().top,10);if(Ag>0&&Ag<Af){if(Af>0){h(window).scrollTop(Ag)}else{Ak.css("top",Af)}}}Ak=null;return Ah},toggleMaximization:function(){if(this._closing){return this}return this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var Ad=this;var Ae=Ad.options;var Af=Ae.minHeight;var Ag=Ad.restoreOptions;var Ah=h(document);if(!Ae.isMaximized&&!Ae.isMinimized){return Ad}if(Af&&Af!=Infinity){Ad.wrapper.css("min-height",Af)}Ad.wrapper.css({position:Ae.pinned?"fixed":"absolute",left:Ag.left,top:Ag.top,width:Ag.width,height:Ag.height}).removeClass(q).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(v).parent().show().end().end().find(F).parent().show();Ad.options.width=Ag.width;Ad.options.height=Ag.height;h("html, body").css(k,"");if(this._documentScrollTop&&this._documentScrollTop>0){Ah.scrollTop(this._documentScrollTop)}if(this._documentScrollLeft&&this._documentScrollLeft>0){Ah.scrollLeft(this._documentScrollLeft)}Ae.isMaximized=Ae.isMinimized=false;Ad.resize();return Ad},maximize:e("maximize",function(){var Ae=this,Ad=Ae.wrapper,Af=Ad.position(),Ag=h(document);c(Ae.restoreOptions,{left:Af.left,top:Af.top});Ad.css({left:0,top:0,position:"fixed"}).addClass(q);this._documentScrollTop=Ag.scrollTop();this._documentScrollLeft=Ag.scrollLeft();h("html, body").css(k,s);Ae.options.isMaximized=true;Ae._onDocumentResize()}),minimize:e("minimize",function(){var Ad=this;Ad.wrapper.css({height:"",minHeight:""});Ad.element.hide();Ad.options.isMinimized=true}),pin:function(Ah){var Ae=this,Ai=h(window),Ad=Ae.wrapper,Ag=parseInt(Ad.css("top"),10),Af=parseInt(Ad.css("left"),10);if(Ah||!Ae.options.pinned&&!Ae.options.isMaximized){Ad.css({position:"fixed",top:Ag-Ai.scrollTop(),left:Af-Ai.scrollLeft()});Ad.children(C).find(P).addClass("k-i-unpin").removeClass("k-i-pin");Ae.options.pinned=true}},unpin:function(){var Ae=this,Ah=h(window),Ad=Ae.wrapper,Ag=parseInt(Ad.css("top"),10),Af=parseInt(Ad.css("left"),10);if(Ae.options.pinned&&!Ae.options.isMaximized){Ad.css({position:"",top:Ag+Ah.scrollTop(),left:Af+Ah.scrollLeft()});Ad.children(C).find(p).addClass("k-i-pin").removeClass("k-i-unpin");Ae.options.pinned=false}},_onDocumentResize:function(){var Ag=this,Af=Ag.wrapper,Ad=h(window),Ah=W.support.zoomLevel(),Ai,Ae;if(!Ag.options.isMaximized){return}Ai=Ad.width()/Ah;Ae=Ad.height()/Ah-parseInt(Af.css("padding-top"),10);Af.css({width:Ai,height:Ae});Ag.options.width=Ai;Ag.options.height=Ae;Ag.resize()},refresh:function(Ah){var Ag=this,Ad=Ag.options,Ai=h(Ag.element),Ae,Aj,Af;if(!Z(Ah)){Ah={url:Ah}}Ah=c({},Ad.content,Ah);Aj=Ab(Ad.iframe)?Ad.iframe:Ah.iframe;Af=Ah.url;if(Af){if(!Ab(Aj)){Aj=!T(Af)}if(!Aj){Ag._ajaxRequest(Ah)}else{Ae=Ai.find("."+z)[0];if(Ae){Ae.src=Af||Ae.src}else{Ai.html(r.contentFrame(c({},Ad,{content:Ah})))}Ai.find("."+z).unbind("load"+Aa).on("load"+Aa,Ac(this._triggerRefresh,this))}}else{if(Ah.template){Ag.content(m(Ah.template)({}))}Ag.trigger(N)}Ai.toggleClass("k-window-iframecontent",!!Aj);return Ag},_triggerRefresh:function(){this.trigger(N)},_ajaxComplete:function(){clearTimeout(this._loadingIconTimeout);this.wrapper.find(G).removeClass(t)},_ajaxError:function(Ae,Ad){this.trigger(l,{status:Ad,xhr:Ae})},_ajaxSuccess:function(Ad){return function(Af){var Ae=Af;if(Ad){Ae=m(Ad)(Af||{})}this.content(Ae,Af);this.element.prop("scrollTop",0);this.trigger(N)}},_showLoading:function(){this.wrapper.find(G).addClass(t)},_ajaxRequest:function(Ad){this._loadingIconTimeout=setTimeout(Ac(this._showLoading,this),100);h.ajax(c({type:"GET",dataType:"html",cache:false,error:Ac(this._ajaxError,this),complete:Ac(this._ajaxComplete,this),success:Ac(this._ajaxSuccess(Ad.template),this)},Ad))},destroy:function(){var Ad=this;if(Ad.resizing){Ad.resizing.destroy()}if(Ad.dragging){Ad.dragging.destroy()}Ad.wrapper.off(Aa).children(f).off(Aa).end().find(".k-resize-handle,.k-window-titlebar").off(Aa);h(window).off("resize"+Aa+Ad._marker);clearTimeout(Ad._loadingIconTimeout);Q.fn.destroy.call(Ad);Ad.unbind(j);W.destroy(Ad.wrapper);Ad._removeOverlay(true);Ad.wrapper.empty().remove();Ad.wrapper=Ad.appendTo=Ad.element=h()},_createWindow:function(){var Ag=this.element,Af=this.options,Ah,Ae,Ad=W.support.isRtl(Ag);if(Af.scrollable===false){Ag.attr("style","overflow:hidden;")}Ae=h(r.wrapper(Af));Ah=Ag.find("iframe:not(.k-content)").map(function(){var Ai=this.getAttribute("src");this.src="";return Ai});Ae.toggleClass("k-rtl",Ad).appendTo(this.appendTo).append(Ag).find("iframe:not(.k-content)").each(function(Ai){this.src=Ah[Ai]});Ae.find(".k-window-title").css(Ad?"left":"right",Ae.find(".k-window-actions").outerWidth()+10);Ag.css("visibility","").show();Ag.find("[data-role=editor]").each(function(){var Ai=h(this).data("kendoEditor");if(Ai){Ai.refresh()}});Ae=Ag=null}});r={wrapper:m("<div class='k-widget k-window' />"),action:m("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span></a>"),titlebar:m("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #</span><div class='k-window-actions' /></div>"),overlay:"<div class='k-overlay' />",contentFrame:m("<iframe frameborder='0' title='#= title #' class='"+z+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),resizeHandle:m("<div class='k-resize-handle k-resize-#= data #'></div>")};function w(Ad){var Ae=this;Ae.owner=Ad;Ae._draggable=new X(Ad.wrapper,{filter:">"+H,group:Ad.wrapper.id+"-resizing",dragstart:Ac(Ae.dragstart,Ae),drag:Ac(Ae.drag,Ae),dragend:Ac(Ae.dragend,Ae)});Ae._draggable.userEvents.bind("press",Ac(Ae.addOverlay,Ae));Ae._draggable.userEvents.bind("release",Ac(Ae.removeOverlay,Ae))}w.prototype={addOverlay:function(){this.owner.wrapper.append(r.overlay)},removeOverlay:function(){this.owner.wrapper.find(J).remove()},dragstart:function(Ae){var Af=this;var Ad=Af.owner;var Ag=Ad.wrapper;Af.elementPadding=parseInt(Ag.css("padding-top"),10);Af.initialPosition=W.getOffset(Ag,"position");Af.resizeDirection=Ae.currentTarget.prop("className").replace("k-resize-handle k-resize-","");Af.initialSize={width:Ag.width(),height:Ag.height()};Af.containerOffset=W.getOffset(Ad.appendTo,"position");Ag.children(H).not(Ae.currentTarget).hide();h(I).css(V,Ae.currentTarget.css(V))},drag:function(Ad){var Aj=this,Ap=Aj.owner,An=Ap.wrapper,Ak=Ap.options,Ae=Aj.resizeDirection,Ao=Aj.containerOffset,Ai=Aj.initialPosition,Al=Aj.initialSize,Ar,Af,Ah,Ag,Am=Math.max(Ad.x.location,Ao.left),Aq=Math.max(Ad.y.location,Ao.top);if(Ae.indexOf("e")>=0){Ar=Am-Ai.left;An.width(K(Ar,Ak.minWidth,Ak.maxWidth))}else{if(Ae.indexOf("w")>=0){Ag=Ai.left+Al.width;Ar=K(Ag-Am,Ak.minWidth,Ak.maxWidth);An.css({left:Ag-Ar-Ao.left,width:Ar})}}if(Ae.indexOf("s")>=0){Af=Aq-Ai.top-Aj.elementPadding;An.height(K(Af,Ak.minHeight,Ak.maxHeight))}else{if(Ae.indexOf("n")>=0){Ah=Ai.top+Al.height;Af=K(Ah-Aq,Ak.minHeight,Ak.maxHeight);An.css({top:Ah-Af-Ao.top,height:Af})}}if(Ar){Ap.options.width=Ar+"px"}if(Af){Ap.options.height=Af+"px"}Ap.resize()},dragend:function(Ae){var Af=this,Ad=Af.owner,Ag=Ad.wrapper;Ag.children(H).not(Ae.currentTarget).show();h(I).css(V,"");if(Ad.touchScroller){Ad.touchScroller.reset()}if(Ae.keyCode==27){Ag.css(Af.initialPosition).css(Af.initialSize)}Ad.trigger(S);return false},destroy:function(){if(this._draggable){this._draggable.destroy()}this._draggable=this.owner=null}};function E(Ad,Af){var Ae=this;Ae.owner=Ad;Ae._draggable=new X(Ad.wrapper,{filter:Af,group:Ad.wrapper.id+"-moving",dragstart:Ac(Ae.dragstart,Ae),drag:Ac(Ae.drag,Ae),dragend:Ac(Ae.dragend,Ae),dragcancel:Ac(Ae.dragcancel,Ae)});Ae._draggable.userEvents.stopPropagation=false}E.prototype={dragstart:function(Ae){var Ad=this.owner,Ag=Ad.element,Af=Ag.find(".k-window-actions"),Ah=W.getOffset(Ad.appendTo);Ad.trigger(d);Ad.initialWindowPosition=W.getOffset(Ad.wrapper,"position");Ad.startPosition={left:Ae.x.client-Ad.initialWindowPosition.left,top:Ae.y.client-Ad.initialWindowPosition.top};if(Af.length>0){Ad.minLeftPosition=Af.outerWidth()+parseInt(Af.css("right"),10)-Ag.outerWidth()}else{Ad.minLeftPosition=20-Ag.outerWidth()}Ad.minLeftPosition-=Ah.left;Ad.minTopPosition=-Ah.top;Ad.wrapper.append(r.overlay).children(H).hide();h(I).css(V,Ae.currentTarget.css(V))},drag:function(Ae){var Ad=this.owner,Af=Ad.options.position,Ag=Math.max(Ae.y.client-Ad.startPosition.top,Ad.minTopPosition),Ai=Math.max(Ae.x.client-Ad.startPosition.left,Ad.minLeftPosition),Ah={left:Ai,top:Ag};h(Ad.wrapper).css(Ah);Af.top=Ag;Af.left=Ai},_finishDrag:function(){var Ad=this.owner;Ad.wrapper.children(H).toggle(!Ad.options.isMinimized).end().find(J).remove();h(I).css(V,"")},dragcancel:function(Ad){this._finishDrag();Ad.currentTarget.closest(Y).css(this.owner.initialWindowPosition)},dragend:function(){this._finishDrag();this.owner.trigger(b);return false},destroy:function(){if(this._draggable){this._draggable.destroy()}this._draggable=this.owner=null}};W.ui.plugin(M)})(window.kendo.jQuery);(function(U,W){var N=window.kendo,E=window.angular,k=N.mobile,d=k.ui,n=N.attr,L=N.Class,J=d.Widget,m=N.ViewClone,B="init",D='<div style="height: 100%; width: 100%; position: absolute; top: 0; left: 0; z-index: 20000; display: none" />',S="beforeShow",A="show",Y="afterShow",K="beforeHide",e="transitionEnd",I="transitionStart",j="hide",Z="destroy",F="z-index",g=N.attrValue,b=N.roleSelector,l=N.directiveSelector,V=N.compileMobileDirective;function h(t){var p=t.find(b("popover")),s,q,r=d.roles;for(s=0,q=p.length;s<q;s++){N.initWidget(p[s],{},r)}}function a(p){if(!N.triggeredByInput(p)){p.preventDefault()}}var R=J.extend({init:function(q,p){J.fn.init.call(this,q,p);this.params={};U.extend(this,p);this.transition=this.transition||this.defaultTransition;this._id();if(!this.options.$angular){this._layout();this._overlay();this._scroller();this._model()}else{this._overlay()}},events:[B,S,A,Y,K,j,Z,I,e],options:{name:"View",title:"",layout:null,getLayout:U.noop,reload:false,transition:"",defaultTransition:"",useNativeScrolling:false,stretch:false,zoom:false,model:null,modelScope:window,scroller:{},initWidgets:true},enable:function(p){if(typeof p=="undefined"){p=true}if(p){this.overlay.hide()}else{this.overlay.show()}},destroy:function(){if(this.layout){this.layout.detach(this)}this.trigger(Z);J.fn.destroy.call(this);if(this.scroller){this.scroller.destroy()}if(this.options.$angular){this.element.scope().$destroy()}N.destroy(this.element)},purge:function(){this.destroy();this.element.remove()},triggerBeforeShow:function(){if(this.trigger(S,{view:this})){return false}return true},triggerBeforeHide:function(){if(this.trigger(K,{view:this})){return false}return true},showStart:function(){var p=this.element;p.css("display","");if(!this.inited){this.inited=true;this.trigger(B,{view:this})}else{this._invokeNgController()}if(this.layout){this.layout.attach(this)}this._padIfNativeScrolling();this.trigger(A,{view:this});N.resize(p)},showEnd:function(){this.trigger(Y,{view:this});this._padIfNativeScrolling()},hideEnd:function(){var p=this;p.element.hide();p.trigger(j,{view:p});if(p.layout){p.layout.trigger(j,{view:p,layout:p.layout})}},beforeTransition:function(p){this.trigger(I,{type:p})},afterTransition:function(p){this.trigger(e,{type:p})},_padIfNativeScrolling:function(){if(k.appLevelNativeScrolling()){var s=N.support.mobileOS&&N.support.mobileOS.android,p=k.application.skin()||"",q=k.application.os.android||(p.indexOf("android")>-1),t=p==="flat"||(p.indexOf("material")>-1),u=(s||q)&&(!t)?"footer":"header",r=(s||q)&&(!t)?"header":"footer";this.content.css({paddingTop:this[u].height(),paddingBottom:this[r].height()})}},contentElement:function(){var p=this;return p.options.stretch?p.content:p.scrollerContent},clone:function(p){return new m(this)},_scroller:function(){var p=this;if(k.appLevelNativeScrolling()){return}if(p.options.stretch){p.content.addClass("km-stretched-view")}else{p.content.kendoMobileScroller(U.extend(p.options.scroller,{zoom:p.options.zoom,useNative:p.options.useNativeScrolling}));p.scroller=p.content.data("kendoMobileScroller");p.scrollerContent=p.scroller.scrollElement}if(N.support.kineticScrollNeeded){U(p.element).on("touchmove",".km-header",a);if(!p.options.useNativeScrolling){U(p.element).on("touchmove",".km-content",a)}}},_model:function(){var p=this,q=p.element,r=p.options.model;if(typeof r==="string"){r=N.getter(r)(p.options.modelScope)}p.model=r;h(q);p.element.css("display","");if(p.options.initWidgets){if(r){N.bind(q,r,d,N.ui,N.dataviz.ui)}else{k.init(q.children())}}p.element.css("display","none")},_id:function(){var q=this.element,p=q.attr("id")||"";this.id=g(q,"url")||"#"+p;if(this.id=="#"){this.id=N.guid();q.attr("id",this.id)}},_layout:function(){var p=b("content"),q=this.element;q.addClass("km-view");this.header=q.children(b("header")).addClass("km-header");this.footer=q.children(b("footer")).addClass("km-footer");if(!q.children(p)[0]){q.wrapInner("<div "+n("role")+'="content"></div>')}this.content=q.children(b("content")).addClass("km-content");this.element.prepend(this.header).append(this.footer);this.layout=this.options.getLayout(this.layout);if(this.layout){this.layout.setup(this)}},_overlay:function(){this.overlay=U(D).appendTo(this.element)},_invokeNgController:function(){var r,q;if(this.options.$angular){r=this.element.controller();q=this.element.scope();if(r){var p=U.proxy(this,"_callController",r,q);if(/^\$(digest|apply)$/.test(q.$$phase)){p()}else{q.$apply(p)}}}},_callController:function(q,p){this.element.injector().invoke(q.constructor,q,{$scope:p})}});function G(p){p.each(function(){N.initWidget(U(this),{},d.roles)})}var f=J.extend({init:function(q,p){J.fn.init.call(this,q,p);q=this.element;this.header=q.children(this._locate("header")).addClass("km-header");this.footer=q.children(this._locate("footer")).addClass("km-footer");this.elements=this.header.add(this.footer);h(q);if(!this.options.$angular){N.mobile.init(this.element.children())}this.element.detach();this.trigger(B,{layout:this})},_locate:function(p){return this.options.$angular?l(p):b(p)},options:{name:"Layout",id:null,platform:null},events:[B,A,j],setup:function(p){if(!p.header[0]){p.header=this.header}if(!p.footer[0]){p.footer=this.footer}},detach:function(q){var p=this;if(q.header===p.header&&p.header[0]){q.element.prepend(p.header.detach()[0].cloneNode(true))}if(q.footer===p.footer&&p.footer.length){q.element.append(p.footer.detach()[0].cloneNode(true))}},attach:function(q){var p=this,r=p.currentView;if(r){p.detach(r)}if(q.header===p.header){p.header.detach();q.element.children(b("header")).remove();q.element.prepend(p.header)}if(q.footer===p.footer){p.footer.detach();q.element.children(b("footer")).remove();q.element.append(p.footer)}p.trigger(A,{layout:p,view:q});p.currentView=q}});var T=N.Observable,O=/<body[^>]*>(([\u000a\u000d\u2028\u2029]|.)*)<\/body>/i,X="loadStart",o="loadComplete",P="showStart",Q="sameViewRequested",M="viewShow",H="viewTypeDetermined",c="after";var C=T.extend({init:function(s){var q=this,p,r,t,u;T.fn.init.call(q);U.extend(q,s);q.sandbox=U("<div />");t=q.container;p=q._hideViews(t);q.rootView=p.first();if(!q.rootView[0]&&s.rootNeeded){if(t[0]==N.mobile.application.element[0]){r='Your kendo mobile application element does not contain any direct child elements with data-role="view" attribute set. Make sure that you instantiate the mobile application using the correct container.'}else{r='Your pane element does not contain any direct child elements with data-role="view" attribute set.'}throw new Error(r)}q.layouts={};q.viewContainer=new N.ViewContainer(q.container);q.viewContainer.bind("accepted",function(v){v.view.params=q.params});q.viewContainer.bind("complete",function(v){q.trigger(M,{view:v.view})});q.viewContainer.bind(c,function(v){q.trigger(c)});this.getLayoutProxy=U.proxy(this,"_getLayout");q._setupLayouts(t);u=t.children(q._locate("modalview drawer"));if(q.$angular){q.$angular[0].viewOptions={defaultTransition:q.transition,loader:q.loader,container:q.container,getLayout:q.getLayoutProxy};u.each(function(v,w){V(U(w),s.$angular[0])})}else{G(u)}this.bind(this.events,s)},events:[P,c,M,X,o,Q,H],destroy:function(){N.destroy(this.container);for(var p in this.layouts){this.layouts[p].destroy()}},view:function(){return this.viewContainer.view},showView:function(p,u,v){p=p.replace(new RegExp("^"+this.remoteViewURLPrefix),"");if(p===""&&this.remoteViewURLPrefix){p="/"}if(p.replace(/^#/,"")===this.url){this.trigger(Q);return false}this.trigger(P);var q=this,s=function(w){return q.viewContainer.show(w,u,p)},t=q._findViewElement(p),r=N.widgetInstance(t);q.url=p.replace(/^#/,"");q.params=v;if(r&&r.reload){r.purge();t=[]}this.trigger(H,{remote:t.length===0,url:p});if(t[0]){if(!r){r=q._createView(t)}return s(r)}else{if(this.serverNavigation){location.href=p}else{q._loadView(p,s)}return true}},append:function(v,t){var u=this.sandbox,w=(t||"").split("?")[0],s=this.container,p,q,r;if(O.test(v)){v=RegExp.$1}u[0].innerHTML=v;s.append(u.children("script, style"));p=this._hideViews(u);r=p.first();if(!r.length){p=r=u.wrapInner("<div data-role=view />").children()}if(w){r.hide().attr(n("url"),w)}this._setupLayouts(u);q=u.children(this._locate("modalview drawer"));s.append(u.children(this._locate("layout modalview drawer")).add(p));G(q);return this._createView(r)},_locate:function(p){return this.$angular?l(p):b(p)},_findViewElement:function(p){var r,q=p.split("?")[0];if(!q){return this.rootView}r=this.container.children("["+n("url")+"='"+q+"']");if(!r[0]&&q.indexOf("/")===-1){r=this.container.children(q.charAt(0)==="#"?q:"#"+q)}return r},_createView:function(p){if(this.$angular){return V(p,this.$angular[0])}else{return N.initWidget(p,{defaultTransition:this.transition,loader:this.loader,container:this.container,getLayout:this.getLayoutProxy,modelScope:this.modelScope,reload:g(p,"reload")},d.roles)}},_getLayout:function(p){if(p===""){return null}return p?this.layouts[p]:this.layouts[this.layout]},_loadView:function(q,p){if(this._xhr){this._xhr.abort()}this.trigger(X);this._xhr=U.get(N.absoluteURL(q,this.remoteViewURLPrefix),"html").always(U.proxy(this,"_xhrComplete",p,q))},_xhrComplete:function(p,q,u,r,t){var s=true;if(typeof u==="object"){if(u.status===0){if(u.responseText&&u.responseText.length>0){s=true;u=u.responseText}else{return}}}this.trigger(o);if(s){p(this.append(u,q))}},_hideViews:function(p){return p.children(this._locate("view splitview")).hide()},_setupLayouts:function(r){var p=this,q;r.children(p._locate("layout")).each(function(){if(p.$angular){q=V(U(this),p.$angular[0])}else{q=N.initWidget(U(this),{},d.roles)}var s=q.options.platform;if(!s||s===k.application.os.name){p.layouts[q.options.id]=q}else{q.destroy()}})}});N.mobile.ViewEngine=C;d.plugin(R);d.plugin(f)})(window.kendo.jQuery);(function(G,F){var C=window.kendo,A=C.mobile.ui,D=A.Widget,E=G.map(C.eventMap,function(H){return H}).join(" ").split(" ");var B=D.extend({init:function(J,I){var H=this,K=G('<div class="km-loader"><span class="km-loading km-spin"></span><span class="km-loading-left"></span><span class="km-loading-right"></span></div>');D.fn.init.call(H,K,I);H.container=J;H.captureEvents=false;H._attachCapture();K.append(H.options.loading).hide().appendTo(J)},options:{name:"Loader",loading:"<h1>Loading...</h1>",timeout:100},show:function(){var H=this;clearTimeout(H._loading);if(H.options.loading===false){return}H.captureEvents=true;H._loading=setTimeout(function(){H.element.show()},H.options.timeout)},hide:function(){this.captureEvents=false;clearTimeout(this._loading);this.element.hide()},changeMessage:function(H){this.options.loading=H;this.element.find(">h1").html(H)},transition:function(){this.captureEvents=true;this.container.css("pointer-events","none")},transitionDone:function(){this.captureEvents=false;this.container.css("pointer-events","")},_attachCapture:function(){var J=this;J.captureEvents=false;function H(K){if(J.captureEvents){K.preventDefault()}}for(var I=0;I<E.length;I++){J.container[0].addEventListener(E[I],H,true)}}});A.plugin(B)})(window.kendo.jQuery);(function(S,R){var P=window.kendo,O=P.mobile,G=P.roleSelector,D=O.ui,B=D.Widget,J=O.ViewEngine,L=D.View,U=O.ui.Loader,Q="external",F="href",K="#!",T="navigate",H="viewShow",A="sameViewRequested",V=P.support.mobileOS,E=V.ios&&!V.appMode&&V.flatVersion>=700,I=/popover|actionsheet|modalview|drawer/,M="#:back",C=P.attrValue;var N=B.extend({init:function(Y,X){var W=this;B.fn.init.call(W,Y,X);X=W.options;Y=W.element;Y.addClass("km-pane");if(W.options.collapsible){Y.addClass("km-collapsible-pane")}this.history=[];this.historyCallback=function(Z,c,b){var a=W.transition;W.transition=null;if(E&&b){a="none"}return W.viewEngine.showView(Z,a,c)};this._historyNavigate=function(Z){if(Z===M){if(W.history.length===1){return}W.history.pop();Z=W.history[W.history.length-1]}else{W.history.push(Z)}W.historyCallback(Z,P.parseQueryStringParams(Z))};this._historyReplace=function(Z){var a=P.parseQueryStringParams(Z);W.history[W.history.length-1]=Z;W.historyCallback(Z,a)};W.loader=new U(Y,{loading:W.options.loading});W.viewEngine=new J({container:Y,transition:X.transition,modelScope:X.modelScope,rootNeeded:!X.initial,serverNavigation:X.serverNavigation,remoteViewURLPrefix:X.root||"",layout:X.layout,$angular:X.$angular,loader:W.loader,showStart:function(){W.loader.transition();W.closeActiveDialogs()},after:function(Z){W.loader.transitionDone()},viewShow:function(Z){W.trigger(H,Z)},loadStart:function(){W.loader.show()},loadComplete:function(){W.loader.hide()},sameViewRequested:function(){W.trigger(A)},viewTypeDetermined:function(Z){if(!Z.remote||!W.options.serverNavigation){W.trigger(T,{url:Z.url})}}});this._setPortraitWidth();P.onResize(function(){W._setPortraitWidth()});W._setupAppLinks()},closeActiveDialogs:function(){var W=this.element.find(G("actionsheet popover modalview")).filter(":visible");W.each(function(){P.widgetInstance(S(this),D).close()})},navigateToInitial:function(){var W=this.options.initial;if(W){this.navigate(W)}},options:{name:"Pane",portraitWidth:"",transition:"",layout:"",collapsible:false,initial:null,modelScope:window,loading:"<h1>Loading...</h1>"},events:[T,H,A],append:function(W){return this.viewEngine.append(W)},destroy:function(){B.fn.destroy.call(this);this.viewEngine.destroy();this.userEvents.destroy()},navigate:function(W,X){if(W instanceof L){W=W.id}this.transition=X;this._historyNavigate(W)},replace:function(W,X){if(W instanceof L){W=W.id}this.transition=X;this._historyReplace(W)},bindToRouter:function(Z){var X=this,W=this.history,Y=this.viewEngine;Z.bind("init",function(b){var d=b.url,c=Z.pushState?d:"/";Y.rootView.attr(P.attr("url"),c);var a=W.length;if(d==="/"&&a){Z.navigate(W[a-1],true);b.preventDefault()}});Z.bind("routeMissing",function(a){if(!X.historyCallback(a.url,a.params,a.backButtonPressed)){a.preventDefault()}});Z.bind("same",function(){X.trigger(A)});X._historyNavigate=function(a){Z.navigate(a)};X._historyReplace=function(a){Z.replace(a)}},hideLoading:function(){this.loader.hide()},showLoading:function(){this.loader.show()},changeLoadingMessage:function(W){this.loader.changeMessage(W)},view:function(){return this.viewEngine.view()},_setPortraitWidth:function(){var X,W=this.options.portraitWidth;if(W){X=P.mobile.application.element.is(".km-vertical")?W:"auto";this.element.css("width",X)}},_setupAppLinks:function(){var X=this,Z="tab",W="[data-"+P.ns+"navigate-on-press]",Y=S.map(["button","backbutton","detailbutton","listview-link"],function(a){return G(a)+":not("+W+")"}).join(",");this.element.handler(this).on("down",G(Z)+","+W,"_mouseup").on("click",G(Z)+","+Y+","+W,"_appLinkClick");this.userEvents=new P.UserEvents(this.element,{filter:Y,tap:function(a){a.event.currentTarget=a.touch.currentTarget;X._mouseup(a.event)}});this.element.css("-ms-touch-action","")},_appLinkClick:function(X){var W=S(X.currentTarget).attr("href");var Y=W&&W[0]!=="#"&&this.options.serverNavigation;if(!Y&&C(S(X.currentTarget),"rel")!=Q){X.preventDefault()}},_mouseup:function(W){if(W.which>1||W.isDefaultPrevented()){return}var f=this,X=S(W.currentTarget),a=C(X,"transition"),d=C(X,"rel")||"",b=C(X,"target"),c=X.attr(F),Y=E&&X[0].offsetHeight===0,Z=c&&c[0]!=="#"&&this.options.serverNavigation;if(Y||Z||d===Q||(typeof c==="undefined")||c===K){return}X.attr(F,K);setTimeout(function(){X.attr(F,c)});if(d.match(I)){P.widgetInstance(S(c),D).openFor(X);if(d==="actionsheet"||d==="drawer"){W.stopPropagation()}}else{if(b==="_top"){f=O.application.pane}else{if(b){f=S("#"+b).data("kendoMobilePane")}}f.navigate(c,a)}W.preventDefault()}});N.wrap=function(X){if(!X.is(G("view"))){X=X.wrap("<div data-"+P.ns+'role="view" data-stretch="true"></div>').parent()}var Y=X.wrap('<div class="km-pane-wrapper"><div></div></div>').parent(),W=new N(Y);W.navigate("");return W};D.plugin(N)})(window.kendo.jQuery);(function(S,R){var E=window.kendo,G=E.mobile,D=G.ui,C="show",M="hide",N="open",Q="close",I='<div class="km-popup-wrapper" />',J='<div class="km-popup-arrow" />',O='<div class="km-popup-overlay" />',H="km-up km-down km-left km-right",P=D.Widget,A={"down":{origin:"bottom center",position:"top center"},"up":{origin:"top center",position:"bottom center"},"left":{origin:"center left",position:"center right",collision:"fit flip"},"right":{origin:"center right",position:"center left",collision:"fit flip"}},L={animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:400}}},F={"horizontal":{offset:"top",size:"height"},"vertical":{offset:"left",size:"width"}},B={"up":"down","down":"up","left":"right","right":"left"};var K=P.extend({init:function(U,Z){var Y=this,b=U.closest(".km-modalview-wrapper"),X=U.closest(".km-root").children(".km-pane").first(),a=b[0]?b:X,W,V;if(Z.viewport){X=Z.viewport}else{if(!X[0]){X=window}}if(Z.container){a=Z.container}else{if(!a[0]){a=document.body}}W={viewport:X,copyAnchorStyles:false,autosize:true,open:function(){Y.overlay.show()},activate:S.proxy(Y._activate,Y),deactivate:function(){Y.overlay.hide();if(!Y._apiCall){Y.trigger(M)}Y._apiCall=false}};P.fn.init.call(Y,U,Z);U=Y.element;Z=Y.options;U.wrap(I).addClass("km-popup").show();V=Y.options.direction.match(/left|right/)?"horizontal":"vertical";Y.dimensions=F[V];Y.wrapper=U.parent().css({width:Z.width,height:Z.height}).addClass("km-popup-wrapper km-"+Z.direction).hide();Y.arrow=S(J).prependTo(Y.wrapper).hide();Y.overlay=S(O).appendTo(a).hide();W.appendTo=Y.overlay;if(Z.className){Y.overlay.addClass(Z.className)}Y.popup=new E.ui.Popup(Y.wrapper,S.extend(true,W,L,A[Z.direction]))},options:{name:"Popup",width:240,height:"",direction:"down",container:null,viewport:null},events:[M],show:function(U){this.popup.options.anchor=S(U);this.popup.open()},hide:function(){this._apiCall=true;this.popup.close()},destroy:function(){P.fn.destroy.call(this);this.popup.destroy();this.overlay.remove()},target:function(){return this.popup.options.anchor},_activate:function(){var b=this,V=b.options.direction,U=b.dimensions,X=U.offset,e=b.popup,d=e.options.anchor,g=S(d).offset(),W=S(e.element).offset(),a=e.flipped?B[V]:V,Y=b.arrow[U.size]()*2,Z=b.element[U.size]()-b.arrow[U.size](),f=S(d)[U.size](),c=g[X]-W[X]+(f/2);if(c<Y){c=Y}if(c>Z){c=Z}b.wrapper.removeClass(H).addClass("km-"+a);b.arrow.css(X,c).show()}});var T=P.extend({init:function(X,W){var V=this,U,Y;V.initialOpen=false;P.fn.init.call(V,X,W);U=S.extend({className:"km-popover-root",hide:function(){V.trigger(Q)}},this.options.popup);V.popup=new K(V.element,U);V.popup.overlay.on("move",function(Z){if(Z.target==V.popup.overlay[0]){Z.preventDefault()}});V.pane=new D.Pane(V.element,S.extend(this.options.pane,{$angular:this.options.$angular}));V.pane.navigateToInitial();E.notify(V,D)},options:{name:"PopOver",popup:{},pane:{}},events:[N,Q],open:function(U){this.popup.show(U);if(!this.initialOpen){this.pane.navigate("");this.popup.popup._position();this.initialOpen=true}else{this.pane.view()._invokeNgController()}},openFor:function(U){this.open(U);this.trigger(N,{target:this.popup.target()})},close:function(){this.popup.hide()},destroy:function(){P.fn.destroy.call(this);this.pane.destroy();this.popup.destroy();E.destroy(this.element)}});D.plugin(K);D.plugin(T)})(window.kendo.jQuery);(function(H,A){var B=window.kendo,J=B.mobile.ui,D=B.ui.Popup,E='<div class="km-shim"/>',C="show",I="hide",G=J.Widget;var F=G.extend({init:function(K,R){var Q=this,P=B.mobile.application,V=B.support.mobileOS,U=P?P.os.name:(V?V.name:"ios"),M=U==="ios"||U==="wp"||(P?P.os.skin:false),L=U==="blackberry",O=R.align||(M?"bottom center":L?"center right":"center center"),S=R.position||(M?"bottom center":L?"center right":"center center"),T=R.effect||(M?"slideIn:up":L?"slideIn:left":"fade:in"),N=H(E).handler(Q).hide();G.fn.init.call(Q,K,R);Q.shim=N;K=Q.element;R=Q.options;if(R.className){Q.shim.addClass(R.className)}if(!R.modal){Q.shim.on("up","_hide")}(P?P.element:H(document.body)).append(N);Q.popup=new D(Q.element,{anchor:N,modal:true,appendTo:N,origin:O,position:S,animation:{open:{effects:T,duration:R.duration},close:{duration:R.duration}},close:function(W){var X=false;if(!Q._apiCall){X=Q.trigger(I)}if(X){W.preventDefault()}Q._apiCall=false},deactivate:function(){N.hide()},open:function(){N.show()}});B.notify(Q)},events:[I],options:{name:"Shim",modal:false,align:A,position:A,effect:A,duration:200},show:function(){this.popup.open()},hide:function(){this._apiCall=true;this.popup.close()},destroy:function(){G.fn.destroy.call(this);this.shim.kendoDestroy();this.popup.destroy();this.shim.remove()},_hide:function(K){if(!K||!H.contains(this.shim.children().children(".k-popup")[0],K.target)){this.popup.close()}}});J.plugin(F)})(window.kendo.jQuery);(function(L,B){var D=window.kendo,C=D.support,P=D.mobile.ui,A=P.Shim,G=P.Popup,K=P.Widget,E="open",F="close",O="command",J="li>a",N="actionsheetContext",I='<div class="km-actionsheet-wrapper" />',H=D.template('<li class="km-actionsheet-cancel"><a href="\\#">#:cancel#</a></li>');var M=K.extend({init:function(W,U){var S=this,V,T,Q,R=C.mobileOS;K.fn.init.call(S,W,U);U=S.options;Q=U.type;W=S.element;if(Q==="auto"){T=R&&R.tablet}else{T=Q==="tablet"}V=T?G:A;if(U.cancelTemplate){H=D.template(U.cancelTemplate)}W.addClass("km-actionsheet").append(H({cancel:S.options.cancel})).wrap(I).on("up",J,"_click").on("click",J,D.preventDefault);S.view().bind("destroy",function(){S.destroy()});S.wrapper=W.parent().addClass(Q?" km-actionsheet-"+Q:"");S.shim=new V(S.wrapper,L.extend({modal:R.ios&&R.majorVersion<7,className:"km-actionsheet-root"},S.options.popup));S._closeProxy=L.proxy(S,"_close");S.shim.bind("hide",S._closeProxy);if(T){D.onResize(S._closeProxy)}D.notify(S,P)},events:[E,F,O],options:{name:"ActionSheet",cancel:"Cancel",type:"auto",popup:{height:"auto"}},open:function(S,Q){var R=this;R.target=L(S);R.context=Q;R.shim.show(S)},close:function(){this.context=this.target=null;this.shim.hide()},openFor:function(S){var R=this,Q=S.data(N);R.open(S,Q);R.trigger(E,{target:S,context:Q})},destroy:function(){K.fn.destroy.call(this);D.unbindResize(this._closeProxy);this.shim.destroy()},_click:function(S){if(S.isDefaultPrevented()){return}var U=L(S.currentTarget);var Q=U.data("action");if(Q){var T={target:this.target,context:this.context},R=this.options.$angular;if(R){this.element.injector().get("$parse")(Q)(R[0])(T)}else{D.getter(Q)(window)(T)}}this.trigger(O,{target:this.target,context:this.context,currentTarget:U});S.preventDefault();this._close()},_close:function(Q){if(!this.trigger(F)){this.close()}else{Q.preventDefault()}}});P.plugin(M)})(window.kendo.jQuery);(function(b,a){var O=window.kendo,F=O.ui,Y=F.Widget,B="horizontal",S="vertical",d=0,C=100,N=0,L=5,c="k-progressbar",V="k-progressbar-reverse",T="k-progressbar-indeterminate",A="k-complete",e="k-state-selected",E="k-progress-status",X="k-state-selected",f="k-state-default",P="k-state-disabled",W={VALUE:"value",PERCENT:"percent",CHUNK:"chunk"},D="change",Z="complete",U="boolean",K=Math,M=b.extend,R=b.proxy,Q=100,I=400,G=3,H={progressStatus:"<span class='k-progress-status-wrap'><span class='k-progress-status'></span></span>"};var J=Y.extend({init:function(j,h){var g=this;Y.fn.init.call(this,j,h);h=g.options;g._progressProperty=(h.orientation===B)?"width":"height";g._fields();h.value=g._validateValue(h.value);g._validateType(h.type);g._wrapper();g._progressAnimation();if((h.value!==h.min)&&(h.value!==false)){g._updateProgress()}},setOptions:function(h){var g=this;Y.fn.setOptions.call(g,h);if(h.hasOwnProperty("reverse")){g.wrapper.toggleClass("k-progressbar-reverse",h.reverse)}if(h.hasOwnProperty("enable")){g.enable(h.enable)}g._progressAnimation();g._validateValue();g._updateProgress()},events:[D,Z],options:{name:"ProgressBar",orientation:B,reverse:false,min:d,max:C,value:N,enable:true,type:W.VALUE,chunkCount:L,showStatus:true,animation:{}},_fields:function(){var g=this;g._isStarted=false;g.progressWrapper=g.progressStatus=b()},_validateType:function(h){var g=false;b.each(W,function(l,j){if(j===h){g=true;return false}});if(!g){throw new Error(O.format("Invalid ProgressBar type '{0}'",h))}},_wrapper:function(){var j=this;var l=j.wrapper=j.element;var k=j.options;var g=k.orientation;var h;l.addClass("k-widget "+c);l.addClass(c+"-"+((g===B)?B:S));if(k.enable===false){l.addClass(P)}if(k.reverse){l.addClass(V)}if(k.value===false){l.addClass(T)}if(k.type===W.CHUNK){j._addChunkProgressWrapper()}else{if(k.showStatus){j.progressStatus=j.wrapper.prepend(H.progressStatus).find("."+E);h=(k.value!==false)?k.value:k.min;if(k.type===W.VALUE){j.progressStatus.text(h)}else{j.progressStatus.text(j._calculatePercentage(h)+"%")}}}},value:function(g){return this._value(g)},_value:function(j){var g=this;var h=g.options;var k;if(j===a){return h.value}else{if(typeof j!==U){j=g._roundValue(j);if(!isNaN(j)){k=g._validateValue(j);if(k!==h.value){g.wrapper.removeClass(T);h.value=k;g._isStarted=true;g._updateProgress()}}}else{if(!j){g.wrapper.addClass(T);h.value=false}}}},_roundValue:function(h){h=parseFloat(h);var g=K.pow(10,G);return K.floor(h*g)/g},_validateValue:function(j){var g=this;var h=g.options;if(j!==false){if(j<=h.min||j===true){return h.min}else{if(j>=h.max){return h.max}}}else{if(j===false){return false}}if(isNaN(g._roundValue(j))){return h.min}return j},_updateProgress:function(){var h=this;var j=h.options;var g=h._calculatePercentage();if(j.type===W.CHUNK){h._updateChunks(g);h._onProgressUpdateAlways(j.value)}else{h._updateProgressWrapper(g)}},_updateChunks:function(j){var k=this;var l=k.options;var m=l.chunkCount;var h=parseInt((Q/m)*100,10)/100;var g=parseInt(j*100,10)/100;var n=K.floor(g/h);var o;if((l.orientation===B&&!(l.reverse))||(l.orientation===S&&l.reverse)){o=k.wrapper.find("li.k-item:lt("+n+")")}else{o=k.wrapper.find("li.k-item:gt(-"+(n+1)+")")}k.wrapper.find("."+X).removeClass(X).addClass(f);o.removeClass(f).addClass(X)},_updateProgressWrapper:function(h){var l=this;var j=l.options;var g=l.wrapper.find("."+e);var k=l._isStarted?l._animation.duration:0;var m={};if(g.length===0){l._addRegularProgressWrapper()}m[l._progressProperty]=h+"%";l.progressWrapper.animate(m,{duration:k,start:R(l._onProgressAnimateStart,l),progress:R(l._onProgressAnimate,l),complete:R(l._onProgressAnimateComplete,l,j.value),always:R(l._onProgressUpdateAlways,l,j.value)})},_onProgressAnimateStart:function(){this.progressWrapper.show()},_onProgressAnimate:function(h){var j=this;var k=j.options;var l=parseFloat(h.elem.style[j._progressProperty],10);var g;if(k.showStatus){g=10000/parseFloat(j.progressWrapper[0].style[j._progressProperty]);j.progressWrapper.find(".k-progress-status-wrap").css(j._progressProperty,g+"%")}if(k.type!==W.CHUNK&&l<=98){j.progressWrapper.removeClass(A)}},_onProgressAnimateComplete:function(j){var g=this;var h=g.options;var k=parseFloat(g.progressWrapper[0].style[g._progressProperty]);if(h.type!==W.CHUNK&&k>98){g.progressWrapper.addClass(A)}if(h.showStatus){if(h.type===W.VALUE){g.progressStatus.text(j)}else{g.progressStatus.text(K.floor(g._calculatePercentage(j))+"%")}}if(j===h.min){g.progressWrapper.hide()}},_onProgressUpdateAlways:function(j){var g=this;var h=g.options;if(g._isStarted){g.trigger(D,{value:j})}if(j===h.max&&g._isStarted){g.trigger(Z,{value:h.max})}},enable:function(j){var g=this;var h=g.options;h.enable=typeof(j)==="undefined"?true:j;g.wrapper.toggleClass(P,!h.enable)},destroy:function(){var g=this;Y.fn.destroy.call(g)},_addChunkProgressWrapper:function(){var k=this;var l=k.options;var m=k.wrapper;var j=Q/l.chunkCount;var g="";if(l.chunkCount<=1){l.chunkCount=L}g+="<ul class='k-reset'>";for(var h=l.chunkCount-1;h>=0;h--){g+="<li class='k-item k-state-default'></li>"}g+="</ul>";m.append(g).find(".k-item").css(k._progressProperty,j+"%").first().addClass("k-first").end().last().addClass("k-last");k._normalizeChunkSize()},_normalizeChunkSize:function(){var h=this;var j=h.options;var g=h.wrapper.find(".k-item:last");var l=parseFloat(g[0].style[h._progressProperty]);var k=Q-(j.chunkCount*l);if(k>0){g.css(h._progressProperty,(l+k)+"%")}},_addRegularProgressWrapper:function(){var g=this;g.progressWrapper=b("<div class='"+e+"'></div>").appendTo(g.wrapper);if(g.options.showStatus){g.progressWrapper.append(H.progressStatus);g.progressStatus=g.wrapper.find("."+E)}},_calculateChunkSize:function(){var g=this;var j=g.options.chunkCount;var h=g.wrapper.find("ul.k-reset");return(parseInt(h.css(g._progressProperty),10)-(j-1))/j},_calculatePercentage:function(l){var h=this;var j=h.options;var k=(l!==a)?l:j.value;var g=j.min;var m=j.max;h._onePercent=K.abs((m-g)/100);return K.abs((k-g)/h._onePercent)},_progressAnimation:function(){var h=this;var j=h.options;var g=j.animation;if(g===false){h._animation={duration:0}}else{h._animation=M({duration:I},j.animation)}}});O.ui.plugin(J)})(window.kendo.jQuery);(function(Aa,q,o){var Y=Aa.kendo;var M=!!Aa.Uint8Array;var Ai="\n";var Z=0;var Ah=(function(){var Aq="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{decode:function(Av){var AA=Av.replace(/[^A-Za-z0-9\+\/\=]/g,""),Aw=0,Ax=AA.length,Au=[];while(Aw<Ax){var As=Aq.indexOf(AA.charAt(Aw++));var AC=Aq.indexOf(AA.charAt(Aw++));var Ar=Aq.indexOf(AA.charAt(Aw++));var Az=Aq.indexOf(AA.charAt(Aw++));var At=(As<<2)|(AC>>>4);var Ay=((AC&15)<<4)|(Ar>>>2);var AB=((Ar&3)<<6)|Az;Au.push(At);if(Ar!=64){Au.push(Ay)}if(Az!=64){Au.push(AB)}}return Au},encode:function(Ay){var Az=0,Aw=Ay.length;var At="";while(Az<Aw){var Au=Ay[Az++];var Av=Ay[Az++];var Ax=Ay[Az++];var As=Au>>>2;var AB=((Au&3)<<4)|(Av>>>4);var Ar=((Av&15)<<2)|(Ax>>>6);var AA=Ax&63;if(Az-Aw==2){Ar=AA=64}else{if(Az-Aw==1){AA=64}}At+=Aq.charAt(As)+Aq.charAt(AB)+Aq.charAt(Ar)+Aq.charAt(AA)}return At}}}());var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],executive:[521.86,756],folio:[612,936],legal:[612,1008],letter:[612,792],tabloid:[792,1224]};function K(){var Aq=0,As=Am();function Ar(){for(var At=0;At<arguments.length;++At){var Au=arguments[At];if(Au===o){throw new Error("Cannot output undefined to PDF")}else{if(Au instanceof V){Au.beforeRender(Ar);Au.render(Ar)}else{if(l(Au)){E(Au,Ar)}else{if(X(Au)){U(Au,Ar)}else{if(typeof Au=="number"){if(isNaN(Au)){throw new Error("Cannot output NaN to PDF")}var Av=Au.toFixed(7);if(Av.indexOf(".")>=0){Av=Av.replace(/\.?0+$/,"")}if(Av=="-0"){Av="0"}As.writeString(Av)}else{if(/string|boolean/.test(typeof Au)){As.writeString(Au+"")}else{if(typeof Au.get=="function"){As.write(Au.get())}else{if(typeof Au=="object"){if(!Au){As.writeString("null")}else{Ar(new Ad(Au))}}}}}}}}}}}Ar.writeData=function(At){As.write(At)};Ar.withIndent=function(At){++Aq;At(Ar);--Aq};Ar.indent=function(){Ar(Ai,J("",Aq*2,"  "));Ar.apply(null,arguments)};Ar.offset=function(){return As.offset()};Ar.toString=function(){throw new Error("FIX CALLER")};Ar.get=function(){return As.get()};Ar.stream=function(){return As};return Ar}function A(Ar,At){var As=Ar.beforeRender;var Aq=Ar.render;Ar.beforeRender=function(){};Ar.render=function(Au){Au(At," 0 R")};Ar.renderFull=function(Au){Ar._offset=Au.offset();Au(At," 0 obj ");As.call(Ar,Au);Aq.call(Ar,Au);Au(" endobj")}}function C(As){var Ar=As("paperSize",N.a4);if(!Ar){return{}}if(typeof Ar=="string"){Ar=N[Ar.toLowerCase()];if(Ar==null){throw new Error("Unknown paper size")}}Ar[0]=x(Ar[0]);Ar[1]=x(Ar[1]);if(As("landscape",false)){Ar=[Math.max(Ar[0],Ar[1]),Math.min(Ar[0],Ar[1])]}var Aq=As("margin");if(Aq){if(typeof Aq=="string"||typeof Aq=="number"){Aq=x(Aq,0);Aq={left:Aq,top:Aq,right:Aq,bottom:Aq}}else{Aq={left:x(Aq.left,0),top:x(Aq.top,0),right:x(Aq.right,0),bottom:x(Aq.bottom,0)}}if(As("addMargin")){Ar[0]+=Aq.left+Aq.right;Ar[1]+=Aq.top+Aq.bottom}}return{paperSize:Ar,margin:Aq}}function B(Av){var Aw=this;var Aq=K();var As=0;var At=[];function Ar(Az,Ay){return(Av&&Av[Az]!=null)?Av[Az]:Ay}Aw.getOption=Ar;Aw.attach=function(Ay){if(At.indexOf(Ay)<0){A(Ay,++As);At.push(Ay)}return Ay};Aw.pages=[];Aw.FONTS={};Aw.IMAGES={};Aw.GRAD_COL_FUNCTIONS={};Aw.GRAD_OPC_FUNCTIONS={};Aw.GRAD_COL={};Aw.GRAD_OPC={};var Au=Aw.attach(new y());var Ax=Aw.attach(new v());Au.setPages(Ax);Aw.addPage=function(AE){var Ay=C(function(AI,AH){return(AE&&AE[AI]!=null)?AE[AI]:AH});var Az=Ay.paperSize;var AC=Ay.margin;var AF=Az[0];var AD=Az[1];if(AC){AF-=AC.left+AC.right;AD-=AC.top+AC.bottom}var AG=new D(K(),null,true);var AB={Contents:Aw.attach(AG),Parent:Ax,MediaBox:[0,0,Az[0],Az[1]]};var AA=new I(Aw,AB);AA._content=AG;Ax.addPage(Aw.attach(AA));AA.transform(1,0,0,-1,0,Az[1]);if(AC){AA.translate(AC.left,AC.top);AA.rect(0,0,AF,AD);AA.clip()}Aw.pages.push(AA);return AA};Aw.render=function(){var Ay;Aq("%PDF-1.4",Ai,"%\xc2\xc1\xda\xcf\xce",Ai,Ai);for(Ay=0;Ay<At.length;++Ay){At[Ay].renderFull(Aq);Aq(Ai,Ai)}var Az=Aq.offset();Aq("xref",Ai,0," ",At.length+1,Ai);Aq("0000000000 65535 f ",Ai);for(Ay=0;Ay<At.length;++Ay){Aq(S(At[Ay]._offset,10)," 00000 n ",Ai)}Aq(Ai);Aq("trailer",Ai);Aq(new Ad({Size:At.length+1,Root:Au,Info:new Ad({Producer:new z(Ar("producer","Kendo UI PDF Generator")),Title:new z(Ar("title","")),Author:new z(Ar("author","")),Subject:new z(Ar("subject","")),Keywords:new z(Ar("keywords","")),Creator:new z(Ar("creator","Kendo UI PDF Generator")),CreationDate:Ar("date",new Date())})}),Ai,Ai);Aq("startxref",Ai,Az,Ai);Aq("%%EOF",Ai);return Aq.stream().offset(0)}}var a={"Times-Roman":true,"Times-Bold":true,"Times-Italic":true,"Times-BoldItalic":true,"Helvetica":true,"Helvetica-Bold":true,"Helvetica-Oblique":true,"Helvetica-BoldOblique":true,"Courier":true,"Courier-Bold":true,"Courier-Oblique":true,"Courier-BoldOblique":true,"Symbol":true,"ZapfDingbats":true};function b(Aq,Ar){function At(){if(Aa.console){if(Aa.console.error){Aa.console.error("Cannot load URL: %s",Aq)}else{Aa.console.log("Cannot load URL: %s",Aq)}}Ar(null)}var As=new XMLHttpRequest();As.open("GET",Aq,true);if(M){As.responseType="arraybuffer"}As.onload=function(){if(As.status==200||As.status==304){if(M){Ar(new Uint8Array(As.response))}else{Ar(new VBArray(As.responseBody).toArray())}}else{At()}};As.onerror=At;As.send(null)}function s(Aq,Ar){var As=a[Aq];if(As){Ar(As)}else{b(Aq,function(Au){if(Au==null){throw new Error("Cannot load font from "+Aq)}else{var At=new Y.pdf.TTFFont(Au);a[Aq]=At;Ar(At)}})}}var R={};function f(Aw,Ay){var Aq=R[Aw],At,Ax;if(Aq){Ay(Aq)}else{Aq=new Image();if(!(/^data:/i.test(Aw))){Aq.crossOrigin="Anonymous"}if(M&&!(/^data:/i.test(Aw))){var Ar=new XMLHttpRequest();Ar.onload=function(){Ax=Ar.response;At=URL.createObjectURL(Ax);As(At)};Ar.onerror=Au;Ar.open("GET",Aw,true);Ar.responseType="blob";Ar.send()}else{As(Aw)}}function As(Az){Aq.src=Az;if(Aq.complete&&!Y.support.browser.msie){Av()}else{Aq.onload=Av;Aq.onerror=Au}}function Au(){Ay(R[Aw]="TAINTED")}function Av(){if(Ax&&/^image\/jpe?g$/i.test(Ax.type)){var AH=new FileReader();AH.onload=function(){Aq=new g(Aq.width,Aq.height,Am(new Uint8Array(this.result)));URL.revokeObjectURL(At);Ay(R[Aw]=Aq)};AH.readAsArrayBuffer(Ax);return}var AA=document.createElement("canvas");AA.width=Aq.width;AA.height=Aq.height;var AF=AA.getContext("2d");AF.drawImage(Aq,0,0);var AC;try{AC=AF.getImageData(0,0,Aq.width,Aq.height)}catch(AG){return Au()}finally{if(At){URL.revokeObjectURL(At)}}var AD=false,Az=Am(),AE=Am();var AL=AC.data;var AJ=0;while(AJ<AL.length){Az.writeByte(AL[AJ++]);Az.writeByte(AL[AJ++]);Az.writeByte(AL[AJ++]);var AI=AL[AJ++];if(AI<255){AD=true}AE.writeByte(AI)}if(AD){Aq=new H(Aq.width,Aq.height,Az,AE)}else{var AB=AA.toDataURL("image/jpeg");AB=AB.substr(AB.indexOf(";base64,")+8);var AK=Am();AK.writeBase64(AB);AK.offset(0);Aq=new g(Aq.width,Aq.height,AK)}Ay(R[Aw]=Aq)}}function T(Aq){return function(Au,Ar){var At=Au.length,As=At;if(At===0){return Ar()}while(As-->0){Aq(Au[As],function(){if(--At===0){Ar()}})}}}var P=T(s);var Af=T(f);B.prototype={loadFonts:P,loadImages:Af,getFont:function(Aq){var Ar=this.FONTS[Aq];if(!Ar){Ar=a[Aq];if(!Ar){throw new Error("Font "+Aq+" has not been loaded")}if(Ar===true){Ar=this.attach(new F(Aq))}else{Ar=this.attach(new O(this,Ar))}this.FONTS[Aq]=Ar}return Ar},getImage:function(Aq){var Ar=this.IMAGES[Aq];if(!Ar){Ar=R[Aq];if(!Ar){throw new Error("Image "+Aq+" has not been loaded")}if(Ar==="TAINTED"){return null}Ar=this.IMAGES[Aq]=this.attach(Ar.asStream(this))}return Ar},getOpacityGS:function(As,Aq){var Av=q(As).toFixed(3);As=q(Av);Av+=Aq?"S":"F";var Au=this._opacityGSCache||(this._opacityGSCache={});var Ar=Au[Av];if(!Ar){var At={Type:d("ExtGState")};if(Aq){At.CA=As}else{At.ca=As}Ar=this.attach(new Ad(At));Ar._resourceName=d("GS"+(++Z));Au[Av]=Ar}return Ar},dict:function(Aq){return new Ad(Aq)},name:function(Aq){return d(Aq)},stream:function(Aq,Ar){return new D(Ar,Aq)}};function J(Aq,Ar,As){while(Aq.length<Ar){Aq=As+Aq}return Aq}function S(Aq,Ar){return J(Aq+"",Ar,"0")}function Ao(Ar,Aq){return Object.prototype.hasOwnProperty.call(Ar,Aq)}var l=Array.isArray||function(Aq){return Aq instanceof Array};function X(Aq){return Aq instanceof Date}function E(Ar,Aq){Aq("[");if(Ar.length>0){Aq.withIndent(function(){for(var As=0;As<Ar.length;++As){if(As>0&&As%8===0){Aq.indent(Ar[As])}else{Aq(" ",Ar[As])}}})}Aq(" ]")}function U(Ar,Aq){Aq("(D:",S(Ar.getUTCFullYear(),4),S(Ar.getUTCMonth()+1,2),S(Ar.getUTCDate(),2),S(Ar.getUTCHours(),2),S(Ar.getUTCMinutes(),2),S(Ar.getUTCSeconds(),2),"Z)")}function Q(Aq){return Aq*(72/25.4)}function Aj(Aq){return Q(Aq*10)}function e(Aq){return Aq*72}function x(As,At){if(typeof As=="number"){return As}if(typeof As=="string"){var Ar;Ar=/^\s*([0-9.]+)\s*(mm|cm|in|pt)\s*$/.exec(As);if(Ar){var Aq=q(Ar[1]);if(!isNaN(Aq)){if(Ar[2]=="pt"){return Aq}return{"mm":Q,"cm":Aj,"in":e}[Ar[2]](Aq)}}}if(At!=null){return At}throw new Error("Can't parse unit: "+As)}function V(){}V.prototype.beforeRender=function(){};function p(At,Ar,As){if(!As){As=V}At.prototype=new As();for(var Aq in Ar){if(Ao(Ar,Aq)){At.prototype[Aq]=Ar[Aq]}}return At}var z=p(function z(Aq){this.value=Aq},{render:function(As){var At="",Ar=this.escape();for(var Aq=0;Aq<Ar.length;++Aq){At+=String.fromCharCode(Ar.charCodeAt(Aq)&255)}As("(",At,")")},escape:function(){return this.value.replace(/([\(\)\\])/g,"\\$1")},toString:function(){return this.value}});var Al=p(function Al(Aq){this.value=Aq},{render:function(Ar){Ar("<");for(var Aq=0;Aq<this.value.length;++Aq){Ar(S(this.value.charCodeAt(Aq).toString(16),4))}Ar(">")}},z);var Ak=p(function Ak(Aq){this.name=Aq},{render:function(Aq){Aq("/"+this.escape())},escape:function(){return this.name.replace(/[^\x21-\x7E]/g,function(Aq){return"#"+S(Aq.charCodeAt(0).toString(16),2)})},toString:function(){return this.name}});var Ap={};Ak.get=d;function d(Aq){if(Ao(Ap,Aq)){return Ap[Aq]}return(Ap[Aq]=new Ak(Aq))}var Ad=p(function Ad(Aq){this.props=Aq},{render:function(Aq){var Ar=this.props,As=true;Aq("<<");Aq.withIndent(function(){for(var At in Ar){if(Ao(Ar,At)&&!/^_/.test(At)){As=false;Aq.indent(d(At)," ",Ar[At])}}});if(!As){Aq.indent()}Aq(">>")}});var D=p(function D(At,Ar,As){if(typeof At=="string"){var Aq=Am();Aq.write(At);At=Aq}this.data=At;this.props=Ar||{};this.compress=As},{render:function(Aq){var As=this.data.get(),Ar=this.props;if(this.compress&&Aa.pako&&typeof Aa.pako.deflate=="function"){if(!Ar.Filter){Ar.Filter=[]}else{if(!(Ar.Filter instanceof Array)){Ar.Filter=[Ar.Filter]}}Ar.Filter.unshift(d("FlateDecode"));As=Aa.pako.deflate(As)}Ar.Length=As.length;Aq(new Ad(Ar)," stream",Ai);Aq.writeData(As);Aq(Ai,"endstream")}});var y=p(function y(Aq){Aq=this.props=Aq||{};Aq.Type=d("Catalog")},{setPages:function(Aq){this.props.Pages=Aq}},Ad);var v=p(function v(){this.props={Type:d("Pages"),Kids:[],Count:0}},{addPage:function(Aq){this.props.Kids.push(Aq);this.props.Count++}},Ad);function g(Ar,Aq,As){this.asStream=function(){var At=new D(As,{Type:d("XObject"),Subtype:d("Image"),Width:Ar,Height:Aq,BitsPerComponent:8,ColorSpace:d("DeviceRGB"),Filter:d("DCTDecode")});At._resourceName=d("I"+(++Z));return At}}function H(At,Aq,Ar,As){this.asStream=function(Au){var Av=new D(As,{Type:d("XObject"),Subtype:d("Image"),Width:At,Height:Aq,BitsPerComponent:8,ColorSpace:d("DeviceGray")},true);var Aw=new D(Ar,{Type:d("XObject"),Subtype:d("Image"),Width:At,Height:Aq,BitsPerComponent:8,ColorSpace:d("DeviceRGB"),SMask:Au.attach(Av)},true);Aw._resourceName=d("I"+(++Z));return Aw}}var F=p(function F(Aq){this.props={Type:d("Font"),Subtype:d("Type1"),BaseFont:d(Aq)};this._resourceName=d("F"+(++Z))},{encodeText:function(Aq){return new z(Aq+"")}},Ad);var O=p(function O(Aq,At,As){As=this.props=As||{};As.Type=d("Font");As.Subtype=d("Type0");As.Encoding=d("Identity-H");this._pdf=Aq;this._font=At;this._sub=At.makeSubset();this._resourceName=d("F"+(++Z));var Ar=At.head;this.name=At.psName;var Au=this.scale=At.scale;this.bbox=[Ar.xMin*Au,Ar.yMin*Au,Ar.xMax*Au,Ar.yMax*Au];this.italicAngle=At.post.italicAngle;this.ascent=At.ascent*Au;this.descent=At.descent*Au;this.lineGap=At.lineGap*Au;this.capHeight=At.os2.capHeight||this.ascent;this.xHeight=At.os2.xHeight||0;this.stemV=0;this.familyClass=(At.os2.familyClass||0)>>8;this.isSerif=this.familyClass>=1&&this.familyClass<=7;this.isScript=this.familyClass==10;this.flags=((At.post.isFixedPitch?1:0)|(this.isSerif?1<<1:0)|(this.isScript?1<<3:0)|(this.italicAngle!==0?1<<6:0)|(1<<5))},{encodeText:function(Aq){return new Al(this._sub.encodeText(Aq+""))},getTextWidth:function(Au,Av){var As=0,At=this._font.cmap.getUnicodeEntry().codeMap;for(var Ar=0;Ar<Av.length;++Ar){var Aq=At[Av.charCodeAt(Ar)];As+=this._font.widthOfGlyph(Aq||0)}return As*Au/1000},beforeRender:function(){var AB=this;var Aw=AB._font;var AC=AB._sub;var Av=AC.render();var AA=new D(Am(Av),{Length1:Av.length},true);var Au=AB._pdf.attach(new Ad({Type:d("FontDescriptor"),FontName:d(AB._sub.psName),FontBBox:AB.bbox,Flags:AB.flags,StemV:AB.stemV,ItalicAngle:AB.italicAngle,Ascent:AB.ascent,Descent:AB.descent,CapHeight:AB.capHeight,XHeight:AB.xHeight,FontFile2:AB._pdf.attach(AA)}));var At=AC.ncid2ogid;var Az=AC.firstChar;var As=AC.lastChar;var Aq=[];(function AE(AG,AF){if(AG<=As){var AH=At[AG];if(AH==null){AE(AG+1)}else{if(!AF){Aq.push(AG,AF=[])}AF.push(AB._font.widthOfGlyph(AH));AE(AG+1,AF)}}})(Az);var Ay=new Ad({Type:d("Font"),Subtype:d("CIDFontType2"),BaseFont:d(AB._sub.psName),CIDSystemInfo:new Ad({Registry:new z("Adobe"),Ordering:new z("Identity"),Supplement:0}),FontDescriptor:Au,FirstChar:Az,LastChar:As,DW:Math.round(AB._font.widthOfGlyph(0)),W:Aq,CIDToGIDMap:AB._pdf.attach(AB._makeCidToGidMap())});var Ax=AB.props;Ax.BaseFont=d(AB._sub.psName);Ax.DescendantFonts=[AB._pdf.attach(Ay)];var Ar=new t(Az,As,AC.subset);var AD=new D(K(),null,true);AD.data(Ar);Ax.ToUnicode=AB._pdf.attach(AD)},_makeCidToGidMap:function(){return new D(Am(this._sub.cidToGidMap()),null,true)}},Ad);var t=p(function G(As,Ar,Aq){this.firstChar=As;this.lastChar=Ar;this.map=Aq},{render:function(Ar){Ar.indent("/CIDInit /ProcSet findresource begin");Ar.indent("12 dict begin");Ar.indent("begincmap");Ar.indent("/CIDSystemInfo <<");Ar.indent("  /Registry (Adobe)");Ar.indent("  /Ordering (UCS)");Ar.indent("  /Supplement 0");Ar.indent(">> def");Ar.indent("/CMapName /Adobe-Identity-UCS def");Ar.indent("/CMapType 2 def");Ar.indent("1 begincodespacerange");Ar.indent("  <0000><ffff>");Ar.indent("endcodespacerange");var Aq=this;Ar.indent(Aq.lastChar-Aq.firstChar+1," beginbfchar");Ar.withIndent(function(){for(var At=Aq.firstChar;At<=Aq.lastChar;++At){var As=Aq.map[At];Ar.indent("<",S(At.toString(16),4),">","<",S(As.toString(16),4),">")}});Ar.indent("endbfchar");Ar.indent("endcmap");Ar.indent("CMapName currentdict /CMap defineresource pop");Ar.indent("end");Ar.indent("end")}});function Ac(Aq){return Aq.map(function(Ar){return l(Ar)?Ac(Ar):typeof Ar=="number"?(Math.round(Ar*1000)/1000).toFixed(3):Ar}).join(" ")}function Ab(Ax,At,As,Aq,Aw,Au,Ar){var Av=Ac([At,As,Aq,Aw,Au,Ar]);var Ay=Ax.GRAD_COL_FUNCTIONS[Av];if(!Ay){Ay=Ax.GRAD_COL_FUNCTIONS[Av]=Ax.attach(new Ad({FunctionType:2,Domain:[0,1],Range:[0,1,0,1,0,1],N:1,C0:[At,As,Aq],C1:[Aw,Au,Ar]}))}return Ay}function m(At,Aq,As){var Au=Ac([Aq,As]);var Ar=At.GRAD_OPC_FUNCTIONS[Au];if(!Ar){Ar=At.GRAD_OPC_FUNCTIONS[Au]=At.attach(new Ad({FunctionType:2,Domain:[0,1],Range:[0,1],N:1,C0:[Aq],C1:[As]}))}return Ar}function Ag(Az,As){var Au=false;var Aw=[];var Ay=[];var Ar=[];var Av=[];var Ax,Aq,At,AB,AA;for(Ax=1;Ax<As.length;++Ax){Aq=As[Ax-1];At=As[Ax];AB=Aq.color;AA=At.color;Ay.push(Ab(Az,AB.r,AB.g,AB.b,AA.r,AA.g,AA.b));if(AB.a<1||AA.a<1){Au=true}Ar.push(At.offset);Av.push(0,1)}if(Au){for(Ax=1;Ax<As.length;++Ax){Aq=As[Ax-1];At=As[Ax];AB=Aq.color;AA=At.color;Aw.push(m(Az,AB.a,AA.a))}}Ar.pop();return{hasAlpha:Au,colors:AC(Ay),opacities:Au?AC(Aw):null};function AC(AD){if(AD.length==1){return AD[0]}return{FunctionType:3,Functions:AD,Domain:[0,1],Bounds:Ar,Encode:Av}}}function k(Av,As,Ar,Ax,Aw,At){var Aq,Au;if(!At){var Ay=[As].concat(Ax);Ar.forEach(function(Az){Ay.push(Az.offset,Az.color.r,Az.color.g,Az.color.b)});Au=Ac(Ay);Aq=Av.GRAD_COL[Au]}if(!Aq){Aq=new Ad({Type:d("Shading"),ShadingType:As?3:2,ColorSpace:d("DeviceRGB"),Coords:Ax,Domain:[0,1],Function:Aw,Extend:[true,true]});Av.attach(Aq);Aq._resourceName="S"+(++Z);if(Au){Av.GRAD_COL[Au]=Aq}}return Aq}function c(Av,Ar,Aq,Ax,Aw,At){var As,Au;if(!At){var Ay=[Ar].concat(Ax);Aq.forEach(function(Az){Ay.push(Az.offset,Az.color.a)});Au=Ac(Ay);As=Av.GRAD_OPC[Au]}if(!As){As=new Ad({Type:d("ExtGState"),AIS:false,CA:1,ca:1,SMask:{Type:d("Mask"),S:d("Luminosity"),G:Av.attach(new D("/a0 gs /s0 sh",{Type:d("XObject"),Subtype:d("Form"),FormType:1,BBox:(At?[At.left,At.top+At.height,At.left+At.width,At.top]:[0,1,1,0]),Group:{Type:d("Group"),S:d("Transparency"),CS:d("DeviceGray"),I:true},Resources:{ExtGState:{a0:{CA:1,ca:1}},Shading:{s0:{ColorSpace:d("DeviceGray"),Coords:Ax,Domain:[0,1],ShadingType:Ar?3:2,Function:Aw,Extend:[true,true]}}}}))}});Av.attach(As);As._resourceName="O"+(++Z);if(Au){Av.GRAD_OPC[Au]=As}}return As}function r(Av,Au,At){var Ar=Au.type=="radial";var Aw=Ag(Av,Au.stops);var Ax=Ar?[Au.start.x,Au.start.y,Au.start.r,Au.end.x,Au.end.y,Au.end.r]:[Au.start.x,Au.start.y,Au.end.x,Au.end.y];var Aq=k(Av,Ar,Au.stops,Ax,Aw.colors,Au.userSpace&&At);var As=Aw.hasAlpha?c(Av,Ar,Au.stops,Ax,Aw.opacities,Au.userSpace&&At):null;return{hasAlpha:Aw.hasAlpha,shading:Aq,opacity:As}}var I=p(function I(Aq,Ar){this._pdf=Aq;this._rcount=0;this._textMode=false;this._fontResources={};this._gsResources={};this._xResources={};this._patResources={};this._shResources={};this._opacity=1;this._matrix=[1,0,0,1,0,0];this._annotations=[];this._font=null;this._fontSize=null;this._contextStack=[];Ar=this.props=Ar||{};Ar.Type=d("Page");Ar.ProcSet=[d("PDF"),d("Text"),d("ImageB"),d("ImageC"),d("ImageI")];Ar.Resources=new Ad({Font:new Ad(this._fontResources),ExtGState:new Ad(this._gsResources),XObject:new Ad(this._xResources),Pattern:new Ad(this._patResources),Shading:new Ad(this._shResources)});Ar.Annots=this._annotations},{_out:function(){this._content.data.apply(null,arguments)},transform:function(Au,As,At,Aq,Ar,Av){if(!j(arguments)){this._matrix=Ae(arguments,this._matrix);this._out(Au," ",As," ",At," ",Aq," ",Ar," ",Av," cm");this._out(Ai)}},translate:function(Aq,Ar){this.transform(1,0,0,1,Aq,Ar)},scale:function(Aq,Ar){this.transform(Aq,0,0,Ar,0,0)},rotate:function(As){var Ar=Math.cos(As),Aq=Math.sin(As);this.transform(Ar,Aq,-Aq,Ar,0,0)},beginText:function(){this._textMode=true;this._out("BT",Ai)},endText:function(){this._textMode=false;this._out("ET",Ai)},_requireTextMode:function(){if(!this._textMode){throw new Error("Text mode required; call page.beginText() first")}},_requireFont:function(){if(!this._font){throw new Error("No font selected; call page.setFont() first")}},setFont:function(Ar,Aq){this._requireTextMode();if(Ar==null){Ar=this._font}else{if(!(Ar instanceof O)){Ar=this._pdf.getFont(Ar)}}if(Aq==null){Aq=this._fontSize}this._fontResources[Ar._resourceName]=Ar;this._font=Ar;this._fontSize=Aq;this._out(Ar._resourceName," ",Aq," Tf",Ai)},setTextLeading:function(Aq){this._requireTextMode();this._out(Aq," TL",Ai)},setTextRenderingMode:function(Aq){this._requireTextMode();this._out(Aq," Tr",Ai)},showText:function(Ar,At){this._requireFont();if(Ar.length>1&&At&&this._font instanceof O){var Aq=this._font.getTextWidth(this._fontSize,Ar);var As=At/Aq*100;this._out(As," Tz ")}this._out(this._font.encodeText(Ar)," Tj",Ai)},showTextNL:function(Aq){this._requireFont();this._out(this._font.encodeText(Aq)," '",Ai)},addLink:function(Ar,Aq){var At=this._toPage({x:Aq.left,y:Aq.bottom});var As=this._toPage({x:Aq.right,y:Aq.top});this._annotations.push(new Ad({Type:d("Annot"),Subtype:d("Link"),Rect:[At.x,At.y,As.x,As.y],Border:[0,0,0],A:new Ad({Type:d("Action"),S:d("URI"),URI:new z(Ar)})}))},setStrokeColor:function(Ar,Aq,As){this._out(Ar," ",Aq," ",As," RG",Ai)},setOpacity:function(Aq){this.setFillOpacity(Aq);this.setStrokeOpacity(Aq);this._opacity*=Aq},setStrokeOpacity:function(Aq){if(Aq<1){var Ar=this._pdf.getOpacityGS(this._opacity*Aq,true);this._gsResources[Ar._resourceName]=Ar;this._out(Ar._resourceName," gs",Ai)}},setFillColor:function(Ar,Aq,As){this._out(Ar," ",Aq," ",As," rg",Ai)},setFillOpacity:function(Aq){if(Aq<1){var Ar=this._pdf.getOpacityGS(this._opacity*Aq,false);this._gsResources[Ar._resourceName]=Ar;this._out(Ar._resourceName," gs",Ai)}},gradient:function(At,Ar){this.save();this.rect(Ar.left,Ar.top,Ar.width,Ar.height);this.clip();if(!At.userSpace){this.transform(Ar.width,0,0,Ar.height,Ar.left,Ar.top)}var Aq=r(this._pdf,At,Ar);var As=Aq.shading._resourceName,Au;this._shResources[As]=Aq.shading;if(Aq.hasAlpha){Au=Aq.opacity._resourceName;this._gsResources[Au]=Aq.opacity;this._out("/"+Au+" gs ")}this._out("/"+As+" sh",Ai);this.restore()},setDashPattern:function(Ar,Aq){this._out(Ar," ",Aq," d",Ai)},setLineWidth:function(Aq){this._out(Aq," w",Ai)},setLineCap:function(Aq){this._out(Aq," J",Ai)},setLineJoin:function(Aq){this._out(Aq," j",Ai)},setMitterLimit:function(Aq){this._out(Aq," M",Ai)},save:function(){this._contextStack.push(this._context());this._out("q",Ai)},restore:function(){this._out("Q",Ai);this._context(this._contextStack.pop())},moveTo:function(Aq,Ar){this._out(Aq," ",Ar," m",Ai)},lineTo:function(Aq,Ar){this._out(Aq," ",Ar," l",Ai)},bezier:function(Au,Av,Aq,Ar,As,At){this._out(Au," ",Av," ",Aq," ",Ar," ",As," ",At," c",Ai)},bezier1:function(As,At,Aq,Ar){this._out(As," ",At," ",Aq," ",Ar," y",Ai)},bezier2:function(Aq,Ar,As,At){this._out(Aq," ",Ar," ",As," ",At," v",Ai)},close:function(){this._out("h",Ai)},rect:function(Ar,As,At,Aq){this._out(Ar," ",As," ",At," ",Aq," re",Ai)},ellipse:function(At,Au,As,Ar){function Av(Ax){return At+Ax}function Aq(Ax){return Au+Ax}var Aw=0.552284749830794;this.moveTo(Av(0),Aq(Ar));this.bezier(Av(As*Aw),Aq(Ar),Av(As),Aq(Ar*Aw),Av(As),Aq(0));this.bezier(Av(As),Aq(-Ar*Aw),Av(As*Aw),Aq(-Ar),Av(0),Aq(-Ar));this.bezier(Av(-As*Aw),Aq(-Ar),Av(-As),Aq(-Ar*Aw),Av(-As),Aq(0));this.bezier(Av(-As),Aq(Ar*Aw),Av(-As*Aw),Aq(Ar),Av(0),Aq(Ar))},circle:function(Ar,As,Aq){this.ellipse(Ar,As,Aq,Aq)},stroke:function(){this._out("S",Ai)},nop:function(){this._out("n",Ai)},clip:function(){this._out("W n",Ai)},clipStroke:function(){this._out("W S",Ai)},closeStroke:function(){this._out("s",Ai)},fill:function(){this._out("f",Ai)},fillStroke:function(){this._out("B",Ai)},drawImage:function(Aq){var Ar=this._pdf.getImage(Aq);if(Ar){this._xResources[Ar._resourceName]=Ar;this._out(Ar._resourceName," Do",Ai)}},comment:function(Ar){var Aq=this;Ar.split(/\r?\n/g).forEach(function(As){Aq._out("% ",As,Ai)})},_context:function(Aq){if(Aq!=null){this._opacity=Aq.opacity;this._matrix=Aq.matrix}else{return{opacity:this._opacity,matrix:this._matrix}}},_toPage:function(Ar){var As=this._matrix;var Av=As[0],At=As[1],Au=As[2],Ax=As[3],Aq=As[4],Aw=As[5];return{x:Av*Ar.x+Au*Ar.y+Aq,y:At*Ar.x+Ax*Ar.y+Aw}}},Ad);function Am(AK){var AE=0,Aq=0;if(AK==null){AK=M?new Uint8Array(256):[]}else{Aq=AK.length}var Az=M?function(AS){if(AS>=AK.length){var AR=new Uint8Array(Math.max(AS+256,AK.length*2));AR.set(AK,0);AK=AR}}:function(){};var AB=M?function(){return new Uint8Array(AK.buffer,0,Aq)}:function(){return AK};var AN=M?function(AS){if(typeof AS=="string"){return Aw(AS)}var AR=AS.length;Az(AE+AR);AK.set(AS,AE);AE+=AR;if(AE>Aq){Aq=AE}}:function(AS){if(typeof AS=="string"){return Aw(AS)}for(var AR=0;AR<AS.length;++AR){AM(AS[AR])}};var AF=M?function(AT,AR){if(AK.buffer.slice){return new Uint8Array(AK.buffer.slice(AT,AT+AR))}else{var AS=new Uint8Array(AR);AS.set(new Uint8Array(AK.buffer,AT,AR));return AS}}:function(AS,AR){return AK.slice(AS,AS+AR)};function AQ(){return AE>=Aq}function AL(){return AE<Aq?AK[AE++]:0}function AM(AR){Az(AE);AK[AE++]=AR&255;if(AE>Aq){Aq=AE}}function Ar(){return(AL()<<8)|AL()}function AA(AR){AM(AR>>8);AM(AR)}function AD(){var AR=Ar();return AR>=32768?AR-65536:AR}function AI(AR){AA(AR<0?AR+65536:AR)}function AJ(){return(Ar()*65536)+Ar()}function As(AR){AA((AR>>>16)&65535);AA(AR&65535)}function AC(){var AR=AJ();return AR>=2147483648?AR-4294967296:AR}function Ay(AR){As(AR<0?AR+4294967296:AR)}function AO(){return AJ()/65536}function Ax(AR){As(Math.round(AR*65536))}function Av(){return AC()/65536}function Au(AR){Ay(Math.round(AR*65536))}function AH(AR){return AG(AR,AL)}function At(AR){return String.fromCharCode.apply(String,AH(AR))}function Aw(AS){for(var AR=0;AR<AS.length;++AR){AM(AS.charCodeAt(AR))}}function AG(AS,AT){for(var AU=new Array(AS),AR=0;AR<AS;++AR){AU[AR]=AT()}return AU}var AP={eof:AQ,readByte:AL,writeByte:AM,readShort:Ar,writeShort:AA,readLong:AJ,writeLong:As,readFixed:AO,writeFixed:Ax,readShort_:AD,writeShort_:AI,readLong_:AC,writeLong_:Ay,readFixed_:Av,writeFixed_:Au,read:AH,write:AN,readString:At,writeString:Aw,times:AG,get:AB,slice:AF,offset:function(AR){if(AR!=null){AE=AR;return AP}return AE},skip:function(AR){AE+=AR},toString:function(){throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!")},length:function(){return Aq},saveExcursion:function(AS){var AR=AE;try{return AS()}finally{AE=AR}},writeBase64:function(AR){if(Aa.atob){Aw(Aa.atob(AR))}else{AN(Ah.decode(AR))}},base64:function(){return Ah.encode(AB())}};return AP}function n(Aq){return Aq.replace(/^\s*(['"])(.*)\1\s*$/,"$2")}function h(As){var Aq=/^\s*((normal|italic)\s+)?((normal|small-caps)\s+)?((normal|bold|\d+)\s+)?(([0-9.]+)(px|pt))(\/(([0-9.]+)(px|pt)|normal))?\s+(.*?)\s*$/i;var Ar=Aq.exec(As);if(!Ar){return{fontSize:12,fontFamily:"sans-serif"}}var At=Ar[8]?parseInt(Ar[8],10):12;return{italic:Ar[2]&&Ar[2].toLowerCase()=="italic",variant:Ar[4],bold:Ar[6]&&/bold|700/i.test(Ar[6]),fontSize:At,lineHeight:Ar[12]?Ar[12]=="normal"?At:parseInt(Ar[12],10):null,fontFamily:Ar[14].split(/\s*,\s*/g).map(n)}}function u(As){function Av(Aw){if(As.bold){Aw+="|bold"}if(As.italic){Aw+="|italic"}return Aw.toLowerCase()}var Ar=As.fontFamily;var At,Au;if(Ar instanceof Array){for(var Aq=0;Aq<Ar.length;++Aq){At=Av(Ar[Aq]);Au=W[At];if(Au){break}}}else{Au=W[Ar.toLowerCase()]}while(typeof Au=="function"){Au=Au()}if(!Au){Au="Times-Roman"}return Au}var W={"serif":"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique","monospace":"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique","zapfdingbats":"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"};function L(Aq,Ar){Aq=Aq.toLowerCase();W[Aq]=function(){return W[Ar]};W[Aq+"|bold"]=function(){return W[Ar+"|bold"]};W[Aq+"|italic"]=function(){return W[Ar+"|italic"]};W[Aq+"|bold|italic"]=function(){return W[Ar+"|bold|italic"]}}L("Times New Roman","serif");L("Courier New","monospace");L("Arial","sans-serif");L("Helvetica","sans-serif");L("Verdana","sans-serif");L("Tahoma","sans-serif");L("Georgia","sans-serif");L("Monaco","monospace");L("Andale Mono","monospace");function w(As,Ar){if(arguments.length==1){for(var Aq in As){if(Ao(As,Aq)){w(Aq,As[Aq])}}}else{As=As.toLowerCase();W[As]=Ar;switch(As){case"dejavu sans":W["sans-serif"]=Ar;break;case"dejavu sans|bold":W["sans-serif|bold"]=Ar;break;case"dejavu sans|italic":W["sans-serif|italic"]=Ar;break;case"dejavu sans|bold|italic":W["sans-serif|bold|italic"]=Ar;break;case"dejavu serif":W["serif"]=Ar;break;case"dejavu serif|bold":W["serif|bold"]=Ar;break;case"dejavu serif|italic":W["serif|italic"]=Ar;break;case"dejavu serif|bold|italic":W["serif|bold|italic"]=Ar;break;case"dejavu mono":W["monospace"]=Ar;break;case"dejavu mono|bold":W["monospace|bold"]=Ar;break;case"dejavu mono|italic":W["monospace|italic"]=Ar;break;case"dejavu mono|bold|italic":W["monospace|bold|italic"]=Ar;break}}}function An(At){var As,Av,Ar,Ax;As="";Ar=At.length;for(Av=0;Av<Ar;Av++){Ax=At.charCodeAt(Av);if((Ax>=1)&&(Ax<=127)){As+=At.charAt(Av)}else{if(Ax>2047){As+=String.fromCharCode(224|((Ax>>12)&15));As+=String.fromCharCode(128|((Ax>>6)&63));As+=String.fromCharCode(128|((Ax>>0)&63))}else{As+=String.fromCharCode(192|((Ax>>6)&31));As+=String.fromCharCode(128|((Ax>>0)&63))}}}var Au,Aq,Aw=[];for(var Av=0;Av<As.length;Av++){Au=As.charCodeAt(Av);Aq=[];do{Aq.push(Au&255);Au=Au>>8}while(Au);Aw=Aw.concat(Aq.reverse())}return Ah.encode(Aw)}Y.base64={encode:An};Y.pdf={Document:B,BinaryStream:Am,defineFont:w,parseFontDef:h,getFontURL:u,loadFonts:P,loadImages:Af,getPaperOptions:C,TEXT_RENDERING_MODE:{fill:0,stroke:1,fillAndStroke:2,invisible:3,fillAndClip:4,strokeAndClip:5,fillStrokeClip:6,clip:7}};function Ae(AD,AB){var As=AD[0],Aq=AD[1],Ar=AD[2],Au=AD[3],Av=AD[4],At=AD[5];var Az=AB[0],Aw=AB[1],Ax=AB[2],AC=AB[3],Ay=AB[4],AA=AB[5];return[As*Az+Aq*Ax,As*Aw+Aq*AC,Ar*Az+Au*Ax,Ar*Aw+Au*AC,Av*Az+At*Ax+Ay,Av*Aw+At*AC+AA]}function j(Aq){return Aq[0]===1&&Aq[1]===0&&Aq[2]===0&&Aq[3]===1&&Aq[4]===0&&Aq[5]===0}})(window,parseFloat);(function(R){function C(W,V){return Object.prototype.hasOwnProperty.call(W,V)}function L(V){return Object.keys(V).sort(function(X,W){return X-W}).map(parseFloat)}var F=R.kendo.pdf;var B=F.BinaryStream;function Q(Y){this.raw=Y;this.scalerType=Y.readLong();this.tableCount=Y.readShort();this.searchRange=Y.readShort();this.entrySelector=Y.readShort();this.rangeShift=Y.readShort();var X=this.tables={};for(var V=0;V<this.tableCount;++V){var W={tag:Y.readString(4),checksum:Y.readLong(),offset:Y.readLong(),length:Y.readLong()};X[W.tag]=W}}Q.prototype={readTable:function(V,X){var W=this.tables[V];if(!W){throw new Error("Table "+V+" not found in directory")}return(this[V]=W.table=new X(this,W))},render:function(g){var h=Object.keys(g).length;var k=Math.pow(2,Math.floor(Math.log(h)/Math.LN2));var j=k*16;var W=Math.floor(Math.log(k)/Math.LN2);var X=h*16-j;var V=B();V.writeLong(this.scalerType);V.writeShort(h);V.writeShort(j);V.writeShort(W);V.writeShort(X);var a=h*16;var e=V.offset()+a;var Z=null;var c=B();for(var Y in g){if(C(g,Y)){var d=g[Y];V.writeString(Y);V.writeLong(this.checksum(d));V.writeLong(e);V.writeLong(d.length);c.write(d);if(Y=="head"){Z=e}e+=d.length;while(e%4){c.writeByte(0);e++}}}V.write(c.get());var b=this.checksum(V.get());var f=2981146554-b;V.offset(Z+8);V.writeLong(f);return V.get()},checksum:function(W){W=B(W);var V=0;while(!W.eof()){V+=W.readLong()}return V&4294967295}};function I(W){function X(Z,Y){this.definition=Y;this.length=Y.length;this.offset=Y.offset;this.file=Z;this.rawData=Z.raw;this.parse(Z.raw)}X.prototype.raw=function(){return this.rawData.slice(this.offset,this.length)};for(var V in W){if(C(W,V)){X[V]=X.prototype[V]=W[V]}}return X}var A=I({parse:function(V){V.offset(this.offset);this.version=V.readLong();this.revision=V.readLong();this.checkSumAdjustment=V.readLong();this.magicNumber=V.readLong();this.flags=V.readShort();this.unitsPerEm=V.readShort();this.created=V.read(8);this.modified=V.read(8);this.xMin=V.readShort_();this.yMin=V.readShort_();this.xMax=V.readShort_();this.yMax=V.readShort_();this.macStyle=V.readShort();this.lowestRecPPEM=V.readShort();this.fontDirectionHint=V.readShort_();this.indexToLocFormat=V.readShort_();this.glyphDataFormat=V.readShort_()},render:function(V){var W=B();W.writeLong(this.version);W.writeLong(this.revision);W.writeLong(0);W.writeLong(this.magicNumber);W.writeShort(this.flags);W.writeShort(this.unitsPerEm);W.write(this.created);W.write(this.modified);W.writeShort_(this.xMin);W.writeShort_(this.yMin);W.writeShort_(this.xMax);W.writeShort_(this.yMax);W.writeShort(this.macStyle);W.writeShort(this.lowestRecPPEM);W.writeShort_(this.fontDirectionHint);W.writeShort_(V);W.writeShort_(this.glyphDataFormat);return W.get()}});var E=I({parse:function(W){W.offset(this.offset);var V=this.file.head.indexToLocFormat;if(V===0){this.offsets=W.times(this.length/2,function(){return 2*W.readShort()})}else{this.offsets=W.times(this.length/4,W.readLong)}},offsetOf:function(V){return this.offsets[V]},lengthOf:function(V){return this.offsets[V+1]-this.offsets[V]},render:function(W){var Y=B();var X=W[W.length-1]>65535;for(var V=0;V<W.length;++V){if(X){Y.writeLong(W[V])}else{Y.writeShort(W[V]/2)}}return{format:X?1:0,table:Y.get()}}});var U=I({parse:function(V){V.offset(this.offset);this.version=V.readLong();this.ascent=V.readShort_();this.descent=V.readShort_();this.lineGap=V.readShort_();this.advanceWidthMax=V.readShort();this.minLeftSideBearing=V.readShort_();this.minRightSideBearing=V.readShort_();this.xMaxExtent=V.readShort_();this.caretSlopeRise=V.readShort_();this.caretSlopeRun=V.readShort_();this.caretOffset=V.readShort_();V.skip(4*2);this.metricDataFormat=V.readShort_();this.numOfLongHorMetrics=V.readShort()},render:function(W){var V=B();V.writeLong(this.version);V.writeShort_(this.ascent);V.writeShort_(this.descent);V.writeShort_(this.lineGap);V.writeShort(this.advanceWidthMax);V.writeShort_(this.minLeftSideBearing);V.writeShort_(this.minRightSideBearing);V.writeShort_(this.xMaxExtent);V.writeShort_(this.caretSlopeRise);V.writeShort_(this.caretSlopeRun);V.writeShort_(this.caretOffset);V.write([0,0,0,0,0,0,0,0]);V.writeShort_(this.metricDataFormat);V.writeShort(W.length);return V.get()}});var T=I({parse:function(V){V.offset(this.offset);this.version=V.readLong();this.numGlyphs=V.readShort();this.maxPoints=V.readShort();this.maxContours=V.readShort();this.maxComponentPoints=V.readShort();this.maxComponentContours=V.readShort();this.maxZones=V.readShort();this.maxTwilightPoints=V.readShort();this.maxStorage=V.readShort();this.maxFunctionDefs=V.readShort();this.maxInstructionDefs=V.readShort();this.maxStackElements=V.readShort();this.maxSizeOfInstructions=V.readShort();this.maxComponentElements=V.readShort();this.maxComponentDepth=V.readShort()},render:function(W){var V=B();V.writeLong(this.version);V.writeShort(W.length);V.writeShort(this.maxPoints);V.writeShort(this.maxContours);V.writeShort(this.maxComponentPoints);V.writeShort(this.maxComponentContours);V.writeShort(this.maxZones);V.writeShort(this.maxTwilightPoints);V.writeShort(this.maxStorage);V.writeShort(this.maxFunctionDefs);V.writeShort(this.maxInstructionDefs);V.writeShort(this.maxStackElements);V.writeShort(this.maxSizeOfInstructions);V.writeShort(this.maxComponentElements);V.writeShort(this.maxComponentDepth);return V.get()}});var P=I({parse:function(Y){Y.offset(this.offset);var V=this.file,X=V.hhea;this.metrics=Y.times(X.numOfLongHorMetrics,function(){return{advance:Y.readShort(),lsb:Y.readShort_()}});var W=V.maxp.numGlyphs-V.hhea.numOfLongHorMetrics;this.leftSideBearings=Y.times(W,Y.readShort_)},forGlyph:function(X){var W=this.metrics;var V=W.length;if(X<V){return W[X]}return{advance:W[V-1].advance,lsb:this.leftSideBearings[X-V]}},render:function(Y){var W=B();for(var V=0;V<Y.length;++V){var X=this.forGlyph(Y[V]);W.writeShort(X.advance);W.writeShort_(X.lsb)}return W.get()}});var S=(function(){function W(d){this.raw=d}W.prototype={compound:false,render:function(){return this.raw.get()}};var Y=1;var V=8;var X=32;var c=64;var a=128;var Z=256;function b(g){this.raw=g;var f=this.glyphIds=[];var d=this.idOffsets=[];while(true){var e=g.readShort();d.push(g.offset());f.push(g.readShort());if(!(e&X)){break}g.skip(e&Y?4:2);if(e&a){g.skip(8)}else{if(e&c){g.skip(4)}else{if(e&V){g.skip(2)}}}}}b.prototype={compound:true,render:function(e){var f=B(this.raw.get());for(var d=0;d<this.glyphIds.length;++d){var g=this.glyphIds[d];f.offset(this.idOffsets[d]);f.writeShort(e[g])}return f.get()}};return I({parse:function(d){this.cache={}},glyphFor:function(m){var q=this.cache;if(C(q,m)){return q[m]}var p=this.file.loca;var j=p.lengthOf(m);if(j===0){return(q[m]=null)}var g=this.rawData;var f=this.offset+p.offsetOf(m);var h=B(g.slice(f,j));var l=h.readShort_();var k=h.readShort_();var o=h.readShort_();var n=h.readShort_();var e=h.readShort_();var d=q[m]=l==-1?new b(h):new W(h);d.numberOfContours=l;d.xMin=k;d.yMin=o;d.xMax=n;d.yMax=e;return d},render:function(e,g,k){var d=B(),j=[];for(var h=0;h<g.length;++h){var l=g[h];var f=e[l];j.push(d.offset());if(f){d.write(f.render(k))}}j.push(d.offset());return{table:d.get(),offsets:j}}})}());var J=(function(){function V(X,W){this.text=X;this.length=X.length;this.platformID=W.platformID;this.platformSpecificID=W.platformSpecificID;this.languageID=W.languageID;this.nameID=W.nameID}return I({parse:function(Y){Y.offset(this.offset);var d=Y.readShort();var X=Y.readShort();var a=this.offset+Y.readShort();var Z=Y.times(X,function(){return{platformID:Y.readShort(),platformSpecificID:Y.readShort(),languageID:Y.readShort(),nameID:Y.readShort(),length:Y.readShort(),offset:Y.readShort()+a}});var e=this.strings={};for(var b=0;b<Z.length;++b){var W=Z[b];Y.offset(W.offset);var c=Y.readString(W.length);if(!e[W.nameID]){e[W.nameID]=[]}e[W.nameID].push(new V(c,W))}this.postscriptEntry=e[6][0];this.postscriptName=this.postscriptEntry.text.replace(/[^\x20-\x7F]/g,"")},render:function(Z){var b=this.strings;var c=0;for(var a in b){if(C(b,a)){c+=b[a].length}}var W=B();var e=B();W.writeShort(0);W.writeShort(c);W.writeShort(6+12*c);for(a in b){if(C(b,a)){var X=a==6?[new V(Z,this.postscriptEntry)]:b[a];for(var Y=0;Y<X.length;++Y){var d=X[Y];W.writeShort(d.platformID);W.writeShort(d.platformSpecificID);W.writeShort(d.languageID);W.writeShort(d.nameID);W.writeShort(d.length);W.writeShort(e.offset());e.writeString(d.text)}}}W.write(e.get());return W.get()}})})();var D=(function(){var V=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g);return I({parse:function(Y){Y.offset(this.offset);this.format=Y.readLong();this.italicAngle=Y.readFixed_();this.underlinePosition=Y.readShort_();this.underlineThickness=Y.readShort_();this.isFixedPitch=Y.readLong();this.minMemType42=Y.readLong();this.maxMemType42=Y.readLong();this.minMemType1=Y.readLong();this.maxMemType1=Y.readLong();var X;switch(this.format){case 65536:case 196608:break;case 131072:X=Y.readShort();this.glyphNameIndex=Y.times(X,Y.readShort);this.names=[];var W=this.offset+this.length;while(Y.offset()<W){this.names.push(Y.readString(Y.readByte()))}break;case 151552:X=Y.readShort();this.offsets=Y.read(X);break;case 262144:this.map=Y.times(this.file.maxp.numGlyphs,Y.readShort);break}},glyphFor:function(W){switch(this.format){case 65536:return V[W]||".notdef";case 131072:var X=this.glyphNameIndex[W];if(X<V.length){return V[X]}return this.names[X-V.length]||".notdef";case 151552:case 196608:return".notdef";case 262144:return this.map[W]||65535}},render:function(d){if(this.format==196608){return this.raw()}var W=B(this.rawData.slice(this.offset,32));W.writeLong(131072);W.offset(32);var Y=[];var c=[];for(var Z=0;Z<d.length;++Z){var b=d[Z];var a=this.glyphFor(b);var X=V.indexOf(a);if(X>=0){Y.push(X)}else{Y.push(V.length+c.length);c.push(a)}}W.writeShort(d.length);for(Z=0;Z<Y.length;++Z){W.writeShort(Y[Z])}for(Z=0;Z<c.length;++Z){W.writeByte(c[Z].length);W.writeString(c[Z])}return W.get()}})})();var M=(function(){function V(Z,X){var Y=this;Y.platformID=Z.readShort();Y.platformSpecificID=Z.readShort();Y.offset=X+Z.readLong();Z.saveExcursion(function(){Z.offset(Y.offset);Y.format=Z.readShort();Y.length=Z.readShort();Y.language=Z.readShort();Y.isUnicode=(Y.platformID==3&&Y.platformSpecificID==1&&Y.format==4)||(Y.platformID===0&&Y.format==4);Y.codeMap={};switch(Y.format){case 0:for(var h=0;h<256;++h){Y.codeMap[h]=Z.readByte()}break;case 4:var j=Z.readShort()/2;Z.skip(6);var k=Z.times(j,Z.readShort);Z.skip(2);var n=Z.times(j,Z.readShort);var c=Z.times(j,Z.readShort_);var b=Z.times(j,Z.readShort);var d=(Y.length+Y.offset-Z.offset())/2;var g=Z.times(d,Z.readShort);for(h=0;h<j;++h){var m=n[h],e=k[h];for(var f=m;f<=e;++f){var a;if(b[h]===0){a=f+c[h]}else{var l=b[h]/2-(j-h)+(f-m);a=g[l]||0;if(a!==0){a+=c[h]}}Y.codeMap[f]=a&65535}}}})}function W(n,a){var s=L(n);var m=[];var o=[];var u=null;var d=null;function p(j){return a[n[j]]}for(var e=0;e<s.length;++e){var Y=s[e];var v=p(Y);var l=v-Y;if(u==null||l!==d){if(u){o.push(u)}m.push(Y);d=l}u=Y}if(u){o.push(u)}o.push(65535);m.push(65535);var f=m.length;var k=f*2;var x=2*Math.pow(2,Math.floor(Math.log(f)/Math.LN2));var w=Math.log(x/2)/Math.LN2;var q=k-x;var X=[];var Z=[];var r=[];for(e=0;e<f;++e){var g=m[e];var h=o[e];if(g==65535){X.push(0);Z.push(0);break}var b=p(g);if(g-b>=32768){X.push(0);Z.push(2*(r.length+f-e));for(var c=g;c<=h;++c){r.push(p(c))}}else{X.push(b-g);Z.push(0)}}var t=B();t.writeShort(3);t.writeShort(1);t.writeLong(12);t.writeShort(4);t.writeShort(16+f*8+r.length*2);t.writeShort(0);t.writeShort(k);t.writeShort(x);t.writeShort(w);t.writeShort(q);o.forEach(t.writeShort);t.writeShort(0);m.forEach(t.writeShort);X.forEach(t.writeShort_);Z.forEach(t.writeShort);r.forEach(t.writeShort);return t.get()}return I({parse:function(a){var Y=this;var X=Y.offset;a.offset(X);Y.version=a.readShort();var Z=a.readShort();Y.unicodeEntry=null;Y.tables=a.times(Z,function(){var b=new V(a,X);if(b.isUnicode){Y.unicodeEntry=b}return b})},render:function(Z,X){var Y=B();Y.writeShort(0);Y.writeShort(1);Y.write(W(Z,X));return Y.get()},getUnicodeEntry:function(){if(!this.unicodeEntry){throw new Error("Font doesn't have an Unicode encoding")}return this.unicodeEntry}})})();var O=I({parse:function(V){V.offset(this.offset);this.version=V.readShort();this.averageCharWidth=V.readShort_();this.weightClass=V.readShort();this.widthClass=V.readShort();this.type=V.readShort();this.ySubscriptXSize=V.readShort_();this.ySubscriptYSize=V.readShort_();this.ySubscriptXOffset=V.readShort_();this.ySubscriptYOffset=V.readShort_();this.ySuperscriptXSize=V.readShort_();this.ySuperscriptYSize=V.readShort_();this.ySuperscriptXOffset=V.readShort_();this.ySuperscriptYOffset=V.readShort_();this.yStrikeoutSize=V.readShort_();this.yStrikeoutPosition=V.readShort_();this.familyClass=V.readShort_();this.panose=V.times(10,V.readByte);this.charRange=V.times(4,V.readLong);this.vendorID=V.readString(4);this.selection=V.readShort();this.firstCharIndex=V.readShort();this.lastCharIndex=V.readShort();if(this.version>0){this.ascent=V.readShort_();this.descent=V.readShort_();this.lineGap=V.readShort_();this.winAscent=V.readShort();this.winDescent=V.readShort();this.codePageRange=V.times(2,V.readLong);if(this.version>1){this.xHeight=V.readShort();this.capHeight=V.readShort();this.defaultChar=V.readShort();this.breakChar=V.readShort();this.maxContext=V.readShort()}}},render:function(){return this.raw()}});var K=100000;function H(){var X="",W=K+"";for(var V=0;V<W.length;++V){X+=String.fromCharCode(W.charCodeAt(V)-48+65)}++K;return X}function G(V){this.font=V;this.subset={};this.unicodes={};this.ogid2ngid={0:0};this.ngid2ogid={0:0};this.ncid2ogid={};this.next=this.firstChar=1;this.nextGid=1;this.psName=H()+"+"+this.font.psName}G.prototype={use:function(Z){var X;if(typeof Z=="string"){var a="";for(var V=0;V<Z.length;++V){X=this.use(Z.charCodeAt(V));a+=String.fromCharCode(X)}return a}X=this.unicodes[Z];if(!X){X=this.next++;this.subset[X]=Z;this.unicodes[Z]=X;var Y=this.font.cmap.getUnicodeEntry().codeMap[Z];if(Y){this.ncid2ogid[X]=Y;if(this.ogid2ngid[Y]==null){var W=this.nextGid++;this.ogid2ngid[Y]=W;this.ngid2ogid[W]=Y}}}return X},encodeText:function(V){return this.use(V)},glyphIds:function(){return L(this.ogid2ngid)},glyphsFor:function(X,W){if(!W){W={}}for(var V=0;V<X.length;++V){var Z=X[V];if(!W[Z]){var Y=W[Z]=this.font.glyf.glyphFor(Z);if(Y&&Y.compound){this.glyphsFor(Y.glyphIds,W)}}}return W},render:function(){var X=this.glyphsFor(this.glyphIds());for(var V in X){if(C(X,V)){V=parseInt(V,10);if(this.ogid2ngid[V]==null){var W=this.nextGid++;this.ogid2ngid[V]=W;this.ngid2ogid[W]=V}}}var a=L(this.ngid2ogid);var Y=a.map(function(e){return this.ngid2ogid[e]},this);var b=this.font;var Z=b.glyf.render(X,Y,this.ogid2ngid);var d=b.loca.render(Z.offsets);this.lastChar=this.next-1;var c={"cmap":M.render(this.ncid2ogid,this.ogid2ngid),"glyf":Z.table,"loca":d.table,"hmtx":b.hmtx.render(Y),"hhea":b.hhea.render(Y),"maxp":b.maxp.render(Y),"post":b.post.render(Y),"name":b.name.render(this.psName),"head":b.head.render(d.format),"OS/2":b.os2.render()};return this.font.directory.render(c)},cidToGidMap:function(){var X=B(),Y=0;for(var V=this.firstChar;V<this.next;++V){while(Y<V){X.writeShort(0);Y++}var W=this.ncid2ogid[V];if(W){var Z=this.ogid2ngid[W];X.writeShort(Z)}else{X.writeShort(0)}Y++}return X.get()}};function N(V,W){var b=this;var X=b.contents=B(V);if(X.readString(4)=="ttcf"){if(!W){throw new Error("Must specify a name for TTC files")}var Y=X.readLong();var c=X.readLong();for(var Z=0;Z<c;++Z){var a=X.readLong();X.saveExcursion(function(){X.offset(a);b.parse()});if(b.psName==W){return}}throw new Error("Font "+W+" not found in collection")}else{X.offset(0);b.parse()}}N.prototype={parse:function(){var V=this.directory=new Q(this.contents);this.head=V.readTable("head",A);this.loca=V.readTable("loca",E);this.hhea=V.readTable("hhea",U);this.maxp=V.readTable("maxp",T);this.hmtx=V.readTable("hmtx",P);this.glyf=V.readTable("glyf",S);this.name=V.readTable("name",J);this.post=V.readTable("post",D);this.cmap=V.readTable("cmap",M);this.os2=V.readTable("OS/2",O);this.psName=this.name.postscriptName;this.ascent=this.os2.ascent||this.hhea.ascent;this.descent=this.os2.descent||this.hhea.descent;this.lineGap=this.os2.lineGap||this.hhea.lineGap;this.scale=1000/this.head.unitsPerEm},widthOfGlyph:function(V){return this.hmtx.forGlyph(V).advance*this.scale},makeSubset:function(){return new G(this)}};F.TTFFont=N})(window);(function(c,d){var A=c.drawing;var V=c.geometry;var G=A.Color;var b=c.pdf.TEXT_RENDERING_MODE;var S={dash:[4],dashDot:[4,2,1,2],dot:[1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2],solid:[]};var Q={butt:0,round:1,square:2};var H={miter:0,round:1,bevel:2};function O(p,k){var m=[],n=[],o=p.options;function j(s,r,t){if(!t){t=o}if(t.pdf&&t.pdf[s]!=null){return t.pdf[s]}return r}var h=j("multiPage");p.traverse(function(r){R({Image:function(s){if(n.indexOf(s.src())<0){n.push(s.src())}},Text:function(u){var t=c.pdf.parseFontDef(u.options.font);var s=c.pdf.getFontURL(t);if(m.indexOf(s)<0){m.push(s)}}},r)});function q(){if(--l>0){return}var r=new (c.pdf.Document)({producer:j("producer"),title:j("title"),author:j("author"),subject:j("subject"),keywords:j("keywords"),creator:j("creator"),date:j("date")});function s(y){var z=y.options;var w=U(y);var Ab=w.bbox;y=w.root;var t=j("paperSize",j("paperSize","auto"),z),Aa=false;if(t=="auto"){if(Ab){var x=Ab.getSize();t=[x.width,x.height];Aa=true;var u=Ab.getOrigin();w=new A.Group();w.transform(new V.Matrix(1,0,0,1,-u.x,-u.y));w.append(y);y=w}else{t="A4"}}var v;v=r.addPage({paperSize:t,margin:j("margin",j("margin"),z),addMargin:Aa,landscape:j("landscape",j("landscape",false),z)});e(y,v,r)}if(h){p.children.forEach(s)}else{s(p)}k(r.render(),r)}var l=2;c.pdf.loadFonts(m,q);c.pdf.loadImages(n,q)}function T(j,h){O(j,function(k){h("data:application/pdf;base64,"+k.base64())})}function D(j,h){O(j,function(k){h(new Blob([k.get()],{type:"application/pdf"}))})}function B(j,l,k,h){if(window.Blob&&!c.support.browser.safari){D(j,function(m){c.saveAs({dataURI:m,fileName:l});if(h){h(m)}})}else{T(j,function(m){c.saveAs({dataURI:m,fileName:l,proxyURL:k});if(h){h(m)}})}}function R(k,h){var j=k[h.nodeType];if(j){return j.call.apply(j,arguments)}return h}function e(n,o,j){if(n.options._pdfDebug){o.comment("BEGIN: "+n.options._pdfDebug)}var k=n.transform();var h=n.opacity();o.save();if(h!=null&&h<1){o.setOpacity(h)}a(n,o,j);F(n,o,j);I(n,o,j);if(k){var l=k.matrix();o.transform(l.a,l.b,l.c,l.d,l.e,l.f)}R({Path:N,MultiPath:Z,Circle:W,Arc:f,Text:L,Image:K,Group:E},n,o,j);o.restore();if(n.options._pdfDebug){o.comment("END: "+n.options._pdfDebug)}}function a(h,k,q){var r=h.stroke&&h.stroke();if(!r){return}var l=r.color;if(l){l=X(l);if(l==null){return}k.setStrokeColor(l.r,l.g,l.b);if(l.a!=1){k.setStrokeOpacity(l.a)}}var o=r.width;if(o!=null){if(o===0){return}k.setLineWidth(o)}var p=r.dashType;if(p){k.setDashPattern(S[p],0)}var j=r.lineCap;if(j){k.setLineCap(Q[j])}var n=r.lineJoin;if(n){k.setLineJoin(H[n])}var m=r.opacity;if(m!=null){k.setStrokeOpacity(m)}}function F(l,n,j){var h=l.fill&&l.fill();if(!h){return}if(h instanceof A.Gradient){return}var m=h.color;if(m){m=X(m);if(m==null){return}n.setFillColor(m.r,m.g,m.b);if(m.a!=1){n.setFillOpacity(m.a)}}var k=h.opacity;if(k!=null){n.setFillOpacity(k)}}function I(k,l,h){var j=k.clip();if(j){J(j,l,h);l.clip()}}function M(h){return(h&&(h instanceof A.Gradient||(h.color&&!/^(none|transparent)$/i.test(h.color)&&(h.width==null||h.width>0)&&(h.opacity==null||h.opacity>0))))}function g(h,l,q,t){var s=h.fill();if(s instanceof A.Gradient){if(t){l.clipStroke()}else{l.clip()}var m=s instanceof A.RadialGradient;var j,p;if(m){j={x:s.center().x,y:s.center().y,r:0};p={x:s.center().x,y:s.center().y,r:s.radius()}}else{j={x:s.start().x,y:s.start().y};p={x:s.end().x,y:s.end().y}}var o={type:m?"radial":"linear",start:j,end:p,userSpace:s.userSpace(),stops:s.stops.elements().map(function(v){var u=v.offset();if(/%$/.test(u)){u=parseFloat(u)/100}else{u=parseFloat(u)}var w=X(v.color());w.a*=v.opacity();return{offset:u,color:w}})};var n=h.rawBBox();var r=n.topLeft(),k=n.getSize();n={left:r.x,top:r.y,width:k.width,height:k.height};l.gradient(o,n);return true}}function P(j,k,h){if(M(j.fill())&&M(j.stroke())){if(!g(j,k,h,true)){k.fillStroke()}}else{if(M(j.fill())){if(!g(j,k,h,false)){k.fill()}}else{if(M(j.stroke())){k.stroke()}else{k.nop()}}}}function Y(o,l,k){var h=o.segments;if(h.length==4&&o.options.closed){var n=[];for(var j=0;j<h.length;++j){if(h[j].controlIn()){return false}n[j]=h[j].anchor()}var m=(n[0].y==n[1].y&&n[1].x==n[2].x&&n[2].y==n[3].y&&n[3].x==n[0].x)||(n[0].x==n[1].x&&n[1].y==n[2].y&&n[2].x==n[3].x&&n[3].y==n[0].y);if(m){l.rect(n[0].x,n[0].y,n[2].x-n[0].x,n[2].y-n[0].y);return true}}}function J(j,k,o){var r=j.segments;if(r.length===0){return}if(!Y(j,k,o)){for(var m,l=0;l<r.length;++l){var q=r[l];var h=q.anchor();if(!m){k.moveTo(h.x,h.y)}else{var p=m.controlOut();var n=q.controlIn();if(p&&n){k.bezier(p.x,p.y,n.x,n.y,h.x,h.y)}else{k.lineTo(h.x,h.y)}}m=q}if(j.options.closed){k.close()}}}function N(j,k,h){J(j,k,h);P(j,k,h)}function Z(l,m,k){var j=l.paths;for(var h=0;h<j.length;++h){J(j[h],m,k)}P(l,m,k)}function W(k,l,j){var h=k.geometry();l.circle(h.center.x,h.center.y,h.radius);P(k,l,j)}function f(l,m,j){var k=l.geometry().curvePoints();m.moveTo(k[0].x,k[0].y);for(var h=1;h<k.length;){m.bezier(k[h].x,k[h++].y,k[h].x,k[h++].y,k[h].x,k[h++].y)}P(l,m,j)}function L(m,n,k){var l=c.pdf.parseFontDef(m.options.font);var h=m._position;var j;if(m.fill()&&m.stroke()){j=b.fillAndStroke}else{if(m.fill()){j=b.fill}else{if(m.stroke()){j=b.stroke}}}n.transform(1,0,0,-1,h.x,h.y+l.fontSize);n.beginText();n.setFont(c.pdf.getFontURL(l),l.fontSize);n.setTextRenderingMode(j);n.showText(m.content(),m._pdfRect?m._pdfRect.width():null);n.endText()}function E(l,m,k){if(l._pdfLink){m.addLink(l._pdfLink.url,l._pdfLink)}var h=l.children;for(var j=0;j<h.length;++j){e(h[j],m,k)}}function K(n,o,k){var j=n.src();if(!j){return}var m=n.rect();var l=m.getOrigin();var h=m.getSize();o.transform(h.width,0,0,-h.height,l.x,l.y+h.height);o.drawImage(j)}function C(h,k){var l=d.Deferred();for(var j in k){h.options.set("pdf."+j,k[j])}A.pdf.toDataURL(h,l.resolve);return l.promise()}function X(h){var j=c.parseColor(h,true);return j?j.toRGB():null}function U(n){var m=false;var o=V.Matrix.unit();var h=null;var p;do{p=false;n=q(n)}while(n&&p);return{root:n,bbox:h};function r(t){p=true;return t}function l(t){return(t.visible()&&t.opacity()>0&&(M(t.fill())||M(t.stroke())))}function j(w){var v=[];for(var u=0;u<w.length;++u){var t=q(w[u]);if(t!=null){v.push(t)}}return v}function k(x,t){var w=m;var v=o;if(x.transform()){o=o.multiplyCopy(x.transform().matrix())}var u=x.clip();if(u){u=u.bbox();if(u){u=u.bbox(o);m=m?V.Rect.intersect(m,u):u}}try{return t()}finally{m=w;o=v}}function s(u){if(m==null){return false}var t=u.rawBBox().bbox(o);if(m&&t){t=V.Rect.intersect(t,m)}return t}function q(t){return k(t,function(){if(!(t instanceof A.Group||t instanceof A.MultiPath)){var u=s(t);if(!u){return r(null)}h=h?V.Rect.union(h,u):u}return R({Path:function(v){if(v.segments.length===0||!l(v)){return r(null)}return v},MultiPath:function(w){if(!l(w)){return r(null)}var v=new A.MultiPath(w.options);v.paths=j(w.paths);if(v.paths.length===0){return r(null)}return v},Circle:function(v){if(!l(v)){return r(null)}return v},Arc:function(v){if(!l(v)){return r(null)}return v},Text:function(v){if(!/\S/.test(v.content())||!l(v)){return r(null)}return v},Image:function(v){if(!(v.visible()&&v.opacity()>0)){return r(null)}return v},Group:function(w){var v=new A.Group(w.options);v.children=j(w.children);v._pdfLink=w._pdfLink;if(w!==n&&v.children.length===0&&!w._pdfLink){return r(null)}return v}},t)})}}c.deepExtend(A,{exportPDF:C,pdf:{toDataURL:T,toBlob:D,saveAs:B,toStream:O}})})(window.kendo,window.kendo.jQuery);(function(A,B){A.PDFMixin={extend:function(C){C.events.push("pdfExport");C.options.pdf=this.options;C.saveAsPDF=this.saveAsPDF;C._drawPDF=this._drawPDF;C._drawPDFShadow=this._drawPDFShadow},options:{fileName:"Export.pdf",proxyURL:"",paperSize:"auto",allPages:false,landscape:false,margin:null,title:null,author:null,subject:null,keywords:null,creator:"Kendo UI PDF Generator",date:null},saveAsPDF:function(){var E=new B.Deferred();var C=E.promise();var F={promise:C};if(this.trigger("pdfExport",F)){return}var D=this.options.pdf;D.multiPage=D.allPages;this._drawPDF(E).then(function(G){return A.drawing.exportPDF(G,D)}).done(function(G){A.saveAs({dataURI:G,fileName:D.fileName,proxyURL:D.proxyURL,forceProxy:D.forceProxy,proxyTarget:D.proxyTarget});E.resolve()}).fail(function(G){E.reject(G)});return C},_drawPDF:function(){return A.drawing.drawDOM(this.wrapper)},_drawPDFShadow:function(F){F=F||{};var D=this.wrapper;var C=B("<div class='k-pdf-export-shadow'>");if(F.width){C.css({width:F.width,overflow:"visible"})}D.before(C);C.append(F.content||D.clone(true,true));var E=A.drawing.drawDOM(C);E.always(function(){C.remove()});return E}}})(kendo,window.kendo.jQuery);(function(E,AF){var AZ=window.kendo,Ax=AZ.ui,Bf=AZ.data.DataSource,l=Ax.Groupable,M=AZ.support.tbodyInnerHtml,x=AZ._activeElement,Aa=Ax.Widget,Br=AZ.keys,AV=E.isPlainObject,k=E.extend,Bg=E.map,Ab=E.grep,z=E.isArray,Au=E.inArray,a=Array.prototype.push,T=E.proxy,Ag=AZ.isFunction,AQ=E.isEmptyObject,Az=Math,AL="progress",As="error",AH=":not(.k-group-cell):not(.k-hierarchy-cell):visible",d="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",A="tr:not(.k-footer-template):visible",U=":not(.k-group-cell):not(.k-hierarchy-cell):visible",S=A+":first>"+U+":first",AX="th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)",An=".kendoGrid",Am="edit",Bc="save",AS="remove",AY="detailInit",AB="filterMenuInit",AM="columnMenuInit",K="change",Bs="columnHide",Al="columnShow",Aj="saveChanges",G="dataBound",Ae="detailExpand",m="detailCollapse",AD="k-state-focused",A8="k-state-selected",X="k-grid-norecords",Af="columnResize",A3="columnReorder",Ao="columnLock",Bd="columnUnlock",Q="click",At="height",Z="tabIndex",F="function",Bh="string",Bb="Are you sure you want to delete this record?",e="No records available.",u="Delete",AT="Cancel",A2=/(\}|\#)/ig,n=/#/ig,Bj="[\\x20\\t\\r\\n\\f]",AR=new RegExp("(^|"+Bj+")(k-group-cell|k-hierarchy-cell)("+Bj+"|$)"),L=new RegExp("(^|"+Bj+")(k-filter-row)("+Bj+"|$)"),Ai='<a class="k-button k-button-icontext e-command #=className#" #=attr# href="\\#" title="#=title#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',AP='<a class="k-button k-button-icontext #=className#" #=attr# href="\\#" title="#=title#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',R=false,Bn=AZ.support.browser,I=Bn.msie&&Bn.version==7,C=Bn.msie&&Bn.version==8;var Y=Aa.extend({init:function(Bz,By){var Bx=this;Aa.fn.init.call(Bx,Bz,By);Bx._refreshHandler=T(Bx.refresh,Bx);Bx.setDataSource(By.dataSource);Bx.wrap()},setDataSource:function(By){var Bx=this;if(Bx.dataSource){Bx.dataSource.unbind(K,Bx._refreshHandler)}Bx.dataSource=By;Bx.dataSource.bind(K,Bx._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:E.noop,prefetch:true},destroy:function(){var Bx=this;Aa.fn.destroy.call(Bx);Bx.dataSource.unbind(K,Bx._refreshHandler);Bx.wrapper.add(Bx.verticalScrollbar).off(An);if(Bx.drag){Bx.drag.destroy();Bx.drag=null}Bx.wrapper=Bx.element=Bx.verticalScrollbar=null;Bx._refreshHandler=null},wrap:function(){var Bz=this,Bx=AZ.support.scrollbar()+1,BA=Bz.element,By;BA.css({width:"auto",overflow:"hidden"}).css((R?"padding-left":"padding-right"),Bx);Bz.content=BA.children().first();By=Bz.wrapper=Bz.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+An+" mousewheel"+An,T(Bz._wheelScroll,Bz));if(AZ.support.kineticScrollNeeded){Bz.drag=new AZ.UserEvents(Bz.wrapper,{global:true,start:function(BB){BB.sender.capture()},move:function(BB){Bz.verticalScrollbar.scrollTop(Bz.verticalScrollbar.scrollTop()-BB.y.delta);By.scrollLeft(By.scrollLeft()-BB.x.delta);BB.preventDefault()}})}Bz.verticalScrollbar=E('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:Bx}).appendTo(BA).bind("scroll"+An,T(Bz._scroll,Bz))},_wheelScroll:function(By){if(By.ctrlKey){return}var Bz=this.verticalScrollbar.scrollTop(),Bx=AZ.wheelDeltaY(By);if(Bx){By.preventDefault();E(By.currentTarget).one("wheel"+An,false);this.verticalScrollbar.scrollTop(Bz+(-Bx))}},_scroll:function(Bx){var BD=this,BB=!BD.options.prefetch,BC=Bx.currentTarget.scrollTop,BH=BD.dataSource,BG=BD.itemHeight,BA=BH.skip()||0,By=BD._rangeStart||BA,BI=BD.element.innerHeight(),Bz=!!(BD._scrollbarTop&&BD._scrollbarTop>BC),BF=Az.max(Az.floor(BC/BG),0),BE=Az.max(BF+Az.floor(BI/BG),0);BD._scrollTop=BC-(By*BG);BD._scrollbarTop=BC;BD._scrolling=BB;if(!BD._fetch(BF,BE,Bz)){BD.wrapper[0].scrollTop=BD._scrollTop}if(BB){if(BD._scrollingTimeout){clearTimeout(BD._scrollingTimeout)}BD._scrollingTimeout=setTimeout(function(){BD._scrolling=false;BD._page(BD._rangeStart,BD.dataSource.take())},100)}},itemIndex:function(Bx){var By=this._rangeStart||this.dataSource.skip()||0;return By+Bx},position:function(Bz){var BA=this._rangeStart||this.dataSource.skip()||0;var Bx=this.dataSource.pageSize();var By;if(Bz>BA){By=Bz-BA+1}else{By=BA-Bz-1}return By>Bx?Bx:By},scrollIntoView:function(BA){var BC=this.wrapper[0];var Bz=BC.clientHeight;var By=this._scrollTop||BC.scrollTop;var BB=BA[0].offsetTop;var Bx=BA[0].offsetHeight;if(By>BB){this.verticalScrollbar[0].scrollTop-=Bz/2}else{if(BB+Bx>=By+Bz){this.verticalScrollbar[0].scrollTop+=Bz/2}}},_fetch:function(BF,BE,Bx){var BC=this,BH=BC.dataSource,BD=BC.itemHeight,BB=BH.take(),BG=BC._rangeStart||BH.skip()||0,By=Az.floor(BF/BB)*BB,BA=false,Bz=0.33;if(BF<BG){BA=true;BG=Az.max(0,BE-BB);BC._scrollTop=(BF-BG)*BD;BC._page(BG,BB)}else{if(BE>=BG+BB&&!Bx){BA=true;BG=BF;BC._scrollTop=BD;BC._page(BG,BB)}else{if(!BC._fetching&&BC.options.prefetch){if(BF<(By+BB)-BB*Bz&&BF>BB){BH.prefetch(By-BB,BB,E.noop)}if(BE>By+BB*Bz){BH.prefetch(By+BB,BB,E.noop)}}}}return BA},fetching:function(){return this._fetching},_page:function(Bx,BB){var Bz=this,By=!Bz.options.prefetch,BA=Bz.dataSource;clearTimeout(Bz._timeout);Bz._fetching=true;Bz._rangeStart=Bx;if(BA.inRange(Bx,BB)){BA.range(Bx,BB)}else{if(!By){AZ.ui.progress(Bz.wrapper.parent(),true)}Bz._timeout=setTimeout(function(){if(!Bz._scrolling){if(By){AZ.ui.progress(Bz.wrapper.parent(),true)}BA.range(Bx,BB)}},100)}},repaintScrollbar:function(){var BA=this,Bz="",BD=250000,BG=BA.dataSource,BC=!AZ.support.kineticScrollNeeded?AZ.support.scrollbar():0,BF=BA.wrapper[0],Bx,By,BB;BB=BA.itemHeight=BA.options.itemHeight()||0;var BE=(BF.scrollWidth>BF.offsetWidth)?BC:0;Bx=BG.total()*BB+BE;for(By=0;By<Az.floor(Bx/BD);By++){Bz+='<div style="width:1px;height:'+BD+'px"></div>'}if(Bx%BD){Bz+='<div style="width:1px;height:'+(Bx%BD)+'px"></div>'}BA.verticalScrollbar.html(Bz);BF.scrollTop=BA._scrollTop},refresh:function(){var Bx=this,By=Bx.dataSource,Bz=Bx._rangeStart;AZ.ui.progress(Bx.wrapper.parent(),false);clearTimeout(Bx._timeout);Bx.repaintScrollbar();if(Bx.drag){Bx.drag.cancel()}if(Bz&&!Bx._fetching){Bx._rangeStart=By.skip();if(By.page()===1){Bx.verticalScrollbar[0].scrollTop=0}}Bx._fetching=false}});function c(Bx){return new Array(Bx+1).join('<td class="k-group-cell">&nbsp;</td>')}function g(Bx){var Bz,By=" ";if(Bx){if(typeof Bx===Bh){return Bx}for(Bz in Bx){By+=Bz+'="'+Bx[Bz]+'"'}}return By}var Bp={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"icon-ok"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"icon-remove"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"icon-pencil"},update:{text:"Update",imageClass:"k-update",className:"k-grid-update",iconClass:"icon-ok"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"},excel:{text:"Export to Excel",imageClass:"k-i-excel",className:"k-grid-excel",iconClass:"k-icon"},pdf:{text:"Export to PDF",imageClass:"k-i-pdf",className:"k-grid-pdf",iconClass:"k-icon"}};function AU(Bx){var By=0;E("> .k-grouping-header, > .k-grid-toolbar",Bx).each(function(){By+=this.offsetHeight});return By}function AI(Bx,By){E("th, th .k-grid-filter, th .k-link",Bx).add(document.body).css("cursor",By)}function q(BC,Bz,By,BB,Bx){var BA=Bz;Bz=E();Bx=Bx||1;for(var BD=0;BD<Bx;BD++){Bz=Bz.add(BC.eq(BA+BD))}if(typeof By=="number"){Bz[BB?"insertBefore":"insertAfter"](BC.eq(By))}else{Bz.appendTo(By)}}function O(Bz,Bx,By){return E(Bz).add(Bx).find(By)}function A5(By,BA,BB){var BC,Bz,Bx,BD;BB=!z(BB)?[BB]:BB;for(BC=0,Bz=BB.length;BC<Bz;BC++){Bx=BB[BC];if(AV(Bx)&&Bx.click){BD=Bx.name||Bx.text;BA.on(Q+An,"a.k-grid-"+(BD||"").replace(/\s/g,""),{commandName:BD},T(Bx.click,By))}}}function J(Bz,Bx,By){return Bg(Bz,function(BB){BB=typeof BB===Bh?{field:BB}:BB;var BC;if(!B(BB)||By){BB.attributes=AJ(BB.attributes);BB.footerAttributes=AJ(BB.footerAttributes);BB.headerAttributes=AJ(BB.headerAttributes);BC=true}if(BB.columns){BB.columns=J(BB.columns,Bx,BC)}var BA=AZ.guid();BB.headerAttributes=k({id:BA},BB.headerAttributes);return k({encoded:Bx,hidden:BC},BB)})}function AN(By,Bz){var Bx=[];AC(By,Bz,Bx);return Bx[Bx.length-1]}function AC(BA,BB,Bx){Bx=Bx||[];for(var Bz=0;Bz<BB.length;Bz++){if(BA===BB[Bz]){return true}else{if(BB[Bz].columns){var By=Bx.length;Bx.push(BB[Bz]);if(!AC(BA,BB[Bz].columns,Bx)){Bx.splice(By,Bx.length-By)}else{return true}}}}return false}function Ac(Bz,Bx){var By=Bx?j:AJ;Bz.hidden=!Bx;Bz.attributes=By(Bz.attributes);Bz.footerAttributes=By(Bz.footerAttributes);Bz.headerAttributes=By(Bz.headerAttributes)}function AA(){return this.style.display!=="none"}function B(Bx){return Be([Bx]).length>0}function Be(Bx){return Ab(Bx,function(Bz){var By=!Bz.hidden;if(By&&Bz.columns){By=Be(Bz.columns).length>0}return By})}function P(Bx){return E(Bx).map(function(){return this.toArray()})}function A0(BB,BC,By){var BA=A4(t(BC));var Bx=A4(Ap(BC));var Bz=BB.rowSpan;if(By){if(BA>Bx){BB.rowSpan=(Bz-(BA-Bx))||1}else{BB.rowSpan=Bz+(Bx-BA)}}else{if(BA>Bx){BB.rowSpan=Bz+(BA-Bx)}else{BB.rowSpan=(Bz-(Bx-BA))||1}}}function y(BD,BG,By,BB,BF,BH,BE){var BC=A4(BD);var BA=A4([BG]);if(BC>BA){var Bz=new Array(BE+1).join('<th class="k-group-cell k-header">&nbsp;</th>');var Bx=BH.children(":not(.k-filter-row)");E(new Array((BC-BA)+1).join("<tr>"+Bz+"</tr>")).insertAfter(Bx.last())}Ad(BH,BC-BA);N(By,BB,BF,BH)}function Ak(BC,Bz,By){By=By||0;var BD;var BH;var Bx=Bz;Bz=Aq(Bz);var BF={};var BB=BC.find(">tr:not(.k-filter-row)");var BE=function(){var BI=E(this);return !BI.hasClass("k-group-cell")&&!BI.hasClass("k-hierarchy-cell")};for(var BA=0,BG=Bz.length;BA<BG;BA++){BD=b(Bz[BA],Bx);if(!BF[BD.row]){BF[BD.row]=BB.eq(BD.row).find(".k-header").filter(BE)}BH=BF[BD.row].eq(BD.cell);BH.attr(AZ.attr("index"),By+BA)}return Bz.length}function A4(BB){var By=1;var BA=0;for(var Bz=0;Bz<BB.length;Bz++){if(BB[Bz].columns){var Bx=A4(BB[Bz].columns);if(Bx>BA){BA=Bx}}}return By+BA}function N(Bx,Bz,BD,BG){var BE=Bu(Bx[0],Bz);var BC=BD.find(">tr:not(.k-filter-row):eq("+BE.row+")>th.k-header");var By=E();var BF=BE.cell;var BA;for(BA=0;BA<Bx.length;BA++){By=By.add(BC.eq(BF+BA))}BG.find(">tr:not(.k-filter-row)").eq(BE.row).append(By);var BB=[];for(BA=0;BA<Bx.length;BA++){if(Bx[BA].columns){BB=BB.concat(Bx[BA].columns)}}if(BB.length){N(BB,Bz,BD,BG)}}function b(BB,BC,By,BA){var Bx;var Bz;By=By||0;BA=BA||{};BA[By]=BA[By]||0;for(Bz=0;Bz<BC.length;Bz++){if(BC[Bz]==BB){Bx={cell:BA[By],row:By};break}else{if(BC[Bz].columns){Bx=b(BB,BC[Bz].columns,By+1,BA);if(Bx){break}}}BA[By]++}return Bx}function h(BC,Bz,Bx,By){var BA;var BB=Bx.locked;do{BA=BC[Bz];Bz+=By?1:-1}while(BA&&Bz>-1&&Bz<BC.length&&BA!=Bx&&!BA.columns&&BA.locked==BB);return BA}function Bi(By,Bz,BA,BE){if(Bz.columns){Bz=Bz.columns;return Bz[BE?0:Bz.length-1]}else{var BD=AN(Bz,By);var BB;if(BD){BB=BD.columns}else{BB=By}var Bx=Au(Bz,BB);if(Bx===0&&BE){Bx++}else{if(Bx==BB.length-1&&!BE){Bx--}else{if(Bx>0||(Bx===0&&!BE)){Bx+=BE?-1:1}}}var BC=Au(BA,BB);Bz=h(BB,Bx,BA,BC>Bx);if(Bz&&Bz!=BA&&Bz.columns){return Bi(By,Bz,BA,BE)}}return null}function Bu(BB,BC,By,BA){var Bx;var Bz;By=By||0;BA=BA||{};BA[By]=BA[By]||0;for(Bz=0;Bz<BC.length;Bz++){if(BC[Bz]==BB){Bx={cell:BA[By],row:By};break}else{if(BC[Bz].columns){Bx=Bu(BB,BC[Bz].columns,By+1,BA);if(Bx){break}}}if(!BC[Bz].hidden){BA[By]++}}return Bx}function Ay(By){var Bx=Aw(t(By));return Bx.concat(Aw(Ap(By)))}function Aw(BA){var By=[];var Bx=[];for(var Bz=0;Bz<BA.length;Bz++){By.push(BA[Bz]);if(BA[Bz].columns){Bx=Bx.concat(BA[Bz].columns)}}if(Bx.length){By=By.concat(Aw(Bx))}return By}function AW(BA){var Bx=0;var Bz;for(var By=0;By<BA.length;By++){Bz=BA[By];if(Bz.columns){Bx+=AW(Bz.columns)}else{if(Bz.hidden){Bx++}}}return Bx}function Bw(By){var Bz,BB=0;for(var BA=0,Bx=By.length;BA<Bx;BA++){Bz=By[BA].style.width;if(Bz&&Bz.indexOf("%")==-1){BB+=parseInt(Bz,10)}}return BB}function Bv(Bz,Bx){var BA=Bz.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)");var By;for(var BB=0;BB<BA.length;BB++){By=BA[BB].rowSpan;if(By>1){BA[BB].rowSpan=(By-Bx)||1}}}function Ad(By,Bx){var Bz=By.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)");for(var BA=0;BA<Bz.length;BA++){Bz[BA].rowSpan+=Bx}}function AO(Bx){var BA=Bx.find("tr:not(.k-filter-row)");var BB=BA.filter(function(){return !E(this).children().length}).remove().length;var By=BA.find("th:not(.k-group-cell,.k-hierarchy-cell)");for(var Bz=0;Bz<By.length;Bz++){if(By[Bz].rowSpan>1){By[Bz].rowSpan-=BB}}return BA.length-BB}function Bt(BA,BF,Bx,By,Bz){var BB,BE,BC,BD=[];for(BB=0,BC=BA.length;BB<BC;BB++){BE=Bx[By]||[];BE.push(BF.eq(Bz+BB));Bx[By]=BE;if(BA[BB].columns){BD=BD.concat(BA[BB].columns)}}if(BD.length){Bt(BD,BF,Bx,By+1,Bz+BA.length)}}function t(Bx){return Ab(Bx,function(By){return By.locked})}function Ap(Bx){return Ab(Bx,function(By){return !By.locked})}function Ah(Bx){return Ab(Bx,function(By){return !By.locked&&B(By)})}function Av(Bx){return Ab(Bx,function(By){return By.locked&&B(By)})}function A7(Bz){var Bx=[];for(var By=0;By<Bz.length;By++){if(Bz[By].hidden){continue}if(Bz[By].columns){Bx=Bx.concat(A7(Bz[By].columns))}else{Bx.push(Bz[By])}}return Bx}function Aq(Bz){var Bx=[];for(var By=0;By<Bz.length;By++){if(!Bz[By].columns){Bx.push(Bz[By]);continue}Bx=Bx.concat(Aq(Bz[By].columns))}return Bx}function D(Bz){var BB=Bz.find(">tr:not(.k-filter-row)");var BA=function(){var BC=E(this);return !BC.hasClass("k-group-cell")&&!BC.hasClass("k-hierarchy-cell")};var By=E();if(BB.length>1){By=BB.find("th").filter(BA).filter(function(){return this.rowSpan>1})}By=By.add(BB.last().find("th").filter(BA));var Bx=AZ.attr("index");By.sort(function(BF,BD){BF=E(BF);BD=E(BD);var BE=BF.attr(Bx);var BC=BD.attr(Bx);if(BE===AF){BE=E(BF).index()}if(BC===AF){BC=E(BD).index()}BE=parseInt(BE,10);BC=parseInt(BC,10);return BE>BC?1:(BE<BC?-1:0)});return By}function Ar(BJ){var BE=BJ.closest("table");var Bx=E().add(BJ);var BD=BJ.closest("tr");var BF=BE.find("tr:not(.k-filter-row)");var BC=BF.index(BD);if(BC>0){var BI=BF.eq(BC-1);var BA=BI.find("th:not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return !E(this).attr("rowspan")});var By=0;var Bz=BD.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(BJ);var BH=BJ.prevAll(":not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return this.colSpan>1});for(BB=0;BB<BH.length;BB++){By+=BH[BB].colSpan||1}Bz+=Math.max(By-1,0);By=0;for(var BB=0;BB<BA.length;BB++){var BG=BA.eq(BB);if(BG.attr("colSpan")){By+=BG[0].colSpan}else{By+=1}if(Bz>=BB&&Bz<By){Bx=Ar(BG).add(Bx);break}}}return Bx}function V(BL){var BG=BL.closest("thead");var By=E().add(BL);var BF=BL.closest("tr");var BI=BG.find("tr:not(.k-filter-row)");var BE=BI.index(BF)+BL[0].rowSpan;var BB=AZ.attr("colspan");if(BE<=BI.length-1){var BH=BF.next();var BA=BF.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(BL);var BK=BL.prevAll(":not(.k-group-cell,.k-hierarchy-cell)");var BD;BK=BK.filter(function(){return !this.rowSpan||this.rowSpan===1});var Bz=0;for(BD=0;BD<BK.length;BD++){Bz+=parseInt(BK.eq(BD).attr(BB),10)||1}var BJ=BH.find("th:not(.k-group-cell,.k-hierarchy-cell)");var Bx=parseInt(BL.attr(BB),10)||1;BD=0;while(BD<Bx){BH=BJ.eq(BD+Bz);By=By.add(V(BH));var BC=parseInt(BH.attr(BB),10);if(BC>1){Bx-=BC-1}BD++}}return By}function v(Bz,BB,Bx,BC){var BA,By=Bz;if(BC){Bz.empty()}if(M){Bz[0].innerHTML=Bx}else{BA=document.createElement("div");BA.innerHTML="<table><tbody>"+Bx+"</tbody></table>";Bz=BA.firstChild.firstChild;BB[0].replaceChild(Bz,By[0]);Bz=E(Bz)}return Bz}function AJ(By){By=By||{};var Bx=By.style;if(!Bx){Bx="display:none"}else{Bx=Bx.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none");if(Bx===By.style){Bx=Bx.replace(/(.*)?/i,"display:none;$1")}}return k({},By,{style:Bx})}function j(By){By=By||{};var Bx=By.style;if(Bx){By.style=Bx.replace(/(display\s*:\s*none\s*;?)*/ig,"")}return By}function w(BB,BA,BC,Bx){var By=BB.find(">colgroup"),Bz,BD=Bg(BA,function(BE){Bz=BE.width;if(Bz&&parseInt(Bz,10)!==0){return AZ.format('<col style="width:{0}"/>',typeof Bz===Bh?Bz:Bz+"px")}return"<col />"});if(BC||By.find(".k-hierarchy-col").length){BD.splice(0,0,'<col class="k-hierarchy-col" />')}if(By.length){By.remove()}By=E(new Array(Bx+1).join('<col class="k-group-col">')+BD.join(""));if(!By.is("colgroup")){By=E("<colgroup/>").append(By)}BB.prepend(By);if(Bn.msie&&Bn.version==8){BB.css("display","inline-table");window.setTimeout(function(){BB.css("display","")},1)}}function AE(By,BB){var Bx=0;var Bz,BA;for(Bz=0,BA=BB.length;Bz<BA;Bz++){if(BB[Bz].locked){By.eq(Bz).insertBefore(By.eq(Bx));Bx++}}}function Bl(Bx){var Bz={},BA,BB,By;for(BB=0,By=Bx.length;BB<By;BB++){BA=Bx[BB];Bz[BA.value]=BA.text}return Bz}function Ba(BA,Bx,BC,Bz){var By=BC&&BC.length&&AV(BC[0])&&"value" in BC[0],BB=By?Bl(BC)[BA]:BA;BB=BB!=null?BB:"";return Bx?AZ.format(Bx,BB):(Bz===false?BB:AZ.htmlEncode(BB))}function AK(By,Bz,Bx){var BB=0,BC,BA=By[BB];while(BA){BC=Bx?true:BA.style.display!=="none";if(BC&&!AR.test(BA.className)&&--Bz<0){BA.style.display=Bx?"":"none";break}BA=By[++BB]}}function r(Bz,BC){var BA=0,Bx=Bz.length,BB,By;for(;BA<Bx;BA+=1){By=Bz.eq(BA);if(By.is(".k-grouping-row,.k-detail-row")){BB=By.children(":not(.k-group-cell):first,.k-detail-cell").last();BB.attr("colspan",parseInt(BB.attr("colspan"),10)-1)}else{if(By.hasClass("k-grid-edit-row")&&(BB=By.children(".k-edit-container")[0])){BB=E(BB);BB.attr("colspan",parseInt(BB.attr("colspan"),10)-1);BB.find("col").eq(BC).remove();By=BB.find("tr:first")}AK(By[0].cells,BC,false)}}}function A9(BA){var Bx=[];var By;for(var Bz=0;Bz<BA.length;Bz++){By=BA[Bz];if(!("field" in By&&"value" in By&&"items" in By)){break}Bx.push(By);if(By.hasSubgroups){Bx=Bx.concat(A9(By.items))}}return Bx}function Bk(BA,BD){var BB=0,Bx=BA.length,BC,Bz,By;for(;BB<Bx;BB+=1){Bz=BA.eq(BB);if(Bz.is(".k-grouping-row,.k-detail-row")){BC=Bz.children(":not(.k-group-cell):first,.k-detail-cell").last();BC.attr("colspan",parseInt(BC.attr("colspan"),10)+1)}else{if(Bz.hasClass("k-grid-edit-row")&&(BC=Bz.children(".k-edit-container")[0])){BC=E(BC);BC.attr("colspan",parseInt(BC.attr("colspan"),10)+1);w(BC.find(">form>table"),Be(By),false,0);Bz=BC.find("tr:first")}AK(Bz[0].cells,BD,true)}}}function Bq(BC,By,BA){BA=BA||1;var Bz,BB,Bx;for(BB=0,Bx=BC.length;BB<Bx;BB++){Bz=BC.eq(BB).children().last();Bz.attr("colspan",parseInt(Bz.attr("colspan"),10)+BA);Bz=By.eq(BB).children().last();Bz.attr("colspan",parseInt(Bz.attr("colspan"),10)-BA)}}function Bo(BB){var BA,Bx,Bz=0;var By=BB.find(">colgroup>col");for(BA=0,Bx=By.length;BA<Bx;BA+=1){Bz+=parseInt(By[BA].style.width,10)}return Bz}var AG=AZ.ui.DataBoundWidget.extend({init:function(BA,By,Bz){var Bx=this;By=z(By)?{dataSource:By}:By;Aa.fn.init.call(Bx,BA,By);if(Bz){Bx._events=Bz}R=AZ.support.isRtl(BA);Bx._element();Bx._aria();Bx._columns(Bx.options.columns);Bx._dataSource();Bx._tbody();Bx._pageable();Bx._thead();Bx._groupable();Bx._toolbar();Bx._setContentHeight();Bx._templates();Bx._navigatable();Bx._selectable();Bx._clipboard();Bx._details();Bx._editable();Bx._attachCustomCommandsEvent();Bx._minScreenSupport();if(Bx.options.autoBind){Bx.dataSource.fetch()}else{Bx._footer()}if(Bx.lockedContent){Bx.wrapper.addClass("k-grid-lockedcolumns");Bx._resizeHandler=function(){Bx.resize()};E(window).on("resize"+An,Bx._resizeHandler)}AZ.notify(Bx)},events:[K,"dataBinding","cancel",G,Ae,m,AY,AB,AM,Am,Bc,AS,Aj,Af,A3,Al,Bs,Ao,Bd],setDataSource:function(Bz){var By=this;var Bx=By.options.scrollable;By.options.dataSource=Bz;By._dataSource();By._pageable();By._thead();if(Bx){if(Bx.virtual){By.content.find(">.k-virtual-scrollable-wrap").scrollLeft(0)}else{By.content.scrollLeft(0)}}if(By.options.groupable){By._groupable()}if(By.virtualScrollable){By.virtualScrollable.setDataSource(By.options.dataSource)}if(By.options.navigatable){By._navigatable()}if(By.options.selectable){By._selectable()}if(By.options.autoBind){Bz.fetch()}},options:{name:"Grid",columns:[],toolbar:null,autoBind:true,filterable:false,scrollable:true,sortable:false,selectable:false,allowCopy:false,navigatable:false,pageable:false,editable:false,groupable:false,rowTemplate:"",altRowTemplate:"",noRecords:false,dataSource:{},height:null,resizable:false,reorderable:false,columnMenu:false,detailTemplate:null,columnResizeHandleWidth:3,mobile:"",messages:{editable:{cancelDelete:AT,confirmation:Bb,confirmDelete:u},commands:{create:Bp.create.text,cancel:Bp.cancel.text,save:Bp.save.text,destroy:Bp.destroy.text,edit:Bp.edit.text,update:Bp.update.text,canceledit:Bp.canceledit.text,excel:Bp.excel.text,pdf:Bp.pdf.text},noRecords:e}},destroy:function(){var Bx=this,By;Bx._angularItems("cleanup");Bx._destroyColumnAttachments();Aa.fn.destroy.call(Bx);this._navigatableTables=null;if(Bx._resizeHandler){E(window).off("resize"+An,Bx._resizeHandler)}if(Bx.pager&&Bx.pager.element){Bx.pager.destroy()}Bx.pager=null;if(Bx.groupable&&Bx.groupable.element){Bx.groupable.element.kendoGroupable("destroy")}Bx.groupable=null;if(Bx.options.reorderable){Bx.wrapper.data("kendoReorderable").destroy()}if(Bx.selectable&&Bx.selectable.element){Bx.selectable.destroy();Bx.clearArea();if(Bx.copyHandler){Bx.wrapper.off("keydown",Bx.copyHandler);Bx.unbind(Bx.copyHandler)}if(Bx.updateClipBoardState){Bx.unbind(Bx.updateClipBoardState);Bx.updateClipBoardState=null}if(Bx.clearAreaHandler){Bx.wrapper.off("keyup",Bx.clearAreaHandler)}}Bx.selectable=null;if(Bx.resizable){Bx.resizable.destroy();if(Bx._resizeUserEvents){if(Bx._resizeHandleDocumentClickHandler){E(document).off("click",Bx._resizeHandleDocumentClickHandler)}Bx._resizeUserEvents.destroy();Bx._resizeUserEvents=null}Bx.resizable=null}if(Bx.virtualScrollable&&Bx.virtualScrollable.element){Bx.virtualScrollable.destroy()}Bx.virtualScrollable=null;Bx._destroyEditable();if(Bx.dataSource){Bx.dataSource.unbind(K,Bx._refreshHandler).unbind(AL,Bx._progressHandler).unbind(As,Bx._errorHandler);Bx._refreshHandler=Bx._progressHandler=Bx._errorHandler=null}By=Bx.element.add(Bx.wrapper).add(Bx.table).add(Bx.thead).add(Bx.wrapper.find(">.k-grid-toolbar"));if(Bx.content){By=By.add(Bx.content).add(Bx.content.find(">.k-virtual-scrollable-wrap"))}if(Bx.lockedHeader){Bx._removeLockedContainers()}if(Bx.pane){Bx.pane.destroy()}if(Bx.minScreenResizeHandler){E(window).off("resize",Bx.minScreenResizeHandler)}if(Bx._draggableInstance&&Bx._draggableInstance.element){Bx._draggableInstance.destroy()}Bx._draggableInstance=null;By.off(An);AZ.destroy(Bx.wrapper);Bx.rowTemplate=Bx.altRowTemplate=Bx.lockedRowTemplate=Bx.lockedAltRowTemplate=Bx.detailTemplate=Bx.footerTemplate=Bx.groupFooterTemplate=Bx.lockedGroupFooterTemplate=Bx.noRecordsTemplate=null;Bx.scrollables=Bx.thead=Bx.tbody=Bx.element=Bx.table=Bx.content=Bx.footer=Bx.wrapper=Bx._groupableClickHandler=Bx._setContentWidthHandler=null},getOptions:function(){var Bz=this.options;Bz.dataSource=null;var Bx=k(true,{},this.options);Bx.columns=AZ.deepExtend([],this.columns);var By=this.dataSource;var BA=By.options.data&&By._data;By.options.data=null;Bx.dataSource=E.extend(true,{},By.options);By.options.data=BA;Bx.dataSource.data=BA;Bx.dataSource.page=By.page();Bx.dataSource.filter=By.filter();Bx.dataSource.pageSize=By.pageSize();Bx.dataSource.sort=By.sort();Bx.dataSource.group=By.group();Bx.dataSource.aggregate=By.aggregate();if(Bx.dataSource.transport){Bx.dataSource.transport.dataSource=null}Bx.$angular=AF;return Bx},setOptions:function(Bz){var BC=this.getOptions();AZ.deepExtend(BC,Bz);if(!Bz.dataSource){BC.dataSource=this.dataSource}var Bx=this.wrapper;var BB=this._events;var By=this.element;this.destroy();this.options=null;if(this._isMobile){var BA=Bx.closest(AZ.roleSelector("pane")).parent();BA.after(Bx);BA.remove();Bx.removeClass("k-grid-mobile")}if(Bx[0]!==By[0]){Bx.before(By);Bx.remove()}By.empty();this.init(By,BC,BB);this._setEvents(BC)},items:function(){if(this.lockedContent){return this._items(this.tbody).add(this._items(this.lockedTable.children("tbody")))}else{return this._items(this.tbody)}},_items:function(Bx){return Bx.children().filter(function(){var By=E(this);return !By.hasClass("k-grouping-row")&&!By.hasClass("k-detail-row")&&!By.hasClass("k-group-footer")})},dataItems:function(){var By=AZ.ui.DataBoundWidget.fn.dataItems.call(this);if(this.lockedContent){var Bz=By.length,Bx=new Array(2*Bz);for(var BA=Bz;--BA>=0;){Bx[BA]=Bx[BA+Bz]=By[BA]}By=Bx}return By},_destroyColumnAttachments:function(){var Bx=this;Bx.resizeHandle=null;if(!Bx.thead){return}this.angular("cleanup",function(){return{elements:Bx.thead.get()}});Bx.thead.add(Bx.lockedHeader).find("th").each(function(){var Bz=E(this),BB=Bz.data("kendoFilterMenu"),By=Bz.data("kendoColumnSorter"),BA=Bz.data("kendoColumnMenu");if(BB){BB.destroy()}if(By){By.destroy()}if(BA){BA.destroy()}})},_attachCustomCommandsEvent:function(){var By=this,BB=Aq(By.columns||[]),BA,Bz,Bx;for(Bz=0,Bx=BB.length;Bz<Bx;Bz++){BA=BB[Bz].command;if(BA){A5(By,By.wrapper,BA)}}},_aria:function(){var Bx=this.element.attr("id")||"aria";if(Bx){this._cellId=Bx+"_active_cell"}},_element:function(){var Bx=this,By=Bx.element;if(!By.is("table")){if(Bx.options.scrollable){By=Bx.element.find("> .k-grid-content > table")}else{By=Bx.element.children("table")}if(!By.length){By=E("<table />").appendTo(Bx.element)}}if(I){By.attr("cellspacing",0)}Bx.table=By.attr("role",Bx._hasDetails()?"treegrid":"grid");Bx._wrapper()},_createResizeHandle:function(BF,BK){var BD=this;var BH=BD.options.columnResizeHandleWidth;var Bz=BD.options.scrollable;var BB=BD.resizeHandle;var BE=this._groups();var BC;if(BB&&BD.lockedContent&&BB.data("th")[0]!==BK[0]){BB.off(An).remove();BB=null}if(!BB){BB=BD.resizeHandle=E('<div class="k-resize-handle"><div class="k-resize-handle-inner"></div></div>');BF.append(BB)}if(!R){BC=BK[0].offsetWidth;var BG=D(BK.closest("thead")).filter(":visible");for(var BA=0;BA<BG.length;BA++){if(BG[BA]==BK[0]){break}BC+=BG[BA].offsetWidth}if(BE>0){BC+=BF.find(".k-group-cell:first").outerWidth()*BE}if(BD._hasDetails()){BC+=BF.find(".k-hierarchy-cell:first").outerWidth()}}else{BC=BK.position().left;if(Bz){var BI=BK.closest(".k-grid-header-wrap, .k-grid-header-locked"),By=Bn.msie?BI.scrollLeft():0,Bx=Bn.webkit?(BI[0].scrollWidth-BI[0].offsetWidth-BI.scrollLeft()):0,BJ=Bn.mozilla?(BI[0].scrollWidth-BI[0].offsetWidth-(BI[0].scrollWidth-BI[0].offsetWidth-BI.scrollLeft())):0;BC-=Bx-BJ+By}}BB.css({top:BK.position().top,left:BC-BH,height:BK.outerHeight(),width:BH*3}).data("th",BK).show();BB.off("dblclick"+An).on("dblclick"+An,function(){BD._autoFitLeafColumn(BK.data("index"))})},_positionColumnResizeHandle:function(By){var Bx=this,Bz=Bx.options.columnResizeHandleWidth,BA=Bx.lockedHeader?Bx.lockedHeader.find("thead:first"):E();Bx.thead.add(BA).on("mousemove"+An,"th",function(BC){var BE=E(this);if(BE.hasClass("k-group-cell")||BE.hasClass("k-hierarchy-cell")){return}var BF=BC.clientX,BB=E(window).scrollLeft(),BD=BE.offset().left+(!R?this.offsetWidth:0);if(BF+BB>BD-Bz&&BF+BB<BD+Bz){Bx._createResizeHandle(BE.closest("div"),BE)}else{if(Bx.resizeHandle){Bx.resizeHandle.hide()}else{AI(Bx.wrapper,"")}}})},_resizeHandleDocumentClick:function(Bx){if(E(Bx.target).closest(".k-column-active").length){return}E(document).off(Bx);this._hideResizeHandle()},_hideResizeHandle:function(){if(this.resizeHandle){this.resizeHandle.data("th").removeClass("k-column-active");if(this.lockedContent&&!this._isMobile){this.resizeHandle.off(An).remove();this.resizeHandle=null}else{this.resizeHandle.hide()}}},_positionColumnResizeHandleTouch:function(By){var Bx=this,Bz=Bx.lockedHeader?Bx.lockedHeader.find("thead:first"):E();Bx._resizeUserEvents=new AZ.UserEvents(Bz.add(Bx.thead),{filter:"th:not(.k-group-cell):not(.k-hierarchy-cell)",threshold:10,hold:function(BA){var BB=E(BA.target);BA.preventDefault();BB.addClass("k-column-active");Bx._createResizeHandle(BB.closest("div"),BB);if(!Bx._resizeHandleDocumentClickHandler){Bx._resizeHandleDocumentClickHandler=T(Bx._resizeHandleDocumentClick,Bx)}E(document).on("click",Bx._resizeHandleDocumentClickHandler)}})},_resizable:function(){var BC=this,BD=BC.options,BE,BA,Bz,Bx,By=this._isMobile,BB=!AZ.support.mobileOS?AZ.support.scrollbar():0,BG,BH,BF;if(BD.resizable){BE=BD.scrollable?BC.wrapper.find(".k-grid-header-wrap:first"):BC.wrapper;if(By){BC._positionColumnResizeHandleTouch(BE)}else{BC._positionColumnResizeHandle(BE)}if(BC.resizable){BC.resizable.destroy()}BC.resizable=new Ax.Resizable(BE.add(BC.lockedHeader),{handle:(!!BD.scrollable?"":">")+".k-resize-handle",hint:function(BI){return E('<div class="k-grid-resize-indicator" />').css({height:BI.data("th").outerHeight()+BC.tbody.attr("clientHeight")})},start:function(BI){BF=E(BI.currentTarget).data("th");if(By){BC._hideResizeHandle()}var BK=BF.closest("table"),BL=E.inArray(BF[0],D(BF.closest("thead")).filter(":visible"));BG=BK.parent().hasClass("k-grid-header-locked");var BJ=BG?BC.lockedTable:BC.table,BM=BC.footer||E();if(BC.footer&&BC.lockedContent){BM=BG?BC.footer.children(".k-grid-footer-locked"):BC.footer.children(".k-grid-footer-wrap")}AI(BC.wrapper,"col-resize");if(BD.scrollable){BH=BK.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+BL+")").add(BJ.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+BL+")")).add(BM.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+BL+")"))}else{BH=BJ.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+BL+")")}BA=BI.x.location;Bz=BF.outerWidth();Bx=BG?BJ.children("tbody").outerWidth():BC.tbody.outerWidth();if(Bn.webkit){BC.wrapper.addClass("k-grid-column-resizing")}},resize:function(BI){var BO=R?-1:1,BM=Bz+(BI.x.location*BO)-(BA*BO);if(BD.scrollable){var BJ;if(BG&&BC.lockedFooter){BJ=BC.lockedFooter.children("table")}else{if(BC.footer){BJ=BC.footer.find(">.k-grid-footer-wrap>table")}}if(!BJ||!BJ[0]){BJ=E()}var BK=BF.closest("table");var BL=BG?BC.lockedTable:BC.table;var BQ=false;var BN=BC.wrapper.width()-BB;var BP=BM;if(BG&&Bx-Bz+BP>BN){BP=Bz+(BN-Bx-BB*2);if(BP<0){BP=BM}BQ=true}if(BP>10){BH.css("width",BP);if(Bx){if(BQ){BP=BN-BB*2}else{BP=Bx+(BI.x.location*BO)-(BA*BO)}BL.add(BK).add(BJ).css("width",BP);if(!BG){BC._footerWidth=BP}}}}else{if(BM>10){BH.css("width",BM)}}},resizeend:function(){var BJ=BF.outerWidth(),BL,BI;AI(BC.wrapper,"");if(Bn.webkit){BC.wrapper.removeClass("k-grid-column-resizing")}if(Bz!=BJ){BI=BC.lockedHeader?BC.lockedHeader.find("thead:first tr:first").add(BC.thead.find("tr:first")):BF.parent();var BK=BF.attr(AZ.attr("index"));if(!BK){BK=BI.find("th:not(.k-group-cell):not(.k-hierarchy-cell)").index(BF)}BL=Aq(BC.columns)[BK];BL.width=BJ;BC.trigger(Af,{column:BL,oldWidth:Bz,newWidth:BJ});BC._applyLockedContainersWidth();BC._syncLockedContentHeight();BC._syncLockedHeaderHeight()}BC._hideResizeHandle();BF=null}})}},_draggable:function(){var Bx=this;if(Bx.options.reorderable){if(Bx._draggableInstance){Bx._draggableInstance.destroy()}Bx._draggableInstance=Bx.wrapper.kendoDraggable({group:AZ.guid(),filter:Bx.content?".k-grid-header:first "+AX:"table:first>.k-grid-header "+AX,drag:function(){Bx._hideResizeHandle()},hint:function(By){return E('<div class="k-header k-drag-clue" />').css({width:By.width(),paddingLeft:By.css("paddingLeft"),paddingRight:By.css("paddingRight"),lineHeight:By.height()+"px",paddingTop:By.css("paddingTop"),paddingBottom:By.css("paddingBottom")}).html(By.attr(AZ.attr("title"))||By.attr(AZ.attr("field"))||By.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}}).data("kendoDraggable")}},_reorderable:function(){var Bx=this;if(Bx.options.reorderable){if(Bx.wrapper.data("kendoReorderable")){Bx.wrapper.data("kendoReorderable").destroy()}var By=function(BE,BB,BA){var BD=BE[BB];var BC=BE[BA];var Bz=AN(BD,Bx.columns);BE=Bz?Bz.columns:Bx.columns;return Au(BC,BE)};Bx.wrapper.kendoReorderable({draggable:Bx._draggableInstance,dragOverContainers:function(BA,BB){var Bz=Ay(Bx.columns);return Bz[BA].lockable!==false&&By(Bz,BA,BB)>-1},inSameContainer:function(Bz){return E(Bz.source).parent()[0]===E(Bz.target).parent()[0]&&By(Ay(Bx.columns),Bz.sourceIndex,Bz.targetIndex)>-1},change:function(Bz){var BC=Ay(Bx.columns);var BB=BC[Bz.oldIndex];var BA=By(BC,Bz.oldIndex,Bz.newIndex);Bx.trigger(A3,{newIndex:BA,oldIndex:Au(BB,BC),column:BB});Bx.reorderColumn(BA,BB,Bz.position==="before")}})}},_reorderHeader:function(BF,BE,BH){var BD=this;var By=b(BF[0],BD.columns);var BC=b(BE,BD.columns);var Bx=[];for(var Bz=0;Bz<BF.length;Bz++){if(BF[Bz].columns){Bx=Bx.concat(BF[Bz].columns)}}var BG=O(BD.lockedHeader,BD.thead,"tr:eq("+By.row+")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)");var BB=t(BF).length;var BA=t([BE]).length;if(Bx.length){if(BB>0&&BA===0){y(BF,BE,Bx,BD.columns,BD.lockedHeader.find("thead"),BD.thead,this._groups())}else{if(BB===0&&BA>0){y(BF,BE,Bx,BD.columns,BD.thead,BD.lockedHeader.find("thead"),this._groups())}}if(BE.columns||By.cell-BC.cell>1||BC.cell-By.cell>1){BE=Bi(BD.columns,BE,BF[0],BH);if(BE){BD._reorderHeader(Bx,BE,BH)}}}else{if(BB!==BA){A0(BG[By.cell],BD.columns,BB)}}q(BG,By.cell,BC.cell,BH,BF.length)},_reorderContent:function(BG,BJ,BB){var BN=this;var BH=E();var BF=BG[0];var BO=Be(BG);var BI=Au(BF,Aq(BN.columns));var BE=Au(BJ,Aq(BN.columns));var Bx=Au(BF,A7(BN.columns));var BK=Au(BJ,A7(BN.columns));var BD=t(BN.columns).length;var By=!!BJ.locked;var BL=BN.footer||BN.wrapper.find(".k-grid-footer");var Bz,BC;Bz=BC=BK;if(BJ.hidden){if(By){BK=BN.lockedTable.find("colgroup");Bz=BN.lockedHeader.find("colgroup");BC=E(BN.lockedFooter).find(">table>colgroup")}else{BK=BN.tbody.prev();Bz=BN.thead.prev();BC=BL.find(".k-grid-footer-wrap").find(">table>colgroup")}}if(BN._hasFilterRow()){q(BN.wrapper.find(".k-filter-row th:not(.k-group-cell,.k-hierarchy-cell)"),BI,BE,BB,BG.length)}q(O(BN.lockedHeader,BN.thead.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),Bx,Bz,BB,BO.length);if(BN.options.scrollable){q(O(BN.lockedTable,BN.tbody.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),Bx,BK,BB,BO.length)}if(BL&&BL.length){q(O(BN.lockedFooter,BL.find(".k-grid-footer-wrap"),">table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),Bx,BC,BB,BO.length);q(BL.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),BI,BE,BB,BG.length)}var BM=BN.tbody.children(":not(.k-grouping-row,.k-detail-row)");if(BN.lockedTable){if(BD>BE){if(BD<=BI){Bq(BN.lockedTable.find(">tbody>tr.k-grouping-row"),BN.table.find(">tbody>tr.k-grouping-row"),BG.length)}}else{if(BD>BI){Bq(BN.table.find(">tbody>tr.k-grouping-row"),BN.lockedTable.find(">tbody>tr.k-grouping-row"),BG.length)}}BH=BN.lockedTable.find(">tbody>tr:not(.k-grouping-row,.k-detail-row)")}for(var BP=0,BA=BM.length;BP<BA;BP+=1){q(O(BH[BP],BM[BP],">td:not(.k-group-cell,.k-hierarchy-cell)"),BI,BE,BB,BG.length)}},_autoFitLeafColumn:function(Bx){this.autoFitColumn(Aq(this.columns)[Bx])},autoFitColumn:function(BJ){var BT=this,BP=BT.options,BI=BT.columns,BA,BC,BD,BK,By,BR=BT.lockedHeader?D(BT.lockedHeader.find(">table>thead")).filter(AA).length:0,BV,BW="col:not(.k-group-col):not(.k-hierarchy-col)",BQ="td:visible:not(.k-group-cell):not(.k-hierarchy-cell)";if(typeof BJ=="number"){BJ=BI[BJ]}else{if(AV(BJ)){BJ=Ab(Aw(BI),function(BX){return BX===BJ})[0]}else{BJ=Ab(Aw(BI),function(BX){return BX.field===BJ})[0]}}if(!BJ||!B(BJ)){return}BA=Au(BJ,Aq(BI));By=BJ.locked;if(By){BK=BT.lockedHeader.children("table")}else{BK=BT.thead.parent()}BC=BK.find("[data-index='"+BA+"']");var BO=By?BT.lockedTable:BT.table,BM=BT.footer||E();if(BT.footer&&BT.lockedContent){BM=By?BT.footer.children(".k-grid-footer-locked"):BT.footer.children(".k-grid-footer-wrap")}var BG=BM.find("table").first();if(BT.lockedHeader&&!By){BA-=BR}for(var BB=0;BB<BI.length;BB++){if(BI[BB]===BJ){break}else{if(BI[BB].hidden){BA--}}}if(BP.scrollable){BV=BK.find(BW).eq(BA).add(BO.children("colgroup").find(BW).eq(BA)).add(BG.find("colgroup").find(BW).eq(BA))}else{BV=BO.children("colgroup").find(BW).eq(BA)}var BL=BK.add(BO).add(BG);var BE=BC.outerWidth();BV.width("");BL.css("table-layout","fixed");BV.width("auto");BL.addClass("k-autofitting");BL.css("table-layout","");var Bz=Math.max(BK.width(),BO.width(),BG.width());var BH=Math.ceil(Math.max(BC.outerWidth(),BO.find("tr").eq(0).children(BQ).eq(BA).outerWidth(),BG.find("tr").eq(0).children(BQ).eq(BA).outerWidth()));BV.width(BH);BJ.width=BH;if(BP.scrollable){var BS=BK.find("col"),BF,Bx=0;for(var BU=0,BN=BS.length;BU<BN;BU+=1){BF=BS[BU].style.width;if(BF&&BF.indexOf("%")==-1){Bx+=parseInt(BF,10)}else{Bx=0;break}}if(Bx){BL.each(function(){this.style.width=Bx+"px"})}}if(Bn.msie&&Bn.version==8){BL.css("display","inline-table");setTimeout(function(){BL.css("display","table")},1)}BL.removeClass("k-autofitting");BT.trigger(Af,{column:BJ,oldWidth:BE,newWidth:BH});BT._applyLockedContainersWidth();BT._syncLockedContentHeight();BT._syncLockedHeaderHeight()},reorderColumn:function(BC,Bx,BI){var BF=this,BH=AN(Bx,BF.columns),Bz=BH?BH.columns:BF.columns,BG=Au(Bx,Bz),BA=Bz[BC],BE,BB=!!BA.locked,BD=t(BF.columns).length;if(BG===BC){return}if(!Bx.locked&&BB&&Ap(BF.columns).length==1){return}if(Bx.locked&&!BB&&BD==1){return}BF._hideResizeHandle();if(BI===AF){BI=BC<BG}var By=[Bx];BF._reorderHeader(By,BA,BI);if(BF.lockedHeader){AO(BF.thead);AO(BF.lockedHeader)}if(BA.columns){BA=Aq(BA.columns);BA=BA[BI?0:BA.length-1]}if(Bx.columns){By=Aq(Bx.columns)}BF._reorderContent(By,BA,BI);BE=!!Bx.locked;BE=BE!=BB;Bx.locked=BB;Bz.splice(BI?BC:BC+1,0,Bx);Bz.splice(BG<BC?BG:BG+1,1);BF._templates();BF._updateColumnCellIndex();BF._updateTablesWidth();BF._applyLockedContainersWidth();BF._syncLockedHeaderHeight();BF._syncLockedContentHeight();BF._updateFirstColumnClass();if(!BE){return}if(BB){BF.trigger(Ao,{column:Bx})}else{BF.trigger(Bd,{column:Bx})}},_updateColumnCellIndex:function(){var By;var Bx=0;if(this.lockedHeader){By=this.lockedHeader.find("thead");Bx=Ak(By,t(this.columns))}Ak(this.thead,Ap(this.columns),Bx)},lockColumn:function(By){var Bz=this.columns;if(typeof By=="number"){By=Bz[By]}else{By=Ab(Bz,function(BA){return BA.field===By})[0]}if(!By||By.locked||By.hidden){return}var Bx=t(Bz).length-1;this.reorderColumn(Bx,By,false)},unlockColumn:function(By){var Bz=this.columns;if(typeof By=="number"){By=Bz[By]}else{By=Ab(Bz,function(BA){return BA.field===By})[0]}if(!By||!By.locked||By.hidden){return}var Bx=t(Bz).length;this.reorderColumn(Bx,By,true)},cellIndex:function(Bx){var By=0;if(this.lockedTable&&!E.contains(this.lockedTable[0],Bx[0])){By=Aq(t(this.columns)).length}return E(Bx).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(Bx)+By},_modelForContainer:function(Bx){Bx=E(Bx);if(!Bx.is("tr")&&this._editMode()!=="popup"){Bx=Bx.closest("tr")}var By=Bx.attr(AZ.attr("uid"));return this.dataSource.getByUid(By)},_editable:function(){var By=this,Bz=By.selectable&&By.selectable.options.multiple,Bx=By.options.editable,BB=function(){var BD=x(),BC=By._editContainer;if(BC&&!E.contains(BC[0],BD)&&BC[0]!==BD&&!E(BD).closest(".k-animation-container").length){if(By.editable.end()){By.closeCell()}}};if(Bx){var BA=By._editMode();if(BA==="incell"){if(Bx.update!==false){By.wrapper.on(Q+An,"tr:not(.k-grouping-row) > td",function(BC){var BE=E(this),BD=By.lockedTable&&BE.closest("table")[0]===By.lockedTable[0];if(BE.hasClass("k-hierarchy-cell")||BE.hasClass("k-detail-cell")||BE.hasClass("k-group-cell")||BE.hasClass("k-edit-cell")||BE.has("a.k-grid-delete").length||BE.has("button.k-grid-delete").length||(BE.closest("tbody")[0]!==By.tbody[0]&&!BD)||E(BC.target).is(":input")){return}if(By.editable){if(By.editable.end()){if(Bz){E(x()).blur()}By.closeCell();By.editCell(BE)}}else{By.editCell(BE)}}).on("focusin"+An,function(){if(!E.contains(this,x())){clearTimeout(By.timer);By.timer=null}}).on("focusout"+An,function(){By.timer=setTimeout(BB,1)})}}else{if(Bx.update!==false){By.wrapper.on(Q+An,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(BC){BC.preventDefault();By.editRow(E(this).closest("tr"))})}}if(Bx.destroy!==false){By.wrapper.on(Q+An,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(BC){BC.preventDefault();BC.stopPropagation();By.removeRow(E(this).closest("tr"))})}else{By.wrapper.on(Q+An,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(BC){BC.stopPropagation();if(!By._confirmation()){BC.preventDefault()}})}}},editCell:function(BA){BA=E(BA);var Bx=this,BB=Aq(Bx.columns)[Bx.cellIndex(BA)],Bz=Bx._modelForContainer(BA);Bx.closeCell();if(Bz&&(!Bz.editable||Bz.editable(BB.field))&&!BB.command&&BB.field){Bx._attachModelChange(Bz);Bx._editContainer=BA;Bx.editable=BA.addClass("k-edit-cell").kendoEditable({fields:{field:BB.field,format:BB.format,editor:BB.editor,values:BB.values},model:Bz,target:Bx,change:function(BC){if(Bx.trigger(Bc,{values:BC.values,container:BA,model:Bz})){BC.preventDefault()}}}).data("kendoEditable");var By=BA.parent().addClass("k-grid-edit-row");if(Bx.lockedContent){s(By[0],Bx._relatedRow(By).addClass("k-grid-edit-row")[0])}Bx.trigger(Am,{container:BA,model:Bz})}},_adjustLockedHorizontalScrollBar:function(){var Bz=this.table,By=Bz.parent();var Bx=Bz[0].offsetWidth>By[0].clientWidth?AZ.support.scrollbar():0;this.lockedContent.height(By.height()-Bx)},_syncLockedContentHeight:function(){if(this.lockedTable){if(!this.touchScroller){this._adjustLockedHorizontalScrollBar()}this._adjustRowsHeight(this.table,this.lockedTable)}},_syncLockedHeaderHeight:function(){if(this.lockedHeader){var Bx=this.lockedHeader.children("table");var By=this.thead.parent();this._adjustRowsHeight(Bx,By);A6(Bx,By)}},_syncLockedFooterHeight:function(){if(this.lockedFooter&&this.footer&&this.footer.length){this._adjustRowsHeight(this.lockedFooter.children("table"),this.footer.find(".k-grid-footer-wrap > table"))}},_destroyEditable:function(){var Bx=this;var By=function(){if(Bx.editable){var Bz=Bx.editView?Bx.editView.element:Bx._editContainer;if(Bz){Bz.off(Q+An,"a.k-grid-cancel",Bx._editCancelClickHandler);Bz.off(Q+An,"a.k-grid-update",Bx._editUpdateClickHandler)}Bx._detachModelChange();Bx.editable.destroy();Bx.editable=null;Bx._editContainer=null;Bx._destroyEditView()}};if(Bx.editable){if(Bx._editMode()==="popup"&&!Bx._isMobile){Bx._editContainer.data("kendoWindow").bind("deactivate",By).close()}else{By()}}if(Bx._actionSheet){Bx._actionSheet.destroy();Bx._actionSheet=null}},_destroyEditView:function(){if(this.editView){this.editView.purge();this.editView=null;this.pane.navigate("")}},_attachModelChange:function(By){var Bx=this;Bx._modelChangeHandler=function(Bz){Bx._modelChange({field:Bz.field,model:this})};By.bind("change",Bx._modelChangeHandler)},_detachModelChange:function(){var Bx=this,By=Bx._editContainer,Bz=Bx._modelForContainer(By);if(Bz){Bz.unbind(K,Bx._modelChangeHandler)}},closeCell:function(Bx){var By=this,BB=By._editContainer,BD,BC,Bz,BA;if(!BB){return}BD=BB.closest("tr").attr(AZ.attr("uid"));BA=By.dataSource.getByUid(BD);if(Bx&&By.trigger("cancel",{container:BB,model:BA})){return}BB.removeClass("k-edit-cell");BC=Aq(By.columns)[By.cellIndex(BB)];Bz=BB.parent().removeClass("k-grid-edit-row");By._destroyEditable();By._displayCell(BB,BC,BA);if(BB.hasClass("k-dirty-cell")){E('<span class="k-dirty"/>').prependTo(BB)}if(By.lockedContent){s(Bz.css("height","")[0],By._relatedRow(Bz).css("height","")[0])}},_displayCell:function(BB,BC,By){var Bx=this,BD={storage:{},count:0},BA=k({},AZ.Template,Bx.options.templateSettings),Bz=AZ.template(Bx._cellTmpl(BC,BD),BA);if(BD.count>0){Bz=T(Bz,BD.storage)}BB.empty().html(Bz(By));Bx.angular("compile",function(){return{elements:BB,data:[{dataItem:By}]}})},removeRow:function(By){var Bx=this;E.core.showDelConfirm(function(){Bx._removeRow(By)})},_removeRow:function(Bz){var By=this,BA,Bx=By._editMode();if(Bx!=="incell"){By.cancelRow()}Bz=E(Bz).hide();BA=By._modelForContainer(Bz);if(BA&&!By.trigger(AS,{row:Bz,model:BA})){By.dataSource.remove(BA);if(Bx==="inline"||Bx==="popup"){By.dataSource.sync()}}else{if(Bx==="incell"){By._destroyEditable()}}},_editMode:function(){var Bx="incell",By=this.options.editable;if(By!==true){if(typeof By=="string"){Bx=By}else{Bx=By.mode||Bx}}return Bx},editRow:function(Bz){var BB;var By=this;if(Bz instanceof AZ.data.ObservableObject){BB=Bz}else{Bz=E(Bz);BB=By._modelForContainer(Bz)}var Bx=By._editMode();var BA;By.cancelRow();if(BB){By._attachModelChange(BB);if(Bx==="popup"){By._createPopupEditor(BB)}else{if(Bx==="inline"){By._createInlineEditor(Bz,BB)}else{if(Bx==="incell"){E(Bz).children(AH).each(function(){var BC=E(this);var BD=Aq(By.columns)[BC.index()];BB=By._modelForContainer(BC);if(BB&&(!BB.editable||BB.editable(BD.field))&&BD.field){By.editCell(BC);return false}})}}}BA=By.editView?By.editView.element:By._editContainer;if(BA){if(!this._editCancelClickHandler){this._editCancelClickHandler=T(this._editCancelClick,this)}BA.on(Q+An,"a.k-grid-cancel",this._editCancelClickHandler);if(!this._editUpdateClickHandler){this._editUpdateClickHandler=T(this._editUpdateClick,this)}BA.on(Q+An,"a.k-grid-update",this._editUpdateClickHandler)}}},_editUpdateClick:function(Bx){Bx.preventDefault();Bx.stopPropagation();this.saveRow()},_editCancelClick:function(Bx){var By=this;var BA=By.options.navigatable;var BC=By.editable.options.model;var Bz=By.editView?By.editView.element:By._editContainer;Bx.preventDefault();Bx.stopPropagation();if(By.trigger("cancel",{container:Bz,model:BC})){return}var BB=By.items().index(E(By.current()).parent());By.cancelRow();if(BA){By.current(By.items().eq(BB).children().filter(U).first());W(By.table,true)}},_createPopupEditor:function(Bz){var BN=this,BE="<div "+AZ.attr("uid")+'="'+Bz.uid+'" class="k-popup-edit-form'+(BN._isMobile?" k-mobile-list":"")+'"><div class="k-edit-form-container">',BF,BL,BI=[],BO,Bx,BB,BC,BH,By,BD=Aq(BN.columns),BA,BP=BN.options.editable,BQ=BP.template,BK=AV(BP)?BP.window:{},BG=k({},AZ.Template,BN.options.templateSettings);BK=BK||{};if(BQ){if(typeof BQ===Bh){BQ=window.unescape(BQ)}BE+=(AZ.template(BQ,BG))(Bz);for(BO=0,Bx=BD.length;BO<Bx;BO++){BF=BD[BO];if(BF.command){By=f(BF.command,"edit");if(By){BL=By}}}}else{for(BO=0,Bx=BD.length;BO<Bx;BO++){BF=BD[BO];if(!BF.command){BE+='<div class="k-edit-label"><label for="'+BF.field+'">'+(BF.title||BF.field||"")+"</label></div>";if((!Bz.editable||Bz.editable(BF.field))&&BF.field){BI.push({field:BF.field,format:BF.format,editor:BF.editor,values:BF.values});BE+="<div "+AZ.attr("container-for")+'="'+BF.field+'" class="k-edit-field"></div>'}else{var BJ={storage:{},count:0};BB=AZ.template(BN._cellTmpl(BF,BJ),BG);if(BJ.count>0){BB=T(BB,BJ.storage)}BE+='<div class="k-edit-field">'+BB(Bz)+"</div>"}}else{if(BF.command){By=f(BF.command,"edit");if(By){BL=By}}}}}if(BL){if(AV(BL)){if(BL.text&&AV(BL.text)){BC=BL.text.update;BH=BL.text.cancel}if(BL.attr){BA=BL.attr}}}var BM;if(!BN._isMobile){BE+='<div class="k-edit-buttons k-state-default">';BE+=BN._createButton({name:"update",text:BC,attr:BA})+BN._createButton({name:"canceledit",text:BH,attr:BA});BE+="</div></div></div>";BM=BN._editContainer=E(BE).appendTo(BN.wrapper).eq(0).kendoWindow(k({modal:true,resizable:false,draggable:true,title:"Edit",visible:false,close:function(BR){if(BR.userTriggered){BR.sender.element.focus();if(BN.trigger("cancel",{container:BM,model:Bz})){BR.preventDefault();return}var BS=BN.items().index(E(BN.current()).parent());BN.cancelRow();if(BN.options.navigatable){BN.current(BN.items().eq(BS).children().filter(U).first());W(BN.table,true)}}}},BK))}else{BE+="</div></div>";BN.editView=BN.pane.append("<div data-"+AZ.ns+'role="view" data-'+AZ.ns+'init-widgets="false" class="k-grid-edit-form"><div data-'+AZ.ns+'role="header" class="k-header">'+BN._createButton({name:"update",text:BC,attr:BA})+(BK.title||"Edit")+BN._createButton({name:"canceledit",text:BH,attr:BA})+"</div>"+BE+"</div>");BM=BN._editContainer=BN.editView.element.find(".k-popup-edit-form")}BN.editable=BN._editContainer.kendoEditable({fields:BI,model:Bz,clearContainer:false,target:BN}).data("kendoEditable");if(BN._isMobile){BM.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){E(this).next().children("input").click()})}BN._openPopUpEditor();BN.trigger(Am,{container:BM,model:Bz})},_openPopUpEditor:function(){if(!this._isMobile){this._editContainer.data("kendoWindow").center().open()}else{this.pane.navigate(this.editView,this._editAnimation)}},_createInlineEditor:function(Bz,BC){var By=this,Bx,BB,BA,BD=[];if(By.lockedContent){Bz=Bz.add(By._relatedRow(Bz))}Bz.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){BB=E(this);Bx=Aq(By.columns)[By.cellIndex(BB)];if(!Bx.command&&Bx.field&&(!BC.editable||BC.editable(Bx.field))){BD.push({field:Bx.field,format:Bx.format,editor:Bx.editor,values:Bx.values});BB.attr(AZ.attr("container-for"),Bx.field);BB.empty()}else{if(Bx.command){BA=f(Bx.command,"edit");if(BA){BB.empty();var BE,BF,BG;if(AV(BA)){if(BA.text&&AV(BA.text)){BE=BA.text.update;BF=BA.text.cancel}if(BA.attr){BG=BA.attr}}E(By._createButton({name:"update",text:BE,attr:BG})+By._createButton({name:"canceledit",text:BF,attr:BG})).appendTo(BB)}}}});By._editContainer=Bz;By.editable=new AZ.ui.Editable(Bz.addClass("k-grid-edit-row"),{target:By,fields:BD,model:BC,clearContainer:false});if(Bz.length>1){s(Bz[0],Bz[1]);By._applyLockedContainersWidth()}By.trigger(Am,{container:Bz,model:BC})},cancelRow:function(){var Bx=this,Bz=Bx._editContainer,BA,By;if(Bz){BA=Bx._modelForContainer(Bz);Bx._destroyEditable();Bx.dataSource.cancelChanges(BA);if(Bx._editMode()!=="popup"){Bx._displayRow(Bz)}else{Bx._displayRow(Bx.tbody.find("["+AZ.attr("uid")+"="+BA.uid+"]"))}}},saveRow:function(){var By=this,Bz=By._editContainer,BA=By._modelForContainer(Bz),Bx=By.editable;if(Bz&&Bx&&Bx.end()&&!By.trigger(Bc,{container:Bz,model:BA})){By.dataSource.sync()}},_displayRow:function(Bz){var BC=this,BE=BC._modelForContainer(Bz),BB,BA,Bx,BD=Bz.hasClass("k-state-selected"),By=Bz.hasClass("k-alt");if(BE){if(BC.lockedContent){BB=E((By?BC.lockedAltRowTemplate:BC.lockedRowTemplate)(BE));BC._relatedRow(Bz.last()).replaceWith(BB)}BC.angular("cleanup",function(){return{elements:Bz.get()}});BA=E((By?BC.altRowTemplate:BC.rowTemplate)(BE));Bz.replaceWith(BA);BC.angular("compile",function(){return{elements:BA.get(),data:[{dataItem:BE}]}});if(BD&&BC.options.selectable){BC.select(BA.add(BB))}if(BB){s(BA[0],BB[0])}Bx=BA.next();if(Bx.hasClass("k-detail-row")&&Bx.is(":visible")){BA.find(".k-hierarchy-cell .k-icon").removeClass("k-plus").addClass("k-minus")}}},_showMessage:function(By,Bz){var BC=this;if(!BC._isMobile){E.core.showDelConfirm(function(){BC._removeRow(Bz);return true});return false}var BA=AZ.template('<ul><li class="km-actionsheet-title">#:title#</li><li><a href="\\#" class="k-button k-grid-delete">#:confirmDelete#</a></li></ul>');var Bx=E(BA(By)).appendTo(BC.view.element);var BB=BC._actionSheet=new AZ.mobile.ui.ActionSheet(Bx,{cancel:By.cancelDelete,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(BD){var BE=E(BD.currentTarget).parent();if(!BE.hasClass("km-actionsheet-cancel")){BC._removeRow(Bz)}},popup:BC._actionSheetPopupOptions});BB.open(Bz);return false},_confirmation:function(Bz){var By=this,Bx=By.options.editable,BA=Bx===true||typeof Bx===Bh?By.options.messages.editable.confirmation:Bx.confirmation;if(BA!==false&&BA!=null){if(typeof BA===F){BA=BA(By._modelForContainer(Bz))}return By._showMessage({confirmDelete:Bx.confirmDelete||By.options.messages.editable.confirmDelete,cancelDelete:Bx.cancelDelete||By.options.messages.editable.cancelDelete,title:BA===true?By.options.messages.editable.confirmation:BA},Bz)}return true},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){var Bx=this;if(((Bx.editable&&Bx.editable.end())||!Bx.editable)&&!Bx.trigger(Aj)){Bx.dataSource.sync()}},addRow:function(){var BB=this,By,BH=BB.dataSource,BD=BB._editMode(),BE=BB.options.editable.createAt||"",BC=BH.pageSize(),Bx=BH.view()||[];if((BB.editable&&BB.editable.end())||!BB.editable){if(BD!="incell"){BB.cancelRow()}By=BH.indexOf(Bx[0]);if(BE.toLowerCase()=="bottom"){By+=Bx.length;if(BC&&!BH.options.serverPaging&&BC<=Bx.length){By-=1}}if(By<0){if(BH.page()>BH.totalPages()){By=(BH.page()-1)*BC}else{By=0}}var Bz=BH.insert(By,{}),BF=Bz.uid,BI=BB.lockedContent?BB.lockedTable:BB.table,BG=BI.find("tr["+AZ.attr("uid")+"="+BF+"]"),BA=BG.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(BB._firstEditableColumnIndex(BG));if(BD==="inline"&&BG.length){BB.editRow(BG)}else{if(BD==="popup"){BB.editRow(Bz)}else{if(BA.length){BB.editCell(BA)}}}if(BE.toLowerCase()=="bottom"&&BB.lockedContent){BB.lockedContent[0].scrollTop=BB.content[0].scrollTop=BB.content[0].offsetHeight}}},_firstEditableColumnIndex:function(Bz){var By=this,BC,BD=Aq(By.columns),BA,Bx,BB=By._modelForContainer(Bz);for(BA=0,Bx=BD.length;BA<Bx;BA++){BC=BD[BA];if(BB&&(!BB.editable||BB.editable(BC.field))&&!BC.command&&BC.field&&BC.hidden!==true){return BA}}return -1},_toolbar:function(){var By=this,Bx=By.wrapper,BA=By.options.toolbar,BB=By.options.editable,Bz;if(BA){Bz=By.wrapper.find(".k-grid-toolbar");if(!Bz.length){if(!Ag(BA)){BA=(typeof BA===Bh?BA:By._toolbarTmpl(BA).replace(n,"\\#"));BA=T(AZ.template(BA),By)}Bz=E('<div class="k-header k-grid-toolbar" />').html(BA({})).prependTo(Bx);Bz.append('<a href="#" class="k-custom-restorelayout k-link" title="'+By.options.messages.restoreLayout+'"><span class="fa icon-undo"></span></a>');Bz.append('<a href="#" class="k-custom-layout k-link" title="'+By.options.messages.saveLayout+'"><span class="fa icon-save"></span></a>');Bz.append('<a href="#" class="k-clear-filter k-link" title="'+By.options.messages.clearFilter+'"><span class="fa icon-refresh"></span></a>');Bz.append('<a href="#" class="k-advance-search k-link" title="'+By.options.messages.advanceSearch+'"><span class="fa icon-search"></span></a>');if(By.options.relHelp&&By.options.relHelp!=""){Bz.append('<a href="#" class="k-system-help k-link" title="'+By.options.messages.help+'"><span class="fa icon-question-sign"></span></a>')}By.angular("compile",function(){return{elements:Bz.get()}})}if(BB&&BB.create!==false){Bz.on(Q+An,".k-grid-add",function(BC){BC.preventDefault();By.addRow()}).on(Q+An,".k-grid-cancel-changes",function(BC){BC.preventDefault();By.cancelChanges()}).on(Q+An,".k-grid-save-changes",function(BC){BC.preventDefault();By.saveChanges()})}Bz.on(Q+An,".k-grid-excel",function(BC){BC.preventDefault();By.saveAsExcel()});Bz.on(Q+An,".k-grid-pdf",function(BC){BC.preventDefault();By.saveAsPDF()});Bz.on(Q+An,".k-clear-filter",function(BC){BC.preventDefault();By.dataSource.filter(null)});Bz.on(Q+An,".k-system-help",function(BC){BC.preventDefault();E.core.open(By.options.relHelp,By.options.messages.help,{width:720,height:500,modal:false})});Bz.on(Q+An,".k-custom-layout",function(BC){BC.preventDefault();var BD=Bx.attr("name");var BF=[];E.each(By.columns,function(BG,BH){BF.push({field:BH.field,width:BH.width,hidden:BH.hidden})});var BE=AZ.base64.encode(AZ.stringify(BF));BE=encodeURI(BE).replace(/\+/g,"%2B");E.core.submit({url:By.options.userLayoutUrl+"/"+BD+"/saveLayout",data:"content="+BE})});Bz.on(Q+An,".k-custom-restorelayout",function(BC){BC.preventDefault();By.dataSource.filter(null);var BD=Bx.attr("name");E.core.submit({url:By.options.userLayoutUrl+"/"+BD+"/restoreLayout"})})}},_toolbarTmpl:function(BA){var Bz=this,BB,By,Bx="";if(z(BA)){for(BB=0,By=BA.length;BB<By;BB++){Bx+=Bz._createButton(BA[BB])}}return Bx},_createButton:function(BA,Bz){var Bx=BA.template||Ai,By=typeof BA===Bh?BA:BA.name||BA.text,BD=Bp[By]?Bp[By].className:"k-grid-"+(By||"").replace(/\s/g,""),BB={className:BD,text:By,imageClass:"",attr:"",iconClass:"",title:""},BE=this.options.messages.commands,BC;if(Bz){Bx=BA.template||AP}if(!By&&!(AV(BA)&&BA.template)){throw new Error("Custom commands should have name specified")}if(AV(BA)){if(BA.className&&Au(BB.className,BA.className.split(" "))<0){BA.className+=" "+BB.className}else{if(BA.className===AF){BA.className=BB.className}}if(By==="edit"&&AV(BA.text)){BA=k(true,{},BA);BA.text=BA.text.edit}if(BA.attr){if(AV(BA.attr)){BA.attr=g(BA.attr)}if(typeof BA.attr===Bh){BC=BA.attr.match(/class="(.+?)"/);if(BC&&Au(BC[1],BA.className.split(" "))<0){BA.className+=" "+BC[1]}}}BB=k(true,BB,Bp[By],{text:BE[By]},BA)}else{BB=k(true,BB,Bp[By],{text:BE[By]})}return AZ.template(Bx)(BB)},_hasFooters:function(){return !!this.footerTemplate||!!this.groupFooterTemplate||(this.footer&&this.footer.length>0)||this.wrapper.find(".k-grid-footer").length>0},_groupable:function(){var Bx=this;if(Bx._groupableClickHandler){Bx.table.add(Bx.lockedTable).off(Q+An,Bx._groupableClickHandler)}else{Bx._groupableClickHandler=function(Bz){var BA=E(this),By=BA.closest("tr");if(BA.hasClass("k-i-collapse")){Bx.collapseGroup(By)}else{Bx.expandGroup(By)}Bz.preventDefault();Bz.stopPropagation()}}if(Bx._isLocked()){Bx.lockedTable.on(Q+An,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",Bx._groupableClickHandler)}else{Bx.table.on(Q+An,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",Bx._groupableClickHandler)}Bx._attachGroupable()},_attachGroupable:function(){var By=this,Bx=By.wrapper,BA=By.options.groupable,BB=AX+"["+AZ.attr("field")+"]",Bz=By.content?".k-grid-header:first "+BB:"table:first>.k-grid-header "+BB;if(BA&&BA.enabled!==false){if(!Bx.has("div.k-grouping-header")[0]){E("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(Bx)}if(By.groupable){By.groupable.destroy()}By.groupable=new l(Bx,k({},BA,{draggable:By._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:By.dataSource,draggableElements:Bz,filter:Bz,allowDrag:By.options.reorderable}))}},_continuousItems:function(BF,BG){if(!this.lockedContent){return}var BD=this;var By=BD.table.add(BD.lockedTable);var BE=E(BF,By[0]);var Bx=E(BF,By[1]);var BA=BG?t(BD.columns).length:1;var BC=BG?BD.columns.length-BA:1;var Bz=[];for(var BB=0;BB<BE.length;BB+=BA){a.apply(Bz,BE.slice(BB,BB+BA));a.apply(Bz,Bx.splice(0,BC))}return Bz},_selectable:function(){var BB=this,BC,BE,Bx=[],BD=BB._isLocked(),Bz=BB.options.selectable;if(Bz){if(BB.selectable){BB.selectable.destroy()}Bz=AZ.ui.Selectable.parseOptions(Bz);BC=Bz.multiple;BE=Bz.cell;if(BB._hasDetails()){Bx[Bx.length]=".k-detail-row"}if(BB.options.groupable||BB._hasFooters()){Bx[Bx.length]=".k-grouping-row,.k-group-footer"}Bx=Bx.join(",");if(Bx!==""){Bx=":not("+Bx+")"}var By=BB.table;if(BD){By=By.add(BB.lockedTable)}var BA=">"+(BE?d:"tbody>tr"+Bx);BB.selectable=new AZ.ui.Selectable(By,{filter:BA,aria:true,multiple:BC,change:function(){BB.trigger(K)},useAllItems:BD&&BC&&BE,relatedTarget:function(BI){if(BE||!BD){return}var BF;var BH=E();for(var BJ=0,BG=BI.length;BJ<BG;BJ++){BF=BB._relatedRow(BI[BJ]);if(Au(BF[0],BI)<0){BH=BH.add(BF)}}return BH},continuousItems:function(){return BB._continuousItems(BA,BE)}});if(BB.options.navigatable){By.on("keydown"+An,function(BF){var BG=BB.current();var BH=BF.target;if(BF.keyCode===Br.SPACEBAR&&E.inArray(BH,By)>-1&&!BG.is(".k-edit-cell,.k-header")&&BG.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){BF.preventDefault();BF.stopPropagation();BG=BE?BG:BG.parent();if(BD&&!BE){BG=BG.add(BB._relatedRow(BG))}if(BC){if(!BF.ctrlKey){BB.selectable.clear()}else{if(BG.hasClass(A8)){BG.removeClass(A8);BB.trigger(K);return}}}else{BB.selectable.clear()}BB.selectable.value(BG)}})}}},_clipboard:function(){var By=this.options;var Bx=By.selectable;if(Bx&&By.allowCopy){var Bz=this;if(!By.navigatable){Bz.table.add(Bz.lockedTable).attr("tabindex",0).on("mousedown"+An+" keydown"+An,".k-detail-cell",function(BA){if(BA.target!==BA.currentTarget){BA.stopImmediatePropagation()}}).on("mousedown"+An,A+">"+U,T(o,Bz))}Bz.copyHandler=T(Bz.copySelection,Bz);Bz.updateClipBoardState=function(){if(Bz.areaClipBoard){Bz.areaClipBoard.val(Bz.getTSV()).focus().select()}};Bz.bind("change",Bz.updateClipBoardState);Bz.wrapper.on("keydown",Bz.copyHandler);Bz.clearAreaHandler=T(Bz.clearArea,Bz);Bz.wrapper.on("keyup",Bz.clearAreaHandler)}},copySelection:function(Bx){if((Bx instanceof jQuery.Event&&!(Bx.ctrlKey||Bx.metaKey))||E(Bx.target).is("input:visible,textarea:visible")||(window.getSelection&&window.getSelection().toString())||(document.selection&&document.selection.createRange().text)){return}if(!this.areaClipBoard){this.areaClipBoard=E("<textarea />").css({position:"fixed",top:"50%",left:"50%",opacity:0,width:0,height:0}).appendTo(this.wrapper)}this.areaClipBoard.val(this.getTSV()).focus().select()},getTSV:function(){var BG=this;var BC=BG.select();var BA="\t";var BE=BG.options.allowCopy;var Bx=true;if(E.isPlainObject(BE)&&BE.delimeter){BA=BE.delimeter}var BD="";if(BC.length){if(BC.eq(0).is("tr")){BC=BC.find("td:not(.k-group-cell)")}if(Bx){BC.filter(":visible")}var Bz=[];var BH=this.columns.length;var By=BG._isLocked()&&t(BG.columns).length;var BB=true;E.each(BC,function(BL,BM){BM=E(BM);var BK=BM.closest("tr");var BI=BK.index();var BN=BM.index();if(Bx){BN-=BM.prevAll(":hidden").length}if(By&&BB){BB=E.contains(BG.lockedTable[0],BM[0])}if(BG._groups()&&BB){BN-=BG._groups()}BN=BB?BN:(BN+By);if(BH>BN){BH=BN}var BJ=BM.text();if(!Bz[BI]){Bz[BI]=[]}Bz[BI][BN]=BJ});var BF=Bz.length;Bz=E.each(Bz,function(BI,BJ){if(BJ){Bz[BI]=BJ.slice(BH);if(BF>BI){BF=BI}}});E.each(Bz.slice(BF),function(BI,BJ){if(BJ){BD+=BJ.join(BA)+"\r\n"}else{BD+="\r\n"}})}return BD},clearArea:function(Bx){if(this.areaClipBoard&&Bx&&Bx.target===this.areaClipBoard[0]){if(this.options.navigatable){E(this.current()).closest("table").focus()}else{this.table.focus()}}if(this.areaClipBoard){this.areaClipBoard.remove();this.areaClipBoard=null}},_minScreenSupport:function(){var Bx=this.hideMinScreenCols();if(Bx){this.minScreenResizeHandler=T(this.hideMinScreenCols,this);E(window).on("resize",this.minScreenResizeHandler)}},hideMinScreenCols:function(){var By=this.columns,BC=false,BA=(window.innerWidth>0)?window.innerWidth:screen.width;for(var Bx=0;Bx<By.length;Bx++){var BB=By[Bx];var Bz=BB.minScreenWidth;if(Bz!==AF&&Bz!==null){BC=true;if(Bz>BA){this.hideColumn(BB)}else{this.showColumn(BB)}}}return BC},_relatedRow:function(By){var Bx=this.lockedTable;By=E(By);if(!Bx){return By}var BA=By.closest(this.table.add(this.lockedTable));var Bz=BA.find(">tbody>tr").index(By);BA=BA[0]===this.table[0]?Bx:this.table;return BA.find(">tbody>tr").eq(Bz)},clearSelection:function(){var Bx=this;Bx.selectable.clear();Bx.trigger(K)},select:function(Bz){var Bx=this,By=Bx.selectable;Bz=E(Bz);if(Bz.length){if(!By.options.multiple){By.clear();Bz=Bz.first()}if(Bx._isLocked()){Bz=Bz.add(Bz.map(function(){return Bx._relatedRow(this)}))}By.value(Bz);return}return By.value()},_updateCurrentAttr:function(By,Bx){var Bz=E(By).data("headerId");E(By).removeClass(AD).removeAttr("aria-describedby").closest("table").removeAttr("aria-activedescendant");if(Bz){Bz=Bz.replace(this._cellId,"");E(By).attr("id",Bz)}else{E(By).removeAttr("id")}Bx.data("headerId",Bx.attr("id")).attr("id",this._cellId).addClass(AD).closest("table").attr("aria-activedescendant",this._cellId);if(!Bx.closest("tr").hasClass("k-grouping-row")&&!Bx.hasClass("k-header")){var BA=this.columns[this.cellIndex(Bx)];if(BA){Bz=BA.headerAttributes.id}Bx.attr("aria-describedby",Bz+" "+this._cellId)}else{Bx.attr("aria-describedby",this._cellId)}this._current=Bx},_scrollCurrent:function(){var BB=this._current;var Bz=this.options.scrollable;if(!BB||!Bz){return}var BC=BB.parent();var Bx=BC.closest("table").parent();var BE=Bx.is(".k-grid-content-locked,.k-grid-header-locked");var BA=Bx.is(".k-grid-content-locked,.k-grid-content,.k-virtual-scrollable-wrap");var BD=E(this.content).find(">.k-virtual-scrollable-wrap").andSelf().last()[0];if(BA){if(Bz.virtual){var By=Math.max(Au(BC[0],this._items(BC.parent())),0);this._rowVirtualIndex=this.virtualScrollable.itemIndex(By);this.virtualScrollable.scrollIntoView(BC)}else{this._scrollTo(this._relatedRow(BC)[0],BD)}}if(this.lockedContent){this.lockedContent[0].scrollTop=BD.scrollTop}if(!BE){this._scrollTo(BB[0],BD)}},current:function(Bx){var By=this._current;Bx=E(Bx);if(Bx.length){if(!By||By[0]!==Bx[0]){this._updateCurrentAttr(By,Bx);this._scrollCurrent()}}return this._current},_removeCurrent:function(){if(this._current){this._current.removeClass(AD);this._current=null}},_scrollTo:function(By,BG){var BD=By.tagName.toLowerCase();var BA=BD==="td"||BD==="th";var BJ=By[BA?"offsetLeft":"offsetTop"];var BE=By[BA?"offsetWidth":"offsetHeight"];var BC=BG[BA?"scrollLeft":"scrollTop"];var BH=BG[BA?"clientWidth":"clientHeight"];var Bz=BJ+BE;var BB=0;var Bx=0;var BI=0;if(R&&BA){var BF=E(By).closest("table")[0];if(Bn.msie){Bx=BF.offsetLeft}else{if(Bn.mozilla){BI=BF.offsetLeft-AZ.support.scrollbar()}}}BC=Math.abs(BC+Bx-BI);if(BC>BJ){BB=BJ}else{if(Bz>(BC+BH)){if(BE<=BH){BB=(Bz-BH)}else{BB=BJ}}else{BB=BC}}BB=Math.abs(BB+Bx)+BI;BG[BA?"scrollLeft":"scrollTop"]=BB},_navigatable:function(){var By=this;if(!By.options.navigatable){return}var Bx=By.table.add(By.lockedTable);var Bz=By.thead.parent().add(E(">table",By.lockedHeader));var BA=Bx;if(By.options.scrollable){BA=BA.add(Bz);Bz.attr(Z,-1)}this._navigatableTables=BA;BA.off("mousedown"+An+" focus"+An+" focusout"+An+" keydown"+An);Bz.on("keydown"+An,T(By._openHeaderMenu,By)).find("a.k-link").attr("tabIndex",-1);Bx.attr(Z,Az.max(Bx.attr(Z)||0,0)).on("mousedown"+An+" keydown"+An,".k-detail-cell",function(BB){if(BB.target!==BB.currentTarget){BB.stopImmediatePropagation()}});BA.on((AZ.support.touch?"touchstart"+An:"mousedown"+An),A+">"+U,T(o,By)).on("focus"+An,T(By._tableFocus,By)).on("focusout"+An,T(By._tableBlur,By)).on("keydown"+An,T(By._tableKeyDown,By))},_openHeaderMenu:function(Bx){if(Bx.altKey&&Bx.keyCode==Br.DOWN){this.current().find(".k-grid-filter, .k-header-column-menu").click();Bx.stopImmediatePropagation()}},_setTabIndex:function(Bx){this._navigatableTables.attr(Z,-1);Bx.attr(Z,0)},_tableFocus:function(Bx){if(AZ.support.touch){return}var By=this.current();var Bz=E(Bx.currentTarget);if(By&&By.is(":visible")){By.addClass(AD)}else{this.current(Bz.find(S))}this._setTabIndex(Bz)},_tableBlur:function(Bx){var By=this.current();if(By){By.removeClass(AD)}},_tableKeyDown:function(By){var Bz=this.current();var BA=this.virtualScrollable&&this.virtualScrollable.fetching();var BB=E(By.target);var BC=!By.isDefaultPrevented()&&!BB.is(":button,a,:input,a>.k-icon");if(BA){By.preventDefault();return}Bz=Bz?Bz:E(this.lockedTable).add(this.table).find(S);if(!Bz.length){return}var Bx=false;if(BC&&By.keyCode==Br.UP){Bx=this._moveUp(Bz)}if(BC&&By.keyCode==Br.DOWN){Bx=this._moveDown(Bz)}if(BC&&By.keyCode==(R?Br.LEFT:Br.RIGHT)){Bx=this._moveRight(Bz,By.altKey)}if(BC&&By.keyCode==(R?Br.RIGHT:Br.LEFT)){Bx=this._moveLeft(Bz,By.altKey)}if(BC&&By.keyCode==Br.PAGEDOWN){Bx=this._handlePageDown()}if(BC&&By.keyCode==Br.PAGEUP){Bx=this._handlePageUp()}if(By.keyCode==Br.ENTER||By.keyCode==Br.F2){Bx=this._handleEnterKey(Bz,By.currentTarget,BB)}if(By.keyCode==Br.ESC){Bx=this._handleEscKey(Bz,By.currentTarget)}if(By.keyCode==Br.TAB){Bx=this._handleTabKey(Bz,By.currentTarget,By.shiftKey)}if(Bx){By.preventDefault();By.stopPropagation()}},_moveLeft:function(BA,BC){var By,BB;var Bz=BA.parent();var Bx=Bz.parent();if(BC){this.collapseRow(Bz)}else{BB=Bx.find(A).index(Bz);By=this._prevHorizontalCell(Bx,BA,BB);if(!By[0]){Bx=this._horizontalContainer(Bx);By=this._prevHorizontalCell(Bx,BA,BB);if(By[0]!==BA[0]){W(Bx.parent(),true)}}this.current(By)}return true},_moveRight:function(BA,BC){var By,BB;var Bz=BA.parent();var Bx=Bz.parent();if(BC){this.expandRow(Bz)}else{BB=Bx.find(A).index(Bz);By=this._nextHorizontalCell(Bx,BA,BB);if(!By[0]){Bx=this._horizontalContainer(Bx,true);By=this._nextHorizontalCell(Bx,BA,BB);if(By[0]!==BA[0]){W(Bx.parent(),true)}}this.current(By)}return true},_moveUp:function(Bz){var By=Bz.parent().parent();var Bx=this._prevVerticalCell(By,Bz);if(!Bx[0]){By=this._verticalContainer(By,true);Bx=this._prevVerticalCell(By,Bz);if(Bx[0]){W(By.parent(),true)}}this.current(Bx);return true},_moveDown:function(Bz){var By=Bz.parent().parent();var Bx=this._nextVerticalCell(By,Bz);if(!Bx[0]){By=this._verticalContainer(By);Bx=this._nextVerticalCell(By,Bz);if(Bx[0]){W(By.parent(),true)}}this.current(Bx);return true},_handlePageDown:function(){if(!this.options.pageable){return false}this.dataSource.page(this.dataSource.page()+1);return true},_handlePageUp:function(){if(!this.options.pageable){return false}this.dataSource.page(this.dataSource.page()-1);return true},_handleTabKey:function(BA,BB,Bz){var By=this.options.editable&&this._editMode()=="incell";var Bx;if(!By||BA.is("th")){return false}Bx=E(x()).closest(".k-edit-cell");if(Bx[0]&&Bx[0]!==BA[0]){BA=Bx}Bx=this._tabNext(BA,BB,Bz);if(Bx.length){this._handleEditing(BA,Bx,Bx.closest("table"));return true}return false},_handleEscKey:function(Bz,BB){var By=x();var Bx=this._editMode()=="incell";if(!p(Bz)){if(Bz.has(By).length){W(BB,true);return true}return false}if(Bx){this.closeCell(true)}else{var BA=E(Bz).parent().index();if(By){By.blur()}this.cancelRow();if(BA>=0){this.current(this.items().eq(BA).children(U).first())}}if(Bn.msie&&Bn.version<9){document.body.focus()}W(BB,true);return true},_toggleCurrent:function(By){var Bx=By.parent();if(Bx.is(".k-master-row,.k-grouping-row")){Bx.find(".k-icon:first").click();return true}return false},_handleEnterKey:function(Bz,BB,BA){var Bx=this.options.editable;var By=BA.closest("[role=gridcell]");if(!BA.is("table")&&!E.contains(Bz[0],BA[0])){Bz=By}if(Bz.is("th")){Bz.find(".k-link").click();return true}if(!Bx&&this._toggleCurrent(Bz)){return true}var BC=Bz.find(":kendoFocusable:first");if(BC[0]&&!Bz.hasClass("k-edit-cell")&&Bz.hasClass("k-state-focused")){BC.focus();return true}if(Bx&&!BA.is(":button,.k-button,textarea")){if(!By[0]){By=Bz}this._handleEditing(By,false,BB);return true}return false},_nextHorizontalCell:function(BB,BA,Bx){var Bz=BA.nextAll(AH);if(!Bz.length){var BC=BB.find(A);var By=BC.index(BA.parent());if(By==-1){if(BA.hasClass("k-header")){var BD=[];Bt([t(this.columns)[0]],V(BC.eq(0).children().first()),BD,0,0);if(BD[Bx]){return BD[Bx][0]}return BA}if(BA.parent().hasClass("k-filter-row")){return BC.last().children(AH).first()}return BC.eq(Bx).children(AH).first()}}return Bz.first()},_prevHorizontalCell:function(BE,Bz,BD){var BC=Bz.prevAll(AH);if(!BC.length){var Bx=BE.find(A);var By=Bx.index(Bz.parent());if(By==-1){if(Bz.hasClass("k-header")){var BB=[];var BA=t(this.columns);Bt([BA[BA.length-1]],V(Bx.eq(0).children().last()),BB,0,0);if(BB[BD]){return BB[BD][0]}return Bz}if(Bz.parent().hasClass("k-filter-row")){return Bx.last().children(AH).last()}return Bx.eq(BD).children(AH).last()}}return BC.first()},_currentDataIndex:function(Bz,Bx){var By=Bx.attr("data-index");if(!By){return AF}var BA=t(this.columns).length;if(BA&&!Bz.closest("div").hasClass("k-grid-content-locked")[0]){return By-BA}return By},_prevVerticalCell:function(BA,BB){var Bz;var By=BB.parent();var BD=BA.children(A);var Bx=BD.index(By);var BC=this._currentDataIndex(BA,BB);if(BC||BB.hasClass("k-header")){Bz=Ar(BB);return Bz.eq(Bz.length-2)}BC=By.children(AH).index(BB);if(By.hasClass("k-filter-row")){return D(BA).eq(BC)}if(Bx==-1){By=BA.find(".k-filter-row");if(!By[0]){return D(BA).eq(BC)}}else{By=Bx===0?E():BD.eq(Bx-1)}Bz=By.children(AH);if(Bz.length>BC){return Bz.eq(BC)}return Bz.eq(0)},_nextVerticalCell:function(BA,BB){var Bz;var By=BB.parent();var BD=BA.children(A);var Bx=BD.index(By);var BC=this._currentDataIndex(BA,BB);if(Bx!=-1&&BC===AF&&BB.hasClass("k-header")){return V(BB).eq(1)}BC=BC?parseInt(BC,10):By.children(AH).index(BB);if(Bx==-1){By=BD.eq(0)}else{By=BD.eq(Bx+BB[0].rowSpan)}Bz=By.children(AH);if(Bz.length>BC){return Bz.eq(BC)}return Bz.eq(0)},_verticalContainer:function(Bz,BC){var BB=Bz.parent();var By=this._navigatableTables.length;var Bx=Math.floor(By/2);var BA=Au(BB[0],this._navigatableTables);if(BC){Bx*=-1}BA+=Bx;if(BA>=0||BA<By){BB=this._navigatableTables.eq(BA)}return BB.find(BC?"thead":"tbody")},_horizontalContainer:function(Bz,Bx){var By=this._navigatableTables.length;if(By<=2){return Bz}var BB=Bz.parent();var BA=Au(BB[0],this._navigatableTables);BA+=Bx?1:-1;if(Bx&&(BA==2||BA==By)){return Bz}if(!Bx&&(BA==1||BA<0)){return Bz}return this._navigatableTables.eq(BA).find("thead, tbody")},_tabNext:function(Bz,BA,Bx){var BB=true;var By=Bx?Bz.prevAll(AH+":first"):Bz.nextAll(":visible:first");if(!By.length){By=Bz.parent();if(this.lockedTable){BB=(Bx&&BA==this.lockedTable[0])||(!Bx&&BA==this.table[0]);By=this._relatedRow(By)}if(BB){By=By[Bx?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first")}By=By.children(AH+(Bx?":last":":first"))}return By},_handleEditing:function(BA,BG,BH){var BD=this,BE=E(x()),BF=BD._editMode(),Bz=Bn.msie,BC=Bz&&Bn.version<9,BB=BD._editContainer,Bx,By;BH=E(BH);if(BF=="incell"){By=BA.hasClass("k-edit-cell")}else{By=BA.parent().hasClass("k-grid-edit-row")}if(BD.editable){if(E.contains(BB[0],BE[0])){if(Bn.opera||BC){BE.change().triggerHandler("blur")}else{BE.blur();if(Bz){BE.blur()}}}if(!BD.editable){W(BH);return}if(BD.editable.end()){if(BF=="incell"){BD.closeCell()}else{BD.saveRow();By=true}}else{if(BF=="incell"){BD.current(BB)}else{BD.current(BB.children().filter(AH).first())}Bx=BB.find(":kendoFocusable:first")[0];if(Bx){Bx.focus()}return}}if(BG){BD.current(BG)}if(BC){document.body.focus()}W(BH,true);if((!By&&!BG)||BG){if(BF=="incell"){BD.editCell(BD.current())}else{BD.editRow(BD.current().parent())}}},_wrapper:function(){var Bz=this,BA=Bz.table,Bx=Bz.options.height,By=Bz.element;if(!By.is("div")){By=By.wrap("<div/>").parent()}Bz.wrapper=By.addClass("k-grid k-widget");if(Bx){Bz.wrapper.css(At,Bx);BA.css(At,"auto")}Bz._initMobile()},_initMobile:function(){var Bz=this.options;var By=this;this._isMobile=(Bz.mobile===true&&AZ.support.mobileOS)||Bz.mobile==="phone"||Bz.mobile==="tablet";if(this._isMobile){var Bx=this.wrapper.addClass("k-grid-mobile").wrap("<div data-"+AZ.ns+'role="view" data-'+AZ.ns+'init-widgets="false"></div>').parent();this.pane=AZ.mobile.ui.Pane.wrap(Bx);this.view=this.pane.view();this._actionSheetPopupOptions=E(document.documentElement).hasClass("km-root")?{modal:false}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"};if(Bz.height){this.pane.element.parent().css(At,Bz.height)}this._editAnimation="slide";this.view.bind("show",function(){if(By._isLocked()){By._updateTablesWidth();By._applyLockedContainersWidth();By._syncLockedContentHeight();By._syncLockedHeaderHeight();By._syncLockedFooterHeight()}})}},_tbody:function(){var Bx=this,Bz=Bx.table,By;By=Bz.find(">tbody");if(!By.length){By=E("<tbody/>").appendTo(Bz)}Bx.tbody=By.attr("role","rowgroup")},_scrollable:function(){var BB=this,BE,BF,BC=BB.options,By=BC.scrollable,BA=By!==true&&By.virtual&&!BB.virtualScrollable,BD=!AZ.support.kineticScrollNeeded||BA?AZ.support.scrollbar():0;if(By){BE=BB.wrapper.children(".k-grid-header");if(!BE[0]){BE=E('<div class="k-grid-header" />').insertBefore(BB.table)}BE.css((R?"padding-left":"padding-right"),By.virtual?BD+1:BD);BF=E('<table role="grid" />');if(I){BF.attr("cellspacing",0)}BF.width(BB.table[0].style.width);BF.append(BB.thead);BE.empty().append(E('<div class="k-grid-header-wrap" />').append(BF));BB.content=BB.table.parent();if(BB.content.is(".k-virtual-scrollable-wrap, .km-scroll-container")){BB.content=BB.content.parent()}if(!BB.content.is(".k-grid-content, .k-virtual-scrollable-wrap")){BB.content=BB.table.wrap('<div class="k-grid-content" />').parent()}if(BA){BB.virtualScrollable=new Y(BB.content,{dataSource:BB.dataSource,itemHeight:function(){return BB._averageRowHeight()}})}BB.scrollables=BE.children(".k-grid-header-wrap");var Bx=BB.wrapper.find(".k-grid-footer");if(Bx.length){BB.scrollables=BB.scrollables.add(Bx.children(".k-grid-footer-wrap"))}if(By.virtual){BB.content.find(">.k-virtual-scrollable-wrap").unbind("scroll"+An).bind("scroll"+An,function(){BB.scrollables.scrollLeft(this.scrollLeft);if(BB.lockedContent){BB.lockedContent[0].scrollTop=this.scrollTop}})}else{BB.content.unbind("scroll"+An).bind("scroll"+An,function(){BB.scrollables.scrollLeft(this.scrollLeft);if(BB.lockedContent){BB.lockedContent[0].scrollTop=this.scrollTop}});var Bz=BB.content.data("kendoTouchScroller");if(Bz){Bz.destroy()}Bz=AZ.touchScroller(BB.content);if(Bz&&Bz.movable){BB.touchScroller=Bz;Bz.movable.bind("change",function(BG){BB.scrollables.scrollLeft(-BG.sender.x);if(BB.lockedContent){BB.lockedContent.scrollTop(-BG.sender.y)}});BB.one(G,function(BG){BG.sender.wrapper.addClass("k-grid-backface")})}}}},_renderNoRecordsContent:function(){var By=this;if(By.options.noRecords&&By.wrapper.is(":visible")){var Bx=By.table.parent().children("."+X);if(Bx.length){Bx.remove()}if(!By.dataSource||!By.dataSource.view().length){E(By.noRecordsTemplate({})).appendTo(By.table.parent())}}},_setContentWidth:function(BC){var Bz=this,By="k-grid-content-expander",BB='<div class="'+By+'"></div>',Bx=Bz.resizable,BA;if(Bz.options.scrollable&&Bz.wrapper.is(":visible")){BA=Bz.table.parent().children("."+By);Bz._setContentWidthHandler=T(Bz._setContentWidth,Bz);if(!Bz.dataSource||!Bz.dataSource.view().length){if(!BA[0]){BA=E(BB).appendTo(Bz.table.parent());if(Bx){Bx.bind("resize",Bz._setContentWidthHandler)}}if(Bz.thead){BA.width(Bz.thead.width());if(BC){Bz.content.scrollLeft(BC)}}}else{if(BA[0]){BA.remove();if(Bx){Bx.unbind("resize",Bz._setContentWidthHandler)}}}Bz._applyLockedContainersWidth()}},_applyLockedContainersWidth:function(){if(this.options.scrollable&&this.lockedHeader){var BE=this.thead.parent(),BG=BE.parent(),BF=this.wrapper[0].clientWidth,By=this._groups(),BA=AZ.support.scrollbar(),BD=this.lockedHeader.find(">table>colgroup>col:not(.k-group-col, .k-hierarchy-col)"),BB=BE.find(">colgroup>col:not(.k-group-col, .k-hierarchy-col)"),Bz=Bw(BD),BC=Bw(BB),Bx;if(By>0){Bz+=this.lockedHeader.find(".k-group-cell:first").outerWidth()*By}if(Bz>=BF){Bz=BF-3*BA}this.lockedHeader.add(this.lockedContent).width(Bz);BG[0].style.width=BG.parent().width()-Bz-2+"px";BE.add(this.table).width(BC);if(this.virtualScrollable){BF-=BA}this.content[0].style.width=BF-Bz-2+"px";if(this.lockedFooter&&this.lockedFooter.length){this.lockedFooter.width(Bz);Bx=this.footer.find(".k-grid-footer-wrap");Bx[0].style.width=BG[0].clientWidth+"px";Bx.children().first().width(BC)}}},_setContentHeight:function(){var Bz=this,BA=Bz.options,By=Bz.wrapper.innerHeight(),BC=Bz.wrapper.children(".k-grid-header"),Bx=AZ.support.scrollbar();if(BA.scrollable&&Bz.wrapper.is(":visible")){By-=BC.outerHeight();if(Bz.pager){By-=Bz.pager.element.outerHeight()}if(BA.groupable){By-=Bz.wrapper.children(".k-grouping-header").outerHeight()}if(BA.toolbar){By-=Bz.wrapper.children(".k-grid-toolbar").outerHeight()}if(Bz.footerTemplate){By-=Bz.wrapper.children(".k-grid-footer").outerHeight()}var BB=function(BD){var BF,BE;if(BD[0].style.height){return true}else{BF=BD.height()}BD.height("auto");BE=BD.height();if(BF!=BE){BD.height("");return true}BD.height("");return false};if(BB(Bz.wrapper)){if(By>Bx*2){if(Bz.lockedContent){Bx=Bz.table[0].offsetWidth>Bz.table.parent()[0].clientWidth?Bx:0;Bz.lockedContent.height(By-Bx)}Bz.content.height(By)}else{Bz.content.height(Bx*2+1)}}}},_averageRowHeight:function(){var Bx=this,BA=Bx._items(Bx.tbody).length,By=Bx._rowHeight;if(BA===0){return By}if(!Bx._rowHeight){Bx._rowHeight=By=Bx.table.outerHeight()/BA;Bx._sum=By;Bx._measures=1}var Bz=Bx.table.outerHeight()/BA;if(By!==Bz){Bx._measures++;Bx._sum+=Bz;Bx._rowHeight=Bx._sum/Bx._measures}return By},_dataSource:function(){var By=this,BA=By.options,Bx,Bz=BA.dataSource;Bz=z(Bz)?{data:Bz}:Bz;if(AV(Bz)){k(Bz,{table:By.table,fields:By.columns});Bx=BA.pageable;if(AV(Bx)&&Bx.pageSize!==AF){Bz.pageSize=Bx.pageSize}}if(By.dataSource&&By._refreshHandler){By.dataSource.unbind(K,By._refreshHandler).unbind(AL,By._progressHandler).unbind(As,By._errorHandler)}else{By._refreshHandler=T(By.refresh,By);By._progressHandler=T(By._requestStart,By);By._errorHandler=T(By._error,By)}By.dataSource=Bf.create(Bz).bind(K,By._refreshHandler).bind(AL,By._progressHandler).bind(As,By._errorHandler)},_error:function(){this._progress(false)},_requestStart:function(){this._progress(true)},_modelChange:function(BB){var BL=this,BF=BL.tbody,BC=BB.model,BN=BL.tbody.find("tr["+AZ.attr("uid")+"="+BC.uid+"]"),BJ,BG,BI,BK=BN.hasClass("k-alt"),BA,BM=BL._items(BF).index(BN),Bz=BL.lockedContent,BE,BH,BD,By,Bx;if(Bz){BJ=BL._relatedRow(BN)}if(BN.add(BJ).children(".k-edit-cell").length&&!BL.options.rowTemplate){BN.add(BJ).children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){BG=E(this);BI=Aq(BL.columns)[BL.cellIndex(BG)];if(BI.field===BB.field){if(!BG.hasClass("k-edit-cell")){BL._displayCell(BG,BI,BC);E('<span class="k-dirty"/>').prependTo(BG)}else{BG.addClass("k-dirty-cell")}}})}else{if(!BN.hasClass("k-grid-edit-row")){BH=E().add(BN);if(Bz){BA=(BK?BL.lockedAltRowTemplate:BL.lockedRowTemplate)(BC);BH=BH.add(BJ);BJ.replaceWith(BA)}BL.angular("cleanup",function(){return{elements:BH.get()}});BA=(BK?BL.altRowTemplate:BL.rowTemplate)(BC);BN.replaceWith(BA);BA=BL._items(BF).eq(BM);var BO=[{dataItem:BC}];if(Bz){BN=BN.add(BJ);BJ=BL._relatedRow(BA)[0];s(BA[0],BJ);BA=BA.add(BJ);BO.push({dataItem:BC})}BL.angular("compile",function(){return{elements:BA.get(),data:BO}});BE=BL.options.selectable;if(BE&&BN.hasClass("k-state-selected")){BL.select(BA)}By=BH.children(":not(.k-group-cell,.k-hierarchy-cell)");BD=BA.children(":not(.k-group-cell,.k-hierarchy-cell)");for(BM=0,Bx=BL.columns.length;BM<Bx;BM++){BI=BL.columns[BM];BG=BD.eq(BM);if(BE&&By.eq(BM).hasClass("k-state-selected")){BG.addClass("k-state-selected")}if(BI.field===BB.field){E('<span class="k-dirty"/>').prependTo(BG)}}BL.trigger("itemChange",{item:BA,data:BC,ns:Ax})}}},_pageable:function(){var By=this,Bx,Bz=By.options.pageable;if(Bz){Bx=By.wrapper.children("div.k-grid-pager");if(!Bx.length){Bx=E('<div class="k-pager-wrap k-grid-pager"/>').appendTo(By.wrapper)}if(By.pager){By.pager.destroy()}if(typeof Bz==="object"&&Bz instanceof AZ.ui.Pager){By.pager=Bz}else{By.pager=new AZ.ui.Pager(Bx,k({},Bz,{dataSource:By.dataSource}))}}},_footer:function(){var BD=this,BA=BD.dataSource.aggregates(),BG="",BB=BD.footerTemplate,BE=BD.options,Bx,By=BD.footer||BD.wrapper.find(".k-grid-footer");if(BB){BG=E(BD._wrapFooter(BB(BA)));if(By.length){var BC=BG;BD.angular("cleanup",function(){return{elements:By.get()}});By.replaceWith(BC);By=BD.footer=BC}else{if(BE.scrollable){By=BD.footer=BE.pageable?BG.insertBefore(BD.wrapper.children("div.k-grid-pager")):BG.appendTo(BD.wrapper)}else{By=BD.footer=BG.insertBefore(BD.tbody)}}BD.angular("compile",function(){return{elements:By.find("td:not(.k-group-cell, .k-hierarchy-cell)").get(),data:Bg(BD.columns,function(BI,BH){return{column:BI,aggregate:BA[BI.field]}})}})}else{if(By&&!BD.footer){BD.footer=By}}if(By.length){if(BE.scrollable){Bx=By.attr("tabindex",-1).children(".k-grid-footer-wrap");BD.scrollables=BD.scrollables.filter(function(){return !E(this).is(".k-grid-footer-wrap")}).add(Bx)}if(BD._footerWidth){By.find("table").css("width",BD._footerWidth)}if(Bx){var Bz=BD.content.scrollLeft();var BF=BE.scrollable!==true&&BE.scrollable.virtual&&!BD.virtualScrollable;if(BF){Bz=BD.wrapper.find(".k-virtual-scrollable-wrap").scrollLeft()}Bx.scrollLeft(Bz)}}if(BD.lockedContent){BD._appendLockedColumnFooter();BD._applyLockedContainersWidth();BD._syncLockedFooterHeight()}},_wrapFooter:function(By){var Bz=this,Bx="",BA=!AZ.support.mobileOS?AZ.support.scrollbar():0;if(Bz.options.scrollable){Bx=E('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(I?' cellspacing="0"':"")+"><tbody>"+By+"</tbody></table></div></div>");Bz._appendCols(Bx.find("table"));Bx.css((R?"padding-left":"padding-right"),BA);return Bx}return'<tfoot class="k-grid-footer">'+By+"</tfoot>"},_columnMenu:function(){var BM=this,BL,BD=Aq(BM.columns),BE,BJ=BM.options,BA=BJ.columnMenu,BO,BF,BC,BH,BK=Ab(BM.columns,function(BP){return BP.columns!==AF}).length>0,By=this._isMobile,BG=function(BP){BM.trigger(AM,{field:BP.field,container:BP.container})},BI=function(BP){W(BP.closest("table"),true)},BB=BJ.$angular;if(BA){if(typeof BA=="boolean"){BA={}}BH=D(BM.thead);for(var BN=0,Bx=BH.length;BN<Bx;BN++){BE=BD[BN];var Bz=BH.eq(BN);if(!BE.command&&!BE.checkbox&&!BE.rownum&&(BE.field||Bz.attr("data-"+AZ.ns+"field"))){BL=Bz.data("kendoColumnMenu");if(BL){BL.destroy()}BF=BE.sortable!==false&&BA.sortable!==false&&BJ.sortable!==false?k({},BJ.sortable,{compare:(BE.sortable||{}).compare}):false;BC=BJ.filterable&&BE.filterable!==false&&BA.filterable!==false?k({pane:BM.pane},BJ.filterable,BE.filterable):false;if(!BF&&!BC){continue}if(BE.filterable&&BE.filterable.dataSource){BC.forceUnique=false;BC.checkSource=BE.filterable.dataSource}if(BC){BC.format=BE.format}BO={dataSource:BM.dataSource,values:BE.values,columns:BA.columns,sortable:BF,filterable:BC,messages:BA.messages,owner:BM,closeCallback:BI,init:BG,pane:BM.pane,filter:By?":not(.k-column-active)":"",lockedColumns:!BK&&BE.lockable!==false&&t(BD).length>0};if(BB){BO.$angular=BB}Bz.kendoColumnMenu(BO)}}}},_headerCells:function(){return this.thead.find("th").filter(function(){var Bx=E(this);return !Bx.hasClass("k-group-cell")&&!Bx.hasClass("k-hierarchy-cell")})},_filterable:function(){var BC=this,By=Aq(BC.columns),BG,BE,BI,Bx=function(BJ){BC.trigger(AB,{field:BJ.field,container:BJ.container})},BB=function(BJ){W(BJ.closest("table"),true)},BA=BC.options.filterable;if(BA&&typeof BA.mode==Bh&&BA.mode.indexOf("menu")==-1){BA=false}if(BA&&!BC.options.columnMenu){BE=D(BC.thead);for(var Bz=0,BF=BE.length;Bz<BF;Bz++){BI=BE.eq(Bz);if(By[Bz].filterable!==false&&!By[Bz].command&&(By[Bz].field||BI.attr("data-"+AZ.ns+"field"))){BG=BI.data("kendoFilterMenu");if(BG){BG.destroy()}BG=BI.data("kendoFilterMultiCheck");if(BG){BG.destroy()}var BH=By[Bz].filterable;var BD=k({},BA,BH,{dataSource:BC.dataSource,values:By[Bz].values,format:By[Bz].format,closeCallback:BB,title:By[Bz].title||By[Bz].field,init:Bx,pane:BC.pane});if(BH&&BH.messages){BD.messages=k(true,{},BA.messages,BH.messages)}if(BH&&BH.dataSource){BD.forceUnique=false;BD.checkSource=BH.dataSource}if(BH&&BH.multi){BI.kendoFilterMultiCheck(BD)}else{BI.kendoFilterMenu(BD)}}}}},_filterRow:function(){var BE=this;if(!BE._hasFilterRow()){return}var BA=Aq(BE.columns),BC=BE.options.filterable,Bx=BE.thead.find(".k-filter-row");this._updateHeader(this.dataSource.group().length);for(var BD=0;BD<BA.length;BD++){var Bz,BJ=BA[BD],BG=BE.options.filterable.operators,BB=false,BH=E("<th/>"),BF=BJ.field;if(BJ.hidden){BH.hide()}Bx.append(BH);if(BF&&BJ.filterable!==false){var BI=BJ.filterable&&BJ.filterable.cell||{};Bz=BE.options.dataSource;if(Bz instanceof Bf){Bz=BE.options.dataSource.options}var By=k(true,{},BC.messages);if(BJ.filterable){k(true,By,BJ.filterable.messages)}if(BI.enabled===false){BH.html("&nbsp;");continue}if(BI.dataSource){Bz=BI.dataSource;BB=true}if(BJ.filterable&&BJ.filterable.operators){BG=BJ.filterable.operators}E("<span/>").attr(AZ.attr("field"),BF).kendoFilterCell({dataSource:BE.dataSource,suggestDataSource:Bz,customDataSource:BB,field:BF,messages:By,values:BJ.values,template:BI.template,delay:BI.delay,inputWidth:BI.inputWidth,suggestionOperator:BI.suggestionOperator,minLength:BI.minLength,dataTextField:BI.dataTextField,operator:BI.operator,operators:BG,showOperators:BI.showOperators}).appendTo(BH)}else{BH.html("&nbsp;")}}},_sortable:function(){var BB=this,By=Aq(BB.columns),Bx,BA,BF,BD=BB.options.sortable;if(BD){var BC=D(BB.thead);for(var Bz=0,BE=BC.length;Bz<BE;Bz++){Bx=By[Bz];if(Bx.sortable!==false&&!Bx.command&&Bx.field){BF=BC.eq(Bz);BA=BF.data("kendoColumnSorter");if(BA){BA.destroy()}BF.attr("data-"+AZ.ns+"field",Bx.field).kendoColumnSorter(k({},BD,Bx.sortable,{dataSource:BB.dataSource,aria:true,filter:":not(.k-column-active)"}))}}BC=null}},_columns:function(Bz){var BB=this,BF=BB.table,BD,BA=BF.find("col"),By,BE=BB.options.dataSource;Bz=Bz.length?Bz:Bg(BF.find("th"),function(BP,BJ){BP=E(BP);var BO=BP.attr(AZ.attr("sortable")),BK=BP.attr(AZ.attr("filterable")),BN=BP.attr(AZ.attr("type")),BG=BP.attr(AZ.attr("groupable")),BL=BP.attr(AZ.attr("field")),BM=BP.attr(AZ.attr("title")),BH=BP.attr(AZ.attr("checkbox")),BI=BP.attr(AZ.attr("menu"));if(!BL){BL=BP.text().replace(/\s|[^A-z0-9]/g,"")}return{field:BL,type:BN,title:BM,checkbox:BH,sortable:BO!=="false",filterable:BK!=="false",groupable:BG!=="false",menu:BI,template:BP.attr(AZ.attr("template")),width:BA.eq(BJ).css("width")}});var BC=BB.options.detailInit?false:true;if(BB.options.checkbox){Bz.unshift({field:"ck",sortable:false,filterable:false,groupable:false,menu:false,locked:BC,rownum:false,checkbox:true,width:"35px"})}if(BB.options.rownum){Bz.unshift({field:"rownum",title:"#",sortable:false,filterable:false,groupable:false,menu:false,locked:BC,rownum:true,width:"35px"})}BD=!(BB.table.find("tbody tr").length>0&&(!BE||!BE.transport));if(BB.options.scrollable){var Bx=Bz;By=t(Bz);Bz=Ap(Bz);if(By.length>0&&Bz.length===0){throw new Error("There should be at least one non locked column")}AE(BB.element.find("tr:has(th):first").find("th:not(.k-group-cell)"),Bx);Bz=By.concat(Bz)}BB.columns=J(Bz,BD)},_groups:function(){var Bx=this.dataSource.group();return Bx?Bx.length:0},_tmpl:function(BH,BB,BK,BJ){var BF=this,By=k({},AZ.Template,BF.options.templateSettings),BC,BD=BB.length,BG,BE={storage:{},count:0},Bz,BI,BA=BF._hasDetails(),Bx=[],BL=BF._groups();if(!BH){BH="<tr";if(BK){Bx.push("k-alt")}if(BA){Bx.push("k-master-row")}if(Bx.length){BH+=' class="'+Bx.join(" ")+'"'}if(BD){BH+=" "+AZ.attr("uid")+'="#='+AZ.expr("uid",By.paramName)+'#"'}BH+=" role='row'>";if(BL>0&&!BJ){BH+=c(BL)}if(BA){BH+='<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#" tabindex="-1"></a></td>'}for(BC=0;BC<BD;BC++){Bz=BB[BC];BG=Bz.template;BI=typeof BG;align="";if(!Bz.hidden&&Bz.align&&Bz.align!=""){align="align='"+Bz.align+"'"}BH+="<td"+g(Bz.attributes)+" "+align+" role='gridcell'>";BH+=BF._cellTmpl(Bz,BE);BH+="</td>"}BH+="</tr>"}BH=AZ.template(BH,By);if(BE.count>0){return T(BH,BE.storage)}return BH},_headerCellText:function(BC){var By=this,BA=k({},AZ.Template,By.options.templateSettings),BB=BC.headerTemplate,Bx=typeof(BB),Bz=BC.title||BC.field||"";if(BC.checkbox){Bz='<input type="checkbox" class="k-checkbox" id="gridCkAll_'+BC.field+'" onclick="javascript:if($(\'#gridCkAll_'+BC.field+"').is(':checked')){$('input[name="+BC.field+"]').prop('checked',true);} else {$('input[name="+BC.field+']\').prop(\'checked\',false);}"/><label class="k-checkbox-label" for="gridCkAll_'+BC.field+'"></label>'}else{if(Bx===F){Bz=AZ.template(BB,BA)({})}else{if(Bx===Bh){Bz=BB}}}return Bz},_cellTmpl:function(BA,BG){var BH=this,Bx=k({},AZ.Template,BH.options.templateSettings),By=BA.template,BM=Bx.paramName,BI=BA.field,BL="",BE,BF,BC=BA.format,BK=typeof By,BB=BA.values;if(BA.command){if(z(BA.command)){for(BE=0,BF=BA.command.length;BE<BF;BE++){BL+=BH._createButton(BA.command[BE])}return BL.replace(n,"\\#")}return BH._createButton(BA.command).replace(n,"\\#")}if(BA.checkbox){if(BA.ckField){return'<input class="k-checkbox" type="checkbox" #= '+BA.ckField+"?checked='checked':''# data-type=\"ck\" name=\""+BA.field+'" id="'+BA.field+'_#=data.uid#" value="#=data.'+BA.field+'#"/><label class="k-checkbox-label" for="'+BA.field+'_#=data.uid#"></label>'}return'<input class="k-checkbox" type="checkbox" data-type="ck" name="'+BA.field+'" id="'+BA.field+'_#=data.uid#" value="#=data.'+BA.field+'#"/><label class="k-checkbox-label" for="'+BA.field+'_#=data.uid#"></label>'}if(BA.rownum){return"#= renderRowNumber(data,'"+BH.element.attr("id")+"') #"}if(BK===F){BG.storage["tmpl"+BG.count]=By;BL+="#=this.tmpl"+BG.count+"("+BM+")#";BG.count++}else{if(BK===Bh){BL+=By}else{if(BB&&BB.length&&AV(BB[0])&&"value" in BB[0]&&BI){BL+="#var v ="+AZ.stringify(Bl(BB)).replace(n,"\\#")+"#";BL+="#var f = v[";if(!Bx.useWithBlock){BL+=BM+"."}BL+=BI+"]#";BL+="${f != null ? f : ''}"}else{BL+=BA.encoded?"#:":"#=";if(BC){BL+='kendo.format("'+BC.replace(A2,"\\$1")+'",'}if(BI){BI=AZ.expr(BI,BM);var BJ=BI.split(".");if(BJ.length>2){var Bz="(";for(i=0;i<BJ.length-1;i++){var BD=BJ[i]+"."+BJ[i+1];Bz+=""+BD+"==null";if(i<BJ.length-2){Bz+=" || "}}Bz+=")";BL+=Bz+"?'':"+BI}else{BL+=BI+"==null?'':"+BI}}else{BL+="''"}if(BC){BL+=")"}BL+="#"}}}return BL},_templates:function(){var BC=this,BD=BC.options,BF=BC.dataSource,Bx=BF.group(),By=BC.footer||BC.wrapper.find(".k-grid-footer"),BA=BF.aggregate(),Bz=Aq(BC.columns),BB=Aq(t(BC.columns)),BE=BD.scrollable?Aq(Ap(BC.columns)):Bz;if(BD.scrollable&&BB.length){if(BD.rowTemplate||BD.altRowTemplate){throw new Error("Having both row template and locked columns is not supported")}BC.rowTemplate=BC._tmpl(BD.rowTemplate,BE,false,true);BC.altRowTemplate=BC._tmpl(BD.altRowTemplate||BD.rowTemplate,BE,true,true);BC.lockedRowTemplate=BC._tmpl(BD.rowTemplate,BB);BC.lockedAltRowTemplate=BC._tmpl(BD.altRowTemplate||BD.rowTemplate,BB,true)}else{BC.rowTemplate=BC._tmpl(BD.rowTemplate,BE);BC.altRowTemplate=BC._tmpl(BD.altRowTemplate||BD.rowTemplate,BE,true)}if(BC._hasDetails()){BC.detailTemplate=BC._detailTmpl(BD.detailTemplate||"")}if((BC._group&&!AQ(BA))||(!AQ(BA)&&!By.length)||Ab(Bz,function(BG){return BG.footerTemplate}).length){BC.footerTemplate=BC._footerTmpl(Bz,BA,"footerTemplate","k-footer-template")}if(Bx&&Ab(Bz,function(BG){return BG.groupFooterTemplate}).length){BA=E.map(Bx,function(BG){return BG.aggregates});BC.groupFooterTemplate=BC._footerTmpl(BE,BA,"groupFooterTemplate","k-group-footer",BB.length);if(BD.scrollable&&BB.length){BC.lockedGroupFooterTemplate=BC._footerTmpl(BB,BA,"groupFooterTemplate","k-group-footer")}}if(BC.options.noRecords){BC.noRecordsTemplate=BC._noRecordsTmpl()}},_noRecordsTmpl:function(){var BD='<div class="{0}">{1}</div>';var BC='<div class="k-grid-norecords-template">{0}</div>';var BB={storage:{},count:0};var BF=E.extend({},AZ.Template,this.options.templateSettings);var Bx=BF.paramName;var By;var BE="";var BA;var Bz;if(this.options.noRecords.template){By=this.options.noRecords.template}else{By=AZ.format(BC,this.options.messages.noRecords)}BA=typeof By;if(BA==="function"){BB.storage["tmpl"+BB.count]=By;BE+="#=this.tmpl"+BB.count+"("+Bx+")#";BB.count++}else{if(BA==="string"){BE+=By}}Bz=AZ.template(AZ.format(BD,X,BE),BF);if(BB.count>0){Bz=E.proxy(Bz,BB.storage)}return Bz},_footerTmpl:function(BG,BF,BK,BE,BB){var BH=this,BJ=k({},AZ.Template,BH.options.templateSettings),BD=BJ.paramName,BM="",BO,Bx,BP,BN,Bz={},BA=0,BC={},By=BH._groups(),BL=BH.dataSource._emptyAggregates(BF),BI;BM+='<tr class="'+BE+'">';if(By>0&&!BB){BM+=c(By)}if(BH._hasDetails()){BM+='<td class="k-hierarchy-cell">&nbsp;</td>'}for(BO=0,Bx=BG.length;BO<Bx;BO++){BI=BG[BO];BP=BI[BK];BN=typeof BP;align="";if(!BI.hidden&&BI.align&&BI.align!=""){align="align='"+BI.align+"'"}BM+="<td"+g(BI.attributes)+" "+align+">";if(BP){if(BN!==F){BC=BL[BI.field]?k({},BJ,{paramName:BD+"['"+BI.field+"']"}):{};BP=AZ.template(BP,BC)}Bz["tmpl"+BA]=BP;BM+="#=this.tmpl"+BA+"("+BD+")#";BA++}else{BM+="&nbsp;"}BM+="</td>"}BM+="</tr>";BM=AZ.template(BM,BJ);if(BA>0){return T(BM,Bz)}return BM},_detailTmpl:function(Bz){var BA=this,BF="",By=k({},AZ.Template,BA.options.templateSettings),Bx=By.paramName,BC={},BE=0,BB=BA._groups(),BG=Be(Aq(BA.columns)).length,BD=typeof Bz;BF+='<tr class="k-detail-row">';if(BB>0){BF+=c(BB)}BF+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(BG?' colspan="'+BG+'"':"")+">";if(BD===F){BC["tmpl"+BE]=Bz;BF+="#=this.tmpl"+BE+"("+Bx+")#";BE++}else{BF+=Bz}BF+="</td></tr>";BF=AZ.template(BF,By);if(BE>0){return T(BF,BC)}return BF},_hasDetails:function(){var Bx=this;return Bx.options.detailTemplate!==null||(Bx._events[AY]||[]).length},_hasFilterRow:function(){var Bz=this.options.filterable;var By=Bz&&typeof Bz.mode==Bh&&Bz.mode.indexOf("row")!=-1;var BA=this.columns;var Bx=E.grep(BA,function(BB,BC){return BB.filterable===false});if(BA.length&&Bx.length==BA.length){By=false}return By},_details:function(){var Bx=this;if(Bx.options.scrollable&&Bx._hasDetails()&&t(Bx.columns).length){throw new Error("Having both detail template and locked columns is not supported")}Bx.table.on(Q+An,".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(By){var BD=E(this),BF=BD.hasClass("k-plus"),BB=BD.closest("tr.k-master-row"),BC,BE=Bx.detailTemplate,Bz,BA=Bx._hasDetails();BD.toggleClass("k-plus",!BF).toggleClass("k-minus",BF);BC=BB.next();if(BA&&!BC.hasClass("k-detail-row")){Bz=Bx.dataItem(BB);BC=E(BE(Bz)).addClass(BB.hasClass("k-alt")?"k-alt":"").insertAfter(BB);Bx.angular("compile",function(){return{elements:BC.get(),data:[{dataItem:Bz}]}});Bx.trigger(AY,{masterRow:BB,detailRow:BC,data:Bz,detailCell:BC.find(".k-detail-cell")})}Bx.trigger(BF?Ae:m,{masterRow:BB,detailRow:BC});BC.toggle(BF);if(Bx._current){Bx._current.attr("aria-expanded",BF)}By.preventDefault();return false})},dataItem:function(By){By=E(By)[0];if(!By){return null}var Bz=this.tbody.children(),BB=/k-grouping-row|k-detail-row|k-group-footer/,BA=By.sectionRowIndex,BC,Bx;Bx=BA;for(BC=0;BC<BA;BC++){if(BB.test(Bz[BC].className)){Bx--}}return this._data[Bx]},expandRow:function(Bx){E(Bx).find("> td .k-plus, > td .k-i-expand").click()},collapseRow:function(Bx){E(Bx).find("> td .k-minus, > td .k-i-collapse").click()},_createHeaderCells:function(BA,Bz){var BD=this,BB,BH,BE,BG="",BC,By=Aq(BD.columns),Bx;for(BB=0,BC=BA.length;BB<BC;BB++){BH=BA[BB].column||BA[BB];BE=BD._headerCellText(BH);Bx="";var BF=Au(BH,By);if(!BH.command&&!BH.checkbox){if(BH.field){Bx=AZ.attr("field")+"='"+BH.field+"' "}BG+="<th role='columnheader' "+Bx;if(Bz&&!BA[BB].colSpan){BG+=" rowspan='"+Bz+"'"}if(BA[BB].colSpan>1){BG+=' style="text-align:center" colspan="'+(BA[BB].colSpan-AW(BH.columns))+'" ';BG+=AZ.attr("colspan")+"='"+BA[BB].colSpan+"'"}if(BH.title){BG+=AZ.attr("title")+'="'+BH.title.replace(/'/g,"'")+'" '}if(BH.groupable!==AF){BG+=AZ.attr("groupable")+"='"+BH.groupable+"' "}if(BH.aggregates&&BH.aggregates.length){BG+=AZ.attr("aggregates")+"='"+BH.aggregates+"'"}if(BF>-1){BG+=AZ.attr("index")+"='"+BF+"'"}if(!BH.hidden&&BH.align&&BH.align!=""){BG+=" style='text-align:"+BH.align+"' "}BG+=g(BH.headerAttributes);BG+=">"+BE+"</th>"}else{BG+="<th"+g(BH.headerAttributes);if(Bz&&!BA[BB].colSpan){BG+=" rowspan='"+Bz+"'"}if(BF>-1){BG+=AZ.attr("index")+"='"+BF+"'"}BG+=">"+BE+"</th>"}}return BG},_appendLockedColumnContent:function(){var BA=this.columns,BB,BG=this.table.find("colgroup"),BE=BG.find("col:not(.k-group-col,.k-hierarchy-col)"),BC,By=E(),Bx=0,BF,BH,BD,Bz=0;for(BB=0,BC=BA.length;BB<BC;BB++){if(BA[BB].locked){if(B(BA[BB])){BH=1;if(BA[BB].columns){BH=Aq(BA[BB].columns).length-AW(BA[BB].columns)}BH=BH||1;for(BD=0;BD<BH;BD++){By=By.add(BE.eq(BB+Bz+BD-Bx))}Bz+=BH-1}else{Bx++}}}BF=E('<div class="k-grid-content-locked"><table'+(I?' cellspacing="0"':"")+"><colgroup/><tbody></tbody></table></div>");BG.detach();BF.find("colgroup").append(By);BG.insertBefore(this.table.find("tbody"));this.lockedContent=BF.insertBefore(this.content);this.lockedTable=BF.children("table")},_appendLockedColumnFooter:function(){var BD=this;var Bx=BD.footer;var BF=Bx.find(".k-footer-template>td");var BC=Bx.find(".k-grid-footer-wrap>table>colgroup>col");var BG=E('<div class="k-grid-footer-locked"><table><colgroup /><tbody><tr class="k-footer-template"></tr></tbody></table></div>');var BA,BB;var BE=BD._groups();var Bz=E(),By=E();Bz=Bz.add(BF.filter(".k-group-cell"));for(BA=0,BB=Aq(t(BD.columns)).length;BA<BB;BA++){Bz=Bz.add(BF.eq(BA+BE))}By=By.add(BC.filter(".k-group-col"));for(BA=0,BB=Aq(Av(BD.columns)).length;BA<BB;BA++){By=By.add(BC.eq(BA+BE))}Bz.appendTo(BG.find("tr"));By.appendTo(BG.find("colgroup"));BD.lockedFooter=BG.prependTo(Bx)},_appendLockedColumnHeader:function(BT){var BU=this,BH=this.columns,BV,BI,BL,BD,BM,Bx,BB,BC,BK,BF=[],BJ=0,BP=E(),BE=BU._hasFilterRow(),BG=0,By=E(),BS,BO=0,BW=E();BD=BU.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)");BC=BU.thead.find("tr:first .k-header:not(.k-group-cell,.k-hierarchy-cell)");BK=BU.thead.find(".k-filter-row").find("th:not(.k-group-cell,.k-hierarchy-cell)");var Bz=0;for(BV=0,BL=BH.length;BV<BL;BV++){if(BH[BV].locked){BS=BC.eq(BV);BO=Aq(BH[BV].columns||[]).length;if(B(BH[BV])){var BQ;if(BH[BV].columns){BQ=BO-AW(BH[BV].columns)}BQ=BQ||1;for(var BA=0;BA<BQ;BA++){BP=BP.add(BD.eq(BV+Bz+BA-BJ))}Bz+=BQ-1}Bt([BH[BV]],V(BS),BF,0,0);BO=BO||1;for(var BR=0;BR<BO;BR++){By=By.add(BK.eq(BG+BR))}BG+=BO}if(BH[BV].columns){BJ+=AW(BH[BV].columns)}if(!B(BH[BV])){BJ++}}if(BF.length){BI='<div class="k-grid-header-locked" style="width:1px"><table'+(I?' cellspacing="0"':"")+"><colgroup/><thead>";BI+=new Array(BF.length+1).join("<tr></tr>");BI+=(BE?'<tr class="k-filter-row" />':"")+"</thead></table></div>";BB=E(BI);BD=BB.find("colgroup");BD.append(BU.thead.prev().find("col.k-group-col").add(BP));BM=BB.find("thead tr:not(.k-filter-row)");for(BV=0,BL=BF.length;BV<BL;BV++){BW=P(BF[BV]);BM.eq(BV).append(BU.thead.find("tr:eq("+BV+") .k-group-cell").add(BW))}var BN=AO(this.thead);if(BF.length<BN){Bv(BB,BN-BF.length)}Bx=BB.find(".k-filter-row");Bx.append(BU.thead.find(".k-filter-row .k-group-cell").add(By));this.lockedHeader=BB.prependTo(BT);this.thead.find(".k-group-cell").remove();this._syncLockedHeaderHeight()}},_removeLockedContainers:function(){var Bx=this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);AZ.destroy(Bx);Bx.off(An).remove();this.lockedHeader=this.lockedContent=this.lockedFooter=null;this.selectable=null},_thead:function(){var BE=this,BA=BE.columns,Bz=BE._hasDetails()&&BA.length,BH=BE._hasFilterRow(),BB,BC,BK="",Bx=BE.table.find(">thead"),BL=BE.element.find("thead:first").length>0,BI,BF,By;if(!Bx.length){Bx=E("<thead/>").insertBefore(BE.tbody)}if(BE.lockedHeader&&BE.thead){BI=BE.thead.find("tr:has(th):not(.k-filter-row)").html("");BI.remove();BI=E();BE._removeLockedContainers()}else{if(BL){BI=BE.element.find("thead:first tr:has(th):not(.k-filter-row)")}else{BI=BE.element.find("tr:has(th):first")}}if(!BI.length){BI=Bx.children().first();if(!BI.length){var BD=[{rowSpan:1,cells:[],index:0}];BE._prepareColumns(BD,BA);for(BB=0;BB<BD.length;BB++){BK+="<tr>";if(Bz){BK+='<th class="k-hierarchy-cell">&nbsp;</th>'}BK+=BE._createHeaderCells(BD[BB].cells,BD[BB].rowSpan);BK+="</tr>"}BI=E(BK)}}if(BH){var BJ=E("<tr/>");BJ.addClass("k-filter-row");if(Bz||BI.find(".k-hierarchy-cell").length){BJ.prepend('<th class="k-hierarchy-cell">&nbsp;</th>')}var BG=(BE.thead||Bx).find(".k-filter-row");if(BG.length){AZ.destroy(BG);BG.remove()}Bx.append(BJ)}if(!BI.children().length){BK="";if(Bz){BK+='<th class="k-hierarchy-cell">&nbsp;</th>'}BK+=BE._createHeaderCells(BA);BI.html(BK)}else{if(Bz&&!BI.find(".k-hierarchy-cell")[0]){BI.prepend('<th class="k-hierarchy-cell">&nbsp;</th>')}}BI.attr("role","row").find("th").addClass("k-header");if(!BE.options.scrollable){Bx.addClass("k-grid-header")}BI.find("script").remove().end().prependTo(Bx);if(BE.thead){BE._destroyColumnAttachments()}this.angular("cleanup",function(){return{elements:Bx.find("th").get()}});this.angular("compile",function(){return{elements:Bx.find("th").get(),data:Bg(BA,function(BM){return{column:BM}})}});BE.thead=Bx.attr("role","rowgroup");BE._sortable();BE._filterable();BE._filterRow();BE._scrollable();BE._updateCols();BE._columnMenu();if(this.options.scrollable&&t(this.columns).length){BE._appendLockedColumnHeader(BE.thead.closest(".k-grid-header"));BE._appendLockedColumnContent();BE.lockedContent.bind("DOMMouseScroll"+An+" mousewheel"+An,T(BE._wheelScroll,BE));BE._applyLockedContainersWidth()}BE._updateColumnCellIndex();BE._updateFirstColumnClass();BE._resizable();BE._draggable();BE._reorderable();if(BE.groupable){BE._attachGroupable()}},_updateFirstColumnClass:function(){var Bx=this,BB=Bx.columns||[],BA=Bx._hasDetails()&&BB.length;if(!BA&&!Bx._groups()){var Bz=E();var By=Bx.thead.find(">tr:not(.k-filter-row):not(:first)");BB=Ap(BB);if(By.length&&BB[0]&&!BB[0].columns){Bz=Bz.add(By)}if(Bx._isLocked()){By=Bx.lockedHeader.find("thead>tr:not(.k-filter-row):not(:first)");BB=t(Bx.columns);if(By.length&&BB[0]&&!BB[0].columns){Bz=Bz.add(By)}}Bz.each(function(){var BC=E(this).find("th");BC.removeClass("k-first");BC.eq(0).addClass("k-first")})}},_prepareColumns:function(Bx,By,BD,BA){var BB=BA||Bx[Bx.length-1];var BC=Bx[BB.index+1];var BE=0;for(var Bz=0;Bz<By.length;Bz++){var BF={column:By[Bz],colSpan:0};BB.cells.push(BF);if(By[Bz].columns&&By[Bz].columns.length){if(!BC){BC={rowSpan:0,cells:[],index:Bx.length};Bx.push(BC)}BF.colSpan=By[Bz].columns.length;this._prepareColumns(Bx,By[Bz].columns,BF,BC);BE+=BF.colSpan-1;BB.rowSpan=Bx.length-BB.index}}if(BD){BD.colSpan+=BE}},_wheelScroll:function(By){if(By.ctrlKey){return}var BA=this.content;if(this.options.scrollable.virtual){BA=this.virtualScrollable.verticalScrollbar}var Bz=BA.scrollTop(),Bx=AZ.wheelDeltaY(By);if(Bx){By.preventDefault();E(By.currentTarget).one("wheel"+An,false);BA.scrollTop(Bz+(-Bx))}},_isLocked:function(){return this.lockedHeader!=null},_updateCols:function(Bx){Bx=Bx||this.thead.parent().add(this.table);this._appendCols(Bx,this._isLocked())},_updateLockedCols:function(Bx){if(this._isLocked()){Bx=Bx||this.lockedHeader.find("table").add(this.lockedTable);w(Bx,A7(Av(this.columns)),this._hasDetails(),this._groups())}},_appendCols:function(Bx,By){if(By){w(Bx,A7(Ah(this.columns)),this._hasDetails(),0)}else{w(Bx,A7(Be(this.columns)),this._hasDetails(),this._groups())}},_autoColumns:function(Bz){if(Bz&&Bz.toJSON){var Bx=this,By;Bz=Bz.toJSON();for(By in Bz){Bx.columns.push({field:By,headerAttributes:{id:AZ.guid()}})}Bx._thead();Bx._templates()}},_rowsHtml:function(By,Bx){var BC=this,BE="",Bz,BD=Bx.rowTemplate,BB=Bx.altRowTemplate,BA;for(Bz=0,BA=By.length;Bz<BA;Bz++){if(Bz%2){BE+=BB(By[Bz])}else{BE+=BD(By[Bz])}BC._data.push(By[Bz])}return BE},_groupRowHtml:function(BL,BJ,BN,BC,BA,BQ){var BO=this,BH="",BP,BK,By=BL.field,BI=Ab(Aq(BO.columns),function(BS){return BS.field==By})[0]||{},BR=BI.groupHeaderTemplate,BF=(BI.title||By)+": "+Ba(BL.value,BI.format,BI.values,BI.encoded),Bx=BO._groupAggregatesDefaultObject||{},BG=k({},Bx,BL.aggregates),Bz=k({},{field:BL.field,value:BL.value,aggregates:BG},BL.aggregates[BL.field]),BD=BA.rowTemplate,BM=BA.altRowTemplate,BB=BA.groupFooterTemplate,BE=BL.items;if(BR){BF=typeof BR===F?BR(Bz):AZ.template(BR)(Bz)}BH+=BC(BJ,BN,BF);if(BL.hasSubgroups){for(BP=0,BK=BE.length;BP<BK;BP++){BH+=BO._groupRowHtml(BE[BP],BQ?BJ:BJ-1,BN+1,BC,BA,BQ)}}else{BH+=BO._rowsHtml(BE,BA)}if(BB){BH+=BB(BG)}return BH},collapseGroup:function(BE){BE=E(BE);var BF,Bz=this.options.groupable,By=Bz.showFooter,BG=By?0:1,Bx,BD=E(),BB,BC,BA;if(this._isLocked()){if(!BE.closest("div").hasClass("k-grid-content-locked")){BD=BE.nextAll("tr");BE=this.lockedTable.find(">tbody>tr:eq("+BE.index()+")")}else{BD=this.tbody.children("tr:eq("+BE.index()+")").nextAll("tr")}}BF=BE.find(".k-group-cell").length;BE.find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse");BE.find("td[aria-expanded='true']:first").attr("aria-expanded",false);BE=BE.nextAll("tr");for(BB=0,BC=BE.length;BB<BC;BB++){BA=BE.eq(BB);Bx=BA.find(".k-group-cell").length;if(BA.hasClass("k-grouping-row")){BG++}else{if(BA.hasClass("k-group-footer")){BG--}}if(Bx<=BF||(BA.hasClass("k-group-footer")&&BG<0)){break}BA.hide();BD.eq(BB).hide()}},expandGroup:function(BF){BF=E(BF);var BE=this,By=BE.options.groupable.showFooter,BG,BA,Bx,BD=E(),BB,BC,BH=[],Bz=1;if(this._isLocked()){if(!BF.closest("div").hasClass("k-grid-content-locked")){BD=BF.nextAll("tr");BF=this.lockedTable.find(">tbody>tr:eq("+BF.index()+")")}else{BD=this.tbody.children("tr:eq("+BF.index()+")").nextAll("tr")}}BG=BF.find(".k-group-cell").length;BF.find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand");BF.find("td[aria-expanded='false']:first").attr("aria-expanded",true);BF=BF.nextAll("tr");for(BB=0,BC=BF.length;BB<BC;BB++){BA=BF.eq(BB);Bx=BA.find(".k-group-cell").length;if(Bx<=BG){break}if(Bx==BG+1&&!BA.hasClass("k-detail-row")){BA.show();BD.eq(BB).show();if(BA.hasClass("k-grouping-row")&&BA.find(".k-icon").hasClass("k-i-collapse")){BE.expandGroup(BA)}if(BA.hasClass("k-master-row")&&BA.find(".k-icon").hasClass("k-minus")){BA.next().show();BD.eq(BB+1).show()}}if(BA.hasClass("k-grouping-row")){if(By){BH.push(BA.is(":visible"))}Bz++}if(BA.hasClass("k-group-footer")){if(By){BA.toggle(BH.pop())}if(Bz==1){BA.show();BD.eq(BB).show()}else{Bz--}}}},_updateHeader:function(By){var Bz=this,BB=Bz._isLocked()?Bz.lockedHeader.find("thead"):Bz.thead,BA=BB.find("tr.k-filter-row").find("th.k-group-cell").length,Bx=BB.find("tr:first").find("th.k-group-cell").length,BC=BB.children("tr:not(:first)").filter(function(){return !E(this).children(":visible").length});if(By>Bx){E(new Array(By-Bx+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(BB.children("tr:not(.k-filter-row)"));if(Bz.element.is(":visible")){BC.find("th.k-group-cell").hide()}}else{if(By<Bx){BB.find("tr").each(function(){E(this).find("th.k-group-cell").filter(":eq("+By+"),:gt("+By+")").remove()})}}if(By>BA){E(new Array(By-BA+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(BB.find(".k-filter-row"))}},_firstDataItem:function(By,Bx){if(By&&Bx){if(By.hasSubgroups){By=this._firstDataItem(By.items[0],Bx)}else{By=By.items[0]}}return By},_updateTablesWidth:function(){var Bx=this,By;if(!Bx._isLocked()){return}By=E(">.k-grid-footer>.k-grid-footer-wrap>table",Bx.wrapper).add(Bx.thead.parent()).add(Bx.table);Bx._footerWidth=Bo(By.eq(0));By.width(Bx._footerWidth);By=E(">.k-grid-footer>.k-grid-footer-locked>table",Bx.wrapper).add(Bx.lockedHeader.find(">table")).add(Bx.lockedTable);By.width(Bo(By.eq(0)))},hideColumn:function(BE){var BM=this,BC,BG,BN,BL,Bz,BI,BO,BF=0,BA=[],By,Bx,BK=BM.footer||BM.wrapper.find(".k-grid-footer"),BH=BM.columns,BJ=BM.lockedHeader?D(BM.lockedHeader.find(">table>thead")).filter(AA).length:0,BD;if(typeof BE=="number"){BE=BH[BE]}else{if(AV(BE)){BE=Ab(Aw(BH),function(BP){return BP===BE})[0]}else{BE=Ab(Aw(BH),function(BP){return BP.field===BE})[0]}}if(!BE||!B(BE)){return}if(BE.columns&&BE.columns.length){BI=Bu(BE,BH);Ac(BE,false);AK(O(E(">table>thead",BM.lockedHeader),BM.thead,">tr:eq("+BI.row+")>th"),BI.cell,false);for(BN=0;BN<BE.columns.length;BN++){this.hideColumn(BE.columns[BN])}BM.trigger(Bs,{column:BE});return}BD=Au(BE,Be(Aq(BH)));Ac(BE,false);BM._setParentsVisibility(BE,false);BM._templates();BM._updateCols();BM._updateLockedCols();var BB=BM.thead;By=BD;if(BM.lockedHeader&&BJ>BD){BB=BM.lockedHeader.find(">table>thead")}else{By-=BJ}BC=D(BB).filter(AA).eq(By);BC[0].style.display="none";AK(O(E(">table>thead",BM.lockedHeader),BM.thead,">tr.k-filter-row>th"),BD,false);if(BK[0]){BM._updateCols(BK.find(">.k-grid-footer-wrap>table"));BM._updateLockedCols(BK.find(">.k-grid-footer-locked>table"));AK(BK.find(".k-footer-template>td"),BD,false)}if(BM.lockedTable&&BJ>BD){r(BM.lockedTable.find(">tbody>tr"),BD)}else{r(BM.tbody.children(),BD-BJ)}if(BM.lockedTable){BM._updateTablesWidth();BM._applyLockedContainersWidth();BM._syncLockedContentHeight();BM._syncLockedHeaderHeight();BM._syncLockedFooterHeight()}else{BL=BM.thead.prev().find("col");for(BN=0,Bx=BL.length;BN<Bx;BN+=1){Bz=BL[BN].style.width;if(Bz&&Bz.indexOf("%")==-1){BF+=parseInt(Bz,10)}else{BF=0;break}}BG=E(">.k-grid-header table:first,>.k-grid-footer table:first",BM.wrapper).add(BM.table);BM._footerWidth=null;if(BF){BG.each(function(){this.style.width=BF+"px"});BM._footerWidth=BF}if(Bn.msie&&Bn.version==8){BG.css("display","inline-table");setTimeout(function(){BG.css("display","table")},1)}}BM._updateFirstColumnClass();BM.trigger(Bs,{column:BE})},_setParentsVisibility:function(Bz,BE){var BA=this.columns;var BB;var BC=[];var BF;var BD;var BG;var By;var Bx=BE?function(BH){return Be(BH.columns).length&&BH.hidden}:function(BH){return !Be(BH.columns).length&&!BH.hidden};if(AC(Bz,BA,BC)&&BC.length){for(BB=BC.length-1;BB>=0;BB--){BF=BC[BB];BD=b(BF,BA);BG=O(E(">table>thead",this.lockedHeader),this.thead,">tr:eq("+BD.row+")>th:not(.k-group-cell):not(.k-hierarchy-cell)").eq(BD.cell);if(Bx(BF)){Ac(BF,BE);BG[0].style.display=BE?"":"none"}if(BG.filter("["+AZ.attr("colspan")+"]").length){By=parseInt(BG.attr(AZ.attr("colspan")),10);BG[0].colSpan=(By-AW(BF.columns))||1}}}},showColumn:function(BE){var BL=this,BM,Bx,BC,BG,BF,BN,By,BI,Bz,BK,BH=BL.columns,BJ=BL.footer||BL.wrapper.find(".k-grid-footer"),BA=BL.lockedHeader?D(BL.lockedHeader.find(">table>thead")).length:0,BD;if(typeof BE=="number"){BE=BH[BE]}else{if(AV(BE)){BE=Ab(Aw(BH),function(BO){return BO===BE})[0]}else{BE=Ab(Aw(BH),function(BO){return BO.field===BE})[0]}}if(!BE||B(BE)){return}if(BE.columns&&BE.columns.length){BI=b(BE,BH);Ac(BE,true);AK(O(E(">table>thead",BL.lockedHeader),BL.thead,">tr:eq("+BI.row+")>th"),BI.cell,true);for(BM=0;BM<BE.columns.length;BM++){this.showColumn(BE.columns[BM])}BL.trigger(Al,{column:BE});return}BD=Au(BE,Aq(BH));Ac(BE,true);BL._setParentsVisibility(BE,true);BL._templates();BL._updateCols();BL._updateLockedCols();var BB=BL.thead;By=BD;if(BL.lockedHeader&&BA>BD){BB=BL.lockedHeader.find(">table>thead")}else{By-=BA}BC=D(BB).eq(By);BC[0].style.display="";AK(O(E(">table>thead",BL.lockedHeader),BL.thead,">tr.k-filter-row>th"),BD,true);if(BJ[0]){BL._updateCols(BJ.find(">.k-grid-footer-wrap>table"));BL._updateLockedCols(BJ.find(">.k-grid-footer-locked>table"));AK(BJ.find(".k-footer-template>td"),BD,true)}if(BL.lockedTable&&BA>BD){Bk(BL.lockedTable.find(">tbody>tr"),BD)}else{Bk(BL.tbody.children(),BD-BA)}if(BL.lockedTable){BL._updateTablesWidth();BL._applyLockedContainersWidth();BL._syncLockedContentHeight();BL._syncLockedHeaderHeight()}else{BG=E(">.k-grid-header table:first,>.k-grid-footer table:first",BL.wrapper).add(BL.table);if(!BE.width){BG.width("")}else{BF=0;BK=BL.thead.prev().find("col");for(BM=0,Bx=BK.length;BM<Bx;BM+=1){Bz=BK[BM].style.width;if(Bz.indexOf("%")>-1){BF=0;break}BF+=parseInt(Bz,10)}BL._footerWidth=null;if(BF){BG.each(function(){this.style.width=BF+"px"});BL._footerWidth=BF}}}BL._updateFirstColumnClass();BL.trigger(Al,{column:BE})},_progress:function(Bx){var By=this.element;if(this.lockedContent){By=this.wrapper}else{if(this.element.is("table")){By=this.element.parent()}else{if(this.content&&this.content.length){By=this.content}}}AZ.ui.progress(By,Bx)},_resize:function(Bx,By){if(this.content){this._setContentWidth();this._setContentHeight()}if(this.virtualScrollable&&(By||this._rowHeight)){if(By){this._rowHeight=null}this.virtualScrollable.repaintScrollbar()}},_isActiveInTable:function(){var Bx=x();return this.table[0]===Bx||E.contains(this.table[0],Bx)||(this._isLocked()&&(this.lockedTable[0]===Bx||E.contains(this.lockedTable[0],Bx)))},refresh:function(Bx){var BE=this,BD,BC,BI="",BB=BE.dataSource.view(),BG=BE.options.navigatable,BA,BH=E(BE.current()),BF=false,By=(BE.dataSource.group()||[]).length,Bz=BE.content&&BE.content.scrollLeft(),BJ=By+A7(Be(BE.columns)).length;if(Bx&&Bx.action==="itemchange"&&BE.editable){return}Bx=Bx||{};if(BE.trigger("dataBinding",{action:Bx.action||"rebind",index:Bx.index,items:Bx.items})){return}BE._angularItems("cleanup");if(BG&&(BE._isActiveInTable()||(BE._editContainer&&BE._editContainer.data("kendoWindow")))){BF=BH.is("th");BA=Math.max(BE.cellIndex(BH),0)}BE._destroyEditable();BE._progress(false);BE._hideResizeHandle();BE._data=[];if(!BE.columns.length){BE._autoColumns(BE._firstDataItem(BB[0],By));BJ=By+BE.columns.length}BE._group=By>0||BE._group;if(BE._group){BE._templates();BE._updateCols();BE._updateLockedCols();BE._updateHeader(By);BE._group=By>0}BE._renderContent(BB,BJ,By);BE._renderLockedContent(BB,BJ,By);BE._footer();BE._renderNoRecordsContent();BE._setContentHeight();BE._setContentWidth(Bz);if(BE.lockedTable){if(BE.options.scrollable.virtual){BE.content.find(">.k-virtual-scrollable-wrap").trigger("scroll")}else{if(BE.touchScroller){BE.touchScroller.movable.trigger("change")}else{BE.content.trigger("scroll")}}}BE._restoreCurrent(BA,BF);if(BE.touchScroller){BE.touchScroller.contentResized()}if(BE.selectable){BE.selectable.resetTouchEvents()}BE._angularItems("compile");BE.trigger(G)},_restoreCurrent:function(BA,Bx){if(BA===AF||BA<0){return}this._removeCurrent();if(Bx){this.current(this.thead.find("th:not(.k-group-cell)").eq(BA))}else{var By=0;if(this._rowVirtualIndex){By=this.virtualScrollable.position(this._rowVirtualIndex)}else{BA=0}var Bz=E();if(this.lockedTable){Bz=this.lockedTable.find(">tbody>tr").eq(By)}Bz=Bz.add(this.tbody.children().eq(By));var BB=Bz.find(">td:not(.k-group-cell):not(.k-hierarchy-cell)").eq(BA);this.current(BB)}if(this._current){W(this._current.closest("table")[0],true)}},_angularItems:function(Bx){AZ.ui.DataBoundWidget.fn._angularItems.call(this,Bx);if(Bx==="cleanup"){this._cleanupDetailItems()}this._angularGroupItems(Bx)},_cleanupDetailItems:function(){var Bx=this;if(Bx._hasDetails()){Bx.angular("cleanup",function(){return{elements:Bx.tbody.children(".k-detail-row")}});Bx.tbody.find(".k-detail-cell").empty()}},_angularGroupItems:function(By){var Bx=this;if(Bx._group){Bx.angular(By,function(){return{elements:Bx.tbody.children(".k-grouping-row"),data:E.map(A9(Bx.dataSource.view()),function(Bz){return{dataItem:Bz}})}})}},_renderContent:function(Bz,BD,Bx){var BC=this,BA,BB,BF="",BE=BC.lockedContent!=null,By={rowTemplate:BC.rowTemplate,altRowTemplate:BC.altRowTemplate,groupFooterTemplate:BC.groupFooterTemplate};BD=BE?BD-A7(Av(BC.columns)).length:BD;if(Bx>0){BD=BE?BD-Bx:BD;if(BC.detailTemplate){BD++}if(BC.groupFooterTemplate){BC._groupAggregatesDefaultObject=BC.dataSource.aggregates()}for(BA=0,BB=Bz.length;BA<BB;BA++){BF+=BC._groupRowHtml(Bz[BA],BD,0,BE?Bm:A1,By,BE)}}else{BF+=BC._rowsHtml(Bz,By)}BC.tbody=v(BC.tbody,BC.table,BF,this.options.$angular)},_renderLockedContent:function(Bz,BC,Bx){var BD="",BA,BB,By={rowTemplate:this.lockedRowTemplate,altRowTemplate:this.lockedAltRowTemplate,groupFooterTemplate:this.lockedGroupFooterTemplate};if(this.lockedContent){var BE=this.lockedTable;if(Bx>0){BC=BC-Be(Aq(Ap(this.columns))).length;for(BA=0,BB=Bz.length;BA<BB;BA++){BD+=this._groupRowHtml(Bz[BA],BC,0,A1,By)}}else{BD=this._rowsHtml(Bz,By)}v(BE.children("tbody"),BE,BD,this.options.$angular);this._syncLockedContentHeight()}},_adjustRowsHeight:function(BH,BI){var By=BH[0].rows,BC=By.length,BB,Bz=BI[0].rows,Bx=BH.add(BI),BE=Bx.length,BD=[];for(BB=0;BB<BC;BB++){if(!Bz[BB]){break}if(By[BB].style.height){By[BB].style.height=Bz[BB].style.height=""}var BG=By[BB].offsetHeight;var BF=Bz[BB].offsetHeight;var BA=0;if(BG>BF){BA=BG}else{if(BG<BF){BA=BF}}BD.push(BA)}for(BB=0;BB<BE;BB++){Bx[BB].style.display="none"}for(BB=0;BB<BC;BB++){if(BD[BB]){By[BB].style.height=Bz[BB].style.height=(BD[BB]+1)+"px"}}for(BB=0;BB<BE;BB++){Bx[BB].style.display=""}},getSelected:function(){var Bx=this;return Bx.dataItem(Bx.select())},getChecked:function(){var Bx=this;var By=[];if(Bx.lockedContent){Bx.lockedContent.find("[data-type='ck']").closest("tr").each(function(BB){var Bz=E(this).find("[data-type='ck']");if(Bz.length&&Bz.is(":checked")){var BA=Bx.dataItem(this);By.push(BA)}})}if(Bx.tbody){Bx.tbody.find("[data-type='ck']").closest("tr").each(function(BB){var Bz=E(this).find("[data-type='ck']");if(Bz.length&&Bz.is(":checked")){var BA=Bx.dataItem(this);By.push(BA)}})}return By},clearChecked:function(){var Bx=this;var By=[];if(Bx.lockedContent){Bx.lockedContent.find("[data-type='ck']").closest("tr").each(function(BA){var Bz=E(this).find("[data-type='ck']");Bz.removeAttr("checked")})}if(Bx.tbody){Bx.tbody.find("[data-type='ck']").closest("tr").each(function(BA){var Bz=E(this).find("[data-type='ck']");Bz.removeAttr("checked")})}return By}});if(AZ.ExcelMixin){AZ.ExcelMixin.extend(AG.prototype)}if(AZ.PDFMixin){AZ.PDFMixin.extend(AG.prototype);AG.prototype._drawPDF=function(BC){var Bx=new E.Deferred();var BD=this;var BE=BD.dataSource;var By=BD.options.pdf.allPages;this._initPDFProgress(BC);var BA=new AZ.drawing.Group();var BB=BE.page();function Bz(){if(By&&BB!==AF){BE.unbind("change",BF);BE.one("change",function(){Bx.resolve(BA)});BE.page(BB)}else{Bx.resolve(BA)}}function BF(){BD._drawPDFShadow({width:BD.wrapper.width()}).done(function(BG){var BH=BE.page();var BI=By?BE.totalPages():1;var BJ={page:BG,pageNumber:BH,progress:BH/BI,totalPages:BI};BC.notify(BJ);BA.append(BJ.page);if(BH<BI){BE.page(BH+1)}else{Bz()}}).fail(function(BG){Bx.reject(BG)})}if(By){BE.bind("change",BF);BE.page(1)}else{BF()}return Bx.promise()};AG.prototype._initPDFProgress=function(Bx){var Bz=E("<div class='k-loading-pdf-mask'><div class='k-loading-color'/></div>");Bz.prepend(this.wrapper.clone().css({position:"absolute",top:0,left:0}));this.wrapper.append(Bz);var By=E("<div class='k-loading-pdf-progress'>").appendTo(Bz).kendoProgressBar({type:"chunk",chunkCount:10,min:0,max:1,value:0}).data("kendoProgressBar");Bx.progress(function(BA){By.value(BA.progress)}).always(function(){AZ.destroy(Bz);Bz.remove()})}}function A6(BC,BA){BC=BC[0];BA=BA[0];if(BC.rows.length!==BA.rows.length){var Bx=BC.offsetHeight;var By=BA.offsetHeight;var Bz;var BB;if(Bx>By){Bz=BA.rows[BA.rows.length-1];if(L.test(Bz.className)){Bz=BA.rows[BA.rows.length-2]}BB=Bx-By}else{Bz=BC.rows[BC.rows.length-1];if(L.test(Bz.className)){Bz=BC.rows[BC.rows.length-2]}BB=By-Bx}Bz.style.height=Bz.offsetHeight+BB+"px"}}function s(BB,Bz){var Bx;var BA=BB.offsetHeight;var By=Bz.offsetHeight;if(BA>By){Bx=BA+"px"}else{if(BA<By){Bx=By+"px"}}if(Bx){BB.style.height=Bz.style.height=Bx}}function f(BA,Bz){var BB,By,Bx;if(typeof BA===Bh&&BA===Bz){return BA}if(AV(BA)&&BA.name===Bz){return BA}if(z(BA)){for(BB=0,By=BA.length;BB<By;BB++){Bx=BA[BB];if((typeof Bx===Bh&&Bx===Bz)||(Bx.name===Bz)){return Bx}}}return null}function W(BB,By){var Bz=Bn.msie;if(By===true){BB=E(BB);var BC=true||Bz&&BB.parent().is(".k-grid-content,.k-grid-header-wrap"),BA,BD;if(BC){BA=BB.parent().scrollTop();BD=BB.parent().scrollLeft()}if(Bz){try{BB[0].setActive()}catch(Bx){BB[0].focus()}}else{BB[0].focus()}if(BC){BB.parent().scrollTop(BA);BB.parent().scrollLeft(BD)}}else{E(BB).one("focusin",function(BE){BE.preventDefault()}).focus()}}function o(By){var BC=E(By.currentTarget),BA=BC.is("th"),Bx=this.table.add(this.lockedTable),Bz=this.thead.parent().add(E(">table",this.lockedHeader)),BD=E(By.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap"),BB=BC.closest("table")[0];if(AZ.support.touch){return}if(BD&&BC.find(AZ.roleSelector("filtercell")).length){this.current(BC);return}if(BB!==Bx[0]&&BB!==Bx[1]&&BB!==Bz[0]&&BB!==Bz[1]){return}if(E(By.target).is("a.k-i-collapse, a.k-i-expand")){return}if(this.options.navigatable){this.current(BC)}if(BA||!BD){setTimeout(function(){if(!(C&&E(AZ._activeElement()).hasClass("k-widget"))){W(BB,true)}})}if(BA){By.preventDefault()}}function H(Bx){return Bx.parent().children(AH).index(Bx)}function p(Bx){return Bx&&(Bx.hasClass("k-edit-cell")||Bx.parent().hasClass("k-grid-edit-row"))}function A1(Bz,Bx,By){return'<tr role="row" class="k-grouping-row">'+c(Bx)+'<td colspan="'+Bz+'" aria-expanded="true"><p class="k-reset"><a class="k-icon k-i-collapse" href="#" tabindex="-1"></a>'+By+"</p></td></tr>"}function Bm(Bz,Bx,By){return'<tr role="row" class="k-grouping-row"><td colspan="'+Bz+'" aria-expanded="true"><p class="k-reset">&nbsp;</p></td></tr>'}Ax.plugin(AG);Ax.plugin(Y)})(window.kendo.jQuery);(function(U,T){var K=window.kendo,B="change",J="cancel",Y="dataBound",L="dataBinding",R=K.ui.Widget,P=K.keys,H=">*",O="progress",A="error",Q="k-state-focused",D="k-state-selected",G="k-edit-item",X="string",S="edit",Z="remove",V="save",W="click",N=".kendoListView",E=U.proxy,M=K._activeElement,I=K.ui.progress,F=K.data.DataSource;var C=K.ui.DataBoundWidget.extend({init:function(c,b){var a=this;b=U.isArray(b)?{dataSource:b}:b;R.fn.init.call(a,c,b);b=a.options;a.wrapper=c=a.element;if(c[0].id){a._itemId=c[0].id+"_lv_active"}a._element();a._dataSource();a._templates();a._navigatable();a._selectable();a._pageable();a._crudHandlers();if(a.options.autoBind){a.dataSource.fetch()}K.notify(a)},events:[B,J,L,Y,S,Z,V],options:{name:"ListView",autoBind:true,selectable:false,navigatable:false,template:"",altTemplate:"",editTemplate:""},setOptions:function(a){R.fn.setOptions.call(this,a);this._templates();if(this.selectable){this.selectable.destroy();this.selectable=null}this._selectable()},_templates:function(){var a=this.options;this.template=K.template(a.template||"");this.altTemplate=K.template(a.altTemplate||a.template);this.editTemplate=K.template(a.editTemplate||"")},_item:function(a){return this.element.children()[a]()},items:function(){return this.element.children()},dataItem:function(b){var c=K.attr("uid");var a=U(b).closest("["+c+"]").attr(c);return this.dataSource.getByUid(a)},setDataSource:function(a){this.options.dataSource=a;this._dataSource();if(this.options.autoBind){a.fetch()}},_unbindDataSource:function(){var a=this;a.dataSource.unbind(B,a._refreshHandler).unbind(O,a._progressHandler).unbind(A,a._errorHandler)},_dataSource:function(){var a=this;if(a.dataSource&&a._refreshHandler){a._unbindDataSource()}else{a._refreshHandler=E(a.refresh,a);a._progressHandler=E(a._progress,a);a._errorHandler=E(a._error,a)}a.dataSource=F.create(a.options.dataSource).bind(B,a._refreshHandler).bind(O,a._progressHandler).bind(A,a._errorHandler)},_progress:function(){I(this.element,true)},_error:function(){I(this.element,false)},_element:function(){this.element.addClass("k-widget k-listview").attr("role","listbox")},refresh:function(c){var h=this,a=h.dataSource.view(),d,l,n,m="",f,g,b=h.template,k=h.altTemplate,j=M();c=c||{};if(c.action==="itemchange"){if(!h._hasBindingTarget()&&!h.editable){d=c.items[0];n=h.items().filter("["+K.attr("uid")+"="+d.uid+"]");if(n.length>0){f=n.index();h.angular("cleanup",function(){return{elements:[n]}});n.replaceWith(b(d));n=h.items().eq(f);n.attr(K.attr("uid"),d.uid);h.angular("compile",function(){return{elements:[n],data:[{dataItem:d}]}});h.trigger("itemChange",{item:n,data:d})}}return}if(h.trigger(L,{action:c.action||"rebind",items:c.items,index:c.index})){return}h._angularItems("cleanup");h._destroyEditable();for(f=0,g=a.length;f<g;f++){if(f%2){m+=k(a[f])}else{m+=b(a[f])}}h.element.html(m);l=h.items();for(f=0,g=a.length;f<g;f++){l.eq(f).attr(K.attr("uid"),a[f].uid).attr("role","option").attr("aria-selected","false")}if(h.element[0]===j&&h.options.navigatable){h.current(l.eq(0))}h._angularItems("compile");h.trigger(Y)},_pageable:function(){var a=this,b=a.options.pageable,c,d;if(U.isPlainObject(b)){d=b.pagerId;c=U.extend({},b,{dataSource:a.dataSource,pagerId:null});a.pager=new K.ui.Pager(U("#"+d),c)}},_selectable:function(){var b=this,e,d,c=b.options.selectable,a=b.options.navigatable;if(c){e=K.ui.Selectable.parseOptions(c).multiple;b.selectable=new K.ui.Selectable(b.element,{aria:true,multiple:e,filter:H,change:function(){b.trigger(B)}});if(a){b.element.on("keydown"+N,function(f){if(f.keyCode===P.SPACEBAR){d=b.current();if(f.target==f.currentTarget){f.preventDefault()}if(e){if(!f.ctrlKey){b.selectable.clear()}else{if(d&&d.hasClass(D)){d.removeClass(D);return}}}else{b.selectable.clear()}b.selectable.value(d)}})}}},current:function(a){var b=this,d=b.element,c=b._current,e=b._itemId;if(a===T){return c}if(c&&c[0]){if(c[0].id===e){c.removeAttr("id")}c.removeClass(Q);d.removeAttr("aria-activedescendant")}if(a&&a[0]){e=a[0].id||e;b._scrollTo(a[0]);d.attr("aria-activedescendant",e);a.addClass(Q).attr("id",e)}b._current=a},_scrollTo:function(e){var b=this,c,a=false,d="scroll";if(b.wrapper.css("overflow")=="auto"||b.wrapper.css("overflow")==d){c=b.wrapper[0]}else{c=window;a=true}var f=function(l,h){var k=a?U(e).offset()[l.toLowerCase()]:e["offset"+l],g=e["client"+h],m=U(c)[d+l](),j=U(c)[h.toLowerCase()]();if(k+g>m+j){U(c)[d+l](k+g-j)}else{if(k<m){U(c)[d+l](k)}}};f("Top","Height");f("Left","Width")},_navigatable:function(){var a=this,b=a.options.navigatable,c=a.element,d=function(f){a.current(U(f.currentTarget));if(!U(f.target).is(":button,a,:input,a>.k-icon,textarea")){c.focus()}};if(b){a._tabindex();c.on("focus"+N,function(){var e=a._current;if(!e||!e.is(":visible")){e=a._item("first")}a.current(e)}).on("focusout"+N,function(){if(a._current){a._current.removeClass(Q)}}).on("keydown"+N,function(f){var q=f.keyCode,h=a.current(),p=U(f.target),g=!p.is(":button,textarea,a,a>.t-icon,input"),l=p.is(":text"),n=K.preventDefault,j=c.find("."+G),o=M(),k;if((!g&&!l&&P.ESC!=q)||(l&&P.ESC!=q&&P.ENTER!=q)){return}if(P.UP===q||P.LEFT===q){if(h){h=h.prev()}a.current(!h||!h[0]?a._item("last"):h);n(f)}else{if(P.DOWN===q||P.RIGHT===q){if(h){h=h.next()}a.current(!h||!h[0]?a._item("first"):h);n(f)}else{if(P.PAGEUP===q){a.current(null);a.dataSource.page(a.dataSource.page()-1);n(f)}else{if(P.PAGEDOWN===q){a.current(null);a.dataSource.page(a.dataSource.page()+1);n(f)}else{if(P.HOME===q){a.current(a._item("first"));n(f)}else{if(P.END===q){a.current(a._item("last"));n(f)}else{if(P.ENTER===q){if(j.length!==0&&(g||l)){k=a.items().index(j);if(o){o.blur()}a.save();var m=function(){a.element.trigger("focus");a.current(a.items().eq(k))};a.one("dataBound",m)}else{if(a.options.editTemplate!==""){a.edit(h)}}}else{if(P.ESC===q){j=c.find("."+G);if(j.length===0){return}k=a.items().index(j);a.cancel();a.element.trigger("focus");a.current(a.items().eq(k))}}}}}}}}});c.on("mousedown"+N+" touchstart"+N,H,E(d,a))}},clearSelection:function(){var a=this;a.selectable.clear();a.trigger(B)},select:function(c){var a=this,b=a.selectable;c=U(c);if(c.length){if(!b.options.multiple){b.clear();c=c.first()}b.value(c);return}return b.value()},_destroyEditable:function(){var a=this;if(a.editable){a.editable.destroy();delete a.editable}},_modelFromElement:function(b){var a=b.attr(K.attr("uid"));return this.dataSource.getByUid(a)},_closeEditable:function(f){var g=this,b=g.editable,e,h,d,a=g.template,c=true;if(b){if(f){c=b.end()}if(c){if(b.element.index()%2){a=g.altTemplate}g.angular("cleanup",function(){return{elements:[b.element]}});e=g._modelFromElement(b.element);g._destroyEditable();d=b.element.index();b.element.replaceWith(a(e));h=g.items().eq(d);h.attr(K.attr("uid"),e.uid);if(g._hasBindingTarget()){K.bind(h,e)}g.angular("compile",function(){return{elements:[h],data:[{dataItem:e}]}})}}return c},edit:function(c){var a=this,f=a._modelFromElement(c),e,b=f.uid,d;a.cancel();c=a.items().filter("["+K.attr("uid")+"="+b+"]");d=c.index();c.replaceWith(a.editTemplate(f));e=a.items().eq(d).addClass(G).attr(K.attr("uid"),f.uid);a.editable=e.kendoEditable({model:f,clearContainer:false,errorTemplate:false,target:a}).data("kendoEditable");a.trigger(S,{model:f,item:e})},save:function(){var b=this,a=b.editable,c;if(!a){return}a=a.element;c=b._modelFromElement(a);if(!b.trigger(V,{model:c,item:a})&&b._closeEditable(true)){b.dataSource.sync()}},remove:function(c){var a=this,b=a.dataSource,d=a._modelFromElement(c);if(a.editable){b.cancelChanges(a._modelFromElement(a.editable.element));a._closeEditable(false)}if(!a.trigger(Z,{model:d,item:c})){c.hide();b.remove(d);b.sync()}},add:function(){var a=this,b=a.dataSource,c=b.indexOf((b.view()||[])[0]);if(c<0){c=0}a.cancel();b.insert(c,{});a.edit(a.element.children().first())},cancel:function(){var a=this,b=a.dataSource;if(a.editable){var c=a.editable.element;var d=a._modelFromElement(c);if(!a.trigger(J,{model:d,container:c})){b.cancelChanges(d);a._closeEditable(false)}}},_crudHandlers:function(){var a=this,b=W+N;a.element.on(b,".k-edit-button",function(c){var d=U(this).closest("["+K.attr("uid")+"]");a.edit(d);c.preventDefault()});a.element.on(b,".k-delete-button",function(c){var d=U(this).closest("["+K.attr("uid")+"]");a.remove(d);c.preventDefault()});a.element.on(b,".k-update-button",function(c){a.save();c.preventDefault()});a.element.on(b,".k-cancel-button",function(c){a.cancel();c.preventDefault()})},destroy:function(){var a=this;R.fn.destroy.call(a);a._unbindDataSource();a._destroyEditable();a.element.off(N);if(a.pager){a.pager.destroy()}K.destroy(a.element)}});K.ui.plugin(C)})(window.kendo.jQuery);(function(S,U){var N=window.kendo,L=N.ui.Widget,e=N.antiForgeryTokens,V=N.logToConsole,I=/\.([^\.]+)$/,g=".kendoUpload",G="select",B="upload",D="success",W="error",d="complete",c="cancel",K="progress",P="remove";var M=L.extend({init:function(p,m){var l=this;L.fn.init.call(l,p,m);l.name=p.name;l.multiple=l.options.multiple;l.localization=l.options.localization;var o=l.element;l.wrapper=o.closest(".k-upload");if(l.wrapper.length===0){l.wrapper=l._wrapInput(o)}l._activeInput(o);l.toggle(l.options.enabled);var k=l._ns=g+"-"+N.guid();o.closest("form").on("submit"+k,S.proxy(l._onParentFormSubmit,l)).on("reset"+k,S.proxy(l._onParentFormReset,l));if(l.options.async.saveUrl){l._module=l._supportsFormData()?new Y(l):new f(l);l._async=true;var n=l.options.files;if(n.length>0){l._renderInitialFiles(n)}}else{l._module=new j(l)}if(l._supportsDrop()){l._setupDropZone()}l.wrapper.on("click",".k-upload-action",S.proxy(l._onFileAction,l)).on("click",".k-upload-selected",S.proxy(l._onUploadSelected,l));if(l.element.val()){l._onInputChange({target:l.element})}},events:[G,B,D,W,d,c,K,P],options:{name:"Upload",enabled:true,multiple:true,showFileList:true,template:"",files:[],async:{removeVerb:"POST",autoUpload:true,withCredentials:true},localization:{"select":"Select files...","cancel":"Cancel","retry":"Retry","remove":"Remove","uploadSelectedFiles":"Upload files","dropFilesHere":"drop files here to upload","statusUploading":"uploading","statusUploaded":"uploaded","statusWarning":"warning","statusFailed":"failed","headerStatusUploading":"Uploading...","headerStatusUploaded":"Done"}},setOptions:function(l){var k=this,m=k.element;L.fn.setOptions.call(k,l);k.multiple=k.options.multiple;m.attr("multiple",k._supportsMultiple()?k.multiple:false);k.toggle(k.options.enabled)},enable:function(k){k=typeof(k)==="undefined"?true:k;this.toggle(k)},disable:function(){this.toggle(false)},toggle:function(k){k=typeof(k)==="undefined"?k:!k;this.wrapper.toggleClass("k-state-disabled",k);this.element.prop("disabled",k)},destroy:function(){var k=this;S(document).add(S(".k-dropzone",k.wrapper)).add(k.wrapper.closest("form")).off(k._ns);S(k.element).off(g);L.fn.destroy.call(k)},_addInput:function(k){if(!k[0].nodeType){return}var l=this,m=k.clone().val("");m.insertAfter(l.element).data("kendoUpload",l);S(l.element).hide().attr("tabindex","-1").removeAttr("id").off(g);l._activeInput(m);l.element.focus()},_activeInput:function(m){var l=this,k=l.wrapper;l.element=m;m.attr("multiple",l._supportsMultiple()?l.multiple:false).attr("autocomplete","off").on("click"+g,function(n){if(k.hasClass("k-state-disabled")){n.preventDefault()}}).on("focus"+g,function(){S(this).parent().addClass("k-state-focused")}).on("blur"+g,function(){S(this).parent().removeClass("k-state-focused")}).on("change"+g,S.proxy(l._onInputChange,l)).on("keydown"+g,S.proxy(l._onInputKeyDown,l))},_onInputKeyDown:function(k){var l=this;var m=l.wrapper.find(".k-upload-action:first");if(k.keyCode===N.keys.TAB&&m.length>0){k.preventDefault();m.focus()}},_onInputChange:function(k){var l=this;var m=S(k.target);var n=C(l._inputFiles(m),l._isAsyncNonBatch());var o=l.trigger(G,{files:n});if(o){l._addInput(m);m.remove()}else{l._module.onSelect({target:m},n)}},_onDrop:function(l){var k=l.originalEvent.dataTransfer;var m=this;var n=k.files;var o=C(X(n),m._isAsyncNonBatch());F(l);if(n.length>0){if(!m.multiple&&o.length>1){o.splice(1,o.length-1)}var p=m.trigger(G,{files:o});if(!p){m._module.onSelect({target:S(".k-dropzone",m.wrapper)},o)}}},_isAsyncNonBatch:function(){return(this._async&&!this.options.async.batch)||false},_renderInitialFiles:function(n){var l=this;var m=0;n=C(n,true);for(m=0;m<n.length;m++){var o=n[m];var k=l._enqueueFile(o.name,{fileNames:[o]});k.addClass("k-file-success").data("files",[n[m]]);S(".k-progress",k).width("100%");if(!l.options.template){S(".k-upload-status",k).prepend("<span class='k-upload-pct'>100%</span>")}if(l._supportsRemove()){l._fileAction(k,P)}}},_prepareTemplateData:function(l,p){var k=p.fileNames,o={},m=0,n=0;for(n=0;n<k.length;n++){m+=k[n].size}o.name=l;o.size=m;o.files=p.fileNames;return o},_prepareDefaultFileEntryTemplate:function(l,n){var k="";var m=S("<li class='k-file'><span class='k-progress'></span><span class='k-icon'></span><span class='k-filename' title='"+l+"'>"+l+"</span><strong class='k-upload-status'></strong></li>");if(n.fileNames.length==1&&!!n.fileNames[0].extension){k=n.fileNames[0].extension.substring(1);S(".k-icon",m).addClass("k-i-"+k)}return m},_enqueueFile:function(l,n){var r=this;var p;var u;var m=n.fileNames[0].uid;var k=S(".k-upload-files",r.wrapper);var s=r.options;var o=s.template;var q;var t;if(k.length===0){k=S("<ul class='k-upload-files k-reset'></ul>").appendTo(r.wrapper);if(!r.options.showFileList){k.hide()}r.wrapper.removeClass("k-upload-empty")}p=S(".k-file",k);if(!o){u=r._prepareDefaultFileEntryTemplate(l,n)}else{q=r._prepareTemplateData(l,n);o=N.template(o);u=S("<li class='k-file'>"+o(q)+"</li>");u.find(".k-upload-action").addClass("k-button k-button-bare");r.angular("compile",function(){return{elements:u,data:[q]}})}u.attr(N.attr("uid"),m).appendTo(k).data(n);if(!r._async){S(".k-progress",u).width("100%")}if(!r.multiple&&p.length>0){t={files:p.data("fileNames")};if(!r.trigger(P,t)){r._module.onRemove({target:S(p,r.wrapper)},t.data)}}return u},_removeFileEntry:function(k){var l=this;var o=k.closest(".k-upload-files");var n;var m;k.remove();n=S(".k-file",o);m=S(".k-file-success, .k-file-error",o);if(m.length===n.length){this._hideUploadButton()}if(n.length===0){o.remove();l.wrapper.addClass("k-upload-empty");l._hideHeaderUploadstatus()}},_fileAction:function(n,m){var k={remove:"k-delete",cancel:"k-cancel",retry:"k-retry"};var l={remove:"k-i-close",cancel:"k-i-close",retry:"k-i-refresh"};if(!k.hasOwnProperty(m)){return}this._clearFileAction(n);if(!this.options.template){n.find(".k-upload-status .k-upload-action").remove();n.find(".k-upload-status").append(this._renderAction(k[m],this.localization[m],l[m]))}else{n.find(".k-upload-action").addClass("k-button k-button-bare").append("<span class='k-icon "+l[m]+" "+k[m]+"' title='"+this.localization[m]+"'></span>").show()}},_fileState:function(l,n){var o=this.localization,k={uploading:{text:o.statusUploading},uploaded:{text:o.statusUploaded},failed:{text:o.statusFailed}},m=k[n];if(m){S(".k-icon:not(.k-delete, .k-cancel, .k-retry)",l).text(m.text)}},_renderAction:function(l,m,k){if(l!==""){return S("<button type='button' class='k-button k-button-bare k-upload-action'><span class='k-icon "+k+" "+l+"' title='"+m+"'></span></button>")}else{return S("<button type='button' class='k-button'>"+m+"</button>")}},_clearFileAction:function(k){S(".k-upload-action",k).empty().hide()},_onFileAction:function(l){var m=this;if(!m.wrapper.hasClass("k-state-disabled")){var k=S(l.target).closest(".k-upload-action"),n=k.find(".k-icon"),p=k.closest(".k-file"),o={files:p.data("fileNames")};if(n.hasClass("k-delete")){if(!m.trigger(P,o)){m._module.onRemove({target:S(p,m.wrapper)},o.data)}}else{if(n.hasClass("k-cancel")){m.trigger(c,o);m._module.onCancel({target:S(p,m.wrapper)});this._checkAllComplete();m._updateHeaderUploadStatus()}else{if(n.hasClass("k-retry")){S(".k-warning",p).remove();m._module.onRetry({target:S(p,m.wrapper)})}}}}return false},_onUploadSelected:function(){var l=this;var k=l.wrapper;if(!k.hasClass("k-state-disabled")){this._module.onSaveSelected()}return false},_onFileProgress:function(k,m){var l;if(!this.options.template){l=S(".k-upload-pct",k.target);if(l.length===0){S(".k-upload-status",k.target).prepend("<span class='k-upload-pct'></span>")}S(".k-upload-pct",k.target).text(m+"%");S(".k-progress",k.target).width(m+"%")}else{S(".k-progress",k.target).width(m+"%")}this.trigger(K,{files:A(k).data("fileNames"),percentComplete:m})},_onUploadSuccess:function(l,n,m){var k=A(l);this._fileState(k,"uploaded");k.removeClass("k-file-progress").addClass("k-file-success");this._updateHeaderUploadStatus();this.trigger(D,{files:k.data("fileNames"),response:n,operation:"upload",XMLHttpRequest:m});if(this._supportsRemove()){this._fileAction(k,P)}else{this._clearFileAction(k)}this._checkAllComplete()},_onUploadError:function(l,m){var k=A(l);var n=S(".k-upload-pct",k);this._fileState(k,"failed");k.removeClass("k-file-progress").addClass("k-file-error");S(".k-progress",k).width("100%");if(n.length>0){n.empty().removeClass("k-upload-pct").addClass("k-icon k-warning")}else{S(".k-upload-status",k).prepend("<span class='k-icon k-warning'></span>")}this._updateHeaderUploadStatus();this._fileAction(k,"retry");this.trigger(W,{operation:"upload",files:k.data("fileNames"),XMLHttpRequest:m});V("Server response: "+m.responseText);this._checkAllComplete()},_showUploadButton:function(){var k=S(".k-upload-selected",this.wrapper);if(k.length===0){k=this._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected")}this.wrapper.append(k)},_hideUploadButton:function(){S(".k-upload-selected",this.wrapper).remove()},_showHeaderUploadStatus:function(){var l=this.localization;var k=S(".k-dropzone",this.wrapper);var m=S(".k-upload-status-total",this.wrapper);if(m.length!==0){m.remove()}m='<strong class="k-upload-status k-upload-status-total">'+l.headerStatusUploading+'<span class="k-icon k-loading">'+l.statusUploading+"</span></strong>";if(k.length>0){k.append(m)}else{S(".k-upload-button",this.wrapper).after(m)}},_updateHeaderUploadStatus:function(){var l=this;var o=l.localization;var n=S(".k-file",l.wrapper).not(".k-file-success, .k-file-error");var m;var p;var k;if(n.length===0){m=S(".k-file.k-file-error",l.wrapper);p=S(".k-upload-status-total",l.wrapper);k=S(".k-icon",p).removeClass("k-loading").addClass((m.length!==0)?"k-warning":"k-i-tick").text((m.length!==0)?o.statusWarning:o.statusUploaded);p.text(l.localization.headerStatusUploaded).append(k)}},_hideHeaderUploadstatus:function(){S(".k-upload-status-total",this.wrapper).remove()},_onParentFormSubmit:function(){var k=this,m=k.element;if(typeof this._module.onAbort!=="undefined"){this._module.onAbort()}if(!m.value){var l=S(m);l.attr("disabled","disabled");window.setTimeout(function(){l.removeAttr("disabled")},0)}},_onParentFormReset:function(){S(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return typeof(FormData)!="undefined"},_supportsMultiple:function(){var k=this._userAgent().indexOf("Windows")>-1;return !N.support.browser.opera&&!(N.support.browser.safari&&k)},_supportsDrop:function(){var k=this._userAgent().toLowerCase(),l=/chrome/.test(k),n=!l&&/safari/.test(k),m=n&&/windows/.test(k);return !m&&this._supportsFormData()&&(this.options.async.saveUrl)},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){var m=this;S(".k-upload-button",this.wrapper).wrap("<div class='k-dropzone'></div>");var k=m._ns;var l=S(".k-dropzone",m.wrapper).append(S("<em>"+m.localization.dropFilesHere+"</em>")).on("dragenter"+k,F).on("dragover"+k,function(n){n.preventDefault()}).on("drop"+k,S.proxy(this._onDrop,this));a(l,k,function(){l.addClass("k-dropzone-hovered")},function(){l.removeClass("k-dropzone-hovered")});a(S(document),k,function(){l.addClass("k-dropzone-active");l.closest(".k-upload").removeClass("k-upload-empty")},function(){l.removeClass("k-dropzone-active");if(S("li.k-file",l.closest(".k-upload")).length===0){l.closest(".k-upload").addClass("k-upload-empty")}})},_supportsRemove:function(){return !!this.options.async.removeUrl},_submitRemove:function(k,q,o,p){var n=this,m=n.options.async.removeField||"fileNames",l=S.extend(q,e());l[m]=k;jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",dataFilter:Q,url:this.options.async.removeUrl,traditional:true,data:l,success:o,error:p,xhrFields:{withCredentials:this.options.async.withCredentials}})},_wrapInput:function(m){var k=this;var l=k.options;m.wrap("<div class='k-widget k-upload k-header'><div class='k-button k-upload-button'></div></div>");if(!l.async.saveUrl){m.closest(".k-upload").addClass("k-upload-sync")}m.closest(".k-upload").addClass("k-upload-empty");m.closest(".k-button").append("<span>"+this.localization.select+"</span>");return m.closest(".k-upload")},_checkAllComplete:function(){if(S(".k-file.k-file-progress",this.wrapper).length===0){this.trigger(d)}},_inputFiles:function(k){return O(k)}});var j=function(k){this.name="syncUploadModule";this.element=k.wrapper;this.upload=k;this.element.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")};j.prototype={onSelect:function(l,n){var m=this.upload;var k=S(l.target);m._addInput(k);var o=m._enqueueFile(E(k),{"relatedInput":k,"fileNames":n});m._fileAction(o,P)},onRemove:function(l){var k=A(l);k.data("relatedInput").remove();this.upload._removeFileEntry(k)}};var f=function(k){this.name="iframeUploadModule";this.element=k.wrapper;this.upload=k;this.iframes=[]};M._frameId=0;f.prototype={onSelect:function(m,o){var n=this.upload,k=S(m.target);var l=this.prepareUpload(k,o);if(n.options.async.autoUpload){this.performUpload(l)}else{if(n._supportsRemove()){this.upload._fileAction(l,P)}n._showUploadButton()}},prepareUpload:function(p,k){var n=this.upload;var o=S(n.element);var l=n.options.async.saveField||p.attr("name");n._addInput(p);p.attr("name",l);var q=this.createFrame(n.name+"_"+M._frameId++);this.registerFrame(q);var m=this.createForm(n.options.async.saveUrl,q.attr("name")).append(o);var r=n._enqueueFile(E(p),{"frame":q,"relatedInput":o,"fileNames":k});q.data({"form":m,"file":r});return r},performUpload:function(l){var m={files:l.data("fileNames")},k=l.data("frame"),p=this.upload;if(!p.trigger(B,m)){p._hideUploadButton();p._showHeaderUploadStatus();k.appendTo(document.body);var n=k.data("form").attr("action",p.options.async.saveUrl).appendTo(document.body);m.data=S.extend({},m.data,e());for(var q in m.data){var o=n.find("input[name='"+q+"']");if(o.length===0){o=S("<input>",{type:"hidden",name:q}).prependTo(n)}o.val(m.data[q])}p._fileAction(l,c);p._fileState(l,"uploading");S(l).removeClass("k-file-error").addClass("k-file-progress");k.one("load",S.proxy(this.onIframeLoad,this));n[0].submit()}else{p._removeFileEntry(k.data("file"));this.cleanupFrame(k);this.unregisterFrame(k)}},onSaveSelected:function(){var k=this;S(".k-file",this.element).each(function(){var l=S(this),m=J(l);if(!m){k.performUpload(l)}})},onIframeLoad:function(l){var k=S(l.target),n;try{n=k.contents().text()}catch(m){n="Error trying to get server response: "+m}this.processResponse(k,n)},processResponse:function(l,n){var o=l.data("file"),k=this,m={responseText:n};Z(n,function(p){S.extend(m,{statusText:"OK",status:"200"});k.upload._onFileProgress({target:S(o,k.upload.wrapper)},100);k.upload._onUploadSuccess({target:S(o,k.upload.wrapper)},p,m);k.cleanupFrame(l);k.unregisterFrame(l)},function(){S.extend(m,{statusText:"error",status:"500"});k.upload._onUploadError({target:S(o,k.upload.wrapper)},m)})},onCancel:function(l){var k=S(l.target).data("frame");this.stopFrameSubmit(k);this.cleanupFrame(k);this.unregisterFrame(k);this.upload._removeFileEntry(k.data("file"))},onRetry:function(l){var k=A(l);this.performUpload(k)},onRemove:function(m,n){var l=A(m);var k=l.data("frame");if(k){this.unregisterFrame(k);this.upload._removeFileEntry(l);this.cleanupFrame(k)}else{T(l,this.upload,n)}},onAbort:function(){var l=this.element,k=this;S.each(this.iframes,function(){S("input",this.data("form")).appendTo(l);k.stopFrameSubmit(this[0]);this.data("form").remove();this.remove()});this.iframes=[]},createFrame:function(k){return S("<iframe name='"+k+"' id='"+k+"' style='display:none;' />")},createForm:function(k,l){return S("<form enctype='multipart/form-data' method='POST' action='"+k+"' target='"+l+"'/>")},stopFrameSubmit:function(k){if(typeof(k.stop)!="undefined"){k.stop()}else{if(k.document){k.document.execCommand("Stop")}}},registerFrame:function(k){this.iframes.push(k)},unregisterFrame:function(k){this.iframes=S.grep(this.iframes,function(l){return l.attr("name")!=k.attr("name")})},cleanupFrame:function(l){var k=l.data("form");l.data("file").data("frame",null);setTimeout(function(){k.remove();l.remove()},1)}};var Y=function(k){this.name="formDataUploadModule";this.element=k.wrapper;this.upload=k};Y.prototype={onSelect:function(m,o){var n=this.upload,k=this,p=S(m.target),l=this.prepareUpload(p,o);S.each(l,function(){if(n.options.async.autoUpload){k.performUpload(this)}else{if(n._supportsRemove()){n._fileAction(this,P)}n._showUploadButton()}})},prepareUpload:function(l,m){var k=this.enqueueFiles(m);if(l.is("input")){S.each(k,function(){S(this).data("relatedInput",l)});l.data("relatedFileEntries",k);this.upload._addInput(l)}return k},enqueueFiles:function(k){var n=this.upload,l,o,p=k.length,m,q,r=[];if(n.options.async.batch===true){l=S.map(k,function(s){return s.name}).join(", ");q=n._enqueueFile(l,{fileNames:k});q.data("files",k);r.push(q)}else{for(o=0;o<p;o++){m=k[o];l=m.name;q=n._enqueueFile(l,{fileNames:[m]});q.data("files",[m]);r.push(q)}}return r},performUpload:function(l){var o=this.upload,n=this.createFormData(),p=this.createXHR(),m={files:l.data("fileNames"),XMLHttpRequest:p};if(!o.trigger(B,m)){o._fileAction(l,c);o._hideUploadButton();o._showHeaderUploadStatus();if(m.formData){n=m.formData}else{m.data=S.extend({},m.data,e());for(var k in m.data){n.append(k,m.data[k])}this.populateFormData(n,l.data("files"))}o._fileState(l,"uploading");S(l).removeClass("k-file-error").addClass("k-file-progress");this.postFormData(o.options.async.saveUrl,n,l,p)}else{this.removeFileEntry(l)}},onSaveSelected:function(){var k=this;S(".k-file",this.element).each(function(){var l=S(this),m=J(l);if(!m){k.performUpload(l)}})},onCancel:function(l){var k=A(l);this.stopUploadRequest(k);this.removeFileEntry(k)},onRetry:function(l){var k=A(l);this.performUpload(k)},onRemove:function(l,m){var k=A(l);if(k.hasClass("k-file-success")){T(k,this.upload,m)}else{this.removeFileEntry(k)}},createXHR:function(){return new XMLHttpRequest()},postFormData:function(l,o,k,n){var m=this;k.data("request",n);n.addEventListener("load",function(p){m.onRequestSuccess.call(m,p,k)},false);n.addEventListener(W,function(p){m.onRequestError.call(m,p,k)},false);n.upload.addEventListener("progress",function(p){m.onRequestProgress.call(m,p,k)},false);n.open("POST",l,true);n.withCredentials=this.upload.options.async.withCredentials;n.send(o)},createFormData:function(){return new FormData()},populateFormData:function(o,n){var m=this.upload,k,l=n.length;for(k=0;k<l;k++){o.append(m.options.async.saveField||m.name,n[k].rawFile)}return o},onRequestSuccess:function(l,k){var n=l.target,m=this;function o(){m.upload._onUploadError({target:S(k,m.upload.wrapper)},n)}if(n.status>=200&&n.status<=299){Z(n.responseText,function(p){m.upload._onFileProgress({target:S(k,m.upload.wrapper)},100);m.upload._onUploadSuccess({target:S(k,m.upload.wrapper)},p,n);m.cleanupFileEntry(k)},o)}else{o()}},onRequestError:function(l,k){var m=l.target;this.upload._onUploadError({target:S(k,this.upload.wrapper)},m)},cleanupFileEntry:function(k){var l=k.data("relatedInput"),m=true;if(l){S.each(l.data("relatedFileEntries")||[],function(){if(this.parent().length>0&&this[0]!=k[0]){m=m&&this.hasClass("k-file-success")}});if(m){l.remove()}}},removeFileEntry:function(k){this.cleanupFileEntry(k);this.upload._removeFileEntry(k)},onRequestProgress:function(l,k){var m=Math.round(l.loaded*100/l.total);this.upload._onFileProgress({target:S(k,this.upload.wrapper)},m)},stopUploadRequest:function(k){k.data("request").abort()}};function E(k){return S.map(O(k),function(l){return l.name}).join(", ")}function O(k){var l=k[0];if(l.files){return X(l.files)}else{return[{name:H(l.value),extension:h(l.value),size:null}]}}function X(k){return S.map(k,function(l){return b(l)})}function b(l){var k=l.name||l.fileName;return{name:N.htmlEncode(k),extension:h(k),size:l.size||l.fileSize,rawFile:l}}function h(k){var l=k.match(I);return l?l[0]:""}function H(l){var k=l.lastIndexOf("\\");return(k!=-1)?l.substr(k+1):l}function C(m,k){var l=N.guid();return S.map(m,function(n){n.uid=k?N.guid():l;return n})}function R(k){return !k.multiple&&S(".k-file",k.wrapper).length>1}function T(l,n,q){if(!n._supportsRemove()){if(R(n)){n._removeFileEntry(l)}return}var o=l.data("fileNames");var k=S.map(o,function(r){return r.name});n._submitRemove(k,q,function m(t,r,s){n._removeFileEntry(l);n.trigger(D,{operation:"remove",files:o,response:t,XMLHttpRequest:s})},function p(r){if(R(n)){n._removeFileEntry(l)}n.trigger(W,{operation:"remove",files:o,XMLHttpRequest:r});V("Server response: "+r.responseText)})}function Z(n,o,p){var k=false,m="";try{m=S.parseJSON(Q(n));k=true}catch(l){p()}if(k){o(m)}}function Q(k){if(typeof k==="undefined"||k===""){k="{}"}return k}function F(k){k.stopPropagation();k.preventDefault()}function a(n,k,p,m){var o,l;n.on("dragenter"+k,function(){p();l=new Date();if(!o){o=setInterval(function(){var q=new Date()-l;if(q>100){m();clearInterval(o);o=null}},100)}}).on("dragover"+k,function(){l=new Date()})}function J(k){return k.is(".k-file-progress, .k-file-success, .k-file-error")}function A(k){return S(k.target).closest(".k-file")}N.ui.plugin(M)})(window.kendo.jQuery);(function(a,Z){var H=window.kendo,Y=H.ui.Widget,L=a.isPlainObject,f=a.proxy,O=a.extend,R=H.support.placeholder,D=H.support.browser,Q=H.isFunction,X=/(^\/|\/$)/g,M="change",U="apply",C="error",c="click",T=".kendoFileBrowser",d=".kendoBreadcrumbs",P=".kendoSearchBox",S="name",b="size",J="type",e={field:J,dir:"asc"},N=H.template('<li class="k-tile-empty"><strong>${text}</strong></li>'),V='<div class="k-widget k-filebrowser-toolbar k-header k-floatwrap"><div class="k-toolbar-wrap"># if (showUpload) { # <div class="k-widget k-upload"><div class="k-button k-button-icontext k-upload-button"><span class="k-icon k-add"></span>#=messages.uploadFile#<input type="file" name="file" /></div></div># } ## if (showCreate) { #<button type="button" class="k-button k-button-icon"><span class="k-icon k-addfolder" /></button># } ## if (showDelete) { #<button type="button" class="k-button k-button-icon k-state-disabled"><span class="k-icon k-delete" /></button>&nbsp;# } #</div><div class="k-tiles-arrange"><label>#=messages.orderBy#: <select /></label></a></div></div>';O(true,H.data,{schemas:{"filebrowser":{data:function(g){return g.items||g||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}});O(true,H.data,{transports:{"filebrowser":H.data.RemoteTransport.extend({init:function(g){H.data.RemoteTransport.fn.init.call(this,a.extend(true,{},this.options,g))},_call:function(g,h){h.data=a.extend({},h.data,{path:this.options.path()});if(Q(this.options[g])){this.options[g].call(this,h)}else{H.data.RemoteTransport.fn[g].call(this,h)}},read:function(g){this._call("read",g)},create:function(g){this._call("create",g)},destroy:function(g){this._call("destroy",g)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}});function W(j,l,h){var k,g;j.on("dragenter"+T,function(){l();g=new Date();if(!k){k=setInterval(function(){var m=new Date()-g;if(m>100){h();clearInterval(k);k=null}},100)}}).on("dragover"+T,function(){g=new Date()})}var K;if(D.msie&&D.version<8){K=function(g){return g.offsetTop}}else{K=function(g){return g.offsetTop-a(g).height()}}function A(h,g){if(h===Z||!h.match(/\/$/)){h=(h||"")+"/"}return h+g}function E(h){if(!h){return""}var g=" bytes";if(h>=1073741824){g=" GB";h/=1073741824}else{if(h>=1048576){g=" MB";h/=1048576}else{if(h>=1024){g=" KB";h/=1024}}}return Math.round(h*100)/100+g}function I(j,h){var g=j[h];if(L(g)){return g.from||g.field||h}return g}var B=Y.extend({init:function(j,h){var g=this;h=h||{};Y.fn.init.call(g,j,h);g.element.addClass("k-filebrowser");g.element.on(c+T,".k-filebrowser-toolbar button:not(.k-state-disabled):has(.k-delete)",f(g._deleteClick,g)).on(c+T,".k-filebrowser-toolbar button:not(.k-state-disabled):has(.k-addfolder)",f(g._addClick,g)).on("keydown"+T,"li.k-state-selected input",f(g._directoryKeyDown,g)).on("blur"+T,"li.k-state-selected input",f(g._directoryBlur,g));g._dataSource();g.refresh();g.path(g.options.path)},options:{name:"FileBrowser",messages:{uploadFile:"Upload",orderBy:"Arrange by",orderByName:"Name",orderBySize:"Size",directoryNotFound:"A directory with this name was not found.",emptyFolder:"Empty Folder",deleteFile:'Are you sure you want to delete "{0}"?',invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',dropFilesHere:"drop file here to upload",search:"Search"},transport:{},path:"/",fileTypes:"*.*"},events:[C,M,U],destroy:function(){var g=this;Y.fn.destroy.call(g);g.dataSource.unbind(C,g._errorHandler);g.element.add(g.list).add(g.toolbar).off(T);H.destroy(g.element)},value:function(){var h=this,k=h._selectedItem(),g,j=h.options.transport.fileUrl;if(k&&k.get(J)==="f"){g=A(h.path(),k.get(S)).replace(X,"");if(j){g=Q(j)?j(g):H.format(j,encodeURIComponent(g))}return g}},_selectedItem:function(){var g=this.listView,h=g.select();if(h.length){return this.dataSource.getByUid(h.attr(H.attr("uid")))}},_toolbar:function(){var h=this,j=H.template(V),g=h.options.messages,k=[{text:g.orderByName,value:"name"},{text:g.orderBySize,value:"size"}];h.toolbar=a(j({messages:g,showUpload:h.options.transport.uploadUrl,showCreate:h.options.transport.create,showDelete:h.options.transport.destroy})).appendTo(h.element).find(".k-upload input").kendoUpload({multiple:false,localization:{dropFilesHere:g.dropFilesHere},async:{saveUrl:h.options.transport.uploadUrl,autoUpload:true},upload:f(h._fileUpload,h),error:function(l){h._error({xhr:l.XMLHttpRequest,status:"error"})}}).end();h.upload=h.toolbar.find(".k-upload input").data("kendoUpload");h.arrangeBy=h.toolbar.find(".k-tiles-arrange select").kendoDropDownList({dataSource:k,dataTextField:"text",dataValueField:"value",change:function(){h.orderBy(this.value())}}).data("kendoDropDownList");h._attachDropzoneEvents()},_attachDropzoneEvents:function(){var g=this;if(g.options.transport.uploadUrl){W(a(document.documentElement),a.proxy(g._dropEnter,g),a.proxy(g._dropLeave,g));g._scrollHandler=f(g._positionDropzone,g)}},_dropEnter:function(){this._positionDropzone();a(document).on("scroll"+T,this._scrollHandler)},_dropLeave:function(){this._removeDropzone();a(document).off("scroll"+T,this._scrollHandler)},_positionDropzone:function(){var h=this,j=h.element,g=j.offset();h.toolbar.find(".k-dropzone").addClass("k-filebrowser-dropzone").offset(g).css({width:j[0].clientWidth,height:j[0].clientHeight,lineHeight:j[0].clientHeight+"px"})},_removeDropzone:function(){this.toolbar.find(".k-dropzone").removeClass("k-filebrowser-dropzone").css({width:"",height:"",lineHeight:"",top:"",left:""})},_deleteClick:function(){var g=this,h=g.listView.select(),j=H.format(g.options.messages.deleteFile,h.find("strong").text());if(h.length&&g._showMessage(j,"confirm")){g.listView.remove(h)}},_addClick:function(){this.createDirectory()},_getFieldName:function(g){return I(this.dataSource.reader.model.fields,g)},_fileUpload:function(g){var n=this,m=n.options,h=m.fileTypes,l=new RegExp(("("+h.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),k=g.files[0].name,o=S,j=b,p;if(l.test(k)){g.data={path:n.path()};p=n._createFile(k);if(!p){g.preventDefault()}else{n.upload.one("success",function(q){p.set(o,q.response[n._getFieldName(o)]);p.set(j,q.response[n._getFieldName(j)]);n._tiles=n.listView.items().filter("["+H.attr("type")+"=f]")})}}else{g.preventDefault();n._showMessage(H.format(m.messages.invalidFileType,k,h))}},_findFile:function(l){var n=this.dataSource.data(),m,k,g=J,j=S,h;l=l.toLowerCase();for(m=0,h=n.length;m<h;m++){if(n[m].get(g)==="f"&&n[m].get(j).toLowerCase()===l){k=n[m];break}}return k},_createFile:function(n){var o=this,l,m,j=0,p={},h=J,g=o.dataSource.view(),k=o._findFile(n);if(k&&!o._showMessage(H.format(o.options.messages.overwriteFile,n),"confirm")){return null}if(k){return k}for(l=0,m=g.length;l<m;l++){if(g[l].get(h)==="f"){j=l;break}}p[h]="f";p[S]=n;p[b]=0;return o.dataSource.insert(++j,p)},createDirectory:function(){var m=this,k,l,n=0,h=J,o=S,g=m.dataSource.data(),j=m._nameDirectory(),p=new m.dataSource.reader.model();for(k=0,l=g.length;k<l;k++){if(g[k].get(h)==="d"){n=k}}p.set(h,"d");p.set(o,j);m.listView.one("dataBound",function(){var r=m.listView.items().filter("["+H.attr("uid")+"="+p.uid+"]"),q=r.find("input");if(r.length){this.edit(r)}this.element.scrollTop(r.attr("offsetTop")-this.element[0].offsetHeight);setTimeout(function(){q.select()})}).one("save",function(q){var r=q.model.get(o);if(!r){q.model.set(o,j)}else{q.model.set(o,m._nameExists(r,p.uid)?m._nameDirectory():r)}});m.dataSource.insert(++n,p)},_directoryKeyDown:function(g){if(g.keyCode==13){g.currentTarget.blur()}},_directoryBlur:function(){this.listView.save()},_nameExists:function(l,k){var n=this.dataSource.data(),g=J,j=S,m,h;for(m=0,h=n.length;m<h;m++){if(n[m].get(g)==="d"&&n[m].get(j).toLowerCase()===l.toLowerCase()&&n[m].uid!==k){return true}}return false},_nameDirectory:function(){var o="New folder",j=this.dataSource.data(),m=[],g=J,n=S,h,k,l;for(k=0,l=j.length;k<l;k++){if(j[k].get(g)==="d"&&j[k].get(n).toLowerCase().indexOf(o.toLowerCase())>-1){m.push(j[k].get(n))}}if(a.inArray(o,m)>-1){k=2;do{h=o+" ("+k+")";k++}while(a.inArray(h,m)>-1);o=h}return o},orderBy:function(g){this.dataSource.sort([{field:J,dir:"asc"},{field:g,dir:"asc"}])},search:function(g){this.dataSource.filter({field:S,operator:"contains",value:g})},_content:function(){var g=this;g.list=a('<ul class="k-reset k-floats k-tiles" />').appendTo(g.element).on("dblclick"+T,"li",f(g._dblClick,g));g.listView=new H.ui.ListView(g.list,{dataSource:g.dataSource,template:g._itemTmpl(),editTemplate:g._editTmpl(),selectable:true,autoBind:false,dataBinding:function(h){g.toolbar.find(".k-delete").parent().addClass("k-state-disabled");if(h.action==="remove"||h.action==="sync"){h.preventDefault()}},dataBound:function(){if(g.dataSource.view().length){g._tiles=this.items().filter("["+H.attr("type")+"=f]")}else{this.wrapper.append(N({text:g.options.messages.emptyFolder}))}},change:f(g._listViewChange,g)})},_dblClick:function(g){var h=this,k=a(g.currentTarget);if(k.hasClass("k-edit-item")){h._directoryBlur()}if(k.filter("["+H.attr("type")+"=d]").length){var j=h.dataSource.getByUid(k.attr(H.attr("uid")));if(j){h.path(A(h.path(),j.get(S)));h.breadcrumbs.value(h.path())}}else{if(k.filter("["+H.attr("type")+"=f]").length){h.trigger(U)}}},_listViewChange:function(){var g=this._selectedItem();if(g){this.toolbar.find(".k-delete").parent().removeClass("k-state-disabled");if(g.get(J)==="f"){this.trigger(M)}}},_dataSource:function(){var j=this,l=j.options,m=l.transport,h=O({},e),n={field:S,dir:"asc"},g,k={type:m.type||"filebrowser",sort:[h,n]};if(L(m)){m.path=f(j.path,j);k.transport=m}if(L(l.schema)){k.schema=l.schema}else{if(m.type&&L(H.data.schemas[m.type])){g=H.data.schemas[m.type]}}if(j.dataSource&&j._errorHandler){j.dataSource.unbind(C,j._errorHandler)}else{j._errorHandler=f(j._error,j)}j.dataSource=H.data.DataSource.create(k).bind(C,j._errorHandler)},_navigation:function(){var g=this,h=a('<div class="k-floatwrap"><input/><input/></div>').appendTo(this.element);g.breadcrumbs=h.find("input:first").kendoBreadcrumbs({value:g.options.path,change:function(){g.path(this.value())}}).data("kendoBreadcrumbs");g.searchBox=h.parent().find("input:last").kendoSearchBox({label:g.options.messages.search,change:function(){g.search(this.value())}}).data("kendoSearchBox")},_error:function(g){var h=this,j;if(!h.trigger(C,g)){j=g.xhr.status;if(g.status=="error"){if(j=="404"){h._showMessage(h.options.messages.directoryNotFound)}else{if(j!="0"){h._showMessage("Error! The requested URL returned "+j+" - "+g.xhr.statusText)}}}else{if(j=="timeout"){h._showMessage("Error! Server timeout.")}}}},_showMessage:function(h,g){return window[g||"alert"](h)},refresh:function(){var g=this;g._navigation();g._toolbar();g._content()},_editTmpl:function(){var g='<li class="k-tile k-state-selected" '+H.attr("uid")+'="#=uid#" ';g+=H.attr("type")+'="${'+J+'}">';g+="#if("+J+' == "d") { #';g+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>';g+="#}else{#";g+='<div class="k-thumb"><span class="k-icon k-loading"></span></div>';g+="#}#";g+="#if("+J+' == "d") { #';g+='<input class="k-input" '+H.attr("bind")+'="value:'+S+'"/>';g+="#}#";g+="</li>";return f(H.template(g),{sizeFormatter:E})},_itemTmpl:function(){var h=this,g='<li class="k-tile" '+H.attr("uid")+'="#=uid#" ';g+=H.attr("type")+'="${'+J+'}">';g+="#if("+J+' == "d") { #';g+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>';g+="#}else{#";g+='<div class="k-thumb"><span class="k-icon k-file"></span></div>';g+="#}#";g+="<strong>${"+S+"}</strong>";g+="#if("+J+' == "f") { # <span class="k-filesize">${this.sizeFormatter('+b+")}</span> #}#";g+="</li>";return f(H.template(g),{sizeFormatter:E})},path:function(h){var g=this,j=g._path||"";if(h!==Z){g._path=h.replace(X,"")+"/";g.dataSource.read({path:g._path});return}if(j){j=j.replace(X,"")}return j==="/"||j===""?"":(j+"/")}});var G=Y.extend({init:function(j,h){var g=this;h=h||{};Y.fn.init.call(g,j,h);if(R){g.element.attr("placeholder",g.options.label)}g._wrapper();g.element.on("keydown"+P,f(g._keydown,g)).on("change"+P,f(g._updateValue,g));g.wrapper.on(c+P,"a",f(g._click,g));if(!R){g.element.on("focus"+P,f(g._focus,g)).on("blur"+P,f(g._blur,g))}},options:{name:"SearchBox",label:"Search",value:""},events:[M],destroy:function(){var g=this;g.wrapper.add(g.element).add(g.label).off(P);Y.fn.destroy.call(g)},_keydown:function(g){if(g.keyCode===13){this._updateValue()}},_click:function(g){g.preventDefault();this._updateValue()},_updateValue:function(){var g=this,h=g.element.val();if(h!==g.value()){g.value(h);g.trigger(M)}},_blur:function(){this._updateValue();this._toggleLabel()},_toggleLabel:function(){if(!R){this.label.toggle(!this.element.val())}},_focus:function(){this.label.hide()},_wrapper:function(){var h=this.element,g=h.parents(".k-search-wrap");h[0].style.width="";h.addClass("k-input");if(!g.length){g=h.wrap(a('<div class="k-widget k-search-wrap k-textbox"/>')).parent();if(!R){a('<label style="display:block">'+this.options.label+"</label>").insertBefore(h)}a('<a href="#" class="k-icon k-i-search k-search"/>').appendTo(g)}this.wrapper=g;this.label=g.find(">label")},value:function(h){var g=this;if(h!==Z){g.options.value=h;g.element.val(h);g._toggleLabel();return}return g.options.value}});var F=Y.extend({init:function(j,h){var g=this;h=h||{};Y.fn.init.call(g,j,h);g._wrapper();g.wrapper.on("focus"+d,"input",f(g._focus,g)).on("blur"+d,"input",f(g._blur,g)).on("keydown"+d,"input",f(g._keydown,g)).on(c+d,"a.k-i-arrow-n:first",f(g._rootClick,g)).on(c+d,"a:not(.k-i-arrow-n)",f(g._click,g));g.value(g.options.value)},options:{name:"Breadcrumbs",gap:50},events:[M],destroy:function(){var g=this;Y.fn.destroy.call(g);g.wrapper.add(g.wrapper.find("input")).add(g.wrapper.find("a")).off(d)},_update:function(g){g=(g||"").charAt(0)==="/"?g:("/"+(g||""));if(g!==this.value()){this.value(g);this.trigger(M)}},_click:function(g){g.preventDefault();this._update(this._path(a(g.target).prevAll("a:not(.k-i-arrow-n)").addBack()))},_rootClick:function(g){g.preventDefault();this._update("")},_focus:function(){var g=this,h=g.element;g.overlay.hide();g.element.val(g.value());setTimeout(function(){h.select()})},_blur:function(){if(this.overlay.is(":visible")){return}var g=this,h=g.element,j=h.val().replace(/\/{2,}/g,"/");g.overlay.show();h.val("");g._update(j)},_keydown:function(g){var h=this;if(g.keyCode===13){h._blur();setTimeout(function(){h.overlay.find("a:first").focus()})}},_wrapper:function(){var j=this.element,g=j.parents(".k-breadcrumbs"),h;j[0].style.width="";j.addClass("k-input");if(!g.length){g=j.wrap(a('<div class="k-widget k-breadcrumbs k-textbox"/>')).parent()}h=g.find(".k-breadcrumbs-wrap");if(!h.length){h=a('<div class="k-breadcrumbs-wrap"/>').appendTo(g)}this.wrapper=g;this.overlay=h},refresh:function(){var g="",l=this.value(),j,k,m,h;if(l===Z||!l.match(/^\//)){l="/"+(l||"")}j=l.split("/");for(m=0,h=j.length;m<h;m++){k=j[m];if(k){if(!g){g+='<a href="#" class="k-icon k-i-arrow-n">root</a>'}g+='<a class="k-link" href="#">'+j[m]+"</a>";g+='<span class="k-icon k-i-arrow-e">&gt;</span>'}}this.overlay.empty().append(a(g));this._adjustSectionWidth()},_adjustSectionWidth:function(){var h=this,g=h.wrapper,j=g.width()-h.options.gap,l=h.overlay.find("a"),k;l.each(function(m){k=a(this);if(k.parent().width()>j){if(m==l.length-1){k.width(j)}else{k.prev().addBack().hide()}}})},value:function(g){if(g!==Z){this._value=g.replace(/\/{2,}/g,"/");this.refresh();return}return this._value},_path:function(g){return"/"+a.map(g,function(h){return a(h).text()}).join("/")}});H.ui.plugin(B);H.ui.plugin(F);H.ui.plugin(G)})(window.kendo.jQuery);(function(Y,X){var G=window.kendo,W=G.ui.Widget,B=G.ui.FileBrowser,K=Y.isPlainObject,c=Y.proxy,N=Y.extend,P=G.support.placeholder,D=G.support.browser,O=G.isFunction,V=/(^\/|\/$)/g,L="change",S="apply",C="error",a="click",R=".kendoImageBrowser",Q="name",Z="size",I="type",b={field:I,dir:"asc"},M=G.template('<li class="k-tile-empty"><strong>${text}</strong></li>'),T='<div class="k-widget k-filebrowser-toolbar k-header k-floatwrap"><div class="k-toolbar-wrap"># if (showUpload) { # <div class="k-widget k-upload"><div class="k-button k-button-icontext k-upload-button"><span class="k-icon k-add"></span>#=messages.uploadFile#<input type="file" name="file" /></div></div># } ## if (showCreate) { #<button type="button" class="k-button k-button-icon"><span class="k-icon k-addfolder" /></button># } ## if (showDelete) { #<button type="button" class="k-button k-button-icon k-state-disabled"><span class="k-icon k-delete" /></button>&nbsp;# } #</div><div class="k-tiles-arrange"><label>#=messages.orderBy#: <select /></label></a></div></div>';N(true,G.data,{schemas:{"imagebrowser":{data:function(d){return d.items||d||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}});N(true,G.data,{transports:{"imagebrowser":G.data.RemoteTransport.extend({init:function(d){G.data.RemoteTransport.fn.init.call(this,Y.extend(true,{},this.options,d))},_call:function(d,e){e.data=Y.extend({},e.data,{path:this.options.path()});if(O(this.options[d])){this.options[d].call(this,e)}else{G.data.RemoteTransport.fn[d].call(this,e)}},read:function(d){this._call("read",d)},create:function(d){this._call("create",d)},destroy:function(d){this._call("destroy",d)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}});function U(f,h,e){var g,d;f.on("dragenter"+R,function(){h();d=new Date();if(!g){g=setInterval(function(){var j=new Date()-d;if(j>100){e();clearInterval(g);g=null}},100)}}).on("dragover"+R,function(){d=new Date()})}var J;if(D.msie&&D.version<8){J=function(d){return d.offsetTop}}else{J=function(d){return d.offsetTop-Y(d).height()}}function A(e,d){if(e===X||!e.match(/\/$/)){e=(e||"")+"/"}return e+d}function E(e){if(!e){return""}var d=" bytes";if(e>=1073741824){d=" GB";e/=1073741824}else{if(e>=1048576){d=" MB";e/=1048576}else{if(e>=1024){d=" KB";e/=1024}}}return Math.round(e*100)/100+d}function H(f,e){var d=f[e];if(K(d)){return d.from||d.field||e}return d}var F=B.extend({init:function(f,e){var d=this;e=e||{};B.fn.init.call(d,f,e);d.element.addClass("k-imagebrowser")},options:{name:"ImageBrowser",fileTypes:"*.png,*.gif,*.jpg,*.jpeg"},value:function(){var e=this,g=e._selectedItem(),d,f=e.options.transport.imageUrl;if(g&&g.get(I)==="f"){d=A(e.path(),g.get(Q)).replace(V,"");if(f){d=O(f)?f(d):G.format(f,encodeURIComponent(d))}return d}},_fileUpload:function(d){var l=this,k=l.options,f=k.fileTypes,j=new RegExp(("("+f.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),h=d.files[0].name,m=Q,g=Z,n;if(j.test(h)){d.data={path:l.path()};n=l._createFile(h);if(!n){d.preventDefault()}else{n._uploading=true;l.upload.one("success",function(o){delete n._uploading;n.set(m,o.response[l._getFieldName(m)]);n.set(g,o.response[l._getFieldName(g)]);l._tiles=l.listView.items().filter("["+G.attr("type")+"=f]");l._scroll()})}}else{d.preventDefault();l._showMessage(G.format(k.messages.invalidFileType,h,f))}},_content:function(){var d=this;d.list=Y('<ul class="k-reset k-floats k-tiles" />').appendTo(d.element).on("scroll"+R,c(d._scroll,d)).on("dblclick"+R,"li",c(d._dblClick,d));d.listView=new G.ui.ListView(d.list,{dataSource:d.dataSource,template:d._itemTmpl(),editTemplate:d._editTmpl(),selectable:true,autoBind:false,dataBinding:function(f){d.toolbar.find(".k-delete").parent().addClass("k-state-disabled");if(f.action==="remove"||f.action==="sync"){f.preventDefault()}},dataBound:function(){if(d.dataSource.view().length){d._tiles=this.items().filter("["+G.attr("type")+"=f]");d._scroll()}else{this.wrapper.append(M({text:d.options.messages.emptyFolder}))}},change:c(d._listViewChange,d)})},_dataSource:function(){var f=this,h=f.options,j=h.transport,e=N({},b),k={field:Q,dir:"asc"},d,g={type:j.type||"imagebrowser",sort:[e,k]};if(K(j)){j.path=c(f.path,f);g.transport=j}if(K(h.schema)){g.schema=h.schema}else{if(j.type&&K(G.data.schemas[j.type])){d=G.data.schemas[j.type]}}if(f.dataSource&&f._errorHandler){f.dataSource.unbind(C,f._errorHandler)}else{f._errorHandler=c(f._error,f)}f.dataSource=G.data.DataSource.create(g).bind(C,f._errorHandler)},_loadImage:function(f){var g=this,d=Y(f),l=g.dataSource.getByUid(d.attr(G.attr("uid"))),j=l.get(Q),h=g.options.transport.thumbnailUrl,e=Y("<img />",{alt:j}),k="?";if(l._uploading){return}e.hide().on("load"+R,function(){Y(this).prev().remove().end().addClass("k-image").fadeIn()});d.find(".k-loading").after(e);if(O(h)){h=h(g.path(),encodeURIComponent(j))}else{if(h.indexOf("?")>=0){k="&"}h=h+k+"path="+g.path()+encodeURIComponent(j)}e.attr("src",h);f.loaded=true},_scroll:function(){var d=this;if(d.options.transport&&d.options.transport.thumbnailUrl){clearTimeout(d._timeout);d._timeout=setTimeout(function(){var e=d.list.outerHeight(),g=d.list.scrollTop(),f=g+e;d._tiles.each(function(){var h=J(this),j=h+this.offsetHeight;if((h>=g&&h<f)||(j>=g&&j<f)){d._loadImage(this)}if(h>f){return false}});d._tiles=d._tiles.filter(function(){return !this.loaded})},250)}},_itemTmpl:function(){var e=this,d='<li class="k-tile" '+G.attr("uid")+'="#=uid#" ';d+=G.attr("type")+'="${'+I+'}">';d+="#if("+I+' == "d") { #';d+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>';d+="#}else{#";if(e.options.transport&&e.options.transport.thumbnailUrl){d+='<div class="k-thumb"><span class="k-icon k-loading"></span></div>'}else{d+='<div class="k-thumb"><span class="k-icon k-file"></span></div>'}d+="#}#";d+="<strong>${"+Q+"}</strong>";d+="#if("+I+' == "f") { # <span class="k-filesize">${this.sizeFormatter('+Z+")}</span> #}#";d+="</li>";return c(G.template(d),{sizeFormatter:E})}});G.ui.plugin(F)})(window.kendo.jQuery);(function(T,S){var J=window.kendo,E=J.Class,R=J.ui.Widget,D=J.support.mobileOS,C=J.support.browser,H=T.extend,M=T.proxy,N=J.deepExtend,L=".kendoEditor",I=J.keys;var V=E.extend({init:function(W){this.options=W},getHtml:function(){var W=this.options;return J.template(W.template,{useWithBlock:false})(W)}});var U={editorWrapperTemplate:'<table cellspacing="4" cellpadding="0" class="k-widget k-editor k-header" role="presentation"><tbody><tr role="presentation"><td class="k-editor-toolbar-wrap" role="presentation"><ul class="k-editor-toolbar" role="toolbar" /></td></tr><tr><td class="k-editable-area" /></tr></tbody></table>',buttonTemplate:'<a href="" role="button" class="k-tool"#= data.popup ? " data-popup" : "" # unselectable="on" title="#= data.title #"><span unselectable="on" class="k-tool-icon #= data.cssClass #"></span><span class="k-tool-text">#= data.title #</span></a>',colorPickerTemplate:'<div class="k-colorpicker #= data.cssClass #" />',comboBoxTemplate:'<select title="#= data.title #" class="#= data.cssClass #" />',dropDownListTemplate:'<span class="k-editor-dropdown"><select title="#= data.title #" class="#= data.cssClass #" /></span>',separatorTemplate:'<span class="k-separator" />',overflowAnchorTemplate:'<a href="" role="button" class="k-tool k-overflow-anchor" data-popup unselectable="on"><span unselectable="on" class="k-icon k-i-more"></span></a>',formatByName:function(Y,X){for(var W=0;W<X.length;W++){if(T.inArray(Y,X[W].tags)>=0){return X[W]}}},registerTool:function(Y,X){var W=X.options;if(W&&W.template){W.template.options.cssClass="k-"+Y}if(!X.name){X.options.name=Y;X.name=Y.toLowerCase()}F.defaultTools[Y]=X},registerFormat:function(X,W){F.fn.options.formats[X]=W}};var G={bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertFile:"Insert file",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",formatting:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",editAreaTitle:"Editable area. Press F10 for toolbar.",uploadFile:"Upload",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",imageWidth:"Width (px)",imageHeight:"Height (px)",fileWebAddress:"Web address",fileTitle:"Title",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogCancel:"Cancel",createTable:"Create table",createTableHint:"Create a {0} x {1} table",addColumnLeft:"Add column on the left",addColumnRight:"Add column on the right",addRowAbove:"Add row above",addRowBelow:"Add row below",deleteRow:"Delete row",deleteColumn:"Delete column"};var A=!D||(D.ios&&D.flatVersion>=500)||(!D.ios&&typeof(document.documentElement.contentEditable)!="undefined");var O={basic:["bold","italic","underline"],alignment:["justifyLeft","justifyCenter","justifyRight"],lists:["insertUnorderedList","insertOrderedList"],indenting:["indent","outdent"],links:["createLink","unlink"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"]};var F=R.extend({init:function(W,c){var d=this,a,b=J.ui.editor,X,f,e;var Z;var Y=b.Dom;if(!A){return}R.fn.init.call(d,W,c);d.options=N({},d.options,c);W=d.element;Z=W[0];e=Y.name(Z);W.closest("form").on("submit"+L,function(){d.update()});f=H({},d.options);f.editor=d;if(e=="textarea"){d._wrapTextarea();X=d.wrapper.find(".k-editor-toolbar");if(Z.id){X.attr("aria-controls",Z.id)}}else{d.element.attr("contenteditable",true).addClass("k-widget k-editor k-editor-inline");f.popup=true;X=T('<ul class="k-editor-toolbar" role="toolbar" />').insertBefore(W)}d.toolbar=new b.Toolbar(X[0],f);d.toolbar.bindTo(d);if(e=="textarea"){setTimeout(function(){var j=d.wrapper[0].style.height;var g=parseInt(j,10);var h=d.wrapper.height();if(j.indexOf("px")>0&&!isNaN(g)&&h>g){d.wrapper.height(g-(h-g))}})}d._resizable();d._initializeContentElement(d);d.keyboard=new b.Keyboard([new b.BackspaceHandler(d),new b.TypingHandler(d),new b.SystemHandler(d)]);d.clipboard=new b.Clipboard(this);d.undoRedoStack=new b.UndoRedoStack();if(c&&c.value){a=c.value}else{if(d.textarea){a=Z.value;if(d.options.encoded&&T.trim(Z.defaultValue).length){a=Z.defaultValue}a=a.replace(/[\r\n\v\f\t ]+/ig," ")}else{a=Z.innerHTML}}d.value(a);T(document).on("mousedown",M(d._endTyping,d)).on("mouseup",M(d._mouseup,d));d.toolbar.resize();J.notify(d)},_endTyping:function(){var X=this.keyboard;try{if(X.isTypingInProgress()){X.endTyping(true);this.saveSelection()}}catch(W){}},_selectionChange:function(){if(!C.msie){J.ui.editor.Dom.ensureTrailingBreaks(this.body)}this._selectionStarted=false;this.saveSelection();this.trigger("select",{})},_resizable:function(){var W=this.options.resizable;var X=T.isPlainObject(W)?(W.content===S||W.content===true):W;if(X&&this.textarea){T("<div class='k-resize-handle'><span class='k-icon k-resize-se' /></div>").insertAfter(this.textarea);this.wrapper.kendoResizable(H({},this.options.resizable,{start:function(Y){var Z=this.editor=T(Y.currentTarget).closest(".k-editor");this.initialSize=Z.height();Z.find("td:last").append("<div class='k-overlay' />")},resize:function(Z){var Y=Z.y.initialDelta;var a=this.initialSize+Y;var b=this.options.min||0;var c=this.options.max||Infinity;a=Math.min(c,Math.max(b,a));this.editor.height(a)},resizeend:function(Y){this.editor.find(".k-overlay").remove();this.editor=null}}))}},_wrapTextarea:function(){var X=this,Y=X.element,Z=Y[0].style.width,W=Y[0].style.height,b=U.editorWrapperTemplate,c=T(b).insertBefore(Y).width(Z).height(W),a=c.find(".k-editable-area");Y.attr("autocomplete","off").appendTo(a).addClass("k-content k-raw-content").css("display","none");X.textarea=Y;X.wrapper=c},_createContentElement:function(a){var W=this;var b,f,c;var d=W.textarea;var Z=W.options.domain;var e=Z||document.domain;var Y="";var X='javascript:""';if(Z||e!=location.hostname){Y='<script>document.domain="'+e+'"</script>';X="javascript:document.write('"+Y+"')"}d.hide();b=T("<iframe />",{title:W.options.messages.editAreaTitle,frameBorder:"0"})[0];T(b).css("display","").addClass("k-content").insertBefore(d);b.src=X;f=b.contentWindow||b;c=f.document||b.contentDocument;T(b).one("load",function(){W.toolbar.decorateFrom(c.body)});c.open();c.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0;margin:0;height:100%;min-height:100%;}body{font-size:12px;font-family:Verdana,Geneva,sans-serif;padding-top:1px;margin-top:-1px;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+(J.support.isRtl(d)?"direction:rtl;":"")+"}h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}p{margin:0 0 1em;padding:0 .2em}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}ul,ol{padding-left:2.5em}span{-ms-high-contrast-adjust:none;}a{color:#00a}code{font-size:1.23em}telerik\\3Ascript{display: none;}.k-table{table-layout:fixed;width:100%;border-spacing:0;margin: 0 0 1em;}.k-table td{min-width:1px;padding:.2em .3em;}.k-table,.k-table td{outline:0;border: 1px dotted #ccc;}.k-table p{margin:0;padding:0;}</style>"+Y+"<script>(function(d,c){d[c]('header'),d[c]('article'),d[c]('nav'),d[c]('section'),d[c]('footer');})(document, 'createElement');</script>"+T.map(a,function(g){return"<link rel='stylesheet' href='"+g+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>");c.close();return f},_blur:function(){var X=this.textarea;var W=X?X.val():this._oldValue;var Y=this.options.encoded?this.encodedValue():this.value();this.update();if(X){X.trigger("blur")}if(Y!=W){this.trigger("change")}},_spellCorrect:function(Y){var X;var W=false;T(Y.body).on("contextmenu"+L,function(Z){Y.one("select",function(){X=null});Y._spellCorrectTimeout=setTimeout(function(){X=new J.ui.editor.RestorePoint(Y.getRange());W=false},10)}).on("input"+L,function(Z){if(!X){return}if(J.support.browser.mozilla&&!W){W=true;return}J.ui.editor._finishUpdate(Y,X)})},_initializeContentElement:function(){var Y=this;var Z;var W;if(Y.textarea){Y.window=Y._createContentElement(Y.options.stylesheets);Z=Y.document=Y.window.contentDocument||Y.window.document;Y.body=Z.body;W=Y.window;T(Z).on("mouseup"+L,M(Y._mouseup,Y))}else{Y.window=window;Z=Y.document=document;Y.body=Y.element[0];W=Y.body;Y.toolbar.decorateFrom(Y.body)}T(W).on("blur"+L,M(this._blur,this));try{Z.execCommand("enableInlineTableEditing",null,false)}catch(X){}if(J.support.touch){T(Z).on("selectionchange"+L,M(this._selectionChange,this)).on("keydown"+L,function(){if(J._activeElement()!=Z.body){Y.window.focus()}})}this._spellCorrect(Y);T(Y.body).on("dragstart"+L,false).on("keydown"+L,function(b){var g;if((b.keyCode===I.BACKSPACE||b.keyCode===I.DELETE)&&Y.body.getAttribute("contenteditable")!=="true"){return false}if(b.keyCode===I.F10){setTimeout(M(Y.toolbar.focus,Y.toolbar),100);b.preventDefault();return}else{if(b.keyCode==I.LEFT||b.keyCode==I.RIGHT){g=Y.getRange();var c=b.keyCode==I.LEFT;var d=g[c?"startContainer":"endContainer"];var a=g[c?"startOffset":"endOffset"];var f=c?-1:1;if(c){a-=1}if(a+f>0&&d.nodeType==3&&d.nodeValue[a]=="\ufeff"){g.setStart(d,a+f);g.collapse(true);Y.selectRange(g)}}}var h=Y.keyboard.toolFromShortcut(Y.toolbar.tools,b);if(h){b.preventDefault();if(!/^(undo|redo)$/.test(h)){Y.keyboard.endTyping(true)}Y.trigger("keydown",b);Y.exec(h);return false}Y.keyboard.clearTimeout();Y.keyboard.keydown(b)}).on("keyup"+L,function(a){var b=[8,9,33,34,35,36,37,38,39,40,40,45,46];if(T.inArray(a.keyCode,b)>-1||(a.keyCode==65&&a.ctrlKey&&!a.altKey&&!a.shiftKey)){Y._selectionChange()}Y.keyboard.keyup(a)}).on("mousedown"+L,function(a){Y._selectionStarted=true;if(C.gecko){return}var b=T(a.target);if((a.which==2||(a.which==1&&a.ctrlKey))&&b.is("a[href]")){window.open(b.attr("href"),"_new")}}).on("click"+L,function(b){var a=J.ui.editor.Dom,c;if(a.name(b.target)==="img"){c=Y.createRange();c.selectNode(b.target);Y.selectRange(c)}}).on("cut"+L+" paste"+L,function(a){Y.clipboard["on"+a.type](a)}).on("focusin"+L,function(){T(this).addClass("k-state-active");Y.toolbar.show()}).on("focusout"+L,function(){setTimeout(function(){var b=J._activeElement();var a=Y.body;var c=Y.toolbar;if(b!=a&&!T.contains(a,b)&&!T(b).is(".k-editortoolbar-dragHandle")&&!c.focused()){T(a).removeClass("k-state-active");c.hide()}},10)})},_mouseup:function(){var W=this;if(W._selectionStarted){setTimeout(function(){W._selectionChange()},1)}},refresh:function(){var W=this;if(W.textarea){W.textarea.val(W.value());W.wrapper.find("iframe").remove();W._initializeContentElement(W);W.value(W.textarea.val())}},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:G,formats:{},encoded:true,domain:null,resizable:false,serialization:{entities:true,semantic:true,scripts:false},stylesheets:[],dialogOptions:{modal:true,resizable:false,draggable:true,animation:false},fontName:[{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"'Courier New',Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:"'Times New Roman',Times,serif"},{text:"Trebuchet MS",value:"'Trebuchet MS',Helvetica,sans-serif"},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:[].concat.call(["formatting"],O.basic,O.alignment,O.lists,O.indenting,O.links,["insertImage"],O.tables)},destroy:function(){var W=this;R.fn.destroy.call(W);T(W.window).add(W.document).add(W.body).add(W.wrapper).add(W.element.closest("form")).off(L);T(document).off("mousedown",M(W._endTyping,W)).off("mouseup",M(W._mouseup,W));clearTimeout(this._spellCorrectTimeout);W._focusOutside();W.toolbar.destroy();J.destroy(W.wrapper)},_focusOutside:function(){if(J.support.browser.msie&&this.textarea){var W=T("<input style='position:absolute;left:-10px;top:-10px;width:1px;height:1px;font-size:0;border:0;' />").appendTo(document.body).focus();W.blur().remove()}},state:function(b){var X=F.defaultTools[b];var Z=X&&(X.options.finder||X.finder);var W=J.ui.editor.RangeUtils;var a,Y;if(Z){a=this.getRange();Y=W.textNodes(a);if(!Y.length&&a.collapsed){Y=[a.startContainer]}return Z.getFormat?Z.getFormat(Y):Z.isFormatted(Y)}return false},value:function(W){var X=this.body,a=J.ui.editor,Y=a.Dom,Z=a.Serializer.domToXhtml(X,this.options.serialization);if(W===S){return Z}if(W==Z){return}a.Serializer.htmlToDom(W,X);if(!C.msie){J.ui.editor.Dom.ensureTrailingBreaks(this.body)}this.selectionRestorePoint=null;this.update();this.toolbar.refreshTools()},saveSelection:function(Y){Y=Y||this.getRange();var X=Y.commonAncestorContainer,W=this.body;if(X==W||T.contains(W,X)){this.selectionRestorePoint=new J.ui.editor.RestorePoint(Y)}},_focusBody:function(){var X=this.body;var W=this.wrapper&&this.wrapper.find("iframe")[0];var a=this.document.documentElement;var Z=J._activeElement();if(Z!=X&&Z!=W){var Y=a.scrollTop;X.focus();a.scrollTop=Y}},restoreSelection:function(){this._focusBody();if(this.selectionRestorePoint){this.selectRange(this.selectionRestorePoint.toRange())}},focus:function(){this.restoreSelection()},update:function(W){W=W||this.options.encoded?this.encodedValue():this.value();if(this.textarea){this.textarea.val(W)}else{this._oldValue=W}},encodedValue:function(){return J.ui.editor.Dom.encode(this.value())},createRange:function(W){return J.ui.editor.RangeUtils.createRange(W||this.document)},getSelection:function(){return J.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRange:function(X){this._focusBody();var W=this.getSelection();W.removeAllRanges();W.addRange(X);this.saveSelection(X)},getRange:function(){var W=this.getSelection(),X=W&&W.rangeCount>0?W.getRangeAt(0):this.createRange(),Y=this.document;if(X.startContainer==Y&&X.endContainer==Y&&!X.startOffset&&!X.endOffset){X.setStart(this.body,0);X.collapse(true)}return X},selectedHtml:function(){return J.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(W,X){var Y=new J.ui.editor.InsertHtmlCommand(T.extend({range:this.getRange(),html:W},X));Y.editor=this;Y.exec()},exec:function(X,Z){var b=this;var Y=null;var d,c,W;if(!X){throw new Error("kendoEditor.exec(): `name` parameter cannot be empty")}if(b.body.getAttribute("contenteditable")!=="true"){return false}X=X.toLowerCase();if(!b.keyboard.isTypingInProgress()){b.restoreSelection()}c=b.toolbar.toolById(X);if(!c){for(var a in F.defaultTools){if(a.toLowerCase()==X){c=F.defaultTools[a];break}}}if(c){d=b.getRange();if(c.command){Y=c.command(H({range:d},Z))}W=b.trigger("execute",{name:X,command:Y});if(W){return}if(/^(undo|redo)$/i.test(X)){b.undoRedoStack[X]()}else{if(Y){if(!Y.managesUndoRedo){b.undoRedoStack.push(Y)}Y.editor=b;Y.exec();if(Y.async){Y.change=M(b._selectionChange,b);return}}}b._selectionChange()}}});F.defaultTools={undo:{options:{key:"Z",ctrl:true}},redo:{options:{key:"Y",ctrl:true}}};J.ui.plugin(F);var B=E.extend({init:function(W){this.options=W},initialize:function(W,X){W.attr({unselectable:"on",title:X.title})},command:function(W){return new this.options.command(W)},update:T.noop});B.exec=function(Y,W,X){Y.exec(W,{value:X})};var K=B.extend({init:function(W){B.fn.init.call(this,W)},command:function(W){var X=this;return new J.ui.editor.FormatCommand(H(W,{formatter:X.options.formatter}))},update:function(W,X){var Y=this.options.finder.isFormatted(X);W.toggleClass("k-state-selected",Y);W.attr("aria-pressed",Y)}});U.registerTool("separator",new B({template:new V({template:U.separatorTemplate})}));var Q=C.msie&&C.version<9?"\ufeff":"";var P='<br class="k-br" />';if(C.msie){if(C.version<10){P="\ufeff"}else{if(C.version<11){P=" "}}}H(J.ui,{editor:{ToolTemplate:V,EditorUtils:U,Tool:B,FormatTool:K,_bomFill:Q,emptyElementContent:P}});if(J.PDFMixin){J.PDFMixin.extend(F.prototype);F.prototype._drawPDF=function(){return J.drawing.drawDOM(this.body,this.options.pdf)};F.prototype.saveAsPDF=function(){var Z=new T.Deferred();var X=Z.promise();var a={promise:X};if(this.trigger("pdfExport",a)){return}var Y=this.options.pdf;var W=Y.paperSize;this._drawPDF(Z).then(function(b){Y.paperSize="auto";return J.drawing.exportPDF(b,Y)}).done(function(b){J.saveAs({dataURI:b,fileName:Y.fileName,proxyURL:Y.proxyURL,forceProxy:Y.forceProxy});Y.paperSize=W;Z.resolve()}).fail(function(b){Z.reject(b)});return X}}})(window.jQuery);(function(a){var X=window.kendo,V=a.map,L=a.extend,B=X.support.browser,N="style",M="float",O="cssFloat",Z="styleFloat",A="class",b="k-marker";function P(h){var f={},e,g;for(e=0,g=h.length;e<g;e++){f[h[e]]=true}return f}var U=P("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),W="div,p,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,map,menu,noframes,noscript,object,pre,script,table,tbody,td,tfoot,th,thead,tr,header,article,nav,footer,section,aside,main,figure,figcaption".split(","),R=W.concat(["ul","ol","li"]),S=P(R),c="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby".split(","),K=P(c),I=P("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(","));var d=function(e){if(e.nodeType==1){e.normalize()}};if(B.msie&&B.version>=8){d=function(f){if(f.nodeType==1&&f.firstChild){var g=f.firstChild,e=g;while(true){e=e.nextSibling;if(!e){break}if(e.nodeType==3&&g.nodeType==3){e.nodeValue=g.nodeValue+e.nodeValue;D.remove(g)}g=e}}}}var F=/^\s+$/,E=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,Q=/\ufeff/g,J=/^(\s+|\ufeff)$/,G,C=("color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height").split(","),T=/[<>\&]/g,H=/[\u00A0-\u2666<>\&]/g,Y={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"};var D={block:S,inline:K,findNodeIndex:function(f,g){var e=0;if(!f){return -1}while(true){f=f.previousSibling;if(!f){break}if(!(g&&f.nodeType==3)){e++}}return e},isDataNode:function(e){return e&&e.nodeValue!==null&&e.data!==null},isAncestorOf:function(h,g){try{return !D.isDataNode(h)&&(a.contains(h,D.isDataNode(g)?g.parentNode:g)||g.parentNode==h)}catch(f){return false}},isAncestorOrSelf:function(e,f){return D.isAncestorOf(e,f)||e==f},findClosestAncestor:function(e,f){if(D.isAncestorOf(e,f)){while(f&&f.parentNode!=e){f=f.parentNode}}return f},getNodeLength:function(e){return D.isDataNode(e)?e.length:e.childNodes.length},splitDataNode:function(g,e){var k=g.cloneNode(false);var f="";var h=g.nextSibling;var j;while(h&&h.nodeType==3&&h.nodeValue){f+=h.nodeValue;j=h;h=h.nextSibling;D.remove(j)}g.deleteData(e,g.length);k.deleteData(0,e);k.nodeValue+=f;D.insertAfter(k,g)},attrEquals:function(g,f){for(var e in f){var h=g[e];if(e==M){h=g[X.support.cssFloat?O:Z]}if(typeof h=="object"){if(!D.attrEquals(h,f[e])){return false}}else{if(h!=f[e]){return false}}}return true},blockParentOrBody:function(e){return D.parentOfType(e,R)||e.ownerDocument.body},blockParents:function(g){var e=[],f,h;for(f=0,h=g.length;f<h;f++){var j=D.parentOfType(g[f],D.blockElements);if(j&&a.inArray(j,e)<0){e.push(j)}}return e},windowFromDocument:function(e){return e.defaultView||e.parentWindow},normalize:d,blockElements:R,nonListBlockElements:W,inlineElements:c,empty:U,fillAttrs:I,toHex:function(f){var e=E.exec(f);if(!e){return f}return"#"+V(e.slice(1),function(g){g=parseInt(g,10).toString(16);return g.length>1?g:"0"+g}).join("")},encode:function(f,e){var g=(!e||e.entities)?H:T;return f.replace(g,function(j){var h=j.charCodeAt(0);var k=Y[h];return k?"&"+k+";":j})},stripBom:function(e){return(e||"").replace(Q,"")},insignificant:function(e){var f=e.attributes;return e.className=="k-marker"||(D.is(e,"br")&&(e.className=="k-br"||f._moz_dirty||f._moz_editor_bogus_node))},significantNodes:function(e){return a.grep(e,function(f){var g=D.name(f);if(g=="br"){return false}else{if(D.insignificant(f)){return false}else{if(f.nodeType==3&&J.test(f.nodeValue)){return false}else{if(f.nodeType==1&&!U[g]&&D.emptyNode(f)){return false}}}}return true})},emptyNode:function(e){return !D.significantNodes(e.childNodes).length},name:function(e){return e.nodeName.toLowerCase()},significantChildNodes:function(e){return a.grep(e.childNodes,function(f){return f.nodeType!=3||!D.isWhitespace(f)})},lastTextNode:function(g){var f=null;if(g.nodeType==3){return g}for(var e=g.lastChild;e;e=e.previousSibling){f=D.lastTextNode(e);if(f){return f}}return f},is:function(e,f){return D.name(e)==f},isMarker:function(e){return e.className==b},isWhitespace:function(e){return F.test(e.nodeValue)},isBlock:function(e){return S[D.name(e)]},isEmpty:function(e){return U[D.name(e)]},isInline:function(e){return K[D.name(e)]},scrollContainer:function(g){var e=D.windowFromDocument(g),f=(e.contentWindow||e).document||e.ownerDocument||e;if(X.support.browser.webkit||f.compatMode=="BackCompat"){f=f.body}else{f=f.documentElement}return f},scrollTo:function(g){var l=a(D.isDataNode(g)?g.parentNode:g),e=D.windowFromDocument(g.ownerDocument),h=e.innerHeight,j,k,f=D.scrollContainer(g.ownerDocument);j=l.offset().top;k=l[0].offsetHeight;if(!k){k=parseInt(l.css("line-height"),10)||Math.ceil(1.2*parseInt(l.css("font-size"),10))||15}if(k+j>f.scrollTop+h){f.scrollTop=k+j-h}},persistScrollTop:function(e){G=D.scrollContainer(e).scrollTop},restoreScrollTop:function(e){D.scrollContainer(e).scrollTop=G},insertAt:function(g,e,f){g.insertBefore(e,g.childNodes[f]||null)},insertBefore:function(e,f){if(f.parentNode){return f.parentNode.insertBefore(e,f)}else{return f}},insertAfter:function(e,f){return f.parentNode.insertBefore(e,f.nextSibling)},remove:function(e){e.parentNode.removeChild(e)},removeTextSiblings:function(f){var e=f.parentNode;while(f.nextSibling&&f.nextSibling.nodeType==3){e.removeChild(f.nextSibling)}while(f.previousSibling&&f.previousSibling.nodeType==3){e.removeChild(f.previousSibling)}},trim:function(g){for(var e=g.childNodes.length-1;e>=0;e--){var f=g.childNodes[e];if(D.isDataNode(f)){if(!D.stripBom(f.nodeValue).length){D.remove(f)}if(D.isWhitespace(f)){D.insertBefore(f,g)}}else{if(f.className!=b){D.trim(f);if(!f.childNodes.length&&!D.isEmpty(f)){D.remove(f)}}}}return g},closest:function(f,e){while(f&&D.name(f)!=e){f=f.parentNode}return f},sibling:function(e,f){do{e=e[f]}while(e&&e.nodeType!=1);return e},next:function(e){return D.sibling(e,"nextSibling")},prev:function(e){return D.sibling(e,"previousSibling")},parentOfType:function(f,e){do{f=f.parentNode}while(f&&!(D.ofType(f,e)));return f},ofType:function(f,e){return a.inArray(D.name(f),e)>=0},changeTag:function(n,o,k){var l=D.create(n.ownerDocument,o),j=n.attributes,h,m,f,g,e;if(!k){for(h=0,m=j.length;h<m;h++){e=j[h];if(e.specified){f=e.nodeName;g=e.nodeValue;if(f==A){l.className=g}else{if(f==N){l.style.cssText=n.style.cssText}else{l.setAttribute(f,g)}}}}}while(n.firstChild){l.appendChild(n.firstChild)}D.insertBefore(l,n);D.remove(n);return l},editableParent:function(e){while(e&&(e.nodeType==3||e.contentEditable!=="true")){e=e.parentNode}return e},wrap:function(f,e){D.insertBefore(e,f);e.appendChild(f);return e},unwrap:function(e){var f=e.parentNode;while(e.firstChild){f.insertBefore(e.firstChild,e)}f.removeChild(e)},create:function(f,e,g){return D.attr(f.createElement(e),g)},attr:function(f,e){e=L({},e);if(e&&N in e){D.style(f,e.style);delete e.style}for(var g in e){if(e[g]===null){f.removeAttribute(g);delete e[g]}else{if(g=="className"){f[g]=e[g]}}}return L(f,e)},style:function(e,f){a(e).css(f||{})},unstyle:function(f,g){for(var e in g){if(e==M){e=X.support.cssFloat?O:Z}f.style[e]=""}if(f.style.cssText===""){f.removeAttribute(N)}},inlineStyle:function(e,g,f){var j=a(D.create(e.ownerDocument,g,f)),h;e.appendChild(j[0]);h=V(C,function(k){if(B.msie&&k=="line-height"&&j.css(k)=="1px"){return"line-height:1.5"}else{return k+":"+j.css(k)}}).join(";");j.remove();return h},getEffectiveBackground:function(f){var e=f.css("background-color");if(e.indexOf("rgba(0, 0, 0, 0")<0&&e!=="transparent"){return e}else{if(f[0].tagName.toLowerCase()==="html"){return"Window"}else{return D.getEffectiveBackground(f.parent())}}},removeClass:function(g,h){var e=" "+g.className+" ",k=h.split(" "),f,j;for(f=0,j=k.length;f<j;f++){e=e.replace(" "+k[f]+" "," ")}e=a.trim(e);if(e.length){g.className=e}else{g.removeAttribute(A)}},commonAncestor:function(){var e=arguments.length,f=[],n=Infinity,g=null,k,l,m,o,h;if(!e){return null}if(e==1){return arguments[0]}for(k=0;k<e;k++){l=[];m=arguments[k];while(m){l.push(m);m=m.parentNode}f.push(l.reverse());n=Math.min(n,l.length)}if(e==1){return f[0][0]}for(k=0;k<n;k++){o=f[0][k];for(h=1;h<e;h++){if(o!=f[h][k]){return g}}g=o}return g},closestSplittableParent:function(h){var g;if(h.length==1){g=D.parentOfType(h[0],["ul","ol"])}else{g=D.commonAncestor.apply(null,h)}if(!g){g=D.parentOfType(h[0],["p","td"])||h[0].ownerDocument.body}if(D.isInline(g)){g=D.blockParentOrBody(g)}var f=V(h,D.editableParent);var e=D.commonAncestor(f)[0];if(a.contains(g,e)){g=e}return g},closestEditable:function(g,e){var f=D.parentOfType(g,e);var h=D.editableParent(g);if(f&&h&&a.contains(f,h)){f=h}else{if(!f&&h){f=h}}return f},closestEditableOfType:function(g,e){var f=D.closestEditable(g,e);if(f&&D.ofType(f,e)){return f}},filter:function(e,j,l){var f=0;var k=j.length;var g=[];var h;for(;f<k;f++){h=D.name(j[f]);if((!l&&h==e)||(l&&h!=e)){g.push(j[f])}}return g},ensureTrailingBreaks:function(h){var g=a(h).find("p,td,th");var e=g.length;var f=0;if(e){for(;f<e;f++){D.ensureTrailingBreak(g[f])}}else{D.ensureTrailingBreak(h)}},ensureTrailingBreak:function(f){a(f).find("br[type=_moz],.k-br").remove();var h=f.lastChild;var g=h&&D.name(h);var e;if(!g||(g!="br"&&g!="img")||(g=="br"&&h.className!="k-br")){e=f.ownerDocument.createElement("br");e.className="k-br";f.appendChild(e)}}};X.ui.editor.Dom=D})(window.kendo.jQuery);(function(O,R){var L=window.kendo;var H=L.ui.editor;var F=H.Dom;var G=O.extend;var K="xx-small,x-small,small,medium,large,x-large,xx-large".split(",");var E=/"/g;var J=/<br[^>]*>/i;var M=/^\d+(\.\d*)?(px)?$/i;var N=/<p><\/p>/i;var Q=/([\w|\-]+)\s*:\s*([^;]+);?/i;var I=/^sizzle-\d+/i;var D=/^k-script-/i;var B=/\s*onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i;var C=document.createElement("div");C.innerHTML=" <hr>";var P=C.firstChild.nodeType===3;C=null;var A={toEditableHtml:function(S){var T='<br class="k-br">';S=S||"";return S.replace(/<!\[CDATA\[(.*)?\]\]>/g,"<!--[CDATA[$1]]-->").replace(/<script([^>]*)>(.*)?<\/script>/ig,"<k:script$1>$2</k:script>").replace(/<img([^>]*)>/ig,function(U){return U.replace(B,"")}).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/ig,"$1").replace(/^<(table|blockquote)/i,T+"<$1").replace(/<\/(table|blockquote)>$/i,"</$1>"+T)},_fillEmptyElements:function(S){O(S).find("p").each(function(){var T=O(this);if(/^\s*$/g.test(T.text())&&!T.find("img,input").length){var U=this;while(U.firstChild&&U.firstChild.nodeType!=3){U=U.firstChild}if(U.nodeType==1&&!F.empty[F.name(U)]){U.innerHTML=L.ui.editor.emptyElementContent}}})},_removeSystemElements:function(S){O(".k-paste-container",S).remove()},_resetOrderedLists:function(T){var U=T.getElementsByTagName("ol"),S,W,V;for(S=0;S<U.length;S++){W=U[S];V=W.getAttribute("start");W.setAttribute("start",1);if(V){W.setAttribute("start",V)}else{W.removeAttribute(V)}}},_preventScriptExecution:function(S){O(S).find("*").each(function(){var V=this.attributes;var U,T,W,X;for(T=0,W=V.length;T<W;T++){U=V[T];X=U.nodeName;if(U.specified&&/^on/i.test(X)){this.setAttribute("k-script-"+X,U.value);this.removeAttribute(X)}}})},htmlToDom:function(S,U){var T=L.support.browser;var W=T.msie;var V=W&&T.version<9;S=A.toEditableHtml(S);if(V){S="<br/>"+S;var Y="originalsrc",X="originalhref";S=S.replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,X+'="$1"');S=S.replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,Y+'="$1"')}U.innerHTML=S;if(V){F.remove(U.firstChild);O(U).find("k\\:script,script,link,img,a").each(function(){var Z=this;if(Z[X]){Z.setAttribute("href",Z[X]);Z.removeAttribute(X)}if(Z[Y]){Z.setAttribute("src",Z[Y]);Z.removeAttribute(Y)}})}else{if(W){F.normalize(U);A._resetOrderedLists(U)}}A._preventScriptExecution(U);A._fillEmptyElements(U);A._removeSystemElements(U);O("table",U).addClass("k-table");return U},domToXhtml:function(X,Z){var S=[];function b(f){return O.grep(f,function(g){return g.name!="style"})}var Y={iframe:{start:function(f){S.push("<iframe");W(f);S.push(">")},end:function(){S.push("</iframe>")}},"k:script":{start:function(f){S.push("<script");W(f);S.push(">")},end:function(){S.push("</script>")},skipEncoding:true},span:{semantic:true,start:function(h){var j=h.style;var g=e(h);var k=b(g);if(k.length){S.push("<span");W(h,k);S.push(">")}if(j.textDecoration=="underline"){S.push("<u>")}var l=[];if(j.color){l.push('color="'+F.toHex(j.color)+'"')}if(j.fontFamily){l.push('face="'+j.fontFamily+'"')}if(j.fontSize){var f=O.inArray(j.fontSize,K);l.push('size="'+f+'"')}if(l.length){S.push("<font "+l.join(" ")+">")}},end:function(f){var g=f.style;if(g.color||g.fontFamily||g.fontSize){S.push("</font>")}if(g.textDecoration=="underline"){S.push("</u>")}if(b(e(f)).length){S.push("</span>")}}},strong:{semantic:true,start:function(){S.push("<b>")},end:function(){S.push("</b>")}},em:{semantic:true,start:function(){S.push("<i>")},end:function(){S.push("</i>")}},b:{semantic:false,start:function(){S.push("<strong>")},end:function(){S.push("</strong>")}},i:{semantic:false,start:function(){S.push("<em>")},end:function(){S.push("</em>")}},u:{semantic:false,start:function(){S.push('<span style="text-decoration:underline;">')},end:function(){S.push("</span>")}},font:{semantic:false,start:function(h){S.push('<span style="');var j=h.getAttribute("color");var f=K[h.getAttribute("size")];var g=h.getAttribute("face");if(j){S.push("color:");S.push(F.toHex(j));S.push(";")}if(g){S.push("font-family:");S.push(g);S.push(";")}if(f){S.push("font-size:");S.push(f);S.push(";")}S.push('">')},end:function(){S.push("</span>")}}};Y.script=Y["k:script"];Z=Z||{};if(typeof Z.semantic=="undefined"){Z.semantic=true}function c(n){var g=O.trim;var j=g(n).split(";");var h;var f,l;var o=[];var m,k;for(m=0,k=j.length;m<k;m++){if(!j[m].length){continue}h=Q.exec(j[m]);if(!h){continue}f=g(h[1].toLowerCase());l=g(h[2]);if(f=="font-size-adjust"||f=="font-stretch"){continue}if(f.indexOf("color")>=0){l=F.toHex(l)}else{if(f.indexOf("font")>=0){l=l.replace(E,"'")}else{if(/\burl\(/g.test(l)){l=l.replace(E,"")}}}o.push({property:f,value:l})}return o}function d(j){var h=c(j);var f,g=h.length;for(f=0;f<h.length;f++){S.push(h[f].property);S.push(":");S.push(h[f].value);S.push(";")}}function e(o){var g=[];var n=o.attributes;var f,m,p;var h,k,j;for(m=0,p=n.length;m<p;m++){f=n[m];h=f.nodeName;k=f.value;j=f.specified;if(h=="value"&&"value" in o&&o.value){j=true}else{if(h=="type"&&k=="text"){j=true}else{if(h=="class"&&!k){j=false}else{if(I.test(h)){j=false}else{if(h=="complete"){j=false}else{if(h=="altHtml"){j=false}else{if(h=="start"&&(F.is(o,"ul")||F.is(o,"ol"))){j=false}else{if(h.indexOf("_moz")>=0){j=false}else{if(D.test(h)){j=!!Z.scripts}}}}}}}}}if(j){g.push(f)}}return g}function W(m,k){var j,n,f,g,h;k=k||e(m);if(F.is(m,"img")){var o=m.style.width,q=m.style.height,p=O(m);if(o&&M.test(o)){p.attr("width",parseInt(o,10));F.unstyle(m,{width:R})}if(q&&M.test(q)){p.attr("height",parseInt(q,10));F.unstyle(m,{height:R})}}if(!k.length){return}k.sort(function(r,l){return r.nodeName>l.nodeName?1:r.nodeName<l.nodeName?-1:0});for(j=0,n=k.length;j<n;j++){f=k[j];g=f.nodeName;h=f.value;if(g=="class"&&h=="k-table"){continue}g=g.replace(D,"");S.push(" ");S.push(g);S.push('="');if(g=="style"){d(h||m.style.cssText)}else{if(g=="src"||g=="href"){S.push(L.htmlEncode(m.getAttribute(g,2)))}else{S.push(F.fillAttrs[g]?g:h)}}S.push('"')}}function V(g,f,j){for(var h=g.firstChild;h;h=h.nextSibling){a(h,f,j)}}function T(f){return f.nodeValue.replace(/\ufeff/g,"")}function a(k,h,f){var l=k.nodeType,n,g,m,j,o;if(l==1){n=F.name(k);if(!n||F.insignificant(k)){return}if(F.isInline(k)&&k.childNodes.length==1&&k.firstChild.nodeType==3&&!T(k.firstChild)){return}if(!Z.scripts&&(n=="script"||n=="k:script")){return}g=Y[n];if(g){if(typeof g.semantic=="undefined"||(Z.semantic^g.semantic)){g.start(k);V(k,false,g.skipEncoding);g.end(k);return}}S.push("<");S.push(n);W(k);if(F.empty[n]){S.push(" />")}else{S.push(">");V(k,h||F.is(k,"pre"));S.push("</");S.push(n);S.push(">")}}else{if(l==3){j=T(k);if(!h&&P){m=k.parentNode;o=k.previousSibling;if(!o){o=(F.isInline(m)?m:k).previousSibling}if(!o||o.innerHTML===""||F.isBlock(o)){j=j.replace(/^[\r\n\v\f\t ]+/,"")}j=j.replace(/ +/," ")}S.push(f?j:F.encode(j,Z))}else{if(l==4){S.push("<![CDATA[");S.push(k.data);S.push("]]>")}else{if(l==8){if(k.data.indexOf("[CDATA[")<0){S.push("<!--");S.push(k.data);S.push("-->")}else{S.push("<!");S.push(k.data);S.push(">")}}}}}}function U(f){var h=f.childNodes.length;var g=h&&f.firstChild.nodeType==3;return g&&(h==1||(h==2&&F.insignificant(f.lastChild)))}if(U(X)){return F.encode(T(X.firstChild).replace(/[\r\n\v\f\t ]+/," "),Z)}V(X);S=S.join("");if(S.replace(J,"").replace(N,"")===""){return""}return S}};G(H,{Serializer:A})})(window.kendo.jQuery);(function(P){var V=window.kendo,I=V.Class,L=P.extend,F=V.ui.editor,C=V.support.browser,K=F.Dom,O=K.findNodeIndex,U=K.isDataNode,Z=K.findClosestAncestor,S=K.getNodeLength,W=K.normalize;var A={selectionFromWindow:function(b){if(!("getSelection" in b)){return new Y(b.document)}return b.getSelection()},selectionFromRange:function(c){var b=T.documentFromRange(c);return A.selectionFromDocument(b)},selectionFromDocument:function(b){return A.selectionFromWindow(K.windowFromDocument(b))}};var B=I.extend({init:function(b){P.extend(this,{ownerDocument:b,startContainer:b,endContainer:b,commonAncestorContainer:b,startOffset:0,endOffset:0,collapsed:true})},setStart:function(c,b){this.startContainer=c;this.startOffset=b;D(this);N(this,true)},setEnd:function(c,b){this.endContainer=c;this.endOffset=b;D(this);N(this,false)},setStartBefore:function(b){this.setStart(b.parentNode,O(b))},setStartAfter:function(b){this.setStart(b.parentNode,O(b)+1)},setEndBefore:function(b){this.setEnd(b.parentNode,O(b))},setEndAfter:function(b){this.setEnd(b.parentNode,O(b)+1)},selectNode:function(b){this.setStartBefore(b);this.setEndAfter(b)},selectNodeContents:function(b){this.setStart(b,0);this.setEnd(b,b[b.nodeType===1?"childNodes":"nodeValue"].length)},collapse:function(c){var b=this;if(c){b.setEnd(b.startContainer,b.startOffset)}else{b.setStart(b.endContainer,b.endOffset)}},deleteContents:function(){var c=this,d=c.cloneRange();if(c.startContainer!=c.commonAncestorContainer){c.setStartAfter(Z(c.commonAncestorContainer,c.startContainer))}c.collapse(true);(function b(e){while(e.next()){if(e.hasPartialSubtree()){b(e.getSubtreeIterator())}else{e.remove()}}})(new X(d))},cloneContents:function(){var b=T.documentFromRange(this);return(function c(d){var e,f=b.createDocumentFragment();while(e=d.next()){e=e.cloneNode(!d.hasPartialSubtree());if(d.hasPartialSubtree()){e.appendChild(c(d.getSubtreeIterator()))}f.appendChild(e)}return f})(new X(this))},extractContents:function(){var d=this,e=d.cloneRange();if(d.startContainer!=d.commonAncestorContainer){d.setStartAfter(Z(d.commonAncestorContainer,d.startContainer))}d.collapse(true);var c=T.documentFromRange(d);return(function b(f){var g,h=c.createDocumentFragment();while(g=f.next()){if(f.hasPartialSubtree()){g=g.cloneNode(false);g.appendChild(b(f.getSubtreeIterator()))}else{f.remove(d.originalRange)}h.appendChild(g)}return h})(new X(e))},insertNode:function(c){var b=this;if(U(b.startContainer)){if(b.startOffset!=b.startContainer.nodeValue.length){K.splitDataNode(b.startContainer,b.startOffset)}K.insertAfter(c,b.startContainer)}else{K.insertAt(b.startContainer,c,b.startOffset)}b.setStart(b.startContainer,b.startOffset)},cloneRange:function(){return P.extend(new B(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var b=this.startContainer.nodeName,c=this.endContainer.nodeName;return[b=="#text"?this.startContainer.nodeValue:b,"(",this.startOffset,") : ",c=="#text"?this.endContainer.nodeValue:c,"(",this.endOffset,")"].join("")}});function J(b,d,j,h){if(b==d){return h-j}var g=d;while(g&&g.parentNode!=b){g=g.parentNode}if(g){return O(g)-j}g=b;while(g&&g.parentNode!=d){g=g.parentNode}if(g){return h-O(g)-1}var e=K.commonAncestor(b,d);var c=b;while(c&&c.parentNode!=e){c=c.parentNode}if(!c){c=e}var f=d;while(f&&f.parentNode!=e){f=f.parentNode}if(!f){f=e}if(c==f){return 0}return O(f)-O(c)}function N(d,b){function c(f){try{return J(f.startContainer,f.endContainer,f.startOffset,f.endOffset)<0}catch(e){return true}}if(c(d)){if(b){d.commonAncestorContainer=d.endContainer=d.startContainer;d.endOffset=d.startOffset}else{d.commonAncestorContainer=d.startContainer=d.endContainer;d.startOffset=d.endOffset}d.collapsed=true}}function D(c){c.collapsed=c.startContainer==c.endContainer&&c.startOffset==c.endOffset;var b=c.startContainer;while(b&&b!=c.endContainer&&!K.isAncestorOf(b,c.endContainer)){b=b.parentNode}c.commonAncestorContainer=b}var X=I.extend({init:function(c){P.extend(this,{range:c,_current:null,_next:null,_end:null});if(c.collapsed){return}var b=c.commonAncestorContainer;this._next=c.startContainer==b&&!U(c.startContainer)?c.startContainer.childNodes[c.startOffset]:Z(b,c.startContainer);this._end=c.endContainer==b&&!U(c.endContainer)?c.endContainer.childNodes[c.endOffset]:Z(b,c.endContainer).nextSibling},hasNext:function(){return !!this._next},next:function(){var b=this,c=b._current=b._next;b._next=b._current&&b._current.nextSibling!=b._end?b._current.nextSibling:null;if(U(b._current)){if(b.range.endContainer==b._current){c=c.cloneNode(true);c.deleteData(b.range.endOffset,c.length-b.range.endOffset)}if(b.range.startContainer==b._current){c=c.cloneNode(true);c.deleteData(0,b.range.startOffset)}}return c},traverse:function(b){var c=this,e;function d(){c._current=c._next;c._next=c._current&&c._current.nextSibling!=c._end?c._current.nextSibling:null;return c._current}while(e=d()){if(c.hasPartialSubtree()){c.getSubtreeIterator().traverse(b)}else{b(e)}}return e},remove:function(g){var f=this,d=f.range.startContainer==f._current,e=f.range.endContainer==f._current,b,c,h;if(U(f._current)&&(d||e)){b=d?f.range.startOffset:0;c=e?f.range.endOffset:f._current.length;h=c-b;if(g&&(d||e)){if(f._current==g.startContainer&&b<=g.startOffset){g.startOffset-=h}if(f._current==g.endContainer&&c<=g.endOffset){g.endOffset-=h}}f._current.deleteData(b,h)}else{var k=f._current.parentNode;if(g&&(f.range.startContainer==k||f.range.endContainer==k)){var j=O(f._current);if(k==g.startContainer&&j<=g.startOffset){g.startOffset-=1}if(k==g.endContainer&&j<g.endOffset){g.endOffset-=1}}K.remove(f._current)}},hasPartialSubtree:function(){return !U(this._current)&&(K.isAncestorOrSelf(this._current,this.range.startContainer)||K.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){var c=this,b=c.range.cloneRange();b.selectNodeContents(c._current);if(K.isAncestorOrSelf(c._current,c.range.startContainer)){b.setStart(c.range.startContainer,c.range.startOffset)}if(K.isAncestorOrSelf(c._current,c.range.endContainer)){b.setEnd(c.range.endContainer,c.range.endOffset)}return new X(b)}});var Y=I.extend({init:function(b){this.ownerDocument=b;this.rangeCount=1},addRange:function(c){var b=this.ownerDocument.body.createTextRange();H(b,c,false);H(b,c,true);b.select()},removeAllRanges:function(){var b=this.ownerDocument.selection;if(b.type!="None"){b.empty()}},getRangeAt:function(){var f,k=new B(this.ownerDocument),h=this.ownerDocument.selection,b,e;try{f=h.createRange();b=f.item?f.item(0):f.parentElement();if(b.ownerDocument!=this.ownerDocument){return k}}catch(j){return k}if(h.type=="Control"){k.selectNode(f.item(0))}else{e=a(f);M(f,k,e,true);M(f,k,e,false);if(k.startContainer.nodeType==9){k.setStart(k.endContainer,k.startOffset)}if(k.endContainer.nodeType==9){k.setEnd(k.startContainer,k.endOffset)}if(f.compareEndPoints("StartToEnd",f)===0){k.collapse(false)}var d=k.startContainer,m=k.endContainer,l=this.ownerDocument.body;if(!k.collapsed&&k.startOffset===0&&k.endOffset==S(k.endContainer)&&!(d==m&&U(d)&&d.parentNode==l)){var g=false,c=false;while(O(d)===0&&d==d.parentNode.firstChild&&d!=l){d=d.parentNode;g=true}while(O(m)==S(m.parentNode)-1&&m==m.parentNode.lastChild&&m!=l){m=m.parentNode;c=true}if(d==l&&m==l&&g&&c){k.setStart(d,0);k.setEnd(m,S(l))}}}return k}});function a(d){var c=d.duplicate(),b=d.duplicate();c.collapse(true);b.collapse(false);return K.commonAncestor(d.parentElement(),c.parentElement(),b.parentElement())}function H(h,n,d){var m=n[d?"startContainer":"endContainer"],e=n[d?"startOffset":"endOffset"],j=0,k=U(m),b=k?m:m.childNodes[e]||null,g=k?m.parentNode:m,l=n.ownerDocument,f=l.body.createTextRange(),c;if(m.nodeType==3||m.nodeType==4){j=e}if(!g){g=l.body}if(g.nodeName.toLowerCase()=="img"){f.moveToElementText(g);f.collapse(false);h.setEndPoint(d?"StartToStart":"EndToStart",f)}else{c=g.insertBefore(K.create(l,"a"),b);f.moveToElementText(c);K.remove(c);f[d?"moveStart":"moveEnd"]("character",j);f.collapse(false);h.setEndPoint(d?"StartToStart":"EndToStart",f)}}function M(h,n,g,d){var b=K.create(n.ownerDocument,"a"),f=h.duplicate(),k=d?"StartToStart":"StartToEnd",c,o,m,l,p,q,e,j=false;b.innerHTML="\ufeff";f.collapse(d);o=f.parentElement();if(!K.isAncestorOrSelf(g,o)){o=g}do{if(j){o.insertBefore(b,b.previousSibling)}else{o.appendChild(b);j=true}f.moveToElementText(b)}while((c=f.compareEndPoints(k,h))>0&&b.previousSibling);m=b.nextSibling;if(c==-1&&U(m)){f.setEndPoint(d?"EndToStart":"EndToEnd",h);K.remove(b);q=[m,f.text.length]}else{l=!d&&b.previousSibling;p=d&&b.nextSibling;if(U(p)){q=[p,0]}else{if(U(l)){q=[l,l.length]}else{e=O(b);if(o.nextSibling&&e==o.childNodes.length-1){q=[o.nextSibling,0]}else{q=[o,e]}}}K.remove(b)}n[d?"setStart":"setEnd"].apply(n,q)}var Q=I.extend({init:function(b){this.enumerate=function(){var c=[];function d(e){if(K.is(e,"img")||(e.nodeType==3&&(!K.isWhitespace(e)||e.nodeValue=="\ufeff"))){c.push(e)}else{e=e.firstChild;while(e){d(e);e=e.nextSibling}}}new X(b).traverse(d);return c}}});var G=I.extend({init:function(d,b){var c=this;c.range=d;c.rootNode=T.documentFromRange(d);c.body=b||c.getEditable(d);if(K.name(c.body)!="body"){c.rootNode=c.body}c.html=c.body.innerHTML;c.startContainer=c.nodeToPath(d.startContainer);c.endContainer=c.nodeToPath(d.endContainer);c.startOffset=c.offset(d.startContainer,d.startOffset);c.endOffset=c.offset(d.endContainer,d.endOffset)},index:function(d){var c=0,e=d.nodeType;while(d=d.previousSibling){var b=d.nodeType;if(b!=3||e!=b){c++}e=b}return c},getEditable:function(c){var b=c.commonAncestorContainer;while(b&&(b.nodeType==3||b.attributes&&!b.attributes.contentEditable)){b=b.parentNode}return b},restoreHtml:function(){this.body.innerHTML=this.html},offset:function(b,c){if(b.nodeType==3){while((b=b.previousSibling)&&b.nodeType==3){c+=b.nodeValue.length}}return c},nodeToPath:function(b){var c=[];while(b!=this.rootNode){c.push(this.index(b));b=b.parentNode}return c},toRangePoint:function(g,h,d,b){var e=this.rootNode,c=d.length,f=b;while(c--){e=e.childNodes[d[c]]}while(e&&e.nodeType==3&&e.nodeValue.length<f){f-=e.nodeValue.length;e=e.nextSibling}if(e&&f>=0){g[h?"setStart":"setEnd"](e,f)}},toRange:function(){var b=this,c=b.range.cloneRange();b.toRangePoint(c,true,b.startContainer,b.startOffset);b.toRangePoint(c,false,b.endContainer,b.endOffset);return c}});var E=I.extend({init:function(){this.caret=null},addCaret:function(c){var b=this;b.caret=K.create(T.documentFromRange(c),"span",{className:"k-marker"});c.insertNode(b.caret);c.selectNode(b.caret);return b.caret},removeCaret:function(g){var d=this,h=d.caret.previousSibling,j=0;if(h){j=U(h)?h.nodeValue.length:O(h)}var f=d.caret.parentNode;var b=h?O(h):0;K.remove(d.caret);W(f);var e=f.childNodes[b];if(U(e)){g.setStart(e,j)}else{if(e){var c=K.lastTextNode(e);if(c){g.setStart(c,c.nodeValue.length)}else{g[h?"setStartAfter":"setStartBefore"](e)}}else{if(!C.msie&&!f.innerHTML){f.innerHTML='<br _moz_dirty="" />'}g.selectNodeContents(f)}}g.collapse(true)},add:function(g,e){var d=this;var b=g.collapsed&&!T.isExpandable(g);var h=T.documentFromRange(g);if(e&&g.collapsed){d.addCaret(g);g=T.expand(g)}var c=g.cloneRange();c.collapse(false);d.end=K.create(h,"span",{className:"k-marker"});c.insertNode(d.end);c=g.cloneRange();c.collapse(true);d.start=d.end.cloneNode(true);c.insertNode(d.start);d._removeDeadMarkers(d.start,d.end);if(b){var f=h.createTextNode("\ufeff");K.insertAfter(f.cloneNode(),d.start);K.insertBefore(f,d.end)}W(g.commonAncestorContainer);g.setStartBefore(d.start);g.setEndAfter(d.end);return g},_removeDeadMarkers:function(c,b){if(c.previousSibling&&c.previousSibling.nodeValue=="\ufeff"){K.remove(c.previousSibling)}if(b.nextSibling&&b.nextSibling.nodeValue=="\ufeff"){K.remove(b.nextSibling)}},remove:function(n){var o=this,r=o.start,j=o.end,d,p,m;W(n.commonAncestorContainer);while(!r.nextSibling&&r.parentNode){r=r.parentNode}while(!j.previousSibling&&j.parentNode){j=j.parentNode}d=(r.previousSibling&&r.previousSibling.nodeType==3)&&(r.nextSibling&&r.nextSibling.nodeType==3);p=(j.previousSibling&&j.previousSibling.nodeType==3)&&(j.nextSibling&&j.nextSibling.nodeType==3);m=d&&p;r=r.nextSibling;j=j.previousSibling;var c=false;var e=false;if(r==o.end){e=!!o.start.previousSibling;r=j=o.start.previousSibling||o.end.nextSibling;c=true}K.remove(o.start);K.remove(o.end);if(!r||!j){n.selectNodeContents(n.commonAncestorContainer);n.collapse(true);return}var k=c?U(r)?r.nodeValue.length:r.childNodes.length:0;var q=U(j)?j.nodeValue.length:j.childNodes.length;if(r.nodeType==3){while(r.previousSibling&&r.previousSibling.nodeType==3){r=r.previousSibling;k+=r.nodeValue.length}}if(j.nodeType==3){while(j.previousSibling&&j.previousSibling.nodeType==3){j=j.previousSibling;q+=j.nodeValue.length}}var h=O(r),b=r.parentNode;var l=O(j),g=j.parentNode;for(var f=r;f.previousSibling;f=f.previousSibling){if(f.nodeType==3&&f.previousSibling.nodeType==3){h--}}for(var s=j;s.previousSibling;s=s.previousSibling){if(s.nodeType==3&&s.previousSibling.nodeType==3){l--}}W(b);if(r.nodeType==3){r=b.childNodes[h]}W(g);if(j.nodeType==3){j=g.childNodes[l]}if(c){if(r.nodeType==3){n.setStart(r,k)}else{n[e?"setStartAfter":"setStartBefore"](r)}n.collapse(true)}else{if(r.nodeType==3){n.setStart(r,k)}else{n.setStartBefore(r)}if(j.nodeType==3){n.setEnd(j,q)}else{n.setEndAfter(j)}}if(o.caret){o.removeCaret(n)}}});var R=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/;var T={nodes:function(c){var b=T.textNodes(c);if(!b.length){c.selectNodeContents(c.commonAncestorContainer);b=T.textNodes(c);if(!b.length){b=K.significantChildNodes(c.commonAncestorContainer)}}return b},textNodes:function(b){return new Q(b).enumerate()},documentFromRange:function(c){var b=c.startContainer;return b.nodeType==9?b:b.ownerDocument},createRange:function(b){if(C.msie&&C.version<9){return new B(b)}return b.createRange()},selectRange:function(d){var b=T.image(d);if(b){d.setStartAfter(b);d.setEndAfter(b)}var c=A.selectionFromRange(d);c.removeAllRanges();c.addRange(d)},stringify:function(b){return V.format("{0}:{1} - {2}:{3}",K.name(b.startContainer),b.startOffset,K.name(b.endContainer),b.endOffset)},split:function(d,c,e){function b(h){var g=d.cloneRange();g.collapse(h);g[h?"setStartBefore":"setEndAfter"](c);var f=g.extractContents();if(e){f=K.trim(f)}K[h?"insertBefore":"insertAfter"](f,c)}b(true);b(false)},mapAll:function(d,b){var c=[];new X(d).traverse(function(e){var f=b(e);if(f&&P.inArray(f,c)<0){c.push(f)}});return c},getAll:function(d,b){var c=b;if(typeof b=="string"){b=function(e){return K.is(e,c)}}return T.mapAll(d,function(e){if(b(e)){return e}})},getMarkers:function(b){return T.getAll(b,function(c){return c.className=="k-marker"})},image:function(c){var b=T.getAll(c,"img");if(b.length==1){return b[0]}},isStartOf:function(e,b){e=e.cloneRange();while(e.startOffset===0&&e.startContainer!=b){var c=K.findNodeIndex(e.startContainer);var d=e.startContainer.parentNode;while(c>0&&K.insignificant(d[c-1])){c--}e.setStart(d,c)}return e.startOffset===0&&e.startContainer==b},wrapSelectedElements:function(e){var c=K.editableParent(e.startContainer);var b=K.editableParent(e.endContainer);while(e.startOffset===0&&e.startContainer!=c){e.setStart(e.startContainer.parentNode,K.findNodeIndex(e.startContainer))}function d(f,j){var g=K.getNodeLength(j);if(f==g){return true}for(var h=f;h<g;h++){if(!K.insignificant(j.childNodes[h])){return false}}return true}while(d(e.endOffset,e.endContainer)&&e.endContainer!=b){e.setEnd(e.endContainer.parentNode,K.findNodeIndex(e.endContainer)+1)}return e},expand:function(g){var d=g.cloneRange();var c=d.startContainer.childNodes[d.startOffset===0?0:d.startOffset-1];var j=d.endContainer.childNodes[d.endOffset];if(!U(c)||!U(j)){return d}var f=c.nodeValue;var b=j.nodeValue;if(!f||!b){return d}var e=f.split("").reverse().join("").search(R);var h=b.search(R);if(!e||!h){return d}h=h==-1?b.length:h;e=e==-1?0:f.length-e;d.setStart(c,e);d.setEnd(j,h);return d},isExpandable:function(h){var f=h.startContainer;var b=T.documentFromRange(h);if(f==b||f==b.body){return false}var c=h.cloneRange();var e=f.nodeValue;if(!e){return false}var g=e.substring(0,c.startOffset);var d=e.substring(c.startOffset);var k=0,j=0;if(g){k=g.split("").reverse().join("").search(R)}if(d){j=d.search(R)}return k&&j}};L(F,{SelectionUtils:A,W3CRange:B,RangeIterator:X,W3CSelection:Y,RangeEnumerator:Q,RestorePoint:G,Marker:E,RangeUtils:T})})(window.kendo.jQuery);(function(Y){var V=window.kendo,I=V.Class,B=V.ui.editor,Z=B.EditorUtils,W=Z.registerTool,L=B.Dom,A=B.Tool,H=B.ToolTemplate,G=B.RestorePoint,D=B.Marker,M=Y.extend;function U(h,f){var e=h.selectionRestorePoint=new G(h.getRange());var g=new X(f,e);g.editor=h;h.undoRedoStack.push(g);return e}var c=I.extend({init:function(e){this.options=e;this.restorePoint=new G(e.range);this.marker=new D();this.formatter=e.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(e){return this.marker.add(this.getRange(),e)},releaseRange:function(e){this.marker.remove(e);this.editor.selectRange(e)},undo:function(){var e=this.restorePoint;e.restoreHtml();this.editor.selectRange(e.toRange())},redo:function(){this.exec()},createDialog:function(g,e){var f=this.editor;return Y(g).appendTo(document.body).kendoWindow(M({},f.options.dialogOptions,e)).closest(".k-window").toggleClass("k-rtl",V.support.isRtl(f.wrapper)).end()},exec:function(){var e=this.lockRange(true);this.formatter.editor=this.editor;this.formatter.toggle(e);this.releaseRange(e)}});var X=I.extend({init:function(f,e){this.body=f.body;this.startRestorePoint=f;this.endRestorePoint=e},redo:function(){this.body.innerHTML=this.endRestorePoint.html;this.editor.selectRange(this.endRestorePoint.toRange())},undo:function(){this.body.innerHTML=this.startRestorePoint.html;this.editor.selectRange(this.startRestorePoint.toRange())}});var C=c.extend({init:function(e){c.fn.init.call(this,e);this.managesUndoRedo=true},exec:function(){var k=this.editor;var h=this.options;var l=h.range;var g=k.body;var j=new G(l,g);var e=h.html||h.value||"";k.selectRange(l);k.clipboard.paste(e,h);if(h.postProcess){h.postProcess(k,k.getRange())}var f=new X(j,new G(k.getRange(),g));f.editor=k;k.undoRedoStack.push(f);k.focus()}});var O=A.extend({initialize:function(e,h){var j=h.editor,g=this.options,f=g.items?g.items:j.options.insertHtml;new B.SelectBox(e,{dataSource:f,dataTextField:"text",dataValueField:"value",change:function(){A.exec(j,"insertHtml",this.value())},title:j.options.messages.insertHtml,highlightFirst:false})},command:function(e){return new C(e)},update:function(e){var f=e.data("kendoSelectBox")||e.find("select").data("kendoSelectBox");f.close();f.value(f.options.title)}});var a=I.extend({init:function(){this.clear()},push:function(e){this.stack=this.stack.slice(0,this.currentCommandIndex+1);this.currentCommandIndex=this.stack.push(e)-1},undo:function(){if(this.canUndo()){this.stack[this.currentCommandIndex--].undo()}},redo:function(){if(this.canRedo()){this.stack[++this.currentCommandIndex].redo()}},clear:function(){this.stack=[];this.currentCommandIndex=-1},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}});var E=I.extend({init:function(e){this.editor=e},keydown:function(f){var g=this,k=g.editor,m=k.keyboard,j=m.isTypingKey(f),h=M(Y.Event(),f);g.editor.trigger("keydown",h);if(h.isDefaultPrevented()){f.preventDefault();return true}if(!h.isDefaultPrevented()&&j&&!m.isTypingInProgress()){var l=k.getRange();g.startRestorePoint=new G(l);m.startTyping(function(){g.endRestorePoint=U(k,g.startRestorePoint)});return true}return false},keyup:function(f){var g=this.editor.keyboard;this.editor.trigger("keyup",f);if(g.isTypingInProgress()){g.endTyping();return true}return false}});var F=I.extend({init:function(e){this.editor=e},_handleCaret:function(m){var j=m.startContainer;var g=m.startOffset;var f=L.closestEditableOfType(j,["li"]);var n=L.closestEditableOfType(j,"h1,h2,h3,h4,h5,h6".split(","));if(L.isDataNode(j)){while(g>=0&&j.nodeValue[g-1]=="\ufeff"){j.deleteData(g-1,1);g--}m.setStart(j,Math.max(0,g));m.collapse(true);this.editor.selectRange(m)}if(n&&n.previousSibling&&B.RangeUtils.isStartOf(m,n)){var h=n.previousSibling;var k=L.create(this.editor.document,"a");h.appendChild(k);while(n.firstChild){h.appendChild(n.firstChild)}L.remove(n);m.setStartAfter(k);m.collapse(true);this.editor.selectRange(m);L.remove(k);return true}if(f&&B.RangeUtils.isStartOf(m,f)){var l=new B.GreedyBlockFormatter([{tags:["p"]}]);var e=f.firstChild;l.editor=this.editor;l.apply(f.childNodes);m.setStart(e,0);this.editor.selectRange(m);return true}return false},_handleSelection:function(j){var f=j.commonAncestorContainer;var h=L.closest(f,"table");var e=B.emptyElementContent;var g=false;if(/t(able|body)/i.test(L.name(f))){j.selectNode(h)}j.deleteContents();if(h&&Y(h).text()===""){j.selectNode(h);j.deleteContents();g=true}f=j.commonAncestorContainer;if(L.name(f)==="p"&&f.innerHTML===""){f.innerHTML=e;j.setStart(f,0);j.collapse(true);this.editor.selectRange(j);g=true}return g},keydown:function(g){var j,f;var l=this.editor.getRange();var h=g.keyCode;var k=V.keys;if(h===k.BACKSPACE){j=l.collapsed?"_handleCaret":"_handleSelection"}else{if(h==k.DELETE){j=l.collapsed?"":"_handleSelection"}}if(!j){return}f=new G(l);if(this[j](l)){g.preventDefault();U(this.editor,f)}},keyup:Y.noop});var P=I.extend({init:function(e){this.editor=e;this.systemCommandIsInProgress=false},createUndoCommand:function(){this.startRestorePoint=this.endRestorePoint=U(this.editor,this.startRestorePoint)},changed:function(){if(this.startRestorePoint){return this.startRestorePoint.html!=this.editor.body.innerHTML}return false},keydown:function(f){var g=this,h=g.editor,j=h.keyboard;if(j.isModifierKey(f)){if(j.isTypingInProgress()){j.endTyping(true)}g.startRestorePoint=new G(h.getRange());return true}if(j.isSystem(f)){g.systemCommandIsInProgress=true;if(g.changed()){g.systemCommandIsInProgress=false;g.createUndoCommand()}return true}return false},keyup:function(f){var g=this;if(g.systemCommandIsInProgress&&g.changed()){g.systemCommandIsInProgress=false;g.createUndoCommand();return true}return false}});var S=I.extend({init:function(e){this.handlers=e;this.typingInProgress=false},isCharacter:function(e){return(e>=48&&e<=90)||(e>=96&&e<=111)||(e>=186&&e<=192)||(e>=219&&e<=222)||e==229},toolFromShortcut:function(h,g){var f=String.fromCharCode(g.keyCode),k,j;for(k in h){j=Y.extend({ctrl:false,alt:false,shift:false},h[k].options);if((j.key==f||j.key==g.keyCode)&&j.ctrl==g.ctrlKey&&j.alt==g.altKey&&j.shift==g.shiftKey){return k}}},isTypingKey:function(f){var g=f.keyCode;return(this.isCharacter(g)&&!f.ctrlKey&&!f.altKey)||g==32||g==13||g==8||(g==46&&!f.shiftKey&&!f.ctrlKey&&!f.altKey)},isModifierKey:function(f){var g=f.keyCode;return(g==17&&!f.shiftKey&&!f.altKey)||(g==16&&!f.ctrlKey&&!f.altKey)||(g==18&&!f.ctrlKey&&!f.shiftKey)},isSystem:function(f){return f.keyCode==46&&f.ctrlKey&&!f.altKey&&!f.shiftKey},startTyping:function(e){this.onEndTyping=e;this.typingInProgress=true},stopTyping:function(){if(this.typingInProgress&&this.onEndTyping){this.onEndTyping()}this.typingInProgress=false},endTyping:function(f){var e=this;e.clearTimeout();if(f){e.stopTyping()}else{e.timeout=window.setTimeout(Y.proxy(e.stopTyping,e),1000)}},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(g,h){var f,j=this.handlers;for(f=0;f<j.length;f++){if(j[f][h](g)){break}}},keydown:function(f){this.notify(f,"keydown")},keyup:function(f){this.notify(f,"keyup")}});var R=I.extend({init:function(e){this.editor=e;this.cleaners=[new N(),new T(),new b(),new J()]},htmlToFragment:function(e){var h=this.editor,j=h.document,f=L.create(j,"div"),g=j.createDocumentFragment();f.innerHTML=e;while(f.firstChild){g.appendChild(f.firstChild)}return g},isBlock:function(e){return(/<(div|p|ul|ol|table|h[1-6])/i).test(e)},_startModification:function(){var g;var e;var f=this.editor;if(this._inProgress){return}this._inProgress=true;g=f.getRange();e=new G(g);L.persistScrollTop(f.document);return{range:g,restorePoint:e}},_endModification:function(e){U(this.editor,e.restorePoint);this.editor._selectionChange();this._inProgress=false},_contentModification:function(g,j){var f=this;var h=f.editor;var e=f._startModification();if(!e){return}g.call(f,h,e.range);setTimeout(function(){j.call(f,h,e.range);f._endModification(e)})},oncut:function(){this._contentModification(Y.noop,Y.noop)},_fileToDataURL:function(g,e){var f=g.getAsFile();var h=new FileReader();h.onload=e||Y.noop;h.readAsDataURL(f)},_triggerPaste:function(e,f){var g={html:e||""};g.html=g.html.replace(/\ufeff/g,"");this.editor.trigger("paste",g);this.paste(g.html,f||{})},_handleImagePaste:function(g){if(!("FileReader" in window)){return}var h=this;var k=g.clipboardData||g.originalEvent.clipboardData;var j=k&&(k.items||k.files);if(!j||!j.length){return}if(!/^image\//i.test(j[0].type)){return}var f=h._startModification();if(!f){return}this._fileToDataURL(j[0],function(l){h._triggerPaste('<img src="'+l.target.result+'" />');h._endModification(f)});return true},onpaste:function(f){if(this._handleImagePaste(f)){return}this._contentModification(function g(m,n){var o=L.create(m.document,"div",{className:"k-paste-container",innerHTML:"\ufeff"});var e=V.support.browser;m.body.appendChild(o);if(e.msie&&e.version<11){f.preventDefault();var j=m.createRange();j.selectNodeContents(o);m.selectRange(j);var l=m.document.body.createTextRange();l.moveToElementText(o);Y(m.body).unbind("paste");l.execCommand("Paste");Y(m.body).bind("paste",Y.proxy(this.onpaste,this))}else{var k=m.createRange();k.selectNodeContents(o);m.selectRange(k)}n.deleteContents()},function h(l,m){var e="",n={html:""},k;var j=V.support.browser;l.selectRange(m);k=Y(l.body).children(".k-paste-container");k.each(function(){var o=this.lastChild;if(o&&L.is(o,"br")){L.remove(o)}e+=this.innerHTML});k.remove();this._triggerPaste(e,{clean:true})})},splittableParent:function(h,f){var e,g;if(h){return L.closestEditableOfType(f,["p","ul","ol"])||f.parentNode}e=f.parentNode;g=f.ownerDocument.body;if(L.isInline(e)){while(e.parentNode!=g&&!L.isBlock(e.parentNode)){e=e.parentNode}}return e},paste:function(t,o){var f=this.editor,m,p;o=M({clean:false,split:true},o);for(m=0,p=this.cleaners.length;m<p;m++){if(this.cleaners[m].applicable(t)){t=this.cleaners[m].clean(t)}}if(o.clean){t=t.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/ig,"$3");t=t.replace(/<(a|span)[^>]*><\/\1>/ig,"")}t=t.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>");var n=this.isBlock(t);f.focus();var s=f.getRange();s.deleteContents();if(s.startContainer==f.document){s.selectNodeContents(f.body)}var g=new D();var r=g.addCaret(s);var h=this.splittableParent(n,r);var e=false;var j=h!=f.body&&!L.is(h,"td");if(o.split&&j&&(n||L.isInline(h))){s.selectNode(r);B.RangeUtils.split(s,h,true);e=true}var u=this.htmlToFragment(t);if(u.firstChild&&u.firstChild.className==="k-paste-container"){var k=[];for(m=0,p=u.childNodes.length;m<p;m++){k.push(u.childNodes[m].innerHTML)}u=this.htmlToFragment(k.join("<br />"))}Y(u.childNodes).filter("table").addClass("k-table").end().find("table").addClass("k-table");s.insertNode(u);h=this.splittableParent(n,r);if(e){while(r.parentNode!=h){L.unwrap(r.parentNode)}L.unwrap(r.parentNode)}L.normalize(s.commonAncestorContainer);r.style.display="inline";L.restoreScrollTop(f.document);L.scrollTo(r);g.removeCaret(s);var q=s.commonAncestorContainer.parentNode;if(s.collapsed&&L.name(q)=="tbody"){s.setStartAfter(Y(q).closest("table")[0]);s.collapse(true)}f.selectRange(s)}});var K=I.extend({clean:function(e){var g=this,j=g.replacements,f,h;for(f=0,h=j.length;f<h;f+=2){e=e.replace(j[f],j[f+1])}return e}});var N=K.extend({init:function(){this.replacements=[/<(\/?)script([^>]*)>/i,"<$1telerik:script$2>"]},applicable:function(e){return(/<script[^>]*>/i).test(e)}});var T=K.extend({init:function(){var e=" ";this.replacements=[/<span\s+class="Apple-tab-span"[^>]*>\s*<\/span>/gi,e,/\t/gi,e,/&nbsp;&nbsp; &nbsp;/gi,e]},applicable:function(e){return(/&nbsp;&nbsp; &nbsp;|class="?Apple-tab-span/i).test(e)}});var b=K.extend({init:function(){this.replacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>(?!\n)/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/ig,"",/<(\/?)b(\s[^>]*)?>/ig,"<$1strong$2>",/<(\/?)font(\s[^>]*)?>/ig,this.convertFontMatch,/<(\/?)i(\s[^>]*)?>/ig,"<$1em$2>",/<o:p>&nbsp;<\/o:p>/ig,"&nbsp;",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/ig,"",/<\/o>/g,"",/style=(["|'])\s*\1/g,"",/(<br[^>]*>)?\n/g,function(f,e){return e?f:" "}]},convertFontMatch:function(h,f,k){var g=/face=['"]([^'"]+)['"]/i;var j=g.exec(k);var e=k&&j&&j[1];if(f){return"</span>"}else{if(e){return'<span style="font-family:'+e+'">'}else{return"<span>"}}},applicable:function(e){return(/class="?Mso/i).test(e)||(/style="[^"]*mso-/i).test(e)||(/urn:schemas-microsoft-com:office/).test(e)},stripEmptyAnchors:function(e){return e.replace(/<a([^>]*)>\s*<\/a>/ig,function(g,f){if(!f||f.indexOf("href")<0){return""}return g})},listType:function(e){var f;if(/^(<span [^>]*texhtml[^>]*>)?<span [^>]*(Symbol|Wingdings)[^>]*>/i.test(e)){f=true}e=e.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,"\u00a0");if((!f&&/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(e))||(f&&/^.\u00a0+/.test(e))){return"ul"}if(/^\s*\w+[\.\)]\u00a0{2,}/.test(e)){return"ol"}},_convertToLi:function(e){var f;if(e.childNodes.length==1){f=e.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,"")}else{L.remove(e.firstChild);if(e.firstChild.nodeType==3){if(/^[ivx]+\.$/i.test(e.firstChild.nodeValue)){L.remove(e.firstChild)}}if(/^(&nbsp;|\s)+$/i.test(e.firstChild.innerHTML)){L.remove(e.firstChild)}f=e.innerHTML}L.remove(e);return L.create(document,"li",{innerHTML:f})},lists:function(e){var j=Y(L.blockElements.join(","),e),r=-1,m,g,s={"ul":{},"ol":{}},k=e,l,f,q,t,h,o,n;for(l=0;l<j.length;l++){f=j[l];q=this.listType(f.innerHTML);g=L.name(f);if(g=="td"){continue}if(!q||g!="p"){if(!f.innerHTML){L.remove(f)}else{s={"ul":{},"ol":{}};k=e;r=-1}continue}t=parseFloat(f.style.marginLeft||0);h=s[q][t];if(t>r||!h){h=L.create(document,q);if(k==e){L.insertBefore(h,f)}else{k.appendChild(h)}s[q][t]=h}if(m!=q){for(o in s){for(n in s[o]){if(Y.contains(h,s[o][n])){delete s[o][n]}}}}k=this._convertToLi(f);h.appendChild(k);r=t;m=q}},removeAttributes:function(g){var f=g.attributes,e=f.length;while(e--){if(L.name(f[e])!="colspan"){g.removeAttributeNode(f[e])}}},createColGroup:function(f){var g=f.cells;var h=Y(f).closest("table");var e=h.children("colgroup");if(g.length<2){return}else{if(e.length){g=e.children();e[0].parentNode.removeChild(e[0])}}e=Y(Y.map(g,function(k){var j=k.width;if(j&&parseInt(j,10)!==0){return V.format('<col style="width:{0}px;"/>',j)}return"<col />"}).join(""));if(!e.is("colgroup")){e=Y("<colgroup/>").append(e)}e.prependTo(h)},convertHeaders:function(f){var g=f.cells,e,h=Y.map(g,function(k){var j=Y(k).children("p").children("strong")[0];if(j&&L.name(j)=="strong"){return j}});if(h.length==g.length){for(e=0;e<h.length;e++){L.unwrap(h[e])}Y(f).closest("table").find("colgroup").after("<thead></thead>").end().find("thead").append(f);for(e=0;e<g.length;e++){L.changeTag(g[e],"th")}}},removeParagraphs:function(g){var e,l,h,k,f;for(e=0;e<g.length;e++){this.removeAttributes(g[e]);k=Y(g[e]);f=k.children("p");for(l=0,h=f.length;l<h;l++){if(l<h-1){L.insertAfter(L.create(document,"br"),f[l])}L.unwrap(f[l])}}},removeDefaultColors:function(f){for(var e=0;e<f.length;e++){if(/^\s*color:\s*[^;]*;?$/i.test(f[e].style.cssText)){L.unwrap(f[e])}}},tables:function(e){var n=Y(e).find("table"),k=this,f,m,l,h,g;for(h=0;h<n.length;h++){f=n[h].rows;l=m=f[0];for(g=1;g<f.length;g++){if(f[g].cells.length>l.cells.length){l=f[g]}}k.createColGroup(l);k.convertHeaders(m);k.removeAttributes(n[h]);k.removeParagraphs(n.eq(h).find("td,th"));k.removeDefaultColors(n.eq(h).find("span"))}},headers:function(f){var g=Y(f).find("p.MsoTitle");for(var e=0;e<g.length;e++){L.changeTag(g[e],"h1")}},clean:function(e){var f=this,g;e=K.fn.clean.call(f,e);e=f.stripEmptyAnchors(e);g=L.create(document,"div",{innerHTML:e});f.headers(g);f.lists(g);f.tables(g);e=g.innerHTML.replace(/(<[^>]*)\s+class="?[^"\s>]*"?/ig,"$1");return e}});var J=K.extend({init:function(){this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"]},applicable:function(e){return(/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i).test(e)}});var Q=c.extend({init:function(e){c.fn.init.call(this,e);this.managesUndoRedo=true},exec:function(){var e=this.editor;if(V.support.browser.msie){e.document.execCommand("print",false,null)}else{if(e.window.print){e.window.print()}}}});var d=c.extend({init:function(e){this.async=true;c.fn.init.call(this,e)},exec:function(){var e=this;var f=this.lockRange(true);this.editor.saveAsPDF().then(function(){e.releaseRange(f)})}});M(B,{_finishUpdate:U,Command:c,GenericCommand:X,InsertHtmlCommand:C,InsertHtmlTool:O,UndoRedoStack:a,TypingHandler:E,SystemHandler:P,BackspaceHandler:F,Keyboard:S,Clipboard:R,Cleaner:K,TabCleaner:T,MSWordFormatCleaner:b,WebkitFormatCleaner:J,PrintCommand:Q,ExportPdfCommand:d});W("insertHtml",new O({template:new H({template:Z.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})}));W("print",new A({command:Q,template:new H({template:Z.buttonTemplate,title:"Print"})}));W("pdf",new A({command:d,template:new H({template:Z.buttonTemplate,title:"Export PDF"})}))})(window.kendo.jQuery);(function(R){var P=window.kendo,G=P.Class,J=P.ui.editor,D=P.ui.Editor.fn.options.formats,S=J.EditorUtils,B=J.Tool,E=J.ToolTemplate,L=J.FormatTool,H=J.Dom,O=J.RangeUtils,I=R.extend,Q=J.EditorUtils.registerTool,N=J.EditorUtils.registerFormat,T="k-marker";var U=G.extend({init:function(X){this.format=X},numberOfSiblings:function(Y){var b=0,Z=0,c=0,X=Y.parentNode,a;for(a=X.firstChild;a;a=a.nextSibling){if(a!=Y){if(a.className==T){c++}else{if(a.nodeType==3){b++}else{Z++}}}}if(c>1&&X.firstChild.className==T&&X.lastChild.className==T){return 0}else{return Z+b}},findSuitable:function(Y,X){if(!X&&this.numberOfSiblings(Y)>0){return null}var Z=Y.parentNode;var a=this.format[0].tags;while(!H.ofType(Z,a)){if(this.numberOfSiblings(Z)>0){return null}Z=Z.parentNode}return Z},findFormat:function(Z){var Y=this.format,X=H.attrEquals,a,d,c,e,b;for(a=0,d=Y.length;a<d;a++){c=Z;e=Y[a].tags;b=Y[a].attr;if(c&&H.ofType(c,e)&&X(c,b)){return c}while(c){c=H.parentOfType(c,e);if(c&&X(c,b)){return c}}}return null},isFormatted:function(Y){var X,Z;for(X=0,Z=Y.length;X<Z;X++){if(this.findFormat(Y[X])){return true}}return false}});var K=G.extend({init:function(X,Y){this.finder=new U(X);this.attributes=I({},X[0].attr,Y);this.tag=X[0].tags[0]},wrap:function(X){return H.wrap(X,H.create(X.ownerDocument,this.tag,this.attributes))},activate:function(Y,X){if(this.finder.isFormatted(X)){this.split(Y);this.remove(X)}else{this.apply(X)}},toggle:function(Y){var X=O.textNodes(Y);if(X.length>0){this.activate(Y,X)}},apply:function(b){var Z=[];var X,a,Y,c;for(X=0,a=b.length;X<a;X++){Y=b[X];c=this.finder.findSuitable(Y);if(c){H.attr(c,this.attributes)}else{while(!H.isBlock(Y.parentNode)&&Y.parentNode.childNodes.length==1){Y=Y.parentNode}c=this.wrap(Y)}Z.push(c)}this.consolidate(Z)},remove:function(Z){var X,Y,a;for(X=0,Y=Z.length;X<Y;X++){a=this.finder.findFormat(Z[X]);if(a){if(this.attributes&&this.attributes.style){H.unstyle(a,this.attributes.style);if(!a.style.cssText&&!a.attributes["class"]){H.unwrap(a)}}else{H.unwrap(a)}}}},split:function(b){var a=O.textNodes(b);var Z=a.length;var X,Y;if(Z>0){for(X=0;X<Z;X++){Y=this.finder.findFormat(a[X]);if(Y){O.split(b,Y,true)}}}},consolidate:function(Y){var X,Z;while(Y.length>1){X=Y.pop();Z=Y[Y.length-1];if(X.previousSibling&&X.previousSibling.className==T){Z.appendChild(X.previousSibling)}if(X.tagName==Z.tagName&&X.previousSibling==Z&&X.style.cssText==Z.style.cssText){while(X.firstChild){Z.appendChild(X.firstChild)}H.remove(X)}}}});var M=U.extend({init:function(X,Y){this.format=X;this.greedyProperty=Y;U.fn.init.call(this,X)},getInlineCssValue:function(h){var g=h.attributes;var a=R.trim;var f,j,Y,Z,d,b,X,n,k;var e,m,c;if(!g){return}for(f=0,j=g.length;f<j;f++){Y=g[f];Z=Y.nodeName;d=Y.nodeValue;if(Y.specified&&Z=="style"){b=a(d||h.style.cssText).split(";");for(n=0,k=b.length;n<k;n++){X=b[n];if(X.length){e=X.split(":");m=a(e[0].toLowerCase());c=a(e[1]);if(m!=this.greedyProperty){continue}return m.indexOf("color")>=0?H.toHex(c):c}}}}},getFormatInner:function(a){var c=R(H.isDataNode(a)?a.parentNode:a);var Y=c.parentsUntil("[contentEditable]").addBack().toArray().reverse();var Z,b,X;for(Z=0,b=Y.length;Z<b;Z++){X=this.greedyProperty=="className"?Y[Z].className:this.getInlineCssValue(Y[Z]);if(X){return X}}return"inherit"},getFormat:function(Z){var Y=this.getFormatInner(Z[0]),X,a;for(X=1,a=Z.length;X<a;X++){if(Y!=this.getFormatInner(Z[X])){return""}}return Y},isFormatted:function(X){return this.getFormat(X)!==""}});var W=K.extend({init:function(X,Y,Z){K.fn.init.call(this,X,Y);this.values=Y;this.finder=new M(X,Z);if(Z){this.greedyProperty=P.toCamelCase(Z)}},activate:function(a,Z){var Y=this.greedyProperty;var X="apply";this.split(a);if(Y&&this.values.style[Y]=="inherit"){X="remove"}this[X](Z)}});var V=L.extend({init:function(X){L.fn.init.call(this,I(X,{finder:new U(X.format),formatter:function(){return new K(X.format)}}))}});var F=B.extend({update:function(X,Z){var Y=X.data(this.type);Y.close();Y.value(this.finder.getFormat(Z))}});var A=F.extend({init:function(X){B.fn.init.call(this,X);this.type=(P.support.browser.msie||P.support.touch)?"kendoDropDownList":"kendoComboBox";this.format=[{tags:["span"]}];this.finder=new M(this.format,X.cssAttr)},command:function(X){var Z=this.options,Y=this.format,a={};return new J.FormatCommand(I(X,{formatter:function(){a[Z.domAttr]=X.value;return new W(Y,{style:a},Z.cssAttr)}}))},initialize:function(X,b){var c=b.editor,a=this.options,d=a.name,Z,Y=[];if(a.defaultValue){Y=[{text:c.options.messages[a.defaultValue[0].text],value:a.defaultValue[0].value}]}Z=Y.concat(a.items?a.items:(c.options[d]||[]));X[this.type]({dataTextField:"text",dataValueField:"value",dataSource:Z,change:function(){B.exec(c,d,this.value())},highlightFirst:false});X.closest(".k-widget").removeClass("k-"+d).find("*").addBack().attr("unselectable","on");X.data(this.type).value("inherit")}});var C=B.extend({init:function(X){B.fn.init.call(this,X);this.format=[{tags:["span"]}];this.finder=new M(this.format,X.cssAttr)},options:{palette:"websafe"},update:function(){this._widget.close()},command:function(X){var Z=this.options,Y=this.format,a={};return new J.FormatCommand(I(X,{formatter:function(){a[Z.domAttr]=X.value;return new W(Y,{style:a},Z.cssAttr)}}))},initialize:function(X,a){var b=a.editor,c=this.name,Z=I({},C.fn.options,this.options),Y=Z.palette;X=this._widget=new P.ui.ColorPicker(X,{value:R.isArray(Y)?Y[0]:"#000",toolIcon:"k-"+Z.name,palette:Y,change:function(){var d=X.value();if(d){B.exec(b,c,d)}b.focus()},activate:function(d){d.preventDefault();X.trigger("change")}});X.wrapper.attr({title:a.title,unselectable:"on"}).find("*").attr("unselectable","on")}});I(J,{InlineFormatFinder:U,InlineFormatter:K,DelayedExecutionTool:F,GreedyInlineFormatFinder:M,GreedyInlineFormatter:W,InlineFormatTool:V,FontTool:A,ColorTool:C});N("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]);Q("bold",new V({key:"B",ctrl:true,format:D.bold,template:new E({template:S.buttonTemplate,title:"Bold"})}));N("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]);Q("italic",new V({key:"I",ctrl:true,format:D.italic,template:new E({template:S.buttonTemplate,title:"Italic"})}));N("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]);Q("underline",new V({key:"U",ctrl:true,format:D.underline,template:new E({template:S.buttonTemplate,title:"Underline"})}));N("strikethrough",[{tags:["del","strike"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]);Q("strikethrough",new V({format:D.strikethrough,template:new E({template:S.buttonTemplate,title:"Strikethrough"})}));N("superscript",[{tags:["sup"]}]);Q("superscript",new V({format:D.superscript,template:new E({template:S.buttonTemplate,title:"Superscript"})}));N("subscript",[{tags:["sub"]}]);Q("subscript",new V({format:D.subscript,template:new E({template:S.buttonTemplate,title:"Subscript"})}));Q("foreColor",new C({cssAttr:"color",domAttr:"color",name:"foreColor",template:new E({template:S.colorPickerTemplate,title:"Color"})}));Q("backColor",new C({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new E({template:S.colorPickerTemplate,title:"Background Color"})}));Q("fontName",new A({cssAttr:"font-family",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new E({template:S.comboBoxTemplate,title:"Font Name"})}));Q("fontSize",new A({cssAttr:"font-size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new E({template:S.comboBoxTemplate,title:"Font Size"})}))})(window.kendo.jQuery);(function(P){var I=window.kendo,D=I.Class,G=P.extend,E=I.ui.editor,B=I.ui.Editor.fn.options.formats,F=E.Dom,T=E.Command,C=E.ToolTemplate,J=E.FormatTool,R=E.EditorUtils,O=R.registerTool,L=R.registerFormat,M=E.RangeUtils;var N=D.extend({init:function(U){this.format=U},contains:function(W,Y){var V,X,U;for(V=0,X=Y.length;V<X;V++){U=Y[V];if(!U||!F.isAncestorOrSelf(W,U)){return false}}return true},findSuitable:function(Y){var W=this.format,X=[],V,Z,U;for(V=0,Z=Y.length;V<Z;V++){for(var a=W.length-1;a>=0;a--){U=F.ofType(Y[V],W[a].tags)?Y[V]:F.parentOfType(Y[V],W[a].tags);if(U){break}}if(!U||U.contentEditable==="true"){return[]}if(P.inArray(U,X)<0){X.push(U)}}for(V=0,Z=X.length;V<Z;V++){if(this.contains(X[V],X)){return[X[V]]}}return X},findFormat:function(V){var U=this.format,W,a,Y,b,X;var Z=F.editableParent(V);for(W=0,a=U.length;W<a;W++){Y=V;b=U[W].tags;X=U[W].attr;while(Y&&F.isAncestorOf(Z,Y)){if(F.ofType(Y,b)&&F.attrEquals(Y,X)){return Y}Y=Y.parentNode}}return null},getFormat:function(W){var V=this,Y=function(a){return V.findFormat(F.isDataNode(a)?a.parentNode:a)},X=Y(W[0]),U,Z;if(!X){return""}for(U=1,Z=W.length;U<Z;U++){if(X!=Y(W[U])){return""}}return X.nodeName.toLowerCase()},isFormatted:function(V){for(var U=0,W=V.length;U<W;U++){if(!this.findFormat(V[U])){return false}}return true}});var A=D.extend({init:function(U,V){this.format=U;this.values=V;this.finder=new N(U)},wrap:function(U,X,c){var W=c.length==1?F.blockParentOrBody(c[0]):F.commonAncestor.apply(null,c);if(F.isInline(W)){W=F.blockParentOrBody(W)}var Z=F.significantChildNodes(W),a=F.findNodeIndex(Z[0]),b=F.create(W.ownerDocument,U,X),Y,V;for(Y=0;Y<Z.length;Y++){V=Z[Y];if(F.isBlock(V)){F.attr(V,X);if(b.childNodes.length){F.insertBefore(b,V);b=b.cloneNode(false)}a=F.findNodeIndex(V)+1;continue}b.appendChild(V)}if(b.firstChild){F.insertAt(W,b,a)}},apply:function(e){var V,c=this.values;function X(f){return G({},f&&f.attr,c)}var Z=F.filter("img",e);var a=R.formatByName("img",this.format);var b=X(a);P.each(Z,function(){F.attr(this,b)});if(Z.length==e.length){return}var U=F.filter("img",e,true);var W=this.finder.findSuitable(U);if(W.length){for(var Y=0,d=W.length;Y<d;Y++){V=R.formatByName(F.name(W[Y]),this.format);F.attr(W[Y],X(V))}}else{V=this.format[0];this.wrap(V.tags[0],X(V),U)}},remove:function(Y){var V,W,Z,U,X;for(V=0,W=Y.length;V<W;V++){Z=this.finder.findFormat(Y[V]);if(Z){X=F.name(Z);if(X=="div"&&!Z.getAttribute("class")){F.unwrap(Z)}else{U=R.formatByName(X,this.format);if(U.attr.style){F.unstyle(Z,U.attr.style)}if(U.attr.className){F.removeClass(Z,U.attr.className)}}}}},toggle:function(W){var U=this,V=M.nodes(W);if(U.finder.isFormatted(V)){U.remove(V)}else{U.apply(V)}}});var K=D.extend({init:function(U,W){var V=this;V.format=U;V.values=W;V.finder=new N(U)},apply:function(e){var W=this.format;var X=F.blockParents(e);var Y=W[0].tags[0];var Z,a,V,b,c;var U;var d;if(X.length){for(Z=0,a=X.length;Z<a;Z++){d=F.name(X[Z]);if(d=="li"){V=X[Z].parentNode;b=new E.ListFormatter(V.nodeName.toLowerCase(),Y);c=this.editor.createRange();c.selectNode(X[Z]);b.toggle(c)}else{if(Y&&(d=="td"||X[Z].attributes.contentEditable)){new A(W,this.values).apply(X[Z].childNodes)}else{U=F.changeTag(X[Z],Y);F.attr(U,W[0].attr)}}}}else{new A(W,this.values).apply(e)}},toggle:function(V){var U=M.textNodes(V);if(!U.length){V.selectNodeContents(V.commonAncestorContainer);U=M.textNodes(V);if(!U.length){U=F.significantChildNodes(V.commonAncestorContainer)}}this.apply(U)}});var Q=T.extend({init:function(U){U.formatter=U.formatter();T.fn.init.call(this,U)}});var H=J.extend({init:function(U){J.fn.init.call(this,G(U,{finder:new N(U.format),formatter:function(){return new A(U.format)}}))}});G(E,{BlockFormatFinder:N,BlockFormatter:A,GreedyBlockFormatter:K,FormatCommand:Q,BlockFormatTool:H});var S=["ul","ol","li"];L("justifyLeft",[{tags:F.nonListBlockElements,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{"float":"left",display:"",marginLeft:"",marginRight:""}}},{tags:S,attr:{style:{textAlign:"left",listStylePosition:""}}}]);O("justifyLeft",new H({format:B.justifyLeft,template:new C({template:R.buttonTemplate,title:"Justify Left"})}));L("justifyCenter",[{tags:F.nonListBlockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto","float":""}}},{tags:S,attr:{style:{textAlign:"center",listStylePosition:"inside"}}}]);O("justifyCenter",new H({format:B.justifyCenter,template:new C({template:R.buttonTemplate,title:"Justify Center"})}));L("justifyRight",[{tags:F.nonListBlockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{"float":"right",display:"",marginLeft:"",marginRight:""}}},{tags:S,attr:{style:{textAlign:"right",listStylePosition:"inside"}}}]);O("justifyRight",new H({format:B.justifyRight,template:new C({template:R.buttonTemplate,title:"Justify Right"})}));L("justifyFull",[{tags:F.nonListBlockElements,attr:{style:{textAlign:"justify"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto","float":""}}},{tags:S,attr:{style:{textAlign:"justify",listStylePosition:""}}}]);O("justifyFull",new H({format:B.justifyFull,template:new C({template:R.buttonTemplate,title:"Justify Full"})}))})(window.kendo.jQuery);(function(K){var C=window.kendo,H=K.extend,J=C.ui.editor,D=J.Dom,E=J.Command,I=J.Tool,A=J.BlockFormatter,M=D.normalize,L=J.RangeUtils,G=J.EditorUtils.registerTool;var F=E.extend({init:function(N){this.options=N;E.fn.init.call(this,N)},_insertMarker:function(Q,P){var N=D.create(Q,"a"),O;N.className="k-marker";P.insertNode(N);if(!N.parentNode){O=P.commonAncestorContainer;O.innerHTML="";O.appendChild(N)}M(N.parentNode);return N},_moveFocus:function(P,N){if(D.isEmpty(N)){P.setStartBefore(N)}else{P.selectNodeContents(N);var O=L.textNodes(P)[0];if(!O){while(N.childNodes.length&&!D.is(N.firstChild,"br")){N=N.firstChild}O=N}if(D.isEmpty(O)){P.setStartBefore(O)}else{P.selectNodeContents(O)}}},shouldTrim:function(Q){var N="p,h1,h2,h3,h4,h5,h6".split(","),O=D.parentOfType(Q.startContainer,N),P=D.parentOfType(Q.endContainer,N);return(O&&!P)||(!O&&P)},_blankAfter:function(N){while(N&&(D.isMarker(N)||D.stripBom(N.nodeValue)==="")){N=N.nextSibling}return !N},exec:function(){var V=this.getRange(),U=L.documentFromRange(V),W,T,Q,X=J.emptyElementContent,R,P,S,Y,O,N=this.shouldTrim(V);V.deleteContents();P=this._insertMarker(U,V);S=D.closestEditableOfType(P,["li"]);Y=D.closestEditableOfType(P,"h1,h2,h3,h4,h5,h6".split(","));if(S){if(D.emptyNode(S)){R=D.create(U,"p");if(S.nextSibling){O=V.cloneRange();O.selectNode(S);L.split(O,S.parentNode)}D.insertAfter(R,S.parentNode);D.remove(S.parentNode.childNodes.length==1?S.parentNode:S);R.innerHTML=X;Q=R}}else{if(Y&&this._blankAfter(P)){R=D.create(U,"p");D.insertAfter(R,Y);R.innerHTML=X;D.remove(P);Q=R}}if(!Q){if(!(S||Y)){new A([{tags:["p"]}]).apply([P])}V.selectNode(P);W=D.parentOfType(P,[S?"li":Y?D.name(Y):"p"]);L.split(V,W,N);T=W.previousSibling;if(D.is(T,"li")&&T.firstChild&&!D.is(T.firstChild,"br")){T=T.firstChild}Q=W.nextSibling;this.clean(T);this.clean(Q,{links:true});if(D.is(Q,"li")&&Q.firstChild&&!D.is(Q.firstChild,"br")){Q=Q.firstChild}D.remove(W);M(T)}M(Q);this._moveFocus(V,Q);V.collapse(true);D.scrollTo(Q);L.selectRange(V)},clean:function(P,Q){var O=P;if(P.firstChild&&D.is(P.firstChild,"br")){D.remove(P.firstChild)}if(D.isDataNode(P)&&!P.nodeValue){P=P.parentNode}if(P){var N=false;while(P.firstChild&&P.firstChild.nodeType==1){N=N||(D.significantNodes(P.childNodes).length>1);P=P.firstChild}if(!D.isEmpty(P)&&/^\s*$/.test(P.innerHTML)&&!N){K(O).find(".k-br").remove();P.innerHTML=J.emptyElementContent}if(Q&&Q.links){while(P!=O){if(D.is(P,"a")&&D.emptyNode(P)){D.unwrap(P);break}P=P.parentNode}}}}});var B=E.extend({init:function(N){this.options=N;E.fn.init.call(this,N)},exec:function(){var Q=this.getRange();var P=D.create(L.documentFromRange(Q),"br");var O;var N=C.support.browser;var R=N.msie&&N.version<11;Q.deleteContents();Q.insertNode(P);M(P.parentNode);if(!R&&(!P.nextSibling||D.isWhitespace(P.nextSibling))){O=P.cloneNode(true);O.className="k-br";D.insertAfter(O,P)}Q.setStartAfter(P);Q.collapse(true);D.scrollTo(P.nextSibling||P);L.selectRange(Q)}});H(J,{ParagraphCommand:F,NewLineCommand:B});G("insertLineBreak",new I({key:13,shift:true,command:B}));G("insertParagraph",new I({key:13,command:F}))})(window.kendo.jQuery);(function(P){var N=window.kendo,F=N.Class,H=P.extend,I=N.ui.editor,G=I.Dom,M=I.RangeUtils,Q=I.EditorUtils,R=I.Command,E=I.ToolTemplate,J=I.FormatTool,D=I.BlockFormatFinder,K=M.textNodes,O=I.EditorUtils.registerTool;var A=D.extend({init:function(S){this.tag=S;var T=this.tags=[S=="ul"?"ol":"ul",S];D.fn.init.call(this,[{tags:T}])},isFormatted:function(U){var T=[];var V,S;for(S=0;S<U.length;S++){V=this.findFormat(U[S]);if(V&&G.name(V)==this.tag){T.push(V)}}if(T.length<1){return false}if(T.length!=U.length){return false}for(S=0;S<T.length;S++){if(T[S].parentNode!=V.parentNode){break}if(T[S]!=V){return false}}return true},findSuitable:function(T){var S=this.findFormat(T[0]);if(S&&G.name(S)==this.tag){return S}return null}});var C=F.extend({init:function(S,U){var T=this;T.finder=new A(S);T.tag=S;T.unwrapTag=U},isList:function(S){var T=G.name(S);return T=="ul"||T=="ol"||T=="dl"},wrap:function(V,T){var W=G.create(V.ownerDocument,"li"),S,U;for(S=0;S<T.length;S++){U=T[S];if(G.is(U,"li")){V.appendChild(U);continue}if(this.isList(U)){while(U.firstChild){V.appendChild(U.firstChild)}continue}if(G.is(U,"td")){while(U.firstChild){W.appendChild(U.firstChild)}V.appendChild(W);U.appendChild(V);V=V.cloneNode(false);W=W.cloneNode(false);continue}W.appendChild(U);if(G.isBlock(U)){V.appendChild(W);G.unwrap(U);W=W.cloneNode(false)}}if(W.firstChild){V.appendChild(W)}},containsAny:function(U,T){for(var S=0;S<T.length;S++){if(G.isAncestorOrSelf(U,T[S])){return true}}return false},suitable:function(S,U){if(S.className=="k-marker"){var T=S.nextSibling;if(T&&G.isBlock(T)){return false}T=S.previousSibling;if(T&&G.isBlock(T)){return false}}return this.containsAny(S,U)||G.isInline(S)||S.nodeType==3},_parentLists:function(T){var S=G.closestEditable(T);return P(T).parentsUntil(S,"ul,ol")},split:function(X){var Z=K(X);var S,T,V;if(Z.length){S=G.parentOfType(Z[0],["li"]);T=G.parentOfType(Z[Z.length-1],["li"]);X.setStartBefore(S);X.setEndAfter(T);for(var U=0,W=Z.length;U<W;U++){var Y=this.finder.findFormat(Z[U]);if(Y){V=this._parentLists(Y);if(V.length){M.split(X,V.last()[0],true)}else{M.split(X,Y,true)}}}}},merge:function(S,V){var T=V.previousSibling,U;while(T&&(T.className=="k-marker"||(T.nodeType==3&&G.isWhitespace(T)))){T=T.previousSibling}if(T&&G.name(T)==S){while(V.firstChild){T.appendChild(V.firstChild)}G.remove(V);V=T}U=V.nextSibling;while(U&&(U.className=="k-marker"||(U.nodeType==3&&G.isWhitespace(U)))){U=U.nextSibling}if(U&&G.name(U)==S){while(V.lastChild){U.insertBefore(V.lastChild,U.firstChild)}G.remove(V)}},breakable:function(S){return(S!=S.ownerDocument.body&&!/table|tbody|tr|td/.test(G.name(S))&&!S.attributes.contentEditable)},applyOnSection:function(a,c){var Y=this.tag;var V=G.closestSplittableParent(c);var X=[];var b=this.finder.findSuitable(c);if(!b){b=new A(Y=="ul"?"ol":"ul").findSuitable(c)}var S;if(/table|tbody/.test(G.name(V))){S=P.map(c,function(d){return G.parentOfType(d,["td"])})}else{S=G.significantChildNodes(V);if(P.grep(S,G.isBlock).length){S=P.grep(S,P.proxy(function(d){return this.containsAny(d,c)},this))}if(!S.length){S=c}}function U(){X.push(this)}for(var W=0;W<S.length;W++){var Z=S[W];var T=(!b||!G.isAncestorOrSelf(b,Z))&&this.suitable(Z,c);if(!T){continue}if(b&&this.isList(Z)){P.each(Z.childNodes,U);G.remove(Z)}else{X.push(Z)}}if(X.length==S.length&&this.breakable(V)){X=[V]}if(!b){b=G.create(V.ownerDocument,Y);G.insertBefore(b,X[0])}this.wrap(b,X);if(!G.is(b,Y)){G.changeTag(b,Y)}this.merge(Y,b)},apply:function(V){var S=0,X=[],T,W,U;do{U=G.closestEditable(V[S],["td","body"]);if(!T||U!=T){if(T){X.push({section:T,nodes:W})}W=[V[S]];T=U}else{W.push(V[S])}S++}while(S<V.length);X.push({section:T,nodes:W});for(S=0;S<X.length;S++){this.applyOnSection(X[S].section,X[S].nodes)}},unwrap:function(W){var Y=W.ownerDocument.createDocumentFragment(),V=this.unwrapTag,T,X,U,S;for(X=W.firstChild;X;X=X.nextSibling){U=G.create(W.ownerDocument,V||"p");while(X.firstChild){S=X.firstChild;if(G.isBlock(S)){if(U.firstChild){Y.appendChild(U);U=G.create(W.ownerDocument,V||"p")}Y.appendChild(S)}else{U.appendChild(S)}}if(U.firstChild){Y.appendChild(U)}}T=this._parentLists(W);if(T[0]){G.insertAfter(Y,T.last()[0]);T.last().remove()}else{G.insertAfter(Y,W)}G.remove(W)},remove:function(U){var V;for(var S=0,T=U.length;S<T;S++){V=this.finder.findFormat(U[S]);if(V){this.unwrap(V)}}},toggle:function(W){var T=this,V=K(W),S=W.commonAncestorContainer;if(!V.length){W.selectNodeContents(S);V=K(W);if(!V.length){var U=S.ownerDocument.createTextNode("");W.startContainer.appendChild(U);V=[U];W.selectNode(U.parentNode)}}if(T.finder.isFormatted(V)){T.split(W);T.remove(V)}else{T.apply(V)}}});var L=R.extend({init:function(S){S.formatter=new C(S.tag);R.fn.init.call(this,S)}});var B=J.extend({init:function(S){this.options=S;J.fn.init.call(this,H(S,{finder:new A(S.tag)}))},command:function(S){return new L(H(S,{tag:this.options.tag}))}});H(I,{ListFormatFinder:A,ListFormatter:C,ListCommand:L,ListTool:B});O("insertUnorderedList",new B({tag:"ul",template:new E({template:Q.buttonTemplate,title:"Insert unordered list"})}));O("insertOrderedList",new B({tag:"ol",template:new E({template:Q.buttonTemplate,title:"Insert ordered list"})}))})(window.kendo.jQuery);(function(S,R){var P=window.kendo,D=P.Class,F=S.extend,L=S.proxy,H=P.ui.editor,E=H.Dom,N=H.RangeUtils,T=H.EditorUtils,V=H.Command,A=H.Tool,C=H.ToolTemplate,I=H.InlineFormatter,U=H.InlineFormatFinder,K=N.textNodes,Q=H.EditorUtils.registerTool;var B=D.extend({findSuitable:function(W){return E.parentOfType(W,["a"])}});var J=D.extend({init:function(){this.finder=new B()},apply:function(e,b){var g=K(e);var X,c,d,W,f;if(b.innerHTML){c=N.documentFromRange(e);X=N.getMarkers(e);e.deleteContents();W=E.create(c,"a",b);e.insertNode(W);f=W.parentNode;if(E.name(f)=="a"){E.insertAfter(W,f)}if(E.emptyNode(f)){E.remove(f)}var Y=W;for(var Z=0;Z<X.length;Z++){E.insertAfter(X[Z],Y);Y=X[Z]}if(X.length){E.insertBefore(c.createTextNode("\ufeff"),X[1]);E.insertAfter(c.createTextNode("\ufeff"),X[1]);e.setStartBefore(X[0]);e.setEndAfter(X[X.length-1])}}else{d=new I([{tags:["a"]}],b);d.finder=this.finder;d.apply(g)}}});var G=V.extend({init:function(W){W.formatter={toggle:function(X){new I([{tags:["a"]}]).remove(K(X))}};this.options=W;V.fn.init.call(this,W)}});var M=V.extend({init:function(W){this.options=W;V.fn.init.call(this,W);this.formatter=new J();if(!W.url){this.attributes=null;this.async=true}else{this.exec=function(){this.formatter.apply(W.range,{href:W.url,innerHTML:W.text||W.url,target:W.target})}}},_dialogTemplate:function(){return P.template("<div class=\"k-editor-dialog k-popup-edit-form k-edit-form-container\"><div class='k-edit-label'><label for='k-editor-link-url'>#: messages.linkWebAddress #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-url'></div><div class='k-edit-label k-editor-link-text-row'><label for='k-editor-link-text'>#: messages.linkText #</label></div><div class='k-edit-field k-editor-link-text-row'><input type='text' class='k-input k-textbox' id='k-editor-link-text'></div><div class='k-edit-label'><label for='k-editor-link-title'>#: messages.linkToolTip #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-title'></div><div class='k-edit-label'></div><div class='k-edit-field'><input type='checkbox' class='k-checkbox' id='k-editor-link-target'><label for='k-editor-link-target' class='k-checkbox-label'>#: messages.linkOpenInNewWindow #</label></div><div class='k-edit-buttons k-state-default'><button class=\"k-dialog-insert k-button k-primary\">#: messages.dialogInsert #</button><button class=\"k-dialog-close k-button\">#: messages.dialogCancel #</button></div></div>")({messages:this.editor.options.messages})},exec:function(){var W=this.getRange().collapsed;var X=this.editor.options.messages;this._initialText="";this._range=this.lockRange(true);var Y=K(this._range);var b=Y.length?this.formatter.finder.findSuitable(Y[0]):null;var Z=Y.length&&E.name(Y[0])=="img";var c=this.createDialog(this._dialogTemplate(),{title:X.createLink,close:L(this._close,this),visible:false});if(b){this._range.selectNodeContents(b);Y=K(this._range)}this._initialText=this.linkText(Y);c.find(".k-dialog-insert").click(L(this._apply,this)).end().find(".k-dialog-close").click(L(this._close,this)).end().find(".k-edit-field input").keydown(L(this._keydown,this)).end().find("#k-editor-link-url").val(this.linkUrl(b)).end().find("#k-editor-link-text").val(this._initialText).end().find("#k-editor-link-title").val(b?b.title:"").end().find("#k-editor-link-target").attr("checked",b?b.target=="_blank":false).end().find(".k-editor-link-text-row").toggle(!Z);this._dialog=c.data("kendoWindow").center().open();S("#k-editor-link-url",c).focus().select()},_keydown:function(W){var X=P.keys;if(W.keyCode==X.ENTER){this._apply(W)}else{if(W.keyCode==X.ESC){this._close(W)}}},_apply:function(Y){var c=this._dialog.element;var W=S("#k-editor-link-url",c).val();var a,Z,b;var X=S("#k-editor-link-text",c);if(W&&W!="http://"){if(W.indexOf("@")>0&&!/^(\w+:)|(\/\/)/i.test(W)){W="mailto:"+W}this.attributes={href:W};a=S("#k-editor-link-title",c).val();if(a){this.attributes.title=a}if(X.is(":visible")){Z=X.val();if(!Z&&!this._initialText){this.attributes.innerHTML=W}else{if(Z&&(Z!==this._initialText)){this.attributes.innerHTML=E.stripBom(Z)}}}b=S("#k-editor-link-target",c).is(":checked");this.attributes.target=b?"_blank":null;this.formatter.apply(this._range,this.attributes)}this._close(Y);if(this.change){this.change()}},_close:function(W){W.preventDefault();this._dialog.destroy();E.windowFromDocument(N.documentFromRange(this._range)).focus();this.releaseRange(this._range)},linkUrl:function(W){if(W){return W.getAttribute("href",2)}return"http://"},linkText:function(Y){var X="";var W;for(W=0;W<Y.length;W++){X+=Y[W].nodeValue}return E.stripBom(X||"")},redo:function(){var W=this.lockRange(true);this.formatter.apply(W,this.attributes);this.releaseRange(W)}});var O=A.extend({init:function(W){this.options=W;this.finder=new U([{tags:["a"]}]);A.fn.init.call(this,S.extend(W,{command:G}))},initialize:function(W,X){A.fn.initialize.call(this,W,X);W.addClass("k-state-disabled")},update:function(W,X){W.toggleClass("k-state-disabled",!this.finder.isFormatted(X)).removeClass("k-state-hover")}});F(P.ui.editor,{LinkFormatFinder:B,LinkFormatter:J,UnlinkCommand:G,LinkCommand:M,UnlinkTool:O});Q("createLink",new A({key:"K",ctrl:true,command:M,template:new C({template:T.buttonTemplate,title:"Create Link"})}));Q("unlink",new O({key:"K",ctrl:true,shift:true,template:new C({template:T.buttonTemplate,title:"Remove Link"})}))})(window.kendo.jQuery);(function(O,N){var F=window.kendo,E=O.extend,C=F.ui.editor,P=C.EditorUtils,D=C.Dom,M=P.registerTool,B=C.ToolTemplate,K=C.RangeUtils,Q=C.Command,H=C.LinkFormatter,I=K.textNodes,J=F.keys,A="#k-editor-file-url",L="#k-editor-file-title";var G=Q.extend({init:function(S){var R=this;Q.fn.init.call(R,S);R.formatter=new H();R.async=true;R.attributes={}},insertFile:function(T,S){var R=this.attributes;var U=K.documentFromRange(S);if(R.href&&R.href!="http://"){if(!T){T=D.create(U,"a",{href:R.href});T.innerHTML=R.innerHTML;S.deleteContents();S.insertNode(T);if(!T.nextSibling){D.insertAfter(U.createTextNode("\ufeff"),T)}S.setStartAfter(T);S.setEndAfter(T);K.selectRange(S);return true}else{D.attr(T,R)}}return false},_dialogTemplate:function(R){return F.template('<div class="k-editor-dialog k-popup-edit-form k-edit-form-container"># if (showBrowser) { #<div class="k-filebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-file-url">#: messages.fileWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-file-url"></div><div class=\'k-edit-label\'><label for="k-editor-file-title">#: messages.fileTitle #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-file-title"></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button k-primary">#: messages.dialogInsert #</button><button class="k-dialog-close k-button">#: messages.dialogCancel #</button></div></div>')({messages:this.editor.options.messages,showBrowser:R})},redo:function(){var R=this,S=R.lockRange();this.formatter.apply(S,this.attributes);R.releaseRange(S)},exec:function(){var a=this,b=a.lockRange(),e=I(b),W=false,X=e.length?this.formatter.finder.findSuitable(e[0]):null,V,Y=a.editor.options,S=Y.messages,c=Y.fileBrowser,R=!!(F.ui.FileBrowser&&c&&c.transport&&c.transport.read!==N),Z={title:S.insertFile,visible:false,resizable:R};function d(g){var j=V.element,f=j.find(A).val().replace(/ /g,"%20"),h=j.find(L).val();a.attributes={href:f,innerHTML:h!==""?h:f};W=a.insertFile(X,b);U(g);if(a.change){a.change()}}function U(f){f.preventDefault();V.destroy();D.windowFromDocument(K.documentFromRange(b)).focus();if(!W){a.releaseRange(b)}}function T(f){if(f.keyCode==J.ENTER){d(f)}else{if(f.keyCode==J.ESC){U(f)}}}Z.close=U;if(R){Z.width=750}V=this.createDialog(a._dialogTemplate(R),Z).toggleClass("k-filebrowser-dialog",R).find(".k-dialog-insert").click(d).end().find(".k-dialog-close").click(U).end().find(".k-edit-field input").keydown(T).end().find(A).val(X?X.getAttribute("href",2):"http://").end().find(L).val(X?X.title:"").end().data("kendoWindow");if(R){new F.ui.FileBrowser(V.element.find(".k-filebrowser"),E({},c,{change:function(){V.element.find(A).val(this.value())},apply:d}))}V.center().open();V.element.find(A).focus().select()}});F.ui.editor.FileCommand=G;M("insertFile",new C.Tool({command:G,template:new B({template:P.buttonTemplate,title:"Insert File"})}))})(window.kendo.jQuery);(function(O,A){var L=window.kendo,F=O.extend,I=L.ui.editor,P=I.EditorUtils,E=I.Dom,M=P.registerTool,C=I.ToolTemplate,K=I.RangeUtils,Q=I.Command,J=L.keys,H="#k-editor-image-url",N="#k-editor-image-title",D="#k-editor-image-width",B="#k-editor-image-height";var G=Q.extend({init:function(S){var R=this;Q.fn.init.call(R,S);R.async=true;R.attributes={}},insertImage:function(U,S){var R=this.attributes;var V=K.documentFromRange(S);if(R.src&&R.src!="http://"){var T=function(){setTimeout(function(){if(!R.width){U.removeAttribute("width")}if(!R.height){U.removeAttribute("height")}U.removeAttribute("complete")})};if(!U){U=E.create(V,"img",R);U.onload=U.onerror=T;S.deleteContents();S.insertNode(U);if(!U.nextSibling){E.insertAfter(V.createTextNode("\ufeff"),U)}T();S.setStartAfter(U);S.setEndAfter(U);K.selectRange(S);return true}else{U.onload=U.onerror=T;E.attr(U,R);T()}}return false},_dialogTemplate:function(R){return L.template('<div class="k-editor-dialog k-popup-edit-form k-edit-form-container"># if (showBrowser) { #<div class="k-filebrowser k-imagebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-image-url">#: messages.imageWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-url"></div><div class=\'k-edit-label\'><label for="k-editor-image-title">#: messages.imageAltText #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-title"></div><div class=\'k-edit-label\'><label for="k-editor-image-width">#: messages.imageWidth #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-width"></div><div class=\'k-edit-label\'><label for="k-editor-image-height">#: messages.imageHeight #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-height"></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button k-primary">#: messages.dialogInsert #</button><button class="k-dialog-close k-button">#: messages.dialogCancel #</button></div></div>')({messages:this.editor.options.messages,showBrowser:R})},redo:function(){var R=this,S=R.lockRange();if(!R.insertImage(K.image(S),S)){R.releaseRange(S)}},exec:function(){var Z=this,d=Z.lockRange(),Y=false,U=K.image(d),T=U&&U.getAttribute("width")||"",R=U&&U.getAttribute("height")||"",X,a=Z.editor.options,f=a.messages,c=a.imageBrowser,S=!!(L.ui.ImageBrowser&&c&&c.transport&&c.transport.read!==A),b={title:f.insertImage,visible:false,resizable:S};function e(j){var l=X.element,k=parseInt(l.find(D).val(),10),g=parseInt(l.find(B).val(),10);Z.attributes={src:l.find(H).val().replace(/ /g,"%20"),alt:l.find(N).val()};Z.attributes.width=null;Z.attributes.height=null;if(!isNaN(k)&&k>0){Z.attributes.width=k}if(!isNaN(g)&&g>0){Z.attributes.height=g}Y=Z.insertImage(U,d);W(j);if(Z.change){Z.change()}}function W(g){g.preventDefault();X.destroy();E.windowFromDocument(K.documentFromRange(d)).focus();if(!Y){Z.releaseRange(d)}}function V(g){if(g.keyCode==J.ENTER){e(g)}else{if(g.keyCode==J.ESC){W(g)}}}b.close=W;if(S){b.width=750}X=this.createDialog(Z._dialogTemplate(S),b).toggleClass("k-filebrowser-dialog",S).find(".k-dialog-insert").click(e).end().find(".k-dialog-close").click(W).end().find(".k-edit-field input").keydown(V).end().find(H).val(U?U.getAttribute("src",2):"http://").end().find(N).val(U?U.alt:"").end().find(D).val(T).end().find(B).val(R).end().data("kendoWindow");if(S){new L.ui.ImageBrowser(X.element.find(".k-imagebrowser"),F({},c,{change:function(){X.element.find(H).val(this.value())},apply:e}))}X.center().open();X.element.find(H).focus().select()}});L.ui.editor.ImageCommand=G;M("insertImage",new I.Tool({command:G,template:new C({template:P.buttonTemplate,title:"Insert Image"})}))})(window.kendo.jQuery);(function(F,C){var B=window.kendo,D=B.ui.DropDownList,A=B.ui.editor.Dom;var E=D.extend({init:function(I,H){var G=this;D.fn.init.call(G,I,H);if(B.support.mobileOS.ios){this._initSelectOverlay();this.bind("dataBound",F.proxy(this._initSelectOverlay,this))}G.text(G.options.title);G.bind("open",function(){if(G.options.autoSize){var K=G.list,J;K.css({whiteSpace:"nowrap",width:"auto"});J=K.width();if(J){J+=20}else{J=G._listWidth}K.css("width",J+B.support.scrollbar());G._listWidth=J}})},options:{name:"SelectBox",index:-1},_initSelectOverlay:function(){var K=this;var I=K.value();var G=this.dataSource.view();var O;var N="";var H=B.htmlEncode;for(var J=0;J<G.length;J++){O=G[J];N+="<option value='"+H(O.value)+"'";if(O.value==I){N+=" selected"}N+=">"+H(O.text)+"</option>"}var L=F("<select class='k-select-overlay'>"+N+"</select>");var M=F(this.element).closest(".k-widget");M.next(".k-select-overlay").remove();L.insertAfter(M);L.on("change",function(){K.value(this.value);K.trigger("change")})},value:function(I){var H=this,G=D.fn.value.call(H,I);if(I===C){return G}if(!D.fn.value.call(H)){H.text(H.options.title)}},decorate:function(K){var J=this,N=J.dataSource,M=N.data(),I,G,L,H;if(K){J.list.css("background-color",A.getEffectiveBackground(F(K)))}for(I=0;I<M.length;I++){G=M[I].tag||"span";L=M[I].className;H=A.inlineStyle(K,G,{className:L});H=H.replace(/"/g,"'");M[I].style=H+";display:inline-block"}N.trigger("change")}});B.ui.plugin(E);B.ui.editor.SelectBox=E})(window.kendo.jQuery);(function(R,Q){var K=window.kendo,G=K.Class,J=R.extend,H=K.ui.editor,I=H.Dom,S=H.EditorUtils,P=S.registerTool,T=H.Command,B=H.Tool,F=H.ToolTemplate,M=H.RangeUtils,L=I.blockElements,O=H.BlockFormatFinder,C=H.BlockFormatter;function N(W,Y){var V=R(W).css("direction")=="rtl",Z=V?"Right":"Left",X=I.name(W)!="td"?"margin"+Z:"padding"+Z;if(Y===Q){return W.style[X]||0}else{if(Y>0){W.style[X]=Y+"px"}else{W.style[X]="";if(!W.style.cssText){W.removeAttribute("style")}}}}var A=G.extend({init:function(){this.finder=new O([{tags:I.blockElements}])},apply:function(h){var Z=this.finder.findSuitable(h),b=[],a,d,f,g,c;if(Z.length){for(a=0,d=Z.length;a<d;a++){if(I.is(Z[a],"li")){if(!R(Z[a]).index()){b.push(Z[a].parentNode)}else{if(R.inArray(Z[a].parentNode,b)<0){b.push(Z[a])}}}else{b.push(Z[a])}}while(b.length){f=b.shift();if(I.is(f,"li")){g=f.parentNode;c=R(f).prev("li");var Y=c.find("ul,ol").last();var e=R(f).children("ul,ol")[0];if(e&&c[0]){if(Y[0]){Y.append(f);Y.append(R(e).children());I.remove(e)}else{c.append(e);e.insertBefore(f,e.firstChild)}}else{e=c.children("ul,ol")[0];if(!e){e=I.create(f.ownerDocument,I.name(g));c.append(e)}while(f&&f.parentNode==g){e.appendChild(f);f=b.shift()}}}else{var V=parseInt(N(f),10)+30;N(f,V);for(var W=0;W<b.length;W++){if(R.contains(f,b[W])){b.splice(W,1)}}}}}else{var X=new C([{tags:["p"]}],{style:{marginLeft:30}});X.apply(h)}},remove:function(e){var Y=this.finder.findSuitable(e),Z,a,V,W,b,d,c,X;for(a=0,V=Y.length;a<V;a++){c=R(Y[a]);if(c.is("li")){W=c.parent();b=W.parent();if(b.is("li,ul,ol")&&!N(W[0])){if(Z&&R.contains(Z,b[0])){continue}d=c.nextAll("li");if(d.length){R(W[0].cloneNode(false)).appendTo(c).append(d)}if(b.is("li")){c.insertAfter(b)}else{c.appendTo(b)}if(!W.children("li").length){W.remove()}continue}else{if(Z==W[0]){continue}Z=W[0]}}else{Z=Y[a]}X=parseInt(N(Z),10)-30;N(Z,X)}}});var U=T.extend({init:function(V){V.formatter={toggle:function(W){new A().apply(M.nodes(W))}};T.fn.init.call(this,V)}});var D=T.extend({init:function(V){V.formatter={toggle:function(W){new A().remove(M.nodes(W))}};T.fn.init.call(this,V)}});var E=B.extend({init:function(V){B.fn.init.call(this,V);this.finder=new O([{tags:L}])},initialize:function(V,W){B.fn.initialize.call(this,V,W);V.addClass("k-state-disabled")},update:function(V,Z){var Y=this.finder.findSuitable(Z),X,b,W,a;for(W=0,a=Y.length;W<a;W++){X=N(Y[W]);if(!X){b=R(Y[W]).parents("ul,ol").length;X=(I.is(Y[W],"li")&&(b>1||N(Y[W].parentNode)))||(I.ofType(Y[W],["ul","ol"])&&b>0)}if(X){V.removeClass("k-state-disabled");return}}V.addClass("k-state-disabled").removeClass("k-state-hover")}});J(H,{IndentFormatter:A,IndentCommand:U,OutdentCommand:D,OutdentTool:E});P("indent",new B({command:U,template:new F({template:S.buttonTemplate,title:"Indent"})}));P("outdent",new E({command:D,template:new F({template:S.buttonTemplate,title:"Outdent"})}))})(window.kendo.jQuery);(function(J,A){var D=window.kendo,G=J.extend,B=D.ui.editor,C=B.EditorUtils,E=B.Command,H=B.Tool,F=B.ToolTemplate;var I=E.extend({init:function(L){var K=this;K.options=L;E.fn.init.call(K,L);K.attributes=null;K.async=true},exec:function(){var O=this,L=O.editor,R=L.options.messages,N=J(D.template(I.template)(R)).appendTo(document.body),Q=I.indent(L.value()),P=".k-editor-textarea";function K(S){L.value(N.find(P).val());M(S);if(O.change){O.change()}L.trigger("change")}function M(S){S.preventDefault();N.data("kendoWindow").destroy();L.focus()}this.createDialog(N,{title:R.viewHtml,close:M,visible:false}).find(P).val(Q).end().find(".k-dialog-update").click(K).end().find(".k-dialog-close").click(M).end().data("kendoWindow").center().open();N.find(P).focus()}});G(I,{template:"<div class='k-editor-dialog k-popup-edit-form k-edit-form-container k-viewhtml-dialog'><textarea class='k-editor-textarea k-input'></textarea><div class='k-edit-buttons k-state-default'><button class='k-dialog-update k-button k-primary'>#: dialogUpdate #</button><button class='k-dialog-close k-button'>#: dialogCancel #</button></div></div>",indent:function(K){return K.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/ig,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/ig,"<$1$2>\n<li").replace(/<br \/>/ig,"<br />\n").replace(/\n$/,"")}});D.ui.editor.ViewHtmlCommand=I;B.EditorUtils.registerTool("viewHtml",new H({command:I,template:new F({template:C.buttonTemplate,title:"View HTML"})}))})(window.kendo.jQuery);(function(L){var D=window.kendo,A=D.ui.editor,J=A.Tool,H=A.ToolTemplate,M=A.DelayedExecutionTool,F=A.Command,E=A.Dom,C=A.EditorUtils,I=A.RangeUtils,G=C.registerTool;var K=M.extend({init:function(O){var N=this;J.fn.init.call(N,D.deepExtend({},N.options,O));N.type="kendoSelectBox";N.finder={getFormat:function(){return""}}},options:{items:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],width:110},toFormattingItem:function(O){var P=O.value;if(!P){return O}if(O.tag||O.className){return O}var N=P.indexOf(".");if(N===0){O.className=P.substring(1)}else{if(N==-1){O.tag=P}else{O.tag=P.substring(0,N);O.className=P.substring(N+1)}}return O},command:function(O){var N=O.value;N=this.toFormattingItem(N);return new A.FormatCommand({range:O.range,formatter:function(){var P,Q=(N.tag||N.context||"span").split(","),R=[{tags:Q,attr:{className:N.className||""}}];if(L.inArray(Q[0],E.inlineElements)>=0){P=new A.GreedyInlineFormatter(R)}else{P=new A.GreedyBlockFormatter(R)}return P}})},initialize:function(N,Q){var R=Q.editor;var P=this.options;var S=P.name;var O=this;N.width(P.width);N.kendoSelectBox({dataTextField:"text",dataValueField:"value",dataSource:P.items||R.options[S],title:R.options.messages[S],autoSize:true,change:function(){var T=this.dataItem();if(T){J.exec(R,S,T.toJSON())}},dataBound:function(){var T,U=this.dataSource.data();for(T=0;T<U.length;T++){U[T]=O.toFormattingItem(U[T])}},highlightFirst:false,template:D.template('<span unselectable="on" style="display:block;#=(data.style||"")#">#:data.text#</span>')});N.addClass("k-decorated").closest(".k-widget").removeClass("k-"+S).find("*").addBack().attr("unselectable","on")},getFormattingValue:function(U,V){for(var P=0;P<U.length;P++){var R=U[P];var O=R.tag||R.context||"";var T=R.className?"."+R.className:"";var S=O+T;var N=L(V[0]).closest(S)[0];if(!N){continue}if(V.length==1){return R.value}for(var Q=1;Q<V.length;Q++){if(!L(V[Q]).closest(S)[0]){break}else{if(Q==V.length-1){return R.value}}}}return""},update:function(N,U){var Q=L(N).data(this.type);if(!Q){return}var T=Q.dataSource,S=T.data(),P,O,R=E.commonAncestor.apply(null,U);if(R!=E.closestEditable(R)&&this._ancestor==R){return}else{this._ancestor=R}for(P=0;P<S.length;P++){O=S[P].context;S[P].visible=!O||!!L(R).closest(O).length}T.filter([{field:"visible",operator:"eq",value:true}]);M.fn.update.call(this,N,U);Q.value(this.getFormattingValue(T.view(),U));Q.wrapper.toggleClass("k-state-disabled",!T.view().length)},destroy:function(){this._ancestor=null}});var B=F.extend({exec:function(){var P=new A.ListFormatter("ul");var Q=this.lockRange(true);var N=this.options.remove||"strong,em,span,sup,sub,del,b,i,u,font".split(",");I.wrapSelectedElements(Q);var O=new A.RangeIterator(Q);O.traverse(function R(U){if(!U||E.isMarker(U)){return}var V=E.name(U);if(V=="ul"||V=="ol"){var W=U.previousSibling;var T=U.nextSibling;P.unwrap(U);for(;W&&W!=T;W=W.nextSibling){R(W)}}else{if(V=="blockquote"){E.changeTag(U,"p")}else{if(U.nodeType==1&&!E.insignificant(U)){for(var S=U.childNodes.length-1;S>=0;S--){R(U.childNodes[S])}U.removeAttribute("style");U.removeAttribute("class")}}}if(L.inArray(V,N)>-1){E.unwrap(U)}});this.releaseRange(Q)}});L.extend(A,{FormattingTool:K,CleanFormatCommand:B});G("formatting",new K({template:new H({template:C.dropDownListTemplate,title:"Format"})}));G("cleanFormatting",new J({command:B,template:new H({template:C.buttonTemplate,title:"Clean formatting"})}))})(window.kendo.jQuery);(function(M,A){var D=window.kendo;var P=D.ui;var J=P.editor;var K=P.Widget;var H=M.extend;var E=M.proxy;var L=D.keys;var G=".kendoEditor";var C=D.ui.editor.EditorUtils;var I=D.ui.editor.ToolTemplate;var N=D.ui.editor.Tool;var B=".k-tool-group:visible a.k-tool:not(.k-state-disabled),.k-tool.k-overflow-anchor,.k-tool-group:visible .k-widget.k-colorpicker,.k-tool-group:visible .k-selectbox,.k-tool-group:visible .k-dropdown,.k-tool-group:visible .k-combobox .k-input";var F=N.extend({initialize:function(Q,R){Q.attr({unselectable:"on"});var S=R.editor.toolbar;Q.on("click",M.proxy(function(){this.overflowPopup.toggle()},S))},options:{name:"overflowAnchor"},command:M.noop,update:M.noop,destroy:M.noop});C.registerTool("overflowAnchor",new F({key:"",ctrl:true,template:new I({template:C.overflowAnchorTemplate})}));var O=K.extend({init:function(S,R){var Q=this;R=H({},R,{name:"EditorToolbar"});K.fn.init.call(Q,S,R);if(R.popup){Q._initPopup()}if(R.resizable&&R.resizable.toolbar){Q._resizeHandler=D.onResize(function(){Q.resize()});Q.element.addClass("k-toolbar-resizable")}},events:["execute"],groups:{basic:["bold","italic","underline","strikethrough"],scripts:["subscript","superscript"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],links:["insertImage","insertFile","createLink","unlink"],lists:["insertUnorderedList","insertOrderedList","indent","outdent"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"],advanced:["viewHtml","cleanFormatting","print","pdf"],fonts:["fontName","fontSize"],colors:["foreColor","backColor"]},overflowFlaseTools:["formatting","fontName","fontSize","foreColor","backColor"],_initPopup:function(){this.window=M(this.element).wrap("<div class='editorToolbarWindow k-header' />").parent().prepend("<button class='k-button k-button-bare k-editortoolbar-dragHandle'><span class='k-icon k-i-move' /></button>").kendoWindow({title:false,resizable:false,draggable:{dragHandle:".k-editortoolbar-dragHandle"},animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}},minHeight:42,visible:false,autoFocus:false,actions:[],dragend:function(){this._moved=true}}).on("mousedown",function(Q){if(!M(Q.target).is(".k-icon")){Q.preventDefault()}}).data("kendoWindow")},_toggleOverflowStyles:function(R,Q){R.find("li").toggleClass("k-item k-state-default",Q).find(".k-tool:not(.k-state-disabled),.k-overflow-button").toggleClass("k-overflow-button k-button",Q)},_initOverflowPopup:function(Q){var R=this;var S="<ul class='k-editor-overflow-popup k-overflow-container k-list-container'></ul>";R.overflowPopup=M(S).appendTo("body").kendoPopup({anchor:Q,origin:"bottom right",position:"top right",copyAnchorStyles:false,open:function(T){if(this.element.is(":empty")){T.preventDefault()}R._toggleOverflowStyles(this.element,true)},activate:E(R.focusOverflowPopup,R)}).data("kendoPopup")},items:function(){var S=this.options.resizable&&this.options.resizable.toolbar,R,Q;Q=this.element.children().find("> *, select");if(S){R=this.overflowPopup;Q=Q.add(R.element.children().find("> *"))}return Q},focused:function(){return this.element.find(".k-state-focused").length>0},toolById:function(R){var S,Q=this.tools;for(S in Q){if(S.toLowerCase()==R){return Q[S]}}},toolGroupFor:function(S){var Q,R=this.groups;if(this.isCustomTool(S)){return"custom"}for(Q in R){if(M.inArray(S,R[Q])>=0){return Q}}},bindTo:function(S){var R=this,Q=R.window;if(R._editor){R._editor.unbind("select",E(R.resize,R))}R._editor=S;if(R.options.resizable&&R.options.resizable.toolbar){S.options.tools.push("overflowAnchor")}R.tools=R.expandTools(S.options.tools);R.render();R.element.find(".k-combobox .k-input").keydown(function(V){var W=M(this).closest(".k-combobox").data("kendoComboBox"),U=V.keyCode;if(U==L.RIGHT||U==L.LEFT){W.close()}else{if(U==L.DOWN){if(!W.dropDown.isOpened()){V.stopImmediatePropagation();W.open()}}}});R._attachEvents();R.items().each(function T(Z,a){var U=R._toolName(this),Y=U!=="more"?R.tools[U]:R.tools.overflowAnchor,X=Y&&Y.options,c=S.options.messages,b=X&&X.tooltip||c[U],V=M(this);if(!Y||!Y.initialize){return}if(U=="fontSize"||U=="fontName"){var W=c[U+"Inherit"];V.find("input").val(W).end().find("span.k-input").text(W).end()}Y.initialize(V,{title:R._appendShortcutSequence(b,Y),editor:R._editor});V.closest(".k-widget",R.element).addClass("k-editor-widget");V.closest(".k-colorpicker",R.element).next(".k-colorpicker").addClass("k-editor-widget")});S.bind("select",E(R.resize,R));R.update();if(Q){Q.wrapper.css({top:"",left:"",width:""})}},show:function(){var T=this,Q=T.window,U=T.options.editor,S,R,V;if(Q){S=Q.wrapper;R=U.element;if(!S.is(":visible")||!T.window.options.visible){if(!S[0].style.width){S.width(R.outerWidth()-parseInt(S.css("border-left-width"),10)-parseInt(S.css("border-right-width"),10))}if(!Q._moved){V=R.offset();S.css({top:Math.max(0,parseInt(V.top,10)-S.outerHeight()-parseInt(T.window.element.css("padding-bottom"),10)),left:Math.max(0,parseInt(V.left,10))})}Q.open()}}},hide:function(){if(this.window){this.window.close()}},focus:function(){var Q="tabIndex";var R=this.element;var S=this._editor.element.attr(Q);R.attr(Q,S||0).focus().find(B).first().focus();if(!S&&S!==0){R.removeAttr(Q)}},focusOverflowPopup:function(){var Q="tabIndex";var R=this.overflowPopup.element;var S=this._editor.element.attr(Q);R.closest(".k-animation-container").addClass("k-overflow-wrapper");R.attr(Q,S||0).focus().find(B).first().focus();if(!S&&S!==0){R.removeAttr(Q)}},_appendShortcutSequence:function(S,Q){if(!Q.key){return S}var R=S+" (";if(Q.ctrl){R+="Ctrl + "}if(Q.shift){R+="Shift + "}if(Q.alt){R+="Alt + "}R+=Q.key+")";return R},_nativeTools:["insertLineBreak","insertParagraph","redo","undo"],tools:{},isCustomTool:function(Q){return !(Q in D.ui.Editor.defaultTools)},expandTools:function(T){var S,U,R=this._nativeTools,V,X=D.deepExtend({},D.ui.Editor.defaultTools),Q={},W;for(U=0;U<T.length;U++){S=T[U];W=S.name;if(M.isPlainObject(S)){if(W&&X[W]){Q[W]=H({},X[W]);H(Q[W].options,S)}else{V=H({cssClass:"k-i-custom",type:"button",title:""},S);if(!V.name){V.name="custom"}V.cssClass="k-"+(V.name=="custom"?"i-custom":V.name);if(!V.template&&V.type=="button"){V.template=J.EditorUtils.buttonTemplate;V.title=V.title||V.tooltip}Q[W]={options:V}}}else{if(X[S]){Q[S]=X[S]}}}for(U=0;U<R.length;U++){if(!Q[R[U]]){Q[R[U]]=X[R[U]]}}return Q},render:function(){var j=this,U=j.tools,c,l,X,Y,S=j._editor.element,e=j.element.empty(),k,f,T=j._editor.options.tools,R=D.support.browser,d,h,b=0,W=j.options.resizable&&j.options.resizable.toolbar,a=this.overflowFlaseTools,V;function Q(n){var m;if(n.getHtml){m=n.getHtml()}else{if(!M.isFunction(n)){n=D.template(n)}m=n(c)}return M.trim(m)}function g(){if(d.children().length){if(W){d.data("position",b);b++}d.appendTo(e)}}function Z(m){if(m!=="overflowAnchor"){d=M("<li class='k-tool-group' role='presentation' />");d.data("overflow",M.inArray(m,a)===-1?true:false)}else{d=M("<li class='k-overflow-tools' />")}}e.empty();if(T.length){Y=T[0].name||T[0]}Z(Y,a);for(h=0;h<T.length;h++){Y=T[h].name||T[h];c=U[Y]&&U[Y].options;if(!c&&M.isPlainObject(Y)){c=Y}l=c&&c.template;if(Y=="break"){g();M("<li class='k-row-break' />").appendTo(j.element);Z(Y,a)}if(!l){continue}f=j.toolGroupFor(Y);if(k!=f){g();Z(Y,a);k=f}l=Q(l);X=M(l).appendTo(d);if(f=="custom"){g();Z(Y,a)}if(c.exec&&X.hasClass("k-tool")){X.click(E(c.exec,S[0]))}}g();M(j.element).children(":has(> .k-tool)").addClass("k-button-group");if(j.options.popup&&R.msie&&R.version<9){j.window.wrapper.find("*").attr("unselectable","on")}j.updateGroups();if(W){j._initOverflowPopup(j.element.find(".k-overflow-anchor"))}j.angular("compile",function(){return{elements:j.element}})},updateGroups:function(){M(this.element).children().each(function(){M(this).children().filter(function(){return !M(this).hasClass("k-state-disabled")}).removeClass("k-group-end").first().addClass("k-group-start").end().last().addClass("k-group-end").end()})},decorateFrom:function(Q){this.items().filter(".k-decorated").each(function(){var R=M(this).data("kendoSelectBox");if(R){R.decorate(Q)}})},destroy:function(){K.fn.destroy.call(this);var R,Q=this.tools;for(R in Q){if(Q[R].destroy){Q[R].destroy()}}if(this.window){this.window.destroy()}if(this._resizeHandler){D.unbindResize(this._resizeHandler)}if(this.overflowPopup){this.overflowPopup.destroy()}},_attachEvents:function(){var S=this,T="[role=button].k-tool",R=T+":not(.k-state-disabled)",Q=T+".k-state-disabled",U=S.overflowPopup?S.overflowPopup.element:M([]);S.element.add(U).off(G).on("mouseenter"+G,R,function(){M(this).addClass("k-state-hover")}).on("mouseleave"+G,R,function(){M(this).removeClass("k-state-hover")}).on("mousedown"+G,T,function(V){V.preventDefault()}).on("keydown"+G,B,function(W){var Z=this;var V=S.options.resizable&&S.options.resizable.toolbar;var Y,a,b=W.keyCode;function X(f,d,g){var c=d.find(B);var e=c.index(Z)+f;if(g){e=Math.max(0,Math.min(c.length-1,e))}return c[e]}if(b==L.RIGHT||b==L.LEFT){if(!M(Z).hasClass(".k-dropdown")){Y=X(b==L.RIGHT?1:-1,S.element,true)}}else{if(V&&(b==L.UP||b==L.DOWN)){Y=X(b==L.DOWN?1:-1,S.overflowPopup.element,true)}else{if(b==L.ESC){if(S.overflowPopup.visible()){S.overflowPopup.close()}Y=S._editor}else{if(b==L.TAB&&!(W.ctrlKey||W.altKey)){if(V){a=M(Z.parentElement).hasClass("k-overflow-tool-group")?S.overflowPopup.element:S.element}else{a=S.element}if(W.shiftKey){Y=X(-1,a)}else{Y=X(1,a);if(!Y){Y=S._editor}}}}}}if(Y){W.preventDefault();Y.focus()}}).on("click"+G,R,function(W){var V=M(this);W.preventDefault();W.stopPropagation();V.removeClass("k-state-hover");if(!V.is("[data-popup]")){S._editor.exec(S._toolName(this))}}).on("click"+G,Q,function(V){V.preventDefault()})},_toolName:function(S){if(!S){return}var Q=S.className;if(/k-tool\b/i.test(Q)){Q=S.firstChild.className}var R=M.grep(Q.split(" "),function(T){return !/^k-(widget|tool|tool-icon|icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(T)});return R[0]?R[0].substring(R[0].lastIndexOf("-")+1):"custom"},refreshTools:function(){var Q=this,S=Q._editor,T=S.getRange(),R=D.ui.editor.RangeUtils.textNodes(T);if(!R.length){R=[T.startContainer]}Q.items().each(function(){var U=Q.tools[Q._toolName(this)];if(U&&U.update){U.update(M(this),R)}});this.update()},update:function(){this.updateGroups()},_resize:function(R){var S=R.width;var Q=this.options.resizable&&this.options.resizable.toolbar;var T=this.overflowPopup;this.refreshTools();if(!Q){return}if(T.visible()){T.close(true)}this._refreshWidths();this._shrink(S);this._stretch(S);this._toggleOverflowStyles(this.element,false);this._toggleOverflowStyles(this.overflowPopup.element,true);this.element.children("li.k-overflow-tools").css("visibility",T.element.is(":empty")?"hidden":"visible")},_refreshWidths:function(){this.element.children("li").each(function(R,S){var Q=M(S);Q.data("outerWidth",Q.outerWidth(true))})},_shrink:function(T){var Q,S;if(T<this._groupsWidth()){S=this._visibleGroups().filter(":not(.k-overflow-tools)");for(var R=S.length-1;R>=0;R--){Q=S.eq(R);if(T>this._groupsWidth()){break}else{this._hideGroup(Q)}}}},_stretch:function(S){var Q,T;if(S>this._groupsWidth()){T=this._hiddenGroups();for(var R=0;R<T.length;R++){Q=T.eq(R);if(S<this._groupsWidth()||!this._showGroup(Q,S)){break}}}},_hiddenGroups:function(){var Q=this.overflowPopup;var R=this.element.children("li.k-tool-group").filter(":hidden");R=R.add(Q.element.children("li"));R.sort(function(T,S){return(M(T).data("position")>M(S).data("position"))?1:-1});return R},_visibleGroups:function(){return this.element.children("li.k-tool-group, li.k-overflow-tools").filter(":visible")},_groupsWidth:function(){var Q=0;this._visibleGroups().each(function(){Q+=M(this).data("outerWidth")});return Math.ceil(Q)},_hideGroup:function(Q){if(Q.data("overflow")){var R=this.overflowPopup;Q.detach().prependTo(R.element).addClass("k-overflow-tool-group")}else{Q.hide()}},_showGroup:function(Q,T){var R,S;if(Q.length&&T>this._groupsWidth()+Q.data("outerWidth")){if(Q.hasClass("k-overflow-tool-group")){R=Q.data("position");if(R===0){Q.detach().prependTo(this.element)}else{S=this.element.children().filter(function(U,V){return M(V).data("position")===R-1});Q.detach().insertAfter(S)}Q.removeClass("k-overflow-tool-group")}else{Q.show()}return true}return false}});M.extend(J,{Toolbar:O})})(window.jQuery);(function(Y,X){var V=window.kendo,M=Y.extend,Q=Y.proxy,N=V.ui.editor,L=N.Dom,Z=N.EditorUtils,S=N.RangeUtils,b=N.Command,P=".kendoEditor",F="k-state-active",I="k-state-selected",B=N.Tool,H=N.ToolTemplate,E=N.InsertHtmlCommand,G=N.BlockFormatFinder,W=N.EditorUtils.registerTool;var T="<td>"+N.emptyElementContent+"</td>";var R=new G([{tags:["table"]}]);var J=E.extend({_tableHtml:function(c,d){c=c||1;d=d||1;return"<table class='k-table' data-last>"+new Array(c+1).join("<tr>"+new Array(d+1).join(T)+"</tr>")+"</table>"},postProcess:function(d,e){var c=Y("table[data-last]",d.document).removeAttr("data-last");e.setStart(c.find("td")[0],0);e.collapse(true);d.selectRange(e)},exec:function(){var c=this.options;c.html=this._tableHtml(c.rows,c.columns);c.postProcess=this.postProcess;E.fn.exec.call(this)}});var D=B.extend({initialize:function(c,d){B.fn.initialize.call(this,c,d);var e=Y(this.options.popupTemplate).appendTo("body").kendoPopup({anchor:c,copyAnchorStyles:false,open:Q(this._open,this),activate:Q(this._activate,this),close:Q(this._close,this)}).data("kendoPopup");c.click(Q(this._toggle,this)).keydown(Q(this._keydown,this));this._editor=d.editor;this._popup=e},popup:function(){return this._popup},_activate:Y.noop,_open:function(){this._popup.options.anchor.addClass(F)},_close:function(){this._popup.options.anchor.removeClass(F)},_keydown:function(d){var f=V.keys;var c=d.keyCode;if(c==f.DOWN&&d.altKey){this._popup.open()}else{if(c==f.ESC){this._popup.close()}}},_toggle:function(d){var c=Y(d.target).closest(".k-tool");if(!c.hasClass("k-state-disabled")){this.popup().toggle()}},update:function(c){var d=this.popup();if(d.wrapper&&d.wrapper.css("display")=="block"){d.close()}c.removeClass("k-state-hover")},destroy:function(){this._popup.destroy()}});var a=D.extend({init:function(c){this.cols=8;this.rows=6;D.fn.init.call(this,Y.extend(c,{command:J,popupTemplate:"<div class='k-ct-popup'>"+new Array(this.cols*this.rows+1).join("<span class='k-ct-cell k-state-disabled' />")+"<div class='k-status'></div></div>"}))},_activate:function(){var l=this,e=l._popup.element,n=e.find(".k-ct-cell"),o=n.eq(0),k=n.eq(n.length-1),f=V.getOffset(o),h=V.getOffset(k),j=l.cols,d=l.rows,g,m;e.find("*").addBack().attr("unselectable","on");h.left+=k[0].offsetWidth;h.top+=k[0].offsetHeight;g=(h.left-f.left)/j;m=(h.top-f.top)/d;function c(p){var q=Y(window);return{row:Math.floor((p.clientY+q.scrollTop()-f.top)/m)+1,col:Math.floor((p.clientX+q.scrollLeft()-f.left)/g)+1}}e.on("mousemove"+P,function(p){l._setTableSize(c(p))}).on("mouseleave"+P,function(){l._setTableSize()}).on("mouseup"+P,function(p){l._exec(c(p))})},_valid:function(c){return c&&c.row>0&&c.col>0&&c.row<=this.rows&&c.col<=this.cols},_exec:function(c){if(this._valid(c)){this._editor.exec("createTable",{rows:c.row,columns:c.col});this._popup.close()}},_setTableSize:function(c){var h=this._popup.element;var f=h.find(".k-status");var g=h.find(".k-ct-cell");var j=this.rows;var d=this.cols;var e=this._editor.options.messages;if(this._valid(c)){f.text(V.format(e.createTableHint,c.row,c.col));g.each(function(k){Y(this).toggleClass(I,k%d<c.col&&k/d<c.row)})}else{f.text(e.dialogCancel);g.removeClass(I)}},_keydown:function(c){D.fn._keydown.call(this,c);if(!this._popup.visible()){return}var j=V.keys;var g=c.keyCode;var l=this._popup.element.find(".k-ct-cell");var d=Math.max(l.filter(".k-state-selected").last().index(),0);var f=Math.floor(d/this.cols);var k=d%this.cols;var h=false;if(g==j.DOWN&&!c.altKey){h=true;f++}else{if(g==j.UP){h=true;f--}else{if(g==j.RIGHT){h=true;k++}else{if(g==j.LEFT){h=true;k--}}}}var m={row:Math.max(1,Math.min(this.rows,f+1)),col:Math.max(1,Math.min(this.cols,k+1))};if(g==j.ENTER){this._exec(m)}else{this._setTableSize(m)}if(h){c.preventDefault();c.stopImmediatePropagation()}},_open:function(){var c=this._editor.options.messages;D.fn._open.call(this);this.popup().element.find(".k-status").text(c.dialogCancel).end().find(".k-ct-cell").removeClass(I)},_close:function(){D.fn._close.call(this);this.popup().element.off(P)},update:function(c,d){var e;D.fn.update.call(this,c);e=R.isFormatted(d);c.toggleClass("k-state-disabled",e)}});var U=b.extend({exec:function(){var h=this.lockRange(true),f=h.endContainer,d,e,g;while(L.name(f)!="td"){f=f.parentNode}e=f.parentNode;d=e.children.length;g=e.cloneNode(true);for(var c=0;c<e.cells.length;c++){g.cells[c].innerHTML=N.emptyElementContent}if(this.options.position=="before"){L.insertBefore(g,e)}else{L.insertAfter(g,e)}this.releaseRange(h)}});var A=b.extend({exec:function(){var k=this.lockRange(true),f=L.closest(k.endContainer,"td"),l=L.closest(f,"table"),c,g,e=l.rows,j,d,h=this.options.position;c=L.findNodeIndex(f,true);for(g=0;g<e.length;g++){j=e[g].cells[c];d=j.cloneNode();d.innerHTML=N.emptyElementContent;if(h=="before"){L.insertBefore(d,j)}else{L.insertAfter(d,j)}}this.releaseRange(k)}});var K=b.extend({exec:function(){var h=this.lockRange();var f=S.mapAll(h,function(j){return Y(j).closest("tr")[0]});var g=L.closest(f[0],"table");var d;if(g.rows.length<=f.length){d=L.next(g);if(!d||L.insignificant(d)){d=L.prev(g)}L.remove(g)}else{for(var c=0;c<f.length;c++){var e=f[c];L.removeTextSiblings(e);d=L.next(e)||L.prev(e);d=d.cells[0];L.remove(e)}}if(d){h.setStart(d,0);h.collapse(true);this.editor.selectRange(h)}}});var C=b.extend({exec:function(){var h=this.lockRange(),f=L.closest(h.endContainer,"td"),k=L.closest(f,"table"),e=k.rows,c=L.findNodeIndex(f,true),d=e[0].cells.length,j,g;if(d==1){j=L.next(k);if(!j||L.insignificant(j)){j=L.prev(k)}L.remove(k)}else{L.removeTextSiblings(f);j=L.next(f)||L.prev(f);for(g=0;g<e.length;g++){L.remove(e[g].cells[c])}}if(j){h.setStart(j,0);h.collapse(true);this.editor.selectRange(h)}}});var O=B.extend({command:function(c){c=M(c,this.options);if(c.action=="delete"){if(c.type=="row"){return new K(c)}else{return new C(c)}}else{if(c.type=="row"){return new U(c)}else{return new A(c)}}},initialize:function(c,d){B.fn.initialize.call(this,c,d);c.addClass("k-state-disabled")},update:function(c,d){var e=!R.isFormatted(d);c.toggleClass("k-state-disabled",e)}});M(V.ui.editor,{PopupTool:D,TableCommand:J,InsertTableTool:a,TableModificationTool:O,InsertRowCommand:U,InsertColumnCommand:A,DeleteRowCommand:K,DeleteColumnCommand:C});W("createTable",new a({template:new H({template:Z.buttonTemplate,popup:true,title:"Create table"})}));W("addColumnLeft",new O({type:"column",position:"before",template:new H({template:Z.buttonTemplate,title:"Add column on the left"})}));W("addColumnRight",new O({type:"column",template:new H({template:Z.buttonTemplate,title:"Add column on the right"})}));W("addRowAbove",new O({type:"row",position:"before",template:new H({template:Z.buttonTemplate,title:"Add row above"})}));W("addRowBelow",new O({type:"row",template:new H({template:Z.buttonTemplate,title:"Add row below"})}));W("deleteRow",new O({type:"row",action:"delete",template:new H({template:Z.buttonTemplate,title:"Delete row"})}));W("deleteColumn",new O({type:"column",action:"delete",template:new H({template:Z.buttonTemplate,title:"Delete column"})}))})(window.kendo.jQuery);(function(L,A){var C=window.kendo;var K=C.caret;var J=C.keys;var O=C.ui;var I=O.Widget;var N=".kendoMaskedTextBox";var D=L.proxy;var E=(C.support.propertyChangeEvent?"propertychange":"input")+N;var B="k-state-disabled";var M="disabled";var F="readonly";var H="change";var G=I.extend({init:function(S,R){var Q=this;var T;I.fn.init.call(Q,S,R);Q._rules=L.extend({},Q.rules,Q.options.rules);S=Q.element;T=S[0];Q.wrapper=S;Q._tokenize();Q._form();Q.element.addClass("k-textbox").attr("autocomplete","off").on("focus"+N,function(){var U=T.value;if(!U){T.value=Q._old=Q._emptyMask}else{Q._togglePrompt(true)}Q._oldValue=U;Q._timeoutId=setTimeout(function(){K(S,0,U?Q._maskLength:0)})}).on("focusout"+N,function(){var U=S.val();clearTimeout(Q._timeoutId);T.value=Q._old="";if(U!==Q._emptyMask){T.value=Q._old=U}Q._change();Q._togglePrompt()});var P=S.is("[disabled]")||L(Q.element).parents("fieldset").is(":disabled");if(P){Q.enable(false)}else{Q.readonly(S.is("[readonly]"))}Q.value(Q.options.value||S.val());C.notify(Q)},options:{name:"MaskedTextBox",clearPromptChar:false,unmaskOnPost:false,promptChar:"_",culture:"",rules:{},value:"",mask:""},events:[H],rules:{"0":/\d/,"9":/\d|\s/,"#":/\d|\s|\+|\-/,"L":/[a-zA-Z]/,"?":/[a-zA-Z]|\s/,"&":/\S/,"C":/./,"A":/[a-zA-Z0-9]/,"a":/[a-zA-Z0-9]|\s/},setOptions:function(Q){var P=this;I.fn.setOptions.call(P,Q);P._rules=L.extend({},P.rules,P.options.rules);P._tokenize();this._unbindInput();this._bindInput();P.value(P.element.val())},destroy:function(){var P=this;P.element.off(N);if(P._formElement){P._formElement.off("reset",P._resetHandler);P._formElement.off("submit",P._submitHandler)}I.fn.destroy.call(P)},raw:function(){var P=this._unmask(this.element.val(),0);return P.replace(new RegExp(this.options.promptChar,"g"),"")},value:function(Q){var R=this.element;var S=this._emptyMask;var P=this.options;if(Q===A){return this.element.val()}if(Q===null){Q=""}if(!S){R.val(Q);return}Q=this._unmask(Q+"");R.val(Q?S:"");this._mask(0,this._maskLength,Q);Q=R.val();this._oldValue=Q;if(C._activeElement()!==R){if(Q===S){R.val("")}else{this._togglePrompt()}}},_togglePrompt:function(P){var R=this.element[0];var Q=R.value;if(this.options.clearPromptChar){if(!P){Q=Q.replace(new RegExp(this.options.promptChar,"g")," ")}else{Q=this._oldValue}R.value=this._old=Q}},readonly:function(P){this._editable({readonly:P===A?true:P,disable:false})},enable:function(P){this._editable({readonly:false,disable:!(P=P===A?true:P)})},_bindInput:function(){var P=this;if(P._maskLength){P.element.on("keydown"+N,D(P._keydown,P)).on("keypress"+N,D(P._keypress,P)).on("paste"+N,D(P._paste,P)).on(E,D(P._propertyChange,P))}},_unbindInput:function(){this.element.off("keydown"+N).off("keypress"+N).off("paste"+N).off(E)},_editable:function(R){var P=this;var S=P.element;var Q=R.disable;var T=R.readonly;P._unbindInput();if(!T&&!Q){S.removeAttr(M).removeAttr(F).removeClass(B);P._bindInput()}else{S.attr(M,Q).attr(F,T).toggleClass(B,Q)}},_change:function(){var P=this;var Q=P.value();if(Q!==P._oldValue){P._oldValue=Q;P.trigger(H);P.element.trigger(H)}},_propertyChange:function(){var Q=this;var S=Q.element[0];var R=S.value;var P;var T;if(C._activeElement()!==S){return}if(R!==Q._old&&!Q._pasting){T=K(S)[0];P=Q._unmask(R.substring(T),T);S.value=Q._old=R.substring(0,T)+Q._emptyMask.substring(T);Q._mask(T,T,P);K(S,T)}},_paste:function(P){var Q=this;var U=P.target;var S=K(U);var V=S[0];var T=S[1];var R=Q._unmask(U.value.substring(T),T);Q._pasting=true;setTimeout(function(){var W=U.value;var X=W.substring(V,K(U)[0]);U.value=Q._old=W.substring(0,V)+Q._emptyMask.substring(V);Q._mask(V,V,X);V=K(U)[0];Q._mask(V,V,R);K(U,V);Q._pasting=false})},_form:function(){var R=this;var S=R.element;var Q=S.attr("form");var P=Q?L("#"+Q):S.closest("form");if(P[0]){R._resetHandler=function(){setTimeout(function(){R.value(S[0].value)})};R._submitHandler=function(){R.element[0].value=R._old=R.raw()};if(R.options.unmaskOnPost){P.on("submit",R._submitHandler)}R._formElement=P.on("reset",R._resetHandler)}},_keydown:function(S){var W=S.keyCode;var Q=this.element[0];var V=K(Q);var R=V[0];var T=V[1];var P;var U=W===J.BACKSPACE;if(U||W===J.DELETE){if(R===T){if(U){R-=1}else{T+=1}P=this._find(R,U)}if(P!==A&&P!==R){if(U){P+=1}K(Q,P)}else{if(R>-1){this._mask(R,T,"",U)}}S.preventDefault()}else{if(W===J.ENTER){this._change()}}},_keypress:function(P){if(P.which===0||P.metaKey||P.ctrlKey||P.keyCode===J.ENTER){return}var R=String.fromCharCode(P.which);var Q=K(this.element);this._mask(Q[0],Q[1],R);if(P.keyCode===J.BACKSPACE||R){P.preventDefault()}},_find:function(S,Q){var P=this.element.val()||this._emptyMask;var R=1;if(Q===true){R=-1}while(S>-1||S<=this._maskLength){if(P.charAt(S)!==this.tokens[S]){return S}S+=R}return -1},_mask:function(R,T,W,U){var Q=this.element[0];var S=Q.value||this._emptyMask;var Y=this.options.promptChar;var P;var Z=0;var a;var X;var V;R=this._find(R,U);if(R>T){T=R}a=this._unmask(S.substring(T),T);W=this._unmask(W,R);P=W.length;if(W){a=a.replace(new RegExp("^_{0,"+P+"}"),"")}W+=a;S=S.split("");X=W.charAt(Z);while(R<this._maskLength){S[R]=X||Y;X=W.charAt(++Z);if(V===A&&Z>P){V=R}R=this._find(R+1)}Q.value=this._old=S.join("");if(C._activeElement()===Q){if(V===A){V=this._maskLength}K(Q,V)}},_unmask:function(S,R){if(!S){return""}S=(S+"").split("");var T;var Y;var W=0;var P=R||0;var U=this.options.promptChar;var V=S.length;var X=this.tokens.length;var Q="";while(P<X){T=S[W];Y=this.tokens[P];if(T===Y||T===U){Q+=T===U?U:"";W+=1;P+=1}else{if(typeof Y!=="string"){if((Y.test&&Y.test(T))||(L.isFunction(Y)&&Y(T))){Q+=T;P+=1}W+=1}else{P+=1}}if(W>=V){break}}return Q},_tokenize:function(){var U=[];var V=0;var c=this.options.mask||"";var P=c.split("");var b=P.length;var T=0;var Z;var X;var a="";var Q=this.options.promptChar;var R=C.getCulture(this.options.culture).numberFormat;var S=this._rules;for(;T<b;T++){Z=P[T];X=S[Z];if(X){U[V]=X;a+=Q;V+=1}else{if(Z==="."||Z===","){Z=R[Z]}else{if(Z==="$"){Z=R.currency.symbol}else{if(Z==="\\"){T+=1;Z=P[T]}}}Z=Z.split("");for(var W=0,Y=Z.length;W<Y;W++){U[V]=Z[W];a+=Z[W];V+=1}}}this.tokens=U;this._emptyMask=a;this._maskLength=a.length}});O.plugin(G)})(window.kendo.jQuery);(function(C,Ak){var Ay=window.kendo,Ac=Ay.ui,L=Ay.Class,m=Ac.Widget,K=Ay.data.DataSource,t={}.toString,T=function(A0){return A0},AQ=C.map,Z=C.extend,q=Ay.isFunction,H="change",y="error",An="progress",Ab="stateReset",x="auto",AD="<div/>",v=".kendoPivotGrid",Ao="__row_total__",D="dataBinding",E="dataBound",AE="expandMember",AP="collapseMember",AI="k-i-arrow-s",AU="k-i-arrow-e",Ap="<span>#: data.member.caption || data.member.name #</span>",J='<span class="k-icon k-i-kpi-#=data.dataItem.value > 0 ? "open" : data.dataItem.value < 0 ? "denied" : "hold"#">#:data.dataItem.value#</span>',b='<span class="k-icon k-i-kpi-#=data.dataItem.value > 0 ? "increase" : data.dataItem.value < 0 ? "decrease" : "equal"#">#:data.dataItem.value#</span>',k='#= data.dataItem ? kendo.htmlEncode(data.dataItem.fmtValue || data.dataItem.value) || "&nbsp;" : "&nbsp;" #',c='<table class="k-pivot-layout"><tr><td><div class="k-pivot-rowheaders"></div></td><td><div class="k-pivot-table k-state-default"></div></td></tr></table>';function Av(A2){var A0=typeof A2==="string"?[{name:A2}]:A2;var A1=t.call(A0)==="[object Array]"?A0:(A0!==Ak?[A0]:[]);return AQ(A1,function(A3){if(typeof A3==="string"){return{name:A3}}return{name:A3.name,type:A3.type}})}function g(A2){var A0=typeof A2==="string"?[{name:[A2],expand:false}]:A2;var A1=t.call(A0)==="[object Array]"?A0:(A0!==Ak?[A0]:[]);return AQ(A1,function(A3){if(typeof A3==="string"){return{name:[A3],expand:false}}return{name:(t.call(A3.name)==="[object Array]"?A3.name.slice():[A3.name]),expand:A3.expand}})}function Au(A2,A0){var A3=A2.members[A0];var A1=AF(A2,A0-1);if(A3.parentName){A1.push(A3.parentName)}if(!A1.length){A1=""}return Ay.stringify(A1)}function Af(A5,A7,A1,A6){var A3,A4;var A2;var A0;if(!A1){A1=A7}if(!A6){A6=0}A0=A1.members[A6];if(!A0||A0.measure){return}A2=A0.children;A4=A2.length;if(A1===A7){A5[Ay.stringify([A0.name])]=!!A4}else{if(A4){A5[Ay.stringify(AF(A1,A6))]=true}}if(A4){for(A3=0;A3<A4;A3++){Af(A5,A7,A2[A3],A6)}}Af(A5,A7,A1,A6+1)}function AT(A0){var A1={};if(A0.length){Af(A1,A0[0])}var A2=[];for(var A3 in A1){A2.push({name:C.parseJSON(A3),expand:A1[A3]})}return A2}function Aa(A1,A2){var A5=A2.tuples||[];var A0=A5[0];if(A0&&A1.length<A0.members.length){var A4=A0.members;for(var A3=0;A3<A4.length;A3++){if(A4[A3].measure){continue}var A7=false;for(var A6=0;A6<A1.length;A6++){if(AK(A1[A6]).indexOf(A4[A3].hierarchy)===0){A7=true;break}}if(!A7){A1.push({name:[A4[A3].name],expand:false})}}}}function a(A2){var A0=[];var A1=A2.members;for(var A3=0;A3<A1.length;A3++){if(A1[A3].measure){continue}A0.push({name:[A1[A3].name],expand:A1[A3].children.length>0})}return A0}function h(A4,A2,A3){A4=A4||{};Aa(A2,A4);if(A3.length>1){A2.push({name:"Measures",measure:true,children:g(A3)})}var A0={members:A2};if(A4.tuples){var A1=Am(A4.tuples,A0);if(A1.tuple){A2=a(A1.tuple)}}return A2}function AM(A6,A2,Be,Ba,A9,Bb,A3){var A7,Bd,Bf,A0,A5,A8=0;var Bc=A2;for(Bd in Be[Ba].aggregates){A7=Be[Ba].aggregates[Bd];A0=A9[Bd];A5=Bb[Bd];A7=A0?A0(A7):A7.accumulator;A6[Bc]={ordinal:Bc,value:A7,fmtValue:A5?Ay.format(A5,A7):A7};++A8;Bc+=A3}var A1=Be[Ba].items;for(Bf in A1){var A4=A1[Bf].index*A8;A4=Bc+A4*A3;for(Bd in A1[Bf].aggregates){A7=A1[Bf].aggregates[Bd];A0=A9[Bd];A5=Bb[Bd];A7=A0?A0(A7):A7.accumulator;A6[A4]={ordinal:A4,value:A7,fmtValue:A5?Ay.format(A5,A7):A7};A4+=A3}}}function Ax(Ba,A1,Bd,A9,A5,Bb){var A8,Bc,A6,A0,A4,A7=0;for(Bc in Bd[A9].aggregates){A8=Bd[A9].aggregates[Bc];A0=A5[Bc];A4=Bb[Bc];A8=A0?A0(A8):A8.accumulator;Ba[Ba.length]={ordinal:A1++,value:A8,fmtValue:A4?Ay.format(A4,A8):A8};++A7}var A2=Bd[A9].items;for(A6 in A2){var A3=A2[A6].index*A7;for(Bc in A2[A6].aggregates){A8=A2[A6].aggregates[Bc];A0=A5[Bc];A4=Bb[Bc];A8=A0?A0(A8):A8.accumulator;Ba[Ba.length]={ordinal:A1+A3++,value:A8,fmtValue:A4?Ay.format(A4,A8):A8}}}}function r(A1){var A0=Ay.getter(A1.field,true);return function(A2,A3){return A1.aggregate(A0(A2.dataItem),A3,A2)}}function P(A0){return typeof A0==="number"&&!isNaN(A0)}function Aj(A0){return A0&&A0.getTime}var AW={sum:function(A0,A2){var A1=A2.accumulator;if(!P(A1)){A1=A0}else{if(P(A0)){A1+=A0}}return A1},count:function(A0,A1){return(A1.accumulator||0)+1},average:{aggregate:function(A0,A2){var A1=A2.accumulator;if(A2.count===Ak){A2.count=0}if(!P(A1)){A1=A0}else{if(P(A0)){A1+=A0}}if(P(A0)){A2.count++}return A1},result:function(A1){var A0=A1.accumulator;if(P(A0)){A0=A0/A1.count}return A0}},max:function(A0,A2){var A1=A2.accumulator;if(!P(A1)&&!Aj(A1)){A1=A0}if(A1<A0&&(P(A0)||Aj(A0))){A1=A0}return A1},min:function(A0,A2){var A1=A2.accumulator;if(!P(A1)&&!Aj(A1)){A1=A0}if(A1>A0&&(P(A0)||Aj(A0))){A1=A0}return A1}};var Ag=L.extend({init:function(A0){this.options=Z({},this.options,A0);this.dimensions=this._normalizeDescriptors("field",this.options.dimensions);this.measures=this._normalizeDescriptors("name",this.options.measures)},_normalizeDescriptors:function(A0,A3){A3=A3||{};var A5={};var A4;if(t.call(A3)==="[object Array]"){for(var A2=0,A1=A3.length;A2<A1;A2++){A4=A3[A2];if(typeof A4==="string"){A5[A4]={}}else{if(A4[A0]){A5[A4[A0]]=A4}}}A3=A5}return A3},_asTuples:function(Bc,A4,A7){A7=A7||[];var A9=this.dimensions||[];var A0=[];var A6;var A5;var Bb;var Ba;var A3;var A1;var A2=A7.length||1;if(A4.length||A7.length){for(Ba=0;Ba<A2;Ba++){A6={members:[]};for(A5=0,Bb=A4.length;A5<Bb;A5++){A1=AK(A4[A5].name);A6.members[A6.members.length]={children:[],caption:(A9[A1]||{}).caption||"All",name:A1,levelName:A1,levelNum:"0",hasChildren:true,parentName:Ak,hierarchy:A1}}if(A2>1){A6.members[A6.members.length]={children:[],caption:(A7[Ba]).caption,name:A7[Ba].descriptor.name,levelName:"MEASURES",levelNum:"0",hasChildren:false,parentName:Ak,hierarchy:"MEASURES"}}A0[A0.length]=A6}}for(var A8 in Bc){for(Ba=0;Ba<A2;Ba++){A3={members:[]};for(A5=0,Bb=A4.length;A5<Bb;A5++){A1=AK(A4[A5].name);if(Bc[A8].parentName.indexOf(A1)===0){A3.members[A3.members.length]={children:[],caption:Bc[A8].value,name:Bc[A8].name,levelName:Bc[A8].name,levelNum:1,hasChildren:false,parentName:A1,hierarchy:A1}}else{A3.members[A3.members.length]={children:[],caption:(A9[A1]||{}).caption||"All",name:A1,levelName:A1,levelNum:"0",hasChildren:true,parentName:Ak,hierarchy:A1}}}if(A2>1){A3.members[A3.members.length]={children:[],caption:A7[Ba].caption,name:A7[Ba].descriptor.name,levelName:"MEASURES",levelNum:"0",hasChildren:true,parentName:Ak,hierarchy:"MEASURES"}}A0[A0.length]=A3}}return A0},_toDataArray:function(Bf,Bb,A8,A3,A5){var Bc={};var A9={};var A6,A7,Bd;var A4=0;var Be=A8&&A8.length;if(Be){A6=(this.measures||{});for(;A4<Be;A4++){Bd=A8[A4].name;A7=A6[Bd];if(A7.result){A9[Bd]=A7.result}if(A7.format){Bc[Bd]=A7.format}}}var A2=[];var A1;var A0=0;A5(A2,A0,Bf,Ao,A9,Bc,Bb);for(var Ba in Bf){if(Ba===Ao){continue}A0+=A3;A5(A2,A0,Bf,Ba,A9,Bc,Bb)}return A2},_matchDescriptors:function(A8,A3,A7,A4){var A1;var A5;var A0;var A6;var A2;while(A4>0){A1=A3[--A4];A5=AK(A1).split("&");if(A5.length>1){A0=A5[0];A6=A5[1];A2=A7[A0];if(A2(A8)!=A6){return false}}}return true},_isExpanded:function(A2){for(var A1=0,A0=A2.length;A1<A0;A1++){if(A2[A1].expand){return true}}return false},_calculateAggregate:function(A3,A0,A5){var A1={};var A6;var A4;for(var A2=0;A2<A3.length;A2++){A4=A3[A2].descriptor.name;A6=A5.aggregates[A4]||{};A6.accumulator=A3[A2].aggregator(A0,A6);A1[A4]=A6}return A1},_processColumns:function(Bc,Ba,Bb,A6,A4,A2,A9,Be){var A8;var A0;var A3;var A7;var A1;var Bd=A4.dataItem;for(var A5=0;A5<Ba.length;A5++){A0=Ba[A5];if(A0.expand){if(!this._matchDescriptors(Bd,Ba,Bb,A5)){continue}A3=AK(A0);A8=Bb[A3](Bd);A8=(A8!==Ak&&A8!==null)?A8.toString():A8;A3=A3+"&"+A8;A7=A6[A3]||{index:A9.columnIndex,name:A3,parentName:A3,value:A8};A1=A2.items[A3]||{aggregates:{}};A2.items[A3]={index:A7.index,aggregates:this._calculateAggregate(Bc,A4,A1)};if(Be){if(!A6[A3]){A9.columnIndex++}A6[A3]=A7}}}},_measureAggregators:function(A4){var A7=A4.measures||[];var A2=this.measures||{};var A6=[];var A0,A9,A1,A8;var A5,A3;if(A7.length){for(A1=0,A8=A7.length;A1<A8;A1++){A0=A7[A1];A9=A2[A0.name];A5=null;if(A9){A3=A9.aggregate;if(typeof A3==="string"){A5=AW[A3.toLowerCase()];if(!A5){throw new Error("There is no such aggregate function")}A9.aggregate=A5.aggregate||A5;A9.result=A5.result}A6.push({descriptor:A0,caption:A9.caption,result:A9.result,aggregator:r(A9)})}}}else{A6.push({descriptor:{name:"default"},caption:"default",aggregator:function(){return 1}})}return A6},_normalizeName:function(A0){if(A0.indexOf(" ")!==-1){A0='["'+A0+'"]'}return A0},_buildGetters:function(A5){var A2={};var A3;var A0;var A4;for(var A6=0,A1=A5.length;A6<A1;A6++){A3=A5[A6];A4=AK(A3);A0=A4.split("&");if(A0.length>1){A2[A0[0]]=Ay.getter(A0[0],true)}else{A2[A4]=Ay.getter(this._normalizeName(A4),true)}}return A2},process:function(Bm,Bj){Bm=Bm||[];Bj=Bj||{};var Bf=Bj.measures||[];var A6=Bj.measuresAxis==="rows";var Bb=(A6?Bj.rows:Bj.columns)||[];var Bk=(!A6?Bj.rows:Bj.columns)||[];if(!Bb.length&&Bk.length&&(!Bf.length||(Bf.length&&A6))){Bb=Bk;Bk=[];A6=false}if(!Bb.length&&!Bk.length){A6=false}if(!Bb.length&&Bf.length){Bb=g(Bj.measures)}var Bq={};var Bg={};var Bo={};var A5;var A7={columnIndex:0};var Bh=this._measureAggregators(Bj);var A4=this._buildGetters(Bb);var A2=this._buildGetters(Bk);var A8=false;if(Bb.length||Bk.length){var A9;var Bd;var Bc=this._isExpanded(Bk);A8=true;for(var Br=0,A0=Bm.length;Br<A0;Br++){A9=Bm[Br];Bd={dataItem:A9,index:Br};var Be=Bq[Ao]||{items:{},aggregates:{}};this._processColumns(Bh,Bb,A4,Bg,Bd,Be,A7,!Bc);Be.aggregates=this._calculateAggregate(Bh,Bd,Be);Bq[Ao]=Be;for(var Bl=0,Bn=Bk.length;Bl<Bn;Bl++){var Bi=Bk[Bl];if(Bi.expand){if(!this._matchDescriptors(A9,Bk,A2,Bl)){continue}var Ba=AK(Bi);A5=A2[Ba](A9);A5=A5!==Ak?A5.toString():A5;Bo[A5]={name:Ba+"&"+A5,parentName:Ba,value:A5};var Bp=Bq[A5]||{items:{},aggregates:{}};this._processColumns(Bh,Bb,A4,Bg,Bd,Bp,A7,true);Bp.aggregates=this._calculateAggregate(Bh,Bd,Bp);Bq[A5]=Bp}}}}if(A8&&Bm.length){if(Bh.length>1&&(!Bj.columns||!Bj.columns.length)){Bb=[]}Bg=this._asTuples(Bg,Bb,Bh);Bo=this._asTuples(Bo,Bk,[]);var A1=Bg.length;if(A6){A1=1;var A3=Bg;Bg=Bo;Bo=A3}Bq=this._toDataArray(Bq,Bg.length,Bj.measures,A1,A6?AM:Ax);Bq=this._normalizeData(Bq,Bg.length,Bo.length)}else{Bq=Bg=Bo=[]}return{axes:{columns:{tuples:Bg},rows:{tuples:Bo}},data:Bq}},_normalizeData:function(A3,A4,A0){var A2=(A4||1)*(A0||1);var A1=new Array(A2);var A6=A3.length;var A7,A5;if(A6===A2){return A3}for(A5=0;A5<A2;A5++){A1[A5]={value:"",fmtValue:"",ordinal:A5}}for(A5=0;A5<A6;A5++){A7=A3[A5];if(A7){A1[A7.ordinal]=A7}}return A1}});var n=L.extend({init:function(A0,A1){this.transport=A1;this.options=A1.options||{};if(!this.transport.discover){if(q(A0.discover)){this.discover=A0.discover}}},read:function(A0){return this.transport.read(A0)},update:function(A0){return this.transport.update(A0)},create:function(A0){return this.transport.create(A0)},destroy:function(A0){return this.transport.destroy(A0)},discover:function(A0){if(this.transport.discover){return this.transport.discover(A0)}A0.success({})},catalog:function(A2){var A1=this.options||{};if(A2===Ak){return(A1.connection||{}).catalog}var A0=A1.connection||{};A0.catalog=A2;this.options.connection=A0;C.extend(this.transport.options,{connection:A0})},cube:function(A2){var A1=this.options||{};if(A2===Ak){return(A1.connection||{}).cube}var A0=A1.connection||{};A0.cube=A2;this.options.connection=A0;Z(true,this.transport.options,{connection:A0})}});var z=K.extend({init:function(A2){var A4=((A2||{}).schema||{}).cube;var A1="columns";var A3;var A0={axes:T,cubes:T,catalogs:T,measures:T,dimensions:T,hierarchies:T,levels:T,members:T};if(A4){A0=C.extend(A0,this._cubeSchema(A4));this.cubeBuilder=new Ag(A4)}K.fn.init.call(this,Z(true,{},{schema:A0},A2));this.transport=new n(this.options.transport||{},this.transport);this._columns=g(this.options.columns);this._rows=g(this.options.rows);A3=this.options.measures||[];if(t.call(A3)==="[object Object]"){A1=A3.axis||"columns";A3=A3.values||[]}this._measures=Av(A3);this._measuresAxis=A1;this._skipNormalize=0;this._axes={}},_cubeSchema:function(A0){return{dimensions:function(){var A2=[];var A3=A0.dimensions;for(var A1 in A3){A2.push({name:A1,caption:A3[A1].caption||A1,uniqueName:A1,defaultHierarchy:A1,type:1})}if(A0.measures){A2.push({name:"Measures",caption:"Measures",uniqueName:"Measures",type:2})}return A2},hierarchies:function(){return[]},measures:function(){var A2=[];var A3=A0.measures;for(var A1 in A3){A2.push({name:A1,caption:A1,uniqueName:A1,aggregator:A1})}return A2}}},options:{serverSorting:true,serverPaging:true,serverFiltering:true,serverGrouping:true,serverAggregates:true},catalog:function(A0){if(A0===Ak){return this.transport.catalog()}this.transport.catalog(A0);this._mergeState({});this._axes={};this.data([])},cube:function(A0){if(A0===Ak){return this.transport.cube()}this.transport.cube(A0);this._axes={};this._mergeState({});this.data([])},axes:function(){return this._axes},columns:function(A0){if(A0===Ak){return this._columns}this._skipNormalize+=1;this._clearAxesData=true;this._columns=g(A0);this.query({columns:A0,rows:this.rowsAxisDescriptors(),measures:this.measures()})},rows:function(A0){if(A0===Ak){return this._rows}this._skipNormalize+=1;this._clearAxesData=true;this._rows=g(A0);this.query({columns:this.columnsAxisDescriptors(),rows:A0,measures:this.measures()})},measures:function(A0){if(A0===Ak){return this._measures}this._skipNormalize+=1;this._clearAxesData=true;this.query({columns:this.columnsAxisDescriptors(),rows:this.rowsAxisDescriptors(),measures:Av(A0)})},measuresAxis:function(){return this._measuresAxis||"columns"},_expandPath:function(A6,A1){var A4=A1==="columns"?"columns":"rows";var A8=A1==="columns"?"rows":"columns";var A0=g(A6);var A7=AK(A0[A0.length-1]);this._lastExpanded=A4;A0=h(this.axes()[A4],A0,this.measures());for(var A3=0;A3<A0.length;A3++){var A5=AK(A0[A3]);if(A5===A7){if(A0[A3].expand){return}A0[A3].expand=true}else{A0[A3].expand=false}}var A2={};A2[A4]=A0;A2[A8]=this._descriptorsForAxis(A8);this._query(A2)},_descriptorsForAxis:function(A2){var A0=this.axes();var A1=this[A2]()||[];if(A0&&A0[A2]&&A0[A2].tuples&&A0[A2].tuples[0]){A1=AT(A0[A2].tuples||[])}return A1},columnsAxisDescriptors:function(){return this._descriptorsForAxis("columns")},rowsAxisDescriptors:function(){return this._descriptorsForAxis("rows")},_process:function(A1,A0){this._view=A1;A0=A0||{};A0.items=A0.items||this._view;this.trigger(H,A0)},_query:function(A1){var A0=this;if(!A1){this._skipNormalize+=1;this._clearAxesData=true}return A0.query(Z({},{page:A0.page(),pageSize:A0.pageSize(),sort:A0.sort(),filter:A0.filter(),group:A0.group(),aggregate:A0.aggregate(),columns:this.columnsAxisDescriptors(),rows:this.rowsAxisDescriptors(),measures:this.measures()},A1))},query:function(A0){var A1=this._mergeState(A0);if(this._data.length&&this.cubeBuilder){this._params(A1);this._updateLocalData(this._pristineData);return C.Deferred().resolve().promise()}return this.read(A1)},_mergeState:function(A0){A0=K.fn._mergeState.call(this,A0);if(A0!==Ak){this._measures=Av(A0.measures);if(A0.columns){A0.columns=g(A0.columns)}else{if(!A0.columns){this._columns=[]}}if(A0.rows){A0.rows=g(A0.rows)}else{if(!A0.rows){this._rows=[]}}}return A0},filter:function(A0){if(A0===Ak){return this._filter}this._skipNormalize+=1;this._clearAxesData=true;this._query({filter:A0,page:1})},expandColumn:function(A0){this._expandPath(A0,"columns")},expandRow:function(A0){this._expandPath(A0,"rows")},success:function(A1){var A0;if(this.cubeBuilder){A0=(this.reader.data(A1)||[]).slice(0)}K.fn.success.call(this,A1);if(A0){this._pristineData=A0}},_processResult:function(A4,A9){if(this.cubeBuilder){var A8=this.cubeBuilder.process(A4,this._requestData);A4=A8.data;A9=A8.axes}var A5,A1;var A7,A0,Bb,A3;var Bc=this.columns();var A6=this.rows();var Ba=A9.columns&&A9.columns.tuples;if(!Bc.length&&A6.length&&Ba&&(this._rowMeasures().length||!this.measures().length)){A9={columns:{},rows:A9.columns}}if(!Bc.length&&!A6.length&&this.measuresAxis()==="rows"&&Ba){A9={columns:{},rows:A9.columns}}this._axes={columns:N(this._axes.columns),rows:N(this._axes.rows)};A9={columns:N(A9.columns),rows:N(A9.rows)};A5=this._normalizeTuples(A9.columns.tuples,this._axes.columns.tuples,Bc,this._columnMeasures());A1=this._normalizeTuples(A9.rows.tuples,this._axes.rows.tuples,A6,this._rowMeasures());this._skipNormalize-=1;if(!this.cubeBuilder){A4=this._normalizeData({columnsLength:A9.columns.tuples.length,rowsLength:A9.rows.tuples.length,columnIndexes:A5,rowIndexes:A1,data:A4})}if(this._lastExpanded=="rows"){A7=A9.columns.tuples;Bb=this._columnMeasures();A0=o(A9.columns,this._axes.columns,Bb);if(A0){A3="columns";A9.columns=A0;AA(A7,A0.tuples,A9.rows.tuples.length,Bb,A4);A4=this._normalizeData({columnsLength:W(A9.columns.tuples,Bb),rowsLength:A9.rows.tuples.length,data:A4})}}else{if(this._lastExpanded=="columns"){A7=A9.rows.tuples;Bb=this._rowMeasures();A0=o(A9.rows,this._axes.rows,Bb);if(A0){A3="rows";A9.rows=A0;AL(A7,A0.tuples,A9.columns.tuples.length,Bb,A4);A4=this._normalizeData({columnsLength:W(A9.rows.tuples,Bb),rowsLength:A9.columns.tuples.length,data:A4})}}}this._lastExpanded=null;var A2=this._mergeAxes(A9,A4,A3);this._axes=A2.axes;return A2.data},_readData:function(A2){var A0=this.reader.axes(A2);var A1=this.reader.data(A2);return this._processResult(A1,A0)},_createTuple:function(A3,A6,Bd){var A0=A3.members;var Bc=A0.length;var A7={members:[]};var Be,Ba;var A1,A9;var Bb;var A8;var A4;var A5;var A2=0;if(A6){Bc-=1}for(;A2<Bc;A2++){A5=A0[A2];Ba=Number(A5.levelNum);A1=A5.name;A9=A5.parentName;A4=A5.caption||A1;Bb=A5.hasChildren;A8=A5.hierarchy;Be=A5.levelName;if(Bd){A4="All";if(Ba===0){A9=A5.name}else{Ba-=1}Bb=true;A1=A8=Be=A9}A7.members.push({name:A1,children:[],caption:A4,levelName:Be,levelNum:Ba.toString(),hasChildren:Bb,hierarchy:A8,parentName:!Bd?A9:""})}if(A6){A7.members.push({name:A6.name,children:[]})}return A7},_hasRoot:function(A8,A7,A6){if(A7.length){return Am(A7,A8).tuple}var A0=A8.members;var A3;var A1;var A5=true;var A2;for(var A4=0,A9=A0.length;A4<A9;A4++){A3=A0[A4];A2=Number(A3.levelNum)||0;A1=A6[A4];if(!(A2===0||(A1&&A3.name===AK(A1)))){A5=false;break}}return A5},_mergeAxes:function(Bd,A2,A0){var Bc=this._columnMeasures();var A5=this._rowMeasures();var A7=this.axes();var Bb,A4;var Ba=Bd.rows.tuples.length;var A3=W(A7.columns.tuples,Bc);var A1=Bd.columns.tuples.length;if(A0=="columns"){A1=A3;A4=Bd.columns.tuples}else{A4=AJ(Bd.columns.tuples,Bc);A2=Ah(A4,A2)}var A6=AH(A7.columns.tuples,A4,Bc);if(A0=="rows"){Ba=W(Bd.rows.tuples,A5);A4=Bd.rows.tuples}else{A4=AJ(Bd.rows.tuples,A5);A2=l(A4,A2)}var A9=AH(A7.rows.tuples,A4,A5);A7.columns.tuples=A6.tuples;A7.rows.tuples=A9.tuples;if(A3!==W(A7.columns.tuples,Bc)){Bb=A6.index+e(A6.parsedRoot,A6.memberIndex,Bc);var A8=A3+A1;A2=this._mergeColumnData(A2,Bb,Ba,A1,A8)}else{Bb=A9.index+e(A9.parsedRoot,A9.memberIndex,A5);A2=this._mergeRowData(A2,Bb,Ba,A1)}return{axes:A7,data:A2}},_mergeColumnData:function(A8,A1,A0,A7,A3){var A5=this.data().toJSON();var A2,A4,Ba=0,A6;var A9=Math.max(this._columnMeasures().length,1);A0=Math.max(A0,1);if(A5.length>0){Ba=A9;A3-=A9}for(A2=0;A2<A0;A2++){A4=A1+(A2*A3);A6=A8.splice(0,A7);A6.splice(0,Ba);[].splice.apply(A5,[A4,0].concat(A6))}return A5},_mergeRowData:function(A7,A1,A0,A5){var A2=this.data().toJSON();var A4,A6,A3;var A8=Math.max(this._rowMeasures().length,1);A5=Math.max(A5,1);if(A2.length>0){A0-=A8;A7.splice(0,A5*A8)}for(A4=0;A4<A0;A4++){A3=A7.splice(0,A5);A6=(A1*A5)+(A4*A5);[].splice.apply(A2,[A6,0].concat(A3))}return A2},_columnMeasures:function(){var A0=this.measures();var A1=[];if(this.measuresAxis()==="columns"){if(this.columns().length===0){A1=A0}else{if(A0.length>1){A1=A0}}}return A1},_rowMeasures:function(){var A1=this.measures();var A0=[];if(this.measuresAxis()==="rows"){if(this.rows().length===0){A0=A1}else{if(A1.length>1){A0=A1}}}return A0},_updateLocalData:function(A1,A0){if(this.cubeBuilder){if(A0){this._requestData=A0}A1=this._processResult(A1)}this._data=this._observe(A1);this._ranges=[];this._addRange(this._data);this._total=this._data.length;this._pristineTotal=this._total;this._process(this._data)},data:function(A1){var A0=this;if(A1!==Ak){this._pristineData=A1.slice(0);this._updateLocalData(A1,{columns:this.columns(),rows:this.rows(),measures:this.measures()})}else{return A0._data}},_normalizeTuples:function(A6,A7,A1,A3){var Ba=A3.length||1;var A2=0;var Bb=[];var A4={};var A9=0;var A0,A8,A5;if(!A6.length){return}if(this._skipNormalize<=0&&!this._hasRoot(A6[0],A7,A1)){this._skipNormalize=0;for(;A2<Ba;A2++){Bb.push(this._createTuple(A6[0],A3[A2],true));A4[A2]=A2}A6.splice.apply(A6,[0,A6.length].concat(Bb).concat(A6));A2=Ba}if(A3.length){A5=A0=A6[A2];A8=A0.members.length-1;while(A0){if(A9>=Ba){A9=0}if(A0.members[A8].name!==A3[A9].name){A6.splice(A2,0,this._createTuple(A0,A3[A9]));A4[A2]=A2}A2+=1;A9+=1;A0=A6[A2];if(Ba>A9&&(!A0||Ai(A5,A8-1)!==Ai(A0,A8-1))){for(;A9<Ba;A9++){A6.splice(A2,0,this._createTuple(A5,A3[A9]));A4[A2]=A2;A2+=1}A0=A6[A2]}A5=A0}}return A4},_normalizeData:function(A8){var A3=A8.data;var A0=A8.columnIndexes||{};var A1=A8.rowIndexes||{};var A6=A8.columnsLength||1;var A5=A6*(A8.rowsLength||1);var A4=0;var A9=0;var Ba=0;var Bb,A7;var A2=new Array(A5);if(A3.length===A5){return A3}for(;A4<A5;A4++){while(A1[parseInt(A4/A6,10)]!==Ak){for(A7=0;A7<A6;A7++){A2[A4]={value:"",fmtValue:"",ordinal:A4};A4+=1}}while(A0[A4%A6]!==Ak){A2[A4]={value:"",fmtValue:"",ordinal:A4};A4+=1}Bb=A3[A9];if(Bb){if(Bb.ordinal-Ba>1){Ba+=1;for(;Ba<Bb.ordinal;Ba++){A2[A4]={value:"",fmtValue:"",ordinal:A4};A4+=1}}Ba=Bb.ordinal;Bb.ordinal=A4;A2[A4]=Bb;A9+=1}else{A2[A4]={value:"",fmtValue:"",ordinal:A4}}}return A2},discover:function(A2,A1){var A0=this,A3=A0.transport;return C.Deferred(function(A4){A3.discover(Z({success:function(A5){A5=A0.reader.parse(A5);if(A0._handleCustomErrors(A5)){return}if(A1){A5=A1(A5)}A4.resolve(A5)},error:function(A7,A5,A6){A4.reject(A7);A0.error(A7,A5,A6)}},A2))}).promise().done(function(){A0.trigger("schemaChange")})},schemaMeasures:function(){var A0=this;return A0.discover({data:{command:"schemaMeasures",restrictions:{catalogName:A0.transport.catalog(),cubeName:A0.transport.cube()}}},function(A1){return A0.reader.measures(A1)})},schemaKPIs:function(){var A0=this;return A0.discover({data:{command:"schemaKPIs",restrictions:{catalogName:A0.transport.catalog(),cubeName:A0.transport.cube()}}},function(A1){return A0.reader.kpis(A1)})},schemaDimensions:function(){var A0=this;return A0.discover({data:{command:"schemaDimensions",restrictions:{catalogName:A0.transport.catalog(),cubeName:A0.transport.cube()}}},function(A1){return A0.reader.dimensions(A1)})},schemaHierarchies:function(A0){var A1=this;return A1.discover({data:{command:"schemaHierarchies",restrictions:{catalogName:A1.transport.catalog(),cubeName:A1.transport.cube(),dimensionUniqueName:A0}}},function(A2){return A1.reader.hierarchies(A2)})},schemaLevels:function(A1){var A0=this;return A0.discover({data:{command:"schemaLevels",restrictions:{catalogName:A0.transport.catalog(),cubeName:A0.transport.cube(),hierarchyUniqueName:A1}}},function(A2){return A0.reader.levels(A2)})},schemaCubes:function(){var A0=this;return A0.discover({data:{command:"schemaCubes",restrictions:{catalogName:A0.transport.catalog()}}},function(A1){return A0.reader.cubes(A1)})},schemaCatalogs:function(){var A0=this;return A0.discover({data:{command:"schemaCatalogs"}},function(A1){return A0.reader.catalogs(A1)})},schemaMembers:function(A1){var A0=this;return A0.discover({data:{command:"schemaMembers",restrictions:Z({catalogName:A0.transport.catalog(),cubeName:A0.transport.cube()},A1)}},function(A2){return A0.reader.members(A2)})},_params:function(A1){if(this._clearAxesData){this._axes={};this._data=this._observe([]);this._clearAxesData=false;this.trigger(Ab)}var A0=K.fn._params.call(this,A1);A0=Z({measures:this.measures(),measuresAxis:this.measuresAxis(),columns:this.columns(),rows:this.rows()},A0);if(this.cubeBuilder){this._requestData=A0}return A0}});function o(A0,A2,A1){if(A0.tuples.length<W(A2.tuples,A1)){return A2}return}function AA(A6,Ba,A1,A5,A2){var A7,A8,A0;var A4=A6.length;var A9=W(Ba,A5);var A3=A5.length||1;for(A8=0;A8<A1;A8++){for(A7=0;A7<A4;A7++){A0=At(A6[A7],Ba)*A3;A0+=A7%A3;A2[A8*A4+A7].ordinal=A8*A9+A0}}}function AL(A8,Ba,A6,A5,A3){var A7,A9,A0;var A1=A8.length;var A2=W(Ba,A5);var A4=A5.length||1;for(A9=0;A9<A1;A9++){A0=At(A8[A9],Ba);A0*=A4;A0+=A9%A4;for(A7=0;A7<A6;A7++){A3[A9*A6+A7].ordinal=A0*A6+A7}}}function At(A1,A0){return Am(A0,A1).index}function W(A1,A5){if(!A1.length){return 0}var A6=A1.slice();var A4=A6.shift();var A3,A2,A0=1;while(A4){if(A4.members){[].push.apply(A6,A4.members)}else{if(A4.children){if(!A4.measure){A0+=A4.children.length}[].push.apply(A6,A4.children)}}A4=A6.shift()}if(A5.length){A0=A0*A5.length}return A0}function N(A0){if(!A0){A0={tuples:[]}}if(!A0.tuples){A0.tuples=[]}return A0}function e(A4,A2,A5){if(!A4){return 0}var A0=Math.max(A5.length,1);var A1=A4.members.slice(0,A2);var A3=A1.shift();while(A3){if(A3.children){[].push.apply(A1,A3.children)}else{A0++;[].push.apply(A1,A3.members)}A3=A1.shift()}return A0}function AH(A7,A6,A5){if(!A6[0]){return{parsedRoot:null,tuples:A7,memberIndex:0,index:0}}var A3=Am(A7,A6[0]);if(!A3.tuple){return{parsedRoot:null,tuples:A6,memberIndex:0,index:0}}var A1=A3.tuple.members;var A2=A6[0].members;var A0=-1;if(A1.length!==A2.length){return{parsedRoot:null,tuples:A6,memberIndex:0,index:0}}for(var A4=0,A8=A1.length;A4<A8;A4++){if(!A1[A4].measure&&A2[A4].children[0]){if(A0==-1&&A2[A4].children.length){A0=A4}A1[A4].children=A2[A4].children}}A5=Math.max(A5.length,1);return{parsedRoot:A3.tuple,index:A3.index*A5,memberIndex:A0,tuples:A7}}function p(A4,A0){var A2=true;var A5,A1;var A3;A4=A4.members;A0=A0.members;for(A5=0,A1=A4.length;A5<A1;A5++){if(A4[A5].measure||A0[A5].measure){continue}A2=A2&&(AK(A4[A5])===AK(A0[A5]))}return A2}function Am(A7,A8){var A3,A4,A1,A6,A5=0;var A0,A9,A2;for(A3=0,A4=A7.length;A3<A4;A3++){A1=A7[A3];if(p(A1,A8)){return{tuple:A1,index:A5}}A5++;for(A0=0,A9=A1.members.length;A0<A9;A0++){A2=A1.members[A0];if(A2.measure){continue}A6=Am(A2.children,A8);A5+=A6.index;if(A6.tuple){return{tuple:A6.tuple,index:A5}}}}return{index:A5}}function F(A2,A1){var A5,A0,A3,A4="";for(A0=0,A3=A2.length;A0<A3;A0++){A5=A2[A0];A4+=A5.name;if(!A1[A4]){A1[A4]=A5}}}function AY(A1,A8){var A0=A1.members;var A5,A7,A2,A6="";var A3="";var A4;for(A5=0,A7=A0.length;A5<A7;A5++){A2=A0[A5];if(A4){if(A8[A6+A2.name]){A6+=A2.name;A4=A8[A6];continue}else{if(A8[A6+A2.parentName]){return A8[A6+A2.parentName]}else{if(A8[A3+A2.parentName]){return A8[A3+A2.parentName]}else{return A8[A3]}}}}A6+=A2.name;A4=A8[A2.parentName];if(!A4){A4=A8[A6];if(!A4){return null}}if(A4){A3+=A4.name}}return A4}function d(A4,A5){if(A5.length===0){return -1}var A0=A5[0];var A2=A4.members;for(var A1=0,A3=A2.length;A1<A3;A1++){if(A2[A1].name==A0.name){return A1}}}function Ad(A1,A0){if(A0<0){return}var A2={name:"Measures",measure:true,children:[C.extend({members:[],dataIndex:A1.dataIndex},A1.members[A0])]};A1.members.splice(A0,1,A2);A1.dataIndex=Ak}function AJ(A6,A3){if(A6.length<1){return[]}var A0=[];var A7={};var A2=d(A6[0],A3);for(var A5=0;A5<A6.length;A5++){var A1=A6[A5];A1.dataIndex=A5;Ad(A1,A2);var A4=AY(A1,A7);if(A4){if(A2<0||!A4.measure){A4.children.push(A1)}else{A4.children.push(A1.members[A2].children[0])}}else{A0.push(A1)}F(A1.members,A7)}return A0}function l(A6,A4){if(!A6||!A6.length){return A4}var A5=[];var A8=I(A6);var A2=A8.length;var A7=Math.max(A4.length/A2,1);var A0,A1,A9,Ba;var A3;for(A0=0;A0<A2;A0++){A9=A7*A0;Ba=A7*A8[A0];for(A1=0;A1<A7;A1++){A3=parseInt(Ba+A1,10);A5[parseInt(A9+A1,10)]=A4[A3]||{value:"",fmtValue:"",ordinal:A3}}}return A5}function Ah(A7,A4,A6){if(!A7||!A7.length){return A4}var A5=[];var A9=I(A7);var A8=A9.length;var A2=Math.max(A4.length/A8,1);var A1,A0,Ba,A3;for(A0=0;A0<A2;A0++){Ba=A8*A0;for(A1=0;A1<A8;A1++){A3=A9[A1]+Ba;A5[Ba+A1]=A4[A3]||{value:"",fmtValue:"",ordinal:A3}}}return A5}function I(A7){A7=A7.slice();var A1=[];var A2=A7.shift();var A4,A5,A6,A3,A0;while(A2){if(A2.dataIndex!==Ak){A1.push(A2.dataIndex)}A6=0;for(A4=0,A5=A2.members.length;A4<A5;A4++){A0=A2.members[A4];A3=A0.children;if(A0.measure){[].splice.apply(A7,[0,0].concat(A3))}else{[].splice.apply(A7,[A6,0].concat(A3))}A6+=A3.length}A2=A7.shift()}return A1}z.create=function(A1){A1=A1&&A1.push?{data:A1}:A1;var A0=A1||{},A2=A0.data;A0.data=A2;if(!(A0 instanceof z)&&A0 instanceof Ay.data.DataSource){throw new Error("Incorrect DataSource type. Only PivotDataSource instances are supported")}return A0 instanceof z?A0:new z(A0)};function AN(A1){var A0=A1.split(".");if(A0.length>2){return A0[0]+"."+A0[1]}return A1}function f(A3,A0){var A2=A3.length-1;var A1=A3[A2];var A4;A4=AO(A0,A1);if(A4&&A4.dir){A1="ORDER("+A1+".Children,"+A4.field+".CurrentMember.MEMBER_CAPTION,"+A4.dir+")"}else{A1+=".Children"}A3[A2]=A1;return A3}function AO(A0,A3){for(var A2=0,A1=A0.length;A2<A1;A2++){if(A3.indexOf(A0[A2].field)===0){return A0[A2]}}return null}function s(A2){var A1="CROSSJOIN({";var A0;if(A2.length>2){A0=A2.pop();A1+=s(A2)}else{A1+=A2.shift();A0=A2.pop()}A1+="},{";A1+=A0;A1+="})";return A1}function AR(A1,A2){var A0=A1.slice(0);var A3;if(A2.length>1){A0.push("{"+AG(A2).join(",")+"}")}return s(A0)}function G(A1){var A0=[];for(var A2=0;A2<A1.length;A2++){if(A1[A2].expand){A0.push(A1[A2])}}return A0}function AG(A3){var A2=0;var A1=A3.length;var A0=[];var A4;for(;A2<A1;A2++){A4=A3[A2];A0.push(A4.name!==Ak?A4.name:A4)}return A0}function AK(A0){A0=A0.name||A0;if(t.call(A0)==="[object Array]"){A0=A0[A0.length-1]}return A0}function O(A1){var A0=A1.length;var A3=[];var A2=0;for(;A2<A0;A2++){A3.push(A1[A2].name[0])}return A3}function AZ(A1,A5){var A0;var A6;var A3;var A2=0;var A4=A1.length;var A7=A5.length;A5=A5.slice(0);for(;A2<A4;A2++){A0=A1[A2];for(A3=0;A3<A7;A3++){A6=AN(A5[A3]);if(A0.indexOf(A6)!==-1){A5[A3]=A0;break}}}return A5}function M(A0){var A8=[];var Ba=[];var A6=[];var A4;var A5,A9;var A3=0;var Bb=A0.length;var A1;var A2;var A7;for(;A3<Bb;A3++){A4=A0[A3];A1=A4.name;A7=false;if(t.call(A1)!=="[object Array]"){A4.name=A1=[A1]}if(A1.length>1){Ba.push(A4)}else{A2=AN(A1[0]);for(A5=0,A9=A6.length;A5<A9;A5++){if(A6[A5].name[0].indexOf(A2)===0){A7=true;break}}if(!A7){A6.push(A4)}if(A4.expand){A8.push(A4)}}}A8=A8.concat(Ba);return{root:A6,expanded:A8}}function AC(A0,A5,Bb){var A9="";A0=A0||[];var A4=M(A0);var A7=A4.root;var A6=O(A7);var A8=[];A4=A4.expanded;var Ba=A4.length;var A3=0;var A1;var A2=[];if(A6.length>1||A5.length>1){A8.push(AR(A6,A5));for(;A3<Ba;A3++){A1=f(A4[A3].name,Bb);A2=AZ(A1,A6);A8.push(AR(A2,A5))}A9+=A8.join(",")}else{for(;A3<Ba;A3++){A1=f(A4[A3].name,Bb);A2.push(A1[0])}A9+=A6.concat(A2).join(",")}return A9}var AX={contains:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}") > 0',doesnotcontain:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}") = 0',startswith:', Left({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"',endswith:', Right({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"',eq:', {0}.CurrentMember.MEMBER_CAPTION = "{1}"',neq:', NOT {0}.CurrentMember.MEMBER_CAPTION = "{1}"'};function Al(A4){var A2="";var A0=A4.value;var A3=A4.field;var A1=A4.operator;if(A1=="in"){A2+="{";A2+=A0;A2+="}"}else{A2+="Filter(";A2+=A3+".MEMBERS";A2+=Ay.format(AX[A1],A3,A0);A2+=")"}return A2}function u(A4,A6){var A5="",A2;var A3=A4.filters;var A0=A3.length;var A1;for(A1=A0-1;A1>=0;A1--){A2="SELECT (";A2+=Al(A3[A1]);A2+=") ON 0";if(A1==A0-1){A2+=" FROM ["+A6+"]";A5=A2}else{A5=A2+" FROM ( "+A5+" )"}}return A5}function Az(A5,A3,A1){var A2="";if(A3){A2+="<"+A5+">";var A4;for(var A0 in A3){A4=A3[A0];if(A1){A0=A0.replace(/([A-Z]+(?=$|[A-Z][a-z])|[A-Z]?[a-z]+)/g,"$1_").toUpperCase().replace(/_$/,"")}A2+="<"+A0+">"+A4+"</"+A0+">"}A2+="</"+A5+">"}else{A2+="<"+A5+"/>"}return A2}var j={schemaCubes:"MDSCHEMA_CUBES",schemaCatalogs:"DBSCHEMA_CATALOGS",schemaMeasures:"MDSCHEMA_MEASURES",schemaDimensions:"MDSCHEMA_DIMENSIONS",schemaHierarchies:"MDSCHEMA_HIERARCHIES",schemaLevels:"MDSCHEMA_LEVELS",schemaMembers:"MDSCHEMA_MEMBERS",schemaKPIs:"MDSCHEMA_KPIS"};var X={read:function(A5,A6){var A3='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Execute xmlns="urn:schemas-microsoft-com:xml-analysis"><Command><Statement>';A3+="SELECT NON EMPTY {";var A1=A5.columns||[];var A0=A5.rows||[];var A2=A5.measures||[];var A7=A5.measuresAxis==="rows";var A4=A5.sort||[];if(!A1.length&&A0.length&&(!A2.length||(A2.length&&A7))){A1=A0;A0=[];A7=false}if(!A1.length&&!A0.length){A7=false}if(A1.length){A3+=AC(A1,!A7?A2:[],A4)}else{if(A2.length&&!A7){A3+=AG(A2).join(",")}}A3+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON COLUMNS";if(A0.length||(A7&&A2.length>1)){A3+=", NON EMPTY {";if(A0.length){A3+=AC(A0,A7?A2:[],A4)}else{A3+=AG(A2).join(",")}A3+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON ROWS"}if(A5.filter){A3+=" FROM ";A3+="(";A3+=u(A5.filter,A5.connection.cube);A3+=")"}else{A3+=" FROM ["+A5.connection.cube+"]"}if(A2.length==1&&A1.length){A3+=" WHERE ("+AG(A2).join(",")+")"}A3+="</Statement></Command><Properties><PropertyList><Catalog>"+A5.connection.catalog+"</Catalog><Format>Multidimensional</Format></PropertyList></Properties></Execute></Body></Envelope>";return A3.replace(/\&/g,"&amp;")},discover:function(A1,A0){A1=A1||{};var A2='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Discover xmlns="urn:schemas-microsoft-com:xml-analysis">';A2+="<RequestType>"+(j[A1.command]||A1.command)+"</RequestType>";A2+="<Restrictions>"+Az("RestrictionList",A1.restrictions,true)+"</Restrictions>";if(A1.connection&&A1.connection.catalog){A1.properties=C.extend({},{Catalog:A1.connection.catalog},A1.properties)}A2+="<Properties>"+Az("PropertyList",A1.properties)+"</Properties>";A2+="</Discover></Body></Envelope>";return A2}};var As=Ay.data.RemoteTransport.extend({init:function(A1){var A0=A1;A1=this.options=Z(true,{},this.options,A1);Ay.data.RemoteTransport.call(this,A1);if(q(A0.discover)){this.discover=A0.discover}else{if(typeof A0.discover==="string"){this.options.discover={url:A0.discover}}else{if(!A0.discover){this.options.discover=this.options.read}}}},setup:function(A1,A0){A1.data=A1.data||{};C.extend(true,A1.data,{connection:this.options.connection});return Ay.data.RemoteTransport.fn.setup.call(this,A1,A0)},options:{read:{dataType:"text",contentType:"text/xml",type:"POST"},discover:{dataType:"text",contentType:"text/xml",type:"POST"},parameterMap:function(A1,A0){return X[A0](A1,A0)}},discover:function(A0){return C.ajax(this.setup(A0,"discover"))}});function B(A1){if(A1==null){return[]}var A0=t.call(A1);if(A0!=="[object Array]"){return[A1]}return A1}function Aw(A2){var A8={tuples:[]};var A7=B(Ay.getter("Tuples.Tuple",true)(A2));var A4=Ay.getter("Caption['#text']");var A0=Ay.getter("UName['#text']");var A9=Ay.getter("LName['#text']");var A3=Ay.getter("LNum['#text']");var Bb=Ay.getter("CHILDREN_CARDINALITY['#text']",true);var Bc=Ay.getter("['@Hierarchy']");var Ba=Ay.getter("PARENT_UNIQUE_NAME['#text']",true);for(var A6=0;A6<A7.length;A6++){var A1=[];var A5=B(A7[A6].Member);for(var Bd=0;Bd<A5.length;Bd++){A1.push({children:[],caption:A4(A5[Bd]),name:A0(A5[Bd]),levelName:A9(A5[Bd]),levelNum:A3(A5[Bd]),hasChildren:parseInt(Bb(A5[Bd]),10)>0,parentName:Ba(A5[Bd]),hierarchy:Bc(A5[Bd])})}A8.tuples.push({members:A1})}return A8}var R={cubes:{name:Ay.getter("CUBE_NAME['#text']",true),caption:Ay.getter("CUBE_CAPTION['#text']",true),description:Ay.getter("DESCRIPTION['#text']",true),type:Ay.getter("CUBE_TYPE['#text']",true)},catalogs:{name:Ay.getter("CATALOG_NAME['#text']",true),description:Ay.getter("DESCRIPTION['#text']",true)},measures:{name:Ay.getter("MEASURE_NAME['#text']",true),caption:Ay.getter("MEASURE_CAPTION['#text']",true),uniqueName:Ay.getter("MEASURE_UNIQUE_NAME['#text']",true),description:Ay.getter("DESCRIPTION['#text']",true),aggregator:Ay.getter("MEASURE_AGGREGATOR['#text']",true),groupName:Ay.getter("MEASUREGROUP_NAME['#text']",true),displayFolder:Ay.getter("MEASURE_DISPLAY_FOLDER['#text']",true),defaultFormat:Ay.getter("DEFAULT_FORMAT_STRING['#text']",true)},kpis:{name:Ay.getter("KPI_NAME['#text']",true),caption:Ay.getter("KPI_CAPTION['#text']",true),value:Ay.getter("KPI_VALUE['#text']",true),goal:Ay.getter("KPI_GOAL['#text']",true),status:Ay.getter("KPI_STATUS['#text']",true),trend:Ay.getter("KPI_TREND['#text']",true),statusGraphic:Ay.getter("KPI_STATUS_GRAPHIC['#text']",true),trendGraphic:Ay.getter("KPI_TREND_GRAPHIC['#text']",true),description:Ay.getter("KPI_DESCRIPTION['#text']",true),groupName:Ay.getter("MEASUREGROUP_NAME['#text']",true)},dimensions:{name:Ay.getter("DIMENSION_NAME['#text']",true),caption:Ay.getter("DIMENSION_CAPTION['#text']",true),description:Ay.getter("DESCRIPTION['#text']",true),uniqueName:Ay.getter("DIMENSION_UNIQUE_NAME['#text']",true),defaultHierarchy:Ay.getter("DEFAULT_HIERARCHY['#text']",true),type:Ay.getter("DIMENSION_TYPE['#text']",true)},hierarchies:{name:Ay.getter("HIERARCHY_NAME['#text']",true),caption:Ay.getter("HIERARCHY_CAPTION['#text']",true),description:Ay.getter("DESCRIPTION['#text']",true),uniqueName:Ay.getter("HIERARCHY_UNIQUE_NAME['#text']",true),dimensionUniqueName:Ay.getter("DIMENSION_UNIQUE_NAME['#text']",true),displayFolder:Ay.getter("HIERARCHY_DISPLAY_FOLDER['#text']",true),origin:Ay.getter("HIERARCHY_ORIGIN['#text']",true),defaultMember:Ay.getter("DEFAULT_MEMBER['#text']",true)},levels:{name:Ay.getter("LEVEL_NAME['#text']",true),caption:Ay.getter("LEVEL_CAPTION['#text']",true),description:Ay.getter("DESCRIPTION['#text']",true),uniqueName:Ay.getter("LEVEL_UNIQUE_NAME['#text']",true),dimensionUniqueName:Ay.getter("DIMENSION_UNIQUE_NAME['#text']",true),displayFolder:Ay.getter("LEVEL_DISPLAY_FOLDER['#text']",true),orderingProperty:Ay.getter("LEVEL_ORDERING_PROPERTY['#text']",true),origin:Ay.getter("LEVEL_ORIGIN['#text']",true),hierarchyUniqueName:Ay.getter("HIERARCHY_UNIQUE_NAME['#text']",true)},members:{name:Ay.getter("MEMBER_NAME['#text']",true),caption:Ay.getter("MEMBER_CAPTION['#text']",true),uniqueName:Ay.getter("MEMBER_UNIQUE_NAME['#text']",true),dimensionUniqueName:Ay.getter("DIMENSION_UNIQUE_NAME['#text']",true),hierarchyUniqueName:Ay.getter("HIERARCHY_UNIQUE_NAME['#text']",true),levelUniqueName:Ay.getter("LEVEL_UNIQUE_NAME['#text']",true),childrenCardinality:Ay.getter("CHILDREN_CARDINALITY['#text']",true)}};var Ar=["axes","catalogs","cubes","dimensions","hierarchies","levels","measures"];var Y=Ay.data.XmlDataReader.extend({init:function(A0){Ay.data.XmlDataReader.call(this,A0);this._extend(A0)},_extend:function(A3){var A4=0;var A0=Ar.length;var A2;var A1;for(;A4<A0;A4++){A2=Ar[A4];A1=A3[A2];if(A1&&A1!==T){this[A2]=A1}}},parse:function(A1){var A0=Ay.data.XmlDataReader.fn.parse(A1.replace(/<(\/?)(\w|-)+:/g,"<$1"));return Ay.getter("['Envelope']['Body']",true)(A0)},errors:function(A0){var A1=Ay.getter("['Fault']",true)(A0);if(A1){return[{faultstring:Ay.getter("faultstring['#text']",true)(A1),faultcode:Ay.getter("faultcode['#text']",true)(A1)}]}return null},axes:function(A1){A1=Ay.getter('ExecuteResponse["return"].root',true)(A1);var A0=B(Ay.getter("Axes.Axis",true)(A1));var A4;var A2={columns:{},rows:{}};for(var A3=0;A3<A0.length;A3++){A4=A0[A3];if(A4["@name"].toLowerCase()!=="sliceraxis"){if(!A2.columns.tuples){A2.columns=Aw(A4)}else{A2.rows=Aw(A4)}}}return A2},data:function(A0){A0=Ay.getter('ExecuteResponse["return"].root',true)(A0);var A2=B(Ay.getter("CellData.Cell",true)(A0));var A1=[];var A4=Ay.getter("['@CellOrdinal']");var A5=Ay.getter("Value['#text']");var A6=Ay.getter("FmtValue['#text']");for(var A3=0;A3<A2.length;A3++){A1.push({value:A5(A2[A3]),fmtValue:A6(A2[A3]),ordinal:parseInt(A4(A2[A3]),10)})}return A1},_mapSchema:function(A1,A5){A1=Ay.getter('DiscoverResponse["return"].root',true)(A1);var A4=B(Ay.getter("row",true)(A1));var A2=[];for(var A6=0;A6<A4.length;A6++){var A3={};for(var A0 in A5){A3[A0]=A5[A0](A4[A6])}A2.push(A3)}return A2},measures:function(A0){return this._mapSchema(A0,R.measures)},kpis:function(A0){return this._mapSchema(A0,R.kpis)},hierarchies:function(A0){return this._mapSchema(A0,R.hierarchies)},levels:function(A0){return this._mapSchema(A0,R.levels)},dimensions:function(A0){return this._mapSchema(A0,R.dimensions)},cubes:function(A0){return this._mapSchema(A0,R.cubes)},catalogs:function(A0){return this._mapSchema(A0,R.catalogs)},members:function(A0){return this._mapSchema(A0,R.members)}});Z(true,Ay.data,{PivotDataSource:z,XmlaTransport:As,XmlaDataReader:Y,PivotCubeBuilder:Ag,transports:{xmla:As},readers:{xmla:Y}});var AS=function(A1,A2){if(!A1){return null}for(var A3=0,A0=A1.length;A3<A0;A3++){if(A1[A3].field===A2){return A1[A3]}}return null};var AV=function(A2,A3){var A1=[];for(var A4=0,A0=A2.length;A4<A0;A4++){if(A2[A4].field!==A3){A1.push(A2[A4])}}return A1};Ay.ui.PivotSettingTarget=m.extend({init:function(A2,A1){var A0=this;m.fn.init.call(A0,A2,A1);A0.element.addClass("k-pivot-setting");A0.dataSource=Ay.data.PivotDataSource.create(A1.dataSource);A0._refreshHandler=C.proxy(A0.refresh,A0);A0.dataSource.first(H,A0._refreshHandler);if(!A1.template){A0.options.template="<div data-"+Ay.ns+'name="${data.name || data}">${data.name || data}'+(A0.options.enabled?'<a class="k-button k-button-icon k-button-bare"><span class="k-icon k-setting-delete"></span></a>':"")+"</div>"}A0.template=Ay.template(A0.options.template);A0.emptyTemplate=Ay.template(A0.options.emptyTemplate);A0._sortable();A0.element.on("click"+v,".k-button,.k-item",function(A3){var A5=C(A3.target);var A4=A5.closest("["+Ay.attr("name")+"]").attr(Ay.attr("name"));if(!A4){return}if(A5.hasClass("k-setting-delete")){A0.remove(A4)}else{if(A0.options.sortable&&A5[0]===A3.currentTarget){A0.sort({field:A4,dir:A5.find(".k-i-sort-asc")[0]?"desc":"asc"})}}});if(A1.filterable||A1.sortable){A0.fieldMenu=new Ac.PivotFieldMenu(A0.element,{messages:A0.options.messages.fieldMenu,filter:".k-setting-fieldmenu",filterable:A1.filterable,sortable:A1.sortable,dataSource:A0.dataSource})}A0.refresh()},options:{name:"PivotSettingTarget",template:null,filterable:false,sortable:false,emptyTemplate:"<div class='k-empty'>${data}</div>",setting:"columns",enabled:true,messages:{empty:"Drop Fields Here"}},setDataSource:function(A0){this.dataSource.unbind(H,this._refreshHandler);this.dataSource=this.options.dataSource=A0;if(this.fieldMenu){this.fieldMenu.setDataSource(A0)}A0.first(H,this._refreshHandler);this.refresh()},_sortable:function(){var A0=this;if(A0.options.enabled){this.sortable=this.element.kendoSortable({connectWith:this.options.connectWith,filter:">:not(.k-empty)",hint:A0.options.hint,cursor:"move",start:function(A1){A1.item.focus().blur()},change:function(A1){var A2=A1.item.attr(Ay.attr("name"));if(A1.action=="receive"){A0.add(A2)}else{if(A1.action=="remove"){A0.remove(A2)}else{if(A1.action=="sort"){A0.move(A2,A1.newIndex)}}}}}).data("kendoSortable")}},_indexOf:function(A2,A3){var A1,A0,A4=-1;for(A1=0,A0=A3.length;A1<A0;A1++){if(AK(A3[A1])===A2){A4=A1;break}}return A4},_isKPI:function(A0){return A0.type==="kpi"||A0.measure},validate:function(A3){var A0=(A3.type==2||"aggregator" in A3||this._isKPI(A3));if(A0){return this.options.setting==="measures"}if(this.options.setting==="measures"){return A0}var A2=this.dataSource[this.options.setting]();var A1=A3.defaultHierarchy||A3.uniqueName;if(this._indexOf(A1,A2)>-1){return false}A2=this.dataSource[this.options.setting==="columns"?"rows":"columns"]();if(this._indexOf(A1,A2)>-1){return false}return true},add:function(A3){var A4=this.dataSource[this.options.setting]();var A0,A2;var A1;A3=C.isArray(A3)?A3.slice(0):[A3];for(A0=0,A2=A3.length;A0<A2;A0++){if(this._indexOf(A3[A0],A4)!==-1){A3.splice(A0,1);A0-=1;A2-=1}}if(A3.length){A4=A4.concat(A3);this.dataSource[this.options.setting](A4)}},move:function(A1,A2){var A0=this.dataSource[this.options.setting]();var A3=this._indexOf(A1,A0);if(A3>-1){A1=A0.splice(A3,1)[0];A0.splice(A2,0,A1);this.dataSource[this.options.setting](A0)}},remove:function(A1){var A2=this.dataSource[this.options.setting]();var A0=this._indexOf(A1,A2);if(A0>-1){A2.splice(A0,1);this.dataSource[this.options.setting](A2)}},sort:function(A1){var A2=this.options.sortable;var A5=A2===true||A2.allowUnsort;var A4=A5&&A1.dir==="asc";var A3=(this.dataSource.sort()||[]);var A0=AV(A3,A1.field);if(A4&&A3.length!==A0.length){A1=null}if(A1){A0.push(A1)}this.dataSource.sort(A0)},refresh:function(){var A0="";var A4=this.dataSource[this.options.setting]();var A1=A4.length;var A2=0;var A3;if(A1){for(;A2<A1;A2++){A3=A4[A2];A3=A3.name===Ak?{name:A3}:A3;A0+=this.template(Z({sortIcon:this._sortIcon(A3.name)},A3))}}else{A0=this.emptyTemplate(this.options.messages.empty)}this.element.html(A0)},destroy:function(){m.fn.destroy.call(this);this.dataSource.unbind(H,this._refreshHandler);this.element.off(v);if(this.sortable){this.sortable.destroy()}if(this.fieldMenu){this.fieldMenu.destroy()}this.element=null;this._refreshHandler=null},_sortIcon:function(A2){var A1=this.dataSource.sort();var A0=AS(A1,AK(A2));var A3="";if(A0){A3="k-i-sort-"+A0.dir}return A3}});var S=m.extend({init:function(A3,A1){var A0=this;var A2;var A4;m.fn.init.call(A0,A3,A1);A0._dataSource();A0._bindConfigurator();A0._wrapper();A0._createLayout();A0._columnBuilder=A2=new w();A0._rowBuilder=A4=new Q();A0._contentBuilder=new Ae();A0._templates();A0.columnsHeader.add(A0.rowsHeader).on("click","span.k-icon",function(){var Ba=C(this);var A6=A2;var Bd="expandColumn";var A8;var Bb=Ba.attr(Ay.attr("path"));var A5={axis:"columns",path:C.parseJSON(Bb)};if(Ba.parent().is("td")){A6=A4;Bd="expandRow";A5.axis="rows"}var A9=Ba.hasClass(AI);var Bc=A6.metadata[Bb];var A7=Bc.expanded===Ak;A8=A9?AP:AE;if(A0.trigger(A8,A5)){return}A6.metadata[Bb].expanded=!A9;Ba.toggleClass(AI,!A9).toggleClass(AU,A9);if(!A9&&A7){A0.dataSource[Bd](A5.path)}else{A0.refresh()}});A0._scrollable();if(A0.options.autoBind){A0.dataSource.fetch()}Ay.notify(A0)},events:[D,E,AE,AP],options:{name:"PivotGrid",autoBind:true,reorderable:true,filterable:false,sortable:false,height:null,columnWidth:100,configurator:"",columnHeaderTemplate:null,rowHeaderTemplate:null,dataCellTemplate:null,kpiStatusTemplate:null,kpiTrendTemplate:null,messages:{measureFields:"Drop Data Fields Here",columnFields:"Drop Column Fields Here",rowFields:"Drop Rows Fields Here"}},_templates:function(){var A1=this.options.columnHeaderTemplate;var A2=this.options.rowHeaderTemplate;var A4=this.options.dataCellTemplate;var A3=this.options.kpiStatusTemplate;var A0=this.options.kpiTrendTemplate;this._columnBuilder.template=Ay.template(A1||Ap,{useWithBlock:!!A1});this._contentBuilder.dataTemplate=Ay.template(A4||k,{useWithBlock:!!A4});this._contentBuilder.kpiStatusTemplate=Ay.template(A3||J,{useWithBlock:!!A3});this._contentBuilder.kpiTrendTemplate=Ay.template(A0||b,{useWithBlock:!!A0});this._rowBuilder.template=Ay.template(A2||Ap,{useWithBlock:!!A2})},_bindConfigurator:function(){var A0=this.options.configurator;if(A0){C(A0).kendoPivotConfigurator("setDataSource",this.dataSource)}},cellInfoByElement:function(A0){A0=C(A0);return this.cellInfo(A0.index(),A0.parent("tr").index())},cellInfo:function(A3,A2){var A1=this._contentBuilder;var A4=A1.columnIndexes[A3||0];var A5=A1.rowIndexes[A2||0];var A0;if(!A4||!A5){return null}A0=(A5.index*A1.rowLength)+A4.index;return{columnTuple:A4.tuple,rowTuple:A5.tuple,measure:A4.measure||A5.measure,dataItem:this.dataSource.view()[A0]}},setDataSource:function(A0){this.options.dataSource=A0;this._dataSource();if(this.measuresTarget){this.measuresTarget.setDataSource(A0)}if(this.rowsTarget){this.rowsTarget.setDataSource(A0)}if(this.columnsTarget){this.columnsTarget.setDataSource(A0)}this._bindConfigurator();if(this.options.autoBind){A0.fetch()}},setOptions:function(A0){m.fn.setOptions.call(this,A0);this._templates()},_dataSource:function(){var A0=this;var A1=A0.options.dataSource;A1=C.isArray(A1)?{data:A1}:A1;if(A0.dataSource&&this._refreshHandler){A0.dataSource.unbind(H,A0._refreshHandler).unbind(Ab,A0._stateResetHandler).unbind(An,A0._progressHandler).unbind(y,A0._errorHandler)}else{A0._refreshHandler=C.proxy(A0.refresh,A0);A0._progressHandler=C.proxy(A0._requestStart,A0);A0._stateResetHandler=C.proxy(A0._stateReset,A0);A0._errorHandler=C.proxy(A0._error,A0)}A0.dataSource=Ay.data.PivotDataSource.create(A1).bind(H,A0._refreshHandler).bind(An,A0._progressHandler).bind(Ab,A0._stateResetHandler).bind(y,A0._errorHandler)},_error:function(){this._progress(false)},_requestStart:function(){this._progress(true)},_stateReset:function(){this._columnBuilder.reset();this._rowBuilder.reset()},_wrapper:function(){var A0=this.options.height;this.wrapper=this.element.addClass("k-widget k-pivot");if(A0){this.wrapper.css("height",A0)}},_measureFields:function(){this.measureFields=C(AD).addClass("k-pivot-toolbar k-header k-settings-measures");this.measuresTarget=this._createSettingTarget(this.measureFields,{setting:"measures",messages:{empty:this.options.messages.measureFields}})},_createSettingTarget:function(A4,A2){var A3='<span tabindex="0" class="k-button" data-'+Ay.ns+'name="${data.name}">${data.name}';var A1=A2.sortable;var A0="";if(A1){A0+="#if (data.sortIcon) {#";A0+='<span class="k-icon ${data.sortIcon} k-setting-sort"></span>';A0+="#}#"}if(A2.filterable||A1){A0+='<span class="k-icon k-i-arrowhead-s k-setting-fieldmenu"></span>'}if(this.options.reorderable){A0+='<span class="k-icon k-si-close k-setting-delete"></span>'}if(A0){A3+='<span class="k-field-actions">'+A0+"</span>"}A3+="</span>";return new Ay.ui.PivotSettingTarget(A4,C.extend({template:A3,emptyTemplate:'<span class="k-empty">${data}</span>',enabled:this.options.reorderable,dataSource:this.dataSource},A2))},_initSettingTargets:function(){this.columnsTarget=this._createSettingTarget(this.columnFields,{connectWith:this.rowFields,setting:"columns",filterable:this.options.filterable,sortable:this.options.sortable,messages:{empty:this.options.messages.columnFields,fieldMenu:this.options.messages.fieldMenu}});this.rowsTarget=this._createSettingTarget(this.rowFields,{connectWith:this.columnFields,setting:"rows",filterable:this.options.filterable,sortable:this.options.sortable,messages:{empty:this.options.messages.rowFields,fieldMenu:this.options.messages.fieldMenu}})},_createLayout:function(){var A2=this;var A3=C(c);var A4=A3.find(".k-pivot-rowheaders");var A0=A3.find(".k-pivot-table");var A1=C(AD).addClass("k-grid k-widget");A2._measureFields();A2.columnFields=C(AD).addClass("k-pivot-toolbar k-header k-settings-columns");A2.rowFields=C(AD).addClass("k-pivot-toolbar k-header k-settings-rows");A2.columnsHeader=C('<div class="k-grid-header-wrap" />').wrap('<div class="k-grid-header" />');A2.columnsHeader.parent().css("padding-right",Ay.support.scrollbar());A2.rowsHeader=C('<div class="k-grid k-widget k-alt"/>');A2.content=C('<div class="k-grid-content" />');A4.append(A2.measureFields);A4.append(A2.rowFields);A4.append(A2.rowsHeader);A1.append(A2.columnsHeader.parent());A1.append(A2.content);A0.append(A2.columnFields);A0.append(A1);A2.wrapper.append(A3);A2.columnsHeaderTree=new Ay.dom.Tree(A2.columnsHeader[0]);A2.rowsHeaderTree=new Ay.dom.Tree(A2.rowsHeader[0]);A2.contentTree=new Ay.dom.Tree(A2.content[0]);A2._initSettingTargets()},_progress:function(A0){Ay.ui.progress(this.wrapper,A0)},_resize:function(){var A1=this.columnsHeader.children("table");var A0=this.content.children("table");if(this.content[0].firstChild){this._setSectionsWidth();this._setSectionsHeight();this._setContentWidth();this._setContentHeight()}},_setSectionsWidth:function(){var A1=this.rowsHeader;var A0=A1.parent(".k-pivot-rowheaders").width(x);var A2;A2=Math.max(this.measureFields.outerWidth(),this.rowFields.outerWidth());A2=Math.max(A1.children("table").width(),A2);A0.width(A2)},_setSectionsHeight:function(){var A6=this.measureFields.height(x).height();var A3=this.columnFields.height(x).height();var A5=this.rowFields.height(x).innerHeight();var A4=this.columnsHeader.height(x).innerHeight();var A2=A5-this.rowFields.height();var A1=A3>A6?A3:A6;var A0=A4>A5?A4:A5;this.measureFields.height(A1);this.columnFields.height(A1);this.rowFields.height(A0-A2);this.columnsHeader.height(A0)},_setContentWidth:function(){var A2=this.content.find("table");var A3=this.columnsHeader.children("table");var A4=A2.children("colgroup").children().length;var A1=A4*this.options.columnWidth;var A0=Math.ceil((A1/this.content.width())*100);if(A0<100){A0=100}A2.add(A3).css("width",A0+"%");this._resetColspan(A3)},_setContentHeight:function(){var A2=this;var A6=A2.content;var A4=A2.rowsHeader;var A0=A2.wrapper.innerHeight();var A3=Ay.support.scrollbar();var A5=A6[0].offsetHeight===A6[0].clientHeight;var A1=A2.options.height;if(A2.wrapper.is(":visible")){if(!A0||!A1){if(A5){A3=0}A6.height("auto");A4.height(A6.height()-A3);return}A0-=A2.columnFields.outerHeight();A0-=A2.columnsHeader.outerHeight();if(A0<=A3*2){A0=A3*2+1;if(!A5){A0+=A3}}A6.height(A0);if(A5){A3=0}A4.height(A0-A3)}},_resetColspan:function(A1){var A0=this;var A2=A1.children("tbody").children(":first").children(":first");if(A0._colspan===Ak){A0._colspan=A2.attr("colspan")}A2.attr("colspan",1);clearTimeout(A0._layoutTimeout);A0._layoutTimeout=setTimeout(function(){A2.attr("colspan",A0._colspan);A0._colspan=Ak})},_axisMeasures:function(A4){var A1=[];var A2=this.dataSource;var A3=A2.measures();var A0=A3.length>1||(A3[0]&&A3[0].type);if(A2.measuresAxis()===A4){if(A2[A4]().length===0||A0){A1=A3}}return A1},items:function(){return[]},refresh:function(){var A4=this;var A8=A4.dataSource;var A6=A8.axes();var A1=(A6.columns||{}).tuples||[];var A3=(A6.rows||{}).tuples||[];var A0=A4._columnBuilder;var A2=A4._rowBuilder;var A7={};var A5={};if(A4.trigger(D,{action:"rebind"})){return}A0.measures=A4._axisMeasures("columns");A4.columnsHeaderTree.render(A0.build(A1));A4.rowsHeaderTree.render(A2.build(A3));A7={indexes:A0._indexes,measures:A0.measures,metadata:A0.metadata};A5={indexes:A2._indexes,measures:this._axisMeasures("rows"),metadata:A2.metadata};A4.contentTree.render(A4._contentBuilder.build(A8.view(),A7,A5));A4._resize();if(A4.touchScroller){A4.touchScroller.contentResized()}else{var A9=Ay.touchScroller(A4.content);if(A9&&A9.movable){A4.touchScroller=A9;A9.movable.bind("change",function(Ba){A4.columnsHeader.scrollLeft(-Ba.sender.x);A4.rowsHeader.scrollTop(-Ba.sender.y)})}}A4._progress(false);A4.trigger(E)},_scrollable:function(){var A0=this;var A2=A0.columnsHeader;var A1=A0.rowsHeader;A0.content.scroll(function(){A2.scrollLeft(this.scrollLeft);A1.scrollTop(this.scrollTop)});A1.bind("DOMMouseScroll"+v+" mousewheel"+v,C.proxy(A0._wheelScroll,A0))},_wheelScroll:function(A1){if(A1.ctrlKey){return}var A0=Ay.wheelDeltaY(A1);var A2=this.content.scrollTop();if(A0){A1.preventDefault();C(A1.currentTarget).one("wheel"+v,false);this.rowsHeader.scrollTop(A2+(-A0));this.content.scrollTop(A2+(-A0))}}});var Aq=Ay.dom.element;var A=Ay.dom.html;var AB=Ay.dom.text;var V=function(A0,A1){return{maxChildren:0,children:0,maxMembers:0,members:0,measures:1,levelNum:A0,parentMember:A1!==0}};var AF=function(A2,A0){var A3=[];var A1=0;for(;A1<=A0;A1++){A3.push(A2.members[A1].name)}return A3};var Ai=function(A2,A0){var A1="";var A3=0;for(;A3<=A0;A3++){A1+=A2.members[A3].name}return A1};var w=L.extend({init:function(A0){this.measures=1;this.metadata={}},build:function(A0){var A2=this._tbody(A0);var A1=this._colGroup();return[Aq("table",null,[A1,A2])]},reset:function(){this.metadata={}},_colGroup:function(){var A0=this._rowLength();var A2=[];var A1=0;for(;A1<A0;A1++){A2.push(Aq("col",null))}return Aq("colgroup",null,A2)},_tbody:function(A0){var A1=A0[0];this.map={};this.rows=[];this.rootTuple=A1;this._indexes=[];if(A1){this._buildRows(A1,0);this._normalize()}else{this.rows.push(Aq("tr",null,[Aq("th",null,[A("&nbsp;")])]))}return Aq("tbody",null,this.rows)},_normalize:function(){var A1=this.rows;var A0=A1.length;var A6=0;var A3;var A7;var A2;var A5;var A4;for(;A6<A0;A6++){A3=A1[A6];if(A3.rowSpan===1){continue}A5=A3.children;A2=0;A7=A5.length;for(;A2<A7;A2++){A4=A5[A2];if(A4.tupleAll){A4.attr.rowSpan=A3.rowSpan}}}},_rowIndex:function(A1){var A3=this.rows;var A0=A3.length;var A2=0;for(;A2<A0;A2++){if(A3[A2]===A1){break}}return A2},_rowLength:function(){var A1=this.rows[0]?this.rows[0].children:[];var A0=A1.length;var A3=0;var A2=0;if(A0){for(;A2<A0;A2++){A3+=A1[A2].attr.colSpan||1}}if(!A3){A3=this.measures}return A3},_row:function(A1,A9,A5){var A7=this.rootTuple.members[A9].name;var A4=A1.members[A9].levelNum;var A0=A7+A4;var A8=this.map;var A2;var A3;var A6=A8[A0];if(!A6){A6=Aq("tr",null,[]);A6.parentMember=A5;A6.collapsed=0;A6.colSpan=0;A6.rowSpan=1;A8[A0]=A6;A2=A8[A7+(Number(A4)-1)];if(A2){A3=A2.children;if(A3[1]&&A3[1].attr.className.indexOf("k-alt")===-1){A6.notFirst=true}else{A6.notFirst=A2.notFirst}}this.rows.splice(this._rowIndex(A2)+1,0,A6)}else{A6.notFirst=false;if(!A6.parentMember||A6.parentMember!==A5){A6.parentMember=A5;A6.collapsed=0;A6.colSpan=0}}return A6},_measures:function(A3,A0,A5){var A7=this.map;var A4=A7.measureRow;var A2;if(!A4){A4=Aq("tr",null,[]);A7.measureRow=A4;this.rows.push(A4)}for(var A1=0,A6=A3.length;A1<A6;A1++){A2=A3[A1];A4.children.push(this._cell((A5||""),[this._content(A2,A0)],A2))}return A6},_content:function(A1,A0){return A(this.template({member:A1,tuple:A0}))},_cell:function(A0,A3,A1){var A2=Aq("th",{className:"k-header"+A0},A3);A2.value=A1.caption||A1.name;return A2},_buildRows:function(Bi,Bf,A4){var Bc=Bi.members;var Bb=Bc[Bf];var A2=Bc[Bf+1];var Bh,A0,Ba,Bj;var A8,A3,A5;var Be=[];var A7;var Bg=0;var A6;var Bd;var A1=0;var A9=0;if(Bb.measure){this._measures(Bb.children,Bi);return}A7=Ay.stringify(AF(Bi,Bf));Bh=this._row(Bi,Bf,A4);Ba=Bb.children;Bj=Ba.length;A6=this.metadata[A7];if(!A6){this.metadata[A7]=A6=V(Number(Bb.levelNum),Bf)}this._indexes.push({path:A7,tuple:Bi});if(Bb.hasChildren){if(A6.expanded===false){A1=A6.maxChildren;Bh.collapsed+=A1;A6.children=0;Bj=0}A5={className:"k-icon "+(Bj?AI:AU)};A5[Ay.attr("path")]=A7;Be.push(Aq("span",A5))}Be.push(this._content(Bb,Bi));A8=this._cell((Bh.notFirst?" k-first":""),Be,Bb);Bh.children.push(A8);Bh.colSpan+=1;if(Bj){A3=this._cell(" k-alt",[this._content(Bb,Bi)],Bb);Bh.children.push(A3);for(;Bg<Bj;Bg++){A0=this._buildRows(Ba[Bg],Bf,Bb)}Bd=A0.colSpan;A1=A0.collapsed;A8.attr.colSpan=Bd;A6.children=Bd;A6.members=1;Bh.colSpan+=Bd;Bh.collapsed+=A1;Bh.rowSpan=A0.rowSpan+1;if(A2){if(A2.measure){Bd=this._measures(A2.children,Bi," k-alt")}else{A0=this._buildRows(Bi,Bf+1);Bd=A0.colSpan;Bh.collapsed+=A0.collapsed;A9=A0.collapsed}A3.attr.colSpan=Bd;Bd-=1;A6.members+=Bd;Bh.colSpan+=Bd}}else{if(A2){if(A2.measure){Bd=this._measures(A2.children,Bi)}else{A0=this._buildRows(Bi,Bf+1);Bd=A0.colSpan;Bh.collapsed+=A0.collapsed;A9=A0.collapsed}A6.members=Bd;if(Bd>1){A8.attr.colSpan=Bd;Bh.colSpan+=Bd-1}}}if(A6.maxMembers<(A6.members+A9)){A6.maxMembers=A6.members+A9}Ba=A6.children+A1;if(A6.maxChildren<Ba){A6.maxChildren=Ba}(A3||A8).tupleAll=true;return Bh}});var Q=L.extend({init:function(A0){this.metadata={}},build:function(A0){var A2=this._tbody(A0);var A1=this._colGroup();return[Aq("table",null,[A1,A2])]},reset:function(){this.metadata={}},_rowLength:function(){var A3=this.rows[0].children;var A0=0;var A1=0;var A2=A3[A1];while(A2){A0+=(A2.attr.colSpan||1);A2=A3[++A1]}return A0},_colGroup:function(){var A0=this._rowLength();var A2=[];var A1=0;for(;A1<A0;A1++){A2.push(Aq("col",null))}return Aq("colgroup",null,A2)},_tbody:function(A0){var A1=A0[0];this.rootTuple=A1;this.rows=[];this.map={};this._indexes=[];if(A1){this._buildRows(A1,0);this._normalize()}else{this.rows.push(Aq("tr",null,[Aq("td",null,[A("&nbsp;")])]))}return Aq("tbody",null,this.rows)},_normalize:function(){var A3=this.rows;var A1=A3.length;var A8=0;var A0=this.rootTuple.members;var A2=A0[0].name;var A4=A0.length;var Ba=0;var A5;var Bb;var A6;var A9=this.map;var A7;for(;A8<A1;A8++){A5=A3[A8];for(Ba=0;Ba<A4;Ba++){A6=this[A0[Ba].name];Bb=A5.colSpan["dim"+Ba];if(Bb&&Bb.levelNum<A6){Bb.attr.colSpan=(A6-Bb.levelNum)+1}}}A5=A9[A2];A7=A9[A2+"all"];if(A5){A5.children[0].attr.className="k-first"}if(A7){A7.children[0].attr.className+=" k-first"}},_row:function(A1){var A0=Aq("tr",null,A1);A0.rowSpan=1;A0.colSpan={};this.rows.push(A0);return A0},_content:function(A1,A0){return A(this.template({member:A1,tuple:A0}))},_cell:function(A0,A3,A1){var A2=Aq("td",{className:A0},A3);A2.value=A1.caption||A1.name;return A2},_buildRows:function(Bl,Bi){var Be=this.map;var A0;var Bf=Bl.members;var Bd=Bf[Bi];var A7=Bf[Bi+1];var Ba=Bd.children;var Bm=Ba.length;var A2=Number(Bd.levelNum)+1;var Bc=this.rootTuple.members[Bi].name;var A4=AF(Bl,Bi-1).join("");var A6=A4+(Bd.parentName||"");var Bk=Be[A6+"all"]||Be[A6];var A1;var Bb;var A5;var A8;var A9;var Bh=[];var A3;var Bg;var Bj;if(!Bk||Bk.hasChild){Bk=this._row()}else{Bk.hasChild=true}if(Bd.measure){A8=Bk.allCell?"k-grid-footer":"";Bk.children.push(this._cell(A8,[this._content(Ba[0],Bl)],Ba[0]));Bk.rowSpan=Bm;for(Bj=1;Bj<Bm;Bj++){this._row([this._cell(A8,[this._content(Ba[Bj],Bl)],Ba[Bj])])}return Bk}Be[A4+Bd.name]=Bk;A0=Ay.stringify(AF(Bl,Bi));A5=this.metadata[A0];if(!A5){this.metadata[A0]=A5=V(A2-1,Bi)}this._indexes.push({path:A0,tuple:Bl});if(Bd.hasChildren){if(A5.expanded===false){Bm=0;A5.children=0}A9={className:"k-icon "+(Bm?AI:AU)};A9[Ay.attr("path")]=A0;Bh.push(Aq("span",A9))}Bh.push(this._content(Bd,Bl));A8=Bk.allCell&&!Bm?"k-grid-footer":"";Bg=this._cell(A8,Bh,Bd);Bg.levelNum=A2;Bk.children.push(Bg);Bk.colSpan["dim"+Bi]=Bg;if(!this[Bc]||this[Bc]<A2){this[Bc]=A2}if(Bm){Bk.allCell=false;Bk.hasChild=false;for(Bj=0;Bj<Bm;Bj++){A1=this._buildRows(Ba[Bj],Bi);if(Bk!==A1){Bk.rowSpan+=A1.rowSpan}}if(Bk.rowSpan>1){Bg.attr.rowSpan=Bk.rowSpan}A5.children=Bk.rowSpan;A3=this._cell("k-grid-footer",[this._content(Bd,Bl)],Bd);A3.levelNum=A2;Bb=this._row([A3]);Bb.colSpan["dim"+Bi]=A3;Bb.allCell=true;Be[A4+Bd.name+"all"]=Bb;if(A7){A1=this._buildRows(Bl,Bi+1);A3.attr.rowSpan=A1.rowSpan}Bk.rowSpan+=Bb.rowSpan;A5.members=Bb.rowSpan}else{if(A7){Bk.hasChild=false;this._buildRows(Bl,Bi+1);(A3||Bg).attr.rowSpan=Bk.rowSpan;A5.members=Bk.rowSpan}}if(A5.maxChildren<A5.children){A5.maxChildren=A5.children}if(A5.maxMembers<A5.members){A5.maxMembers=A5.members}return Bk}});var Ae=L.extend({init:function(){this.columnAxis={};this.rowAxis={}},build:function(A6,A3,A5){var A1=A3.indexes[0];var A4=A3.metadata[A1?A1.path:Ak];this.columnAxis=A3;this.rowAxis=A5;this.data=A6;this.rowLength=A4?A4.maxChildren+A4.maxMembers:A3.measures.length||1;if(!this.rowLength){this.rowLength=1}var A2=this._tbody();var A0=this._colGroup();return[Aq("table",null,[A0,A2])]},_colGroup:function(){var A0=this.columnAxis.measures.length||1;var A2=[];var A1=0;if(this.rows[0]){A0=this.rows[0].children.length}for(;A1<A0;A1++){A2.push(Aq("col",null))}return Aq("colgroup",null,A2)},_tbody:function(){this.rows=[];if(this.data[0]){this.columnIndexes=this._indexes(this.columnAxis,this.rowLength);this.rowIndexes=this._indexes(this.rowAxis,Math.ceil(this.data.length/this.rowLength));this._buildRows()}else{this.rows.push(Aq("tr",null,[Aq("td",null,[A("&nbsp;")])]))}return Aq("tbody",null,this.rows)},_indexes:function(Bb,Ba){var A1=[];var A0;var A8=Bb.indexes;var Bd=Bb.metadata;var A7=Bb.measures;var A4=A7.length||1;var A3;var A9=0;var A2=0;var A6=0;var Be=A8.length;var Bc;var A5;var Bf;if(!Be){for(Bc=0;Bc<A4;Bc++){A1[Bc]={index:Bc,measure:A7[Bc],tuple:null}}return A1}for(;A6<Be;A6++){A0=A8[A6];A3=Bd[A0.path];A5=A3.children+A3.members;Bf=0;if(A5){A5-=A4}if(A3.expanded===false&&A3.children!==A3.maxChildren){Bf=A3.maxChildren}if(A3.parentMember&&A3.levelNum===0){A5=-1}if(A5>-1){for(Bc=0;Bc<A4;Bc++){A1[A5+A2+Bc]={children:A5,index:A9,measure:A7[Bc],tuple:A0.tuple};A9+=1}while(A1[A2]!==Ak){A2+=1}}if(A2===Ba){break}A9+=Bf}return A1},_buildRows:function(){var A2=this.rowIndexes;var A0=A2.length;var A1=0;for(;A1<A0;A1++){this.rows.push(this._buildRow(A2[A1]))}},_buildRow:function(A2){var A5=A2.index*this.rowLength;var A0=this.columnIndexes;var Ba=A0.length;var A3;var A9=[];var A4=0;var A1;var Bc,A7;var A6,Bb,A8;for(;A4<Ba;A4++){A3=A0[A4];A6={};if(A3.children){A6.className="k-alt"}A7="";Bb=this.data[A5+A3.index];A8=A3.measure||A2.measure;A1={columnTuple:A3.tuple,rowTuple:A2.tuple,measure:A8,dataItem:Bb};if(Bb.value!==""&&A8&&A8.type){if(A8.type==="status"){A7=this.kpiStatusTemplate(A1)}else{if(A8.type==="trend"){A7=this.kpiTrendTemplate(A1)}}}if(!A7){A7=this.dataTemplate(A1)}Bc=Aq("td",A6,[A(A7)]);Bc.value=Bb.value;A9.push(Bc)}A6={};if(A2.children){A6.className="k-grid-footer"}return Aq("tr",A6,A9)}});Ac.plugin(S);Ay.PivotExcelExporter=Ay.Class.extend({init:function(A0){this.options=A0;this.widget=A0.widget;this.dataSource=this.widget.dataSource},_columns:function(){var A6=this.widget.columnsHeaderTree.children[0];var A3=this.widget.rowsHeaderTree.children[0];var A5=A6.children[0].children.length;var A0=A3.children[0].children.length;var A4=this.widget.options.columnWidth;var A1=[];var A2;if(A0&&this.dataSource.data()[0]){for(A2=0;A2<A0;A2++){A1.push({autoWidth:true})}}for(A2=0;A2<A5;A2++){A1.push({autoWidth:false,width:A4})}return A1},_cells:function(A0,A9,A2){var A1=[];var A6=0;var A5=A0.length;var Ba;var A7,A3;var A4,A8;for(;A6<A5;A6++){A7=[];A3=A0[A6].children;Ba=A3.length;for(A4=0;A4<Ba;A4++){A8=A3[A4];A7.push({background:"#7a7a7a",color:"#fff",value:A8.value,colSpan:A8.attr.colSpan||1,rowSpan:A8.attr.rowSpan||1})}if(A2){A2(A7,A6)}A1.push({cells:A7,type:A9})}return A1},_rows:function(){var A6=this.widget.columnsHeaderTree.children[0];var A2=this.widget.rowsHeaderTree.children[0];var A9=A6.children[0].children.length;var A8=A2.children[0].children.length;var A1=A6.children[1].children;var A3=A2.children[1].children;var A7=this.widget.contentTree.children[0].children[1].children;var A4=this._cells(A1,"header");if(A8){A4[0].cells.splice(0,0,{background:"#7a7a7a",color:"#fff",value:"",colSpan:A8,rowSpan:A1.length})}var A0=function(Bb,Bd){var Bf=0;var Be,Ba;var Bc=A7[Bd].children;for(;Bf<A9;Bf++){Be=Bc[Bf];Ba=Number(Be.value);if(isNaN(Ba)){Ba=""}Bb.push({background:"#dfdfdf",color:"#333",value:Ba,colSpan:1,rowSpan:1})}};var A5=this._cells(A3,"data",A0);return A4.concat(A5)},_freezePane:function(){var A3=this.widget.columnsHeaderTree.children[0];var A1=this.widget.rowsHeaderTree.children[0];var A0=A1.children[0].children.length;var A2=A3.children[1].children;return{colSplit:A0,rowSplit:A2.length}},workbook:function(){var A0;if(this.dataSource.view()[0]){A0=C.Deferred();A0.resolve()}else{A0=this.dataSource.fetch()}return A0.then(C.proxy(function(){return{sheets:[{columns:this._columns(),rows:this._rows(),freezePane:this._freezePane(),filter:null}]}},this))}});var U={extend:function(A0){A0.events.push("excelExport");A0.options.excel=C.extend(A0.options.excel,this.options);A0.saveAsExcel=this.saveAsExcel},options:{proxyURL:"",filterable:false,fileName:"Export.xlsx"},saveAsExcel:function(){var A0=this.options.excel||{};var A1=new Ay.PivotExcelExporter({widget:this});A1.workbook().then(C.proxy(function(A3){if(!this.trigger("excelExport",{workbook:A3})){var A2=new Ay.ooxml.Workbook(A3);Ay.saveAs({dataURI:A2.toDataURL(),fileName:A3.fileName||A0.fileName,proxyURL:A0.proxyURL,forceProxy:A0.forceProxy})}},this))}};Ay.PivotExcelMixin=U;if(Ay.ooxml&&Ay.ooxml.Workbook){U.extend(S.prototype)}if(Ay.PDFMixin){Ay.PDFMixin.extend(S.prototype);S.fn._drawPDF=function(){return this._drawPDFShadow({width:this.wrapper.width()})}}})(window.kendo.jQuery);(function(J,A){var B=window.kendo;var L=B.ui;var C=J.proxy;var F=J.extend;var I="dragstart";var H="drag";var D="drop";var G="visibility";var K="k-state-hover";var E=L.HierarchicalDragAndDrop=B.Class.extend({init:function(N,M){this.element=N;this.hovered=N;this.options=F({dragstart:J.noop,drag:J.noop,drop:J.noop,dragend:J.noop},M);this._draggable=new L.Draggable(N,{filter:M.filter,autoScrolL:M.autoScroll,cursorOffset:{left:10,top:B.support.mobileOS?-40/B.support.zoomLevel():10},hint:C(this._hint,this),dragstart:C(this.dragstart,this),dragcancel:C(this.dragcancel,this),drag:C(this.drag,this),dragend:C(this.dragend,this),$angular:M.$angular})},_hint:function(M){return"<div class='k-header k-drag-clue'><span class='k-icon k-drag-status' />"+this.options.hintText(M)+"</div>"},_removeTouchHover:function(){if(B.support.touch&&this.hovered){this.hovered.find("."+K).removeClass(K);this.hovered=false}},_hintStatus:function(M){var N=this._draggable.hint.find(".k-drag-status")[0];if(M){N.className="k-icon k-drag-status "+M}else{return J.trim(N.className.replace(/k-(icon|drag-status)/g,""))}},dragstart:function(M){this.source=M.currentTarget.closest(this.options.itemSelector);if(this.options.dragstart(this.source)){M.preventDefault()}if(this.options.reorderable){this.dropHint=J("<div class='k-drop-hint' />").css(G,"hidden").appendTo(this.element)}else{this.dropHint=J()}},drag:function(O){var U=this.options;var N=this.source;var X=this.dropTarget=J(B.eventTarget(O));var W=X.closest(U.allowedContainers);var M,S,V,a,Y;var b,Z,Q;var P,R,T;if(!W.length){T="k-denied";this._removeTouchHover()}else{if(U.contains(N[0],X[0])){T="k-denied"}else{T="k-insert-middle";P=U.itemFromTarget(X);M=P.item;if(M.length){this._removeTouchHover();S=M.outerHeight();a=P.content;if(U.reorderable){Y=S/(a.length>0?4:2);V=B.getOffset(M).top;b=O.y.location<(V+Y);Z=(V+S-Y)<O.y.location;Q=a.length&&!b&&!Z}else{Q=true;b=false;Z=false}this.hovered=Q?W:false;this.dropHint.css(G,Q?"hidden":"visible");if(this._lastHover&&this._lastHover[0]!=a[0]){this._lastHover.removeClass(K)}this._lastHover=a.toggleClass(K,Q);if(Q){T="k-add"}else{R=M.position();R.top+=b?0:S;this.dropHint.css(R)[b?"prependTo":"appendTo"](U.dropHintContainer(M));if(b&&P.first){T="k-insert-top"}if(Z&&P.last){T="k-insert-bottom"}}}else{if(X[0]!=this.dropHint[0]){if(this._lastHover){this._lastHover.removeClass(K)}if(!J.contains(this.element[0],W[0])){T="k-add"}else{T="k-denied"}}}}}this.options.drag({originalEvent:O.originalEvent,source:N,target:X,pageY:O.y.location,pageX:O.x.location,status:T.substring(2),setStatus:function(c){T=c}});if(T=="k-denied"&&this._lastHover){this._lastHover.removeClass(K)}if(T.indexOf("k-insert")!==0){this.dropHint.css(G,"hidden")}this._hintStatus(T)},dragcancel:function(){this.dropHint.remove()},dragend:function(O){var R="over",S=this.source,T,N=this.dropHint,P=this.dropTarget,M,Q;if(N.css(G)=="visible"){R=this.options.dropPositionFrom(N);T=N.closest(this.options.itemSelector)}else{if(P){T=P.closest(this.options.itemSelector);if(!T.length){T=P.closest(this.options.allowedContainers)}}}M={originalEvent:O.originalEvent,source:S[0],destination:T[0],valid:this._hintStatus()!="k-denied",setValid:function(U){this.valid=U},dropTarget:P[0],position:R};Q=this.options.drop(M);N.remove();this._removeTouchHover();if(this._lastHover){this._lastHover.removeClass(K)}if(!M.valid||Q){this._draggable.dropped=M.valid;return}this._draggable.dropped=true;this.options.dragend({originalEvent:O.originalEvent,source:S,destination:T,position:R})},destroy:function(){this._lastHover=this.hovered=null;this._draggable.destroy()}})})(window.kendo.jQuery);(function(e,f){var U=window.kendo,l=U.ui,p=U.data,u=e.extend,j=U.template,r=e.isArray,P=l.Widget,A=p.HierarchicalDataSource,y=e.proxy,T=U.keys,v=".kendoTreeView",J="select",t="check",V="navigate",E="expand",h="change",X="error",F="checked",G="indeterminate",w="collapse",a="dragstart",b="drag",d="drop",Z="dragend",R="dataBound",N="click",m="visibility",g="undefined",c="k-state-hover",O="k-treeview",K=":visible",C=".k-item",x="string",n="aria-selected",s="aria-disabled",M,S,I,W,q,o={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},k=function(z){return(typeof HTMLElement==="object"?z instanceof HTMLElement:z&&typeof z==="object"&&z.nodeType===1&&typeof z.nodeName===x)};function B(z){return function(Ab){var Aa=Ab.children(".k-animation-container");if(!Aa.length){Aa=Ab}return Aa.children(z)}}function Y(z){return U.template(z,{useWithBlock:false})}S=B(".k-group");I=B(".k-group,.k-content");W=function(z){return z.children("div").children(".k-icon")};function L(z){return z.find("> div .k-checkbox [type=checkbox]")}function H(z){return function(Ad,Ac){Ac=Ac.closest(C);var Ab=Ac.parent(),Aa;if(Ab.parent().is("li")){Aa=Ab.parent()}return this._dataSourceMove(Ad,Ab,Aa,function(Ae,Af){return this._insert(Ae.data(),Af,Ac.index()+z)})}}q=/k-sprite/;function Q(Aa,Ab){var z;while(Aa&&Aa.nodeName.toLowerCase()!="ul"){z=Aa;Aa=Aa.nextSibling;if(z.nodeType==3){z.nodeValue=e.trim(z.nodeValue)}if(q.test(z.className)){Ab.insertBefore(z,Ab.firstChild)}else{Ab.appendChild(z)}}}function D(Ab){var Aa=Ab.children("div"),z=Ab.children("ul"),Ac=Aa.children(".k-icon"),Ae=Ab.children(":checkbox"),Ad=Aa.children(".k-in");if(Ab.hasClass("k-treeview")){return}if(!Aa.length){Aa=e("<div />").prependTo(Ab)}if(!Ac.length&&z.length){Ac=e("<span class='k-icon' />").prependTo(Aa)}else{if(!z.length||!z.children().length){Ac.remove();z.remove()}}if(Ae.length){e("<span class='k-checkbox' />").appendTo(Aa).append(Ae)}if(!Ad.length){Ad=Ab.children("a").eq(0).addClass("k-in");if(!Ad.length){Ad=e("<span class='k-in' />")}Ad.appendTo(Aa);if(Aa.length){Q(Aa[0].nextSibling,Ad[0])}}}M=U.ui.DataBoundWidget.extend({init:function(Ae,Ac){var Aa=this,Af,Ab=false,z=Ac&&!!Ac.dataSource,Ad;if(r(Ac)){Af=true;Ac={dataSource:Ac}}if(Ac&&typeof Ac.loadOnDemand==g&&r(Ac.dataSource)){Ac.loadOnDemand=false}P.prototype.init.call(Aa,Ae,Ac);Ae=Aa.element;Ac=Aa.options;Ad=(Ae.is("ul")&&Ae)||(Ae.hasClass(O)&&Ae.children("ul"));Ab=!z&&Ad.length;if(Ab){Ac.dataSource.list=Ad}Aa._animation();Aa._accessors();Aa._templates();if(!Ae.hasClass(O)){Aa._wrapper();if(Ad){Aa.root=Ae;Aa._group(Aa.wrapper)}}else{Aa.wrapper=Ae;Aa.root=Ae.children("ul").eq(0)}Aa._tabindex();Aa.root.attr("role","tree");Aa._dataSource(Ab);Aa._attachEvents();Aa._dragging();if(!Ab){if(Ac.autoBind){Aa._progress(true);Aa.dataSource.fetch()}}else{Aa._syncHtmlAndDataSource()}if(Ac.checkboxes&&Ac.checkboxes.checkChildren){Aa.updateIndeterminate()}if(Aa.element[0].id){Aa._ariaId=U.format("{0}_tv_active",Aa.element[0].id)}U.notify(Aa)},_attachEvents:function(){var Aa=this,Ab=".k-in:not(.k-state-selected,.k-state-disabled)",z="mouseenter";Aa.wrapper.on(z+v,".k-in.k-state-selected",function(Ac){Ac.preventDefault()}).on(z+v,Ab,function(){e(this).addClass(c)}).on("mouseleave"+v,Ab,function(){e(this).removeClass(c)}).on(N+v,Ab,y(Aa._click,Aa)).on("dblclick"+v,".k-in:not(.k-state-disabled)",y(Aa._toggleButtonClick,Aa)).on(N+v,".k-plus,.k-minus",y(Aa._toggleButtonClick,Aa)).on("keydown"+v,y(Aa._keydown,Aa)).on("focus"+v,y(Aa._focus,Aa)).on("blur"+v,y(Aa._blur,Aa)).on("mousedown"+v,".k-in,.k-checkbox :checkbox,.k-plus,.k-minus",y(Aa._mousedown,Aa)).on("change"+v,".k-checkbox :checkbox",y(Aa._checkboxChange,Aa)).on("click"+v,".k-checkbox :checkbox",y(Aa._checkboxClick,Aa)).on("click"+v,".k-request-retry",y(Aa._retryRequest,Aa)).on("click"+v,function(Ac){if(!e(Ac.target).is(":kendoFocusable")){Aa.focus()}})},_checkboxClick:function(Aa){var z=e(Aa.target);if(z.data(G)){z.data(G,false).prop(G,false).prop(F,true);this._checkboxChange(Aa)}},_syncHtmlAndDataSource:function(Ab,Ah){Ab=Ab||this.root;Ah=Ah||this.dataSource;var z=Ah.view();var Aa=U.attr("uid");var Ac=U.attr("expanded");var Ae=this.options.checkboxes;var Af=Ab.children("li");var Ad,Ai,Ag;for(Ad=0;Ad<Af.length;Ad++){Ag=z[Ad];Ai=Af.eq(Ad);Ai.attr("role","treeitem").attr(Aa,Ag.uid);Ag.expanded=Ai.attr(Ac)==="true";if(Ae){Ag.checked=L(Ai).prop(F)}this._syncHtmlAndDataSource(Ai.children("ul"),Ag.children)}},_animation:function(){var Aa=this.options,z=Aa.animation;if(z===false){z={expand:{effects:{}},collapse:{hide:true,effects:{}}}}else{if(!z.collapse||!("effects" in z.collapse)){z.collapse=u({reverse:true},z.expand)}}u(z.collapse,{hide:true});Aa.animation=z},_dragging:function(){var Ab=this.options.dragAndDrop;var Aa=this.dragging;if(Ab&&!Aa){var z=this;this.dragging=new l.HierarchicalDragAndDrop(this.element,{reorderable:true,$angular:this.options.$angular,autoScroll:this.options.autoScroll,filter:"div:not(.k-state-disabled) .k-in",allowedContainers:".k-treeview",itemSelector:".k-treeview .k-item",hintText:y(this._hintText,this),contains:function(Ad,Ac){return e.contains(Ad,Ac)},dropHintContainer:function(Ac){return Ac},itemFromTarget:function(Ad){var Ac=Ad.closest(".k-top,.k-mid,.k-bot");return{item:Ac,content:Ad.closest(".k-in"),first:Ac.hasClass("k-top"),last:Ac.hasClass("k-bot")}},dropPositionFrom:function(Ac){return Ac.prevAll(".k-in").length>0?"after":"before"},dragstart:function(Ac){return z.trigger(a,{sourceNode:Ac[0]})},drag:function(Ac){z.trigger(b,{originalEvent:Ac.originalEvent,sourceNode:Ac.source[0],dropTarget:Ac.target[0],pageY:Ac.pageY,pageX:Ac.pageX,statusClass:Ac.status,setStatusClass:Ac.setStatus})},drop:function(Ac){return z.trigger(d,{originalEvent:Ac.originalEvent,sourceNode:Ac.source,destinationNode:Ac.destination,valid:Ac.valid,setValid:Ac.setValid,dropTarget:Ac.dropTarget,dropPosition:Ac.position})},dragend:function(Af){var Ae=Af.source;var Ad=Af.destination;var Ac=Af.position;function Ag(Ah){z.updateIndeterminate();z.trigger(Z,{originalEvent:Af.originalEvent,sourceNode:Ah&&Ah[0],destinationNode:Ad[0],dropPosition:Ac})}if(Ac=="over"){z.append(Ae,Ad,Ag)}else{if(Ac=="before"){Ae=z.insertBefore(Ae,Ad)}else{if(Ac=="after"){Ae=z.insertAfter(Ae,Ad)}}Ag(Ae)}}})}else{if(!Ab&&Aa){Aa.destroy();this.dragging=null}}},_hintText:function(z){return this.templates.dragClue({item:this.dataItem(z),treeview:this.options})},_templates:function(){var z=this,Aa=z.options,Ab=y(z._fieldAccessor,z);if(Aa.template&&typeof Aa.template==x){Aa.template=j(Aa.template)}else{if(!Aa.template){Aa.template=Y("# var text = "+Ab("text")+"(data.item); ## if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {##= text ## } else { ##: text ## } #")}}z._checkboxes();z.templates={wrapperCssClass:function(Ac,Ae){var Ad="k-item",Af=Ae.index;if(Ac.firstLevel&&Af===0){Ad+=" k-first"}if(Af==Ac.length-1){Ad+=" k-last"}return Ad},cssClass:function(Ac,Ae){var Ad="",Ag=Ae.index,Af=Ac.length-1;if(Ac.firstLevel&&Ag===0){Ad+="k-top "}if(Ag===0&&Ag!=Af){Ad+="k-top"}else{if(Ag==Af){Ad+="k-bot"}else{Ad+="k-mid"}}return Ad},textClass:function(Ad){var Ac="k-in";if(Ad.enabled===false){Ac+=" k-state-disabled"}if(Ad.selected===true){Ac+=" k-state-selected"}return Ac},toggleButtonClass:function(Ad){var Ac="k-icon";if(Ad.expanded!==true){Ac+=" k-plus"}else{Ac+=" k-minus"}if(Ad.enabled===false){Ac+="-disabled"}return Ac},groupAttributes:function(Ac){var Ad="";if(!Ac.firstLevel){Ad="role='group'"}return Ad+(Ac.expanded!==true?" style='display:none'":"")},groupCssClass:function(Ac){var Ad="k-group";if(Ac.firstLevel){Ad+=" k-treeview-lines"}return Ad},dragClue:Y("#= data.treeview.template(data) #"),group:Y("<ul class='#= data.r.groupCssClass(data.group) #'#= data.r.groupAttributes(data.group) #>#= data.renderItems(data) #</ul>"),itemContent:Y("# var imageUrl = "+Ab("imageUrl")+"(data.item); ## var spriteCssClass = "+Ab("spriteCssClass")+"(data.item); ## if (imageUrl) { #<img class='k-image' alt='' src='#= imageUrl #'># } ## if (spriteCssClass) { #<span class='k-sprite #= spriteCssClass #' /># } ##= data.treeview.template(data) #"),itemElement:Y("# var item = data.item, r = data.r; ## var url = "+Ab("url")+"(item); #<div class='#= r.cssClass(data.group, item) #'># if (item.hasChildren) { #<span class='#= r.toggleButtonClass(item) #' role='presentation' /># } ## if (data.treeview.checkboxes) { #<span class='k-checkbox' role='presentation'>#= data.treeview.checkboxes.template(data) #</span># } ## var tag = url ? 'a' : 'span'; ## var textAttr = url ? ' href=\\'' + url + '\\'' : ''; #<#=tag#  class='#= r.textClass(item) #'#= textAttr #>#= r.itemContent(data) #</#=tag#></div>"),item:Y("# var item = data.item, r = data.r; #<li role='treeitem' class='#= r.wrapperCssClass(data.group, item) #' "+U.attr("uid")+"='#= item.uid #' aria-selected='#= item.selected ? \"true\" : \"false \" #' #=item.enabled === false ? \"aria-disabled='true'\" : ''## if (item.expanded) { #data-expanded='true' aria-expanded='true'# } #>#= r.itemElement(data) #</li>"),loading:Y("<div class='k-icon k-loading' /> #: data.messages.loading #"),retry:Y("#: data.messages.requestFailed # <button class='k-button k-request-retry'>#: data.messages.retry #</button>")}},items:function(){return this.element.find(".k-item > div:first-child")},setDataSource:function(z){var Aa=this.options;Aa.dataSource=z;this._dataSource();this.dataSource.fetch();if(Aa.checkboxes&&Aa.checkboxes.checkChildren){this.updateIndeterminate()}},_bindDataSource:function(){this._refreshHandler=y(this.refresh,this);this._errorHandler=y(this._error,this);this.dataSource.bind(h,this._refreshHandler);this.dataSource.bind(X,this._errorHandler)},_unbindDataSource:function(){var z=this.dataSource;if(z){z.unbind(h,this._refreshHandler);z.unbind(X,this._errorHandler)}},_dataSource:function(Ad){var Aa=this,Ac=Aa.options,Ab=Ac.dataSource;function z(Af){for(var Ae=0;Ae<Af.length;Ae++){Af[Ae]._initChildren();Af[Ae].children.fetch();z(Af[Ae].children.view())}}Ab=r(Ab)?{data:Ab}:Ab;Aa._unbindDataSource();if(!Ab.fields){Ab.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]}Aa.dataSource=Ab=A.create(Ab);if(Ad){Ab.fetch();z(Ab.view())}Aa._bindDataSource()},events:[a,b,d,Z,R,E,w,J,h,V,t],options:{name:"TreeView",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:100}},messages:{loading:"Loading...",requestFailed:"Request failed.",retry:"Retry"},dragAndDrop:false,checkboxes:false,autoBind:true,autoScroll:false,loadOnDemand:true,template:"",dataTextField:null},_accessors:function(){var Aa=this,Ab=Aa.options,z,Ad,Ac,Ae=Aa.element;for(z in o){Ad=Ab[o[z]];Ac=Ae.attr(U.attr(z+"-field"));if(!Ad&&Ac){Ad=Ac}if(!Ad){Ad=z}if(!r(Ad)){Ad=[Ad]}Ab[o[z]]=Ad}},_fieldAccessor:function(Ac){var Aa=this.options[o[Ac]],z=Aa.length,Ab="(function(item) {";if(z===0){Ab+="return item['"+Ac+"'];"}else{Ab+="var levels = ["+e.map(Aa,function(Ad){return"function(d){ return "+U.expr(Ad)+"}"}).join(",")+"];";Ab+="return levels[Math.min(item.level(), "+z+"-1)](item)"}Ab+="})";return Ab},setOptions:function(z){P.fn.setOptions.call(this,z);this._animation();this._dragging();this._templates()},_trigger:function(Aa,z){return this.trigger(Aa,{node:z.closest(C)[0]})},_setChecked:function(Aa,Ac){if(!Aa||!e.isFunction(Aa.view)){return}for(var z=0,Ab=Aa.view();z<Ab.length;z++){Ab[z][F]=Ac;if(Ab[z].children){this._setChecked(Ab[z].children,Ac)}}},_setIndeterminate:function(Ad){var Aa=S(Ad),z,Ab,Ae=true,Ac;if(!Aa.length){return}z=L(Aa.children());Ab=z.length;if(!Ab){return}else{if(Ab>1){for(Ac=1;Ac<Ab;Ac++){if(z[Ac].checked!=z[Ac-1].checked||z[Ac].indeterminate||z[Ac-1].indeterminate){Ae=false;break}}}else{Ae=!z[0].indeterminate}}return L(Ad).data(G,!Ae).prop(G,!Ae).prop(F,Ae&&z[0].checked)},updateIndeterminate:function(Aa){Aa=Aa||this.wrapper;var Ab=S(Aa).children();var z;var Ac;if(Ab.length){for(z=0;z<Ab.length;z++){this.updateIndeterminate(Ab.eq(z))}Ac=this._setIndeterminate(Aa);if(Ac&&Ac.prop(F)){this.dataItem(Aa).checked=true}}},_bubbleIndeterminate:function(Ab){if(!Ab.length){return}var Aa=this.parent(Ab),z;if(Aa.length){this._setIndeterminate(Aa);z=Aa.children("div").find(".k-checkbox :checkbox");if(z.prop(G)===false){this.dataItem(Aa).set(F,z.prop(F))}else{this.dataItem(Aa).checked=false}this._bubbleIndeterminate(Aa)}},_checkboxChange:function(Aa){var z=e(Aa.target);var Ac=z.prop(F);var Ab=z.closest(C);var Ad=this.dataItem(Ab);if(Ad.checked!=Ac){Ad.set(F,Ac);this._trigger(t,Ab)}},_toggleButtonClick:function(z){this.toggle(e(z.target).closest(C))},_mousedown:function(z){var Aa=e(z.currentTarget).closest(C);this._clickTarget=Aa;this.current(Aa)},_focusable:function(z){return z&&z.length&&z.is(":visible")&&!z.find(".k-in:first").hasClass("k-state-disabled")},_focus:function(){var Aa=this.select(),z=this._clickTarget;if(U.support.touch){return}if(z&&z.length){Aa=z}if(!this._focusable(Aa)){Aa=this.current()}if(!this._focusable(Aa)){Aa=this._nextVisible(e())}this.current(Aa)},focus:function(){var Aa=this.wrapper,z=Aa[0],Ae=[],Ab=[],Ad=document.documentElement,Ac;do{z=z.parentNode;if(z.scrollHeight>z.clientHeight){Ae.push(z);Ab.push(z.scrollTop)}}while(z!=Ad);Aa.focus();for(Ac=0;Ac<Ae.length;Ac++){Ae[Ac].scrollTop=Ab[Ac]}},_blur:function(){this.current().find(".k-in:first").removeClass("k-state-focused")},_enabled:function(z){return !z.children("div").children(".k-in").hasClass("k-state-disabled")},parent:function(Ac){var z=/\bk-treeview\b/,Ad=/\bk-item\b/,Ab,Aa;if(typeof Ac==x){Ac=this.element.find(Ac)}if(!k(Ac)){Ac=Ac[0]}Aa=Ad.test(Ac.className);do{Ac=Ac.parentNode;if(Ad.test(Ac.className)){if(Aa){Ab=Ac}else{Aa=true}}}while(!z.test(Ac.className)&&!Ab);return e(Ab)},_nextVisible:function(Aa){var z=this,Ad=z._expanded(Aa),Ac;function Ab(Ae){while(Ae.length&&!Ae.next().length){Ae=z.parent(Ae)}if(Ae.next().length){return Ae.next()}else{return Ae}}if(!Aa.length||!Aa.is(":visible")){Ac=z.root.children().eq(0)}else{if(Ad){Ac=S(Aa).children().first();if(!Ac.length){Ac=Ab(Aa)}}else{Ac=Ab(Aa)}}if(!z._enabled(Ac)){Ac=z._nextVisible(Ac)}return Ac},_previousVisible:function(Aa){var z=this,Ab,Ac;if(!Aa.length||Aa.prev().length){if(Aa.length){Ac=Aa.prev()}else{Ac=z.root.children().last()}while(z._expanded(Ac)){Ab=S(Ac).children().last();if(!Ab.length){break}Ac=Ab}}else{Ac=z.parent(Aa)||Aa}if(!z._enabled(Ac)){Ac=z._previousVisible(Ac)}return Ac},_keydown:function(z){var Ae=this,Ag=z.keyCode,Af,Aa=Ae.current(),Ad=Ae._expanded(Aa),Ac=Aa.find(".k-checkbox:first :checkbox"),Ab=U.support.isRtl(Ae.element);if(z.target!=z.currentTarget){return}if((!Ab&&Ag==T.RIGHT)||(Ab&&Ag==T.LEFT)){if(Ad){Af=Ae._nextVisible(Aa)}else{Ae.expand(Aa)}}else{if((!Ab&&Ag==T.LEFT)||(Ab&&Ag==T.RIGHT)){if(Ad){Ae.collapse(Aa)}else{Af=Ae.parent(Aa);if(!Ae._enabled(Af)){Af=f}}}else{if(Ag==T.DOWN){Af=Ae._nextVisible(Aa)}else{if(Ag==T.UP){Af=Ae._previousVisible(Aa)}else{if(Ag==T.HOME){Af=Ae._nextVisible(e())}else{if(Ag==T.END){Af=Ae._previousVisible(e())}else{if(Ag==T.ENTER){if(!Aa.find(".k-in:first").hasClass("k-state-selected")){if(!Ae._trigger(J,Aa)){Ae.select(Aa)}}}else{if(Ag==T.SPACEBAR&&Ac.length){Ac.prop(F,!Ac.prop(F)).data(G,false).prop(G,false);Ae._checkboxChange({target:Ac});Af=Aa}}}}}}}}if(Af){z.preventDefault();if(Aa[0]!=Af[0]){Ae._trigger(V,Af);Ae.current(Af)}}},_click:function(Aa){var Ab=this,Ac=e(Aa.currentTarget),Ad=I(Ac.closest(C)),z=Ac.attr("href"),Ae;if(z){Ae=z=="#"||z.indexOf("#"+this.element.id+"-")>=0}else{Ae=Ad.length&&!Ad.children().length}if(Ae){Aa.preventDefault()}if(!Ac.hasClass(".k-state-selected")&&!Ab._trigger(J,Ac)){Ab.select(Ac)}},_wrapper:function(){var Aa=this,Ac=Aa.element,z,Ab,Ad="k-widget k-treeview";if(Ac.is("ul")){z=Ac.wrap("<div />").parent();Ab=Ac}else{z=Ac;Ab=z.children("ul").eq(0)}Aa.wrapper=z.addClass(Ad);Aa.root=Ab},_group:function(Ab){var Aa=this,z=Ab.hasClass(O),Ac={firstLevel:z,expanded:z||Aa._expanded(Ab)},Ad=Ab.children("ul");Ad.addClass(Aa.templates.groupCssClass(Ac)).css("display",Ac.expanded?"":"none");Aa._nodes(Ad,Ac)},_nodes:function(Ad,Ab){var Aa=this,Ac=Ad.children("li"),z;Ab=u({length:Ac.length},Ab);Ac.each(function(Ae,Af){Af=e(Af);z={index:Ae,expanded:Aa._expanded(Af)};D(Af);Aa._updateNodeClasses(Af,Ab,z);Aa._group(Af)})},_checkboxes:function(){var Aa=this.options;var z=Aa.checkboxes;var Ab;if(z){Ab="<input type='checkbox' #= (item.enabled === false) ? 'disabled' : '' # #= item.checked ? 'checked' : '' #";if(z.name){Ab+=" name='"+z.name+"'"}Ab+=" />";z=u({template:Ab},Aa.checkboxes);if(typeof z.template==x){z.template=j(z.template)}Aa.checkboxes=z}},_updateNodeClasses:function(Ab,Ad,Ae){var Aa=Ab.children("div"),z=Ab.children("ul"),Ac=this.templates;if(Ab.hasClass("k-treeview")){return}Ae=Ae||{};Ae.expanded=typeof Ae.expanded!=g?Ae.expanded:this._expanded(Ab);Ae.index=typeof Ae.index!=g?Ae.index:Ab.index();Ae.enabled=typeof Ae.enabled!=g?Ae.enabled:!Aa.children(".k-in").hasClass("k-state-disabled");Ad=Ad||{};Ad.firstLevel=typeof Ad.firstLevel!=g?Ad.firstLevel:Ab.parent().parent().hasClass(O);Ad.length=typeof Ad.length!=g?Ad.length:Ab.parent().children().length;Ab.removeClass("k-first k-last").addClass(Ac.wrapperCssClass(Ad,Ae));Aa.removeClass("k-top k-mid k-bot").addClass(Ac.cssClass(Ad,Ae));Aa.children(".k-in").removeClass("k-in k-state-default k-state-disabled").addClass(Ac.textClass(Ae));if(z.length||Ab.attr("data-hasChildren")=="true"){Aa.children(".k-icon").removeClass("k-plus k-minus k-plus-disabled k-minus-disabled").addClass(Ac.toggleButtonClass(Ae));z.addClass("k-group")}},_processNodes:function(Ab,z){var Aa=this;Aa.element.find(Ab).each(function(Ad,Ac){z.call(Aa,Ad,e(Ac).closest(C))})},dataItem:function(z){var Aa=e(z).closest(C).attr(U.attr("uid")),Ab=this.dataSource;return Ab&&Ab.getByUid(Aa)},_insertNode:function(Ad,Aa,Ae,Aj,Am){var Af=this,Ag=S(Ae),Ab=Ag.children().length+1,z,Ai={firstLevel:Ae.hasClass(O),expanded:!Am,length:Ab},Ah,Ak,An,Ac="",Al=function(Ap,Ao){Ap.appendTo(Ao)};for(Ak=0;Ak<Ad.length;Ak++){An=Ad[Ak];An.index=Aa+Ak;Ac+=Af._renderItem({group:Ai,item:An})}Ah=e(Ac);if(!Ah.length){return}Af.angular("compile",function(){return{elements:Ah.get(),data:Ad.map(function(Ao){return{dataItem:Ao}})}});if(!Ag.length){Ag=e(Af._renderGroup({group:Ai})).appendTo(Ae)}Aj(Ah,Ag);if(Ae.hasClass("k-item")){D(Ae);Af._updateNodeClasses(Ae)}Af._updateNodeClasses(Ah.prev().first());Af._updateNodeClasses(Ah.next().last());for(Ak=0;Ak<Ad.length;Ak++){An=Ad[Ak];if(An.hasChildren){z=An.children.data();if(z.length){Af._insertNode(z,An.index,Ah.eq(Ak),Al,!Af._expanded(Ah.eq(Ak)))}}}return Ah},_updateNodes:function(Ak,Ah){var Ag=this;var Af,Ai,Ae,Al,Aj,z;var Ab={treeview:Ag.options,item:Al};var Ac=Ah!="expanded"&&Ah!="checked";function Ad(Am,An){Am.find(".k-checkbox :checkbox").prop(F,An).data(G,false).prop(G,false)}if(Ah=="selected"){Al=Ak[0];Ai=Ag.findByUid(Al.uid).find(".k-in:first").removeClass("k-state-hover").toggleClass("k-state-selected",Al[Ah]).end();if(Al[Ah]){Ag.current(Ai)}Ai.attr(n,!!Al[Ah])}else{var Aa=e.map(Ak,function(Am){return Ag.findByUid(Am.uid).children("div")});if(Ac){Ag.angular("cleanup",function(){return{elements:Aa}})}for(Af=0;Af<Ak.length;Af++){Ab.item=Al=Ak[Af];Ae=Aa[Af];Ai=Ae.parent();if(Ac){Ae.children(".k-in").html(Ag.templates.itemContent(Ab))}if(Ah==F){Aj=Al[Ah];Ad(Ae,Aj);if(Ag.options.checkboxes.checkChildren){Ad(Ai.children(".k-group"),Aj);Ag._setChecked(Al.children,Aj);Ag._bubbleIndeterminate(Ai)}}else{if(Ah=="expanded"){Ag._toggle(Ai,Al,Al[Ah])}else{if(Ah=="enabled"){Ai.find(".k-checkbox :checkbox").prop("disabled",!Al[Ah]);z=!I(Ai).is(K);Ai.removeAttr(s);if(!Al[Ah]){if(Al.selected){Al.set("selected",false)}if(Al.expanded){Al.set("expanded",false)}z=true;Ai.attr(n,false).attr(s,true)}Ag._updateNodeClasses(Ai,{},{enabled:Al[Ah],expanded:!z})}}}if(Ae.length){this.trigger("itemChange",{item:Ae,data:Al,ns:l})}}if(Ac){Ag.angular("compile",function(){return{elements:Aa,data:e.map(Ak,function(Am){return[{dataItem:Am}]})}})}}},_appendItems:function(Ad,Ac,Ab){var Aa=S(Ab);var Ae=Aa.children();var z=!this._expanded(Ab);if(typeof Ad==g){Ad=Ae.length}this._insertNode(Ac,Ad,Ab,function(Ag,Af){if(Ad>=Ae.length){Ag.appendTo(Af)}else{Ag.insertBefore(Ae.eq(Ad))}},z);if(this._expanded(Ab)){this._updateNodeClasses(Ab);S(Ab).css("display","block")}},_refreshChildren:function(Ac,Ag,z){var Ae,Aa,Af;var Ad=this.options;var Ah=Ad.loadOnDemand;var Ab=Ad.checkboxes&&Ad.checkboxes.checkChildren;S(Ac).empty();if(!Ag.length){D(Ac)}else{this._appendItems(z,Ag,Ac);Aa=S(Ac).children();if(Ah&&Ab){this._bubbleIndeterminate(Aa.last())}for(Ae=0;Ae<Aa.length;Ae++){Af=Aa.eq(Ae);this.trigger("itemChange",{item:Af.children("div"),data:this.dataItem(Af),ns:l})}}},_refreshRoot:function(Ad){var Ac=this._renderGroup({items:Ad,group:{firstLevel:true,expanded:true}});if(this.root.length){this._angularItems("cleanup");var z=e(Ac);this.root.attr("class",z.attr("class")).html(z.html())}else{this.root=this.wrapper.html(Ac).children("ul")}this.root.attr("role","tree");for(var Aa=0;Aa<Ad.length;Aa++){var Ab=this.root.children(".k-item");this.trigger("itemChange",{item:Ab.eq(Aa),data:Ad[Aa],ns:l})}this._angularItems("compile")},refresh:function(z){var Ae=z.node;var Ah=z.action;var Ag=z.items;var Ac=this.wrapper;var Ad=this.options;var Ai=Ad.loadOnDemand;var Ab=Ad.checkboxes&&Ad.checkboxes.checkChildren;var Af;if(z.field){if(!Ag[0]||!Ag[0].level){return}return this._updateNodes(Ag,z.field)}if(Ae){Ac=this.findByUid(Ae.uid);this._progress(Ac,false)}if(Ab&&Ah!="remove"){var Aa=false;for(Af=0;Af<Ag.length;Af++){if("checked" in Ag[Af]){Aa=true;break}}if(!Aa&&Ae&&Ae.checked){for(Af=0;Af<Ag.length;Af++){Ag[Af].checked=true}}}if(Ah=="add"){this._appendItems(z.index,Ag,Ac)}else{if(Ah=="remove"){this._remove(this.findByUid(Ag[0].uid),false)}else{if(Ah=="itemchange"){this._updateNodes(Ag)}else{if(Ah=="itemloaded"){this._refreshChildren(Ac,Ag,z.index)}else{this._refreshRoot(Ag)}}}}if(Ah!="remove"){for(Af=0;Af<Ag.length;Af++){if(!Ai||Ag[Af].expanded){Ag[Af].load()}}}this.trigger(R,{node:Ae?Ac:f})},_error:function(Aa){var Ab=Aa.node&&this.findByUid(Aa.node.uid);var z=this.templates.retry({messages:this.options.messages});if(Ab){this._progress(Ab,false);this._expanded(Ab,false);W(Ab).addClass("k-i-refresh");Aa.node.loaded(false)}else{this._progress(false);this.element.html(z)}},_retryRequest:function(z){z.preventDefault();this.dataSource.fetch()},expand:function(z){this._processNodes(z,function(Ab,Aa){this.toggle(Aa,true)})},collapse:function(z){this._processNodes(z,function(Ab,Aa){this.toggle(Aa,false)})},enable:function(z,Aa){Aa=arguments.length==2?!!Aa:true;this._processNodes(z,function(Ac,Ab){this.dataItem(Ab).set("enabled",Aa)})},current:function(Aa){var z=this,Ab=z._current,Ac=z.element,Ad=z._ariaId;if(arguments.length>0&&Aa&&Aa.length){if(Ab){if(Ab[0].id===Ad){Ab.removeAttr("id")}Ab.find(".k-in:first").removeClass("k-state-focused")}Ab=z._current=e(Aa,Ac).closest(C);Ab.find(".k-in:first").addClass("k-state-focused");Ad=Ab[0].id||Ad;if(Ad){z.wrapper.removeAttr("aria-activedescendant");Ab.attr("id",Ad);z.wrapper.attr("aria-activedescendant",Ad)}return}if(!Ab){Ab=z._nextVisible(e())}return Ab},select:function(Aa){var z=this,Ab=z.element;if(!arguments.length){return Ab.find(".k-state-selected").closest(C)}Aa=e(Aa,Ab).closest(C);Ab.find(".k-state-selected").each(function(){var Ac=z.dataItem(this);if(Ac){Ac.set("selected",false);delete Ac.selected}else{e(this).removeClass("k-state-selected")}});if(Aa.length){z.dataItem(Aa).set("selected",true)}z.trigger(h)},_toggle:function(Ae,Ag,Ab){var Ad=this.options;var Aa=I(Ae);var z=Ab?"expand":"collapse";var Ac,Af;if(Aa.data("animating")){return}if(!this._trigger(z,Ae)){this._expanded(Ae,Ab);Ac=Ag&&Ag.loaded();Af=!Aa.children().length;if(Ab&&(!Ac||Af)){if(Ad.loadOnDemand){this._progress(Ae,true)}Aa.remove();Ag.load()}else{this._updateNodeClasses(Ae,{},{expanded:Ab});if(!Ab){Aa.css("height",Aa.height()).css("height")}Aa.kendoStop(true,true).kendoAnimate(u({reset:true},Ad.animation[z],{complete:function(){if(Ab){Aa.css("height","")}}}))}}},toggle:function(z,Aa){z=e(z);if(!W(z).is(".k-minus,.k-plus,.k-minus-disabled,.k-plus-disabled")){return}if(arguments.length==1){Aa=!this._expanded(z)}this._expanded(z,Aa)},destroy:function(){var z=this;P.fn.destroy.call(z);z.wrapper.off(v);z._unbindDataSource();if(z.dragging){z.dragging.destroy()}U.destroy(z.element);z.root=z.wrapper=z.element=null},_expanded:function(Aa,Ab){var z=U.attr("expanded"),Ac=this.dataItem(Aa);if(arguments.length==1){return Aa.attr(z)==="true"||(Ac&&Ac.expanded)}if(I(Aa).data("animating")){return}if(Ac){Ac.set("expanded",Ab);Ab=Ac.expanded}if(Ab){Aa.attr(z,"true");Aa.attr("aria-expanded","true")}else{Aa.removeAttr(z);Aa.attr("aria-expanded","false")}},_progress:function(Aa,z){var Ab=this.element;var Ac=this.templates.loading({messages:this.options.messages});if(arguments.length==1){z=Aa;if(z){Ab.html(Ac)}else{Ab.empty()}}else{W(Aa).toggleClass("k-loading",z).removeClass("k-i-refresh")}},text:function(Ac,Ad){var Ae=this.dataItem(Ac),Aa=this.options[o.text],Ab=Ae.level(),z=Aa.length,Af=Aa[Math.min(Ab,z-1)];if(Ad){Ae.set(Af,Ad)}else{return Ae[Af]}},_objectOrSelf:function(z){return e(z).closest("[data-role=treeview]").data("kendoTreeView")||this},_dataSourceMove:function(Ab,Ae,Ac,Aa){var Af,Ad=this._objectOrSelf(Ac||Ae),Ag=Ad.dataSource;var z=e.Deferred().resolve().promise();if(Ac&&Ac[0]!=Ad.element[0]){Af=Ad.dataItem(Ac);if(!Af.loaded()){Ad._progress(Ac,true);z=Af.load()}if(Ac!=this.root){Ag=Af.children;if(!Ag||!(Ag instanceof A)){Af._initChildren();Af.loaded(true);Ag=Af.children}}}Ab=this._toObservableData(Ab);return Aa.call(this,Ag,Ab,z)},_toObservableData:function(z){var Ab=z,Ac,Aa;if(z instanceof window.jQuery||k(z)){Ac=this._objectOrSelf(z).dataSource;Aa=e(z).attr(U.attr("uid"));Ab=Ac.getByUid(Aa);if(Ab){Ab=Ac.remove(Ab)}}return Ab},_insert:function(Ac,Ab,Aa){if(!(Ab instanceof U.data.ObservableArray)){if(!r(Ab)){Ab=[Ab]}}else{Ab=Ab.toJSON()}var z=Ac.parent();if(z&&z._initChildren){z.hasChildren=true;z._initChildren()}Ac.splice.apply(Ac,[Aa,0].concat(Ab));return this.findByUid(Ac[Aa].uid)},insertAfter:H(1),insertBefore:H(0),append:function(Ad,Ab,z){var Ac=this,Aa=Ac.root;if(Ab){Aa=S(Ab)}return Ac._dataSourceMove(Ad,Aa,Ab,function(Ag,Ai,Ah){var Ae;function Af(){if(Ab){Ac._expanded(Ab,true)}var Ak=Ag.data(),Aj=Math.max(Ak.length,0);return Ac._insert(Ak,Ai,Aj)}Ah.then(function(){Ae=Af();z=z||e.noop;z(Ae)});return Ae||null})},_remove:function(Ab,Aa){var Ae=this,z,Ad,Ac;Ab=e(Ab,Ae.element);this.angular("cleanup",function(){return{elements:Ab.get()}});z=Ab.parent().parent();Ad=Ab.prev();Ac=Ab.next();Ab[Aa?"detach":"remove"]();if(z.hasClass("k-item")){D(z);Ae._updateNodeClasses(z)}Ae._updateNodeClasses(Ad);Ae._updateNodeClasses(Ac);return Ab},remove:function(z){var Aa=this.dataItem(z);if(Aa){this.dataSource.remove(Aa)}},detach:function(z){return this._remove(z,true)},findByText:function(z){return e(this.element).find(".k-in").filter(function(Aa,Ab){return e(Ab).text()==z}).closest(C)},findByUid:function(Ac){var Ad=this.element.find(".k-item");var Ab=U.attr("uid");var z;for(var Aa=0;Aa<Ad.length;Aa++){if(Ad[Aa].getAttribute(Ab)==Ac){z=Ad[Aa];break}}return e(z)},expandPath:function(Af,Ad){Af=Af.slice(0);var z=this;var Ac=this.dataSource;var Aa=Ac.get(Af[0]);Ad=Ad||e.noop;function Ab(Ah,Ai,Ag){if(Ah&&!Ah.loaded()){Ah.set("expanded",true)}else{Ai.call(Ag)}}while(Af.length>0&&Aa&&(Aa.expanded||Aa.loaded())){Aa.set("expanded",true);Af.shift();Aa=Ac.get(Af[0])}if(!Af.length){return Ad.call(z)}Ac.bind("change",function Ae(Ag){var Ai=Ag.node&&Ag.node.id;var Ah;if(Ai&&Ai===Af[0]){Af.shift();if(Af.length){Ah=Ac.get(Af[0]);Ab(Ah,Ad,z)}else{Ad.call(z)}}});Ab(Aa,Ad,z)},_parents:function(Aa){var Ab=Aa&&Aa.parentNode();var z=[];while(Ab&&Ab.parentNode){z.push(Ab);Ab=Ab.parentNode()}return z},expandTo:function(Ab){if(!(Ab instanceof U.data.Node)){Ab=this.dataSource.get(Ab)}var z=this._parents(Ab);for(var Aa=0;Aa<z.length;Aa++){z[Aa].set("expanded",true)}},_renderItem:function(z){if(!z.group){z.group={}}z.treeview=this.options;z.r=this.templates;return this.templates.item(z)},_renderGroup:function(Aa){var z=this;Aa.renderItems=function(Ad){var Ab="",Ac=0,Af=Ad.items,Ae=Af?Af.length:0,Ag=Ad.group;Ag.length=Ae;for(;Ac<Ae;Ac++){Ad.group=Ag;Ad.item=Af[Ac];Ad.item.index=Ac;Ab+=z._renderItem(Ad)}return Ab};Aa.r=z.templates;return z.templates.group(Aa)}});l.plugin(M)})(window.kendo.jQuery);(function(M,A){var D=window.kendo,P=D.ui,H="kendoContextMenu",E=M.proxy,G=".kendoPivotFieldMenu",K=P.Widget;var N=K.extend({init:function(R,Q){K.fn.init.call(this,R,Q);this._dataSource();this._layout();D.notify(this)},events:[],options:{name:"PivotFieldMenu",filter:null,filterable:true,sortable:true,messages:{info:"Show items with value that:",sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filterFields:"Fields Filter",filter:"Filter",include:"Include Fields...",title:"Fields to include",clear:"Clear",ok:"OK",cancel:"Cancel",operators:{contains:"Contains",doesnotcontain:"Does not contain",startswith:"Starts with",endswith:"Ends with",eq:"Is equal to",neq:"Is not equal to"}}},_layout:function(){var Q=this.options;this.wrapper=M(D.template(O)({ns:D.ns,filterable:Q.filterable,sortable:Q.sortable,messages:Q.messages}));this.menu=this.wrapper[H]({filter:Q.filter,target:this.element,orientation:"vertical",showOn:"click",closeOnClick:false,open:E(this._menuOpen,this),select:E(this._select,this),copyAnchorStyles:false}).data(H);this._createWindow();if(Q.filterable){this._initFilterForm()}},_initFilterForm:function(){var Q=this.menu.element.find(".k-filter-item");var R=E(this._filter,this);this._filterOperator=new D.ui.DropDownList(Q.find("select"));this._filterValue=Q.find(".k-textbox");Q.on("submit"+G,R).on("click"+G,".k-button-filter",R).on("click"+G,".k-button-clear",E(this._reset,this))},_setFilterForm:function(T){var S=this._filterOperator;var R="";var Q="";if(T){R=T.operator;Q=T.value}S.value(R);if(!S.value()){S.select(0)}this._filterValue.val(Q)},_clearFilters:function(U){var S=this.dataSource.filter()||{};var R;var T=0;var Q;S.filters=S.filters||[];R=I(S,U);for(Q=R.length;T<Q;T++){S.filters.splice(S.filters.indexOf(R[T]),1)}return S},_filter:function(Q){var R=this;var T=R._filterValue.val();Q.preventDefault();if(!T){R.menu.close();return}var U={field:R.currentMember,operator:R._filterOperator.value(),value:T};var S=R._clearFilters(R.currentMember);S.filters.push(U);R.dataSource.filter(S);R.menu.close()},_reset:function(Q){var R=this;var S=R._clearFilters(R.currentMember);Q.preventDefault();if(!S.filters[0]){S={}}R.dataSource.filter(S);R._setFilterForm(null);R.menu.close()},_sort:function(Q){var S=this.currentMember;var R=(this.dataSource.sort()||[]);R=C(R,S);R.push({field:S,dir:Q});this.dataSource.sort(R);this.menu.close()},setDataSource:function(Q){this.options.dataSource=Q;this._dataSource()},_dataSource:function(){this.dataSource=D.data.PivotDataSource.create(this.options.dataSource)},_createWindow:function(){var Q=this.options.messages;this.includeWindow=M(D.template(F)({messages:Q})).on("click"+G,".k-button-ok",E(this._applyIncludes,this)).on("click"+G,".k-button-cancel",E(this._closeWindow,this));this.includeWindow=new P.Window(this.includeWindow,{title:Q.title,visible:false,resizable:false,open:E(this._windowOpen,this)})},_applyIncludes:function(R){var Q=[];var W;var S=this.treeView.dataSource.view();var U=S[0].checked;var T=this.dataSource.filter();var V=I(T,this.currentMember,"in")[0];L(S,Q);if(V){if(U){T.filters.splice(T.filters.indexOf(V),1);if(!T.filters.length){T={}}}else{V.value=Q.join(",")}W=T}if(Q.length){if(!W&&!U){W={field:this.currentMember,operator:"in",value:Q.join(",")};if(T){T.filters.push(W);W=T}}}if(W){this.dataSource.filter(W)}this._closeWindow(R)},_closeWindow:function(Q){Q.preventDefault();this.includeWindow.close()},_treeViewDataSource:function(){var Q=this;return D.data.HierarchicalDataSource.create({schema:{model:{id:"uniqueName",hasChildren:function(R){return parseInt(R.childrenCardinality,10)>0}}},transport:{read:function(S){var U={};var R=Q.treeView.dataSource.get(S.data.uniqueName);var T=S.data.uniqueName;if(!T){U.levelUniqueName=Q.currentMember+".[(ALL)]"}else{U.memberUniqueName=R.uniqueName.replace(/\&/g,"&amp;");U.treeOp=1}Q.dataSource.schemaMembers(U).done(function(V){J(Q.dataSource.filter(),Q.currentMember,V);S.success(V)}).fail(S.error)}}})},_createTreeView:function(R){var Q=this;Q.treeView=new P.TreeView(R,{autoBind:false,dataSource:Q._treeViewDataSource(),dataTextField:"caption",template:"#: data.item.caption || data.item.name #",checkboxes:{checkChildren:true},dataBound:function(){P.progress(Q.includeWindow.element,false)}})},_menuOpen:function(Q){if(!Q.event){return}var S=D.attr("name");var R;this.currentMember=M(Q.event.target).closest("["+S+"]").attr(S);if(this.options.filterable){this._setFilterForm(I(this.dataSource.filter(),this.currentMember)[0])}},_select:function(Q){var R=M(Q.item);M(".k-pivot-filter-window").not(this.includeWindow.element).kendoWindow("close");if(R.hasClass("k-include-item")){this.includeWindow.center().open()}else{if(R.hasClass("k-sort-asc")){this._sort("asc")}else{if(R.hasClass("k-sort-desc")){this._sort("desc")}}}},_windowOpen:function(){if(!this.treeView){this._createTreeView(this.includeWindow.element.find(".k-treeview"))}P.progress(this.includeWindow.element,true);this.treeView.dataSource.read()},destroy:function(){K.fn.destroy.call(this);if(this.menu){this.menu.destroy();this.menu=null}if(this.treeView){this.treeView.destroy();this.treeView=null}if(this.includeWindow){this.includeWindow.destroy();this.includeWindow=null}this.wrapper=null;this.element=null}});function C(S,T){var R=[];for(var U=0,Q=S.length;U<Q;U++){if(S[U].field!==T){R.push(S[U])}}return R}function I(U,W,V){if(!U){return[]}U=U.filters;var S=0;var Q=[];var R=U.length;var T;for(;S<R;S++){T=U[S].operator;if(((!V&&T!=="in")||(T===V))&&U[S].field===W){Q.push(U[S])}}return Q}function J(S,V,R){var U,T=0,Q=R.length;S=I(S,V,"in")[0];if(!S){for(;T<Q;T++){R[T].checked=true}}else{U=S.value.split(",");for(;T<Q;T++){R[T].checked=M.inArray(R[T].uniqueName,U)>=0}}}function L(S,Q){var T,R=S.length;for(T=0;T<R;T++){if(S[T].checked&&S[T].level()!==0){Q.push(S[T].uniqueName)}if(S[T].hasChildren){L(S[T].children.view(),Q)}}}var B='<div class="k-filterable k-content" tabindex="-1" data-role="fieldmenu"><form class="k-filter-menu"><div><div class="k-filter-help-text">#=messages.info#</div><select>#for(var op in messages.operators){#<option value="#=op#">#=messages.operators[op]#</option>#}#</select><input class="k-textbox" type="text" /><div><a class="k-button k-primary k-button-filter" href="\\#">#=messages.filter#</a><a class="k-button k-button-clear" href="\\#">#=messages.clear#</a></div></div></form></div>';var O='<ul class="k-pivot-fieldmenu"># if (sortable) {#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-icon k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-icon k-i-sort-desc"></span>${messages.sortDescending}</span></li># if (filterable) {#<li class="k-separator"></li># } ## } ## if (filterable) {#<li class="k-item k-include-item"><span class="k-link"><span class="k-icon k-filter"></span>${messages.include}</span></li><li class="k-separator"></li><li class="k-item k-filter-item"><span class="k-link"><span class="k-icon k-filter"></span>${messages.filterFields}</span><ul><li>'+B+"</li></ul></li># } #</ul>";var F='<div class="k-popup-edit-form k-pivot-filter-window"><div class="k-edit-form-container"><div class="k-treeview"></div><div class="k-edit-buttons k-state-default"><a class="k-button k-primary k-button-ok" href="\\#">${messages.ok}</a><a class="k-button k-button-cancel" href="\\#">${messages.cancel}</a></div></div>';P.plugin(N)})(window.kendo.jQuery);(function(P,O){var H=window.kendo,D=H.ui,K=H.data.DataSource,N=D.Widget,C="change",F="boolean",G="enums",L="string",I=".kendoFilterCell",E="Is equal to",B="Is not equal to",J=P.proxy;function R(V,W){var U=[];if(P.isPlainObject(V)){if(V.hasOwnProperty("filters")){U=V.filters}else{if(V.field==W){return V}}}if((P.isArray(V))){U=V}for(var S=0;S<U.length;S++){var T=R(U[S],W);if(T){return T}}}function M(T,S){if(T.filters){T.filters=P.grep(T.filters,function(U){M(U,S);if(U.filters){return U.filters.length}else{return U.field!=S}})}}function Q(U,S){var T=H.getter(S,true);return function(W){var Z=U(W),X=[],b=0,V={};while(b<Z.length){var Y=Z[b++],a=T(Y);if(!V.hasOwnProperty(a)){X.push(Y);V[a]=true}}return X}}var A=N.extend({init:function(T,Y){T=P(T).addClass("k-filtercell");var c=this.wrapper=P("<span/>").appendTo(T);var X=this,f,d,e=Y,U,V,Z=X.operators=Y.operators||{},b=X.input=P("<input/>").attr(H.attr("bind"),"value: value").appendTo(c);N.fn.init.call(X,T[0],Y);Y=X.options;f=X.dataSource=Y.dataSource;X.model=f.reader.model;V=Y.type=L;var W=H.getter("reader.model.fields",true)(f)||{};var a=W[Y.field];if(a&&a.type){V=Y.type=a.type}if(Y.values){Y.type=V=G}if(V==G||V=="number"){e.operator=Y.operator="eq"}if(V=="string"){e.operator=Y.operator="contains"}Z=Z[V]||Y.operators[V];if(!e.operator){for(U in Z){Y.operator=U;break}}X._parse=function(g){return g+""};if(X.model&&X.model.fields){var S=X.model.fields[Y.field];if(S){if(S.parse){X._parse=J(S.parse,S)}}}X.viewModel=d=H.observable({operator:Y.operator,value:null,operatorVisible:function(){var g=this.get("value");return g!==null&&g!==O&&g!="undefined"}});d.bind(C,J(X.updateDsFilter,X));if(Y.inputWidth!==null){b.width(Y.inputWidth)}X._setInputType(Y,V);if(V!=F&&Y.showOperators!==false){X._createOperatorDropDown(Z)}else{c.addClass("k-operator-hidden")}H.bind(this.wrapper,d);if(V==G){X.setComboBoxSource(X.options.values)}X._refreshUI();X._refreshHandler=J(X._refreshUI,X);X.dataSource.bind(C,X._refreshHandler)},_setInputType:function(X,U){var W=this,Y=W.input;if(typeof(X.template)=="function"){X.template.call(W.viewModel,{element:W.input,dataSource:W.suggestDataSource})}else{if(U==L){Y.attr(H.attr("role"),"autocomplete").attr(H.attr("text-field"),X.dataTextField||X.field).attr(H.attr("filter"),X.suggestionOperator).attr(H.attr("delay"),X.delay).attr(H.attr("min-length"),X.minLength).attr(H.attr("value-primitive"),true)}else{if(U=="date"){Y.attr(H.attr("role"),"datepicker")}else{if(U==F){Y.remove();var a=P("<input type='radio'/>");var Z=W.wrapper;var T=H.guid();var V=P("<label/>").text(X.messages.isTrue).append(a);a.attr(H.attr("bind"),"checked:value").attr("name",T).val("true");var S=V.clone().text(X.messages.isFalse);a.clone().val("false").appendTo(S);Z.append([V,S])}else{if(U=="number"){Y.attr(H.attr("role"),"numerictextbox")}else{if(U==G){Y.attr(H.attr("role"),"combobox").attr(H.attr("text-field"),"text").attr(H.attr("suggest"),true).attr(H.attr("filter"),"contains").attr(H.attr("value-field"),"value").attr(H.attr("value-primitive"),true)}}}}}}},_createOperatorDropDown:function(V){var U=[];for(var T in V){U.push({text:V[T],value:T})}var S=P('<input class="k-dropdown-operator" '+H.attr("bind")+'="value: operator"/>').appendTo(this.wrapper);this.operatorDropDown=S.kendoDropDownList({dataSource:U,dataTextField:"text",dataValueField:"value",open:function(){this.popup.element.width(150)},valuePrimitive:true}).data("kendoDropDownList");this.operatorDropDown.wrapper.find(".k-i-arrow-s").removeClass("k-i-arrow-s").addClass("k-filter")},initSuggestDataSource:function(T){var S=T.suggestDataSource;if(!(S instanceof K)){if(!T.customDataSource&&S){S.group=O}S=this.suggestDataSource=K.create(S)}if(!T.customDataSource){S._pageSize=O;S.reader.data=Q(S.reader.data,this.options.field)}this.suggestDataSource=S},setAutoCompleteSource:function(){var S=this.input.data("kendoAutoComplete");if(S){S.setDataSource(this.suggestDataSource)}},setComboBoxSource:function(T){var S=K.create({data:T});var U=this.input.data("kendoComboBox");if(U){U.setDataSource(S)}},_refreshUI:function(T){var U=this,V=R(U.dataSource.filter(),this.options.field)||{},S=U.viewModel;U.manuallyUpdatingVM=true;V=P.extend(true,{},V);if(U.options.type==F){if(S.value!==V.value){U.wrapper.find(":radio").prop("checked",false)}}if(V.operator){S.set("operator",V.operator)}S.set("value",V.value);U.manuallyUpdatingVM=false},updateDsFilter:function(S){var T=this,W=T.viewModel;if(T.manuallyUpdatingVM||(S.field=="operator"&&W.value===O)){return}var U=P.extend({},T.viewModel.toJSON(),{field:T.options.field});var X={logic:"and",filters:[]};if(U.value!==O&&U.value!==null){X.filters.push(U)}var V=T._merge(X);if(V.filters.length){T.dataSource.filter(V)}else{T.dataSource.filter({})}},_merge:function(S){var Y=this,X=S.logic||"and",Z=S.filters,U,T=Y.dataSource.filter()||{filters:[],logic:"and"},V,W;M(T,Y.options.field);for(V=0,W=Z.length;V<W;V++){U=Z[V];U.value=Y._parse(U.value)}Z=P.grep(Z,function(a){return a.value!==""&&a.value!==null});if(Z.length){if(T.filters.length){S.filters=Z;if(T.logic!=="and"){T.filters=[{logic:T.logic,filters:T.filters}];T.logic="and"}if(Z.length>1){T.filters.push(S)}else{T.filters.push(Z[0])}}else{T.filters=Z;T.logic=X}}return T},_createClearIcon:function(){var S=this;P("<button type='button' class='k-button k-button-icon'/>").attr(H.attr("bind"),"visible:operatorVisible").html("<span class='k-icon k-i-close'/>").click(J(S.clearFilter,S)).appendTo(S.wrapper)},clearFilter:function(){this.viewModel.set("value",null)},destroy:function(){var S=this;S.filterModel=null;N.fn.destroy.call(S);H.destroy(S.element)},events:[C],options:{name:"FilterCell",delay:200,minLength:1,inputWidth:null,values:O,customDataSource:false,field:"",dataTextField:"",type:"string",suggestDataSource:null,suggestionOperator:"contains",operator:"contains",showOperators:true,template:null,messages:{isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",operator:"Operator"},operators:{string:{contains:"Contains",eq:E,neq:B,startswith:"Starts with",doesnotcontain:"Does not contain",endswith:"Ends with",gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},number:{eq:E,neq:B,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},date:{eq:E,neq:B,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before"},enums:{eq:E,neq:B}}}});D.plugin(A)})(window.kendo.jQuery);(function(e,g){var U=window.kendo,p=U.ui,S=U.keys,Aa=e.extend,Q=e.each,l=U.template,R=p.Widget,W=/^(ul|a|div)$/i,Ab=".kendoPanelBar",J="img",B="href",m="k-last",w="k-link",d="."+w,j="error",z=".k-item",q=".k-group",L=q+":visible",E="k-image",O="k-first",M="expand",K="select",c="k-content",v="activate",Ac="collapse",a="mouseenter",f="mouseleave",x="contentLoad",T="k-state-active",C="> .k-panel",Z="> .k-content",r="k-state-focused",F="k-state-disabled",G="k-state-selected",u="."+G,b="k-state-highlight",V=z+":not(.k-state-disabled)",h="> "+V+" > "+d+", .k-panel > "+V+" > "+d,n=z+".k-state-disabled > .k-link",I="> li > "+u+", .k-panel > li > "+u,X="k-state-default",A="aria-disabled",o="aria-expanded",P="aria-hidden",y="aria-selected",N=":visible",Y=":empty",D="single",t={content:l("<div role='region' class='k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:l("<ul role='group' aria-hidden='true' class='#= groupCssClass(group) #'#= groupAttributes(group) #>#= renderItems(data) #</ul>"),itemWrapper:l("<#= tag(item) # class='#= textClass(item, group) #' #= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:l("<li role='menuitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:l("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:l("<span class='#= arrowClass(item) #'></span>"),sprite:l("<span class='k-sprite #= spriteCssClass #'></span>"),empty:l("")},H={aria:function(Ae){var Af="";if(Ae.items||Ae.content||Ae.contentUrl){Af+=o+"='"+(Ae.expanded?"true":"false")+"' "}if(Ae.enabled===false){Af+=A+"='true'"}return Af},wrapperCssClass:function(Ae,Ag){var Af="k-item",Ah=Ag.index;if(Ag.enabled===false){Af+=" "+F}else{if(Ag.expanded===true){Af+=" "+T}else{Af+=" k-state-default"}}if(Ah===0){Af+=" k-first"}if(Ah==Ae.length-1){Af+=" k-last"}if(Ag.cssClass){Af+=" "+Ag.cssClass}return Af},textClass:function(Ag,Ae){var Af=w;if(Ae.firstLevel){Af+=" k-header"}return Af},textAttributes:function(Ae){return Ae.url?" href='"+Ae.url+"'":""},arrowClass:function(Af){var Ae="k-icon";Ae+=Af.expanded?" k-i-arrow-n k-panelbar-collapse":" k-i-arrow-s k-panelbar-expand";return Ae},text:function(Ae){return Ae.encoded===false?Ae.text:U.htmlEncode(Ae.text)},tag:function(Ae){return Ae.url||Ae.contentUrl?"a":"span"},groupAttributes:function(Ae){return Ae.expanded!==true?" style='display:none'":""},groupCssClass:function(){return"k-group k-panel"},contentAttributes:function(Ae){return Ae.item.expanded!==true?" style='display:none'":""},content:function(Ae){return Ae.content?Ae.content:Ae.contentUrl?"":"&nbsp;"},contentUrl:function(Ae){return Ae.contentUrl?'href="'+Ae.contentUrl+'"':""}};function k(Ae){Ae=e(Ae);Ae.children(d).children(".k-icon").remove();Ae.filter(":has(.k-panel),:has(.k-content)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var Af=e(this),Ag=Af.parent();Af.append("<span class='k-icon "+(Ag.hasClass(T)?"k-i-arrow-n k-panelbar-collapse":"k-i-arrow-s k-panelbar-expand")+"'/>")})}function Ad(Ae){Ae=e(Ae);Ae.filter(".k-first:not(:first-child)").removeClass(O);Ae.filter(".k-last:not(:last-child)").removeClass(m);Ae.filter(":first-child").addClass(O);Ae.filter(":last-child").addClass(m)}var s=R.extend({init:function(Ag,Af){var Ae=this,Ah;R.fn.init.call(Ae,Ag,Af);Ag=Ae.wrapper=Ae.element.addClass("k-widget k-reset k-header k-panelbar");Af=Ae.options;if(Ag[0].id){Ae._itemId=Ag[0].id+"_pb_active"}Ae._tabindex();Ae._initData(Af);Ae._updateClasses();Ae._animations(Af);Ag.on("click"+Ab,h,function(Ai){if(Ae._click(e(Ai.currentTarget))){Ai.preventDefault()}}).on(a+Ab+" "+f+Ab,h,Ae._toggleHover).on("click"+Ab,n,false).on("keydown"+Ab,e.proxy(Ae._keydown,Ae)).on("focus"+Ab,function(){var Ai=Ae.select();Ae._current(Ai[0]?Ai:Ae._first())}).on("blur"+Ab,function(){Ae._current(null)}).attr("role","menu");Ah=Ag.find("li."+T+" > ."+c);if(Ah[0]){Ae.expand(Ah.parent(),false)}U.notify(Ae)},events:[M,Ac,K,v,j,x],options:{name:"PanelBar",animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},expandMode:"multiple"},destroy:function(){R.fn.destroy.call(this);this.element.off(Ab);U.destroy(this.element)},_initData:function(Af){var Ae=this;if(Af.dataSource){Ae.element.empty();Ae.append(Af.dataSource,Ae.element)}},setOptions:function(Af){var Ae=this.options.animation;this._animations(Af);Af.animation=Aa(true,Ae,Af.animation);if("dataSource" in Af){this._initData(Af)}R.fn.setOptions.call(this,Af)},expand:function(Ah,Ae){var Af=this,Ag={};Ae=Ae!==false;Ah=this.element.find(Ah);Ah.each(function(Ak,Aj){Aj=e(Aj);var Ai=Aj.find(C).add(Aj.find(Z));if(!Aj.hasClass(F)&&Ai.length>0){if(Af.options.expandMode==D&&Af._collapseAllExpanded(Aj)){return Af}Ah.find("."+b).removeClass(b);Aj.addClass(b);if(!Ae){Ag=Af.options.animation;Af.options.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}if(!Af._triggerEvent(M,Aj)){Af._toggleItem(Aj,false)}if(!Ae){Af.options.animation=Ag}}});return Af},collapse:function(Ah,Ae){var Af=this,Ag={};Ae=Ae!==false;Ah=Af.element.find(Ah);Ah.each(function(Ak,Aj){Aj=e(Aj);var Ai=Aj.find(C).add(Aj.find(Z));if(!Aj.hasClass(F)&&Ai.is(N)){Aj.removeClass(b);if(!Ae){Ag=Af.options.animation;Af.options.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}if(!Af._triggerEvent(Ac,Aj)){Af._toggleItem(Aj,true)}if(!Ae){Af.options.animation=Ag}}});return Af},_toggleDisabled:function(Ae,Af){Ae=this.element.find(Ae);Ae.toggleClass(X,Af).toggleClass(F,!Af).attr(A,!Af)},select:function(Af){var Ae=this;if(Af===g){return Ae.element.find(I).parent()}Af=Ae.element.find(Af);if(!Af.length){this._updateSelected(Af)}else{Af.each(function(){var Ah=e(this),Ag=Ah.children(d);if(Ah.hasClass(F)){return Ae}if(!Ae._triggerEvent(K,Ah)){Ae._updateSelected(Ag)}})}return Ae},clearSelection:function(){this.select(e())},enable:function(Ae,Af){this._toggleDisabled(Ae,Af!==false);return this},disable:function(Ae){this._toggleDisabled(Ae,false);return this},append:function(Ag,Ae){Ae=this.element.find(Ae);var Af=this._insert(Ag,Ae,Ae.length?Ae.find(C):null);Q(Af.items,function(){Af.group.append(this);Ad(this)});k(Ae);Ad(Af.group.find(".k-first, .k-last"));Af.group.height("auto");return this},insertBefore:function(Ag,Ae){Ae=this.element.find(Ae);var Af=this._insert(Ag,Ae,Ae.parent());Q(Af.items,function(){Ae.before(this);Ad(this)});Ad(Ae);Af.group.height("auto");return this},insertAfter:function(Ag,Ae){Ae=this.element.find(Ae);var Af=this._insert(Ag,Ae,Ae.parent());Q(Af.items,function(){Ae.after(this);Ad(this)});Ad(Ae);Af.group.height("auto");return this},remove:function(Ag){Ag=this.element.find(Ag);var Af=this,Ah=Ag.parentsUntil(Af.element,z),Ae=Ag.parent("ul");Ag.remove();if(Ae&&!Ae.hasClass("k-panelbar")&&!Ae.children(z).length){Ae.remove()}if(Ah.length){Ah=Ah.eq(0);k(Ah);Ad(Ah)}return Af},reload:function(Af){var Ae=this;Af=Ae.element.find(Af);Af.each(function(){var Ag=e(this);Ae._ajaxRequest(Ag,Ag.children("."+c),!Ag.is(N))})},_first:function(){return this.element.children(V).first()},_last:function(){var Af=this.element.children(V).last(),Ae=Af.children(L);if(Ae[0]){return Ae.children(V).last()}return Af},_current:function(Ae){var Af=this,Ag=Af._focused,Ah=Af._itemId;if(Ae===g){return Ag}Af.element.removeAttr("aria-activedescendant");if(Ag&&Ag.length){if(Ag[0].id===Ah){Ag.removeAttr("id")}Ag.children(d).removeClass(r)}if(e(Ae).length){Ah=Ae[0].id||Ah;Ae.attr("id",Ah).children(d).addClass(r);Af.element.attr("aria-activedescendant",Ah)}Af._focused=Ae},_keydown:function(Af){var Ag=this,Ae=Af.keyCode,Ah=Ag._current();if(Af.target!=Af.currentTarget){return}if(Ae==S.DOWN||Ae==S.RIGHT){Ag._current(Ag._nextItem(Ah));Af.preventDefault()}else{if(Ae==S.UP||Ae==S.LEFT){Ag._current(Ag._prevItem(Ah));Af.preventDefault()}else{if(Ae==S.ENTER||Ae==S.SPACEBAR){Ag._click(Ah.children(d));Af.preventDefault()}else{if(Ae==S.HOME){Ag._current(Ag._first());Af.preventDefault()}else{if(Ae==S.END){Ag._current(Ag._last());Af.preventDefault()}}}}}},_nextItem:function(Ag){if(!Ag){return this._first()}var Ae=Ag.children(L),Af=Ag.nextAll(":visible").first();if(Ae[0]){Af=Ae.children("."+O)}if(!Af[0]){Af=Ag.parent(L).parent(z).next()}if(!Af[0]){Af=this._first()}if(Af.hasClass(F)){Af=this._nextItem(Af)}return Af},_prevItem:function(Af){if(!Af){return this._last()}var Ag=Af.prevAll(":visible").first(),Ae;if(!Ag[0]){Ag=Af.parent(L).parent(z);if(!Ag[0]){Ag=this._last()}}else{Ae=Ag;while(Ae[0]){Ae=Ae.children(L).children("."+m);if(Ae[0]){Ag=Ae}}}if(Ag.hasClass(F)){Ag=this._prevItem(Ag)}return Ag},_insert:function(Al,Ag,Ak){var Ah=this,Aj,Ai=e.isPlainObject(Al),Ae=Ag&&Ag[0],Af;if(!Ae){Ak=Ah.element}Af={firstLevel:Ak.hasClass("k-panelbar"),expanded:Ak.parent().hasClass(T),length:Ak.children().length};if(Ae&&!Ak.length){Ak=e(s.renderGroup({group:Af})).appendTo(Ag)}if(Al instanceof U.Observable){Al=Al.toJSON()}if(Ai||e.isArray(Al)){Aj=e.map(Ai?[Al]:Al,function(An,Am){if(typeof An==="string"){return e(An)}else{return e(s.renderItem({group:Af,item:Aa(An,{index:Am})}))}});if(Ae){Ag.attr(o,false)}}else{if(typeof Al=="string"&&Al.charAt(0)!="<"){Aj=Ah.element.find(Al)}else{Aj=e(Al)}Ah._updateItemsClasses(Aj)}return{items:Aj,group:Ak}},_toggleHover:function(Ae){var Af=e(Ae.currentTarget);if(!Af.parents("li."+F).length){Af.toggleClass("k-state-hover",Ae.type==a)}},_updateClasses:function(){var Ae=this,Ag,Af;Ag=Ae.element.find("li > ul").not(function(){return e(this).parentsUntil(".k-panelbar","div").length}).addClass("k-group k-panel").attr("role","group");Ag.parent().attr(o,false).not("."+T).children("ul").attr(P,true).hide();Af=Ae.element.add(Ag).children();Ae._updateItemsClasses(Af);k(Af);Ad(Af)},_updateItemsClasses:function(Ag){var Ae=Ag.length,Af=0;for(;Af<Ae;Af++){this._updateItemClasses(Ag[Af],Af)}},_updateItemClasses:function(Al,Ag){var Ai=this._selected,Aj=this.options.contentUrls,Ak=Aj&&Aj[Ag],Ah=this.element[0],Af,Ae;Al=e(Al).addClass("k-item").attr("role","menuitem");if(U.support.browser.msie){Al.css("list-style-position","inside").css("list-style-position","")}Al.children(J).addClass(E);Ae=Al.children("a").addClass(w);if(Ae[0]){Ae.attr("href",Ak);Ae.children(J).addClass(E)}Al.filter(":not([disabled]):not([class*=k-state])").addClass("k-state-default");Al.filter("li[disabled]").addClass("k-state-disabled").attr(A,true).removeAttr("disabled");Al.children("div").addClass(c).attr("role","region").attr(P,true).hide().parent().attr(o,false);Ae=Al.children(u);if(Ae[0]){if(Ai){Ai.removeAttr(y).children(u).removeClass(G)}Ae.addClass(G);this._selected=Al.attr(y,true)}if(!Al.children(d)[0]){Af="<span class='"+w+"'/>";if(Aj&&Aj[Ag]&&Al[0].parentNode==Ah){Af='<a class="k-link k-header" href="'+Aj[Ag]+'"/>'}Al.contents().filter(function(){return(!this.nodeName.match(W)&&!(this.nodeType==3&&!e.trim(this.nodeValue)))}).wrapAll(Af)}if(Al.parent(".k-panelbar")[0]){Al.children(d).addClass("k-header")}},_click:function(Ai){var Ag=this,Ae=Ag.element,Aj,Af,Al,Am;if(Ai.parents("li."+F).length){return}if(Ai.closest(".k-widget")[0]!=Ae[0]){return}var Ah=Ai.closest(d),An=Ah.closest(z);Ag._updateSelected(Ah);Af=An.find(C).add(An.find(Z));Al=Ah.attr(B);Am=Al&&(Al.charAt(Al.length-1)=="#"||Al.indexOf("#"+Ag.element[0].id+"-")!=-1);Aj=!!(Am||Af.length);if(Af.data("animating")){return Aj}if(Ag._triggerEvent(K,An)){Aj=true}if(Aj===false){return}if(Ag.options.expandMode==D){if(Ag._collapseAllExpanded(An)){return Aj}}if(Af.length){var Ak=Af.is(N);if(!Ag._triggerEvent(!Ak?M:Ac,An)){Aj=Ag._toggleItem(An,Ak)}}return Aj},_toggleItem:function(Af,Ah){var Ag=this,Ae=Af.find(C),Ak=Af.find(d),Ai=Ak.attr(B),Aj,Al;if(Ae.length){this._toggleGroup(Ae,Ah);Aj=true}else{Al=Af.children("."+c);if(Al.length){Aj=true;if(!Al.is(Y)||Ai===g){Ag._toggleGroup(Al,Ah)}else{Ag._ajaxRequest(Af,Al,Ah)}}}return Aj},_toggleGroup:function(Ai,Ak){var Ag=this,Ah=Ag.options.animation,Ae=Ah.expand,Af=Aa({},Ah.collapse),Aj=Af&&"effects" in Af;if(Ai.is(N)!=Ak){return}Ai.parent().attr(o,!Ak).attr(P,Ak).toggleClass(T,!Ak).find("> .k-link > .k-icon").toggleClass("k-i-arrow-n",!Ak).toggleClass("k-panelbar-collapse",!Ak).toggleClass("k-i-arrow-s",Ak).toggleClass("k-panelbar-expand",Ak);if(Ak){Ae=Aa(Aj?Af:Aa({reverse:true},Ae),{hide:true})}else{Ae=Aa({complete:function(Al){Ag._triggerEvent(v,Al.closest(z))}},Ae)}Ai.kendoStop(true,true).kendoAnimate(Ae)},_collapseAllExpanded:function(Ag){var Af=this,Ai,Ah=false;var Ae=Ag.find(C).add(Ag.find(Z));if(Ae.is(N)){Ah=true}if(!(Ae.is(N)||Ae.length===0)){Ai=Ag.siblings();Ai.find(C).add(Ai.find(Z)).filter(function(){return e(this).is(N)}).each(function(Aj,Ak){Ak=e(Ak);Ah=Af._triggerEvent(Ac,Ak.closest(z));if(!Ah){Af._toggleGroup(Ak,true)}})}return Ah},_ajaxRequest:function(Ae,Al,Aj){var Ai=this,Ah=Ae.find(".k-panelbar-collapse, .k-panelbar-expand"),Am=Ae.find(d),Af=setTimeout(function(){Ah.addClass("k-loading")},100),Ag={},Ak=Am.attr(B);e.ajax({type:"GET",cache:false,url:Ak,dataType:"html",data:Ag,error:function(Ao,An){Ah.removeClass("k-loading");if(Ai.trigger(j,{xhr:Ao,status:An})){this.complete()}},complete:function(){clearTimeout(Af);Ah.removeClass("k-loading")},success:function(Aq){function Ap(){return{elements:Al.get()}}try{Ai.angular("cleanup",Ap);Al.html(Aq);Ai.angular("compile",Ap)}catch(Ao){var An=window.console;if(An&&An.error){An.error(Ao.name+": "+Ao.message+" in "+Ak)}this.error(this.xhr,"error")}Ai._toggleGroup(Al,Aj);Ai.trigger(x,{item:Ae[0],contentElement:Al[0]})}})},_triggerEvent:function(Af,Ag){var Ae=this;return Ae.trigger(Af,{item:Ag[0]})},_updateSelected:function(Ae){var Ah=this,Ag=Ah.element,Af=Ae.parent(z),Ai=Ah._selected;if(Ai){Ai.removeAttr(y)}Ah._selected=Af.attr(y,true);Ag.find(I).removeClass(G);Ag.find("> ."+b+", .k-panel > ."+b).removeClass(b);Ae.addClass(G);Ae.parentsUntil(Ag,z).filter(":has(.k-header)").addClass(b);Ah._current(Af[0]?Af:null)},_animations:function(Ae){if(Ae&&("animation" in Ae)&&!Ae.animation){Ae.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}}});Aa(s,{renderItem:function(Af){Af=Aa({panelBar:{},group:{}},Af);var Ag=t.empty,Ae=Af.item;return t.item(Aa(Af,{image:Ae.imageUrl?t.image:Ag,sprite:Ae.spriteCssClass?t.sprite:Ag,itemWrapper:t.itemWrapper,renderContent:s.renderContent,arrow:Ae.items||Ae.content||Ae.contentUrl?t.arrow:Ag,subGroup:s.renderGroup},H))},renderGroup:function(Ae){return t.group(Aa({renderItems:function(Ah){var Af="",Ag=0,Aj=Ah.items,Ai=Aj?Aj.length:0,Ak=Aa({length:Ai},Ah.group);for(;Ag<Ai;Ag++){Af+=s.renderItem(Aa(Ah,{group:Ak,item:Aa({index:Ag},Aj[Ag])}))}return Af}},Ae,H))},renderContent:function(Ae){return t.content(Aa(Ae,H))}});U.ui.plugin(s)})(window.kendo.jQuery);(function(F,A){var B=F.proxy;var D=".kendoResponsivePanel";var E="open";var C="close";var G="click"+D+" touchstart"+D;var H=kendo.ui.Widget;var I=H.extend({init:function(K,J){H.fn.init.call(this,K,J);this._toggleHandler=B(this._toggleButtonClick,this);this._closeHandler=B(this._close,this);F(document.documentElement).on(G,this.options.toggleButton,this._toggleHandler);this._registerBreakpoint();this.element.addClass("k-rpanel k-rpanel-"+this.options.orientation);this._resizeHandler=B(this.resize,this,false);F(window).on("resize"+D,this._resizeHandler)},_mediaQuery:"@media (max-width: #= breakpoint-1 #px) {.k-rpanel-animate.k-rpanel-left,.k-rpanel-animate.k-rpanel-right {-webkit-transition: -webkit-transform .2s ease-out;-ms-transition: -ms-transform .2s ease-out;transition: transform .2s ease-out;} .k-rpanel-animate.k-rpanel-top {-webkit-transition: max-height .2s linear;-ms-transition: max-height .2s linear;transition: max-height .2s linear;}} @media (min-width: #= breakpoint #px) {#= toggleButton # { display: none; } .k-rpanel-left { float: left; } .k-rpanel-right { float: right; } .k-rpanel-left, .k-rpanel-right {position: relative;-webkit-transform: translateX(0) translateZ(0);-ms-transform: translateX(0) translateZ(0);transform: translateX(0) translateZ(0);} .k-rpanel-top { max-height: none; }}",_registerBreakpoint:function(){var J=this.options;this._registerStyle(kendo.template(this._mediaQuery)({breakpoint:J.breakpoint,toggleButton:J.toggleButton}))},_registerStyle:function(L){var K=F("head,body")[0];var J=document.createElement("style");K.appendChild(J);if(J.styleSheet){J.styleSheet.cssText=L}else{J.appendChild(document.createTextNode(L))}},options:{name:"ResponsivePanel",orientation:"left",toggleButton:".k-rpanel-toggle",breakpoint:640,autoClose:true},events:[E,C],_resize:function(){this.element.removeClass("k-rpanel-animate")},_toggleButtonClick:function(J){J.preventDefault();if(this.element.hasClass("k-rpanel-expanded")){this.close()}else{this.open()}},open:function(){if(!this.trigger(E)){this.element.addClass("k-rpanel-animate k-rpanel-expanded");if(this.options.autoClose){F(document.documentElement).on(G,this._closeHandler)}}},close:function(){if(!this.trigger(C)){this.element.addClass("k-rpanel-animate").removeClass("k-rpanel-expanded");F(document.documentElement).off(G,this._closeHandler)}},_close:function(J){var K=J.isDefaultPrevented();var L=F(J.target).closest(this.options.toggleButton+",.k-rpanel");if(!L.length&&!K){this.close()}},destroy:function(){H.fn.destroy.call(this);F(window).off("resize"+D,this._resizeHandler);F(document.documentElement).off(G,this._closeHandler)}});kendo.ui.plugin(I)})(window.kendo.jQuery);(function(Z,c){var S=window.kendo,j=S.ui,Q=S.keys,n=Z.map,N=Z.each,l=Z.trim,r=Z.extend,g=S.template,O=j.Widget,U=/^(a|div)$/i,s=".kendoTabStrip",I="img",B="href",E="prev",A="show",f="k-link",J="k-last",T="click",e="error",V=":empty",a="k-image",L="k-first",F="select",m="activate",Y="k-content",G="contentUrl",W="mouseenter",X="mouseleave",o="contentLoad",h="k-state-disabled",K="k-state-default",d="k-state-active",b="k-state-focused",C="k-state-hover",k="k-tab-on-top",R=".k-item:not(."+h+")",D=".k-tabstrip-items > "+R+":not(."+d+")",t={content:g("<div class='k-content'#= contentAttributes(data) # role='tabpanel'>#= content(item) #</div>"),itemWrapper:g("<#= tag(item) # class='k-link'#= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) #</#= tag(item) #>"),item:g("<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \"aria-selected='true'\" : ''#>#= itemWrapper(data) #</li>"),image:g("<img class='k-image' alt='' src='#= imageUrl #' />"),sprite:g("<span class='k-sprite #= spriteCssClass #'></span>"),empty:g("")},H={wrapperCssClass:function(u,w){var v="k-item",x=w.index;if(w.enabled===false){v+=" k-state-disabled"}else{v+=" k-state-default"}if(x===0){v+=" k-first"}if(x==u.length-1){v+=" k-last"}return v},textAttributes:function(u){return u.url?" href='"+u.url+"'":""},text:function(u){return u.encoded===false?u.text:S.htmlEncode(u.text)},tag:function(u){return u.url?"a":"span"},contentAttributes:function(u){return u.active!==true?" style='display:none' aria-hidden='true' aria-expanded='false'":""},content:function(u){return u.content?u.content:u.contentUrl?"":"&nbsp;"},contentUrl:function(u){return u.contentUrl?S.attr("content-url")+'="'+u.contentUrl+'"':""}};function P(u){u.children(I).addClass(a);u.children("a").addClass(f).children(I).addClass(a);u.filter(":not([disabled]):not([class*=k-state-disabled])").addClass(K);u.filter("li[disabled]").addClass(h).removeAttr("disabled");u.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(d+" "+k);u.attr("role","tab");u.filter("."+d).attr("aria-selected",true);u.each(function(){var v=Z(this);if(!v.children("."+f).length){v.contents().filter(function(){return(!this.nodeName.match(U)&&!(this.nodeType==3&&!l(this.nodeValue)))}).wrapAll("<span class='"+f+"'/>")}})}function q(v){var u=v.children(".k-item");u.filter(".k-first:not(:first-child)").removeClass(L);u.filter(".k-last:not(:last-child)").removeClass(J);u.filter(":first-child").addClass(L);u.filter(":last-child").addClass(J)}function p(u,v){return"<span class='k-button k-button-icon k-button-bare k-tabstrip-"+u+"' unselectable='on'><span class='k-icon "+v+"'></span></span>"}var M=O.extend({init:function(x,w){var v=this;O.fn.init.call(v,x,w);v._animations(v.options);w=v.options;v._wrapper();v._isRtl=S.support.isRtl(v.wrapper);v._tabindex();v._updateClasses();v._dataSource();if(w.dataSource){v.dataSource.fetch()}v._tabPosition();v._scrollable();if(v.options.contentUrls){v.wrapper.find(".k-tabstrip-items > .k-item").each(function(Aa,z){Z(z).find(">."+f).data(G,v.options.contentUrls[Aa])})}v.wrapper.on(W+s+" "+X+s,D,v._toggleHover).on("focus"+s,Z.proxy(v._active,v)).on("blur"+s,function(){v._current(null)});v._keyDownProxy=Z.proxy(v._keydown,v);if(w.navigatable){v.wrapper.on("keydown"+s,v._keyDownProxy)}v.wrapper.children(".k-tabstrip-items").on(T+s,".k-state-disabled .k-link",false).on(T+s," > "+R,function(z){var Aa=v.wrapper[0];if(Aa!==document.activeElement){var Ab=S.support.browser.msie;if(Ab){try{Aa.setActive()}catch(Ac){Aa.focus()}}else{Aa.focus()}}if(v._click(Z(z.currentTarget))){z.preventDefault()}});var u=v.tabGroup.children("li."+d),y=v.contentHolder(u.index());if(u[0]&&y.length>0&&y[0].childNodes.length===0){v.activateTab(u.eq(0))}v.element.attr("role","tablist");if(v.element[0].id){v._ariaId=v.element[0].id+"_ts_active"}S.notify(v)},_active:function(){var u=this.tabGroup.children().filter("."+d);u=u[0]?u:this._endItem("first");if(u[0]){this._current(u)}},_endItem:function(u){return this.tabGroup.children(R)[u]()},_item:function(v,u){var w;if(u===E){w="last"}else{w="first"}if(!v){return this._endItem(w)}v=v[u]();if(!v[0]){v=this._endItem(w)}if(v.hasClass(h)){v=this._item(v,u)}return v},_current:function(u){var v=this,w=v._focused,x=v._ariaId;if(u===c){return w}if(w){if(w[0].id===x){w.removeAttr("id")}w.removeClass(b)}if(u){if(!u.hasClass(d)){u.addClass(b)}v.element.removeAttr("aria-activedescendant");x=u[0].id||x;if(x){u.attr("id",x);v.element.attr("aria-activedescendant",x)}}v._focused=u},_keydown:function(w){var x=this,v=w.keyCode,z=x._current(),y=x._isRtl,u;if(w.target!=w.currentTarget){return}if(v==Q.DOWN||v==Q.RIGHT){u=y?E:"next"}else{if(v==Q.UP||v==Q.LEFT){u=y?"next":E}else{if(v==Q.ENTER||v==Q.SPACEBAR){x._click(z);w.preventDefault()}else{if(v==Q.HOME){x._click(x._endItem("first"));w.preventDefault();return}else{if(v==Q.END){x._click(x._endItem("last"));w.preventDefault();return}}}}}if(u){x._click(x._item(z,u));w.preventDefault()}},_dataSource:function(){var u=this;if(u.dataSource&&u._refreshHandler){u.dataSource.unbind("change",u._refreshHandler)}else{u._refreshHandler=Z.proxy(u.refresh,u)}u.dataSource=S.data.DataSource.create(u.options.dataSource).bind("change",u._refreshHandler)},setDataSource:function(v){var u=this;u.options.dataSource=v;u._dataSource();u.dataSource.fetch()},_animations:function(u){if(u&&("animation" in u)&&!u.animation){u.animation={open:{effects:{}},close:{effects:{}}}}},refresh:function(u){var Ab=this,Aa=Ab.options,Ac=S.getter(Aa.dataTextField),Ai=S.getter(Aa.dataContentField),x=S.getter(Aa.dataContentUrlField),Ag=S.getter(Aa.dataImageUrlField),Ae=S.getter(Aa.dataUrlField),v=S.getter(Aa.dataSpriteCssClass),y,w=[],Af,Ah,Ad=Ab.dataSource.view(),z;u=u||{};Ah=u.action;if(Ah){Ad=u.items}for(y=0,z=Ad.length;y<z;y++){Af={text:Ac(Ad[y])};if(Aa.dataContentField){Af.content=Ai(Ad[y])}if(Aa.dataContentUrlField){Af.contentUrl=x(Ad[y])}if(Aa.dataUrlField){Af.url=Ae(Ad[y])}if(Aa.dataImageUrlField){Af.imageUrl=Ag(Ad[y])}if(Aa.dataSpriteCssClass){Af.spriteCssClass=v(Ad[y])}w[y]=Af}if(u.action=="add"){if(u.index<Ab.tabGroup.children().length){Ab.insertBefore(w,Ab.tabGroup.children().eq(u.index))}else{Ab.append(w)}}else{if(u.action=="remove"){for(y=0;y<Ad.length;y++){Ab.remove(u.index)}}else{if(u.action=="itemchange"){y=Ab.dataSource.view().indexOf(Ad[0]);if(u.field===Aa.dataTextField){Ab.tabGroup.children().eq(y).find(".k-link").text(Ad[0].get(u.field))}}else{Ab.trigger("dataBinding");Ab.remove("li");Ab.append(w);Ab.trigger("dataBound")}}}},value:function(v){var u=this;if(v!==c){if(v!=u.value()){u.tabGroup.children().each(function(){if(Z.trim(Z(this).text())==v){u.select(this)}})}}else{return u.select().text()}},items:function(){return this.tabGroup[0].children},setOptions:function(w){var v=this,u=v.options.animation;v._animations(w);w.animation=r(true,u,w.animation);if(w.navigatable){v.wrapper.on("keydown"+s,v._keyDownProxy)}else{v.wrapper.off("keydown"+s,v._keyDownProxy)}O.fn.setOptions.call(v,w)},events:[F,m,A,e,o,"change","dataBinding","dataBound"],options:{name:"TabStrip",dataTextField:"",dataContentField:"",dataImageUrlField:"",dataUrlField:"",dataSpriteCssClass:"",dataContentUrlField:"",tabPosition:"top",animation:{open:{effects:"expand:vertical fadeIn",duration:200},close:{duration:200}},collapsible:false,navigatable:true,contentUrls:false,scrollable:{distance:200}},destroy:function(){var u=this;O.fn.destroy.call(u);if(u._refreshHandler){u.dataSource.unbind("change",u._refreshHandler)}u.wrapper.off(s);u.wrapper.children(".k-tabstrip-items").off(s);if(u._scrollableModeActive){u._scrollPrevButton.off().remove();u._scrollNextButton.off().remove()}u.scrollWrap.children(".k-tabstrip").unwrap();S.destroy(u.wrapper)},select:function(v){var u=this;if(arguments.length===0){return u.tabGroup.children("li."+d)}if(!isNaN(v)){v=u.tabGroup.children().get(v)}v=u.tabGroup.find(v);Z(v).each(function(x,w){w=Z(w);if(!w.hasClass(d)&&!u.trigger(F,{item:w[0],contentElement:u.contentHolder(w.index())[0]})){u.activateTab(w)}});return u},enable:function(u,v){this._toggleDisabled(u,v!==false);return this},disable:function(u){this._toggleDisabled(u,false);return this},reload:function(v){v=this.tabGroup.find(v);var u=this;v.each(function(){var w=Z(this),x=w.find("."+f).data(G),y=u.contentHolder(w.index());if(x){u.ajaxRequest(w,y,null,x)}});return u},append:function(v){var w=this,u=w._create(v);N(u.tabs,function(y){var x=u.contents[y];w.tabGroup.append(this);w.wrapper.append(x);w.angular("compile",function(){return{elements:[x]}})});q(w.tabGroup);w._updateContentElements();w.resize(true);return w},insertBefore:function(v,x){x=this.tabGroup.find(x);var y=this,u=y._create(v),w=Z(y.contentElement(x.index()));N(u.tabs,function(Aa){var z=u.contents[Aa];x.before(this);w.before(z);y.angular("compile",function(){return{elements:[z]}})});q(y.tabGroup);y._updateContentElements();y.resize(true);return y},insertAfter:function(v,x){x=this.tabGroup.find(x);var y=this,u=y._create(v),w=Z(y.contentElement(x.index()));N(u.tabs,function(Aa){var z=u.contents[Aa];x.after(this);w.after(z);y.angular("compile",function(){return{elements:[z]}})});q(y.tabGroup);y._updateContentElements();y.resize(true);return y},remove:function(v){var x=this;var u=typeof v;var w;if(u==="string"){v=x.tabGroup.find(v)}else{if(u==="number"){v=x.tabGroup.children().eq(v)}}w=v.map(function(){var y=x.contentElement(Z(this).index());S.destroy(y);return y});v.remove();w.remove();x._updateContentElements();x.resize(true);return x},_create:function(u){var x=Z.isPlainObject(u),z=this,v,w,y;if(x||Z.isArray(u)){u=Z.isArray(u)?u:[u];v=n(u,function(Ab,Aa){return Z(M.renderItem({group:z.tabGroup,item:r(Ab,{index:Aa})}))});w=n(u,function(Ab,Aa){if(typeof Ab.content=="string"||Ab.contentUrl){return Z(M.renderContent({item:r(Ab,{index:Aa})}))}})}else{if(typeof u=="string"&&u[0]!="<"){v=z.element.find(u)}else{v=Z(u)}w=Z();v.each(function(){y=Z("<div class='"+Y+"'/>");if(/k-tabstrip-items/.test(this.parentNode.className)){var Aa=parseInt(this.getAttribute("aria-controls").replace(/^.*-/,""),10)-1;y=Z(z.contentElement(Aa))}w=w.add(y)});P(v)}return{tabs:v,contents:w}},_toggleDisabled:function(u,v){u=this.tabGroup.find(u);u.each(function(){Z(this).toggleClass(K,v).toggleClass(h,!v)})},_updateClasses:function(){var u=this,v,x,w;u.wrapper.addClass("k-widget k-header k-tabstrip");u.tabGroup=u.wrapper.children("ul").addClass("k-tabstrip-items k-reset");if(!u.tabGroup[0]){u.tabGroup=Z("<ul class='k-tabstrip-items k-reset'/>").appendTo(u.wrapper)}v=u.tabGroup.find("li").addClass("k-item");if(v.length){x=v.filter("."+d).index();w=x>=0?x:c;u.tabGroup.contents().filter(function(){return(this.nodeType==3&&!l(this.nodeValue))}).remove()}if(x>=0){v.eq(x).addClass(k)}u.contentElements=u.wrapper.children("div");u.contentElements.addClass(Y).eq(w).addClass(d).css({display:"block"});if(v.length){P(v);q(u.tabGroup);u._updateContentElements()}},_updateContentElements:function(){var u=this,y=u.options.contentUrls||[],w=u.tabGroup.find(".k-item"),x=(u.element.attr("id")||S.guid())+"-",v=u.wrapper.children("div");if(v.length&&(w.length>v.length)){v.each(function(Ab){var z=parseInt(this.id.replace(x,""),10),Aa=w.filter("[aria-controls="+x+z+"]"),Ac=x+(Ab+1);Aa.data("aria",Ac);this.setAttribute("id",Ac)});w.each(function(){var z=Z(this);this.setAttribute("aria-controls",z.data("aria"));z.removeData("aria")})}else{w.each(function(Aa){var z=v.eq(Aa),Ab=x+(Aa+1);this.setAttribute("aria-controls",Ab);if(!z.length&&y[Aa]){Z("<div class='"+Y+"'/>").appendTo(u.wrapper).attr("id",Ab)}else{z.attr("id",Ab);if(!Z(this).children(".k-loading")[0]&&!y[Aa]){Z("<span class='k-loading k-complete'/>").prependTo(this)}}z.attr("role","tabpanel");z.filter(":not(."+d+")").attr("aria-hidden",true).attr("aria-expanded",false);z.filter("."+d).attr("aria-expanded",true)})}u.contentElements=u.contentAnimators=u.wrapper.children("div");u.tabsHeight=u.tabGroup.outerHeight()+parseInt(u.wrapper.css("border-top-width"),10)+parseInt(u.wrapper.css("border-bottom-width"),10);if(S.kineticScrollNeeded&&S.mobile.ui.Scroller){S.touchScroller(u.contentElements);u.contentElements=u.contentElements.children(".km-scroll-container")}},_wrapper:function(){var u=this;if(u.element.is("ul")){u.wrapper=u.element.wrapAll("<div />").parent()}else{u.wrapper=u.element}u.scrollWrap=u.wrapper.parent(".k-tabstrip-wrapper");if(!u.scrollWrap[0]){u.scrollWrap=u.wrapper.wrapAll("<div class='k-tabstrip-wrapper' />").parent()}},_tabPosition:function(){var u=this,w=u.options.tabPosition,v=u.tabGroup;u.wrapper.addClass("k-floatwrap k-tabstrip-"+w);if(w=="bottom"){u.tabGroup.appendTo(u.wrapper)}u.resize(true)},_setContentElementsDimensions:function(){var z=this,y=z.options.tabPosition;if(y=="left"||y=="right"){var x=z.wrapper.children(".k-content"),v=x.filter(":visible"),Aa="margin-"+y,w=z.tabGroup,u=w.outerWidth();var Ab=Math.ceil(w.height())-parseInt(v.css("padding-top"),10)-parseInt(v.css("padding-bottom"),10)-parseInt(v.css("border-top-width"),10)-parseInt(v.css("border-bottom-width"),10);setTimeout(function(){x.css(Aa,u).css("min-height",Ab)})}},_resize:function(){this._setContentElementsDimensions();this._scrollable()},_sizeScrollWrap:function(w){if(w.is(":visible")){var v=this.options.tabPosition;var u=Math.floor(w.outerHeight(true))+(v==="left"||v==="right"?2:this.tabsHeight);this.scrollWrap.css("height",u).css("height")}},_toggleHover:function(u){Z(u.currentTarget).toggleClass(C,u.type==W)},_click:function(Ab){var v=this,u=Ab.find("."+f),z=u.attr(B),x=v.options.collapsible,w=v.contentHolder(Ab.index()),y,Aa;if(Ab.closest(".k-widget")[0]!=v.wrapper[0]){return}if(Ab.is("."+h+(!x?",."+d:""))){return true}Aa=u.data(G)||(z&&(z.charAt(z.length-1)=="#"||z.indexOf("#"+v.element[0].id+"-")!=-1));y=!z||Aa;if(v.tabGroup.children("[data-animating]").length){return y}if(v.trigger(F,{item:Ab[0],contentElement:w[0]})){return true}if(y===false){return}if(x&&Ab.is("."+d)){v.deactivateTab(Ab);return true}if(v.activateTab(Ab)){y=true}return y},_scrollable:function(){var v=this,x=v.options,y,z,u,w;if(v._scrollableAllowed()){v.wrapper.addClass("k-tabstrip-scrollable");y=v.wrapper[0].offsetWidth;z=v.tabGroup[0].scrollWidth;if(z>y&&!v._scrollableModeActive){v._nowScrollingTabs=false;v._isRtl=S.support.isRtl(v.element);v.wrapper.append(p("prev","k-i-arrow-w")+p("next","k-i-arrow-e"));u=v._scrollPrevButton=v.wrapper.children(".k-tabstrip-prev");w=v._scrollNextButton=v.wrapper.children(".k-tabstrip-next");v.tabGroup.css({marginLeft:u.outerWidth()+9,marginRight:w.outerWidth()+12});u.on("mousedown"+s,function(){v._nowScrollingTabs=true;v._scrollTabsByDelta(x.scrollable.distance*(v._isRtl?1:-1))});w.on("mousedown"+s,function(){v._nowScrollingTabs=true;v._scrollTabsByDelta(x.scrollable.distance*(v._isRtl?-1:1))});u.add(w).on("mouseup"+s,function(){v._nowScrollingTabs=false});v._scrollableModeActive=true;v._toggleScrollButtons()}else{if(v._scrollableModeActive&&z<=y){v._scrollableModeActive=false;v._scrollPrevButton.off().remove();v._scrollNextButton.off().remove();v.tabGroup.css({marginLeft:"",marginRight:""})}}}},_scrollableAllowed:function(){var u=this.options;return u.scrollable&&!isNaN(u.scrollable.distance)&&(u.tabPosition=="top"||u.tabPosition=="bottom")},_scrollTabsToItem:function(Ac){var x=this,z=x.tabGroup,v=z.scrollLeft(),Aa=Ac.outerWidth(),Ab=x._isRtl?Ac.position().left:Ac.position().left-z.children().first().position().left,u=z[0].offsetWidth,y=Math.ceil(parseFloat(z.css("padding-left"))),w;if(x._isRtl){if(Ab<0){w=v+Ab-(u-v)-y}else{if(Ab+Aa>u){w=v+Ab-Aa+y*2}}}else{if(v+u<Ab+Aa){w=Ab+Aa-u+y*2}else{if(v>Ab){w=Ab-y}}}z.finish().animate({"scrollLeft":w},"fast","linear",function(){x._toggleScrollButtons()})},_scrollTabsByDelta:function(v){var w=this;var x=w.tabGroup;var u=x.scrollLeft();x.finish().animate({"scrollLeft":u+v},"fast","linear",function(){if(w._nowScrollingTabs){w._scrollTabsByDelta(v)}else{w._toggleScrollButtons()}})},_toggleScrollButtons:function(){var u=this,v=u.tabGroup,w=v.scrollLeft();u._scrollPrevButton.toggle(u._isRtl?w<v[0].scrollWidth-v[0].offsetWidth-1:w!==0);u._scrollNextButton.toggle(u._isRtl?w!==0:w<v[0].scrollWidth-v[0].offsetWidth-1)},deactivateTab:function(w){var v=this,x=v.options.animation,u=x.open,z=r({},x.close),y=z&&"effects" in z;w=v.tabGroup.find(w);z=r(y?z:r({reverse:true},u),{hide:true});if(S.size(u.effects)){w.kendoAddClass(K,{duration:u.duration});w.kendoRemoveClass(d,{duration:u.duration})}else{w.addClass(K);w.removeClass(d)}w.removeAttr("aria-selected");v.contentAnimators.filter("."+d).kendoStop(true,true).kendoAnimate(z).removeClass(d).attr("aria-hidden",true)},activateTab:function(Aj){if(this.tabGroup.children("[data-animating]").length){return}Aj=this.tabGroup.find(Aj);var Ab=this,x=Ab.options.animation,Ai=x.open,z=r({},x.close),y=z&&"effects" in z,w=Aj.parent().children(),Ad=w.filter("."+d),Aa=w.index(Aj);z=r(y?z:r({reverse:true},Ai),{hide:true});if(S.size(Ai.effects)){Ad.kendoRemoveClass(d,{duration:z.duration});Aj.kendoRemoveClass(C,{duration:z.duration})}else{Ad.removeClass(d);Aj.removeClass(C)}var v=Ab.contentAnimators;if(Ab.inRequest){Ab.xhr.abort();Ab.inRequest=false}if(v.length===0){Ab.tabGroup.find("."+k).removeClass(k);Aj.addClass(k).css("z-index");Aj.addClass(d);Ab._current(Aj);Ab.trigger("change");if(Ab._scrollableModeActive){Ab._scrollTabsToItem(Aj)}return false}var u=v.filter("."+d),Ac=Ab.contentHolder(Aa),Ag=Ac.closest(".k-content");Ab.tabsHeight=Ab.tabGroup.outerHeight()+parseInt(Ab.wrapper.css("border-top-width"),10)+parseInt(Ab.wrapper.css("border-bottom-width"),10);Ab._sizeScrollWrap(u);if(Ac.length===0){u.removeClass(d).attr("aria-hidden",true).kendoStop(true,true).kendoAnimate(z);return false}Aj.attr("data-animating",true);var Ah=(Aj.children("."+f).data(G)||false)&&Ac.is(V),Af=function(){Ab.tabGroup.find("."+k).removeClass(k);Aj.addClass(k).css("z-index");if(S.size(Ai.effects)){Ad.kendoAddClass(K,{duration:Ai.duration});Aj.kendoAddClass(d,{duration:Ai.duration})}else{Ad.addClass(K);Aj.addClass(d)}Ad.removeAttr("aria-selected");Aj.attr("aria-selected",true);Ab._current(Aj);Ab._sizeScrollWrap(Ag);Ag.addClass(d).removeAttr("aria-hidden").kendoStop(true,true).attr("aria-expanded",true).kendoAnimate(r({init:function(){Ab.trigger(A,{item:Aj[0],contentElement:Ac[0]});S.resize(Ac)}},Ai,{complete:function(){Aj.removeAttr("data-animating");Ab.trigger(m,{item:Aj[0],contentElement:Ac[0]});S.resize(Ac);Ab.scrollWrap.css("height","").css("height")}}))},Ae=function(){if(!Ah){Af();Ab.trigger("change")}else{Aj.removeAttr("data-animating");Ab.ajaxRequest(Aj,Ac,function(){Aj.attr("data-animating",true);Af();Ab.trigger("change")})}if(Ab._scrollableModeActive){Ab._scrollTabsToItem(Aj)}};u.removeClass(d);u.attr("aria-hidden",true);u.attr("aria-expanded",false);if(u.length){u.kendoStop(true,true).kendoAnimate(r({complete:Ae},z))}else{Ae()}return true},contentElement:function(w){if(isNaN(w-0)){return c}var v=this.contentElements&&this.contentElements[0]&&!S.kineticScrollNeeded?this.contentElements:this.contentAnimators;w=v&&w<0?v.length+w:w;var y=new RegExp("-"+(w+1)+"$");if(v){for(var u=0,x=v.length;u<x;u++){if(y.test(v.eq(u).closest(".k-content")[0].id)){return v[u]}}}return c},contentHolder:function(v){var w=Z(this.contentElement(v)),u=w.children(".km-scroll-container");return S.support.touch&&u[0]?u:w},ajaxRequest:function(v,Ag,Ac,Ad){v=this.tabGroup.find(v);var Ab=this,x=Z.ajaxSettings.xhr,Af=v.find("."+f),u={},Aa=v.width()/2,Ae=false,z=v.find(".k-loading").removeClass("k-complete");if(!z[0]){z=Z("<span class='k-loading'/>").prependTo(v)}var w=Aa*2-z.width();var y=function(){z.animate({marginLeft:(parseInt(z.css("marginLeft"),10)||0)<Aa?w:0},500,y)};if(S.support.browser.msie&&S.support.browser.version<10){setTimeout(y,40)}Ad=Ad||Af.data(G)||Af.attr(B);Ab.inRequest=true;Ab.xhr=Z.ajax({type:"GET",cache:false,url:Ad,dataType:"html",data:u,xhr:function(){var Ai=this,Ah=x(),Aj=Ai.progressUpload?"progressUpload":Ai.progress?"progress":false;if(Ah){Z.each([Ah,Ah.upload],function(){if(this.addEventListener){this.addEventListener("progress",function(Ak){if(Aj){Ai[Aj](Ak)}},false)}})}Ai.noProgress=!(window.XMLHttpRequest&&("upload" in new XMLHttpRequest()));return Ah},progress:function(Ai){if(Ai.lengthComputable){var Ah=parseInt((Ai.loaded/Ai.total*100),10)+"%";z.stop(true).addClass("k-progress").css({"width":Ah,"marginLeft":0})}},error:function(Ai,Ah){if(Ab.trigger("error",{xhr:Ai,status:Ah})){this.complete()}},stopProgress:function(){clearInterval(Ae);z.stop(true).addClass("k-progress")[0].style.cssText=""},complete:function(Ah){Ab.inRequest=false;if(this.noProgress){setTimeout(this.stopProgress,500)}else{this.stopProgress()}if(Ah.statusText=="abort"){z.remove()}},success:function(Al){z.addClass("k-complete");try{var Aj=this,Ak=10;if(Aj.noProgress){z.width(Ak+"%");Ae=setInterval(function(){Aj.progress({lengthComputable:true,loaded:Math.min(Ak,100),total:100});Ak+=10},40)}Ab.angular("cleanup",function(){return{elements:Ag.get()}});S.destroy(Ag);Ag.html(Al)}catch(Ai){var Ah=window.console;if(Ah&&Ah.error){Ah.error(Ai.name+": "+Ai.message+" in "+Ad)}this.error(this.xhr,"error")}if(Ac){Ac.call(Ab,Ag)}Ab.angular("compile",function(){return{elements:Ag.get()}});Ab.trigger(o,{item:v[0],contentElement:Ag[0]})}})}});r(M,{renderItem:function(v){v=r({tabStrip:{},group:{}},v);var w=t.empty,u=v.item;return t.item(r(v,{image:u.imageUrl?t.image:w,sprite:u.spriteCssClass?t.sprite:w,itemWrapper:t.itemWrapper},H))},renderContent:function(u){return t.content(r(u,H))}});S.ui.plugin(M)})(window.kendo.jQuery);(function(e,f){var U=window.kendo,S=U.keys,A=U.parseDate,Y=U._activeElement,s=U._extractFormat,w=U.support,D=w.browser,n=U.ui,P=n.Widget,N="open",Q="close",O="change",L=".kendoTimePicker",W="click"+L,m="k-state-default",K="disabled",G="readonly",j="li",p="<span/>",B="k-state-focused",h="k-state-hover",l="mouseenter"+L+" mouseleave"+L,k="mousedown"+L,Z=60000,F=86400000,J="k-state-selected",X="k-state-disabled",t="aria-selected",q="aria-expanded",M="aria-hidden",V="aria-disabled",o="aria-readonly",R="aria-activedescendant",H="id",v=e.isArray,a=e.extend,x=e.proxy,T=Date,r=new T();r=new T(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0);var E=function(z){var y=this,Aa=z.id;y.options=z;y.ul=e('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:w.kineticScrollNeeded?"":"auto"}).on(W,j,x(y._click,y)).on("mouseenter"+L,j,function(){e(this).addClass(h)}).on("mouseleave"+L,j,function(){e(this).removeClass(h)});y.list=e("<div class='k-list-container'/>").append(y.ul).on(k,C);if(Aa){y._timeViewID=Aa+"_timeview";y._optionID=Aa+"_option_selected";y.ul.attr(H,y._timeViewID)}y._popup();y._heightHandler=x(y._height,y);y.template=U.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:false})};E.prototype={current:function(y){var z=this,Aa=z.options.active;if(y!==f){if(z._current){z._current.removeClass(J).removeAttr(t).removeAttr(H)}if(y){y=e(y).addClass(J).attr(H,z._optionID).attr(t,true);z.scroll(y[0])}z._current=y;if(Aa){Aa(y)}}else{return z._current}},close:function(){this.popup.close()},destroy:function(){var y=this;y.ul.off(L);y.list.off(L);if(y._touchScroller){y._touchScroller.destroy()}y.popup.destroy()},open:function(){var y=this;if(!y.ul[0].firstChild){y.bind()}y.popup.open();if(y._current){y.scroll(y._current[0])}},dataBind:function(Ad){var Af=this,Ac=Af.options,z=Ac.format,Ae=U.toString,y=Af.template,Ab=Ad.length,Aa=0,Ah,Ag="";for(;Aa<Ab;Aa++){Ah=Ad[Aa];if(u(Ah,Ac.min,Ac.max)){Ag+=y(Ae(Ah,z,Ac.culture))}}Af._html(Ag)},refresh:function(){var Am=this,Ak=Am.options,Aj=Ak.format,Ab=d(),Ae=Ab<0,Ad=Ak.min,Ah=Ak.max,Ai=b(Ad),Ao=b(Ah),Ag=Ak.interval*Z,Ac=U.toString,Aq=Am.template,Ap=new T(+Ad),Aa=Ap.getDate(),z,Al,An=0,y,Af="";if(Ae){y=(F+(Ab*Z))/Ag}else{y=F/Ag}if(Ai!=Ao){if(Ai>Ao){Ao+=F}y=((Ao-Ai)/Ag)+1}Al=parseInt(y,10);for(;An<y;An++){if(An){g(Ap,Ag,Ae)}if(Ao&&Al==An){z=b(Ap);if(Aa<Ap.getDate()){z+=F}if(z>Ao){Ap=new T(+Ah)}}Af+=Aq(Ac(Ap,Aj,Ak.culture))}Am._html(Af)},bind:function(){var y=this,z=y.options.dates;if(z&&z[0]){y.dataBind(z)}else{y.refresh()}},_html:function(y){var z=this;z.ul[0].innerHTML=y;z.popup.unbind(N,z._heightHandler);z.popup.one(N,z._heightHandler);z.current(null);z.select(z._value)},scroll:function(Ag){if(!Ag){return}var Af=this.ul[0],z=Ag.offsetTop,Ab=Ag.offsetHeight,Ac=Af.scrollTop,Ad=Af.clientHeight,Aa=z+Ab,Ae=this._touchScroller,y;if(Ae){y=this.list.height();if(z>y){z=z-y+Ab}Ae.scrollTo(0,-z)}else{Af.scrollTop=Ac>z?z:Aa>(Ac+Ad)?Aa-Ad:Ac}},select:function(Ab){var y=this,z=y.options,Aa=y._current;if(Ab instanceof Date){Ab=U.toString(Ab,z.format,z.culture)}if(typeof Ab==="string"){if(!Aa||Aa.text()!==Ab){Ab=e.grep(y.ul[0].childNodes,function(Ac){return(Ac.textContent||Ac.innerText)==Ab});Ab=Ab[0]?Ab:null}else{Ab=Aa}}y.current(Ab)},setOptions:function(z){var y=this.options;z.min=A(z.min);z.max=A(z.max);this.options=a(y,z,{active:y.active,change:y.change,close:y.close,open:y.open});this.bind()},toggle:function(){var y=this;if(y.popup.visible()){y.close()}else{y.open()}},value:function(z){var y=this;y._value=z;if(y.ul[0].firstChild){y.select(z)}},_click:function(y){var z=this,Ab=e(y.currentTarget),Ac=Ab.text(),Aa=z.options.dates;if(Aa&&Aa.length>0){Ac=Aa[Ab.index()]}if(!y.isDefaultPrevented()){z.select(Ab);z.options.change(Ac,true);z.close()}},_height:function(){var z=this;var Aa=z.list;var Ab=Aa.parent(".k-animation-container");var y=z.options.height;if(z.ul[0].children.length){Aa.add(Ab).show().height(z.ul[0].scrollHeight>y?y:"auto").hide()}},_parse:function(Ab){var y=this,z=y.options,Aa=y._value||r;if(Ab instanceof T){return Ab}Ab=A(Ab,z.parseFormats,z.culture);if(Ab){Ab=new T(Aa.getFullYear(),Aa.getMonth(),Aa.getDate(),Ab.getHours(),Ab.getMinutes(),Ab.getSeconds(),Ab.getMilliseconds())}return Ab},_adjustListWidth:function(){var Ab=this.list,Ac=Ab[0].style.width,y=this.options.anchor,z,Aa;if(!Ab.data("width")&&Ac){return}z=window.getComputedStyle?window.getComputedStyle(y[0],null):0;Aa=z?parseFloat(z.width):y.outerWidth();if(z&&(D.mozilla||D.msie)){Aa+=parseFloat(z.paddingLeft)+parseFloat(z.paddingRight)+parseFloat(z.borderLeftWidth)+parseFloat(z.borderRightWidth)}Ac=Aa-(Ab.outerWidth()-Ab.width());Ab.css({fontFamily:y.css("font-family"),width:Ac}).data("width",Ac)},_popup:function(){var y=this,Aa=y.list,z=y.options,Ab=z.anchor;y.popup=new n.Popup(Aa,a(z.popup,{anchor:Ab,open:z.open,close:z.close,animation:z.animation,isRtl:w.isRtl(z.anchor)}));y._touchScroller=U.touchScroller(y.popup.element)},move:function(Aa){var Ab=this,z=Aa.keyCode,Ad=Ab.ul[0],Ac=Ab._current,y=z===S.DOWN;if(z===S.UP||y){if(Aa.altKey){Ab.toggle(y);return}else{if(y){Ac=Ac?Ac[0].nextSibling:Ad.firstChild}else{Ac=Ac?Ac[0].previousSibling:Ad.lastChild}}if(Ac){Ab.select(Ac)}Ab.options.change(Ab._current.text());Aa.preventDefault()}else{if(z===S.ENTER||z===S.TAB||z===S.ESC){Aa.preventDefault();if(Ac){Ab.options.change(Ac.text(),true)}Ab.close()}}}};function g(Ab,Aa,Ac){var y=Ab.getTimezoneOffset(),z;Ab.setTime(Ab.getTime()+Aa);if(!Ac){z=Ab.getTimezoneOffset()-y;Ab.setTime(Ab.getTime()+z*Z)}}function d(){var y=new T(),z=new T(y.getFullYear(),y.getMonth(),y.getDate(),0,0,0),Aa=new T(y.getFullYear(),y.getMonth(),y.getDate(),12,0,0);return -1*(z.getTimezoneOffset()-Aa.getTimezoneOffset())}function b(y){return y.getHours()*60*Z+y.getMinutes()*Z+y.getSeconds()*1000+y.getMilliseconds()}function u(Ab,y,Ad){var Ac=b(y),Aa=b(Ad),z;if(!Ab||Ac==Aa){return true}z=b(Ab);if(Ac>z){z+=F}if(Aa<Ac){Aa+=F}return z>=Ac&&z<=Aa}E.getMilliseconds=b;U.TimeView=E;var I=P.extend({init:function(Ad,Ab){var Aa=this,Ac,Ae,y;P.fn.init.call(Aa,Ad,Ab);Ad=Aa.element;Ab=Aa.options;Ab.min=A(Ad.attr("min"))||A(Ab.min);Ab.max=A(Ad.attr("max"))||A(Ab.max);c(Ab);Aa._initialOptions=a({},Ab);Aa._wrapper();Aa.timeView=Ae=new E(a({},Ab,{id:Ad.attr(H),anchor:Aa.wrapper,format:Ab.format,change:function(Af,Ag){if(Ag){Aa._change(Af)}else{Ad.val(Af)}},open:function(Af){Aa.timeView._adjustListWidth();if(Aa.trigger(N)){Af.preventDefault()}else{Ad.attr(q,true);Ac.attr(M,false)}},close:function(Af){if(Aa.trigger(Q)){Af.preventDefault()}else{Ad.attr(q,false);Ac.attr(M,true)}},active:function(Af){Ad.removeAttr(R);if(Af){Ad.attr(R,Ae._optionID)}}}));Ac=Ae.ul;Aa._icon();Aa._reset();try{Ad[0].setAttribute("type","text")}catch(z){Ad[0].type="text"}Ad.addClass("k-input").attr({"role":"combobox","aria-expanded":false,"aria-owns":Ae._timeViewID});y=Ad.is("[disabled]")||e(Aa.element).parents("fieldset").is(":disabled");if(y){Aa.enable(false)}else{Aa.readonly(Ad.is("[readonly]"))}Aa._old=Aa._update(Ab.value||Aa.element.val());Aa._oldText=Ad.val();U.notify(Aa)},options:{name:"TimePicker",min:r,max:r,format:"HH:mm:ss",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{}},events:[N,Q,O],setOptions:function(z){var y=this;var Aa=y._value;P.fn.setOptions.call(y,z);z=y.options;c(z);y.timeView.setOptions(z);if(Aa){y.element.val(U.toString(Aa,z.format,z.culture))}},dataBind:function(y){if(v(y)){this.timeView.dataBind(y)}},_editable:function(Ac){var Aa=this,Ab=Ac.disable,Ae=Ac.readonly,y=Aa._arrow.off(L),Ad=Aa.element.off(L),z=Aa._inputWrapper.off(L);if(!Ae&&!Ab){z.addClass(m).removeClass(X).on(l,Aa._toggleHover);Ad.removeAttr(K).removeAttr(G).attr(V,false).attr(o,false).on("keydown"+L,x(Aa._keydown,Aa)).on("focusout"+L,x(Aa._blur,Aa)).on("focus"+L,function(){Aa._inputWrapper.addClass(B)});y.on(W,x(Aa._click,Aa)).on(k,C)}else{z.addClass(Ab?X:m).removeClass(Ab?m:X);Ad.attr(K,Ab).attr(G,Ae).attr(V,Ab).attr(o,Ae)}},readonly:function(y){this._editable({readonly:y===f?true:y,disable:false})},enable:function(y){this._editable({readonly:false,disable:!(y=y===f?true:y)})},destroy:function(){var y=this;P.fn.destroy.call(y);y.timeView.destroy();y.element.off(L);y._arrow.off(L);y._inputWrapper.off(L);if(y._form){y._form.off("reset",y._resetHandler)}},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(y){return this._option("min",y)},max:function(y){return this._option("max",y)},value:function(z){var y=this;if(z===f){return y._value}y._old=y._update(z);if(y._old===null){y.element.val("")}y._oldText=y.element.val()},_blur:function(){var y=this,z=y.element.val();y.close();if(z!==y._oldText){y._change(z)}y._inputWrapper.removeClass(B)},_click:function(){var y=this,z=y.element;y.timeView.toggle();if(!w.touch&&z[0]!==Y()){z.focus()}},_change:function(z){var y=this;z=y._update(z);if(+y._old!=+z){y._old=z;y._oldText=y.element.val();if(!y._typing){y.element.trigger(O)}y.trigger(O)}y._typing=false},_icon:function(){var z=this,Aa=z.element,y;y=Aa.next("span.k-select");if(!y[0]){y=e('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(Aa)}z._arrow=y.attr({"role":"button","aria-controls":z.timeView._timeViewID})},_keydown:function(z){var Aa=this,y=z.keyCode,Ab=Aa.timeView,Ac=Aa.element.val();if(Ab.popup.visible()||z.altKey){Ab.move(z)}else{if(y===S.ENTER&&Ac!==Aa._oldText){Aa._change(Ac)}else{Aa._typing=true}}},_option:function(y,Ab){var z=this,Aa=z.options;if(Ab===f){return Aa[y]}Ab=z.timeView._parse(Ab);if(!Ab){return}Ab=new T(+Ab);Aa[y]=Ab;z.timeView.options[y]=Ab;z.timeView.bind()},_toggleHover:function(y){e(y.currentTarget).toggleClass(h,y.type==="mouseenter")},_update:function(Ab){var y=this,z=y.options,Aa=y.timeView,Ac=Aa._parse(Ab);if(!u(Ac,z.min,z.max)){Ac=null}y._value=Ac;y.element.val(Ac?U.toString(Ac,z.format,z.culture):Ab);Aa.value(Ac);return Ac},_wrapper:function(){var z=this,Aa=z.element,y;y=Aa.parents(".k-timepicker");if(!y[0]){y=Aa.wrap(p).parent().addClass("k-picker-wrap k-state-default");y=y.wrap(p).parent()}y[0].style.cssText=Aa[0].style.cssText;z.wrapper=y.addClass("k-widget k-timepicker k-header").addClass(Aa[0].className);Aa.css({width:"100%",height:Aa[0].style.height});z._inputWrapper=e(y[0].firstChild)},_reset:function(){var Aa=this,Ab=Aa.element,z=Ab.attr("form"),y=z?e("#"+z):Ab.closest("form");if(y[0]){Aa._resetHandler=function(){Aa.value(Ab[0].defaultValue);Aa.max(Aa._initialOptions.max);Aa.min(Aa._initialOptions.min)};Aa._form=y.on("reset",Aa._resetHandler)}}});function c(z){var y=z.parseFormats;z.format=s(z.format||U.getCulture(z.culture).calendars.standard.patterns.t);y=v(y)?y:[y];y.splice(0,0,z.format);z.parseFormats=y}function C(y){y.preventDefault()}n.plugin(I)})(window.kendo.jQuery);(function(n,p){var Z=window.kendo,Y=Z.Class,W=Z.ui.Widget,Am=n.proxy,B=Z.isFunction,I="k-toolbar",Ad="k-button",h="k-overflow-button",Ae="k-toggle-button",y="k-button-group",M="k-split-button",U="k-separator",q="k-popup",T="k-toolbar-resizable",Q="k-state-active",K="k-state-disabled",m="k-state-hidden",Ac="k-group-start",Al="k-group-end",v="k-primary",V="k-icon",H="k-i-",F="k-button-icon",a="k-button-icontext",k="k-list-container k-split-container",Ag="k-split-button-arrow",Ak="k-overflow-anchor",u="k-overflow-container",R="k-toolbar-first-visible",c="k-toolbar-last-visible",b="click",w="toggle",d="open",X="close",t="overflowOpen",Af="overflowClose",L="never",g="auto",N="always",G="k-overflow-hidden",e=Z.attr("uid"),s=Z.template;var l=Z.Class.extend({addOverflowAttr:function(){this.element.attr(Z.attr("overflow"),this.options.overflow||g)},addUidAttr:function(){this.element.attr(e,this.options.uid)},addIdAttr:function(){if(this.options.id){this.element.attr("id",this.options.id)}},addOverflowIdAttr:function(){if(this.options.id){this.element.attr("id",this.options.id+"_overflow")}},attributes:function(){if(this.options.attributes){this.element.attr(this.options.attributes)}},show:function(){this.element.removeClass(m).show();this.options.hidden=false},hide:function(){this.element.addClass(m).hide();this.options.hidden=true},remove:function(){this.element.remove()},enable:function(An){if(An===p){An=true}this.element.toggleClass(K,!An);this.options.enable=An},twin:function(){var An=this.element.attr(e);if(this.overflow){return this.toolbar.element.find("["+e+"='"+An+"']").data(this.options.type)}else{if(this.toolbar.options.resizable){return this.toolbar.popup.element.find("["+e+"='"+An+"']").data(this.options.type)}}}});var Aa=l.extend({init:function(Ao,Ap){var An=Ao.useButtonTag?n("<button></button>"):n("<a></a>");this.element=An;this.options=Ao;this.toolbar=Ap;this.attributes();if(Ao.primary){An.addClass(v)}if(Ao.togglable){An.addClass(Ae);this.toggle(Ao.selected)}if(Ao.url!==p&&!Ao.useButtonTag){An.attr("href",Ao.url);if(Ao.mobile){An.attr(Z.attr("role"),"button")}}if(Ao.group){An.attr(Z.attr("group"),Ao.group);if((this.overflow&&this.options.overflow===N)||!this.overflow){this.group=this.toolbar.addToGroup(this,Ao.group)}}if(!Ao.togglable&&Ao.click&&B(Ao.click)){this.clickHandler=Ao.click}if(Ao.togglable&&Ao.toggle&&B(Ao.toggle)){this.toggleHandler=Ao.toggle}},toggle:function(Ao,An){Ao=!!Ao;if(this.group&&Ao){this.group.select(this)}else{if(!this.group){this.select(Ao)}}if(An&&this.twin()){this.twin().toggle(Ao)}},getParentGroup:function(){if(this.options.isChild){return this.element.closest("."+y).data("buttonGroup")}},_addGraphics:function(){var As=this.element,Ar=this.options.icon,Aq=this.options.spriteCssClass,At=this.options.imageUrl,An,Ap,Ao;if(Aq||At||Ar){An=true;As.contents().not("span.k-sprite,span."+V+",img.k-image").each(function(Av,Au){if(Au.nodeType==1||Au.nodeType==3&&n.trim(Au.nodeValue).length>0){An=false}});if(An){As.addClass(F)}else{As.addClass(a)}}if(Ar){Ap=As.children("span."+V).first();if(!Ap[0]){Ap=n('<span class="'+V+'"></span>').prependTo(As)}Ap.addClass(H+Ar)}else{if(Aq){Ap=As.children("span.k-sprite").first();if(!Ap[0]){Ap=n('<span class="k-sprite"></span>').prependTo(As)}Ap.addClass(Aq)}else{if(At){Ao=As.children("img.k-image").first();if(!Ao[0]){Ao=n('<img alt="icon" class="k-image" />').prependTo(As)}Ao.attr("src",At)}}}}});var Ab=Aa.extend({init:function(Ao,Ap){Aa.fn.init.call(this,Ao,Ap);var An=this.element;An.addClass(Ad);this.addIdAttr();if(Ao.align){An.addClass("k-align-"+Ao.align)}if(Ao.showText!="overflow"&&Ao.text){if(Ao.mobile){An.html('<span class="km-text">'+Ao.text+"</span>")}else{An.html(Ao.text)}}Ao.hasIcon=(Ao.showIcon!="overflow")&&(Ao.icon||Ao.spriteCssClass||Ao.imageUrl);if(Ao.hasIcon){this._addGraphics()}this.attributes();this.addUidAttr();this.addOverflowAttr();this.enable(Ao.enable);if(Ao.hidden){this.hide()}this.element.data({type:"button",button:this})},select:function(An){if(An===p){An=false}this.element.toggleClass(Q,An);this.options.selected=An}});var S=Aa.extend({init:function(Ao,Ap){this.overflow=true;Aa.fn.init.call(this,Ao,Ap);var An=this.element;An.addClass(h+" "+Ad);if(Ao.showText!="toolbar"&&Ao.text){if(Ao.mobile){An.html('<span class="km-text">'+Ao.text+"</span>")}else{An.html(Ao.text)}}Ao.hasIcon=(Ao.showIcon!="toolbar")&&(Ao.icon||Ao.spriteCssClass||Ao.imageUrl);if(Ao.hasIcon){this._addGraphics()}if(!Ao.isChild){this._wrap()}this.addOverflowIdAttr();this.attributes();this.addUidAttr();this.addOverflowAttr();this.enable(Ao.enable);if(Ao.hidden){this.hide()}this.element.data({type:"button",button:this})},_wrap:function(){this.element=this.element.wrap("<li></li>").parent()},overflowHidden:function(){this.element.addClass(G)},select:function(An){if(An===p){An=false}if(this.options.isChild){this.element.toggleClass(Q,An)}else{this.element.find(".k-button").toggleClass(Q,An)}this.options.selected=An}});var z=l.extend({createButtons:function(An){var Aq=this.options;var Ar=Aq.buttons||[];var Ap;for(var Ao=0;Ao<Ar.length;Ao++){if(!Ar[Ao].uid){Ar[Ao].uid=Z.guid()}Ap=new An(n.extend({mobile:Aq.mobile,isChild:true,type:"button"},Ar[Ao]),this.toolbar);Ap.element.appendTo(this.element)}},refresh:function(){this.element.children().filter(":not('."+m+"'):first").addClass(Ac);this.element.children().filter(":not('."+m+"'):last").addClass(Al)}});var f=z.extend({init:function(Ao,Ap){var An=this.element=n("<div></div>");this.options=Ao;this.toolbar=Ap;this.addIdAttr();if(Ao.align){An.addClass("k-align-"+Ao.align)}this.createButtons(Ab);this.attributes();this.addUidAttr();this.addOverflowAttr();this.refresh();An.addClass(y);this.element.data({type:"buttonGroup",buttonGroup:this})}});var Ah=z.extend({init:function(Ao,Ap){var An=this.element=n("<li></li>");this.options=Ao;this.toolbar=Ap;this.overflow=true;this.addOverflowIdAttr();this.createButtons(S);this.attributes();this.addUidAttr();this.addOverflowAttr();this.refresh();An.addClass((Ao.mobile?"":y)+" k-overflow-group");this.element.data({type:"buttonGroup",buttonGroup:this})},overflowHidden:function(){this.element.addClass(G)}});var O=l.extend({init:function(Ao,Ap){var An=this.element=n('<div class="'+M+'"></div>');this.options=Ao;this.toolbar=Ap;this.mainButton=new Ab(Ao,Ap);this.arrowButton=n('<a class="'+Ad+" "+Ag+'"><span class="'+(Ao.mobile?"km-icon km-arrowdown":"k-icon k-i-arrow-s")+'"></span></a>');this.popupElement=n('<ul class="'+k+'"></ul>');this.mainButton.element.appendTo(An);this.arrowButton.appendTo(An);this.popupElement.appendTo(An);if(Ao.align){An.addClass("k-align-"+Ao.align)}if(!Ao.id){Ao.id=Ao.uid}An.attr("id",Ao.id+"_wrapper");this.addOverflowAttr();this.addUidAttr();this.createMenuButtons();this.createPopup();this.mainButton.main=true;An.data({type:"splitButton",splitButton:this,kendoPopup:this.popup})},createMenuButtons:function(){var Ap=this.options;var Aq=Ap.menuButtons;var Ao;for(var An=0;An<Aq.length;An++){Ao=new Ab(n.extend({mobile:Ap.mobile,type:"button",click:Ap.click},Aq[An]),this.toolbar);Ao.element.wrap("<li></li>").parent().appendTo(this.popupElement)}},createPopup:function(){var An=this.options;var Ao=this.element;this.popupElement.attr("id",An.id+"_optionlist").attr(e,An.rootUid);if(An.mobile){this.popupElement=r(this.popupElement)}this.popup=this.popupElement.kendoPopup({appendTo:An.mobile?n(An.mobile).children(".km-pane"):null,anchor:Ao,copyAnchorStyles:false,animation:An.animation,open:E}).data("kendoPopup")},remove:function(){this.popup.destroy();this.element.remove()},toggle:function(){this.popup.toggle()},enable:function(An){if(An===p){An=true}this.mainButton.enable(An);this.options.enable=An}});var C=l.extend({init:function(Aq,As){var Ao=this.element=n('<li class="'+M+'"></li>'),Ar=Aq.menuButtons,Ap;this.options=Aq;this.toolbar=As;this.overflow=true;this.mainButton=new S(n.extend({isChild:true},Aq));this.mainButton.element.appendTo(Ao);for(var An=0;An<Ar.length;An++){Ap=new S(n.extend({mobile:Aq.mobile,isChild:true},Ar[An]),this.toolbar);Ap.element.appendTo(Ao)}this.addUidAttr();this.addOverflowAttr();this.mainButton.main=true;Ao.data({type:"splitButton",splitButton:this})},overflowHidden:function(){this.element.addClass(G)}});var J=l.extend({init:function(Ao,Ap){var An=this.element=n("<div>&nbsp;</div>");this.element=An;this.options=Ao;this.toolbar=Ap;this.attributes();this.addIdAttr();this.addUidAttr();this.addOverflowAttr();An.addClass(U);An.data({type:"separator",separator:this})}});var j=l.extend({init:function(Ao,Ap){var An=this.element=n("<li>&nbsp;</li>");this.element=An;this.options=Ao;this.toolbar=Ap;this.overflow=true;this.attributes();this.addUidAttr();this.addOverflowIdAttr();An.addClass(U);An.data({type:"separator",separator:this})},overflowHidden:function(){this.element.addClass(G)}});var A=l.extend({init:function(Ap,Ao,Aq){var An=B(Ap)?Ap(Ao):Ap;if(!(An instanceof jQuery)){An=n("<div></div>").html(An)}else{An=An.wrap("<div></div>").parent()}this.element=An;this.options=Ao;this.options.type="template";this.toolbar=Aq;this.attributes();this.addUidAttr();this.addIdAttr();this.addOverflowAttr();An.data({type:"template",template:this})}});var P=l.extend({init:function(Ap,Ao,Aq){var An=B(Ap)?n(Ap(Ao)):n(Ap);if(!(An instanceof jQuery)){An=n("<li></li>").html(An)}else{An=An.wrap("<li></li>").parent()}this.element=An;this.options=Ao;this.options.type="template";this.toolbar=Aq;this.overflow=true;this.attributes();this.addUidAttr();this.addOverflowIdAttr();this.addOverflowAttr();An.data({type:"template",template:this})},overflowHidden:function(){this.element.addClass(G)}});function E(An){var Aq=this.options.anchor,Ap=Aq.outerWidth(),Ao;Z.wrap(this.element).addClass("k-split-wrapper");if(this.element.css("box-sizing")!=="border-box"){Ao=Ap-(this.element.outerWidth()-this.element.width())}else{Ao=Ap}this.element.css({fontFamily:Aq.css("font-family"),"min-width":Ao})}function Aj(An){if(!An.target.is(".k-toggle-button")){An.target.toggleClass(Q,An.type=="press")}}function r(An){An=n(An);return An.hasClass("km-actionsheet")?An.closest(".km-popup-wrapper"):An.addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"></div>').parent().wrap('<div class="km-popup-wrapper k-popup"></div>').parent()}function Ai(An){An.preventDefault()}var x={button:{toolbar:Ab,overflow:S},buttonGroup:{toolbar:f,overflow:Ah},splitButton:{toolbar:O,overflow:C},separator:{toolbar:J,overflow:j},overflowAnchor:'<div class="k-overflow-anchor"></div>',overflowContainer:'<ul class="k-overflow-container k-list-container"></ul>'};var o=Y.extend({init:function(An){this.name=An;this.buttons=[]},add:function(An){this.buttons[this.buttons.length]=An},remove:function(An){var Ao=n.inArray(An,this.buttons);this.buttons.splice(Ao,1)},select:function(An){for(var Ao=0;Ao<this.buttons.length;Ao++){this.buttons[Ao].select(false)}An.select(true)}});var D=W.extend({init:function(Aq,Ap){var Ao=this;W.fn.init.call(Ao,Aq,Ap);Ap=Ao.options;Aq=Ao.wrapper=Ao.element;Aq.addClass(I+" k-widget");this.uid=Z.guid();this._groups={};Aq.attr(e,this.uid);Ao.isMobile=(typeof Ap.mobile==="boolean")?Ap.mobile:Ao.element.closest(".km-root")[0];Ao.animation=Ao.isMobile?{open:{effects:"fade"}}:{};if(Ao.isMobile){Aq.addClass("km-widget");V="km-icon";H="km-";Ad="km-button";y="km-buttongroup km-widget";Q="km-state-active";K="km-state-disabled"}if(Ap.resizable){Ao._renderOverflow();Aq.addClass(T);Ao.overflowUserEvents=new Z.UserEvents(Ao.element,{threshold:5,allowSelection:true,filter:"."+Ak,tap:Am(Ao._toggleOverflow,Ao)});Ao._resizeHandler=Z.onResize(function(){Ao.resize()})}else{Ao.popup={element:n([])}}if(Ap.items&&Ap.items.length){for(var An=0;An<Ap.items.length;An++){Ao.add(Ap.items[An])}}Ao.userEvents=new Z.UserEvents(document,{threshold:5,allowSelection:true,filter:"["+e+"="+this.uid+"] ."+Ad+", ["+e+"="+this.uid+"] ."+h,tap:Am(Ao._buttonClick,Ao),press:Aj,release:Aj});Ao.element.on(b,"."+K,Ai);if(Ap.resizable){Ao.popup.element.on(b,+"."+K,Ai)}if(Ap.resizable){this._toggleOverflowAnchor()}Z.notify(Ao)},events:[b,w,d,X,t,Af],options:{name:"ToolBar",items:[],resizable:true,mobile:null},addToGroup:function(Ao,An){var Ap;if(!this._groups[An]){Ap=this._groups[An]=new o()}else{Ap=this._groups[An]}Ap.add(Ao);return Ap},destroy:function(){var An=this;An.element.find("."+M).each(function(Ao,Ap){n(Ap).data("kendoPopup").destroy()});An.userEvents.destroy();if(An.options.resizable){Z.unbindResize(An._resizeHandler);An.overflowUserEvents.destroy();An.popup.destroy()}W.fn.destroy.call(An)},add:function(Ar){var Ao=x[Ar.type],An=Ar.template,As,Aq=this,Au=Aq.isMobile?"":"k-item k-state-default",Ap=Ar.overflowTemplate,At;n.extend(Ar,{uid:Z.guid(),animation:Aq.animation,mobile:Aq.isMobile,rootUid:Aq.uid});if(An&&!Ap){Ar.overflow=L}else{if(!Ar.overflow){Ar.overflow=g}}if(Ar.overflow!==L&&Aq.options.resizable){if(Ap){At=new P(Ap,Ar,Aq)}else{if(Ao){At=new Ao.overflow(Ar,Aq);At.element.addClass(Au)}}if(At){if(Ar.overflow===g){At.overflowHidden()}At.element.appendTo(Aq.popup.container);Aq.angular("compile",function(){return{elements:At.element.get()}})}}if(Ar.overflow!==N){if(An){As=new A(An,Ar,Aq)}else{if(Ao){As=new Ao.toolbar(Ar,Aq)}}if(As){if(Aq.options.resizable){As.element.appendTo(Aq.element).css("visibility","hidden");Aq._shrink(Aq.element.innerWidth());As.element.css("visibility","visible")}else{As.element.appendTo(Aq.element)}Aq.angular("compile",function(){return{elements:As.element.get()}})}}},_getItem:function(An){var As,At,Ao,Ap=this.options.resizable,Ar,Aq;As=this.element.find(An);Ar=As.length?As.data("type"):"";At=As.data(Ar);if(At&&At.main){As=As.parent("."+M);Ar="splitButton";At=As.data(Ar)}if(!As.length&&Ap){As=this.popup.element.find(An);Ar=As.data("type");Ao=As.data(Ar)}if(Ao&&Ao.main){As=As.parent("."+M);Ar="splitButton";Ao=As.data(Ar)}if(At&&Ap){Ao=At.twin()}return{type:Ar,toolbar:At,overflow:Ao}},remove:function(An){var Ao=this._getItem(An);if(Ao.toolbar){Ao.toolbar.remove()}if(Ao.overflow){Ao.overflow.remove()}this.resize(true)},hide:function(An){var Ao=this._getItem(An);if(Ao.toolbar){Ao.toolbar.hide();if(Ao.toolbar.options.type==="button"&&Ao.toolbar.options.isChild){Ao.toolbar.getParentGroup().refresh()}}if(Ao.overflow){Ao.overflow.hide();if(Ao.overflow.options.type==="button"&&Ao.overflow.options.isChild){Ao.overflow.getParentGroup().refresh()}}this.resize(true)},show:function(An){var Ao=this._getItem(An);if(Ao.toolbar){Ao.toolbar.show();if(Ao.toolbar.options.type==="button"&&Ao.toolbar.options.isChild){Ao.toolbar.getParentGroup().refresh()}}if(Ao.overflow){Ao.overflow.show();if(Ao.overflow.options.type==="button"&&Ao.overflow.options.isChild){Ao.overflow.getParentGroup().refresh()}}this.resize(true)},enable:function(Ao,Ap){var An=this._getItem(Ao);if(typeof Ap=="undefined"){Ap=true}if(An.toolbar){An.toolbar.enable(Ap)}if(An.overflow){An.overflow.enable(Ap)}},getSelectedFromGroup:function(An){return this.element.find("."+Ae+"[data-group='"+An+"']").filter("."+Q)},toggle:function(An,Ap){var Aq=n(An),Ao=Aq.data("button");if(Ao.options.togglable){Ao.toggle(Ap?Ap:!Ao.options.selectable,true)}},_renderOverflow:function(){var An=this,Ao=x.overflowContainer;An.overflowAnchor=n(x.overflowAnchor).addClass(Ad);An.element.append(An.overflowAnchor);if(An.isMobile){An.overflowAnchor.append('<span class="km-icon km-more"></span>');Ao=r(Ao)}else{An.overflowAnchor.append('<span class="k-icon k-i-more"></span>')}An.popup=new Z.ui.Popup(Ao,{origin:"bottom right",position:"top right",anchor:An.overflowAnchor,animation:An.animation,appendTo:An.isMobile?n(An.isMobile).children(".km-pane"):null,copyAnchorStyles:false,open:function(Ap){var Aq=Z.wrap(An.popup.element).addClass("k-overflow-wrapper");if(!An.isMobile){Aq.css("margin-left",(Aq.outerWidth()-Aq.width())/2+1)}else{An.popup.container.css("max-height",(parseFloat(n(".km-content:visible").innerHeight())-15)+"px")}if(An.trigger(t)){Ap.preventDefault()}},close:function(Ap){if(An.trigger(Af)){Ap.preventDefault()}}});if(An.isMobile){An.popup.container=An.popup.element.find("."+u)}else{An.popup.container=An.popup.element}An.popup.container.attr(e,this.uid);An.popup.element.toggleClass("k-rtl",Z.support.isRtl(An.element))},_toggleOverflowAnchor:function(){if(this.popup.element.children(":not(."+G+", ."+q+")").length>0){this.overflowAnchor.css({visibility:"visible",width:""})}else{this.overflowAnchor.css({visibility:"hidden",width:"1px"})}},_buttonClick:function(An){var Ar=this,Au,At,Aw,Ap,Av,Aq=An.target.closest("."+Ag).length,As,Ao;An.preventDefault();if(Aq){Ar._toggle(An);return}At=n(An.target).closest("."+Ad,Ar.element);if(At.hasClass(Ak)){return}Aw=At.data("button");if(!Aw&&Ar.popup){At=n(An.target).closest("."+h,Ar.popup.container);Aw=At.parent("li").data("button")}if(!Aw.options.enable){return}if(Aw.options.togglable){As=B(Aw.toggleHandler)?Aw.toggleHandler:null;Aw.toggle(!Aw.options.selected,true);Ao={target:At,group:Aw.options.group,checked:Aw.options.selected,id:Aw.options.id};if(As){As.call(Ar,Ao)}Ar.trigger(w,Ao)}else{As=B(Aw.clickHandler)?Aw.clickHandler:null;Ao={target:At,id:Aw.options.id};if(As){As.call(Ar,Ao)}Ar.trigger(b,Ao)}if(At.hasClass(h)){Ar.popup.close()}Ap=At.closest(".k-split-container");if(Ap[0]){Au=Ap.data("kendoPopup");(Au?Au:Ap.parents(".km-popup-wrapper").data("kendoPopup")).close()}},_toggle:function(Ao){var An=n(Ao.target).closest("."+M).data("splitButton"),Ap;Ao.preventDefault();if(!An.options.enable){return}if(An.popup.element.is(":visible")){Ap=this.trigger(X,{target:An.element})}else{Ap=this.trigger(d,{target:An.element})}if(!Ap){An.toggle()}},_toggleOverflow:function(){this.popup.toggle()},_resize:function(An){var Ao=An.width;if(!this.options.resizable){return}this.popup.close();this._shrink(Ao);this._stretch(Ao);this._markVisibles();this._toggleOverflowAnchor()},_childrenWidth:function(){var An=0;this.element.children(":visible:not('."+m+"')").each(function(){An+=n(this).outerWidth(true)});return Math.ceil(An)},_shrink:function(Ao){var Ap,Aq;if(Ao<this._childrenWidth()){Aq=this.element.children(":visible:not([data-overflow='never'], ."+Ak+")");for(var An=Aq.length-1;An>=0;An--){Ap=Aq.eq(An);if(Ao>this._childrenWidth()){break}else{this._hideItem(Ap)}}}},_stretch:function(Ap){var Aq,Ao;if(Ap>this._childrenWidth()){Ao=this.element.children(":hidden:not('."+m+"')");for(var An=0;An<Ao.length;An++){Aq=Ao.eq(An);if(Ap<this._childrenWidth()||!this._showItem(Aq,Ap)){break}}}},_hideItem:function(An){An.hide();if(this.popup){this.popup.container.find(">li[data-uid='"+An.data("uid")+"']").removeClass(G)}},_showItem:function(Ao,An){if(Ao.length&&An>this._childrenWidth()+Ao.outerWidth(true)){Ao.show();if(this.popup){this.popup.container.find(">li[data-uid='"+Ao.data("uid")+"']").addClass(G)}return true}return false},_markVisibles:function(){var Aq=this.popup.container.children(),An=this.element.children(":not(.k-overflow-anchor)"),Ap=Aq.filter(":not(.k-overflow-hidden)"),Ao=An.filter(":visible");Aq.add(An).removeClass(R+" "+c);Ap.first().add(Ao.first()).addClass(R);Ap.last().add(Ao.last()).addClass(c)}});Z.ui.plugin(D)})(window.kendo.jQuery);(function(f,g){var V=window.kendo,M=V.TimeView,A=V.parseDate,Z=V._activeElement,p=V._extractFormat,d=V.calendar,e=d.isInRange,r=d.restrictValue,D=d.isEqualDatePart,j=M.getMilliseconds,m=V.ui,P=m.Widget,Y="open",Q="close",a="change",F=".kendoDateTimePicker",X="click"+F,I="disabled",H="readonly",t="k-state-default",B="k-state-focused",h="k-state-hover",K="k-state-disabled",T="mouseenter"+F+" mouseleave"+F,k="mousedown"+F,G="month",o="<span/>",S="aria-activedescendant",l="aria-expanded",N="aria-hidden",E="aria-owns",W="aria-disabled",n="aria-readonly",U=Date,O=new U(1800,0,1),b=new U(2099,11,31),q={view:"date"},R={view:"time"},s=f.extend;var J=P.extend({init:function(y,x){var w=this,u;P.fn.init.call(w,y,x);y=w.element;x=w.options;x.min=A(y.attr("min"))||A(x.min);x.max=A(y.attr("max"))||A(x.max);c(x);w._initialOptions=s({},x);w._wrapper();w._views();w._icons();w._reset();w._template();try{y[0].setAttribute("type","text")}catch(v){y[0].type="text"}y.addClass("k-input").attr({"role":"combobox","aria-expanded":false});w._midnight=w._calculateMidnight(x.min,x.max);u=y.is("[disabled]")||f(w.element).parents("fieldset").is(":disabled");if(u){w.enable(false)}else{w.readonly(y.is("[readonly]"))}w._old=w._update(x.value||w.element.val());w._oldText=y.val();V.notify(w)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],min:new U(O),max:new U(b),interval:30,height:200,footer:"",start:G,depth:G,animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "d")#'},events:[Y,Q,a],setOptions:function(Aa){var z=this,y=z._value,Ab=z.dateView.options,w=z.timeView.options,u,v,x;P.fn.setOptions.call(z,Aa);Aa=z.options;Aa.min=u=A(Aa.min);Aa.max=v=A(Aa.max);c(Aa);z._midnight=z._calculateMidnight(Aa.min,Aa.max);x=Aa.value||z._value||z.dateView._current;if(u&&!D(u,x)){u=new U(O)}if(v&&!D(v,x)){v=new U(b)}z.dateView.setOptions(Aa);z.timeView.setOptions(s({},Aa,{format:Aa.timeFormat,min:u,max:v}));if(y){z.element.val(V.toString(y,Aa.format,Aa.culture));z._updateARIA(y)}},_editable:function(x){var w=this,v=w.element.off(F),u=w._dateIcon.off(F),y=w._timeIcon.off(F),z=w._inputWrapper.off(F),Aa=x.readonly,Ab=x.disable;if(!Aa&&!Ab){z.addClass(t).removeClass(K).on(T,w._toggleHover);v.removeAttr(I).removeAttr(H).attr(W,false).attr(n,false).on("keydown"+F,f.proxy(w._keydown,w)).on("focus"+F,function(){w._inputWrapper.addClass(B)}).on("focusout"+F,function(){w._inputWrapper.removeClass(B);if(v.val()!==w._oldText){w._change(v.val())}w.close("date");w.close("time")});u.on(k,C).on(X,function(){w.toggle("date");if(!V.support.touch&&v[0]!==Z()){v.focus()}});y.on(k,C).on(X,function(){w.toggle("time");if(!V.support.touch&&v[0]!==Z()){v.focus()}})}else{z.addClass(Ab?K:t).removeClass(Ab?t:K);v.attr(I,Ab).attr(H,Aa).attr(W,Ab).attr(n,Aa)}},readonly:function(u){this._editable({readonly:u===g?true:u,disable:false})},enable:function(u){this._editable({readonly:false,disable:!(u=u===g?true:u)})},destroy:function(){var u=this;P.fn.destroy.call(u);u.dateView.destroy();u.timeView.destroy();u.element.off(F);u._dateIcon.off(F);u._timeIcon.off(F);u._inputWrapper.off(F);if(u._form){u._form.off("reset",u._resetHandler)}},close:function(u){if(u!=="time"){u="date"}this[u+"View"].close()},open:function(u){if(u!=="time"){u="date"}this[u+"View"].open()},min:function(u){return this._option("min",u)},max:function(u){return this._option("max",u)},toggle:function(v){var u="timeView";if(v!=="time"){v="date"}else{u="dateView"}this[v+"View"].toggle();this[u].close()},value:function(v){var u=this;if(v===g){return u._value}u._old=u._update(v);if(u._old===null){u.element.val("")}u._oldText=u.element.val()},_change:function(v){var u=this;v=u._update(v);if(+u._old!=+v){u._old=v;u._oldText=u.element.val();u.trigger(a);if(!u._typing){u.element.trigger(a)}}},_option:function(Ac,x){var y=this;var z=y.options;var Ab=y.timeView;var v=Ab.options;var u=y._value||y._old;var w;var Aa;if(x===g){return z[Ac]}x=A(x,z.parseFormats,z.culture);if(!x){return}if(z.min.getTime()===z.max.getTime()){v.dates=[]}z[Ac]=new U(x.getTime());y.dateView[Ac](x);y._midnight=y._calculateMidnight(z.min,z.max);if(u){w=D(z.min,u);Aa=D(z.max,u)}if(w||Aa){v[Ac]=x;if(w&&!Aa){v.max=L(z.interval)}if(Aa){if(y._midnight){Ab.dataBind([b]);return}else{if(!w){v.min=O}}}}else{v.max=b;v.min=O}Ab.bind()},_toggleHover:function(u){f(u.currentTarget).toggleClass(h,u.type==="mouseenter")},_update:function(Ab){var Ae=this,Ad=Ae.options,x=Ad.min,y=Ad.max,Ac=Ad.dates,Af=Ae.timeView,Ag=Ae._value,Ai=A(Ab,Ad.parseFormats,Ad.culture),v=(Ai===null&&Ag===null)||(Ai instanceof Date&&Ag instanceof Date),Ah,Aa,w,z,u;if(+Ai===+Ag&&v){u=V.toString(Ai,Ad.format,Ad.culture);if(u!==Ab){Ae.element.val(Ai===null?Ab:u)}return Ai}if(Ai!==null&&D(Ai,x)){Ai=r(Ai,x,y)}else{if(!e(Ai,x,y)){Ai=null}}Ae._value=Ai;Af.value(Ai);Ae.dateView.value(Ai);if(Ai){w=Ae._old;Aa=Af.options;if(Ac[0]){Ac=f.grep(Ac,function(Aj){return D(Ai,Aj)});if(Ac[0]){Af.dataBind(Ac);z=true}}if(!z){if(D(Ai,x)){Aa.min=x;Aa.max=L(Ad.interval);Ah=true}if(D(Ai,y)){if(Ae._midnight){Af.dataBind([b]);z=true}else{Aa.max=y;if(!Ah){Aa.min=O}Ah=true}}}if(!z&&((!w&&Ah)||(w&&!D(w,Ai)))){if(!Ah){Aa.max=b;Aa.min=O}Af.bind()}}Ae.element.val(Ai?V.toString(Ai,Ad.format,Ad.culture):Ab);Ae._updateARIA(Ai);return Ai},_keydown:function(v){var w=this,u=w.dateView,y=w.timeView,z=w.element.val(),x=u.popup.visible();if(v.altKey&&v.keyCode===V.keys.DOWN){w.toggle(x?"time":"date")}else{if(x){u.move(v);w._updateARIA(u._current)}else{if(y.popup.visible()){y.move(v)}else{if(v.keyCode===V.keys.ENTER&&z!==w._oldText){w._change(z)}else{w._typing=true}}}}},_views:function(){var y=this,v=y.element,z=y.options,Aa=v.attr("id"),u,Ab,Ad,x,Ac,w;y.dateView=u=new V.DateView(s({},z,{id:Aa,anchor:y.wrapper,change:function(){var Ah=u.calendar.value(),Ae=+Ah,Ai=+z.min,Af=+z.max,Ag;if(Ae===Ai||Ae===Af){Ag=new U(+y._value);Ag.setFullYear(Ah.getFullYear(),Ah.getMonth(),Ah.getDate());if(e(Ag,Ai,Af)){Ah=Ag}}y._change(Ah);y.close("date")},close:function(Ae){if(y.trigger(Q,q)){Ae.preventDefault()}else{v.attr(l,false);Ad.attr(N,true);if(!Ab.popup.visible()){v.removeAttr(E)}}},open:function(Ae){if(y.trigger(Y,q)){Ae.preventDefault()}else{if(v.val()!==y._oldText){w=A(v.val(),z.parseFormats,z.culture);y.dateView[w?"current":"value"](w)}Ad.attr(N,false);v.attr(l,true).attr(E,u._dateViewID);y._updateARIA(w)}}}));Ad=u.div;Ac=z.min.getTime();y.timeView=Ab=new M({id:Aa,value:z.value,anchor:y.wrapper,animation:z.animation,format:z.timeFormat,culture:z.culture,height:z.height,interval:z.interval,min:new U(O),max:new U(b),dates:Ac===z.max.getTime()?[new Date(Ac)]:[],parseFormats:z.parseFormats,change:function(Ae,Af){Ae=Ab._parse(Ae);if(Ae<z.min){Ae=new U(+z.min);Ab.options.min=Ae}else{if(Ae>z.max){Ae=new U(+z.max);Ab.options.max=Ae}}if(Af){y._timeSelected=true;y._change(Ae)}else{v.val(V.toString(Ae,z.format,z.culture));u.value(Ae);y._updateARIA(Ae)}},close:function(Ae){if(y.trigger(Q,R)){Ae.preventDefault()}else{x.attr(N,true);v.attr(l,false);if(!u.popup.visible()){v.removeAttr(E)}}},open:function(Ae){Ab._adjustListWidth();if(y.trigger(Y,R)){Ae.preventDefault()}else{if(v.val()!==y._oldText){w=A(v.val(),z.parseFormats,z.culture);y.timeView.value(w)}x.attr(N,false);v.attr(l,true).attr(E,Ab._timeViewID);Ab.options.active(Ab.current())}},active:function(Ae){v.removeAttr(S);if(Ae){v.attr(S,Ab._optionID)}}});x=Ab.ul},_icons:function(){var v=this,w=v.element,u;u=w.next("span.k-select");if(!u[0]){u=f('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(w)}u=u.children();v._dateIcon=u.eq(0).attr({"role":"button","aria-controls":v.dateView._dateViewID});v._timeIcon=u.eq(1).attr({"role":"button","aria-controls":v.timeView._timeViewID})},_wrapper:function(){var v=this,w=v.element,u;u=w.parents(".k-datetimepicker");if(!u[0]){u=w.wrap(o).parent().addClass("k-picker-wrap k-state-default");u=u.wrap(o).parent()}u[0].style.cssText=w[0].style.cssText;w.css({width:"100%",height:w[0].style.height});v.wrapper=u.addClass("k-widget k-datetimepicker k-header").addClass(w[0].className);v._inputWrapper=f(u[0].firstChild)},_reset:function(){var w=this,x=w.element,v=x.attr("form"),u=v?f("#"+v):x.closest("form");if(u[0]){w._resetHandler=function(){w.value(x[0].defaultValue);w.max(w._initialOptions.max);w.min(w._initialOptions.min)};w._form=u.on("reset",w._resetHandler)}},_template:function(){this._ariaTemplate=V.template(this.options.ARIATemplate)},_calculateMidnight:function(u,v){return j(u)+j(v)===0},_updateARIA:function(x){var w;var v=this;var u=v.dateView.calendar;v.element.removeAttr(S);if(u){w=u._cell;w.attr("aria-label",v._ariaTemplate({current:x||u.current()}));v.element.attr(S,w.attr("id"))}}});function L(u){var v=new Date(2100,0,1);v.setMinutes(-u);return v}function C(u){u.preventDefault()}function c(w){var x=V.getCulture(w.culture).calendars.standard.patterns,v=!w.parseFormats.length,u;w.format=p(w.format||x.g);w.timeFormat=u=p(w.timeFormat||x.t);V.DateView.normalize(w);if(v){w.parseFormats.push("yyyy-MM-ddTHH:mm:ss")}if(f.inArray(u,w.parseFormats)===-1){w.parseFormats.splice(1,0,u)}}m.plugin(J)})(window.kendo.jQuery);(function(S,U){var M=window.kendo,Y=M.ui,L=M.keys,f=S.extend,j=S.proxy,I=Y.Widget,R=/^\d+(\.\d+)?px$/i,G=/^\d+(\.\d+)?%$/i,g=".kendoSplitter",D="expand",h="collapse",a="contentLoad",O="error",X="resize",T="layoutChange",C="horizontal",F="vertical",Q="mouseenter",N="click",J="pane",W="mouseleave",B="k-state-focused",d="k-"+J,H="."+d;function V(k){return G.test(k)}function A(k){return R.test(k)||/^\d+$/.test(k)}function e(k){return !V(k)&&!A(k)}function K(k,l){var m=parseInt(k,10);if(V(k)){m=Math.floor(m*l/100)}return m}function P(k,l){return function(m,o){var n=this.element.find(m).data(J);if(arguments.length==1){return n[k]}n[k]=o;if(l){var p=this.element.data("kendo"+this.options.name);p.resize(true)}}}var E=I.extend({init:function(n,m){var l=this,k;I.fn.init.call(l,n,m);l.wrapper=l.element;k=l.options.orientation.toLowerCase()!=F;l.orientation=k?C:F;l._dimension=k?"width":"height";l._keys={decrease:k?L.LEFT:L.UP,increase:k?L.RIGHT:L.DOWN};l._resizeStep=10;l._marker=M.guid().substring(0,8);l._initPanes();l.resizing=new c(l);l.element.triggerHandler("init"+g)},events:[D,h,a,O,X,T],_addOverlays:function(){this._panes().append("<div class='k-splitter-overlay k-overlay' />")},_removeOverlays:function(){this._panes().children(".k-splitter-overlay").remove()},_attachEvents:function(){var l=this,k=l.options.orientation;l.element.children(".k-splitbar-draggable-"+k).on("keydown"+g,j(l._keydown,l)).on("mousedown"+g,function(m){m.currentTarget.focus()}).on("focus"+g,function(m){S(m.currentTarget).addClass(B)}).on("blur"+g,function(m){S(m.currentTarget).removeClass(B);if(l.resizing){l.resizing.end()}}).on(Q+g,function(){S(this).addClass("k-splitbar-"+l.orientation+"-hover")}).on(W+g,function(){S(this).removeClass("k-splitbar-"+l.orientation+"-hover")}).on("mousedown"+g,j(l._addOverlays,l)).end().children(".k-splitbar").on("dblclick"+g,j(l._togglePane,l)).children(".k-collapse-next, .k-collapse-prev").on(N+g,l._arrowClick(h)).end().children(".k-expand-next, .k-expand-prev").on(N+g,l._arrowClick(D)).end().end();S(window).on("resize"+g+l._marker,j(l.resize,l,false)).on("mouseup"+g+l._marker,j(l._removeOverlays,l))},_detachEvents:function(){var k=this;k.element.children(".k-splitbar-draggable-"+k.orientation).off(g).end().children(".k-splitbar").off("dblclick"+g).children(".k-collapse-next, .k-collapse-prev, .k-expand-next, .k-expand-prev").off(g);S(window).off("resize"+g+k._marker)},options:{name:"Splitter",orientation:C,panes:[]},destroy:function(){I.fn.destroy.call(this);this._detachEvents();if(this.resizing){this.resizing.destroy()}M.destroy(this.element);this.wrapper=this.element=null},_keydown:function(k){var m=this,q=k.keyCode,l=m.resizing,p=S(k.currentTarget),n=m._keys,s=q===n.increase,o=q===n.decrease,r;if(s||o){if(k.ctrlKey){r=p[o?"next":"prev"]();if(l&&l.isResizing()){l.end()}if(!r[m._dimension]()){m._triggerAction(D,r)}else{m._triggerAction(h,p[o?"prev":"next"]())}}else{if(l){l.move((o?-1:1)*m._resizeStep,p)}}k.preventDefault()}else{if(q===L.ENTER&&l){l.end();k.preventDefault()}}},_initPanes:function(){var k=this.options.panes||[];var l=this;this.element.addClass("k-widget").addClass("k-splitter").children().each(function(m,n){if(n.nodeName.toLowerCase()!="script"){l._initPane(n,k[m])}});this.resize()},_initPane:function(k,l){k=S(k).attr("role","group").addClass(d);k.data(J,l?l:{}).toggleClass("k-scrollable",l?l.scrollable!==false:true);this.ajaxRequest(k)},ajaxRequest:function(k,l,o){var m=this,n;k=m.element.find(k);n=k.data(J);l=l||n.contentUrl;if(l){k.append("<span class='k-icon k-loading k-pane-loading' />");if(M.isLocalUrl(l)){jQuery.ajax({url:l,data:o||{},type:"GET",dataType:"html",success:function(p){m.angular("cleanup",function(){return{elements:k.get()}});k.html(p);m.angular("compile",function(){return{elements:k.get()}});m.trigger(a,{pane:k[0]})},error:function(q,p){m.trigger(O,{pane:k[0],status:p,xhr:q})}})}else{k.removeClass("k-scrollable").html("<iframe src='"+l+"' frameborder='0' class='k-content-frame'>This page requires frames in order to show content</iframe>")}}},_triggerAction:function(k,l){if(!this.trigger(k,{pane:l[0]})){this[k](l[0])}},_togglePane:function(l){var m=this,n=S(l.target),k;if(n.closest(".k-splitter")[0]!=m.element[0]){return}k=n.children(".k-icon:not(.k-resize-handle)");if(k.length!==1){return}if(k.is(".k-collapse-prev")){m._triggerAction(h,n.prev())}else{if(k.is(".k-collapse-next")){m._triggerAction(h,n.next())}else{if(k.is(".k-expand-prev")){m._triggerAction(D,n.prev())}else{if(k.is(".k-expand-next")){m._triggerAction(D,n.next())}}}}},_arrowClick:function(k){var l=this;return function(n){var o=S(n.target),m;if(o.closest(".k-splitter")[0]!=l.element[0]){return}if(o.is(".k-"+k+"-prev")){m=o.parent().prev()}else{m=o.parent().next()}l._triggerAction(k,m)}},_updateSplitBar:function(o,s,p){var k=function(v,u){return u?"<div class='k-icon "+v+"' />":""},r=this.orientation,n=(s.resizable!==false)&&(p.resizable!==false),t=s.collapsible,m=s.collapsed,q=p.collapsible,l=p.collapsed;if(!n&&!t&&!q){o.addClass("k-splitbar-noborder")}o.addClass("k-splitbar k-state-default k-splitbar-"+r).attr("role","separator").attr("aria-expanded",!(m||l)).removeClass("k-splitbar-"+r+"-hover").toggleClass("k-splitbar-draggable-"+r,n&&!m&&!l).toggleClass("k-splitbar-static-"+r,!n&&!t&&!q).html(k("k-collapse-prev",t&&!m&&!l)+k("k-expand-prev",t&&m&&!l)+k("k-resize-handle",n)+k("k-collapse-next",q&&!l&&!m)+k("k-expand-next",q&&l&&!m));if(!n&&!t&&!q){o.removeAttr("tabindex")}},_updateSplitBars:function(){var k=this;this.element.children(".k-splitbar").each(function(){var m=S(this),n=m.prevAll(H).first().data(J),l=m.nextAll(H).first().data(J);if(!l){return}k._updateSplitBar(m,n,l)})},_removeSplitBars:function(){this.element.children(".k-splitbar").remove()},_panes:function(){if(!this.element){return S()}return this.element.children(H)},_resize:function(){var z=this,v=z.element,p=v.children(H),t=z.orientation==C,x=v.children(".k-splitbar"),q=x.length,s=t?"width":"height",k=v[s]();z.wrapper.addClass("k-splitter-resizing");if(q===0){q=p.length-1;p.slice(0,q).after("<div tabindex='0' class='k-splitbar' data-marker='"+z._marker+"' />");z._updateSplitBars();x=v.children(".k-splitbar")}else{z._updateSplitBars()}x.each(function(){k-=this[t?"offsetWidth":"offsetHeight"]});var Ab=0,Aa=0,y=S();p.css({position:"absolute",top:0})[s](function(){var Ae=S(this),Ad=Ae.data(J)||{},Ac;Ae.removeClass("k-state-collapsed");if(Ad.collapsed){Ac=Ad.collapsedSize?K(Ad.collapsedSize,k):0;Ae.css("overflow","hidden").addClass("k-state-collapsed")}else{if(e(Ad.size)){y=y.add(this);return}else{Ac=K(Ad.size,k)}}Aa++;Ab+=Ac;if(s=="width"){return Ac-1}else{return Ac-2}return Ac});k-=Ab;var o=y.length,n=Math.floor(k/o);y.slice(0,o-1).css(s,n).end().eq(o-1).css(s,k-(o-1)*n);var r=0,u=t?"height":"width",w=t?"left":"top",l=t?"offsetWidth":"offsetHeight";if(o===0){var m=p.filter(function(){return !((S(this).data(J)||{}).collapsed)}).last();m[s](k+m[0][l])}v.children().css(u,v[u]()).each(function(Ac,Ad){if(Ad.tagName.toLowerCase()!="script"){Ad.style[w]=Math.floor(r)+"px";r+=Ad[l]}});z._detachEvents();z._attachEvents();z.wrapper.removeClass("k-splitter-resizing");M.resize(p);z.trigger(T)},toggle:function(l,n){var m=this,k;l=m.element.find(l);k=l.data(J);if(!n&&!k.collapsible){return}if(arguments.length==1){n=k.collapsed===U?false:k.collapsed}k.collapsed=!n;if(k.collapsed){l.css("overflow","hidden")}else{l.css("overflow","")}m.resize(true)},collapse:function(k){this.toggle(k,false)},expand:function(k){this.toggle(k,true)},_addPane:function(l,m,n){var k=this;if(n.length){k.options.panes.splice(m,0,l);k._initPane(n,l);k._removeSplitBars();k.resize(true)}return n},append:function(l){l=l||{};var k=this,m=S("<div />").appendTo(k.element);return k._addPane(l,k.options.panes.length,m)},insertBefore:function(l,m){m=S(m);l=l||{};var k=this,o=k.wrapper.children(".k-pane").index(m),n=S("<div />").insertBefore(S(m));return k._addPane(l,o,n)},insertAfter:function(l,m){m=S(m);l=l||{};var k=this,o=k.wrapper.children(".k-pane").index(m),n=S("<div />").insertAfter(S(m));return k._addPane(l,o+1,n)},remove:function(k){k=S(k);var l=this;if(k.length){M.destroy(k);k.each(function(m,n){l.options.panes.splice(l.wrapper.children(".k-pane").index(n),1);S(n).remove()});l._removeSplitBars();if(l.options.panes.length){l.resize(true)}}return l},size:P("size",true),min:P("min"),max:P("max")});Y.plugin(E);var b={sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"};var Z={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"};function c(m){var l=this,k=m.orientation;l.owner=m;l._element=m.element;l.orientation=k;f(l,k===C?Z:b);l._resizable=new M.ui.Resizable(m.element,{orientation:k,handle:".k-splitbar-draggable-"+k+"[data-marker="+m._marker+"]",hint:j(l._createHint,l),start:j(l._start,l),max:j(l._max,l),min:j(l._min,l),invalidClass:"k-restricted-size-"+k,resizeend:j(l._stop,l)})}c.prototype={press:function(k){this._resizable.press(k)},move:function(k,l){if(!this.pressed){this.press(l);this.pressed=true}if(!this._resizable.target){this._resizable.press(l)}this._resizable.move(k)},end:function(){this._resizable.end();this.pressed=false},destroy:function(){this._resizable.destroy();this._resizable=this._element=this.owner=null},isResizing:function(){return this._resizable.resizing},_createHint:function(k){var l=this;return S("<div class='k-ghost-splitbar k-ghost-splitbar-"+l.orientation+" k-state-default' />").css(l.alternateSizingProperty,k[l.alternateSizingProperty]())},_start:function(o){var t=this,r=S(o.currentTarget),v=r.prev(),s=r.next(),k=v.data(J),l=s.data(J),y=parseInt(v[0].style[t.positioningProperty],10),p=parseInt(s[0].style[t.positioningProperty],10)+s[0][t.sizingDomProperty]-r[0][t.sizingDomProperty],q=parseInt(t._element.css(t.sizingProperty),10),n=function(z){var Aa=parseInt(z,10);return(A(z)?Aa:(q*Aa)/100)||0},w=n(k.min),m=n(k.max)||p-y,x=n(l.min),u=n(l.max)||p-y;t.previousPane=v;t.nextPane=s;t._maxPosition=Math.min(p-x,y+m);t._minPosition=Math.max(y+w,p-u)},_max:function(){return this._maxPosition},_min:function(){return this._minPosition},_stop:function(k){var r=this,p=S(k.currentTarget),m=r.owner;m._panes().children(".k-splitter-overlay").remove();if(k.keyCode!==M.keys.ESC){var t=k.position,s=p.prev(),q=p.next(),v=s.data(J),l=q.data(J),n=t-parseInt(s[0].style[r.positioningProperty],10),o=parseInt(q[0].style[r.positioningProperty],10)+q[0][r.sizingDomProperty]-t-p[0][r.sizingDomProperty],u=r._element.children(H).filter(function(){return e(S(this).data(J).size)}).length;if(!e(v.size)||u>1){if(e(v.size)){u--}v.size=n+"px"}if(!e(l.size)||u>1){l.size=o+"px"}m.resize(true)}return false}}})(window.kendo.jQuery);(function(X,Z){var P=window.kendo,b=P.ui,M=b.Widget,n=b.DataBoundWidget,q=X.proxy,p="k-virtual-wrap",F="k-virtual-list",W="k-virtual-content",G="k-list",o="k-group-header",B="k-virtual-item",Y="k-item",V="k-height-container",g="k-group",H="k-state-selected",A="k-state-focused",c="k-state-hover",T="change",Q="click",K="listBound",C="itemChange",k="activate",R="deactivate",j=".VirtualList";function e(r){return r[r.length-1]}function D(r){return r instanceof Array?r:[r]}function l(r){return typeof r==="string"||typeof r==="number"||typeof r==="boolean"}function I(s,t,r){return Math.ceil(s*t/r)}function a(u,s,r){var t=document.createElement(r||"div");if(s){t.className=s}u.appendChild(t);return t}function E(){var s=X('<div class="k-popup"><ul class="k-list"><li class="k-item"><li></ul></div>'),r;s.css({position:"absolute",left:"-200000px",visibility:"hidden"});s.appendTo(document.body);r=parseFloat(P.getComputedStyles(s.find(".k-item")[0],["line-height"])["line-height"]);s.remove();return r}function N(s,t,r){return{down:s*r,up:s*(t-1-r)}}function O(t,r){var u=(t.listScreens-1-t.threshold)*r;var s=t.threshold*r;return function(w,v,x){if(v>x){return v-w.top<u}else{return w.top===0||v-w.top>s}}}function S(s,r){return function(t){return r(s.scrollTop,t)}}function L(r){return function(t,s){r(t.items,t.index,s);return t}}function m(s,r){if(P.support.browser.msie&&P.support.browser.version<10){s.style.top=r+"px"}else{s.style.webkitTransform="translateY("+r+"px)";s.style.transform="translateY("+r+"px)"}}function J(r,s){return function(u,w){for(var t=0,v=u.length;t<v;t++){r(u[t],w[t],s);if(w[t].item){this.trigger(C,{item:X(u[t]),data:w[t].item,ns:P.ui});if(w[t].index===this._selectedIndex){this.select(this._selectedIndex)}}}}}function h(s,t){var r;if(t>0){r=s.splice(0,t);s.push.apply(s,r)}else{r=s.splice(t,-t);s.unshift.apply(s,r)}return r}function f(t,u,s){var r=s.template;t=X(t);if(!u.item){r=s.placeholderTemplate}this.angular("cleanup",function(){return{elements:[t]}});t.attr("data-uid",u.item?u.item.uid:"").attr("data-offset-index",u.index).html(r(u.item||{}));t.toggleClass(A,u.current);t.toggleClass(H,u.selected);t.toggleClass("k-first",u.newGroup);t.toggleClass("k-loading-item",!u.item);if(u.index!==0&&u.newGroup){X("<div class="+g+"></div>").appendTo(t).html(s.groupTemplate({group:u.group}))}if(u.top!==Z){m(t[0],u.top)}this.angular("compile",function(){return{elements:[t],data:[{dataItem:u.item,group:u.group,newGroup:u.newGroup}]}})}function d(x,s){var u=s.length;var v=[];var t;var r,w;for(r=0;r<x.length;r++){t=x[r];for(w=0;w<u;w++){if(t===s[w]){v.push({index:r,item:t})}}}return v}var U=n.extend({init:function(t,s){var r=this;r._listCreated=false;r._fetching=false;r._filter=false;M.fn.init.call(r,t,s);if(!r.options.itemHeight){r.options.itemHeight=E()}s=r.options;r.element.addClass(G+" "+F).attr("role","listbox");r.content=r.element.wrap("<div unselectable='on' class='"+W+"'></div>").parent();r.wrapper=r.content.wrap("<div class='"+p+"'></div>").parent();r.header=r.content.before("<div class='"+o+"'></div>").prev();r.element.on("mouseenter"+j,"li:not(.k-loading-item)",function(){X(this).addClass(c)}).on("mouseleave"+j,"li",function(){X(this).removeClass(c)});r._values=D(r.options.value);r._selectedDataItems=[];r._selectedIndexes=[];r._rangesList={};r._activeDeferred=null;r._promisesList=[];r._optionID=P.guid();r.setDataSource(s.dataSource);r.content.on("scroll"+j,P.throttle(function(){r._renderItems()},s.delay));r._selectable()},options:{name:"VirtualList",autoBind:true,delay:100,height:null,listScreens:4,threshold:0.5,itemHeight:null,oppositeBuffer:1,type:"flat",selectable:false,value:[],dataValueField:null,template:"#:data#",placeholderTemplate:"loading...",groupTemplate:"#:group#",fixedGroupTemplate:"fixed header template",valueMapper:null},events:[T,Q,K,C,k,R],setOptions:function(r){M.fn.setOptions.call(this,r);if(this._selectProxy&&this.options.selectable===false){this.element.off(Q,"."+B,this._selectProxy)}else{if(!this._selectProxy&&this.options.selectable){this._selectable()}}this.refresh()},items:function(){return X(this._items)},destroy:function(){this.wrapper.off(j);this.dataSource.unbind(T,this._refreshHandler);M.fn.destroy.call(this)},setDataSource:function(r){var u=this;var s=r||{};var t;s=X.isArray(s)?{data:s}:s;s=P.data.DataSource.create(s);if(u.dataSource){u.dataSource.unbind(T,u._refreshHandler);u.dataSource.unbind(T,u._rangeChangeHandler);t=u.value();u.value([]);u.mute(function(){u.value(t)})}else{u._refreshHandler=X.proxy(u.refresh,u);u._rangeChangeHandler=X.proxy(u.rangeChange,u)}u.dataSource=s.bind(T,u._refreshHandler).bind(T,u._rangeChangeHandler);if(u.dataSource.view().length!==0){u.refresh()}else{if(u.options.autoBind){u.dataSource.fetch()}}},rangeChange:function(){var r=this;var s=r.dataSource.page();if(r.isBound()&&r._rangeChange===true&&r._lastPage!==s){r._lastPage=s;r.trigger(K)}},refresh:function(s){var t=this;var r=s&&s.action;var u;if(t._mute){return}if(!t._fetching){if(t._filter){t.focus(0)}t._createList();if(!r&&t._values.length&&!t._filter){t.value(t._values,true).done(function(){t._lastPage=t.dataSource.page();t._listCreated=true;t.trigger(K)})}else{t._lastPage=t.dataSource.page();t._listCreated=true;t.trigger(K)}}else{if(t._renderItems){t._renderItems(true)}}if(r==="itemchange"){u=d(t._selectedDataItems,s.items);if(u.length){t.trigger("selectedItemChange",{items:u})}}t._fetching=false},removeAt:function(r){this._selectedIndexes.splice(r,1);this._values.splice(r,1);return{position:r,dataItem:this._selectedDataItems.splice(r,1)[0]}},setValue:function(r){this._values=D(r)},value:function(t,r){var u=this;var s=u.dataSource;if(t===Z){return u._values.slice()}t=D(t);if(u.options.selectable==="multiple"&&u.select().length&&t.length){u.select(-1)}if(!u._valueDeferred||u._valueDeferred.state()==="resolved"){u._valueDeferred=X.Deferred()}if(!t.length){u.select(-1)}u._values=t;if((u.isBound()&&!u._mute)||r){u._prefetchByValue(t)}return u._valueDeferred},_prefetchByValue:function(u){var w=this,y=w._dataView,s=w._valueGetter,x,r=false,z=[];for(var v=0;v<u.length;v++){for(var t=0;t<y.length;t++){x=y[t].item;if(x){r=l(x)?u[v]===x:u[v]===s(x);if(r){z.push(t)}}}}if(z.length===u.length){w._values=[];w.select(z);return}if(typeof w.options.valueMapper==="function"){w.options.valueMapper({value:(this.options.selectable==="multiple")?u:u[0],success:function(Aa){w._values=[];w._selectedIndexes=[];w._selectedDataItems=[];Aa=D(Aa);if(!Aa.length){Aa=[-1]}w.select(Aa)}})}else{throw new Error("valueMapper is not provided")}},deferredRange:function(t){var z=this.dataSource;var w=this.itemCount;var x=this._rangesList;var s=X.Deferred();var y=[];var u=Math.floor(t/w)*w;var r=Math.ceil(t/w)*w;var v=r===u?[r]:[u,r];X.each(v,function(Ae,Aa){var Ad=Aa+w;var Ab=x[Aa];var Ac;if(!Ab||(Ab.end!==Ad)){Ac=X.Deferred();x[Aa]={end:Ad,deferred:Ac};z._multiplePrefetch(Aa,w,function(){Ac.resolve()})}else{Ac=Ab.deferred}y.push(Ac)});X.when.apply(X,y).then(function(){s.resolve()});return s},prefetch:function(t){var r=this,v=this.itemCount,s=this.dataSource,u=!r._promisesList.length;if(!r._activeDeferred){r._activeDeferred=X.Deferred();r._promisesList=[]}X.each(t,function(y,w){var x=Math.floor(w/v)*v;r._promisesList.push(r.deferredRange(x))});if(u){X.when.apply(X,r._promisesList).done(function(){r._activeDeferred.resolve();r._activeDeferred=null;r._promisesList=[]})}return r._activeDeferred},_findDataItem:function(u){var t=this.dataSource.view(),r;if(this.options.type==="group"){for(var s=0;s<t.length;s++){r=t[s].items;if(r.length<=u){u=u-r.length}else{return r[u]}}}return t[u]},selectedDataItems:function(){return this._selectedDataItems.slice()},scrollTo:function(r){this.content.scrollTop(r)},scrollToIndex:function(r){this.scrollTo(r*this.options.itemHeight)},focus:function(s){var r,t,u,Aa=this.dataSource,z,w=this.options.itemHeight,y=this._optionID,Ab=true;if(s===Z){z=this.element.find("."+A);return z.length?z:null}if(typeof s==="function"){u=this.dataSource.flatView();for(var v=0;v<u.length;v++){if(s(u[v])){s=v;break}}}if(s instanceof Array){s=e(s)}if(isNaN(s)){r=X(s);t=parseInt(X(r).attr("data-offset-index"),10)}else{t=s;r=this._getElementByIndex(t)}if(t===-1){this.element.find("."+A).removeClass(A);this._focusedIndex=Z;return}if(r.length){if(r.hasClass(A)){Ab=false}if(this._focusedIndex!==Z){z=this._getElementByIndex(this._focusedIndex);z.removeClass(A).removeAttr("id");if(Ab){this.trigger(R)}}this._focusedIndex=t;r.addClass(A).attr("id",y);var x=this._getElementLocation(t);if(x==="top"){this.scrollTo(t*w)}else{if(x==="bottom"){this.scrollTo((t*w+w)-this.screenHeight)}else{if(x==="outScreen"){this.scrollTo(t*w)}}}if(Ab){this.trigger(k)}}else{this._focusedIndex=t;this.items().removeClass(A);this.scrollToIndex(t)}},focusIndex:function(){return this._focusedIndex},first:function(){this.scrollTo(0);this.focus(0)},last:function(){var r=this.dataSource.total();this.scrollTo(this.heightContainer.offsetHeight);this.focus(r)},prev:function(){var s=this._focusedIndex;var r;if(!isNaN(s)&&s>0){s-=1;this.focus(s);r=this.focus();if(r&&r.hasClass("k-loading-item")){s+=1;this.focus(s)}return s}},next:function(){var t=this._focusedIndex;var r=this.dataSource.total()-1;var s;if(!isNaN(t)&&t<r){t+=1;this.focus(t);s=this.focus();if(s&&s.hasClass("k-loading-item")){t-=1;this.focus(t)}return t}},select:function(s){var w=this,v,z=w.options.selectable!=="multiple",t=!!w._activeDeferred,x,y=[],u=[];if(s===Z){return w._selectedIndexes.slice()}v=w._getIndecies(s);if(w._filter&&!z&&w._deselectFiltered(v)){return}if(!v.length||(z&&!w._filter&&e(v)===e(this._selectedIndexes))){return}u=w._deselect(v);if(z){w._activeDeferred=null;t=false;if(v.length){v=[e(v)]}}var r=function(){var Aa=w._select(v);w.focus(v);if(Aa.length||u.length){w.trigger(T,{added:Aa,removed:u})}if(w._valueDeferred){w._valueDeferred.resolve()}};x=w.prefetch(v);if(!t){if(x){x.done(r)}else{r()}}},isBound:function(){return this._listCreated},mute:function(r){this._mute=true;q(r(),this);this._mute=false},filter:function(r){if(r===Z){return this._filter}this._filter=r;this._rangeChange=true},skipUpdate:X.noop,_getElementByIndex:function(r){return this.items().filter(function(s,t){return r===parseInt(X(t).attr("data-offset-index"),10)})},_clean:function(){this.result=Z;this._lastScrollTop=Z;this._lastPage=Z;X(this.heightContainer).remove();this.heightContainer=Z;this.element.empty()},_height:function(){var r=!!this.dataSource.view().length,t=this.options.height,u=this.options.itemHeight,s=this.dataSource.total();if(!r){t=0}else{if(t/u>s){t=s*u}}return t},_screenHeight:function(){var r=this._height(),t=this.element,s=this.content;s.height(r);this.screenHeight=r},_getElementLocation:function(t){var u=this.content.scrollTop(),r=this.screenHeight,v=this.options.itemHeight,y=t*v,x=y+v,s=u+r,w;if(y===(u-v)||(x>u&&y<u)){w="top"}else{if(y===s||(y<s&&s<x)){w="bottom"}else{if((y>=u)&&(y<=u+(r-v))){w="inScreen"}else{w="outScreen"}}}return w},_templates:function(){var s={template:this.options.template,placeholderTemplate:this.options.placeholderTemplate,groupTemplate:this.options.groupTemplate,fixedGroupTemplate:this.options.fixedGroupTemplate};for(var r in s){if(typeof s[r]!=="function"){s[r]=P.template(s[r])}}this.templates=s},_generateItems:function(v,s){var u=[],t,r=this.options.itemHeight+"px";while(s-->0){t=document.createElement("li");t.tabIndex=-1;t.className=B+" "+Y;t.setAttribute("role","option");t.style.height=r;t.style.minHeight=r;v.appendChild(t);u.push(t)}return u},_saveInitialRanges:function(){var s=this.dataSource._ranges;var t=X.Deferred();t.resolve();this._rangesList={};for(var r=0;r<s.length;r++){this._rangesList[s[r].start]={end:s[r].end,deferred:t}}},_createList:function(){var r=this,v=r.content.get(0),t=r.options,s=r.dataSource,u=s.total();if(r._listCreated){r._clean()}r._saveInitialRanges();r._screenHeight();r._buildValueGetter();r.itemCount=I(r.screenHeight,t.listScreens,t.itemHeight);if(r.itemCount>s.total()){r.itemCount=s.total()}r._templates();r._items=r._generateItems(r.element[0],r.itemCount);r._setHeight(t.itemHeight*s.total());r.options.type=(s.group()||[]).length?"group":"flat";if(r.options.type==="flat"){r.header.hide()}else{r.header.show()}r.getter=r._getter(function(){r._renderItems(true)});r._onScroll=function(x,y){var w=r._listItems(r.getter);return r._fixedHeader(x,w(x,y))};r._renderItems=r._whenChanged(S(v,r._onScroll),L(r._reorderList(r._items,X.proxy(f,r))));r._renderItems();r._calculateGroupPadding(r.screenHeight)},_setHeight:function(r){var u,t=this.heightContainer;if(!t){t=this.heightContainer=a(this.content[0],V)}else{u=t.offsetHeight}if(r!==u){t.innerHTML="";while(r>0){var s=Math.min(r,250000);a(t).style.height=s+"px";r-=s}}},_getter:function(){var r=null,u=this.dataSource,v=u.skip(),w=this.options.type,t=this.itemCount,s={};return function(y,Ag){var Ab=this;if(!u.inRange(Ag,t)){if(r!==Ag){r=Ag;v=Ag;Ab._fetching=true;if(Ab._getterDeferred){Ab._getterDeferred.reject()}Ab._getterDeferred=Ab.deferredRange(Ag);Ab._getterDeferred.then(function(){var Ai=Ab._indexConstraint(Ab.content[0].scrollTop);Ab._getterDeferred=null;if(Ag<=Ai&&Ai<=(Ag+t)){Ab._fetching=true;Ab._rangeChange=true;u.range(Ag,t);Ab._rangeChange=false}})}return null}else{if(v!==Ag){Ab._mute=true;Ab._fetching=true;Ab._rangeChange=true;u.range(Ag,t);v=Ag;Ab._rangeChange=false;Ab._fetching=false;Ab._mute=false}var x;if(w==="group"){if(!s[Ag]){var Ad=s[Ag]=[];var Ac=u.view();for(var Aa=0,Af=Ac.length;Aa<Af;Aa++){var Ae=Ac[Aa];for(var z=0,Ah=Ae.items.length;z<Ah;z++){Ad.push({item:Ae.items[z],group:Ae.value})}}}x=s[Ag][y-Ag]}else{x=u.view()[y-Ag]}return x}}},_fixedHeader:function(u,v){var s=this.currentVisibleGroup,w=this.options.itemHeight,r=Math.floor((u-v.top)/w),t=v.items[r];if(t&&t.item){var x=t.group;if(x!==s){this.header[0].innerHTML=x||"";this.currentVisibleGroup=x}}return v},_itemMapper:function(Ae,s,v){var x=this.options.type,y=this.options.itemHeight,u=this._focusedIndex,z=false,t=false,Ac=false,Aa=null,w=-1,Ad=false,r=this._valueGetter;if(x==="group"){if(Ae){Ac=s===0||(this._currentGroup&&this._currentGroup!==Ae.group);this._currentGroup=Ae.group}Aa=Ae?Ae.group:null;Ae=Ae?Ae.item:null}if(v.length&&Ae){for(var Ab=0;Ab<v.length;Ab++){Ad=l(Ae)?v[Ab]===Ae:v[Ab]===r(Ae);if(Ad){v.splice(Ab,1);z=true;break}}}if(u===s){t=true}return{item:Ae?Ae:null,group:Aa,newGroup:Ac,selected:z,current:t,index:s,top:s*y}},_range:function(x){var s=this.itemCount,r=this._values.slice(),w=[],v;this._view={};this._currentGroup=null;for(var t=x,u=x+s;t<u;t++){v=this._itemMapper(this.getter(t,x),t,r);w.push(v);this._view[v.index]=v}this._dataView=w;return w},_getDataItemsCollection:function(r,t){var s=this._range(this._listIndex(r,t));return{index:s.length?s[0].index:0,top:s.length?s[0].top:0,items:s}},_listItems:function(u){var t=this.screenHeight,r=this.itemCount,s=this.options;var v=O(s,t);return X.proxy(function(y,x){var w=this.result,z=this._lastScrollTop;if(x||!w||!v(w,y,z)){w=this._getDataItemsCollection(y,z)}this._lastScrollTop=y;this.result=w;return w},this)},_whenChanged:function(t,r){var s;return function(u){var v=t(u);if(v!==s){s=v;r(v,u)}}},_reorderList:function(u,v){var t=this;var r=u.length;var s=-Infinity;v=X.proxy(J(v,this.templates),this);return function(w,z,y){var Aa=z-s;var x,Ab;if(y||Math.abs(Aa)>=r){x=u;Ab=w}else{x=h(u,Aa);Ab=Aa>0?w.slice(-Aa):w.slice(0,-Aa)}v(x,Ab,t._listCreated);s=z}},_bufferSizes:function(){var r=this.options;return N(this.screenHeight,r.listScreens,r.oppositeBuffer)},_indexConstraint:function(t){var r=this.itemCount,u=this.options.itemHeight,s=this.dataSource.total();return Math.min(Math.max(s-r,0),Math.max(0,Math.floor(t/u)))},_listIndex:function(r,t){var u=this._bufferSizes(),s;s=r-((r>t)?u.down:u.up);return this._indexConstraint(s)},_selectable:function(){if(this.options.selectable){this._selectProxy=X.proxy(this,"_clickHandler");this.element.on(Q+j,"."+B,this._selectProxy)}},_getIndecies:function(r){var s=[],u;if(typeof r==="function"){u=this.dataSource.flatView();for(var t=0;t<u.length;t++){if(r(u[t])){s.push(t);break}}}if(typeof r==="number"){s.push(r)}if(r instanceof jQuery){r=parseInt(r.attr("data-offset-index"),10);if(!isNaN(r)){s.push(r)}}if(r instanceof Array){s=r}return s},_deselect:function(x){var v=[],t,s,Ab,w=this._selectedIndexes,Aa=0,u=this.options.selectable,z=0,Ac;if(x[Aa]===-1){for(var r=0;r<w.length;r++){s=w[r];this._getElementByIndex(s).removeClass(H);v.push({index:s,position:r,dataItem:this._selectedDataItems[r]})}this._values=[];this._selectedDataItems=[];this._selectedIndexes=[];x.splice(0,x.length);return v}if(u===true){t=x[Aa];s=w[Aa];if(s!==Z&&t!==s){this._getElementByIndex(s).removeClass(H);v.push({index:s,position:Aa,dataItem:this._selectedDataItems[Aa]});this._values=[];this._selectedDataItems=[];this._selectedIndexes=[]}}else{if(u==="multiple"){for(var y=0;y<x.length;y++){Aa=X.inArray(x[y],w);s=w[Aa];if(s!==Z){Ac=this._getElementByIndex(s);if(!Ac.hasClass("k-state-selected")){continue}Ac.removeClass(H);this._values.splice(Aa,1);this._selectedIndexes.splice(Aa,1);Ab=this._selectedDataItems.splice(Aa,1);x.splice(y,1);v.push({index:s,position:Aa+z,dataItem:Ab});z++;y--}}}}return v},_deselectFiltered:function(w){var t=this.element[0].children;var v,r,x;var y=this._values;var u=[];var s=0;var z;for(;s<w.length;s++){x=-1;r=w[s];v=this._valueGetter(this._view[r].item);for(z=0;z<y.length;z++){if(v==y[z]){x=z;break}}if(x>-1){u.push(this.removeAt(x));X(t[r]).removeClass("k-state-selected")}}if(u.length){this.trigger("change",{added:[],removed:u});return true}return false},_select:function(y){var Aa=this,Ae=this.options.selectable!=="multiple",s=this.dataSource,t,x,Ab,w,u,Ac,r,z=this.itemCount,v=this._valueGetter,Ad=[];if(Ae){Aa._selectedIndexes=[];Aa._selectedDataItems=[];Aa._values=[]}r=s.skip();X.each(y,function(Ai,Ah){var Ag=Ah<z?1:Math.floor(Ah/z)+1;var Af=(Ag-1)*z;Aa.mute(function(){s.range(Af,z);x=Aa._findDataItem([Ah-Af]);Aa._selectedIndexes.push(Ah);Aa._selectedDataItems.push(x);Aa._values.push(l(x)?x:v(x));Ad.push({index:Ah,dataItem:x});Aa._getElementByIndex(Ah).addClass(H);s.range(r,z)})});return Ad},_clickHandler:function(r){var s=X(r.currentTarget);if(!r.isDefaultPrevented()&&s.attr("data-uid")){this.trigger(Q,{item:s})}},_buildValueGetter:function(){this._valueGetter=P.getter(this.options.dataValueField)},_calculateGroupPadding:function(r){var t=this.items().first(),u=this.header,s=0;if(u[0]&&u[0].style.display!=="none"){if(r!=="auto"){s=P.support.scrollbar()}s+=parseFloat(t.css("border-right-width"),10)+parseFloat(t.children(".k-group").css("right"),10);u.css("padding-right",s)}}});P.ui.VirtualList=U;P.ui.plugin(U)})(window.kendo.jQuery);(function(W){var P=window.kendo,a=P.ui,M=a.Widget,O=P.keys,k=".kendoSchedulerView",X=Math;function g(p,n){var o=[];function m(r,t){t=t[n];if(t){var q=o[r]=o[r]||[];for(var s=0;s<t.length;s++){q.push(t[s]);m(r+1,t[s])}}}m(0,p);return o}function c(){if(P.support.cssBorderSpacing){return""}return'cellspacing="0"'}function R(n,m){if(!n.length){return""}return"<table "+c()+' class="'+W.trim("k-scheduler-table "+(m||""))+'"><tr>'+n.join("</tr><tr>")+"</tr></table>"}function f(n,m){if(!n.length){return""}return"<div style='position:relative'>"+R(n,m)+"</div>"}function Q(q,o,n){var m=[];if(n>0){for(var p=0;p<q;p++){m.push("<th>&nbsp;</th>")}}if(o){m.push('<th class="k-scheduler-times-all-day">'+o.text+"</th>")}if(n<1){return W()}return W('<div class="k-scheduler-times">'+R(m)+"</div>")}function H(o,p,w){var t=[];var m;for(var z=0;z<o.length;z++){var q=o[z];var s=[];var n=p/q.length;for(m=0;m<q.length;m++){var x=q[m];s.push('<th colspan="'+(x.colspan||n)+'" class="'+(x.className||"")+'">'+x.text+"</th>")}t.push(s.join(""))}var y=[];if(w){var v=o[o.length-1];var u=[];var r=w.cellContent;for(m=0;m<v.length;m++){u.push('<td class="'+(v[m].className||"")+'">'+(r?r(m):"&nbsp;")+"</th>")}y.push(u.join(""))}return W('<div class="k-scheduler-header k-state-default"><div class="k-scheduler-header-wrap">'+R(t)+f(y,"k-scheduler-header-all-day")+"</div></div>")}function b(p,u){var m=new Array(u).join().split(",");var q=[];var n;for(var o=0;o<p.length;o++){var r=p[o];var t=u/r.length;var s;for(n=0;n<r.length;n++){s=r[n].className||"";if(r[n].allDay){s="k-scheduler-times-all-day"}m[t*n]+='<th class="'+s+'" rowspan="'+t+'">'+r[n].text+"</th>"}}for(n=0;n<u;n++){q.push(m[n])}if(u<1){return W()}return W('<div class="k-scheduler-times">'+R(q)+"</div>")}function L(){return W('<div class="k-scheduler-content"><table '+c()+' class="k-scheduler-table"/></div>')}var I='<div class="k-marquee k-scheduler-marquee"><div class="k-marquee-color"></div><div class="k-marquee-text"><div class="k-label-top"></div><div class="k-label-bottom"></div></div></div>';P.ui.scheduler={};var B=P.Class.extend({init:function(m){this._index=m;this._timeSlotCollections=[];this._daySlotCollections=[]},addTimeSlotCollection:function(n,m){return this._addCollection(n,m,this._timeSlotCollections)},addDaySlotCollection:function(n,m){return this._addCollection(n,m,this._daySlotCollections)},_addCollection:function(p,m,o){var n=new V(p,m,this._index,o.length);o.push(n);return n},timeSlotCollectionCount:function(){return this._timeSlotCollections.length},daySlotCollectionCount:function(){return this._daySlotCollections.length},daySlotByPosition:function(m,n){return this._slotByPosition(m,n,this._daySlotCollections)},timeSlotByPosition:function(m,n){return this._slotByPosition(m,n,this._timeSlotCollections)},_slotByPosition:function(s,t,v){var r=P.support.browser;for(var u=0;u<v.length;u++){var o=v[u];for(var q=0;q<o.count();q++){var p=o.at(q);var n=p.offsetWidth;var m=p.clientHeight;if(r.msie){m=p.clientHeight-1;n=p.clientWidth}if(s>=p.offsetLeft&&s<p.offsetLeft+n&&t>=p.offsetTop&&t<=p.offsetTop+m){return p}}}},refresh:function(){var m;for(m=0;m<this._daySlotCollections.length;m++){this._daySlotCollections[m].refresh()}for(m=0;m<this._timeSlotCollections.length;m++){this._timeSlotCollections[m].refresh()}},timeSlotRanges:function(n,p){var m=this._timeSlotCollections;var q=this._startSlot(n,m);if(!q.inRange&&n>=q.slot.end){q=null}var o=q;if(n<p){o=this._endSlot(p,m)}if(o&&!o.inRange&&p<=o.slot.start){o=null}if(q===null&&o===null){return[]}if(q===null){q={inRange:true,slot:m[o.slot.collectionIndex].first()}}if(o===null){o={inRange:true,slot:m[q.slot.collectionIndex].last()}}return this._continuousRange(C,m,q,o)},daySlotRanges:function(o,q,m){var n=this._daySlotCollections;var r=this._startSlot(o,n,m);if(!r.inRange&&o>=r.slot.end){r=null}var p=r;if(o<q){p=this._endSlot(q,n,m)}if(p&&!p.inRange&&q<=p.slot.start){p=null}if(r===null&&p===null){return[]}if(r===null){do{o+=P.date.MS_PER_DAY;r=this._startSlot(o,n,m)}while(!r.inRange&&o>=r.slot.end)}if(p===null){do{q-=P.date.MS_PER_DAY;p=this._endSlot(q,n,m)}while(!p.inRange&&q<=p.slot.start)}return this._continuousRange(T,n,r,p)},_continuousRange:function(x,y,o,q){var r=o.slot;var p=q.slot;var m=r.collectionIndex;var s=p.collectionIndex;var t=[];for(var v=m;v<=s;v++){var Aa=y[v];var w=Aa.first();var u=Aa.last();var z=false;var n=false;if(v==m){n=!o.inRange}if(v==s){z=!q.inRange}if(w.start<r.start){w=r}if(u.start>p.start){u=p}if(m<s){if(v==m){z=true}else{if(v==s){n=true}else{z=n=true}}}t.push(new x({start:w,end:u,collection:Aa,head:z,tail:n}))}return t},slotRanges:function(o,m){var n=o._startTime||P.date.toUtcTime(o.start);var p=o._endTime||P.date.toUtcTime(o.end);if(m===undefined){m=o.isMultiDay()}if(m){return this.daySlotRanges(n,p,o.isAllDay)}return this.timeSlotRanges(n,p)},ranges:function(o,p,m,n){if(typeof o!="number"){o=P.date.toUtcTime(o)}if(typeof p!="number"){p=P.date.toUtcTime(p)}if(m){return this.daySlotRanges(o,p,n)}return this.timeSlotRanges(o,p)},_startCollection:function(p,n){for(var o=0;o<n.length;o++){var m=n[o];if(m.startInRange(p)){return m}}return null},_endCollection:function(p,n,m){for(var o=0;o<n.length;o++){var q=n[o];if(q.endInRange(p,m)){return q}}return null},_getCollections:function(m){return m?this._daySlotCollections:this._timeSlotCollections},continuousSlot:function(m,n){var p=n?-1:1;var o=this._getCollections(m.isDaySlot);var q=o[m.collectionIndex+p];return q?q[n?"last":"first"]():undefined},firstSlot:function(){var m=this._getCollections(this.daySlotCollectionCount());return m[0].first()},lastSlot:function(){var m=this._getCollections(this.daySlotCollectionCount());return m[m.length-1].last()},upSlot:function(m,p){var n=this;var o=function(r,s,t){var q=t===0;if(!p&&!r&&q&&n.daySlotCollectionCount()){return n._daySlotCollections[0].at(s)}};if(!this.timeSlotCollectionCount()){p=true}return this._verticalSlot(m,-1,o)},downSlot:function(n,p){var o=this;var m=function(q,r,s){if(!p&&q&&o.timeSlotCollectionCount()){return o._timeSlotCollections[s].at(0)}};if(!this.timeSlotCollectionCount()){p=true}return this._verticalSlot(n,1,m)},leftSlot:function(m){return this._horizontalSlot(m,-1)},rightSlot:function(m){return this._horizontalSlot(m,1)},_horizontalSlot:function(n,m){var r=n.index;var o=n.isDaySlot;var s=n.collectionIndex;var q=this._getCollections(o);if(o){r+=m}else{s+=m}var p=q[s];return p?p.at(r):undefined},_verticalSlot:function(q,r,p){var m=q.index;var o=q.isDaySlot;var s=q.collectionIndex;var t=this._getCollections(o);q=p(o,s,m);if(q){return q}if(o){s+=r}else{m+=r}var n=t[s];return n?n.at(m):undefined},_collection:function(o,m){var n=m?this._daySlotCollections:this._timeSlotCollections;return n[o]},_startSlot:function(p,o,n){var r=this._startCollection(p,o);var m=true;if(!r){r=o[0];m=false}var q=r.slotByStartDate(p,n);if(!q){q=r.first();m=false}return{slot:q,inRange:m}},_endSlot:function(p,o,n){var r=this._endCollection(p,o,n);var m=true;if(!r){r=o[o.length-1];m=false}var q=r.slotByEndDate(p,n);if(!q){q=r.last();m=false}return{slot:q,inRange:m}},getSlotCollection:function(n,m){return this[m?"getDaySlotCollection":"getTimeSlotCollection"](n)},getTimeSlotCollection:function(m){return this._timeSlotCollections[m]},getDaySlotCollection:function(m){return this._daySlotCollections[m]}});var d=P.Class.extend({init:function(m){W.extend(this,m)},innerHeight:function(){var o=this.collection;var p=this.start.index;var q=this.end.index;var n=0;for(var m=p;m<=q;m++){n+=o.at(m).offsetHeight}return n},events:function(){return this.collection.events()},addEvent:function(m){this.events().push(m)},startSlot:function(){if(this.start.offsetLeft>this.end.offsetLeft){return this.end}return this.start},endSlot:function(){if(this.start.offsetLeft>this.end.offsetLeft){return this.start}return this.end}});var C=d.extend({innerHeight:function(){var o=this.collection;var p=this.start.index;var q=this.end.index;var n=0;for(var m=p;m<=q;m++){n+=o.at(m).offsetHeight}return n},outerRect:function(o,n,m){return this._rect("offset",o,n,m)},_rect:function(v,n,q,m){var t;var x;var u;var z;var s=this.start;var o=this.end;var w=P.support.isRtl(s.element);if(typeof n!="number"){n=P.date.toUtcTime(n)}if(typeof q!="number"){q=P.date.toUtcTime(q)}if(m){t=s.offsetTop;x=o.offsetTop+o[v+"Height"];if(w){u=o.offsetLeft;z=s.offsetLeft+s[v+"Width"]}else{u=s.offsetLeft;z=o.offsetLeft+o[v+"Width"]}}else{var Aa=n-s.start;if(Aa<0){Aa=0}var p=s.end-s.start;t=s.offsetTop+s[v+"Height"]*Aa/p;var y=o.end-q;if(y<0){y=0}var r=o.end-o.start;x=o.offsetTop+o[v+"Height"]-o[v+"Height"]*y/r;if(w){u=Math.round(o.offsetLeft+o[v+"Width"]*y/r);z=Math.round(s.offsetLeft+s[v+"Width"]-s[v+"Width"]*Aa/p)}else{u=Math.round(s.offsetLeft+s[v+"Width"]*Aa/p);z=Math.round(o.offsetLeft+o[v+"Width"]-o[v+"Width"]*y/r)}}return{top:t,bottom:x,left:u===0?u:u+1,right:z}},innerRect:function(o,n,m){return this._rect("client",o,n,m)}});var T=d.extend({innerWidth:function(){var o=this.collection;var p=this.start.index;var q=this.end.index;var n=0;var r=p!==q?"offsetWidth":"clientWidth";for(var m=p;m<=q;m++){n+=o.at(m)[r]}return n}});var V=P.Class.extend({init:function(n,m,p,o){this._slots=[];this._events=[];this._start=P.date.toUtcTime(n);this._end=P.date.toUtcTime(m);this._groupIndex=p;this._collectionIndex=o},refresh:function(){for(var m=0;m<this._slots.length;m++){this._slots[m].refresh()}},startInRange:function(m){return this._start<=m&&m<this._end},endInRange:function(o,m){var n=m?o<this._end:o<=this._end;return this._start<=o&&n},slotByStartDate:function(p){var n=p;if(typeof n!="number"){n=P.date.toUtcTime(p)}for(var o=0;o<this._slots.length;o++){var m=this._slots[o];if(m.startInRange(n)){return m}}return null},slotByEndDate:function(p,q){var n=p;if(typeof n!="number"){n=P.date.toUtcTime(p)}if(q){return this.slotByStartDate(p,false)}for(var o=0;o<this._slots.length;o++){var m=this._slots[o];if(m.endInRange(n)){return m}}return null},count:function(){return this._slots.length},events:function(){return this._events},addTimeSlot:function(p,q,o,n){var m=new F(p,q,o,this._groupIndex,this._collectionIndex,this._slots.length,n);this._slots.push(m)},addDaySlot:function(p,q,o,m){var n=new U(p,q,o,this._groupIndex,this._collectionIndex,this._slots.length,m);this._slots.push(n)},first:function(){return this._slots[0]},last:function(){return this._slots[this._slots.length-1]},at:function(m){return this._slots[m]}});var E=P.Class.extend({init:function(q,r,p,o,m,n){this.element=q;this.clientWidth=q.clientWidth;this.clientHeight=q.clientHeight;this.offsetWidth=q.offsetWidth;this.offsetHeight=q.offsetHeight;this.offsetTop=q.offsetTop;this.offsetLeft=q.offsetLeft;this.start=r;this.end=p;this.element=q;this.groupIndex=o;this.collectionIndex=m;this.index=n;this.isDaySlot=false},startDate:function(){return P.timezone.toLocalDate(this.start)},endDate:function(){return P.timezone.toLocalDate(this.end)},startInRange:function(m){return this.start<=m&&m<this.end},endInRange:function(m){return this.start<m&&m<=this.end},startOffset:function(){return this.start},endOffset:function(){return this.end}});var F=E.extend({init:function(r,s,q,p,n,o,m){E.fn.init.apply(this,arguments);this.isHorizontal=m?true:false},refresh:function(){var m=this.element;this.clientWidth=m.clientWidth;this.clientHeight=m.clientHeight;this.offsetWidth=m.offsetWidth;this.offsetHeight=m.offsetHeight;this.offsetTop=m.offsetTop;this.offsetLeft=m.offsetLeft},offsetX:function(n,m){if(n){return this.offsetLeft+m}else{return this.offsetLeft+m}},startInRange:function(m){return this.start<=m&&m<this.end},endInRange:function(m){return this.start<m&&m<=this.end},startOffset:function(s,t,n){if(n){return this.start}var o=W(this.element).offset();var q=this.end-this.start;var p;var m;if(this.isHorizontal){var r=P.support.isRtl(this.element);p=s-o.left;m=Math.floor(q*(p/this.offsetWidth));if(r){return this.start+q-m}}else{p=t-o.top;m=Math.floor(q*(p/this.offsetHeight))}return this.start+m},endOffset:function(s,t,n){if(n){return this.end}var o=W(this.element).offset();var q=this.end-this.start;var p;var m;if(this.isHorizontal){var r=P.support.isRtl(this.element);p=s-o.left;m=Math.floor(q*(p/this.offsetWidth));if(r){return this.start+q-m}}else{p=t-o.top;m=Math.floor(q*(p/this.offsetHeight))}return this.start+m}});var U=E.extend({init:function(r,s,q,p,n,o,m){E.fn.init.apply(this,arguments);this.eventCount=m;this.isDaySlot=true;if(this.element.children.length){this.firstChildHeight=this.element.children[0].offsetHeight+3;this.firstChildTop=this.element.children[0].offsetTop}else{this.firstChildHeight=3;this.firstChildTop=0}},refresh:function(){this.clientHeight=this.element.clientHeight;this.offsetTop=this.element.offsetTop},startDate:function(){var m=new Date(this.start);return P.timezone.apply(m,"Etc/UTC")},endDate:function(){var m=new Date(this.end);return P.timezone.apply(m,"Etc/UTC")},startInRange:function(m){return this.start<=m&&m<this.end},endInRange:function(m){return this.start<m&&m<=this.end}});var S;function J(){S=S?S:P.support.scrollbar();return S}P.ui.SchedulerView=M.extend({init:function(n,m){M.fn.init.call(this,n,m);this._scrollbar=J();this._isRtl=P.support.isRtl(n);this._resizeHint=W();this._moveHint=W();this._cellId=P.guid();this._resourcesForGroups();this._selectedSlots=[]},_isMobile:function(){var m=this.options;return(m.mobile===true&&P.support.mobileOS)||m.mobile==="phone"||m.mobile==="tablet"},_isMobilePhoneView:function(){var m=this.options;return(m.mobile===true&&P.support.mobileOS&&!P.support.mobileOS.tablet)||m.mobile==="phone"},_addResourceView:function(){var m=new B(this.groups.length);this.groups.push(m);return m},dateForTitle:function(){return P.format(this.options.selectedDateFormat,this.startDate(),this.endDate())},shortDateForTitle:function(){return P.format(this.options.selectedShortDateFormat,this.startDate(),this.endDate())},_changeGroup:function(p,o){var n=o?"prevGroupSlot":"nextGroupSlot";var m=this[n](p.start,p.groupIndex,p.isAllDay);if(m){p.groupIndex+=o?-1:1}return m},_changeGroupContinuously:function(){return null},_changeViewPeriod:function(){return false},_horizontalSlots:function(r,s,t,n){var u=n?"leftSlot":"rightSlot";var p=s[0].start;var m=s[s.length-1].end;var q=this.groups[r.groupIndex];if(!t){var v=this._normalizeHorizontalSelection(r,s,n);if(v){p=m=v}}p=q[u](p);m=q[u](m);if(!t&&!this._isVerticallyGrouped()&&(!p||!m)){p=m=this._changeGroup(r,n)}var o;if(!p||!m){o=this._continuousSlot(r,s,n);o=this._changeGroupContinuously(r,o,t,n);if(o){p=m=o}}return{startSlot:p,endSlot:m}},_verticalSlots:function(q,r,s,n){var o=r[0].start;var m=r[r.length-1].end;var p=this.groups[q.groupIndex];if(!s){var u=this._normalizeVerticalSelection(q,r,n);if(u){o=m=u}}var t=n?"upSlot":"downSlot";o=p[t](o,s);m=p[t](m,s);if(!s&&this._isVerticallyGrouped()&&(!o||!m)){o=m=this._changeGroup(q,n)}return{startSlot:o,endSlot:m}},_normalizeHorizontalSelection:function(){return null},_normalizeVerticalSelection:function(p,o,m){var n;if(m){n=o[0].start}else{n=o[o.length-1].end}return n},_continuousSlot:function(){return null},constrainSelection:function(o){var m=this.groups[0];var n;if(!this.inRange(o)){n=m.firstSlot();o.isAllDay=n.isDaySlot;o.start=n.startDate();o.end=n.endDate()}else{if(!m.daySlotCollectionCount()){o.isAllDay=false}}if(!this.groups[o.groupIndex]){o.groupIndex=0}},move:function(s,v,q){var w=false;var r=this.groups[s.groupIndex];if(!r.timeSlotCollectionCount()){s.isAllDay=true}var t=r.ranges(s.start,s.end,s.isAllDay,false);var m,n,o,u;if(v===O.DOWN||v===O.UP){w=true;o=v===O.UP;this._updateDirection(s,t,q,o,true);u=this._verticalSlots(s,t,q,o);if(!u.startSlot&&!q&&this._changeViewPeriod(s,o,true)){return w}}else{if(v===O.LEFT||v===O.RIGHT){w=true;o=v===O.LEFT;this._updateDirection(s,t,q,o,false);u=this._horizontalSlots(s,t,q,o);if(!u.startSlot&&!q&&this._changeViewPeriod(s,o,false)){return w}}}if(w){m=u.startSlot;n=u.endSlot;if(q){var p=s.backward;if(p&&m){s.start=m.startDate()}else{if(!p&&n){s.end=n.endDate()}}}else{if(m&&n){s.isAllDay=m.isDaySlot;s.start=m.startDate();s.end=n.endDate()}}s.events=[]}return w},moveToEventInGroup:function(s,v,t,r){var u=s._continuousEvents||[];var n,p;var m=r?-1:1;var q=u.length;var o=r?q-1:0;while(o<q&&o>-1){p=u[o];if((!r&&p.start.startDate()>=v.startDate())||(r&&p.start.startDate()<=v.startDate())){if(t.length){p=u[o+m]}if(p&&W.inArray(p.uid,t)===-1){n=!!p;break}}o+=m}return p},moveToEvent:function(r,q){var m=r.groupIndex;var s=this.groups[m];var u=s.ranges(r.start,r.end,r.isAllDay,false)[0].start;var p=this.groups.length;var n=q?-1:1;var t=r.events;var o;while(m<p&&m>-1){o=this.moveToEventInGroup(s,u,t,q);m+=n;s=this.groups[m];if(!s||o){break}t=[];if(q){u=s.lastSlot()}else{u=s.firstSlot(true)}}if(o){r.events=[o.uid];r.start=o.start.startDate();r.end=o.end.endDate();r.isAllDay=o.start.isDaySlot;r.groupIndex=o.start.groupIndex}return !!o},current:function(m){if(m!==undefined){this._current=m;if(this.content.has(m)){this._scrollTo(m,this.content[0])}}else{return this._current}},select:function(m){this.clearSelection();if(!this._selectEvents(m)){this._selectSlots(m)}},_selectSlots:function(r){var v=r.isAllDay;var t=this.groups[r.groupIndex];if(!t.timeSlotCollectionCount()){v=true}this._selectedSlots=[];var s=t.ranges(r.start,r.end,v,false);var o;var q;for(var m=0;m<s.length;m++){var u=s[m];var n=u.collection;for(var p=u.start.index;p<=u.end.index;p++){q=n.at(p);o=q.element;o.setAttribute("aria-selected",true);K(o);this._selectedSlots.push({start:q.startDate(),end:q.endDate(),element:o})}}if(r.backward){o=s[0].start.element}this.current(o)},_selectEvents:function(q){var r=false;var p=q.events;var s=this.groups[q.groupIndex]._continuousEvents||[];var o,n=s.length;if(!p[0]||!s[0]){return r}var m=W();q.events=[];for(o=0;o<n;o++){if(W.inArray(s[o].uid,p)>-1){m=m.add(s[o].element);q.events.push(s[o].uid)}}if(m[0]){m.addClass("k-state-selected").attr("aria-selected",true);this.current(m.last()[0]);this._selectedSlots=[];r=true}return r},inRange:function(n){var o=this.startDate();var m=P.date.addDays(this.endDate(),1);var q=n.start;var p=n.end;return o<=q&&q<m&&o<p&&p<=m},_resourceValue:function(n,m){if(n.valuePrimitive){m=P.getter(n.dataValueField)(m)}return m},_resourceBySlot:function(r){var t=this.groupedResources;var n={};if(t.length){var q=r.groupIndex;for(var o=t.length-1;o>=0;o--){var m=t[o];var p=this._resourceValue(m,m.dataSource.view()[q%m.dataSource.total()]);if(m.multiple){p=[p]}var s=P.setter(m.field);s(n,p);q=Math.floor(q/m.dataSource.total())}}return n},_createResizeHint:function(n,o,p,m){return W(I).css({left:n,top:o,width:p,height:m})},_removeResizeHint:function(){this._resizeHint.remove();this._resizeHint=W()},_removeMoveHint:function(){this._moveHint.remove();this._moveHint=W()},_scrollTo:function(m,r){var t=m.offsetTop,q=m.offsetHeight,p=r.scrollTop,s=r.clientHeight,n=t+q,o=0;if(p>t){o=t}else{if(n>(p+s)){if(q<=s){o=(n-s)}else{o=t}}else{o=p}}r.scrollTop=o},_shouldInverseResourceColor:function(n){var m=new G(n.color).isDark();var p=this.element.css("color");var o=new G(p).isDark();return(m==o)},_eventTmpl:function(n,s){var q=this.options,u=W.extend({},P.Template,q.templateSettings),m=u.paramName,p="",r=typeof n,t={storage:{},count:0};if(r==="function"){t.storage["tmpl"+t.count]=n;p+="#=this.tmpl"+t.count+"("+m+")#";t.count++}else{if(r==="string"){p+=n}}var o=P.template(P.format(s,p),u);if(t.count>0){o=W.proxy(o,t.storage)}return o},eventResources:function(x){var y=[],s=this.options;if(!s.resources){return y}for(var p=0;p<s.resources.length;p++){var r=s.resources[p];var u=r.field;var t=P.getter(u)(x);if(t==null){continue}if(!r.multiple){t=[t]}var o=r.dataSource.view();for(var w=0;w<t.length;w++){var v=null;var q=t[w];if(!r.valuePrimitive){q=P.getter(r.dataValueField)(q)}for(var n=0;n<o.length;n++){if(o[n].get(r.dataValueField)==q){v=o[n];break}}if(v!==null){var m=P.getter(r.dataColorField)(v);y.push({field:r.field,title:r.title,name:r.name,text:P.getter(r.dataTextField)(v),value:q,color:m})}}}return y},createLayout:function(r){var o=-1;if(!r.rows){r.rows=[]}for(var s=0;s<r.rows.length;s++){if(r.rows[s].allDay){o=s;break}}var q=r.rows[o];if(o>=0){r.rows.splice(o,1)}var n=this.columnLevels=g(r,"columns");var m=this.rowLevels=g(r,"rows");this.table=W("<table "+c()+' class="k-scheduler-layout k-scheduler-'+this.name+'view"/>');var p=m[m.length-1].length;this.table.append(this._topSection(n,q,p));this.table.append(this._bottomSection(n,m,p));this.element.append(this.table);this._scroller()},refreshLayout:function(){var s=this,q=s.element.find(">.k-scheduler-toolbar"),m=s.element.innerHeight(),r=this._scrollbar,o=0,u=this._isRtl?"left":"right";for(var p=0;p<q.length;p++){m-=q.eq(p).outerHeight()}if(s.datesHeader){o=s.datesHeader.outerHeight()}if(s.timesHeader&&s.timesHeader.outerHeight()>o){o=s.timesHeader.outerHeight()}if(s.datesHeader&&s.timesHeader){var n=s.datesHeader.find("table:first tr");s.timesHeader.find("tr").height(function(y){W(this).height(n.eq(y).height())})}if(o){m-=o}if(s.footer){m-=s.footer.outerHeight()}var t=function(y){var Aa,z;if(y[0].style.height){return true}else{Aa=y.height()}y.height("auto");z=y.height();if(Aa!=z){y.height("");return true}y.height("");return false};var w=s.content[0],v=!P.support.kineticScrollNeeded?r:0;if(t(s.element)){if(m>r*2){s.content.height(m)}else{s.content.height(r*2+1)}s.times.height(w.clientHeight);var x=s.times.find("table");if(x.length){x.height(s.content.find("table")[0].clientHeight)}}if(w.offsetWidth-w.clientWidth>0){s.table.addClass("k-scrollbar-v");s.datesHeader.css("padding-"+u,v-parseInt(s.datesHeader.children().css("border-"+u+"-width"),10))}else{s.datesHeader.css("padding-"+u,"")}if(w.offsetHeight-w.clientHeight>0||w.clientHeight>s.content.children(".k-scheduler-table").height()){s.table.addClass("k-scrollbar-h")}else{s.table.removeClass("k-scrollbar-h")}},_topSection:function(m,p,n){this.timesHeader=Q(m.length,p,n);var o=m[m.length-1].length;this.datesHeader=H(m,o,p);return W("<tr>").append(this.timesHeader.add(this.datesHeader).wrap("<td>").parent())},_bottomSection:function(n,m,o){this.times=b(m,o);this.content=L(n[n.length-1],m[m.length-1]);return W("<tr>").append(this.times.add(this.content).wrap("<td>").parent())},_scroller:function(){var n=this;this.content.bind("scroll"+k,function(){n.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(this.scrollLeft);n.times.scrollTop(this.scrollTop)});var m=P.touchScroller(this.content,{avoidScrolling:function(o){return W(o.event.target).closest(".k-event.k-event-active").length>0}});if(m&&m.movable){this._touchScroller=m;this.content=m.scrollElement;m.movable.bind("change",function(o){n.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(-o.sender.x);n.times.scrollTop(-o.sender.y)})}},_resourcesForGroups:function(){var o=[];var n=this.options.group;var p=this.options.resources;n=n&&n.resources?n.resources:[];if(p&&n.length){for(var r=0,m=p.length;r<m;r++){for(var s=0,q=n.length;s<q;s++){if(p[r].name===n[s]){o.push(p[r])}}}}this.groupedResources=o},_createColumnsLayout:function(m,o,n){return h("columns",m,o,n)},_groupOrientation:function(){var m=this.options.group;return m&&m.resources?m.orientation:"horizontal"},_isVerticallyGrouped:function(){return this.groupedResources.length&&this._groupOrientation()==="vertical"},_createRowsLayout:function(m,o,n){return h("rows",m,o,n)},selectionByElement:function(){return null},clearSelection:function(){this.content.find(".k-state-selected").removeAttr("id").attr("aria-selected",false).removeClass("k-state-selected")},destroy:function(){var m=this;M.fn.destroy.call(this);if(m.table){P.destroy(m.table);m.table.remove()}m.groups=null;m.table=null;m.content=null;m.times=null;m.datesHeader=null;m.timesHeader=null;m.footer=null;m._resizeHint=null;m._moveHint=null},calendarInfo:function(){return P.getCulture().calendars.standard},prevGroupSlot:function(r,q,p){var o;var m=this.groups[q];var n=m.ranges(r,r,p,false)[0].start;if(q<=0){return}if(this._isVerticallyGrouped()){if(!m.timeSlotCollectionCount()){o=m._collection(m.daySlotCollectionCount()-1,true);return o.at(n.index)}else{o=m._collection(p?n.index:n.collectionIndex,false);return o.last()}}else{if(!m.timeSlotCollectionCount()){o=m._collection(n.collectionIndex,true);return o.last()}else{o=m._collection(p?0:m.timeSlotCollectionCount()-1,p);return p?o.last():o.at(n.index)}}},nextGroupSlot:function(s,r,q){var p;var m=this.groups[r];var n=m.ranges(s,s,q,false)[0].start;var o;if(r>=this.groups.length-1){return}if(this._isVerticallyGrouped()){if(!m.timeSlotCollectionCount()){p=m._collection(0,true);return p.at(n.index)}else{o=m.daySlotCollectionCount();p=m._collection(o?0:n.collectionIndex,o);return q?p.first():p.at(n.collectionIndex)}}else{if(!m.timeSlotCollectionCount()){p=m._collection(n.collectionIndex,true);return p.first()}else{p=m._collection(0,q);return q?p.first():p.at(n.index)}}},_eventOptionsForMove:function(m){return{}},_updateEventForResize:function(m){return},_updateEventForSelection:function(m){return m}});function N(m,n,p){var q,o,s,t,r;for(q=m.length-1;q>=0;q--){o=D(m[q]);s=o.start;r=o.end;t=s<=n&&r>=n;if(t||(s>=n&&r<=p)||(n<=s&&p>=s)){if(s<n){n=s}if(r>p){p=r}}}return l(m,n,p)}function D(m){return{start:m.start,end:m.end}}function l(n,q,o){var p=[];for(var r=0;r<n.length;r++){var m=D(n[r]);if((m.start<q&&m.end>q)||(m.start>=q&&m.end<=o)){p.push(n[r])}}return p}function e(m){return Y(m)}function j(m){return Y(m)}var G=function(p){var n=this,s=G.formats,m,o,r,q,t;if(arguments.length===1){p=n.resolveColor(p);for(q=0;q<s.length;q++){m=s[q].re;o=s[q].process;r=m.exec(p);if(r){t=o(r);n.r=t[0];n.g=t[1];n.b=t[2]}}}else{n.r=arguments[0];n.g=arguments[1];n.b=arguments[2]}n.r=n.normalizeByte(n.r);n.g=n.normalizeByte(n.g);n.b=n.normalizeByte(n.b)};G.prototype={resolveColor:function(m){m=m||"#000";if(m.charAt(0)=="#"){m=m.substr(1,6)}m=m.replace(/ /g,"");m=m.toLowerCase();m=G.namedColors[m]||m;return m},normalizeByte:function(m){return(m<0||isNaN(m))?0:((m>255)?255:m)},percBrightness:function(){var m=this;return X.sqrt(0.241*m.r*m.r+0.691*m.g*m.g+0.068*m.b*m.b)},isDark:function(){var n=this;var m=n.percBrightness();return m<180}};G.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(m){return[parseInt(m[1],10),parseInt(m[2],10),parseInt(m[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(m){return[parseInt(m[1],16),parseInt(m[2],16),parseInt(m[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(m){return[parseInt(m[1]+m[1],16),parseInt(m[2]+m[2],16),parseInt(m[3]+m[3],16)]}}];G.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};function Y(q){var o=[];for(var p=0;p<q.length;p++){var u=q[p];var m=D(u);var n=null;for(var r=0,t=o.length;r<t;r++){var s=m.start>o[r].end;if(m.start<o[r].start||s){n=o[r];if(n.end<m.end){n.end=m.end}break}}if(!n){n={start:m.start,end:m.end,events:[]};o.push(n)}n.events.push(u)}return o}function h(o,u,n,m){var q=u[0];if(q){var t=[];var p=q.dataSource.view();for(var r=0;r<p.length;r++){var s={text:m({text:P.htmlEncode(P.getter(q.dataTextField)(p[r])),color:P.getter(q.dataColorField)(p[r]),field:q.field,title:q.title,name:q.name,value:P.getter(q.dataValueField)(p[r])}),className:"k-slot-cell"};s[o]=h(o,u.slice(1),n,m);t.push(s)}return t}return n}function Z(m){return function(n){if(W.isArray(n)||n instanceof P.data.ObservableArray){for(var o=0;o<n.length;o++){if(n[o]==m){return true}}return false}return n==m}}var A=/\s*k-state-selected/;function K(m){m.className=m.className.replace(A,"")+" k-state-selected"}W.extend(a.SchedulerView,{createColumns:e,createRows:j,rangeIndex:D,collidingEvents:N,groupEqFilter:Z})})(window.kendo.jQuery);(function(V,W){var S=window.kendo,B=S.ui,G=S.date.setTime,A=B.SchedulerView,I=V.extend,X=V.proxy,L=S.date.getDate,F=S.date.MS_PER_MINUTE,R=S.date.MS_PER_DAY,H=S.date.getMilliseconds,M=".kendoMultiDayView";var N=S.template('<div title="(#=kendo.format("{0:t} - {1:t}", start, end)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template k-event-time">#:kendo.format("{0:t} - {1:t}", start, end)#</div><div class="k-event-template">${title}</div></div>'),D=S.template('<div title="(#=kendo.format("{0:t}", start)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">${title}</div></div>'),U=S.template("<span class='k-link k-nav-day'>#=kendo.toString(date, 'ddd M/dd')#</span>"),K='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color#; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#" #} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span>#if(resizable && !singleDay && !data.tail && !data.middle){#<span class="k-resize-handle k-resize-w"></span>#}##if(resizable && !singleDay && !data.head && !data.middle){#<span class="k-resize-handle k-resize-e"></span>#}#</div>',C='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#" #if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</span><span class="k-event-top-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-n"></span># } #</span><span class="k-event-bottom-actions"># if(data.head || data.middle) {#<span class="k-icon k-i-arrow-s"></span># } #</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-n"></span># } ## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-s"></span># } #</div>';function E(Z){var Y=new Date(1980,1,1,0,0,0);G(Y,H(Z));return Y}function T(Z,Y,a){return Z>=Y&&Z<=a}function J(a,Y,b,Z){Z=Z?a<=b:a<b;return a>Y&&Z}function Q(c,e,Y,f){var d=c._continuousEvents;var b=d[d.length-1];var a=L(e.start.startDate()).getTime();if(f&&b&&L(b.start.startDate()).getTime()==a){var Z=d.length-1;for(;Z>-1;Z--){if(d[Z].isAllDay||L(d[Z].start.startDate()).getTime()<a){break}}d.splice(Z+1,0,{element:Y,isAllDay:true,uid:Y.attr(S.attr("uid")),start:e.start,end:e.end})}else{d.push({element:Y,isAllDay:f,uid:Y.attr(S.attr("uid")),start:e.start,end:e.end})}}function O(Y){var a=[];var Z=Y.workWeekStart;a.push(Z);while(Y.workWeekEnd!=Z){if(Z>6){Z-=7}else{Z++}a.push(Z)}return a}var P=A.extend({init:function(a,Z){var Y=this;A.fn.init.call(Y,a,Z);Y.title=Y.options.title||Y.options.name;Y._workDays=O(Y.options);Y._templates();Y._editable();Y.calculateDateRange();Y._groups();Y._currentTime()},_currentTimeMarkerUpdater:function(){var f=new Date();var g=this.options;if(g.currentTimeMarker.useLocalTimezone===false){var a=g.dataSource.options.schema.timezone;if(g.dataSource&&a){var k=S.timezone.offset(f,a);f=S.timezone.convert(f,f.getTimezoneOffset(),k)}}this.times.find(".k-current-time").remove();var b=!g.group||g.group.orientation=="horizontal"?1:this.groups.length;for(var Z=0;Z<b;Z++){var Y=this.groups[Z];var e=S.date.toUtcTime(f);var h=Y.timeSlotRanges(e,e+1);if(h.length===0){return}var c=h[0].collection;var j=c.slotByStartDate(f);if(j){var d=V("<div class='k-current-time'></div>");d.appendTo(this.times).css({top:Math.round(h[0].innerRect(f,new Date(f.getTime()+1),false).top),height:"1px",right:"1px",left:0})}}},_currentTime:function(){var Z=this;var a=Z.options.currentTimeMarker;if(a!==false&&a.updateInterval!==W){var Y=a.updateInterval;Z._currentTimeMarkerUpdater();Z._currentTimeUpdateTimer=setInterval(X(this._currentTimeMarkerUpdater,Z),Y)}},_updateResizeHint:function(g,Y,b,j){var n=g.isMultiDay();var f=this.groups[Y];var m=f.ranges(b,j,n,g.isAllDay);this._removeResizeHint();for(var d=0;d<m.length;d++){var Z=m[d];var p=Z.startSlot();var e=p.offsetWidth;var o=p.clientHeight;var h=p.offsetTop;if(n){e=Z.innerWidth()}else{var c=Z.outerRect(b,j,this.options.snap);h=c.top;o=c.bottom-c.top}var k=A.fn._createResizeHint.call(this,p.offsetLeft,h,e,o);this._resizeHint=this._resizeHint.add(k)}var a="t";var l=this.content;if(n){a="M/dd";l=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div");if(!l.length){l=this.content}}this._resizeHint.appendTo(l);this._resizeHint.find(".k-label-top,.k-label-bottom").text("");this._resizeHint.first().addClass("k-first").find(".k-label-top").text(S.toString(S.timezone.toLocalDate(b),a));this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(S.toString(S.timezone.toLocalDate(j),a))},_updateMoveHint:function(f,Y,g){var m=f.isMultiDay();var h=this.groups[Y];var a=S.date.toUtcTime(f.start)+g;var d=a+f.duration();var j=h.ranges(a,d,m,f.isAllDay);a=S.timezone.toLocalDate(a);d=S.timezone.toLocalDate(d);this._removeMoveHint();if(!m&&(H(d)===0||H(d)<H(this.startTime()))){if(j.length>1){j.pop()}}for(var Z=0;Z<j.length;Z++){var l=j[Z];var n=l.start;var c=this._createEventElement(f.clone({start:a,end:d}),!m);c.addClass("k-event-drag-hint");var e={left:n.offsetLeft+2,top:n.offsetTop};if(this._isRtl){e.left=n.clientWidth*0.1+n.offsetLeft+2}if(m){e.width=l.innerWidth()-4}else{var b=l.outerRect(a,d,this.options.snap);e.top=b.top;e.height=b.bottom-b.top;e.width=n.clientWidth*0.9-4}c.css(e);this._moveHint=this._moveHint.add(c)}var k=this.content;if(m){k=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div");if(!k.length){k=this.content}}this._moveHint.appendTo(k)},_slotByPosition:function(b,c){var Z;var Y;if(this._isVerticallyGrouped()){Y=this.content.offset();c+=this.content[0].scrollTop;b+=this.content[0].scrollLeft}else{Y=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day)").find(">div").offset()}if(Y){b-=Y.left;c-=Y.top}b=Math.ceil(b);c=Math.ceil(c);var d;var a;for(a=0;a<this.groups.length;a++){d=this.groups[a];Z=d.daySlotByPosition(b,c);if(Z){return Z}}if(Y){b+=Y.left;c+=Y.top}Y=this.content.offset();b-=Y.left;c-=Y.top;if(!this._isVerticallyGrouped()){c+=this.content[0].scrollTop;b+=this.content[0].scrollLeft}b=Math.ceil(b);c=Math.ceil(c);for(a=0;a<this.groups.length;a++){d=this.groups[a];Z=d.timeSlotByPosition(b,c);if(Z){return Z}}return null},_groupCount:function(){var Y=this.groupedResources;if(Y.length){if(this._groupOrientation()==="vertical"){return this._rowCountForLevel(Y.length-1)}else{return this._columnCountForLevel(Y.length)/this._columnOffsetForResource(Y.length)}}return 1},_columnCountInResourceView:function(){var Y=this.groupedResources;if(!Y.length||this._isVerticallyGrouped()){return this._columnCountForLevel(0)}return this._columnOffsetForResource(Y.length)},_timeSlotGroups:function(n,k){var g=this._timeSlotInterval();var e=this.content.find("tr:not(.k-scheduler-header-all-day)");e.attr("role","row");var q=e.length;if(this._isVerticallyGrouped()){q=Math.floor(q/n)}for(var f=0;f<n;f++){var p=0;if(this._isVerticallyGrouped()){p=f}var Y=p*q;var c;var b=0;if(!this._isVerticallyGrouped()){b=f}while(Y<(p+1)*q){var m=e[Y].children;var l=this.groups[f];if(Y%q===0){c=H(new Date(+this.startTime()))}for(var a=b*k;a<(b+1)*k;a++){var h=m[a];var j=a%k;var o=l.getTimeSlotCollection(j);var Z=this._dates[j];var s=Date.UTC(Z.getFullYear(),Z.getMonth(),Z.getDate());var r=s+c;var d=r+g;h.setAttribute("role","gridcell");h.setAttribute("aria-selected",false);o.addTimeSlot(h,r,d)}c+=g;Y++}}},_daySlotGroups:function(b,d){var k;if(this._isVerticallyGrouped()){k=this.element.find(".k-scheduler-header-all-day")}else{k=this.element.find(".k-scheduler-header-all-day tr")}k.attr("role","row");for(var Y=0;Y<b;Y++){var l=0;if(this._isVerticallyGrouped()){l=Y}var g=this.groups[Y];var c=g.getDaySlotCollection(0);var m=k[l].children;var f=0;if(!this._isVerticallyGrouped()){f=Y}var h=0;for(var a=f*d;a<(f+1)*d;a++){var e=m[a];if(a%d===0){h=0}var Z=this._dates[h];var j=Date.UTC(Z.getFullYear(),Z.getMonth(),Z.getDate());h++;e.setAttribute("role","gridcell");e.setAttribute("aria-selected",false);c.addDaySlot(e,j,j+S.date.MS_PER_DAY)}}},_groups:function(){var a=this._groupCount();var Y=this._columnCountInResourceView();this.groups=[];for(var b=0;b<a;b++){var Z=this._addResourceView(b);for(var c=0;c<Y;c++){Z.addTimeSlotCollection(this._dates[c],S.date.addDays(this._dates[c],1))}if(this.options.allDaySlot){Z.addDaySlotCollection(this._dates[0],S.date.addDays(this._dates[this._dates.length-1],1))}}this._timeSlotGroups(a,Y);if(this.options.allDaySlot){this._daySlotGroups(a,Y)}},options:{name:"MultiDayView",selectedDateFormat:"{0:D}",selectedShortDateFormat:"{0:d}",allDaySlot:true,showWorkHours:false,title:"",startTime:S.date.today(),endTime:S.date.today(),minorTickCount:2,majorTick:60,majorTimeHeaderTemplate:"#=kendo.toString(date, 't')#",minorTimeHeaderTemplate:"&nbsp;",groupHeaderTemplate:"#=text#",slotTemplate:"&nbsp;",allDaySlotTemplate:"&nbsp;",eventTemplate:N,allDayEventTemplate:D,dateHeaderTemplate:U,editable:true,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,footer:{command:"workDay"},messages:{allDay:"all day",showFullDay:"Show full day",showWorkDay:"Show business hours"},currentTimeMarker:{updateInterval:10000,useLocalTimezone:true}},events:["remove","add","edit"],_templates:function(){var Y=this.options,Z=I({},S.Template,Y.templateSettings);this.eventTemplate=this._eventTmpl(Y.eventTemplate,C);this.allDayEventTemplate=this._eventTmpl(Y.allDayEventTemplate,K);this.majorTimeHeaderTemplate=S.template(Y.majorTimeHeaderTemplate,Z);this.minorTimeHeaderTemplate=S.template(Y.minorTimeHeaderTemplate,Z);this.dateHeaderTemplate=S.template(Y.dateHeaderTemplate,Z);this.slotTemplate=S.template(Y.slotTemplate,Z);this.allDaySlotTemplate=S.template(Y.allDaySlotTemplate,Z);this.groupHeaderTemplate=S.template(Y.groupHeaderTemplate,Z)},_editable:function(){if(this.options.editable){if(this._isMobile()){this._touchEditable()}else{this._mouseEditable()}}},_mouseEditable:function(){var Y=this;Y.element.on("click"+M,".k-event a:has(.k-si-close)",function(Z){Y.trigger("remove",{uid:V(this).closest(".k-event").attr(S.attr("uid"))});Z.preventDefault()});if(Y.options.editable.create!==false){Y.element.on("dblclick"+M,".k-scheduler-content td",function(Z){if(!V(this).parent().hasClass("k-scheduler-header-all-day")){var a=Y._slotByPosition(Z.pageX,Z.pageY);if(a){var b=Y._resourceBySlot(a);Y.trigger("add",{eventInfo:I({start:a.startDate(),end:a.endDate()},b)})}Z.preventDefault()}}).on("dblclick"+M,".k-scheduler-header-all-day td",function(Z){var a=Y._slotByPosition(Z.pageX,Z.pageY);if(a){var b=Y._resourceBySlot(a);Y.trigger("add",{eventInfo:I({},{isAllDay:true,start:S.date.getDate(a.startDate()),end:S.date.getDate(a.startDate())},b)})}Z.preventDefault()})}if(Y.options.editable.update!==false){Y.element.on("dblclick"+M,".k-event",function(Z){Y.trigger("edit",{uid:V(this).closest(".k-event").attr(S.attr("uid"))});Z.preventDefault()})}},_touchEditable:function(){var Y=this;if(Y.options.editable.create!==false){Y._addUserEvents=new S.UserEvents(Y.element,{filter:".k-scheduler-content td",tap:function(Z){if(!V(Z.target).parent().hasClass("k-scheduler-header-all-day")){var a=Y._slotByPosition(Z.x.location,Z.y.location);if(a){var b=Y._resourceBySlot(a);Y.trigger("add",{eventInfo:I({start:a.startDate(),end:a.endDate()},b)})}Z.preventDefault()}}});Y._allDayUserEvents=new S.UserEvents(Y.element,{filter:".k-scheduler-header-all-day td",tap:function(Z){var a=Y._slotByPosition(Z.x.location,Z.y.location);if(a){var b=Y._resourceBySlot(a);Y.trigger("add",{eventInfo:I({},{isAllDay:true,start:S.date.getDate(a.startDate()),end:S.date.getDate(a.startDate())},b)})}Z.preventDefault()}})}if(Y.options.editable.update!==false){Y._editUserEvents=new S.UserEvents(Y.element,{filter:".k-event",tap:function(a){var Z=V(a.target).closest(".k-event");if(!Z.hasClass("k-event-active")){Y.trigger("edit",{uid:Z.attr(S.attr("uid"))})}a.preventDefault()}})}},_layout:function(e){var a=[];var Y=[];var d=this.options;var c=this;for(var b=0;b<e.length;b++){var Z={};Z.text=c.dateHeaderTemplate({date:e[b]});if(S.date.isToday(e[b])){Z.className="k-today"}a.push(Z)}var f=this.groupedResources;if(d.allDaySlot){Y.push({text:d.messages.allDay,allDay:true,cellContent:function(g){var h=g;g=f.length&&c._groupOrientation()!=="vertical"?g%e.length:g;return c.allDaySlotTemplate({date:e[g],resources:function(){return c._resourceBySlot({groupIndex:h})}})}})}this._forTimeRange(this.startTime(),this.endTime(),function(l,j,g,k){var m=j?c.majorTimeHeaderTemplate:c.minorTimeHeaderTemplate;var h={text:m({date:l}),className:k?"k-slot-cell":""};Y.push(h)});if(f.length){if(this._groupOrientation()==="vertical"){Y=this._createRowsLayout(f,Y,this.groupHeaderTemplate)}else{a=this._createColumnsLayout(f,a,this.groupHeaderTemplate)}}return{columns:a,rows:Y}},_footer:function(){var a=this.options;if(a.footer!==false){var Y='<div class="k-header k-scheduler-footer">';var b=a.footer.command;if(b&&b==="workDay"){Y+='<ul class="k-reset k-header">';Y+='<li class="k-state-default k-scheduler-fullday"><a href="#" class="k-link"><span class="k-icon k-i-clock"></span>';Y+=(a.showWorkHours?a.messages.showFullDay:a.messages.showWorkDay)+"</a></li>";Y+="</ul>"}else{Y+="&nbsp;"}Y+="</div>";this.footer=V(Y).appendTo(this.element);var Z=this;this.footer.on("click"+M,".k-scheduler-fullday",function(c){c.preventDefault();Z.trigger("navigate",{view:Z.name||a.name,date:Z.startDate(),isWorkDay:!a.showWorkHours})})}},_forTimeRange:function(h,o,n,j){h=E(h);o=E(o);var b=this,m=H(h),r=H(o),Z=b.options.minorTickCount,p=b.options.majorTick*F,l=p/Z||1,s=new Date(+h),d=s.getDate(),c,q=0,Y,k="";Y=R/l;if(m!=r){if(m>r){r+=R}Y=((r-m)/l)}Y=Math.round(Y);for(;q<Y;q++){var e=q%(p/l),a=e===0,f=e<Z-1,g=e===Z-1;k+=n(s,a,f,g);G(s,l,false)}if(r){c=H(s);if(d<s.getDate()){c+=R}if(c>r){s=new Date(+o)}}if(j){k+=j(s)}return k},_content:function(f){var h=this;var g=h.options;var Z=h.startTime();var b=this.endTime();var a=1;var o=1;var d=f.length;var m="";var n=this.groupedResources;var j=this.slotTemplate;var l=this.allDaySlotTemplate;var Y=false;var k;if(n.length){Y=h._groupOrientation()==="vertical";if(Y){o=this._rowCountForLevel(this.rowLevels.length-2);if(g.allDaySlot){k=function(t){var q='<tr class="k-scheduler-header-all-day">';var r=function(){return h._resourceBySlot({groupIndex:t})};for(var s=0,p=f.length;s<p;s++){q+="<td>"+l({date:f[s],resources:r})+"</td>"}return q+"</tr>"}}}else{a=this._columnCountForLevel(this.columnLevels.length-2)}}m+="<tbody>";var e=function(x,q){var w="";var s;var t;var r="";var v;var u=0;w="<tr"+(q?' class="k-middle-row"':"")+">";var p=function(y){return function(){return h._resourceBySlot({groupIndex:y})}};for(;u<a;u++){for(s=0,t=d;s<t;s++){r="";if(S.date.isToday(f[s])){r+="k-today"}if(S.date.getMilliseconds(x)<S.date.getMilliseconds(h.options.workDayStart)||S.date.getMilliseconds(x)>=S.date.getMilliseconds(h.options.workDayEnd)||!h._isWorkDay(f[s])){r+=" k-nonwork-hour"}w+="<td"+(r!==""?' class="'+r+'"':"")+">";v=S.date.getDate(f[s]);S.date.setTime(v,S.date.getMilliseconds(x));w+=j({date:v,resources:p(Y?c:u)});w+="</td>"}}w+="</tr>";return w};for(var c=0;c<o;c++){m+=k?k(c):"";m+=this._forTimeRange(Z,b,e)}m+="</tbody>";this.content.find("table").append(m)},_isWorkDay:function(a){var Z=a.getDay();var b=this._workDays;for(var Y=0;Y<b.length;Y++){if(b[Y]===Z){return true}}return false},_render:function(Z){var Y=this;Z=Z||[];this._dates=Z;this._startDate=Z[0];this._endDate=Z[(Z.length-1)||0];this.createLayout(this._layout(Z));this._content(Z);this._footer();this.refreshLayout();var a=this.element.find(".k-scheduler-header-all-day td");if(a.length){this._allDayHeaderHeight=a.first()[0].clientHeight}Y.datesHeader.on("click"+M,".k-nav-day",function(c){var d=V(c.currentTarget).closest("th");var b=d.offset();var f=Y._slotByPosition(b.left,b.top+d.outerHeight());Y.trigger("navigate",{view:"day",date:f.startDate()})})},startTime:function(){var Y=this.options;return Y.showWorkHours?Y.workDayStart:Y.startTime},endTime:function(){var Y=this.options;return Y.showWorkHours?Y.workDayEnd:Y.endTime},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_end:function(Y){var Z=H(this.endTime())||R;if(Y){Z=0}return new Date(this._endDate.getTime()+Z)},nextDate:function(){return S.date.nextDay(this.endDate())},previousDate:function(){return S.date.previousDay(this.startDate())},calculateDateRange:function(){this._render([this.options.date])},destroy:function(){var Y=this;if(Y._currentTimeUpdateTimer){clearInterval(Y._currentTimeUpdateTimer)}if(Y.datesHeader){Y.datesHeader.off(M)}if(Y.element){Y.element.off(M)}if(Y.footer){Y.footer.remove()}A.fn.destroy.call(this);if(this._isMobile()&&Y.options.editable){if(Y.options.editable.create!==false){Y._addUserEvents.destroy();Y._allDayUserEvents.destroy()}if(Y.options.editable.update!==false){Y._editUserEvents.destroy()}}},inRange:function(Z){var Y=A.fn.inRange.call(this,Z);var a=H(this.startTime());var c=H(this.endTime())||S.date.MS_PER_DAY;var d=H(Z.start);var b=H(Z.end)||S.date.MS_PER_DAY;return Y&&a<=d&&b<=c},selectionByElement:function(Z){var Y=Z.offset();return this._slotByPosition(Y.left,Y.top)},_timeSlotInterval:function(){var Y=this.options;return(Y.majorTick/Y.minorTickCount)*F},_timeSlotIndex:function(c){var a=this.options;var Y=H(c);var b=H(this.startTime());var Z=((a.majorTick/a.minorTickCount)*F);return(Y-b)/(Z)},_slotIndex:function(Z,Y){if(Y){return this._dateSlotIndex(Z)}return this._timeSlotIndex(Z)},_dateSlotIndex:function(Z,f){var a;var e;var c=this._dates||[];var b;var d;var Y=1;for(a=0,e=c.length;a<e;a++){b=S.date.getDate(c[a]);d=new Date(S.date.getDate(c[a]).getTime()+R-(f?0:1));if(T(Z,b,d)){return a*Y}}return -1},_positionAllDayEvent:function(l,f){var r=f.innerWidth();var a=f.start.index;var e=f.end.index;var k=A.collidingEvents(f.events(),a,e);var c=this._headerColumnCount||0;var b=2;var g=a!==e?5:4;var n=this._allDayHeaderHeight;var q=f.startSlot();l.css({left:q.offsetLeft+b,width:r-g});f.addEvent({slotIndex:a,start:a,end:e,element:l});k.push({slotIndex:a,start:a,end:e,element:l});var o=A.createRows(k);if(o.length&&o.length>c){this._headerColumnCount=o.length}var m=f.start.offsetTop;for(var p=0,Y=o.length;p<Y;p++){var d=o[p].events;for(var Z=0,h=d.length;Z<h;Z++){V(d[Z].element).css({top:m+p*n})}}},_arrangeColumns:function(a,g,b,Y){var f=Y.start;a={element:a,slotIndex:f.index,start:g,end:g+b};var e,p=f.clientWidth,Z=p*0.1,n,h=Y.events(),m=A.collidingEvents(h,a.start,a.end);Y.addEvent(a);m.push(a);e=A.createColumns(m);var d=(p-Z)/e.length;for(var c=0,o=e.length;c<o;c++){n=e[c].events;for(var k=0,l=n.length;k<l;k++){n[k].element[0].style.width=d-4+"px";n[k].element[0].style.left=(this._isRtl?Z:0)+f.offsetLeft+c*d+2+"px"}}},_positionEvent:function(b,d,Z){var e=b._startTime||b.start;var c=b._endTime||b.end;var a=Z.innerRect(e,c,false);var Y=a.bottom-a.top-2;if(Y<0){Y=0}d.css({top:a.top,height:Y});this._arrangeColumns(d,a.top,d[0].clientHeight,Z)},_createEventElement:function(m,q,e,Y){var u=q?this.eventTemplate:this.allDayEventTemplate;var g=this.options;var s=g.editable;var o=this._isMobile();var l=s&&s.destroy!==false&&!o;var f=s&&s.resize!==false;var t=L(this.startDate());var Z=L(this.endDate());var p=H(this.startTime());var a=H(this.endTime());var b=m._time("start");var h=m._time("end");var k;if(p>=a){a=H(new Date(this.endTime().getTime()+R-1))}if(!q&&!m.isAllDay){Z=new Date(Z.getTime()+R)}var d=m.start;var c=m.end;if(m.isAllDay){c=L(m.end)}if((!T(L(d),t,Z)&&!T(c,t,Z))||(q&&b<p&&h>a)){k=true}else{if(L(d)<t||(q&&b<p)){Y=true}else{if((c>Z&&!q)||(q&&h>a)){e=true}}}var j=this.eventResources(m);if(m._startTime){d=new Date(b);d=S.timezone.apply(d,"Etc/UTC")}if(m.endTime){c=new Date(h);c=S.timezone.apply(c,"Etc/UTC")}var r=I({},{ns:S.ns,resizable:f,showDelete:l,middle:k,head:e,tail:Y,singleDay:this._dates.length==1,resources:j,inverseColor:j&&j[0]?this._shouldInverseResourceColor(j[0]):false},m,{start:d,end:c});var n=V(u(r));this.angular("compile",function(){return{elements:n,data:[{dataItem:r}]}});return n},_isInTimeSlot:function(a){var Y=this.startTime(),b=this.endTime(),Z=a._startTime||a.start,c=a._endTime||a.end;if(H(b)===H(S.date.getDate(b))){b=S.date.getDate(b);G(b,R-1)}if(a._date("end")>a._date("start")){c=+a._date("end")+(R-1)}c=c-a._date("end");Z=Z-a._date("start");b=H(b);Y=H(Y);if(Y===Z&&Z===c){return true}var d=Z!==b;return J(Z,Y,b,d)||J(c,Y,b,d)||J(Y,Z,c)||J(b,Z,c)},_isInDateSlot:function(c){var Z=this.groups[0];var a=Z.firstSlot().start;var Y=Z.lastSlot().end-1;var b=S.date.toUtcTime(c.start);var d=S.date.toUtcTime(c.end);return(T(b,a,Y)||T(d,a,Y)||T(a,b,d)||T(Y,b,d))&&(!T(d,a,a)||T(d,b,b)||c.isAllDay)},_updateAllDayHeaderHeight:function(Y){if(this._height!==Y){this._height=Y;var a=this.element.find(".k-scheduler-header-all-day td");if(a.length){a.parent().add(this.element.find(".k-scheduler-times-all-day").parent()).height(Y);for(var Z=0;Z<this.groups.length;Z++){this.groups[Z].refresh()}}}},_renderEvents:function(g,l){var c=this.datesHeader.find(".k-scheduler-header-wrap > div");var j;var p;var Y;for(p=0,Y=g.length;p<Y;p++){j=g[p];if(this._isInDateSlot(j)){var b=j.isAllDay||j.end.getTime()-j.start.getTime()>=R;var n=b&&!this._isVerticallyGrouped()?c:this.content;var m;var o;var h;if(!b){if(this._isInTimeSlot(j)){h=this.groups[l];if(!h._continuousEvents){h._continuousEvents=[]}o=h.slotRanges(j);var k=o.length;for(var f=0;f<k;f++){var a=o[f];var q=j.start;var e=j.end;if(k>1){if(f===0){e=a.end.endDate()}else{if(f==k-1){q=a.start.startDate()}else{q=a.start.startDate();e=a.end.endDate()}}}var Z=j.clone({start:q,end:e,_startTime:j._startTime,_endTime:j.endTime});if(this._isInTimeSlot(Z)){var d=a.head;m=this._createEventElement(j,!b,d,a.tail);m.appendTo(n);this._positionEvent(Z,m,a);Q(h,a,m,false)}}}}else{if(this.options.allDaySlot){h=this.groups[l];if(!h._continuousEvents){h._continuousEvents=[]}o=h.slotRanges(j);if(o.length){m=this._createEventElement(j,!b);this._positionAllDayEvent(m,o[0]);Q(h,o[0],m,true);m.appendTo(n)}}}}}},render:function(c){this._headerColumnCount=0;this._groups();this.element.find(".k-event").remove();c=new S.data.Query(c).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var b=[];this._eventsByResource(c,this.groupedResources,b);var Z=this;var a=V.map(this._dates,function(e){return Math.max.apply(null,V.map(b,function(f){return V.grep(f,function(g){return g.isMultiDay()&&T(e,L(g.start),L(g.end))}).length}))});var Y=Math.max.apply(null,a);this._updateAllDayHeaderHeight((Y+1)*this._allDayHeaderHeight);for(var d=0;d<b.length;d++){this._renderEvents(b[d],d)}this.refreshLayout();this.trigger("activate")},_eventsByResource:function(d,f,Z){var a=f[0];if(a){var Y=a.dataSource.view();for(var e=0;e<Y.length;e++){var b=this._resourceValue(a,Y[e]);var c=new S.data.Query(d).filter({field:a.field,operator:A.groupEqFilter(b)}).toArray();if(f.length>1){this._eventsByResource(c,f.slice(1),Z)}else{Z.push(c)}}}else{Z.push(d)}},_columnOffsetForResource:function(Y){return this._columnCountForLevel(Y)/this._columnCountForLevel(Y-1)},_columnCountForLevel:function(Z){var Y=this.columnLevels[Z];return Y?Y.length:0},_rowCountForLevel:function(Y){var Z=this.rowLevels[Y];return Z?Z.length:0},clearSelection:function(){this.content.add(this.datesHeader).find(".k-state-selected").removeAttr("id").attr("aria-selected",false).removeClass("k-state-selected")},_updateDirection:function(c,d,e,Z,Y){var f=c.isAllDay;var b=d[0].start;var a=d[d.length-1].end;if(e){if(Y){if(!f&&b.index===a.index&&b.collectionIndex===a.collectionIndex){c.backward=Z}}else{if((f&&b.index===a.index)||(!f&&b.collectionIndex===a.collectionIndex)){c.backward=Z}}}},_changeViewPeriod:function(c,Y,Z){if(!Z){var d=Y?this.previousDate():this.nextDate();var e=c.start;var b=c.end;c.start=new Date(d);c.end=new Date(d);var a=c.isAllDay?R:H(b);G(c.start,H(e));G(c.end,a);if(!this._isVerticallyGrouped()){c.groupIndex=Y?this.groups.length-1:0}c.events=[];return true}}});I(true,B,{MultiDayView:P,DayView:P.extend({options:{name:"DayView",title:"Day"},name:"day"}),WeekView:P.extend({options:{name:"WeekView",title:"Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}"},name:"week",calculateDateRange:function(){var b=this.options.date,c=S.date.dayOfWeek(b,this.calendarInfo().firstDay,-1),a,Y,Z=[];for(a=0,Y=7;a<Y;a++){Z.push(c);c=S.date.nextDay(c)}this._render(Z)}}),WorkWeekView:P.extend({options:{name:"WorkWeekView",title:"Work Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}"},name:"workWeek",nextDate:function(){return S.date.dayOfWeek(S.date.nextDay(this.endDate()),this.options.workWeekStart,1)},previousDate:function(){return S.date.previousDay(this.startDate())},calculateDateRange:function(){var a=this.options.date,b=S.date.dayOfWeek(a,this.options.workWeekStart,-1),Z=S.date.dayOfWeek(b,this.options.workWeekEnd,1),Y=[];while(b<=Z){Y.push(b);b=S.date.nextDay(b)}this._render(Y)}})})})(window.kendo.jQuery);(function(G){var B=window.kendo,I=B.ui,D=".kendoAgendaView";var E='<div class="k-task" title="#:title.replace(/"/g,"\'")#" data-#=kendo.ns#uid="#=uid#"># if (resources[0]) {#<span class="k-scheduler-mark" style="background-color:#=resources[0].color#"></span># } ## if (data.isException()) { #<span class="k-icon k-i-exception"></span># } else if (data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #{0}#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</div>';I.AgendaView=I.SchedulerView.extend({init:function(K,J){I.SchedulerView.fn.init.call(this,K,J);J=this.options;if(J.editable){J.editable=G.extend({"delete":true},J.editable,{create:false,update:false})}this.title=J.title;this.name="agenda";this._eventTemplate=this._eventTmpl(J.eventTemplate,E);this._dateTemplate=B.template(J.eventDateTemplate);this._groupTemplate=B.template(J.eventGroupTemplate);this._timeTemplate=B.template(J.eventTimeTemplate);this.element.on("mouseenter"+D,".k-scheduler-agenda .k-scheduler-content tr","_mouseenter").on("mouseleave"+D,".k-scheduler-agenda .k-scheduler-content tr","_mouseleave").on("click"+D,".k-scheduler-agenda .k-scheduler-content .k-link:has(.k-si-close)","_remove");this._renderLayout(J.date)},_mouseenter:function(J){G(J.currentTarget).addClass("k-state-hover")},_mouseleave:function(J){G(J.currentTarget).removeClass("k-state-hover")},_remove:function(J){J.preventDefault();this.trigger("remove",{uid:G(J.currentTarget).closest(".k-task").attr(B.attr("uid"))})},nextDate:function(){return B.date.nextDay(this.startDate())},startDate:function(){return this._startDate},endDate:function(){return this._endDate},previousDate:function(){return B.date.previousDay(this.startDate())},_renderLayout:function(J){this._startDate=J;this._endDate=B.date.addDays(J,7);this.createLayout(this._layout());this.table.addClass("k-scheduler-agenda")},_layout:function(){var M=[{text:this.options.messages.time,className:"k-scheduler-timecolumn"},{text:this.options.messages.event}];if(!this._isMobilePhoneView()){M.splice(0,0,{text:this.options.messages.date,className:"k-scheduler-datecolumn"})}var J=this.groupedResources;if(J.length){var L=[];for(var K=0;K<J.length;K++){L.push({text:"",className:"k-scheduler-groupcolumn"})}M=L.concat(M)}return{columns:M}},_tasks:function(R){var P=[];for(var K=0;K<R.length;K++){var N=R[K];var J=N.start;var L=N.end;var Q=(B.date.getDate(L)-B.date.getDate(J))/B.date.MS_PER_DAY+1;var M=N.clone();M.startDate=B.date.getDate(J);if(M.startDate>=this.startDate()){P.push(M)}if(Q>1){M.end=B.date.nextDay(J);M.head=true;for(var O=1;O<Q;O++){J=M.end;M=N.clone();M.start=J;M.startDate=B.date.getDate(J);M.end=B.date.nextDay(J);if(O==Q-1){M.end=new Date(M.start.getFullYear(),M.start.getMonth(),M.start.getDate(),L.getHours(),L.getMinutes(),L.getSeconds(),L.getMilliseconds());M.tail=true}else{M.isAllDay=true;M.middle=true}if(M.end<=this.endDate()&&M.start>=this.startDate()){P.push(M)}}}}return new B.data.Query(P).sort([{field:"start",dir:"asc"},{field:"end",dir:"asc"}]).groupBy({field:"startDate"}).toArray()},_renderTaskGroups:function(O,T){var K=[];var N=this.options.editable;var U=N&&N.destroy!==false&&!this._isMobile();var X=this._isMobilePhoneView();for(var V=0;V<O.length;V++){var P=O[V].value;var S=O[V].items;var Q=B.date.isToday(P);for(var J=0;J<S.length;J++){var M=S[J];var L=[];var W=!X?L:[];if(V===0&&J===0&&T.length){for(var R=0;R<T.length;R++){W.push(B.format('<td class="k-scheduler-groupcolumn{2}" rowspan="{0}">{1}</td>',T[R].rowSpan,this._groupTemplate({value:T[R].text}),T[R].className))}}if(J===0){if(X){W.push(B.format('<td class="k-scheduler-datecolumn" colspan="2">{0}</td>',this._dateTemplate({date:P})));K.push('<tr role="row" aria-selected="false"'+(Q?' class="k-today">':">")+W.join("")+"</tr>")}else{L.push(B.format('<td class="k-scheduler-datecolumn{3}{2}" rowspan="{0}">{1}</td>',S.length,this._dateTemplate({date:P}),V==O.length-1&&!T.length?" k-last":"",!T.length?" k-first":""))}}if(M.head){M.format="{0:t}"}else{if(M.tail){M.format="{1:t}"}else{M.format="{0:t}-{1:t}"}}M.resources=this.eventResources(M);L.push(B.format('<td class="k-scheduler-timecolumn"><div>{0}{1}{2}</div></td><td>{3}</td>',M.tail||M.middle?'<span class="k-icon k-i-arrow-w"></span>':"",this._timeTemplate(M.clone({start:M._startTime||M.start,end:M.endTime||M.end})),M.head||M.middle?'<span class="k-icon k-i-arrow-e"></span>':"",this._eventTemplate(M.clone({showDelete:U}))));K.push('<tr role="row" aria-selected="false"'+(Q?' class="k-today">':">")+L.join("")+"</tr>")}}return K.join("")},render:function(M){var N=this.content.find("table").empty();var J=[];if(M.length>0){var L=this.groupedResources;if(L.length){J=this._createGroupConfiguration(M,L,null);this._renderGroups(J,N,[])}else{J=this._tasks(M);N.append(this._renderTaskGroups(J,[]))}}var K=this._eventsList=F(J);this._angularItems(N,K);this.refreshLayout();this.trigger("activate")},_angularItems:function(K,J){this.angular("compile",function(){var M=[],L=J.map(function(N){M.push({dataItem:N});return K.find(".k-task["+B.attr("uid")+"="+N.uid+"]")});return{elements:L,data:M}})},_renderGroups:function(K,O,N){for(var L=0,J=K.length;L<J;L++){var M=N.splice(0);M.push(K[L]);if(K[L].groups){this._renderGroups(K[L].groups,O,M)}else{O.append(this._renderTaskGroups(K[L].items,M))}}},_createGroupConfiguration:function(T,V,U){var K=V[0];var S=[];var J=K.dataSource.view();var W=this._isMobilePhoneView();for(var Q=0;Q<J.length;Q++){var M=A(K,J[Q]);var L=new B.data.Query(T).filter({field:K.field,operator:I.SchedulerView.groupEqFilter(M)}).toArray();if(L.length){var N=this._tasks(L);var O=U?"":" k-first";if(Q===J.length-1&&(!U||U.className.indexOf("k-last")>-1)){O+=" k-last"}var R={text:B.getter(K.dataTextField)(J[Q]),value:M,rowSpan:0,className:O};if(V.length>1){R.groups=this._createGroupConfiguration(L,V.slice(1),R);if(U){U.rowSpan+=R.rowSpan}}else{R.items=N;var P=C(R.items);if(W){P+=R.items.length}R.rowSpan=P;if(U){U.rowSpan+=P}}S.push(R)}}return S},selectionByElement:function(L){var K,J;L=G(L);if(L.hasClass("k-scheduler-datecolumn")||!this._eventsList.length){return}if(L.is(".k-task")){L=L.closest("td")}if(this._isMobile()){var M=L.parent();K=M.parent().children().filter(function(){return G(this).children(":not(.k-scheduler-datecolumn)").length}).index(M)}else{K=L.parent().index()}J=this._eventsList[K];return{index:K,start:J.start,end:J.end,isAllDay:J.isAllDay,uid:J.uid}},select:function(K){this.clearSelection();var J=this.table.find(".k-task").eq(K.index).closest("tr").addClass("k-state-selected").attr("aria-selected",true)[0];this.current(J)},move:function(N,K){var J=false;var M=N.index;if(K==B.keys.UP){M--;J=true}else{if(K==B.keys.DOWN){M++;J=true}}if(J){var L=this._eventsList[M];if(L){N.start=L.start;N.end=L.end;N.isAllDay=L.isAllDay;N.events=[L.uid];N.index=M}}return J},moveToEvent:function(){return false},constrainSelection:function(K){var J=this._eventsList[0];if(J){K.start=J.start;K.end=J.end;K.isAllDay=J.isAllDay;K.events=[J.uid];K.index=0}},isInRange:function(){return true},destroy:function(){if(this.element){this.element.off(D)}I.SchedulerView.fn.destroy.call(this)},options:{title:"Agenda",name:"agenda",editable:true,selectedDateFormat:"{0:D}-{1:D}",selectedShortDateFormat:"{0:d} - {1:d}",eventTemplate:"#:title#",eventTimeTemplate:"#if(data.isAllDay) {##=this.options.messages.allDay##} else { ##=kendo.format(format, start, end)## } #",eventDateTemplate:'<strong class="k-scheduler-agendaday">#=kendo.toString(date, "dd")#</strong><em class="k-scheduler-agendaweek">#=kendo.toString(date,"dddd")#</em><span class="k-scheduler-agendadate">#=kendo.toString(date, "y")#</span>',eventGroupTemplate:'<strong class="k-scheduler-adgendagroup">#=value#</strong>',messages:{event:"Event",date:"Date",time:"Time",allDay:"all day"}}});function C(K){var L=0;for(var M=0,J=K.length;M<J;M++){L+=K[M].items.length}return L}function A(K,J){if(K.valuePrimitive){J=B.getter(K.dataValueField)(J)}return J}function F(K){var N=0,J=K.length,M,L=[];for(;N<J;N++){M=K[N];if(M.groups){M=H(M.groups);L=L.concat(M)}else{L=L.concat(H(M.items))}}return L}function H(J){var M=[].concat(J),L=M.shift(),K=[],N=[].push;while(L){if(L.groups){N.apply(M,L.groups)}else{if(L.items){N.apply(M,L.items)}else{N.call(K,L)}}L=M.shift()}return K}})(window.kendo.jQuery);(function(O){var N=window.kendo,D=N.ui,A=D.SchedulerView,K=".kendoMonthView",G=O.extend,L=O.proxy,J=N.date.getDate,F=N.date.MS_PER_DAY,M=6,C=7,E=N.template('<span class="k-link k-nav-day">#:kendo.toString(date, "dd")#</span>'),P='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span>#}#</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-w"></span>#}## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-e"></span>#}#</div>',I=N.template('<div title="#=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">#:title#</div></div>');var H=N.template('<div style="width:#=width#px;left:#=left#px;top:#=top#px" class="k-more-events k-button"><span>...</span></div>');D.MonthView=A.extend({init:function(U,T){var S=this;A.fn.init.call(S,U,T);S.title=S.options.title;S.name="month";S._templates();S._editable();S._renderLayout(S.options.date);S._groups()},_updateDirection:function(Y,Z,a,U,S){if(a){var V=Z[0].start;var T=Z[Z.length-1].end;var b=V.index===T.index;var X=V.collectionIndex===T.collectionIndex;var W;if(S){W=(b&&X)||X}else{W=b&&X}if(W){Y.backward=U}}},_changeViewPeriod:function(U,S,T){var V=T?7:1;if(S){V*=-1}U.start=N.date.addDays(U.start,V);U.end=N.date.addDays(U.end,V);if(!T||(T&&this._isVerticallyGrouped())){U.groupIndex=S?this.groups.length-1:0}U.events=[];return true},_continuousSlot:function(W,U,T){var V=W.backward?0:U.length-1;var S=this.groups[W.groupIndex];return S.continuousSlot(U[V].start,T)},_changeGroupContinuously:function(X,V,Y,U){if(!Y){var S=X.groupIndex;var Z=this.groups.length-1;var T=this._isVerticallyGrouped();var W=this.groups[S];if(!V&&T){V=W[U?"lastSlot":"firstSlot"]();S+=(U?-1:1)}else{if(V&&!T){S=U?Z:0}}if(S<0||S>Z){S=U?Z:0;V=null}X.groupIndex=S}return V},_normalizeHorizontalSelection:function(V,U,S){var T;if(S){T=U[0].start}else{T=U[U.length-1].end}return T},_normalizeVerticalSelection:function(U,T){var S;if(U.backward){S=T[0].start}else{S=T[T.length-1].end}return S},_templates:function(){var S=this.options,T=G({},N.Template,S.templateSettings);this.eventTemplate=this._eventTmpl(S.eventTemplate,P);this.dayTemplate=N.template(S.dayTemplate,T);this.groupHeaderTemplate=N.template(S.groupHeaderTemplate,T)},dateForTitle:function(){return N.format(this.options.selectedDateFormat,this._firstDayOfMonth,this._lastDayOfMonth)},shortDateForTitle:function(){return N.format(this.options.selectedShortDateFormat,this._firstDayOfMonth,this._lastDayOfMonth)},nextDate:function(){return N.date.nextDay(this._lastDayOfMonth)},previousDate:function(){return N.date.previousDay(this._firstDayOfMonth)},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_renderLayout:function(T){var S=this;this._firstDayOfMonth=N.date.firstDayOfMonth(T);this._lastDayOfMonth=N.date.lastDayOfMonth(T);this._startDate=Q(T,this.calendarInfo());this.createLayout(this._layout());this._content();this.refreshLayout();this.content.on("click"+K,".k-nav-day,.k-more-events",function(V){var U=O(V.currentTarget).offset();var W=S._slotByPosition(U.left,U.top);V.preventDefault();S.trigger("navigate",{view:"day",date:W.startDate()})})},_editable:function(){if(this.options.editable&&!this._isMobilePhoneView()){if(this._isMobile()){this._touchEditable()}else{this._mouseEditable()}}},_mouseEditable:function(){var S=this;S.element.on("click"+K,".k-scheduler-monthview .k-event a:has(.k-si-close)",function(T){S.trigger("remove",{uid:O(this).closest(".k-event").attr(N.attr("uid"))});T.preventDefault()});if(S.options.editable.create!==false){S.element.on("dblclick"+K,".k-scheduler-monthview .k-scheduler-content td",function(U){var T=O(U.currentTarget).offset();var V=S._slotByPosition(T.left,T.top);if(V){var W=S._resourceBySlot(V);S.trigger("add",{eventInfo:G({isAllDay:true,start:V.startDate(),end:V.startDate()},W)})}U.preventDefault()})}if(S.options.editable.update!==false){S.element.on("dblclick"+K,".k-scheduler-monthview .k-event",function(T){S.trigger("edit",{uid:O(this).closest(".k-event").attr(N.attr("uid"))});T.preventDefault()})}},_touchEditable:function(){var S=this;if(S.options.editable.create!==false){S._addUserEvents=new N.UserEvents(S.element,{filter:".k-scheduler-monthview .k-scheduler-content td",tap:function(U){var T=O(U.target).offset();var V=S._slotByPosition(T.left,T.top);if(V){var W=S._resourceBySlot(V);S.trigger("add",{eventInfo:G({isAllDay:true,start:V.startDate(),end:V.startDate()},W)})}U.preventDefault()}})}if(S.options.editable.update!==false){S._editUserEvents=new N.UserEvents(S.element,{filter:".k-scheduler-monthview .k-event",tap:function(T){if(O(T.event.target).closest("a:has(.k-si-close)").length===0){S.trigger("edit",{uid:O(T.target).closest(".k-event").attr(N.attr("uid"))});T.preventDefault()}}})}},selectionByElement:function(T){var S=O(T).offset();return this._slotByPosition(S.left,S.top)},_columnCountForLevel:function(T){var S=this.columnLevels[T];return S?S.length:0},_rowCountForLevel:function(S){var T=this.rowLevels[S];return T?T.length:0},_content:function(){var S="<tbody>";var V=1;var T=this.groupedResources;if(T.length){if(this._isVerticallyGrouped()){V=this._rowCountForLevel(T.length-1)}}for(var U=0;U<V;U++){S+=this._createCalendar(U)}S+="</tbody>";this.content.find("table").html(S)},_createCalendar:function(U){var a=this.startDate();var Z=C*M;var T=C;var d=[a];var c="";var e=1;var Y=this._isVerticallyGrouped();var S=this.groupedResources;if(S.length){if(!Y){e=this._columnCountForLevel(S.length-1)}}this._slotIndices={};for(var b=0,V=Z/T;b<V;b++){c+="<tr>";d.push(a);var W=b*T;for(var X=0;X<e;X++){c+=this._createRow(a,W,T,Y?U:X)}a=N.date.addDays(a,T);c+="</tr>"}this._weekStartDates=d;this._endDate=N.date.previousDay(a);return c},_createRow:function(Z,Y,U,S){var a=this;var V=a._firstDayOfMonth;var W=a._lastDayOfMonth;var c=a.dayTemplate;var X="";var b="";var d=function(){return a._resourceBySlot({groupIndex:S})};for(var T=0;T<U;T++){X="";if(N.date.isToday(Z)){X+="k-today"}if(!N.date.isInDateRange(Z,V,W)){X+=" k-other-month"}b+="<td ";if(X!==""){b+='class="'+X+'"'}b+=">";b+=c({date:Z,resources:d});b+="</td>";a._slotIndices[J(Z).getTime()]=Y+T;Z=N.date.nextDay(Z)}return b},_layout:function(){var U=this.calendarInfo();var Z=this._isMobile()?U.days.namesShort:U.days.names;var V=B(Z,U.firstDay);var W=O.map(V,function(a){return{text:a}});var Y=this.groupedResources;var S;if(Y.length){if(this._isVerticallyGrouped()){var T=[];for(var X=0;X<6;X++){T.push({text:"<div>&nbsp;</div>",className:"k-hidden k-slot-cell"})}S=this._createRowsLayout(Y,T,this.groupHeaderTemplate)}else{W=this._createColumnsLayout(Y,W,this.groupHeaderTemplate)}}return{columns:W,rows:S}},_createEventElement:function(V){var U=this.options;var S=U.editable;var T=this._isMobile();V.showDelete=S&&S.destroy!==false&&!T;V.resizable=S&&S.resize!==false&&!T;V.ns=N.ns;V.resources=this.eventResources(V);V.inverseColor=V.resources&&V.resources[0]?this._shouldInverseResourceColor(V.resources[0]):false;var W=O(this.eventTemplate(V));this.angular("compile",function(){return{elements:W,data:[{dataItem:V}]}});return W},_isInDateSlot:function(W){var T=this.groups[0];var U=T.firstSlot().start;var S=T.lastSlot().end-1;var V=N.date.toUtcTime(W.start);var X=N.date.toUtcTime(W.end);return(R(V,U,S)||R(X,U,S)||R(U,V,X)||R(S,V,X))&&(!R(X,U,U)||R(X,V,V)||W.isAllDay)},_slotIndex:function(S){return this._slotIndices[J(S).getTime()]},_positionMobileEvent:function(c,U,X){var W=c.start;if(c.start.offsetLeft>c.end.offsetLeft){W=c.end}var S=c.start.index;var a=S;var V=3;var Z=A.collidingEvents(c.events(),S,a);Z.push({element:U,start:S,end:a});var T=A.createRows(Z);var b=c.collection.at(S);var Y=b.container;if(!Y){Y=O(N.format('<div class="k-events-container" style="top:{0};left:{1};width:{2}"/>',W.offsetTop+W.firstChildTop+W.firstChildHeight-3+"px",W.offsetLeft+"px",W.offsetWidth+"px"));b.container=Y;this.content[0].appendChild(Y[0])}if(T.length<=V){c.addEvent({element:U,start:S,end:a,groupIndex:W.groupIndex});X._continuousEvents.push({element:U,uid:U.attr(N.attr("uid")),start:c.start,end:c.end});Y[0].appendChild(U[0])}},_positionEvent:function(b,f,d){var g=this.options.eventHeight;var n=b.start;if(b.start.offsetLeft>b.end.offsetLeft){n=b.end}var W=b.start.index;var a=b.end.index;var V=n.eventCount;var Y=A.collidingEvents(b.events(),W,a);var c=W!==a?5:4;Y.push({element:f,start:W,end:a});var l=A.createRows(Y);for(var m=0,S=Math.min(l.length,V);m<S;m++){var Z=l[m].events;var k=n.offsetTop+n.firstChildHeight+m*g+3*m+"px";for(var U=0,h=Z.length;U<h;U++){Z[U].element[0].style.top=k}}if(l.length>V){for(var T=W;T<=a;T++){var e=b.collection;var X=e.at(T);if(X.more){return}X.more=O(H({ns:N.ns,start:T,end:T,width:X.clientWidth-2,left:X.offsetLeft+2,top:X.offsetTop+X.firstChildHeight+V*g+3*V}));this.content[0].appendChild(X.more[0])}}else{b.addEvent({element:f,start:W,end:a,groupIndex:n.groupIndex});f[0].style.width=b.innerWidth()-c+"px";f[0].style.left=n.offsetLeft+2+"px";f[0].style.height=g+"px";d._continuousEvents.push({element:f,uid:f.attr(N.attr("uid")),start:b.start,end:b.end});f.appendTo(this.content)}},_slotByPosition:function(U,V){var S=this.content.offset();U-=S.left;V-=S.top;V+=this.content[0].scrollTop;U+=this.content[0].scrollLeft;U=Math.ceil(U);V=Math.ceil(V);for(var W=0;W<this.groups.length;W++){var T=this.groups[W].daySlotByPosition(U,V);if(T){return T}}return null},_createResizeHint:function(X){var U=X.startSlot().offsetLeft;var V=X.start.offsetTop;var W=X.innerWidth();var T=X.start.clientHeight-2;var S=A.fn._createResizeHint.call(this,U,V,W,T);S.appendTo(this.content);this._resizeHint=this._resizeHint.add(S)},_updateResizeHint:function(W,X,V,Y){this._removeResizeHint();var S=this.groups[X];var U=S.ranges(V,Y,true,W.isAllDay);for(var T=0;T<U.length;T++){this._createResizeHint(U[T])}this._resizeHint.find(".k-label-top,.k-label-bottom").text("");this._resizeHint.first().addClass("k-first").find(".k-label-top").text(N.toString(N.timezone.toLocalDate(V),"M/dd"));this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(N.toString(N.timezone.toLocalDate(Y),"M/dd"))},_updateMoveHint:function(Y,S,Z){var U=N.date.toUtcTime(Y.start)+Z;var X=U+Y.duration();var a=this.groups[S];var b=a.ranges(U,X,true,Y.isAllDay);this._removeMoveHint();for(var T=0;T<b.length;T++){var c=b[T];var d=c.startSlot();var V=c.endSlot();var W=this._createEventElement(Y.clone({head:c.head,tail:c.tail}));W.css({left:d.offsetLeft+2,top:d.offsetTop+d.firstChildHeight,height:this.options.eventHeight,width:c.innerWidth()-(d.index!==V.index?5:4)});W.addClass("k-event-drag-hint");W.appendTo(this.content);this._moveHint=this._moveHint.add(W)}},_groups:function(){var f=this._groupCount();var c=C;var k=M;this.groups=[];for(var l=0;l<f;l++){this._addResourceView(l)}var X=this.content[0].getElementsByTagName("tr");for(var Y=0;Y<f;Y++){var S=0;var j=0;if(this._isVerticallyGrouped()){j=Y}for(var T=j*k;T<(j+1)*k;T++){var d=this.groups[Y];var h=d.addDaySlotCollection(N.date.addDays(this.startDate(),S),N.date.addDays(this.startDate(),S+c));var b=X[T];var e=b.children;var V=0;b.setAttribute("role","row");if(!this._isVerticallyGrouped()){V=Y}for(var U=V*c;U<(V+1)*c;U++){var Z=e[U];var a=Z.clientHeight;var g=Z.children.length?Z.children[0].offsetHeight+3:0;var m=N.date.toUtcTime(N.date.addDays(this.startDate(),S));S++;var W=Math.floor((a-g-this.options.moreButtonHeight)/(this.options.eventHeight+3));Z.setAttribute("role","gridcell");Z.setAttribute("aria-selected",false);h.addDaySlot(Z,m,m+N.date.MS_PER_DAY,W)}}}},render:function(T){this.content.children(".k-event,.k-more-events,.k-events-container").remove();this._groups();T=new N.data.Query(T).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var S=this.groupedResources;if(S.length){this._renderGroups(T,S,0,1)}else{this._renderEvents(T,0)}this.refreshLayout();this.trigger("activate")},_renderEvents:function(d,T){var Y;var X;var Z;var b=this._isMobilePhoneView();for(X=0,Z=d.length;X<Z;X++){Y=d[X];if(this._isInDateSlot(Y)){var a=this.groups[T];if(!a._continuousEvents){a._continuousEvents=[]}var c=a.slotRanges(Y,true);var W=c.length;for(var U=0;U<W;U++){var e=c[U];var V=Y.start;var f=Y.end;if(W>1){if(U===0){f=e.end.endDate()}else{if(U==W-1){V=e.start.startDate()}else{V=e.start.startDate();f=e.end.endDate()}}}var S=Y.clone({start:V,end:f,head:e.head,tail:e.tail});if(b){this._positionMobileEvent(e,this._createEventElement(S),a)}else{this._positionEvent(e,this._createEventElement(S),a)}}}}},_renderGroups:function(Y,a,T,X){var V=a[0];if(V){var S=V.dataSource.view();for(var Z=0;Z<S.length;Z++){var U=this._resourceValue(V,S[Z]);var W=new N.data.Query(Y).filter({field:V.field,operator:A.groupEqFilter(U)}).toArray();if(a.length>1){T=this._renderGroups(W,a.slice(1),T++,X+1)}else{this._renderEvents(W,T++)}}}return T},_groupCount:function(){var S=this.groupedResources;if(S.length){if(this._isVerticallyGrouped()){return this._rowCountForLevel(S.length-1)}else{return this._columnCountForLevel(S.length)/this._columnOffsetForResource(S.length)}}return 1},_columnOffsetForResource:function(S){return this._columnCountForLevel(S)/this._columnCountForLevel(S-1)},destroy:function(){if(this.table){this.table.removeClass("k-scheduler-monthview")}if(this.content){this.content.off(K)}if(this.element){this.element.off(K)}A.fn.destroy.call(this);if(this._isMobile()&&!this._isMobilePhoneView()&&this.options.editable){if(this.options.editable.create!==false){this._addUserEvents.destroy()}if(this.options.editable.update!==false){this._editUserEvents.destroy()}}},events:["remove","add","edit","navigate"],options:{title:"Month",name:"month",eventHeight:25,moreButtonHeight:13,editable:true,selectedDateFormat:"{0:y}",selectedShortDateFormat:"{0:y}",groupHeaderTemplate:"#=text#",dayTemplate:E,eventTemplate:I}});function B(S,T){return S.slice(T).concat(S.slice(0,T))}function Q(V,U){var T=U.firstDay,S=new Date(V.getFullYear(),V.getMonth(),0,V.getHours(),V.getMinutes(),V.getSeconds(),V.getMilliseconds());while(S.getDay()!=T){N.date.setTime(S,-1*F)}return S}function R(V,S,X){var W=S,U=X,T;T=V;return T>=W&&T<=U}})(window.kendo.jQuery);(function(v,x){var e=window.kendo,X=e.timezone,d=e.Class,Ag=e.ui,Y=Ag.Widget,Ao=Ag.DropDownList,At=e.date,z=At.setTime,Aj=At.setDayOfWeek,Aa=At.adjustDST,c=At.firstDayOfMonth,Ab=At.getMilliseconds,a=[0,31,60,91,121,152,182,213,244,274,305,335,366],I=[0,31,59,90,120,151,181,212,243,273,304,334,365],Z=[31,28,30,31,30,31,30,31,30,31,30,31],D={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},q={"SU":0,"MO":1,"TU":2,"WE":3,"TH":4,"FR":5,"SA":6},h=["yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-ddTHH","yyyy-MM-dd","yyyyMMddTHHmmssfffzzz","yyyyMMddTHHmmsszzz","yyyyMMddTHHmmss","yyyyMMddTHHmm","yyyyMMddTHH","yyyyMMdd"],l=["months","weeks","yearDays","monthDays","weekDays","hours","minutes","seconds"],Ad=l.length,M="yyyyMMddTHHmmssZ",p={months:function(Az,Ay,Aw){var Av=Aw.months,AA=w(Av,Az.getMonth()+1),Ax=false;if(AA!==null){if(AA.length){Az.setMonth(AA[0]-1,1)}else{Az.setFullYear(Az.getFullYear()+1,Av[0]-1,1)}Ax=true}return Ax},monthDays:function(AD,Aw,Az){var Ax,Av,AB,AA=false,AC=AD.getHours(),Ay=function(AE){if(AE<0){AE=Ax+AE}return AE};while(AD<=Aw){Av=AD.getMonth();Ax=Af(AD);AB=w(Az.monthDays,AD.getDate(),Ay);if(AB===null){return AA}AA=true;if(AB.length){AD.setMonth(Av,AB.sort(G)[0]);Aa(AD,AC);if(Av===AD.getMonth()){break}}else{AD.setMonth(Av+1,1)}}return AA},yearDays:function(AC,Aw,Az){var AA,Ay,Ax=false,AB=AC.getHours(),Av=function(AD){if(AD<0){AD=AA+AD}return AD};while(AC<Aw){AA=R(AC)?366:365;Ay=w(Az.yearDays,s(AC),Av);if(Ay===null){return Ax}Ax=true;AA=AC.getFullYear();if(Ay.length){AC.setFullYear(AA,0,Ay.sort(G)[0]);Aa(AC,AB);break}else{AC.setFullYear(AA+1,0,1)}}return Ax},weeks:function(AE,Aw,Az){var AC=Az.weekStart,AB,AA,Ay,Ax=false,AD=AE.getHours(),Av=function(AF){if(AF<0){AF=53+AF}return AF};while(AE<Aw){AA=w(Az.weeks,Ak(AE,AC),Av);if(AA===null){return Ax}Ax=true;AB=AE.getFullYear();if(AA.length){Ay=(AA.sort(G)[0]*7)-1;AE.setFullYear(AB,0,Ay);Aj(AE,AC,-1);Aa(AE,AD);break}else{AE.setFullYear(AB+1,0,1)}}return Ax},weekDays:function(AD,Ax,AA){var Av=AA.weekDays;var Az=AA.weekStart;var Ay=Ae(Av,AD,Az);var AC=AD.getHours();var Aw,AB;if(Ay===null){return false}Aw=Ay[0];if(!Aw){Aw=Av[0];Aj(AD,Az)}AB=Aw.day;if(Aw.offset){while(AD<=Ax&&!O(AD,Aw,Az)){if(J(AD,Az)===g(AD,Az)){AD.setMonth(AD.getMonth()+1,1);Aa(AD,AC)}else{AD.setDate(AD.getDate()+7);Aa(AD,AC);Aj(AD,Az,-1)}}}if(AD.getDay()!==AB){Aj(AD,AB)}return true},hours:function(AC,Aw,Ax){var AA=Ax.hours,AB=Ax._startTime,Ay=AB.getHours(),Av=w(AA,Ay),Az=false;if(Av!==null){Az=true;AC.setHours(Ay);Aa(AC,Ay);if(Av.length){Av=Av[0];AC.setHours(Av)}else{Av=AC.getHours();AC.setDate(AC.getDate()+1);Aa(AC,Av);Av=AA[0];AC.setHours(Av);Aa(AC,Av)}if(Ax.minutes){AC.setMinutes(0)}AB.setHours(Av,AC.getMinutes())}return Az},minutes:function(AC,Aw,Ay){var Ax=Ay.minutes,Av=AC.getMinutes(),AA=w(Ax,Av),AB=Ay._startTime.getHours(),Az=false;if(AA!==null){Az=true;if(AA.length){AA=AA[0]}else{AB+=1;AA=Ax[0]}if(Ay.seconds){AC.setSeconds(0)}AC.setHours(AB,AA);AB=AB%24;Aa(AC,AB);Ay._startTime.setHours(AB,AA,AC.getSeconds())}return Az},seconds:function(AC,Ax,Ay){var Aw=Ay.seconds,AB=Ay._startTime.getHours(),Av=w(Aw,AC.getSeconds()),AA=AC.getMinutes(),Az=false;if(Av!==null){Az=true;if(Av.length){AC.setSeconds(Av[0])}else{AA+=1;AC.setMinutes(AA,Aw[0]);if(AA>59){AA=AA%60;AB=(AB+1)%24}}Ay._startTime.setHours(AB,AA,AC.getSeconds())}return Az}},U=d.extend({next:function(AA,Aw){var Az=Aw._startTime,Ax=Az.getDate(),Av,Ay;if(Aw.seconds){Ay=AA.getSeconds()+1;AA.setSeconds(Ay);Az.setSeconds(Ay);Az.setDate(Ax)}else{if(Aw.minutes){Av=AA.getMinutes()+1;AA.setMinutes(Av);Az.setMinutes(Av);Az.setDate(Ax)}else{return false}}return true},normalize:function(Aw){var Av=Aw.rule;if(Aw.idx===4&&Av.hours){Av._startTime.setHours(0);this._hour(Aw.date,Av)}},limit:function(AD,Ax,AA){var AB=AA.interval,Aw,Av,AC,Ay,Az;while(AD<=Ax){AC=Av=x;Az=AD.getDate();for(Ay=0;Ay<Ad;Ay++){Aw=l[Ay];if(AA[Aw]){AC=p[Aw](AD,Ax,AA);if(Av!==x&&AC){break}else{Av=AC}}if(AC){this.normalize({date:AD,rule:AA,day:Az,idx:Ay})}}if((AB===1||!this.interval(AA,AD))&&Ay===Ad){break}}},interval:function(AA,Aw){var Av=new Date(AA._startPeriod);var AI=new Date(Aw);var AH=Aw.getHours();var Az=AA.weekStart;var AC=AA.interval;var AB=AA.freq;var AD=false;var AG=0;var Ax=0;var AF=1;var Ay;var AE;if(AB==="hourly"){Ay=AI.getTimezoneOffset()-Av.getTimezoneOffset();AE=AA._startTime.getHours();AI=AI.getTime();if(AH!==AE){AI+=(AE-AH)*At.MS_PER_HOUR}AI-=Av;if(Ay){AI-=Ay*At.MS_PER_MINUTE}Ay=Math.floor(AI/At.MS_PER_HOUR);AG=Am(Ay,AC);if(AG!==0){this._hour(Aw,AA,AG);AD=true}}else{if(AB==="daily"){At.setTime(AI,-Av);Ay=Math.floor(AI/At.MS_PER_DAY);AG=Am(Ay,AC);if(AG!==0){this._date(Aw,AA,AG);AD=true}}else{if(AB==="weekly"){Ay=(Aw.getFullYear()-Av.getFullYear())*52;AG=Ak(Aw,Az)-Ak(Av,Az)+Ay;AG=Am(AG,AC);if(AG!==0){At.setDayOfWeek(Aw,AA.weekStart,-1);Aw.setDate(Aw.getDate()+(AG*7));Aa(Aw,AH);AD=true}}else{if(AB==="monthly"){Ay=Aw.getFullYear()-Av.getFullYear();Ay=Aw.getMonth()-Av.getMonth()+(Ay*12);AG=Am(Ay,AC);if(AG!==0){AF=AA._hasRuleValue?1:Aw.getDate();Aw.setFullYear(Aw.getFullYear(),Aw.getMonth()+AG,AF);Aa(Aw,AH);AD=true}}else{if(AB==="yearly"){Ay=Aw.getFullYear()-Av.getFullYear();AG=Am(Ay,AC);if(!AA.months){Ax=Aw.getMonth()}if(!AA.yearDays&&!AA.monthDays&&!AA.weekDays){AF=Aw.getDate()}if(AG!==0){Aw.setFullYear(Aw.getFullYear()+AG,Ax,AF);Aa(Aw,AH);AD=true}}}}}}return AD},_hour:function(Az,Aw,Ax){var Ay=Aw._startTime,Av=Ay.getHours();if(Ax){Av+=Ax}Az.setHours(Av);Av=Av%24;Ay.setHours(Av);Aa(Az,Av)},_date:function(Ay,Aw,Ax){var Av=Ay.getHours();Ay.setDate(Ay.getDate()+Ax);if(!Aa(Ay,Av)){this._hour(Ay,Aw)}}}),Q=U.extend({next:function(Aw,Av){if(!U.fn.next(Aw,Av)){this._hour(Aw,Av,1)}},normalize:function(Aw){var Av=Aw.rule;if(Aw.idx===4){Av._startTime.setHours(0);this._hour(Aw.date,Av)}}}),A=U.extend({next:function(Aw,Av){if(!U.fn.next(Aw,Av)){this[Av.hours?"_hour":"_date"](Aw,Av,1)}}}),o=A.extend({setup:function(Av,Aw){if(!Av.weekDays){Av.weekDays=[{day:Aw.getDay(),offset:0}]}}}),P=U.extend({next:function(Ay,Aw){var Ax,Av;if(!U.fn.next(Ay,Aw)){if(Aw.hours){this._hour(Ay,Aw,1)}else{if(Aw.monthDays||Aw.weekDays||Aw.yearDays||Aw.weeks){this._date(Ay,Aw,1)}else{Ax=Ay.getDate();Av=Ay.getHours();Ay.setMonth(Ay.getMonth()+1);Aa(Ay,Av);while(Ay.getDate()!==Ax){Ay.setDate(Ax);Aa(Ay,Av)}this._hour(Ay,Aw)}}}},normalize:function(Ax){var Aw=Ax.rule,Ay=Ax.date,Av=Ay.getHours();if(Ax.idx===0&&!Aw.monthDays&&!Aw.weekDays){Ay.setDate(Ax.day);Aa(Ay,Av)}else{U.fn.normalize(Ax)}},setup:function(Av,Aw,Ax){if(!Av.monthDays&&!Av.weekDays){Ax.setDate(Aw.getDate())}}}),Ah=P.extend({next:function(Ay,Aw){var Ax,Av=Ay.getHours();if(!U.fn.next(Ay,Aw)){if(Aw.hours){this._hour(Ay,Aw,1)}else{if(Aw.monthDays||Aw.weekDays||Aw.yearDays||Aw.weeks){this._date(Ay,Aw,1)}else{if(Aw.months){Ax=Ay.getDate();Ay.setMonth(Ay.getMonth()+1);Aa(Ay,Av);while(Ay.getDate()!==Ax){Ay.setDate(Ax);Aa(Ay,Av)}this._hour(Ay,Aw)}else{Ay.setFullYear(Ay.getFullYear()+1);Aa(Ay,Av);this._hour(Ay,Aw)}}}}},setup:function(){}}),Ai={"hourly":new Q(),"daily":new A(),"weekly":new o(),"monthly":new P(),"yearly":new Ah()},f="click";function Am(Ax,Av){var Aw;if(Ax!==0&&Ax<Av){Aw=Av-Ax}else{Aw=Ax%Av;if(Aw){Aw=Av-Aw}}return Aw}function s(Ax){var Av=Ax.getMonth();var Aw=R(Ax)?a[Av]:I[Av];return Aw+Ax.getDate()}function Ak(Ay,Ax){var Aw,Av;Ay=new Date(Ay.getFullYear(),Ay.getMonth(),Ay.getDate());Aa(Ay,0);Aw=Ay.getFullYear();if(Ax!==x){Aj(Ay,Ax,-1);Ay.setDate(Ay.getDate()+4)}else{Ay.setDate(Ay.getDate()+(4-(Ay.getDay()||7)))}Aa(Ay,0);Av=Math.floor((Ay.getTime()-new Date(Aw,0,1,-6))/86400000);return 1+Math.floor(Av/7)}function J(Ax,Aw){var Av=c(Ax).getDay();var Ay=7-(Av+7-(Aw||7))||7;if(Ay<0){Ay+=7}return Math.ceil((Ax.getDate()-Ay)/7)+1}function N(Av,Aw){return Av+(Av<Aw?7:0)}function B(AD,Az,Ay){var Aw=Az.offset;if(!Aw){return J(AD,Ay)}var AB=new Date(AD.getFullYear(),AD.getMonth()+1,0);var Av=J(AB,Ay);var AA=N(Az.day,Ay);var AC=AA<N(new Date(AD.getFullYear(),AD.getMonth(),1).getDay(),Ay);var Ax=AA>N(AB.getDay(),Ay);if(Aw<0){Aw=Av+(Aw+1-(Ax?1:0))}else{if(AC){Aw+=1}}Av-=(Ax?1:0);if(Aw<(AC?1:0)||Aw>Av){return null}return Aw}function g(Aw,Av){return J(new Date(Aw.getFullYear(),Aw.getMonth()+1,0),Av)}function O(Ax,Av,Aw){return J(Ax,Aw)===B(Ax,Av,Aw)}function Ae(Av,AF,Ay){var Az=N(AF.getDay(),Ay);var AE=Av.length;var AA;var AD,AB;var Aw;var AC=[];var Ax=0;for(;Ax<AE;Ax++){AD=Av[Ax];Aw=J(AF,Ay);AA=B(AF,AD,Ay);if(AA===null){continue}if(Aw<AA){AC.push(AD)}else{if(Aw===AA){AB=N(AD.day,Ay);if(Az<AB){AC.push(AD)}else{if(Az===AB){return null}}}}}return AC}function w(Aw,Az,AB){var Ay=0,Av=Aw.length,Ax=[],AA;for(;Ay<Av;Ay++){AA=Aw[Ay];if(AB){AA=AB(AA)}if(Az===AA){return null}else{if(Az<AA){Ax.push(AA)}}}return Ax}function Ar(Ax,Az){var Ay=0,Aw=Ax.length,Av;for(;Ay<Aw;Ay++){Av=parseInt(Ax[Ay],10);if(isNaN(Av)||Av<Az.start||Av>Az.end||(Av===0&&Az.start<0)){return null}Ax[Ay]=Av}return Ax.sort(G)}function Al(Az){var AA=0,Aw=Az.length,Av,Ay,Ax;for(;AA<Aw;AA++){Av=Az[AA];Ay=Av.length;Ax=Av.substring(Ay-2).toUpperCase();Ax=q[Ax];if(Ax===x){return null}Az[AA]={offset:parseInt(Av.substring(0,Ay-2),10)||0,day:Ax}}return Az}function Ac(Ay){var Az=0,Aw=Ay.length,Av,AA,Ax=[];for(;Az<Aw;Az++){Av=Ay[Az];if(typeof Av==="string"){AA=Av}else{AA=""+D[Av.day];if(Av.offset){AA=Av.offset+AA}}Ax.push(AA)}return Ax.toString()}function Af(Aw){var Av=Aw.getMonth();if(Av===1){if(new Date(Aw.getFullYear(),1,29).getMonth()===1){return 29}return 28}return Z[Av]}function R(Av){Av=Av.getFullYear();return((Av%4===0)&&(Av%100!==0))||(Av%400===0)}function G(Aw,Av){return Aw-Av}function Aq(Ay,Av){var Az=0,Aw,AA,Ax=[];if(Ay){Ay=Ay.split(";");Aw=Ay.length;for(;Az<Aw;Az++){AA=As(Ay[Az],Av);if(AA){Ax.push(AA)}}}return Ax}function t(Ay,AB,Av){var Ax=v.isArray(Ay)?Ay:Aq(Ay,Av),AA=AB.getTime()-AB.getMilliseconds(),Az=0,Aw=Ax.length;for(;Az<Aw;Az++){if(Ax[Az].getTime()===AA){return true}}return false}function K(Ay,Av){var Az=0;var Aw;var AA;var Ax=[].concat(Ay);for(Aw=Ax.length;Az<Aw;Az++){AA=Ax[Az];AA=e.timezone.convert(AA,Av||AA.getTimezoneOffset(),"Etc/UTC");Ax[Az]=e.toString(AA,M)}return Ax.join(";")+";"}function r(Ax,Av){var Aw=new Date(Ax);switch(Av.freq){case"yearly":Aw.setFullYear(Aw.getFullYear(),0,1);break;case"monthly":Aw.setFullYear(Aw.getFullYear(),Aw.getMonth(),1);break;case"weekly":Aj(Aw,Av.weekStart,-1);break;default:break}if(Av.hours){Aw.setHours(0)}if(Av.minutes){Aw.setMinutes(0)}if(Av.seconds){Aw.setSeconds(0)}return Aw}function V(Ax,Av){var Aw=new Date(Ax);switch(Av.freq){case"yearly":Aw.setFullYear(Aw.getFullYear(),11,31);break;case"monthly":Aw.setFullYear(Aw.getFullYear(),Aw.getMonth()+1,0);break;case"weekly":Aj(Aw,Av.weekStart,-1);Aw.setDate(Aw.getDate()+6);break;default:break}if(Av.hours){Aw.setHours(23)}if(Av.minutes){Aw.setMinutes(59)}if(Av.seconds){Aw.setSeconds(59)}return Aw}function m(AE,Ax,AC){var AF=AE.slice(AC._startIdx);var Az=AF.length;var Aw=AC.positions;var Ay=[];var AD;var AA;for(var Av=0,AB=Aw.length;Av<AB;Av++){AD=Aw[Av];if(AD<0){AD=Az+AD}else{AD-=1}AA=AF[AD];if(AA&&AA.start>=Ax){Ay.push(AA)}}AE=AE.slice(0,AC._startIdx).concat(Ay);AC._startIdx=AE.length;return AE}function n(AO,AW,AA,Ax){var AN=b(AO.recurrenceRule,Ax),AI,Az,Av,AU,AQ,AJ,AL,AF,AV,AE,Aw,AS,AT,AP,AK,Ay,AD,AM,AR,AB,AG,AH=[];if(!AN){return[AO]}AB=AN.positions;AG=AB?0:1;AE=AN.start;Aw=AN.end;if(AE||Aw){AO=AO.clone({start:AE?new Date(AE.value[0]):x,end:Aw?new Date(Aw.value[0]):x})}AD=AO.start;Ay=AD.getTime();AK=Ab(AD);AP=Aq(AO.recurrenceException,Ax);if(!AP[0]&&AN.exdates){AP=AN.exdates.value;AO.set("recurrenceException",K(AP,Ax))}AF=AW=new Date(AW);AA=new Date(AA);AT=AN.freq;AR=Ai[AT];AM=AN.count;if(AN.until&&AN.until<AA){AA=new Date(AN.until)}AS=AT==="yearly"||AT==="monthly"||AT==="weekly";if(AW<Ay||AM||AN.interval>1||AS){AW=new Date(Ay)}else{AU=AW.getHours();AQ=AW.getMinutes();AJ=AW.getSeconds();if(!AN.hours){AU=AD.getHours()}if(!AN.minutes){AQ=AD.getMinutes()}if(!AN.seconds){AJ=AD.getSeconds()}AW.setHours(AU,AQ,AJ,AD.getMilliseconds())}AN._startPeriod=new Date(AW);if(AB){AW=r(AW,AN);AA=V(AA,AN);var AC=Ab(AA)-Ab(AW);if(AC<0){AU=AW.getHours();AA.setHours(AU,AW.getMinutes(),AW.getSeconds(),AW.getMilliseconds());At.adjustDST(AA,AU)}AN._startPeriod=new Date(AW);AN._endPeriod=V(AW,AN);AN._startIdx=0}AL=AO.duration();AN._startTime=AI=At.toInvariantTime(AW);if(AR.setup){AR.setup(AN,AD,AW)}AR.limit(AW,AA,AN);while(AW<=AA){Av=new Date(AW);z(Av,AL);AV=AW>=AF||Av>AF;if(AV&&!t(AP,AW,Ax)||AB){AI=At.toUtcTime(At.getDate(AW))+Ab(AN._startTime);Az=AI+AL;if(Ay!==AW.getTime()||AK!==Ab(AN._startTime)){AH.push(AO.toOccurrence({start:new Date(AW),end:Av,_startTime:AI,_endTime:Az}))}else{AO._startTime=AI;AO._endTime=Az;AH.push(AO)}}if(AB){AR.next(AW,AN);AR.limit(AW,AA,AN);if(AW>AN._endPeriod){AH=m(AH,AD,AN);AN._endPeriod=V(AW,AN);AG=AH.length}if(AM&&AM===AG){break}}else{if(AM&&AM===AG){break}AG++;AR.next(AW,AN);AR.limit(AW,AA,AN)}}return AH}function As(Aw,Av){Aw=e.parseDate(Aw,h);if(Aw&&Av){Aw=X.convert(Aw,Aw.getTimezoneOffset(),Av)}return Aw}function u(Ax,AD){var AC=Ax.split(";");var Av;var Aw;var AB;var AE;var Ay,AF;for(var Az=0,AA=AC.length;Az<AA;Az++){Av=AC[Az].split(":");Aw=Av[0];AB=Av[1];if(Aw.indexOf("TZID")!==-1){AE=Aw.substring(Aw.indexOf("TZID")).split("=")[1]}if(AB){AB=AB.split(",");for(Ay=0,AF=AB.length;Ay<AF;Ay++){AB[Ay]=As(AB[Ay],AE||AD)}}}if(AB){return{value:AB,tzid:AE}}}function b(AJ,AG){var AD={};var AC,Az;var AA=0,AB;var AF=false;var AE,Ay,AI;var Ax,AH,Aw;var Av=function(AM,AL){var AK=AM.day,AN=AL.day;if(AK<AH){AK+=7}if(AN<AH){AN+=7}return AK-AN};if(!AJ){return null}AI=AJ.split("\n");if(!AI[1]&&(AJ.indexOf("DTSTART")!==-1||AJ.indexOf("DTEND")!==-1||AJ.indexOf("EXDATE")!==-1)){AI=AJ.split(" ")}for(AA=0,AB=AI.length;AA<AB;AA++){Ay=v.trim(AI[AA]);if(Ay.indexOf("DTSTART")!==-1){AD.start=u(Ay,AG)}else{if(Ay.indexOf("DTEND")!==-1){AD.end=u(Ay,AG)}else{if(Ay.indexOf("EXDATE")!==-1){AD.exdates=u(Ay,AG)}else{if(Ay.indexOf("RRULE")!==-1){AE=Ay.substring(6)}else{if(v.trim(Ay)){AE=Ay}}}}}}AE=AE.split(";");for(AA=0,AB=AE.length;AA<AB;AA++){Ax=AE[AA];AC=Ax.split("=");Az=v.trim(AC[1]).split(",");switch(v.trim(AC[0]).toUpperCase()){case"FREQ":AD.freq=Az[0].toLowerCase();break;case"UNTIL":AD.until=As(Az[0],AG);break;case"COUNT":AD.count=parseInt(Az[0],10);break;case"INTERVAL":AD.interval=parseInt(Az[0],10);break;case"BYSECOND":AD.seconds=Ar(Az,{start:0,end:60});AF=true;break;case"BYMINUTE":AD.minutes=Ar(Az,{start:0,end:59});AF=true;break;case"BYHOUR":AD.hours=Ar(Az,{start:0,end:23});AF=true;break;case"BYMONTHDAY":AD.monthDays=Ar(Az,{start:-31,end:31});AF=true;break;case"BYYEARDAY":AD.yearDays=Ar(Az,{start:-366,end:366});AF=true;break;case"BYMONTH":AD.months=Ar(Az,{start:1,end:12});AF=true;break;case"BYDAY":AD.weekDays=Aw=Al(Az);AF=true;break;case"BYWEEKNO":AD.weeks=Ar(Az,{start:-53,end:53});AF=true;break;case"BYSETPOS":AD.positions=Ar(Az,{start:-366,end:366});break;case"WKST":AD.weekStart=AH=q[Az[0]];break}}if(AD.freq===x||(AD.count!==x&&AD.until)){return null}if(!AD.interval){AD.interval=1}if(AH===x){AD.weekStart=AH=e.culture().calendar.firstDay}if(Aw){AD.weekDays=Aw.sort(Av)}if(AD.positions&&!AF){AD.positions=null}AD._hasRuleValue=AF;return AD}function C(Ay,Av){var AA=Ay.value;var Az=Ay.tzid||"";var Aw=AA.length;var Ax=0;var AB;for(;Ax<Aw;Ax++){AB=AA[Ax];AB=X.convert(AB,Az||Av||AB.getTimezoneOffset(),"Etc/UTC");AA[Ax]=e.toString(AB,"yyyyMMddTHHmmssZ")}if(Az){Az=";TZID="+Az}return Az+":"+AA.join(",")+" "}function Ap(Ay,Az){var AA=Ay.weekStart;var AC="FREQ="+Ay.freq.toUpperCase();var Ax=Ay.exdates||"";var Av=Ay.start||"";var Aw=Ay.end||"";var AB=Ay.until;if(Ay.interval>1){AC+=";INTERVAL="+Ay.interval}if(Ay.count){AC+=";COUNT="+Ay.count}if(AB){AB=X.convert(AB,Az||AB.getTimezoneOffset(),"Etc/UTC");AC+=";UNTIL="+e.toString(AB,"yyyyMMddTHHmmssZ")}if(Ay.months){AC+=";BYMONTH="+Ay.months}if(Ay.weeks){AC+=";BYWEEKNO="+Ay.weeks}if(Ay.yearDays){AC+=";BYYEARDAY="+Ay.yearDays}if(Ay.monthDays){AC+=";BYMONTHDAY="+Ay.monthDays}if(Ay.weekDays){AC+=";BYDAY="+Ac(Ay.weekDays)}if(Ay.hours){AC+=";BYHOUR="+Ay.hours}if(Ay.minutes){AC+=";BYMINUTE="+Ay.minutes}if(Ay.seconds){AC+=";BYSECOND="+Ay.seconds}if(Ay.positions){AC+=";BYSETPOS="+Ay.positions}if(AA!==x){AC+=";WKST="+D[AA]}if(Av){Av="DTSTART"+C(Av,Az)}if(Aw){Aw="DTEND"+C(Aw,Az)}if(Ax){Ax="EXDATE"+C(Ax,Az)}if(Av||Aw||Ax){AC=Av+Aw+Ax+"RRULE:"+AC}return AC}e.recurrence={rule:{parse:b,serialize:Ap},expand:n,dayInYear:s,weekInYear:Ak,weekInMonth:J,numberOfWeeks:g,isException:t,toExceptionString:K};var Au=function(Ax){var Ay=e.culture().calendar.days.namesShort,Av=Ay.length,Aw="",AA=0,Az=[];for(;AA<Av;AA++){Az.push(AA)}Ay=Ay.slice(Ax).concat(Ay.slice(0,Ax));Az=Az.slice(Ax).concat(Az.slice(0,Ax));for(AA=0;AA<Av;AA++){Aw+='<label class="k-check"><input class="k-recur-weekday-checkbox" type="checkbox" value="'+Az[AA]+'" /> '+Ay[AA]+"</label>"}return Aw};var W=e.template('# if (frequency !== "never") { #<div class="k-edit-label"><label>#:messages.repeatEvery#</label></div><div class="k-edit-field"><input class="k-recur-interval"/>#:messages.interval#</div># } ## if (frequency === "weekly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field">#=weekDayCheckBoxes(firstWeekDay)#</div># } else if (frequency === "monthly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-month-radio" type="radio" name="month" value="monthday" />#:messages.day#</label><input class="k-recur-monthday" /></li><li><input class="k-recur-month-radio" type="radio" name="month" value="weekday" /><input class="k-recur-weekday-offset" /><input class="k-recur-weekday" /></li></ul></div># } else if (frequency === "yearly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field"><ul class="k-reset"><li><input class="k-recur-year-radio" type="radio" name="year" value="monthday" /><input class="k-recur-month" /><input class="k-recur-monthday" /></li><li><input class="k-recur-year-radio" type="radio" name="year" value="weekday" /><input class="k-recur-weekday-offset" /><input class="k-recur-weekday" />#:messages.of#<input class="k-recur-month" /></li></ul></div># } ## if (frequency !== "never") { #<div class="k-edit-label"><label>#:end.label#</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-end-never" type="radio" name="end" value="never" />#:end.never#</label></li><li><label><input class="k-recur-end-count" type="radio" name="end" value="count" />#:end.after#</label><input class="k-recur-count" />#:end.occurrence#</li><li><label><input class="k-recur-end-until" type="radio" name="end" value="until" />#:end.on#</label><input class="k-recur-until" /></li></ul></div># } #');var H=[{day:0,offset:0},{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0},{day:6,offset:0}];var k=[{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0}];var T=[{day:0,offset:0},{day:6,offset:0}];var E=Y.extend({init:function(Ax,Aw){var Ay;var Av=this;var Az=Aw&&Aw.frequencies;Y.fn.init.call(Av,Ax,Aw);Av.wrapper=Av.element;Aw=Av.options;Aw.start=Ay=Aw.start||At.today();if(Az){Aw.frequencies=Az}if(typeof Ay==="string"){Aw.start=e.parseDate(Ay,"yyyyMMddTHHmmss")}if(Aw.firstWeekDay===null){Aw.firstWeekDay=e.culture().calendar.firstDay}Av._namespace="."+Aw.name},options:{value:"",start:"",timezone:"",spinners:true,firstWeekDay:null,frequencies:["never","daily","weekly","monthly","yearly"],mobile:false,messages:{frequencies:{never:"Never",hourly:"Hourly",daily:"Daily",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly"},hourly:{repeatEvery:"Repeat every: ",interval:" hour(s)"},daily:{repeatEvery:"Repeat every: ",interval:" day(s)"},weekly:{interval:" week(s)",repeatEvery:"Repeat every: ",repeatOn:"Repeat on: "},monthly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" month(s)",day:"Day "},yearly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" year(s)",of:" of "},end:{label:"End:",mobileLabel:"Ends",never:"Never",after:"After ",occurrence:" occurrence(s)",on:"On "},offsetPositions:{first:"first",second:"second",third:"third",fourth:"fourth",last:"last"},weekdays:{day:"day",weekday:"weekday",weekend:"weekend day"}}},events:["change"],_initInterval:function(){var Aw=this;var Av=Aw._value;Aw._container.find(".k-recur-interval").kendoNumericTextBox({spinners:Aw.options.spinners,value:Av.interval||1,decimals:0,format:"#",min:1,change:function(){Av.interval=this.value();Aw._trigger()}})},_weekDayRule:function(AA){var Aw=this;var Az=(Aw._weekDay.element||Aw._weekDay).val();var Av=Number((Aw._weekDayOffset.element||Aw._weekDayOffset).val());var Ax=null;var Ay=null;if(!AA){if(Az==="day"){Ax=H;Ay=Av}else{if(Az==="weekday"){Ax=k;Ay=Av}else{if(Az==="weekend"){Ax=T;Ay=Av}else{Ax=[{offset:Av,day:Number(Az)}]}}}}Aw._value.weekDays=Ax;Aw._value.positions=Ay},_weekDayView:function(){var Ay=this;var AC=Ay._value.weekDays;var Av=Ay._value.positions;var AB=Ay._weekDayOffset;var Aw;var AA;var Ax;var Az;if(AC){Ax=AC.length;if(Av){if(Ax===7){AA="day";Aw=Av}else{if(Ax===5){AA="weekday";Aw=Av}else{if(Ax===2){AA="weekend";Aw=Av}}}}if(!AA){AC=AC[0];AA=AC.day;Aw=AC.offset||""}Az=AB.value?"value":"val";AB[Az](Aw);Ay._weekDay[Az](AA)}},_initWeekDay:function(){var Ax=this,AA;var Av=Ax.options.messages.weekdays;var Az=Ax.options.messages.offsetPositions;var Ay=Ax._container.find(".k-recur-weekday");var Aw=function(){Ax._weekDayRule();Ax._trigger()};if(Ay[0]){Ax._weekDayOffset=new Ao(Ax._container.find(".k-recur-weekday-offset"),{change:Aw,dataTextField:"text",dataValueField:"value",dataSource:[{text:Az.first,value:"1"},{text:Az.second,value:"2"},{text:Az.third,value:"3"},{text:Az.fourth,value:"4"},{text:Az.last,value:"-1"}]});AA=[{text:Av.day,value:"day"},{text:Av.weekday,value:"weekday"},{text:Av.weekend,value:"weekend"}];Ax._weekDay=new Ao(Ay,{value:Ax.options.start.getDay(),change:Aw,dataTextField:"text",dataValueField:"value",dataSource:AA.concat(v.map(e.culture().calendar.days.names,function(AB,AC){return{text:AB,value:AC}}))});Ax._weekDayView()}},_initWeekDays:function(){var Az=this;var AB=Az._value;var Av=Az._container.find(".k-recur-weekday-checkbox");if(Av[0]){Av.on(f+Az._namespace,function(){AB.weekDays=v.map(Av.filter(":checked"),function(AD){return{day:Number(AD.value),offset:0}});if(!Az.options.mobile){Az._trigger()}});if(AB.weekDays){var Aw,AC;var Ay=0,AA=Av.length;var Ax=AB.weekDays.length;for(;Ay<AA;Ay++){AC=Av[Ay];for(Aw=0;Aw<Ax;Aw++){if(AC.value==AB.weekDays[Aw].day){AC.checked=true}}}}}},_initMonthDay:function(){var Aw=this;var Av=Aw._value;var Ax=Aw._container.find(".k-recur-monthday");if(Ax[0]){Aw._monthDay=new e.ui.NumericTextBox(Ax,{spinners:Aw.options.spinners,min:1,max:31,decimals:0,format:"#",value:Av.monthDays?Av.monthDays[0]:Aw.options.start.getDate(),change:function(){var Ay=this.value();Av.monthDays=Ay?[Ay]:Ay;Aw._trigger()}})}},_initCount:function(){var Aw=this,Ax=Aw._container.find(".k-recur-count"),Av=Aw._value;Aw._count=Ax.kendoNumericTextBox({spinners:Aw.options.spinners,value:Av.count||1,decimals:0,format:"#",min:1,change:function(){Av.count=this.value();Aw._trigger()}}).data("kendoNumericTextBox")},_initUntil:function(){var Aw=this,Ax=Aw._container.find(".k-recur-until"),Az=Aw.options.start,Av=Aw._value,Ay=Av.until;Aw._until=Ax.kendoDatePicker({min:Ay&&Ay<Az?Ay:Az,value:Ay||new Date(Az.getFullYear(),Az.getMonth(),Az.getDate(),23,59,59),change:function(){var AA=this.value();Av.until=new Date(AA.getFullYear(),AA.getMonth(),AA.getDate(),23,59,59);Aw._trigger()}}).data("kendoDatePicker")},_trigger:function(){if(!this.options.mobile){this.trigger("change")}}});var An=E.extend({init:function(Ax,Aw){var Av=this;E.fn.init.call(Av,Ax,Aw);Av._initFrequency();Av._initContainer();Av.value(Av.options.value)},options:{name:"RecurrenceEditor"},events:["change"],destroy:function(){var Av=this;Av._frequency.destroy();Av._container.find("input[type=radio],input[type=checkbox]").off(f+Av._namespace);e.destroy(Av._container);E.fn.destroy.call(Av)},value:function(Ay){var Aw=this;var Av=Aw.options.timezone;var Ax;if(Ay===x){if(!Aw._value.freq){return""}return Ap(Aw._value,Av)}Aw._value=b(Ay,Av)||{};Ax=Aw._value.freq;if(Ax){Aw._frequency.value(Ax)}else{Aw._frequency.select(0)}Aw._initView(Aw._frequency.value())},_initContainer:function(){var Ax=this.element,Aw=v('<div class="k-recur-view" />'),Av=Ax.parent(".k-edit-field");if(Av[0]){Aw.insertAfter(Av)}else{Ax.append(Aw)}this._container=Aw},_initFrequency:function(){var Ax=this,Ay=Ax.options,AA=Ay.frequencies,Aw=Ay.messages.frequencies,Av=v("<input />"),Az;AA=v.map(AA,function(AB){return{text:Aw[AB],value:AB}});Az=AA[0];if(Az&&Az.value==="never"){Az.value=""}Ax.element.append(Av);Ax._frequency=new Ao(Av,{dataTextField:"text",dataValueField:"value",dataSource:AA,change:function(){Ax._value={};Ax._initView(Ax._frequency.value());Ax.trigger("change")}})},_initView:function(Az){var Aw=this;var Av=Aw._value;var Ax=Aw.options;var Ay={frequency:Az||"never",weekDayCheckBoxes:Au,firstWeekDay:Ax.firstWeekDay,messages:Ax.messages[Az],end:Ax.messages.end};e.destroy(Aw._container);Aw._container.html(W(Ay));if(!Az){Aw._value={};return}Av.freq=Az;if(Az==="weekly"&&!Av.weekDays){Av.weekDays=[{day:Ax.start.getDay(),offset:0}]}Aw._initInterval();Aw._initWeekDays();Aw._initMonthDay();Aw._initWeekDay();Aw._initMonth();Aw._initCount();Aw._initUntil();Aw._period();Aw._end()},_initMonth:function(){var Ax=this;var Aw=Ax._value;var Az=Aw.months||[Ax.options.start.getMonth()+1];var Ay=Ax._container.find(".k-recur-month");var Av;if(Ay[0]){Av={change:function(){Aw.months=[Number(this.value())];Ax.trigger("change")},dataTextField:"text",dataValueField:"value",dataSource:v.map(e.culture().calendar.months.names,function(AA,AB){return{text:AA,value:AB+1}})};Ax._month1=new Ao(Ay[0],Av);Ax._month2=new Ao(Ay[1],Av);if(Az){Az=Az[0];Ax._month1.value(Az);Ax._month2.value(Az)}}},_end:function(){var Ay=this;var Ax=Ay._value;var Az=Ay._container;var Av=Ay._namespace;var AA=function(AB){Ay._toggleEnd(AB.currentTarget.value);Ay.trigger("change")};var Aw;Ay._buttonNever=Az.find(".k-recur-end-never").on(f+Av,AA);Ay._buttonCount=Az.find(".k-recur-end-count").on(f+Av,AA);Ay._buttonUntil=Az.find(".k-recur-end-until").on(f+Av,AA);if(Ax.count){Aw="count"}else{if(Ax.until){Aw="until"}}Ay._toggleEnd(Aw)},_period:function(){var Aw=this;var Av=Aw._value;var Ax=Av.freq==="monthly";var Az=Ax?Aw._toggleMonthDay:Aw._toggleYear;var Ay=".k-recur-"+(Ax?"month":"year")+"-radio";var AA=Aw._container.find(Ay);if(!Ax&&Av.freq!=="yearly"){return}AA.on(f+Aw._namespace,function(AB){Az.call(Aw,AB.currentTarget.value);Aw.trigger("change")});Aw._buttonMonthDay=AA.eq(0);Aw._buttonWeekDay=AA.eq(1);Az.call(Aw,Av.weekDays?"weekday":"monthday")},_toggleEnd:function(Aw){var AA=this;var Av,Az;var Ay,Ax;if(Aw==="count"){AA._buttonCount.prop("checked",true);Ay=true;Ax=false;Av=AA._count.value();Az=null}else{if(Aw==="until"){AA._buttonUntil.prop("checked",true);Ay=false;Ax=true;Av=null;Az=AA._until.value()}else{AA._buttonNever.prop("checked",true);Ay=Ax=false;Av=Az=null}}AA._count.enable(Ay);AA._until.enable(Ax);AA._value.count=Av;AA._value.until=Az},_toggleMonthDay:function(Az){var Aw=this;var AA=false;var Ay=true;var Ax=false;var Av;if(Az==="monthday"){Aw._buttonMonthDay.prop("checked",true);Av=[Aw._monthDay.value()];AA=true;Ay=false;Ax=true}else{Aw._buttonWeekDay.prop("checked",true);Av=null}Aw._weekDay.enable(Ay);Aw._weekDayOffset.enable(Ay);Aw._monthDay.enable(AA);Aw._value.monthDays=Av;Aw._weekDayRule(Ax)},_toggleYear:function(Az){var Ax=this;var Av=false;var Ay=true;var Aw;if(Az==="monthday"){Av=true;Ay=false;Aw=Ax._month1.value()}else{Aw=Ax._month2.value()}Ax._month1.enable(Av);Ax._month2.enable(Ay);Ax._value.months=[Aw];Ax._toggleMonthDay(Az)}});Ag.plugin(An);var S=e.template('<div class="k-edit-label"><label>#:headerTitle#</label></div><div class="k-edit-field k-recur-pattern k-scheduler-toolbar"></div><div class="k-recur-view"></div>');var y=e.template('# if (frequency !== "never") { #<div class="k-edit-label"><label>#:messages.repeatEvery#</label></div><div class="k-edit-field"><input class="k-recur-interval" pattern="\\\\d*"/>#:messages.interval#</div># } ## if (frequency === "weekly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field">#=weekDayCheckBoxes(firstWeekDay)#</div># } else if (frequency === "monthly") { #<div class="k-edit-label"><label>#:messages.repeatBy#</label></div><div class="k-edit-field k-scheduler-toolbar k-repeat-rule"></div><div class="k-monthday-view" style="display:none"><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><input class="k-recur-monthday" pattern="\\\\d*"/></div></div><div class="k-weekday-view" style="display:none"><div class="k-edit-label"><label>#:messages.every#</label></div><div class="k-edit-field"><select class="k-recur-weekday-offset"></select></div><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><select class="k-recur-weekday"></select></div></div># } else if (frequency === "yearly") { #<div class="k-edit-label"><label>#:messages.repeatBy#</label></div><div class="k-edit-field k-scheduler-toolbar k-repeat-rule"></div><div class="k-monthday-view" style="display:none"><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><input class="k-recur-monthday" pattern="\\\\d*"/></div></div><div class="k-weekday-view" style="display:none"><div class="k-edit-label"><label>#:messages.every#</label></div><div class="k-edit-field"><select class="k-recur-weekday-offset"></select></div><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><select class="k-recur-weekday"></select></div></div><div class="k-edit-label"><label>#:messages.month#</label></div><div class="k-edit-field"><select class="k-recur-month"></select></div># } #');var j=e.template('# if (endPattern === "count") { #<div class="k-edit-label"><label>#:messages.after#</label></div><div class="k-edit-field"><input class="k-recur-count" pattern="\\\\d*" /></div># } else if (endPattern === "until") { #<div class="k-edit-label"><label>#:messages.on#</label></div><div class="k-edit-field"><input type="date" class="k-recur-until" /></div># } #');var F=e.template('<ul class="k-reset k-header k-scheduler-navigation">#for (var i = 0, length = dataSource.length; i < length; i++) {#<li class="k-state-default #= value === dataSource[i].value ? "k-state-selected" : "" #"><a role="button" href="\\#" class="k-link" data-#=ns#value="#=dataSource[i].value#">#:dataSource[i].text#</a></li>#}#</ul>');var L=E.extend({init:function(Ax,Aw){var Av=this;E.fn.init.call(Av,Ax,Aw);Aw=Av.options;Av._optionTemplate=e.template('<option value="#:value#">#:text#</option>');Av.value(Aw.value);Av._pane=Aw.pane;Av._initRepeatButton();Av._initRepeatEnd();Av._defaultValue=Av._value},options:{name:"MobileRecurrenceEditor",animations:{left:"slide",right:"slide:right"},mobile:true,messages:{cancel:"Cancel",update:"Save",endTitle:"Repeat ends",repeatTitle:"Repeat pattern",headerTitle:"Repeat event",end:{patterns:{never:"Never",after:"After...",on:"On..."},never:"Never",after:"End repeat after",on:"End repeat on"},daily:{interval:""},hourly:{interval:""},weekly:{interval:""},monthly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every",every:"Every",day:"Day "},yearly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every: ",every:"Every",month:"Month",day:"Day"}}},events:["change"],value:function(Ax){var Aw=this;var Av=Aw.options.timezone;if(Ax===x){if(!Aw._value.freq){return""}return Ap(Aw._value,Av)}Aw._value=b(Ax,Av)||{}},destroy:function(){this._destroyView();e.destroy(this._endFields);this._repeatButton.off(f+this._namespace);E.fn.destroy.call(this)},_initRepeatButton:function(){var Aw=this;var Av=Aw.options.messages.frequencies[this._value.freq||"never"];Aw._repeatButton=v('<a href="#" class="k-button k-scheduler-recur">'+Av+"</a>").on(f+Aw._namespace,function(Ax){Ax.preventDefault();Aw._createView("repeat");Aw._pane.navigate("recurrence",Aw.options.animations.left)});Aw.element.append(Aw._repeatButton)},_initRepeatEnd:function(){var Av=this;var Ax=v('<div class="k-edit-label"><label>'+Av.options.messages.end.mobileLabel+"</label></div>").insertAfter(Av.element.parent(".k-edit-field"));var Aw=v('<div class="k-edit-field"><a href="#" class="k-button k-scheduler-recur-end"></a></div>').on(f+Av._namespace,function(Ay){Ay.preventDefault();if(!Av._value.freq){return}Av._createView("end");Av._pane.navigate("recurrence",Av.options.animations.left)}).insertAfter(Ax);Av._endFields=Ax.add(Aw).toggleClass("k-state-disabled",!Av._value.freq);Av._endButton=Aw.find(".k-scheduler-recur-end").text(Av._endText())},_endText:function(){var Av=this._value;var Aw=this.options.messages.end;var Ax=Aw.never;if(Av.count){Ax=e.format("{0} {1}",Aw.after,Av.count)}else{if(Av.until){Ax=e.format("{0} {1:d}",Aw.on,Av.until)}}return Ax},_initFrequency:function(){var Aw=this;var Ax=Aw.options.messages.frequencies;var Av=F({dataSource:v.map(this.options.frequencies,function(Ay){return{text:Ax[Ay],value:Ay!=="never"?Ay:""}}),value:Aw._value.freq||"",ns:e.ns});Aw._view.element.find(".k-recur-pattern").append(Av).on(f+Aw._namespace,".k-scheduler-navigation li",function(Ay){var Az=v(this);Ay.preventDefault();Az.addClass("k-state-selected").siblings().removeClass("k-state-selected");Aw._value={freq:Az.children("a").attr(e.attr("value"))};Aw._initRepeatView()})},_initEndNavigation:function(){var Ax=this;var Az=Ax.options.messages.end.patterns;var Aw=Ax._value;var Ay="";if(Aw.count){Ay="count"}else{if(Aw.until){Ay="until"}}var Av=F({dataSource:[{text:Az.never,value:""},{text:Az.after,value:"count"},{text:Az.on,value:"until"}],value:Ay,ns:e.ns});Ax._view.element.find(".k-recur-pattern").append(Av).on(f+Ax._namespace,".k-scheduler-navigation li",function(AB){var AC=v(this);var AA=null;var AD=null;AB.preventDefault();AC.addClass("k-state-selected").siblings().removeClass("k-state-selected");Ax._initEndView(AC.children("a").attr(e.attr("value")));if(Ax._count){AA=Ax._count.value();AD=null}else{if(Ax._until){AA=null;AD=Ax._until.val?e.parseDate(Ax._until.val(),"yyyy-MM-dd"):Ax._until.value()}}Aw.count=AA;Aw.until=AD})},_createView:function(AA){var Ax=this;var Ay=Ax.options;var Aw=Ay.messages;var Az=Aw[AA==="repeat"?"repeatTitle":"endTitle"];var Av='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="recurrence"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+Aw.cancel+"</a>"+Aw.headerTitle+'<a href="#" class="k-button k-scheduler-update">'+Aw.update+"</a></div>";var AB=Ax._pane.view().id;Ax._view=Ax._pane.append(Av+S({headerTitle:Az}));Ax._view.element.on(f+Ax._namespace,"a.k-scheduler-cancel, a.k-scheduler-update",function(AC){AC.preventDefault();AC.stopPropagation();if(v(this).hasClass("k-scheduler-update")){Ax.trigger("change");Ax._defaultValue=v.extend({},Ax._value)}else{Ax._value=Ax._defaultValue}var AD=Ax._value.freq;Ax._endButton.text(Ax._endText());Ax._endFields.toggleClass("k-state-disabled",!AD);Ax._repeatButton.text(Aw.frequencies[AD||"never"]);Ax._pane.one("viewShow",function(){Ax._destroyView()});Ax._pane.navigate(AB,Ax.options.animations.right)});Ax._container=Ax._view.element.find(".k-recur-view");if(AA==="repeat"){Ax._initFrequency();Ax._initRepeatView()}else{Ax._initEndNavigation();Ax._initEndView()}},_destroyView:function(){if(this._view){this._view.destroy();this._view.element.remove()}this._view=null},_initRepeatView:function(){var Ax=this;var AA=Ax._value.freq||"never";var Az={frequency:AA,weekDayCheckBoxes:Au,firstWeekDay:Ax.options.firstWeekDay,messages:Ax.options.messages[AA]};var Av=y(Az);var Ay=Ax._container;var Aw=Ax._value;e.destroy(Ay);Ay.html(Av);if(!Av){Ax._value={};return}if(AA==="weekly"&&!Aw.weekDays){Aw.weekDays=[{day:Ax.options.start.getDay(),offset:0}]}Ax._initInterval();Ax._initMonthDay();Ax._initWeekDays();Ax._initWeekDay();Ax._initMonth();Ax._period()},_initEndView:function(Aw){var Ax=this;var Av=Ax._value;if(Aw===x){if(Av.count){Aw="count"}else{if(Av.until){Aw="until"}}}var Ay={endPattern:Aw,messages:Ax.options.messages.end};e.destroy(Ax._container);Ax._container.html(j(Ay));Ax._initCount();Ax._initUntil()},_initWeekDay:function(){var Ax=this,AA;var Av=Ax.options.messages.weekdays;var Az=Ax.options.messages.offsetPositions;var Ay=Ax._container.find(".k-recur-weekday");var Aw=function(){Ax._weekDayRule();Ax.trigger("change")};if(Ay[0]){Ax._weekDayOffset=Ax._container.find(".k-recur-weekday-offset").html(Ax._options([{text:Az.first,value:"1"},{text:Az.second,value:"2"},{text:Az.third,value:"3"},{text:Az.fourth,value:"4"},{text:Az.last,value:"-1"}])).change(Aw);AA=[{text:Av.day,value:"day"},{text:Av.weekday,value:"weekday"},{text:Av.weekend,value:"weekend"}];AA=AA.concat(v.map(e.culture().calendar.days.names,function(AB,AC){return{text:AB,value:AC}}));Ax._weekDay=Ay.html(Ax._options(AA)).change(Aw).val(Ax.options.start.getDay());Ax._weekDayView()}},_initMonth:function(){var Aw=this;var Av=Aw._value;var AA=Aw.options.start;var Ay=Av.months||[AA.getMonth()+1];var Az=Aw._container.find(".k-recur-month");var Ax=e.culture().calendar.months.names;if(Az[0]){var AB=v.map(Ax,function(AC,AD){return{text:AC,value:AD+1}});Az.html(Aw._options(AB)).change(function(){Av.months=[Number(this.value)]});Aw._monthSelect=Az;if(Ay){Az.val(Ay[0])}}},_period:function(){var AA=this;var AC=AA._value;var AB=AA._container;var AE=AA.options.messages[AC.freq];var Ay=AB.find(".k-repeat-rule");var Aw=AB.find(".k-weekday-view");var AD=AB.find(".k-monthday-view");if(Ay[0]){var Ax=AC.weekDays?"weekday":"monthday";var Az=F({value:Ax,dataSource:[{text:AE.dayOfMonth,value:"monthday"},{text:AE.dayOfWeek,value:"weekday"}],ns:e.ns});var Av=function(AI){var AJ=AA._weekDay.val();var AF=AA._weekDayOffset.val();var AH=AA._monthDay.value();var AG=AA._monthSelect?AA._monthSelect.val():null;if(AI==="monthday"){AC.weekDays=null;AC.monthDays=AH?[AH]:AH;AC.months=AG?[Number(AG)]:AG;Aw.hide();AD.show()}else{AC.monthDays=null;AC.months=AG?[Number(AG)]:AG;AC.weekDays=[{offset:Number(AF),day:Number(AJ)}];Aw.show();AD.hide()}};Ay.append(Az).on(f+AA._namespace,".k-scheduler-navigation li",function(AG){var AH=v(this).addClass("k-state-selected");AG.preventDefault();AH.siblings().removeClass("k-state-selected");var AF=AH.children("a").attr(e.attr("value"));Av(AF)});Av(Ax)}},_initUntil:function(){var Ax=this;var Ay=Ax._container.find(".k-recur-until");var AA=Ax.options.start;var Aw=Ax._value;var Az=Aw.until;var Av=Az&&Az<AA?Az:AA;if(e.support.input.date){Ax._until=Ay.attr("min",e.toString(Av,"yyyy-MM-dd")).val(e.toString(Az||AA,"yyyy-MM-dd")).on("change",function(){Aw.until=e.parseDate(this.value,"yyyy-MM-dd")})}else{Ax._until=Ay.kendoDatePicker({min:Av,value:Az||AA,change:function(){Aw.until=this.value()}}).data("kendoDatePicker")}},_options:function(AA,Az){var Ay=0;var Av="";var Aw=AA.length;var Ax=this._optionTemplate;if(Az){Av+=Ax({value:"",text:Az})}for(;Ay<Aw;Ay++){Av+=Ax(AA[Ay])}return Av}});Ag.plugin(L)})(window.kendo.jQuery);(function(U,V){var S=window.kendo,C=S.ui,I=S.date.setTime,A=C.SchedulerView,K=U.extend,P=U.proxy,N=S.date.getDate,J=S.date.getMilliseconds,E=S.date.MS_PER_DAY,H=S.date.MS_PER_MINUTE,O=".kendoTimelineView";var M=S.template('<div><div class="k-event-template k-event-time">#:kendo.format("{0:t} - {1:t}", start, end)#</div><div class="k-event-template">${title}</div></div>'),T=S.template("<span class='k-link k-nav-day'>#=kendo.format('{0:m}', date)#</span>"),D='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color#; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#" #} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head) {#<span class="k-icon k-i-arrow-e"></span>#}#</span>#if(resizable && !data.tail){#<span class="k-resize-handle k-resize-w"></span>#}##if(resizable && !data.head){#<span class="k-resize-handle k-resize-e"></span>#}#</div>';function G(X){var W=new Date(1980,1,1,0,0,0);I(W,J(X));return W}function R(W){var Y=[];var X=W.workWeekStart;Y.push(X);while(W.workWeekEnd!=X){if(X>6){X-=7}else{X++}Y.push(X)}return Y}function L(W){var X=0;if(W.columns){for(var Y=0;Y<W.columns.length;Y++){X+=L(W.columns[Y])}W.colspan=X;return X}else{W.colspan=1;return 1}}function F(Y,X,W){var a,Z,c,b;for(a=Y.length-1;a>=0;a--){Z=Y[a].rectLeft;b=Y[a].rectRight;c=Z<=X&&b>=X;if(c||(Z>=X&&b<=W)||(X<=Z&&W>=Z)){if(Z<X){X=Z}if(b>W){W=b}}}return Q(Y,X,W)}function Q(Y,X,W){var a=[];for(var b=0;b<Y.length;b++){var Z={rectLeft:Y[b].rectLeft,rectRight:Y[b].rectRight};if((Z.rectLeft<X&&Z.rectRight>X)||(Z.rectLeft>=X&&Z.rectRight<=W)){a.push(Y[b])}}return a}var B=A.extend({init:function(Y,X){var W=this;A.fn.init.call(W,Y,X);W.title=W.options.title||W.options.name;W._workDays=R(W.options);W._templates();W._editable();W.calculateDateRange();W._groups();W._currentTime()},name:"timeline",_currentTimeMarkerUpdater:function(){var d=new Date();var e=this.options;this.datesHeader.find(".k-current-time").remove();if(!this._isInDateSlot({start:d,end:d})){return}if(e.currentTimeMarker.useLocalTimezone===false){var Y=e.dataSource.options.schema.timezone;if(e.dataSource&&Y){var h=S.timezone.offset(d,Y);d=S.timezone.convert(d,d.getTimezoneOffset(),h)}}var Z=!e.group||e.group.orientation=="vertical"?1:this.groups.length;for(var X=0;X<Z;X++){var W=this.groups[X];var c=S.date.toUtcTime(d);var f=W.timeSlotRanges(c,c+1);if(f.length===0){return}var a=f[0].collection;var g=a.slotByStartDate(d);if(g){var b=U("<div class='k-current-time'></div>");var k=this.datesHeader;var j=Math.round(f[0].innerRect(d,new Date(d.getTime()+1),false).left);b.appendTo(k.find(".k-scheduler-header-wrap")).css({left:this._adjustLeftPosition(j),width:"1px",bottom:"1px",top:0})}}},_adjustLeftPosition:function(W){if(this._isRtl){W-=(this.content[0].scrollWidth-this.content[0].offsetWidth)}return W},_currentTime:function(){var X=this;var Y=X.options.currentTimeMarker;if(Y!==false&&Y.updateInterval!==V){var W=Y.updateInterval;X._currentTimeMarkerUpdater();X._currentTimeUpdateTimer=setInterval(P(this._currentTimeMarkerUpdater,X),W)}},_editable:function(){if(this.options.editable){if(this._isMobile()){this._touchEditable()}else{this._mouseEditable()}}},_mouseEditable:function(){var W=this;W.element.on("click"+O,".k-event a:has(.k-si-close)",function(X){W.trigger("remove",{uid:U(this).closest(".k-event").attr(S.attr("uid"))});X.preventDefault()});if(W.options.editable.create!==false){W.element.on("dblclick"+O,".k-scheduler-content td",function(X){var Y=W._slotByPosition(X.pageX,X.pageY);if(Y){var Z=W._resourceBySlot(Y);W.trigger("add",{eventInfo:K({start:Y.startDate(),end:Y.endDate()},Z)})}X.preventDefault()})}if(W.options.editable.update!==false){W.element.on("dblclick"+O,".k-event",function(X){W.trigger("edit",{uid:U(this).closest(".k-event").attr(S.attr("uid"))});X.preventDefault()})}},_touchEditable:function(){var W=this;if(W.options.editable.create!==false){W._addUserEvents=new S.UserEvents(W.element,{filter:".k-scheduler-content td",tap:function(X){var Y=W._slotByPosition(X.x.location,X.y.location);if(Y){var Z=W._resourceBySlot(Y);W.trigger("add",{eventInfo:K({start:Y.startDate(),end:Y.endDate()},Z)})}X.preventDefault()}})}if(W.options.editable.update!==false){W._editUserEvents=new S.UserEvents(W.element,{filter:".k-event",tap:function(Y){var X=U(Y.target).closest(".k-event");if(!X.hasClass("k-event-active")){W.trigger("edit",{uid:X.attr(S.attr("uid"))})}Y.preventDefault()}})}},_slotByPosition:function(a,b){var c;var d=this.content;var X=d.offset();var Y;var W;a-=X.left;b-=X.top;if(this._isRtl){var Z=S.support.browser;if(Z.mozilla){a+=(d[0].scrollWidth-d[0].offsetWidth);a+=d[0].scrollLeft}else{if(Z.msie){a-=d.scrollLeft();a+=d[0].scrollWidth-d[0].offsetWidth}else{if(Z.webkit){a+=d[0].scrollLeft}}}}else{a+=d[0].scrollLeft}b+=d[0].scrollTop;a=Math.ceil(a);b=Math.ceil(b);for(W=0;W<this.groups.length;W++){Y=this.groups[W];c=Y.timeSlotByPosition(a,b);if(c){return c}}return null},options:{name:"TimelineView",title:"Timeline",selectedDateFormat:"{0:D}",selectedShortDateFormat:"{0:d}",date:S.date.today(),startTime:S.date.today(),endTime:S.date.today(),showWorkHours:false,minorTickCount:2,editable:true,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,majorTick:60,eventHeight:25,eventMinWidth:0,columnWidth:100,groupHeaderTemplate:"#=text#",majorTimeHeaderTemplate:"#=kendo.toString(date, 't')#",slotTemplate:"&nbsp;",eventTemplate:M,dateHeaderTemplate:T,footer:{command:"workDay"},currentTimeMarker:{updateInterval:10000,useLocalTimezone:true},messages:{defaultRowText:"All events",showFullDay:"Show full day",showWorkDay:"Show business hours"}},events:["remove","add","edit"],_templates:function(){var W=this.options,X=K({},S.Template,W.templateSettings);this.eventTemplate=this._eventTmpl(W.eventTemplate,D);this.majorTimeHeaderTemplate=S.template(W.majorTimeHeaderTemplate,X);this.dateHeaderTemplate=S.template(W.dateHeaderTemplate,X);this.slotTemplate=S.template(W.slotTemplate,X);this.groupHeaderTemplate=S.template(W.groupHeaderTemplate,X)},_render:function(X){var W=this;X=X||[];W._dates=X;W._startDate=X[0];W._endDate=X[(X.length-1)||0];W._calculateSlotRanges();W.createLayout(W._layout(X));W._content(X);W._footer();W._setContentWidth();W.refreshLayout();W.datesHeader.on("click"+O,".k-nav-day",function(Y){var Z=U(Y.currentTarget).closest("th");var a=W._slotByPosition(Z.offset().left,W.content.offset().top);W.trigger("navigate",{view:"timeline",date:a.startDate()})});W.timesHeader.find("table tr:last").hide();W.datesHeader.find("table tr:last").hide()},_setContentWidth:function(){var a=this.content;var b=a.width();var Y=this.content.find("table");var X=Y.find("tr:first").children().length;var W=100;var Z=X*this.options.columnWidth;if(b<Z){W=Math.ceil((Z/b)*100)}Y.add(this.datesHeader.find("table")).css("width",W+"%")},_calculateSlotRanges:function(){var Y=this._dates;var X=this.startTime();var Z=this.endTime();if(J(Z)===J(S.date.getDate(Z))){Z=S.date.getDate(Z);I(Z,E-1)}Z=J(Z);X=J(X);var c=[];for(var W=0;W<Y.length;W++){var a=N(Y[W]);I(a,X);var b=N(Y[W]);I(b,Z);c.push({start:S.date.toUtcTime(a),end:S.date.toUtcTime(b)})}this._slotRanges=c},_forTimeRange:function(g,n,m,h){g=G(g);n=G(n);var a=this,l=J(g),r=J(n),Y=a.options.minorTickCount,p=a.options.majorTick*H,k=p/Y||1,s=new Date(+g),c=s.getDate(),b,q=0,W,j="";W=E/k;if(l!=r){if(l>r){r+=E}W=((r-l)/k)}W=Math.round(W);for(;q<W;q++){var d=q%(p/k);var e=d===0;var f=d<Y-1;var Z=d===Y-1;var X=Y;if(W%Y!==0){var o=(W-(q+1))<Y;if(e&&o){X=W%Y}}j+=m(s,e,f,Z,X);I(s,k,false)}if(r){b=J(s);if(c<s.getDate()){b+=E}if(b>r){s=new Date(+n)}}if(h){j+=h(s)}return j},_layout:function(c){var X=[];var Z=[];var d=this;var b=[{text:d.options.messages.defaultRowText}];var W=[];for(var Y=0;Y<d.options.minorTickCount;Y++){W.push({text:"",className:""})}this._forTimeRange(d.startTime(),d.endTime(),function(m,k,g,f,j){var l=d.majorTimeHeaderTemplate;if(k){var h={text:l({date:m}),className:f?"k-slot-cell":"",columns:W.slice(0,j)};L(h);X.push(h)}});for(var a=0;a<c.length;a++){Z.push({text:d.dateHeaderTemplate({date:c[a]}),className:"k-slot-cell",columns:X.slice(0)})}var e=this.groupedResources;if(e.length){if(this._groupOrientation()==="vertical"){b=d._createRowsLayout(e,null,this.groupHeaderTemplate)}else{Z=d._createColumnsLayout(e,Z,this.groupHeaderTemplate)}}return{columns:Z,rows:b}},_footer:function(){var Y=this.options;if(Y.footer!==false){var W='<div class="k-header k-scheduler-footer">';var Z=Y.footer.command;if(Z&&Z==="workDay"){W+='<ul class="k-reset k-header">';W+='<li class="k-state-default k-scheduler-fullday"><a href="#" class="k-link"><span class="k-icon k-i-clock"></span>';W+=(Y.showWorkHours?Y.messages.showFullDay:Y.messages.showWorkDay)+"</a></li>";W+="</ul>"}else{W+="&nbsp;"}W+="</div>";this.footer=U(W).appendTo(this.element);var X=this;this.footer.on("click"+O,".k-scheduler-fullday",function(a){a.preventDefault();X.trigger("navigate",{view:X.name||Y.name,date:X.startDate(),isWorkDay:!Y.showWorkHours})})}},_columnCountForLevel:function(X){var W=this.columnLevels[X];return W?W.length:0},_rowCountForLevel:function(W){var X=this.rowLevels[W];return X?X.length:0},_isWorkDay:function(Y){var X=Y.getDay();var Z=this._workDays;for(var W=0;W<Z.length;W++){if(Z[W]===X){return true}}return false},_content:function(X){var Y=this;var h=Y.options;var n=Y.startTime();var b=this.endTime();var Z=1;var k=1;var f=X.length;var c="";var e=this.groupedResources;var W=this.slotTemplate;var g=false;if(e.length){g=Y._groupOrientation()==="vertical";if(g){k=Y._groupCount()}else{Z=Y._groupCount()}}c+="<tbody>";var l=function(t,r){var s="";var p="";var o;var q=function(u){return function(){return Y._resourceBySlot({groupIndex:u})}};if(S.date.isToday(X[m])){p+="k-today"}if(S.date.getMilliseconds(t)<S.date.getMilliseconds(h.workDayStart)||S.date.getMilliseconds(t)>=S.date.getMilliseconds(h.workDayEnd)||!Y._isWorkDay(X[m])){p+=" k-nonwork-hour"}s+="<td"+(p!==""?' class="'+p+'"':"")+">";o=S.date.getDate(X[m]);S.date.setTime(o,S.date.getMilliseconds(t));s+=W({date:o,resources:q(g?j:d)});s+="</td>";return s};for(var j=0;j<k;j++){c+="<tr>";for(var d=0;d<Z;d++){for(var m=0,a=f;m<a;m++){c+=this._forTimeRange(n,b,l)}}c+="</tr>"}c+="</tbody>";this.content.find("table").append(c)},_groups:function(){var a=this._groupCount();var Y=this._dates;var W=Y.length;this.groups=[];for(var b=0;b<a;b++){var Z=this._addResourceView(b);var c=Y[0];var X=Y[(Y.length-1)||0];Z.addTimeSlotCollection(c,S.date.addDays(X,1))}this._timeSlotGroups(a,W)},_isVerticallyGrouped:function(){return this.groupedResources.length&&this._groupOrientation()==="vertical"},_isHorizontallyGrouped:function(){return this.groupedResources.length&&this._groupOrientation()==="horizontal"},_timeSlotGroups:function(n,o){var j=this._timeSlotInterval();var b=this._isVerticallyGrouped();var g=this.content.find("tr");var r=g.length;g.attr("role","row");if(b){r=Math.floor(r/n)}for(var h=0;h<n;h++){var q=0;var l=this.groups[h];var e;if(b){q=h}var X=q*r;var c=0;if(!b){c=h}var m=g[X].children;var Z=m.length/(!b?n:1);var W=Z/o;for(var u=0;u<o;u++){var s=u*W+(Z*c);e=J(new Date(+this.startTime()));for(var a=0;a<W;a++){var k=m[a+s];var p=l.getTimeSlotCollection(0);var Y=this._dates[u];var d=Date.UTC(Y.getFullYear(),Y.getMonth(),Y.getDate());var t=d+e;var f=t+j;k.setAttribute("role","gridcell");k.setAttribute("aria-selected",false);p.addTimeSlot(k,t,f,true);e+=j}}}},startDate:function(){return this._startDate},endDate:function(){return this._endDate},startTime:function(){var W=this.options;return W.showWorkHours?W.workDayStart:W.startTime},endTime:function(){var W=this.options;return W.showWorkHours?W.workDayEnd:W.endTime},_timeSlotInterval:function(){var W=this.options;return(W.majorTick/W.minorTickCount)*H},nextDate:function(){return S.date.nextDay(this.endDate())},previousDate:function(){return S.date.previousDay(this.startDate())},calculateDateRange:function(){this._render([this.options.date])},render:function(Z){this._headerColumnCount=0;this._groups();this.element.find(".k-event").remove();Z=new S.data.Query(Z).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var Y=[];this._eventsByResource(Z,this.groupedResources,Y);var X=[];var b=0;for(var a=0;a<Y.length;a++){var W={groupIndex:a,maxRowCount:0,events:{}};X.push(W);this._renderEvents(Y[a],a,W);if(b<W.maxRowCount){b=W.maxRowCount}}this._setRowsHeight(X,Y.length,b);this._positionEvents(X,Y.length);this.trigger("activate")},_positionEvents:function(a,Y){for(var b=0;b<Y;b++){var Z=a[b].events;for(var X in Z){var W=Z[X];this._positionEvent(W)}}},_setRowsHeight:function(c,X,f){var e=this.options.eventHeight+2;var Y=this._getBottomRowOffset();X=this._isVerticallyGrouped()?X:1;for(var W=0;W<X;W++){var b=this._isVerticallyGrouped()?c[W].maxRowCount:f;b=b?b:1;var d=((e+2)*b)+Y;var Z=U(this.times.find("tr")[W]);var a=U(this.content.find("tr")[W]);Z.height(d);a.height(d)}this._setContentWidth();this.refreshLayout();this._refreshSlots()},_getBottomRowOffset:function(){var Y=this.options.eventHeight*0.5;var X=this._isMobile();var W;var Z;if(X){W=30;Z=60}else{W=15;Z=30}if(Y>Z){Y=Z}else{if(Y<W){Y=W}}return Y},_positionEvent:function(c){var d=this.options.eventHeight+2;var W=c.slotRange.innerRect(c.start,c.end,false);var Y=this._adjustLeftPosition(W.left);var a=W.right-W.left-2;if(a<0){a=0}if(a<this.options.eventMinWidth){var X=c.slotRange.collection;var b=X._slots[X._slots.length-1];var Z=b.offsetLeft+b.offsetWidth;a=this.options.eventMinWidth;if(Z<Y+a){a=Z-W.left-2}}c.element.css({top:c.slotRange.start.offsetTop+c.rowIndex*(d+2)+"px",left:Y,width:a})},_refreshSlots:function(){for(var W=0;W<this.groups.length;W++){this.groups[W].refresh()}},_eventsByResource:function(b,d,X){var Y=d[0];if(Y){var W=Y.dataSource.view();for(var c=0;c<W.length;c++){var Z=this._resourceValue(Y,W[c]);var a=new S.data.Query(b).filter({field:Y.field,operator:A.groupEqFilter(Z)}).toArray();if(d.length>1){this._eventsByResource(a,d.slice(1),X)}else{X.push(a)}}}else{X.push(b)}},_isInDateSlot:function(Y){var X=Y.start;var a=Y.end;var Z=N(this._startDate);var W=S.date.addDays(N(this._endDate),1);if(X<W&&Z<=a){return true}return false},_isInTimeSlot:function(X){var W=X._startTime||S.date.toUtcTime(X.start);var Z=X._endTime||S.date.toUtcTime(X.end);var a=this._slotRanges;if(W===Z){Z=Z+1}for(var Y=0;Y<a.length;Y++){if(W<a[Y].end&&a[Y].start<Z){return true}}return false},_adjustEvent:function(a){var X=a.start;var Z=a.end;var Y=a._time("start");var b=a._time("end");var g=J(this.startTime());var f=J(this.endTime());var c=null;var W=null;var h;var d=false;var e=false;if(a.isAllDay){c=N(X);if(g>Y){I(c,g);e=true}W=N(Z);if(f===J(N(this.endTime()))){W=S.date.addDays(W,1)}else{I(W,f);d=true}}else{f=f===0?E:f;if(g>Y){c=N(X);I(c,g);e=true}else{if(f<Y){c=N(X);c=S.date.addDays(c,1);I(c,g);e=true}}if(f<b){W=N(Z);I(W,f);d=true}else{if(g>b){W=N(Z);W=S.date.addDays(W,-1);I(W,f);d=true}}}h=a.clone({start:c?c:X,end:W?W:Z,_startTime:c?S.date.toUtcTime(c):a._startTime,_endTime:W?S.date.toUtcTime(W):a._endTime,isAllDay:false});return{occurrence:h,head:d,tail:e}},_renderEvents:function(f,W,e){var a;var Y;var b;for(Y=0,b=f.length;Y<b;Y++){a=f[Y];if(this._isInDateSlot(a)){var Z=a.isAllDay||a.end.getTime()-a.start.getTime()>=E;var d=this.content;if(Z||this._isInTimeSlot(a)){var k=this._adjustEvent(a);var c=this.groups[W];if(!c._continuousEvents){c._continuousEvents=[]}var j=c.slotRanges(k.occurrence,false);var g=j[0];var X;if(this._isInTimeSlot(k.occurrence)){X=this._createEventElement(k.occurrence,a,g.head||k.head,g.tail||k.tail);X.appendTo(d).css({top:0,height:this.options.eventHeight});var h={start:k.occurrence._startTime||k.occurrence.start,end:k.occurrence._endTime||k.occurrence.end,element:X,uid:a.uid,slotRange:g,rowIndex:0,offsetTop:0};e.events[a.uid]=h;this.addContinuousEvent(c,g,X,a.isAllDay);this._arrangeRows(h,g,e)}}}}},addContinuousEvent:function(W,a,Z,X){var Y=W._continuousEvents;Y.push({element:Z,isAllDay:X,uid:Z.attr(S.attr("uid")),start:a.start,end:a.end})},_createEventElement:function(f,c,m,h){var X=this.eventTemplate;var a=this.options.editable;var b=this._isMobile();var j=a&&a.destroy!==false&&!b;var g=a&&a.resize!==false;var d=c._time("start");var k=c._time("end");var l=c.start;var e=c.end;var W=this.eventResources(c);if(c._startTime){l=new Date(d);l=S.timezone.apply(l,"Etc/UTC")}if(c.endTime){e=new Date(k);e=S.timezone.apply(e,"Etc/UTC")}var Z=K({},{ns:S.ns,resizable:g,showDelete:j,head:m,tail:h,singleDay:this._dates.length==1,resources:W,inverseColor:W&&W[0]?this._shouldInverseResourceColor(W[0]):false},c,{start:l,end:e});var Y=U(X(Z));this.angular("compile",function(){return{elements:Y,data:[{dataItem:Z}]}});return Y},_arrangeRows:function(k,l,e){var W=l.start.index;var h=l.end.index;var Y=k.slotRange.innerRect(k.start,k.end,false);var g=Y.right+this.options.eventMinWidth;var Z=F(l.events(),Y.left,g);l.addEvent({slotIndex:W,start:W,end:h,rectLeft:Y.left,rectRight:g,element:k.element,uid:k.uid});Z.push({start:W,end:h,uid:k.uid});var X=A.createRows(Z);if(e.maxRowCount<X.length){e.maxRowCount=X.length}for(var a=0,b=X.length;a<b;a++){var f=X[a].events;for(var c=0,d=f.length;c<d;c++){e.events[f[c].uid].rowIndex=a}}},_groupCount:function(){var W=this.groupedResources;if(W.length){if(this._groupOrientation()==="vertical"){return this._rowCountForLevel(W.length-1)}else{return this._columnCountForLevel(W.length-1)}}return 1},_updateEventForSelection:function(X){var W=this._adjustEvent(X.clone());return W.occurrence},_eventOptionsForMove:function(W){if(W.isAllDay){return{isAllDay:false}}return{}},_updateEventForResize:function(W){if(W.isAllDay){W.set("isAllDay",false)}},_updateMoveHint:function(g,h,m){var f=this.groups[h];var Y=g.clone({start:g.start,end:g.end});var a=Y.duration();Y.start=new Date(Y.start.getTime()+m);Y.end=new Date(+Y.start+a);var b=this._adjustEvent(Y);var l=f.slotRanges(b.occurrence,false);this._removeMoveHint();for(var c=0;c<l.length;c++){var X=l[c];var n=X.start;var Z=this._createEventElement(b.occurrence,b.occurrence,false,false);Z.addClass("k-event-drag-hint");var W=X.innerRect(b.occurrence.start,b.occurrence.end,this.options.snap);var e=W.right-W.left-2;if(e<0){e=0}var k=this._adjustLeftPosition(W.left);var j={left:k,top:n.offsetTop,height:n.offsetHeight-2,width:e};Z.css(j);this._moveHint=this._moveHint.add(Z)}var d=this.content;this._moveHint.appendTo(d)},_updateResizeHint:function(b,W,l,h){var d=this.groups[W];var f=d.ranges(l,h,false,false);this._removeResizeHint();for(var X=0;X<f.length;X++){var k=f[X];var Y=k.startSlot();var j=k.innerRect(l,h,false);j.top=Y.offsetTop;var g=j.right-j.left;var m=Y.offsetHeight;var c=this._adjustLeftPosition(j.left);var a=A.fn._createResizeHint.call(this,c,j.top,g,m);this._resizeHint=this._resizeHint.add(a)}var Z="t";var e=this.content;this._resizeHint.appendTo(e);this._resizeHint.find(".k-label-top,.k-label-bottom").text("");this._resizeHint.first().addClass("k-first").find(".k-label-top").text(S.toString(S.timezone.toLocalDate(l),Z));this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(S.toString(S.timezone.toLocalDate(h),Z))},selectionByElement:function(X){var W=X.offset();return this._slotByPosition(W.left,W.top)},_updateDirection:function(b,Z,W,X,a){var Y=Z[0].start;var c=Z[Z.length-1].end;if(W&&!a){if(Y.index===c.index&&Y.collectionIndex===c.collectionIndex){b.backward=X}}},_changeGroup:function(Z,Y){var X=Y?"prevGroupSlot":"nextGroupSlot";var W=this[X](Z.start,Z.groupIndex,false);if(W){Z.groupIndex+=Y?-1:1}return W},prevGroupSlot:function(b,a,Z){var W=this.groups[a];var X=W.ranges(b,b,Z,false)[0].start;if(a<=0){return}if(this._isVerticallyGrouped()){return X}else{var Y=W._collection(0,Z);return Y.last()}},nextGroupSlot:function(b,a,Z){var W=this.groups[a];var X=W.ranges(b,b,Z,false)[0].start;if(a>=this.groups.length-1){return}if(this._isVerticallyGrouped()){return X}else{var Y=W._collection(0,Z);return Y.first()}},_verticalSlots:function(a,b,c,X){var d=X?"leftSlot":"rightSlot";var Y=b[0].start;var W=b[b.length-1].end;var Z=this.groups[a.groupIndex];Y=Z[d](Y);W=Z[d](W);if(!c&&this._isVerticallyGrouped()&&(!Y||!W)){Y=W=this._changeGroup(a,X)}return{startSlot:Y,endSlot:W}},_horizontalSlots:function(a,b,c,X){var d=X?"upSlot":"downSlot";var Y=b[0].start;var W=b[b.length-1].end;var Z=this.groups[a.groupIndex];Y=Z[d](Y);W=Z[d](W);if(!c&&this._isHorizontallyGrouped()&&(!Y||!W)){Y=W=this._changeGroup(a,X)}return{startSlot:Y,endSlot:W}},_changeViewPeriod:function(a,W,X){var b=W?this.previousDate():this.nextDate();var c=a.start;var Z=a.end;a.start=new Date(b);a.end=new Date(b);if(this._isHorizontallyGrouped()){a.groupIndex=W?this.groups.length-1:0}var Y=Z-c;if(W){Z=J(this.endTime());Z=Z===0?E:Z;I(a.start,Z-Y);I(a.end,Z)}else{c=J(this.startTime());I(a.start,c);I(a.end,c+Y)}a.events=[];return true},move:function(d,g,a){var W=false;var c=this.groups[d.groupIndex];var f=S.keys;var e=c.ranges(d.start,d.end,false,false);var h,X,Y,b;if(g===f.DOWN||g===f.UP){W=true;Y=g===f.UP;this._updateDirection(d,e,a,Y,true);b=this._verticalSlots(d,e,a,Y)}else{if(g===f.LEFT||g===f.RIGHT){W=true;Y=g===f.LEFT;this._updateDirection(d,e,a,Y,false);b=this._horizontalSlots(d,e,a,Y);if((!b.startSlot||!b.endSlot)&&!a&&this._changeViewPeriod(d,Y,false)){return W}}}if(W){h=b.startSlot;X=b.endSlot;if(a){var Z=d.backward;if(Z&&h){d.start=h.startDate()}else{if(!Z&&X){d.end=X.endDate()}}}else{if(h&&X){d.start=h.startDate();d.end=X.endDate()}}d.events=[]}return W},destroy:function(){var W=this;if(W.element){W.element.off(O)}if(W.footer){W.footer.remove()}if(W._currentTimeUpdateTimer){clearInterval(W._currentTimeUpdateTimer)}A.fn.destroy.call(this);if(this._isMobile()&&W.options.editable){if(W.options.editable.create!==false){W._addUserEvents.destroy()}if(W.options.editable.update!==false){W._editUserEvents.destroy()}}}});K(true,C,{TimelineView:B,TimelineWeekView:B.extend({options:{name:"TimelineWeekView",title:"Timeline Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}",majorTick:120},name:"timelineWeek",calculateDateRange:function(){var Z=this.options.date,a=S.date.dayOfWeek(Z,this.calendarInfo().firstDay,-1),Y,W,X=[];for(Y=0,W=7;Y<W;Y++){X.push(a);a=S.date.nextDay(a)}this._render(X)}}),TimelineWorkWeekView:B.extend({options:{name:"TimelineWorkWeekView",title:"Timeline Work Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}",majorTick:120},name:"timelineWorkWeek",nextDate:function(){return S.date.dayOfWeek(S.date.nextDay(this.endDate()),this.options.workWeekStart,1)},previousDate:function(){return S.date.previousDay(this.startDate())},calculateDateRange:function(){var Y=this.options.date,Z=S.date.dayOfWeek(Y,this.options.workWeekStart,-1),X=S.date.dayOfWeek(Z,this.options.workWeekEnd,1),W=[];while(Z<=X){W.push(Z);Z=S.date.nextDay(Z)}this._render(W)}}),TimelineMonthView:B.extend({options:{name:"TimelineMonthView",title:"Timeline Month",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}",workDayStart:new Date(1980,1,1,0,0,0),workDayEnd:new Date(1980,1,1,23,59,59),footer:false,majorTick:1440,minorTickCount:1},name:"timelineMonth",calculateDateRange:function(){var a=this.options.date,b=S.date.firstDayOfMonth(a),Z=S.date.lastDayOfMonth(a),X,W,Y=[];for(X=0,W=Z.getDate();X<W;X++){Y.push(b);b=S.date.nextDay(b)}this._render(Y)}})})})(window.kendo.jQuery);(function(C,z){var Ai=window.kendo,N=Ai.date,Ax=Ai.support.input,R=N.MS_PER_DAY,v=N.getDate,y=Ai.date.getMilliseconds,P=Ai.recurrence,AE=Ai.keys,a=Ai.ui,j=a.Widget,AB=a.DataBoundWidget,Ay="string",f=a.Popup,w=a.Calendar,Av=Ai.data.DataSource,AA=C.isPlainObject,X=C.extend,Q=C.proxy,m=Object.prototype.toString,h=C.isArray,p=".kendoScheduler",O="click",G="change",S="cancel",Ae="remove",Au="save",d="add",n="edit",q=/(?:value:start|value:end)(?:,|$)/,H=v(new Date()),e="recurrenceException",As="Are you sure you want to delete this event?",Az="Do you want to delete only this event occurrence or the whole series?",o="Do you want to edit only this event occurrence or the whole series?",E="Are you sure you want to delete this event occurrence?",B="Are you sure you want to delete the whole series?",c='<a class="k-button #=className#" #=attr# href="\\#">#=text#</a>',Y=Ai.template('<li class="k-current-view" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>'),J=Ai.template('<div class="k-floatwrap k-header k-scheduler-toolbar"># if (pdf) { #<ul class="k-reset k-scheduler-tools"><li><a role="button" href="\\#" class="k-button k-pdf"><span class="k-icon k-i-pdf"></span>${messages.pdf}</a></li></ul># } #<ul class="k-reset k-scheduler-navigation"><li class="k-state-default k-header k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li><li class="k-state-default k-header k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-header k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li><li class="k-state-default k-nav-current"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-calendar"></span><span class="k-sm-date-format" data-#=ns#bind="text: formattedShortDate"></span><span class="k-lg-date-format" data-#=ns#bind="text: formattedDate"></span></a></li></ul>#if(viewsCount === 1){#<a role="button" data-#=ns#name="#=view#" href="\\#" class="k-link k-scheduler-refresh"><span class="k-icon k-i-refresh"></span></a>#}else{#<ul class="k-reset k-header k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul>#}#</div>'),x=Ai.template('<div class="k-floatwrap k-header k-scheduler-toolbar"><ul class="k-reset k-header k-scheduler-navigation"><li class="k-state-default k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li></ul>#if(viewsCount === 1){#<a role="button" data-#=ns#name="#=view#" href="\\#" class="k-link k-scheduler-refresh"><span class="k-icon k-i-refresh"></span></a>#}else{#<ul class="k-reset k-header k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul>#}#</div><div class="k-floatwrap k-header k-scheduler-toolbar"><ul class="k-reset k-header k-scheduler-navigation"><li class="k-state-default k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-nav-current"><span class="k-sm-date-format" data-#=ns#bind="text: formattedShortDate"></span><span class="k-lg-date-format" data-#=ns#bind="text: formattedDate"></span></li><li class="k-state-default k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li></ul></div>'),A=function(AK,AJ){var AG={name:AJ.field};var AL=!Ax.date?Ai.attr("role")+'="datepicker" ':"";var AM=Ai.attr("role")+'="datetimepicker" ';var AN=AJ.model.isAllDay;var AH=Ai.attr("validate")+"='"+(!AN)+"'";var AI=Ai.attr("validate")+"='"+AN+"'";Aw(AG,AJ);Ah(AG,AJ);C('<input type="datetime-local" required '+Ai.attr("type")+'="date" '+AM+Ai.attr("bind")+'="value:'+AJ.field+',invisible:isAllDay" '+AH+"/>").attr(AG).appendTo(AK);C('<input type="date" required '+Ai.attr("type")+'="date" '+AL+Ai.attr("bind")+'="value:'+AJ.field+',visible:isAllDay" '+AI+"/>").attr(AG).appendTo(AK);C("<span "+Ai.attr("for")+'="'+AJ.field+'" class="k-invalid-msg"/>').hide().appendTo(AK)},W=function(AI,AH){var AL={name:AH.field},AJ=AH.model.isAllDay,AK=Ai.attr("validate")+"='"+(!AJ)+"' ",AG=Ai.attr("validate")+"='"+AJ+"' ";Aw(AL,AH);Ah(AL,AH);C('<input type="text" required '+Ai.attr("type")+'="date" '+Ai.attr("role")+'="datetimepicker" '+Ai.attr("bind")+'="value:'+AH.field+',invisible:isAllDay" '+AK+"/>").attr(AL).appendTo(AI);C('<input type="text" required '+Ai.attr("type")+'="date" '+Ai.attr("role")+'="datepicker" '+Ai.attr("bind")+'="value:'+AH.field+',visible:isAllDay" '+AG+"/>").attr(AL).appendTo(AI);C("<span "+Ai.attr("bind")+'="text: '+AH.field+'Timezone"></span>').appendTo(AI);if(AH.field==="end"){C("<span "+Ai.attr("bind")+'="text: startTimezone, invisible: endTimezone"></span>').appendTo(AI)}C("<span "+Ai.attr("for")+'="'+AH.field+'" class="k-invalid-msg"/>').hide().appendTo(AI)},Aa=function(AH,AG){C("<div "+Ai.attr("bind")+'="value:'+AG.field+'" />').attr({name:AG.field}).appendTo(AH).kendoRecurrenceEditor({start:AG.model.start,timezone:AG.timezone,messages:AG.messages})},Aj=function(AH,AG){C("<div "+Ai.attr("bind")+'="value:'+AG.field+'" />').attr({name:AG.field}).appendTo(AH).kendoMobileRecurrenceEditor({start:AG.model.start,timezone:AG.timezone,messages:AG.messages,pane:AG.pane,value:AG.model[AG.field]})},M=function(AH,AG){var AI=I(AG.model,AG.messages.noTimezone);C('<a href="#" class="k-button k-timezone-button" data-bind="invisible:isAllDay">'+AI+"</a>").click(AG.click).appendTo(AH)},s=function(AH,AG){C('<a href="#" class="k-button" data-bind="invisible:isAllDay">'+AG.messages.timezoneEditorButton+"</a>").click(AG.click).appendTo(AH)},t=function(AH,AG){C("<div "+Ai.attr("bind")+'="value:'+AG.field+'" />').attr({name:AG.field}).toggle(AG.visible).appendTo(AH).kendoMobileTimezoneEditor({optionLabel:AG.noTimezone})},F=function(AH,AG){C("<div "+Ai.attr("bind")+'="value:'+AG.field+'" />').attr({name:AG.field}).toggle(AG.visible).appendTo(AH).kendoTimezoneEditor({optionLabel:AG.noTimezone})};function I(AH,AG){AG=AG||"";if(AH.startTimezone){AG=AH.startTimezone;if(AH.endTimezone){AG+=" | "+AH.endTimezone}}return AG}function Aw(AH,AI){var AG=AI.timezone;if(AG){AH[Ai.attr("timezone")]=AG}}function Ah(AH,AI){var AJ=AI.model.fields[AI.field].validation;if(AJ){var AG=AJ.dateCompare;if(AG&&AA(AG)&&AG.message){AH[Ai.attr("dateCompare-msg")]=AG.message}}}function Aq(AH,AG){return function(AI){AI=AH(AI);Ao(AI,"apply",AG);return AI||[]}}function Ap(AH,AG){return function(AI){if(AI){if(m.call(AI)!=="[object Array]"&&!(AI instanceof Ai.data.ObservableArray)){AI=[AI]}}Ao(AI,"remove",AG,true);AI=AH(AI);return AI||[]}}function Ao(AM,AJ,AH,AL){var AI,AK,AG;AM=AM||[];for(AK=0,AG=AM.length;AK<AG;AK++){AI=AM[AK];if(AL){if(AI.startTimezone||AI.endTimezone){if(AH){AI.start=Ai.timezone.convert(AI.start,AI.startTimezone||AI.endTimezone,AH);AI.end=Ai.timezone.convert(AI.end,AI.endTimezone||AI.startTimezone,AH);AI.start=Ai.timezone[AJ](AI.start,AH);AI.end=Ai.timezone[AJ](AI.end,AH)}else{AI.start=Ai.timezone[AJ](AI.start,AI.startTimezone||AI.endTimezone);AI.end=Ai.timezone[AJ](AI.end,AI.endTimezone||AI.startTimezone)}}else{if(AH){AI.start=Ai.timezone[AJ](AI.start,AH);AI.end=Ai.timezone[AJ](AI.end,AH)}}}else{if(AI.startTimezone||AI.endTimezone){AI.start=Ai.timezone[AJ](AI.start,AI.startTimezone||AI.endTimezone);AI.end=Ai.timezone[AJ](AI.end,AI.endTimezone||AI.startTimezone);if(AH){AI.start=Ai.timezone.convert(AI.start,AI.startTimezone||AI.endTimezone,AH);AI.end=Ai.timezone.convert(AI.end,AI.endTimezone||AI.startTimezone,AH)}}else{if(AH){AI.start=Ai.timezone[AJ](AI.start,AH);AI.end=Ai.timezone[AJ](AI.end,AH)}}}if(AL){delete AI.uid}}return AM}function K(AK,AH){var AG=AK.length,AJ=0,AI;for(;AJ<AG;AJ++){AI=AK[AJ];if(AI.uid===AH){return AI}}}var An=Ai.Class.extend({init:function(AI,AH){var AG=AI.timezone;this.reader=AH;if(AH.model){this.model=AH.model}this.timezone=AG;this.data=Aq(C.proxy(this.data,this),AG);this.serialize=Ap(C.proxy(this.serialize,this),AG)},errors:function(AG){return this.reader.errors(AG)},parse:function(AG){return this.reader.parse(AG)},data:function(AG){return this.reader.data(AG)},total:function(AG){return this.reader.total(AG)},groups:function(AG){return this.reader.groups(AG)},aggregates:function(AG){return this.reader.aggregates(AG)},serialize:function(AG){return this.reader.serialize(AG)}});function Am(AI,AG,AH){if(AH){AI=Ai.timezone.convert(AI,AG,AH)}else{AI=Ai.timezone.remove(AI,AG)}return AI}function V(AO){if(AO.filter("[name=end]").length){var AM=AO.closest(".k-scheduler-edit-form");var AL=AM.find("[name=start]:visible");var AP=AM.find("[name=end]:visible");if(AP[0]&&AL[0]){var AH,AJ;var AS=Ai.widgetInstance(AL,Ai.ui);var AK=Ai.widgetInstance(AP,Ai.ui);var AI=AM.data("kendoEditable");var AR=AI?AI.options.model:null;if(AS&&AK){AH=AS.value();AJ=AK.value()}else{AH=Ai.parseDate(AL.val());AJ=Ai.parseDate(AP.val())}if(AH&&AJ){if(AR){var AG=AL.attr(Ai.attr("timezone"));var AQ=AR.startTimezone;var AN=AR.endTimezone;AQ=AQ||AN;AN=AN||AQ;if(AQ){AH=Am(AH,AQ,AG);AJ=Am(AJ,AN,AG)}}return AH<=AJ}}}return true}var Ar=Ai.data.Model.define({init:function(AH){var AG=this;Ai.data.Model.fn.init.call(AG,AH);AG._defaultId=AG.defaults[AG.idField]},_time:function(AH){var AI=this[AH];var AG="_"+AH+"Time";if(this[AG]){return this[AG]-Ai.date.toUtcTime(Ai.date.getDate(AI))}return y(AI)},_date:function(AG){var AH="_"+AG+"Time";if(this[AH]){return this[AH]-this._time(AG)}return Ai.date.getDate(this[AG])},clone:function(AI,AG){var AH=this.uid,AJ=new this.constructor(C.extend({},this.toJSON(),AI));if(!AG){AJ.uid=AH}return AJ},duration:function(){var AH=this.end;var AI=this.start;var AG=(AH.getTimezoneOffset()-AI.getTimezoneOffset())*Ai.date.MS_PER_MINUTE;return AH-AI-AG},expand:function(AI,AH,AG){return P?P.expand(this,AI,AH,AG):[this]},update:function(AG){for(var AH in AG){this.set(AH,AG[AH])}if(this._startTime){this.set("_startTime",Ai.date.toUtcTime(this.start))}if(this._endTime){this.set("_endTime",Ai.date.toUtcTime(this.end))}},isMultiDay:function(){return this.isAllDay||this.duration()>=Ai.date.MS_PER_DAY},isException:function(){return !this.isNew()&&this.recurrenceId},isOccurrence:function(){return this.isNew()&&this.recurrenceId},isRecurring:function(){return !!(this.recurrenceRule||this.recurrenceId)},isRecurrenceHead:function(){return !!(this.id&&this.recurrenceRule)},toOccurrence:function(AG){AG=C.extend(AG,{recurrenceException:null,recurrenceRule:null,recurrenceId:this.id||this.recurrenceId});AG[this.idField]=this.defaults[this.idField];return this.clone(AG,true)},toJSON:function(){var AG=Ai.data.Model.fn.toJSON.call(this);AG.uid=this.uid;delete AG._startTime;delete AG._endTime;return AG},shouldSerialize:function(AG){return Ai.data.Model.fn.shouldSerialize.call(this,AG)&&AG!=="_defaultId"},set:function(AG,AK){var AI=this.isAllDay||false;Ai.data.Model.fn.set.call(this,AG,AK);if(AG=="isAllDay"&&AK!=AI){var AL=Ai.date.getDate(this.start);var AH=new Date(this.end);var AJ=Ai.date.getMilliseconds(AH);if(AJ===0&&AK){AJ=R}this.set("start",AL);if(AK===true){Ai.date.setTime(AH,-AJ);if(AH<AL){AH=AL}}else{Ai.date.setTime(AH,R-AJ)}this.set("end",AH)}},id:"id",fields:{id:{type:"number"},title:{defaultValue:"",type:"string"},start:{type:"date",validation:{required:true}},startTimezone:{type:"string"},end:{type:"date",validation:{required:true,dateCompare:{value:V}}},endTimezone:{type:"string"},recurrenceRule:{defaultValue:"",type:"string"},recurrenceException:{defaultValue:"",type:"string"},isAllDay:{type:"boolean",defaultValue:false},description:{type:"string"}}});var b=Av.extend({init:function(AG){Av.fn.init.call(this,X(true,{},{schema:{modelBase:Ar,model:Ar}},AG));this.reader=new An(this.options.schema,this.reader)},expand:function(AI,AH){var AJ=this.view(),AG={};if(AI&&AH){AH=new Date(AH.getTime()+R-1);AG={logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:AI},{field:"end",operator:"gte",value:AI},{field:"start",operator:"lte",value:AH}]},{logic:"and",filters:[{field:"start",operator:"lte",value:new Date(AI.getTime()+R-1)},{field:"end",operator:"gte",value:AI}]}]};AJ=new Ai.data.Query(U(AJ,AI,AH,this.reader.timezone)).filter(AG).toArray()}return AJ},cancelChanges:function(AG){if(AG&&AG.isOccurrence()){this._removeExceptionDate(AG)}Av.fn.cancelChanges.call(this,AG)},insert:function(AG,AH){if(!AH){return}if(!(AH instanceof Ar)){var AI=AH;AH=this._createNewModel();AH.accept(AI)}if((!this._pushCreated&&AH.isRecurrenceHead())||AH.recurrenceId){AH=AH.recurrenceId?AH:AH.toOccurrence();this._addExceptionDate(AH)}return Av.fn.insert.call(this,AG,AH)},pushCreate:function(AG){this._pushCreated=true;Av.fn.pushCreate.call(this,AG);this._pushCreated=false},remove:function(AG){if(AG.isRecurrenceHead()){this._removeExceptions(AG)}else{if(AG.isRecurring()){this._addExceptionDate(AG)}}return Av.fn.remove.call(this,AG)},_removeExceptions:function(AI){var AJ=this.data().slice(0),AG=AJ.shift(),AH=AI.id;while(AG){if(AG.recurrenceId===AH){Av.fn.remove.call(this,AG)}AG=AJ.shift()}AI.set(e,"")},_removeExceptionDate:function(AH){if(AH.recurrenceId){var AG=this.get(AH.recurrenceId);if(AG){var AI=AH.start;AG.set(e,AG.recurrenceException.replace(P.toExceptionString(AI,this.reader.timezone),""))}}},_addExceptionDate:function(AJ){var AK=AJ.start;var AG=this.reader.timezone;var AI=this.get(AJ.recurrenceId);var AH=AI.recurrenceException||"";if(!P.isException(AH,AK,AG)){AI.set(e,AH+P.toExceptionString(AK,AG))}}});function U(AK,AL,AI,AG){var AH=AK.length,AM=[],AJ=0;for(;AJ<AH;AJ++){AM=AM.concat(AK[AJ].expand(AL,AI,AG))}return AM}b.create=function(AH){if(h(AH)||AH instanceof Ai.data.ObservableArray){AH={data:AH}}var AG=AH||{},AI=AG.data;AG.data=AI;if(!(AG instanceof b)&&AG instanceof Ai.data.DataSource){throw new Error("Incorrect DataSource type. Only SchedulerDataSource instances are supported")}return AG instanceof b?AG:new b(AG)};X(true,Ai.data,{SchedulerDataSource:b,SchedulerDataReader:An,SchedulerEvent:Ar});var AC={update:{text:"Save",className:"k-primary k-scheduler-update"},canceledit:{text:"Cancel",className:"k-scheduler-cancel"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-primary k-scheduler-delete",iconClass:"k-icon"}};function Z(AG){delete AG.name;delete AG.prefix;delete AG.remove;delete AG.edit;delete AG.add;delete AG.navigate;return AG}function k(AG){AG=AG!=null?AG:"";return AG.type||C.type(AG)||"string"}function l(AQ,AM){var AO=(AQ.fields||AQ)[AM];var AI=["url","email","number","date","boolean"];var AN=AO?AO.validation:{};var AP=k(AO);var AK=Ai.attr("type");var AL=C.inArray;var AH;var AG;var AJ={};for(AH in AN){AG=AN[AH];if(AL(AH,AI)>=0){AJ[AK]=AH}else{if(!Ai.isFunction(AG)){AJ[AH]=AA(AG)?(AG.value||AH):AG}}AJ[Ai.attr(AH+"-msg")]=AG.message}return AJ}function Ac(AG,AH){var AI=l(AH,AG.field);return function(AJ){C(Ai.format('<select data-{0}bind="value:{1}">',Ai.ns,AG.field)).appendTo(AJ).attr(AI).kendoDropDownList({dataTextField:AG.dataTextField,dataValueField:AG.dataValueField,dataSource:AG.dataSource,valuePrimitive:AG.valuePrimitive,optionLabel:"None",template:Ai.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',AG.dataColorField,AG.dataTextField)})}}function At(AG){var AH=l(AG.model,AG.field);return function(AI){C('<textarea name="description" class="k-textbox"/>').attr(AH).appendTo(AI)}}function AF(AG,AH){var AI=l(AH,AG.field);return function(AJ){C(Ai.format('<select data-{0}bind="value:{1}">',Ai.ns,AG.field)).appendTo(AJ).attr(AI).kendoMultiSelect({dataTextField:AG.dataTextField,dataValueField:AG.dataValueField,dataSource:AG.dataSource,valuePrimitive:AG.valuePrimitive,itemTemplate:Ai.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',AG.dataColorField,AG.dataTextField),tagTemplate:Ai.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',AG.dataColorField,AG.dataTextField)})}}function AD(AG,AH){var AI=l(AH,AG.field);return function(AL){var AK="";var AN=AG.dataSource.view();for(var AM=0,AJ=AN.length;AM<AJ;AM++){AK+=Ai.format('<option value="{0}">{1}</option>',Ai.getter(AG.dataValueField)(AN[AM]),Ai.getter(AG.dataTextField)(AN[AM]))}C(Ai.format('<select data-{0}bind="value:{1}" multiple="multiple" data-{0}value-primitive="{3}">{2}</select>',Ai.ns,AG.field,AK,AG.valuePrimitive)).appendTo(AL).attr(AI)}}function Ad(AH,AJ){var AK=AH.end.getTime()-AH.start.getTime();var AG=new Date(AH.start.getTime());Ai.date.setTime(AG,AJ);var AI=new Date(AG.getTime());Ai.date.setTime(AI,AK,true);return{start:AG,end:AI}}var Ag={mobile:{dateRange:A,timezonePopUp:M,timezone:t,recurrence:Aj,description:At,multipleResources:AD,resources:Ac},desktop:{dateRange:W,timezonePopUp:s,timezone:F,recurrence:Aa,description:At,multipleResources:AF,resources:Ac}};var Af=Ai.Observable.extend({init:function(AH,AG){Ai.Observable.fn.init.call(this);this.element=AH;this.options=X(true,{},this.options,AG);this.createButton=this.options.createButton;this.toggleDateValidationHandler=Q(this._toggleDateValidation,this)},_toggleDateValidation:function(AI){if(AI.field=="isAllDay"){var AK=this.container,AJ=this.editable.options.model.isAllDay,AG=Ai.attr("bind"),AL,AH,AM;AK.find("["+AG+"*=end],["+AG+"*=start]").each(function(){AL=C(this);if(q.test(AL.attr(AG))){AH=AL.is("["+Ai.attr("role")+"=datetimepicker],[type*=datetime]");AM=AJ!==AH;AL.attr(Ai.attr("validate"),AM)}})}},fields:function(AI,AN){var AK=this;var AO=AK.options.messages;var AG=AK.options.timezone;var AL=function(AP){AP.preventDefault();AK._initTimezoneEditor(AN,this)};var AM=[{field:"title",title:AO.editor.title},{field:"start",title:AO.editor.start,editor:AI.dateRange,timezone:AG},{field:"end",title:AO.editor.end,editor:AI.dateRange,timezone:AG},{field:"isAllDay",title:AO.editor.allDayEvent}];if(Ai.timezone.windows_zones){AM.push({field:"timezone",title:AO.editor.timezone,editor:AI.timezonePopUp,click:AL,messages:AO.editor,model:AN});AM.push({field:"startTimezone",title:AO.editor.startTimezone,editor:AI.timezone,noTimezone:AO.editor.noTimezone});AM.push({field:"endTimezone",title:AO.editor.endTimezone,editor:AI.timezone,noTimezone:AO.editor.noTimezone})}if(!AN.recurrenceId){AM.push({field:"recurrenceRule",title:AO.editor.repeat,editor:AI.recurrence,timezone:AG,messages:AO.recurrenceEditor,pane:this.pane})}if("description" in AN){AM.push({field:"description",title:AO.editor.description,editor:AI.description({model:AN,field:"description"})})}for(var AJ=0;AJ<this.options.resources.length;AJ++){var AH=this.options.resources[AJ];AM.push({field:AH.field,title:AH.title,editor:AH.multiple?AI.multipleResources(AH,AN):AI.resources(AH,AN)})}return AM},end:function(){return this.editable.end()},_buildEditTemplate:function(AQ,AP,AO){var AR=this.options.messages;var AH=X({},Ai.Template,this.options.templateSettings);var AG=AH.paramName;var AJ=this.options.editable.template;var AM="";if(AJ){if(typeof AJ===Ay){AJ=window.unescape(AJ)}AM+=(Ai.template(AJ,AH))(AQ)}else{for(var AK=0,AL=AP.length;AK<AL;AK++){var AN=AP[AK];if(AN.field==="startTimezone"){AM+='<div class="k-popup-edit-form k-scheduler-edit-form k-scheduler-timezones" style="display:none">';AM+='<div class="k-edit-form-container">';AM+='<div class="k-edit-label"></div>';AM+='<div class="k-edit-field"><label class="k-check"><input class="k-timezone-toggle" type="checkbox" />'+AR.editor.separateTimezones+"</label></div>"}AM+='<div class="k-edit-label"><label for="'+AN.field+'">'+(AN.title||AN.field||"")+"</label></div>";if((!AQ.editable||AQ.editable(AN.field))){AO.push(AN);AM+="<div "+Ai.attr("container-for")+'="'+AN.field+'" class="k-edit-field"></div>'}else{var AI="#:";if(AN.field){AN=Ai.expr(AN.field,AG);AI+=AN+"==null?'':"+AN}else{AI+="''"}AI+="#";AI=Ai.template(AI,AH);AM+='<div class="k-edit-field">'+AI(AQ)+"</div>"}if(AN.field==="endTimezone"){AM+=this._createEndTimezoneButton()}}}return AM},_createEndTimezoneButton:function(){return"</div></div>"},_revertTimezones:function(AG){AG.set("startTimezone",this._startTimezone);AG.set("endTimezone",this._endTimezone);delete this._startTimezone;delete this._endTimezone}});var D=Af.extend({init:function(){Af.fn.init.apply(this,arguments);this.pane=Ai.mobile.ui.Pane.wrap(this.element);this.pane.element.parent().css("height",this.options.height);this.view=this.pane.view();this._actionSheetButtonTemplate=Ai.template('<li><a #=attr# class="k-button #=className#" href="\\#">#:text#</a></li>');this._actionSheetPopupOptions=C(document.documentElement).hasClass("km-root")?{modal:false}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"}},options:{animations:{left:"slide",right:"slide:right"}},destroy:function(){this.close();this.unbind();this.pane.destroy()},_initTimezoneEditor:function(AO){var AK=this;var AN=AK.pane;var AP=AK.options.messages;var AJ=AK.timezoneView;var AM=AK.container.find(".k-scheduler-timezones");var AH=AM.find(".k-timezone-toggle");var AL=AM.find(".k-edit-label:last").add(AM.find(".k-edit-field:last"));var AI=function(AQ){if(AQ.field==="startTimezone"){var AR=AO.startTimezone;AH.prop("disabled",!AR);if(!AR){AL.hide();AO.set("endTimezone","");AH.prop("checked",false)}}};AK._startTimezone=AO.startTimezone||"";AK._endTimezone=AO.endTimezone||"";if(!AJ){var AG='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+AP.cancel+"</a>"+AP.editor.timezoneTitle+'<a href="#" class="k-button k-scheduler-update">'+AP.save+"</a></div></div>";this.timezoneView=AJ=AN.append(AG);AJ.contentElement().append(AM.show());AJ.element.on(O+p,".k-scheduler-cancel, .k-scheduler-update",function(AQ){AQ.preventDefault();AQ.stopPropagation();if(C(this).hasClass("k-scheduler-cancel")){AK._revertTimezones(AO)}AO.unbind("change",AI);var AR=AN.element.find("#edit").data("kendoMobileView");var AS=I(AO,AP.editor.noTimezone);AR.contentElement().find(".k-timezone-button").text(AS);AN.navigate(AR,AK.options.animations.right)});AH.click(function(){AL.toggle(AH.prop("checked"));AO.set("endTimezone","")});AO.bind("change",AI)}AH.prop("checked",AO.endTimezone).prop("disabled",!AO.startTimezone);if(AO.endTimezone){AL.show()}else{AL.hide()}AN.navigate(AJ,AK.options.animations.left)},_createActionSheetButton:function(AG){AG.template=this._actionSheetButtonTemplate;return this.createButton(AG)},showDialog:function(AJ){var AG="";var AH='<ul><li class="km-actionsheet-title">'+AJ.title+"</li>";var AK=this.element.find(".k-event["+Ai.attr("uid")+"='"+AJ.model.uid+"']");if(this.container){AK=this.container.find(".k-scheduler-delete");if(AK[0]){AG="phone"}}for(var AL=0;AL<AJ.buttons.length;AL++){AH+=this._createActionSheetButton(AJ.buttons[AL])}AH+="</ul>";var AI=C(AH).appendTo(this.pane.view().element).kendoMobileActionSheet({type:AG,cancel:this.options.messages.cancel,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(AM){var AN=AI.element.find("li:not(.km-actionsheet-cancel) > .k-button").index(C(AM.currentTarget));if(AN>-1){AI.close();AJ.buttons[AN].click()}},popup:this._actionSheetPopupOptions}).data("kendoMobileActionSheet");AI.open(AK)},editEvent:function(AR){var AQ=this.pane;var AK="";var AS=this.options.messages;var AO=AS.save;var AM=AS.destroy;var AH=AS.cancel;var AJ=AS.editor.editorTitle;AK+='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="edit" '+Ai.attr("uid")+'="'+AR.uid+'"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+AH+"</a>"+AJ+'<a href="#" class="k-button k-scheduler-update">'+AO+"</a></div>";var AP=this.fields(Ag.mobile,AR);var AL=this;var AI=[];AK+=this._buildEditTemplate(AR,AP,AI);if(!AR.isNew()&&this.options.editable&&this.options.editable.destroy!==false){AK+='<div class="k-edit-buttons"><a href="#" class="k-scheduler-delete k-button">'+AM+"</a></div>"}AK+="</div>";var AG=AQ.append(AK);var AN=this.container=AG.element;this.editable=AN.kendoEditable({fields:AI,model:AR,clearContainer:false,target:AL.options.target,validateOnBlur:true}).data("kendoEditable");AN.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){C(this).next().children("input").click()});if(!this.trigger("edit",{container:AN,model:AR})){AN.on(O+p,"a.k-scheduler-edit, a.k-scheduler-cancel, a.k-scheduler-update, a.k-scheduler-delete",function(AU){AU.preventDefault();AU.stopPropagation();var AT=C(this);if(!AT.hasClass("k-scheduler-edit")){var AV="cancel";if(AT.hasClass("k-scheduler-update")){AV="save"}else{if(AT.hasClass("k-scheduler-delete")){AV="remove"}}AL.trigger(AV,{container:AN,model:AR})}else{AQ.navigate("#edit",AL.options.animations.right)}});AQ.navigate(AG,AL.options.animations.left);AR.bind("change",AL.toggleDateValidationHandler)}else{this.trigger("cancel",{container:AN,model:AR})}return this.editable},_views:function(){return this.pane.element.find(Ai.roleSelector("view")).not(this.view.element)},close:function(){if(this.container){this.pane.navigate("",this.options.animations.right);var AH=this._views();var AJ;for(var AI=0,AG=AH.length;AI<AG;AI++){AJ=AH.eq(AI).data("kendoMobileView");if(AJ){AJ.purge()}}AH.remove();this.container=null;if(this.editable){this.editable.options.model.unbind("change",this.toggleDateValidationHandler);this.editable.destroy();this.editable=null}this.timezoneView=null}}});var u=Af.extend({destroy:function(){this.close();this.unbind()},editEvent:function(AR){var AL=this;var AI=AL.options.editable;var AQ="<div "+Ai.attr("uid")+'="'+AR.uid+'" class="k-popup-edit-form k-scheduler-edit-form"><div class="k-edit-form-container">';var AS=AL.options.messages;var AO=AS.save;var AH=AS.cancel;var AG=AS.destroy;var AP=this.fields(Ag.desktop,AR);var AM=[];AQ+=this._buildEditTemplate(AR,AP,AM);var AJ;var AK=AA(AI)?AI.window:{};AQ+='<div class="k-edit-buttons k-state-default">';AQ+=this.createButton({name:"update",text:AO,attr:AJ})+this.createButton({name:"canceledit",text:AH,attr:AJ});if(!AR.isNew()&&AI.destroy!==false){AQ+=this.createButton({name:"delete",text:AG,attr:AJ})}AQ+="</div></div></div>";var AN=this.container=C(AQ).appendTo(AL.element).eq(0).kendoWindow(X({modal:true,resizable:false,draggable:true,title:AS.editor.editorTitle,visible:false,close:function(AT){if(AT.userTriggered){if(AL.trigger(S,{container:AN,model:AR})){AT.preventDefault()}}}},AK));AL.editable=AN.kendoEditable({fields:AM,model:AR,clearContainer:false,validateOnBlur:true,target:AL.options.target}).data("kendoEditable");if(!AL.trigger(n,{container:AN,model:AR})){AN.data("kendoWindow").center().open();AN.on(O+p,"a.k-scheduler-cancel",function(AT){AT.preventDefault();AT.stopPropagation();AL.trigger(S,{container:AN,model:AR})});AN.on(O+p,"a.k-scheduler-update",function(AT){AT.preventDefault();AT.stopPropagation();AL.trigger("save",{container:AN,model:AR})});AN.on(O+p,"a.k-scheduler-delete",function(AT){AT.preventDefault();AT.stopPropagation();AL.trigger(Ae,{container:AN,model:AR})});Ai.cycleForm(AN);AR.bind("change",AL.toggleDateValidationHandler)}else{AL.trigger(S,{container:AN,model:AR})}return AL.editable},close:function(){var AG=this;var AH=function(){if(AG.editable){AG.editable.options.model.unbind("change",AG.toggleDateValidationHandler);AG.editable.destroy();AG.editable=null;AG.container=null}if(AG.popup){AG.popup.destroy();AG.popup=null}};if(AG.editable){if(AG._timezonePopup&&AG._timezonePopup.data("kendoWindow")){AG._timezonePopup.data("kendoWindow").destroy();AG._timezonePopup=null}if(AG.container.is(":visible")){AG.container.data("kendoWindow").bind("deactivate",AH).close()}else{AH()}}else{AH()}},_createEndTimezoneButton:function(){var AH=this.options.messages;var AG="";AG+='<div class="k-edit-buttons k-state-default">';AG+=this.createButton({name:"savetimezone",text:AH.save})+this.createButton({name:"canceltimezone",text:AH.cancel});AG+="</div></div></div>";return AG},showDialog:function(AI){var AG=Ai.format("<div class='k-popup-edit-form'><div class='k-edit-form-container'><p class='k-popup-message'>{0}</p>",AI.text);AG+='<div class="k-edit-buttons k-state-default">';for(var AK=0;AK<AI.buttons.length;AK++){AG+=this.createButton(AI.buttons[AK])}AG+="</div></div></div>";var AH=this.element;if(this.popup){this.popup.destroy()}var AJ=this.popup=C(AG).appendTo(AH).eq(0).on("click",".k-button",function(AL){AL.preventDefault();AJ.close();var AM=C(AL.currentTarget).index();AI.buttons[AM].click()}).kendoWindow({modal:true,resizable:false,draggable:false,title:AI.title,visible:false,close:function(){this.destroy();AH.focus()}}).getKendoWindow();AJ.center().open()},_initTimezoneEditor:function(AQ,AP){var AK=this;var AN=AK.container.find(".k-scheduler-timezones");var AH=AN.find(".k-timezone-toggle");var AM=AN.find(".k-edit-label:last").add(AN.find(".k-edit-field:last"));var AI=AN.find(".k-scheduler-savetimezone");var AJ=AN.find(".k-scheduler-canceltimezone");var AL=AK._timezonePopup;var AO=function(AR){if(AR.field==="startTimezone"){var AS=AQ.startTimezone;AH.prop("disabled",!AS);if(!AS){AM.hide();AQ.set("endTimezone","");AH.prop("checked",false)}}};var AG;AK._startTimezone=AQ.startTimezone;AK._endTimezone=AQ.endTimezone;if(!AL){AK._timezonePopup=AL=AN.kendoWindow({modal:true,resizable:false,draggable:true,title:AK.options.messages.editor.timezoneEditorTitle,visible:false,close:function(AR){AQ.unbind("change",AO);if(AR.userTriggered){AK._revertTimezones(AQ)}if(AP){AP.focus()}}});AH.click(function(){AM.toggle(AH.prop("checked"));AQ.set("endTimezone","")});AI.click(function(AR){AR.preventDefault();AG.close()});AJ.click(function(AR){AR.preventDefault();AK._revertTimezones(AQ);AG.close()});AQ.bind("change",AO)}AH.prop("checked",AQ.endTimezone).prop("disabled",!AQ.startTimezone);if(AQ.endTimezone){AM.show()}else{AM.hide()}AG=AL.data("kendoWindow");AG.center().open()}});var L=AB.extend({init:function(AI,AH){var AG=this;j.fn.init.call(AG,AI,AH);if(!AG.options.views||!AG.options.views.length){AG.options.views=["day","week"]}AG.resources=[];AG._initModel();AG._wrapper();AG._views();AG._toolbar();AG._dataSource();AG._resources();AG._resizeHandler=function(){AG.resize()};AG.wrapper.on("mousedown"+p+" selectstart"+p,function(AJ){if(!C(AJ.target).is(":kendoFocusable")){AJ.preventDefault()}});if(AG.options.editable&&AG.options.editable.resize!==false){AG._resizable()}AG._movable();AG._bindResize();if(AG.options.messages&&AG.options.messages.recurrence){P.options=AG.options.messages.recurrence}AG._selectable();AG._ariaId=Ai.guid();AG._createEditor()},_bindResize:function(){C(window).on("resize"+p,this._resizeHandler)},_unbindResize:function(){C(window).off("resize"+p,this._resizeHandler)},dataItems:function(){var AL=this;var AO=AL.items();var AN=AL._data;var AI=C.map(AO,function(AR){return C(AR).attr("data-uid")});var AK;var AM;var AJ={};var AG=AI.length;for(AK=0;AK<AG;AK++){AJ[AI[AK]]=null}var AH=AN.length;for(AK=0;AK<AH;AK++){var AP=AN[AK];if(AJ[AP.uid]!==z){AJ[AP.uid]=AP}}var AQ=[];for(AM in AJ){AQ.push(AJ[AM])}return AQ},_isMobile:function(){var AG=this.options;return(AG.mobile===true&&Ai.support.mobileOS)||AG.mobile==="phone"||AG.mobile==="tablet"},_isMobilePhoneView:function(){var AG=this.options;return(AG.mobile===true&&Ai.support.mobileOS&&!Ai.support.mobileOS.tablet)||AG.mobile==="phone"},_groupsByResource:function(AR,AG,AJ,AO,AH){if(!AJ){AJ=[]}var AL=AR[0];if(AL){var AN;var AI=AL.dataSource.view();var AQ=0;for(var AP=0;AP<AI.length;AP++){var AK=Ai.getter(AL.dataValueField)(AI[AP]);var AM=AG+AQ+AP;AN=this._groupsByResource(AR.slice(1),AM,AJ,AK,AL.field);AN[AL.field]=AK;AQ=AN.groupIndex;if(AH&&AO){AN[AH]=AO}if(AR.length===1){AN.groupIndex=AG+AP;AJ.push(AN)}}return AN}else{return{}}},data:function(){return this._data},select:function(AP){var AO=this;var AG=AO.view();var AK=AO._selection;var AH=AG.groups;var AQ;if(AP===z){var AR;var AM=AG._selectedSlots;if(!AK){return[]}if(AK&&AK.events){AR=AO._selectedEvents()}return{start:AK.start,end:AK.end,events:AR,slots:AM,resources:AG._resourceBySlot(AK)}}if(!AP){AO._selection=null;AG.clearSelection();return}if(C.isArray(AP)){AP={events:AP.splice(0)}}if(AP.resources){var AJ;var AU=[];var AI=[];if(AG.groupedResources){AO._groupsByResource(AG.groupedResources,0,AI)}for(AJ in AP.resources){AU.push({field:AJ,operator:"eq",value:AP.resources[AJ]})}AQ=new Ai.data.Query(AI).filter(AU).toArray()}if(AP.events&&AP.events.length){AO._selectEvents(AP.events,AQ);AO._select();return}if(AH&&(AP.start&&AP.end)){var AT=v(AG._startDate);var AN=Ai.date.addDays(v(AG._endDate),1);var AS;var AL;if(AP.start<AN&&AT<=AP.end){if(AQ&&AQ.length){AS=AH[AQ[0].groupIndex]}else{AS=AH[0]}AL=AS.ranges(AP.start,AP.end,AP.isAllDay,false);if(AL.length){AO._selection={start:Ai.timezone.toLocalDate(AL[0].start.start),end:Ai.timezone.toLocalDate(AL[AL.length-1].end.end),groupIndex:AL[0].start.groupIndex,index:AL[0].start.index,isAllDay:AL[0].start.isDaySlot,events:[]};AO._select()}}}},_selectEvents:function(AI,AP){var AN=this;var AL;var AG=AN.view();var AO=AG.groups;var AQ=AI.length;var AT=AP&&AP.length;for(AL=0;AL<AQ;AL++){if(AO&&AT){var AK=AO[AP[0].groupIndex];var AS=[];var AR=AK.timeSlotCollectionCount();var AU=AK.daySlotCollectionCount();for(var AM=0;AM<AR;AM++){AS=AS.concat(AK.getTimeSlotCollection(AM).events())}for(var AJ=0;AJ<AU;AJ++){AS=AS.concat(AK.getDaySlotCollection(AJ).events())}AS=new Ai.data.Query(AS).filter({field:"element[0].getAttribute('data-uid')",operator:"eq",value:AI[AL]}).toArray();if(AS[0]){AN._createSelection(AS[0].element)}}else{var AH=AG.element.find(Ai.format(".k-event[data-uid={0}], .k-task[data-uid={0}]",AI[AL]));if(AH.length){AN._createSelection(AH[0])}}}},_selectable:function(){var AI=this,AH=AI.wrapper,AG=Ai.support.mobileOS?"touchend":"mousedown";if(!AI.options.selectable){return}AI._tabindex();AH.on(AG+p,".k-scheduler-header-all-day td, .k-scheduler-content td, .k-event",function(AL){var AO=AL.which;var AK=AL.button;var AM=Ai.support.browser;var AN=AO&&AO===3||AK&&AK==2;if(Ai.support.mobileOS&&AL.isDefaultPrevented()){return}if(!AN){AI._createSelection(AL.currentTarget)}AH.focus();if(AM.msie&&AM.version<9){setTimeout(function(){AH.focus()})}});var AJ=C.proxy(AI._mouseMove,AI);AH.on("mousedown"+p,".k-scheduler-header-all-day td, .k-scheduler-content td",function(AL){var AN=AL.which;var AK=AL.button;var AM=AN&&AN===3||AK&&AK==2;if(!AM){AH.on("mousemove"+p,".k-scheduler-header-all-day td, .k-scheduler-content td",AJ)}});AH.on("mouseup"+p+" mouseleave"+p,function(){AH.off("mousemove"+p,".k-scheduler-header-all-day td, .k-scheduler-content td",AJ)});AH.on("focus"+p,function(){if(!AI._selection){AI._createSelection(AI.wrapper.find(".k-scheduler-content").find("td:first"))}AI._select()});AH.on("focusout"+p,function(){AI.view().clearSelection();AI._ctrlKey=AI._shiftKey=false});AH.on("keydown"+p,Q(AI._keydown,AI));AH.on("keyup"+p,function(AK){AI._ctrlKey=AK.ctrlKey;AI._shiftKey=AK.shiftKey})},_select:function(){var AL=this;var AG=AL.view();var AO=AL.wrapper;var AI=AG.current();var AH=AL._selection;if(AI){AI.removeAttribute("id");AI.removeAttribute("aria-label");AO.removeAttr("aria-activedescendant")}AG.select(AH);AI=AG.current();if(AI&&AL._old!==AI){var AJ=C(AI).data("uid");if(AL._old&&AJ&&AJ===C(AL._old).data("uid")){return}var AM;var AK=AH;var AP=AL._selectedEvents();var AN=AG._selectedSlots;if(AP[0]){AK=AP[0]||AH;AM=Ai.format(AL.options.messages.ariaEventLabel,AK.title,AK.start,AK.start)}else{AM=Ai.format(AL.options.messages.ariaSlotLabel,AK.start,AK.end)}AI.setAttribute("id",AL._ariaId);AI.setAttribute("aria-label",AM);AO.attr("aria-activedescendant",AL._ariaId);AL._old=AI;AL.trigger("change",{start:AH.start,end:AH.end,events:AP,slots:AN,resources:AG._resourceBySlot(AH)})}},_selectedEvents:function(){var AI=this._selection.events;var AG=AI.length;var AK=0;var AJ;var AH=[];for(;AK<AG;AK++){AJ=this.occurrenceByUid(AI[AK]);if(AJ){AH.push(AJ)}}return AH},_mouseMove:function(AG){var AH=this;clearTimeout(AH._moveTimer);AH._moveTimer=setTimeout(function(){var AK=AH.view();var AM=AH._selection;if(AM){var AJ=AK.selectionByElement(C(AG.currentTarget));if(AJ&&AM.groupIndex===AJ.groupIndex){var AL=AJ.startDate();var AI=AJ.endDate();if(AL>=AM.end){AM.backward=false}else{if(AI<=AM.start){AM.backward=true}}if(AM.backward){AM.start=AL}else{AM.end=AI}AH._select()}}},5)},_viewByIndex:function(AI){var AH,AG=this.views;for(AH in AG){if(!AI){return AH}AI--}},_keydown:function(AH){var AI=this,AG=AH.keyCode,AK=AI.view(),AM=AK.options.editable,AL=AI._selection,AJ=AH.shiftKey;AI._ctrlKey=AH.ctrlKey;AI._shiftKey=AH.shiftKey;if(AG===AE.TAB){if(AK.moveToEvent(AL,AJ)){AI._select();AH.preventDefault()}}else{if(AM&&AG===AE.ENTER){if(AL.events.length){if(AM.update!==false){AI.editEvent(AL.events[0])}}else{if(AM.create!==false){if(AL.isAllDay){AL=C.extend({},AL,{end:Ai.date.addDays(AL.end,-1)})}AI.addEvent(X({},AL,AK._resourceBySlot(AL)))}}}else{if(AG===AE.DELETE&&AM!==false&&AM.destroy!==false){AI.removeEvent(AL.events[0])}else{if(AG>=49&&AG<=57){AI.view(AI._viewByIndex(AG-49))}else{if(AK.move(AL,AG,AJ)){if(AK.inRange(AL)){AI._select()}else{AI.date(AL.start)}AH.preventDefault()}}}}}AI._adjustSelectedDate()},_createSelection:function(AI){var AH,AG,AJ;if(!this._selection||(!this._ctrlKey&&!this._shiftKey)){this._selection={events:[],groupIndex:0}}AI=C(AI);AJ=this._selection;if(AI.is(".k-event")){AH=AI.attr(Ai.attr("uid"))}AG=this.view().selectionByElement(AI);if(AG){AJ.groupIndex=AG.groupIndex||0}if(AH){AG=K(this._data,AH)}if(AG&&AG.uid){AH=[AG.uid]}this._updateSelection(AG,AH);this._adjustSelectedDate()},_updateSelection:function(AH,AJ){var AK=this._selection;if(AH&&AK){var AI=this.view();if(AH.uid){AH=AI._updateEventForSelection(AH)}if(this._shiftKey&&AK.start&&AK.end){var AG=AH.end<AK.end;AK.end=AH.endDate?AH.endDate():AH.end;if(AG&&AI._timeSlotInterval){Ai.date.setTime(AK.end,-AI._timeSlotInterval())}}else{AK.start=AH.startDate?AH.startDate():AH.start;AK.end=AH.endDate?AH.endDate():AH.end}if("isDaySlot" in AH){AK.isAllDay=AH.isDaySlot}else{AK.isAllDay=AH.isAllDay}AK.index=AH.index;if(this._ctrlKey){AK.events=AK.events.concat(AJ||[])}else{AK.events=AJ||[]}}},options:{name:"Scheduler",date:H,editable:true,autoBind:true,snap:true,mobile:false,timezone:"",allDaySlot:true,min:new Date(1900,0,1),max:new Date(2099,11,31),toolbar:null,messages:{today:"Today",pdf:"Export to PDF",save:"Save",cancel:"Cancel",destroy:"Delete",deleteWindowTitle:"Delete event",ariaSlotLabel:"Selected from {0:t} to {1:t}",ariaEventLabel:"{0} on {1:D} at {2:t}",views:{day:"Day",week:"Week",workWeek:"Work Week",agenda:"Agenda",month:"Month",timeline:"Timeline",timelineWeek:"Timeline Week",timelineWorkWeek:"Timeline Work Week",timelineMonth:"Timeline Month"},recurrenceMessages:{deleteWindowTitle:"Delete Recurring Item",deleteWindowOccurrence:"Delete current occurrence",deleteWindowSeries:"Delete the series",editWindowTitle:"Edit Recurring Item",editWindowOccurrence:"Edit current occurrence",editWindowSeries:"Edit the series"},editable:{confirmation:As},editor:{title:"Title",start:"Start",end:"End",allDayEvent:"All day event",description:"Description",repeat:"Repeat",timezone:" ",startTimezone:"Start timezone",endTimezone:"End timezone",separateTimezones:"Use separate start and end time zones",timezoneEditorTitle:"Timezones",timezoneEditorButton:"Time zone",timezoneTitle:"Time zones",noTimezone:"No timezone",editorTitle:"Event"}},height:null,width:null,resources:[],group:{resources:[],direction:"horizontal"},views:[],selectable:false},events:[Ae,n,S,Au,"add","dataBinding","dataBound","moveStart","move","moveEnd","resizeStart","resize","resizeEnd","navigate","change"],destroy:function(){var AG=this,AH;j.fn.destroy.call(AG);if(AG.dataSource){AG.dataSource.unbind(G,AG._refreshHandler);AG.dataSource.unbind("progress",AG._progressHandler);AG.dataSource.unbind("error",AG._errorHandler)}if(AG.calendar){AG.calendar.destroy();AG.popup.destroy()}if(AG.view()){AG.view().destroy()}if(AG._editor){AG._editor.destroy()}if(this._moveDraggable){this._moveDraggable.destroy()}if(this._resizeDraggable){this._resizeDraggable.destroy()}AH=AG.element.add(AG.wrapper).add(AG.toolbar).add(AG.popup);AH.off(p);clearTimeout(AG._moveTimer);AG._model=null;AG.toolbar=null;AG.element=null;C(window).off("resize"+p,AG._resizeHandler);Ai.destroy(AG.wrapper)},setDataSource:function(AG){this.options.dataSource=AG;this._dataSource();if(this.options.autoBind){AG.fetch()}},items:function(){return this.wrapper.find(".k-scheduler-content").children(".k-event, .k-task")},_movable:function(){var AI;var AJ;var AQ;var AP;var AL;var AG;var AN=this;var AM;var AK=AN._isMobile();var AO=AN.options.editable&&AN.options.editable.move!==false;var AH=AN.options.editable&&AN.options.editable.resize!==false;if(AO||(AH&&AK)){AN._moveDraggable=new Ai.ui.Draggable(AN.element,{distance:0,filter:".k-event",ignore:".k-resize-handle",holdToDrag:AK});if(AO){AN._moveDraggable.bind("dragstart",function(AS){var AT=AN.view();var AR=AS.currentTarget;if(!AT.options.editable||AT.options.editable.move===false){AS.preventDefault();return}if(AK&&!AR.hasClass("k-event-active")){AN.element.find(".k-event-active").removeClass("k-event-active");AS.preventDefault();return}AL=AN.occurrenceByUid(AR.attr(Ai.attr("uid")));AG=AL.clone();AG.update(AT._eventOptionsForMove(AG));AI=AT._slotByPosition(AS.x.startLocation,AS.y.startLocation);AQ=AI.startOffset(AS.x.startLocation,AS.y.startLocation,AN.options.snap);AJ=AI;AM=AI;if(!AI||AN.trigger("moveStart",{event:AL})){AS.preventDefault()}}).bind("drag",function(AR){var AT=AN.view();var AU=AT._slotByPosition(AR.x.location,AR.y.location);var AV;var AS;if(!AU){return}AP=AU.startOffset(AR.x.location,AR.y.location,AN.options.snap);if(AU.isDaySlot!==AI.isDaySlot){AI=AT._slotByPosition(AR.x.location,AR.y.location);AQ=AI.startOffset(AR.x.location,AR.y.location,AN.options.snap);AV=AP-AQ;AG.isAllDay=AU.isDaySlot;AG.start=Ai.timezone.toLocalDate(AQ);AG.end=Ai.timezone.toLocalDate(AP);AT._updateMoveHint(AG,AU.groupIndex,AV);AS={start:AG.start,end:AG.end}}else{AV=AP-AQ;AT._updateMoveHint(AG,AU.groupIndex,AV);AS=Ad(AG,AV)}if(!AN.trigger("move",{event:AL,slot:{element:AU.element,start:AU.startDate(),end:AU.endDate(),isDaySlot:AU.isDaySlot},resources:AT._resourceBySlot(AU),start:AS.start,end:AS.end})){AJ=AU}else{AT._updateMoveHint(AG,AU.groupIndex,AV)}}).bind("dragend",function(AR){AN.view()._removeMoveHint();var AY=AP-AQ;var AZ=Ad(AG,AY);var AU=AZ.start;var AX=AZ.end;var AT=AN.view()._resourceBySlot(AJ);var A0=AN.view()._resourceBySlot(AI);var AW=AN.trigger("moveEnd",{event:AL,slot:{element:AJ.element,start:AJ.startDate(),end:AJ.endDate()},start:AU,end:AX,resources:AT});if(!AW&&(AL.start.getTime()!==AU.getTime()||AL.end.getTime()!==AX.getTime()||AM.isDaySlot!==AJ.isDaySlot||Ai.stringify(AT)!==Ai.stringify(A0))){var AV=AN.view()._eventOptionsForMove(AL);var AS;if(AM.isDaySlot!==AJ.isDaySlot){if(AJ.isDaySlot){AS=C.extend({start:AJ.startDate(),end:AJ.startDate(),isAllDay:AJ.isDaySlot},AV,AT)}else{AS=C.extend({isAllDay:AJ.isDaySlot,start:AU,end:AX},AV,AT)}}else{AS=C.extend({isAllDay:AL.isAllDay,start:AU,end:AX},AV,AT)}AN._updateEvent(null,AL,AS)}AR.currentTarget.removeClass("k-event-active");this.cancelHold()}).bind("dragcancel",function(){AN.view()._removeMoveHint();this.cancelHold()})}if(AK){AN._moveDraggable.bind("hold",function(AR){if(AN.element.find(".k-scheduler-monthview").length){AR.preventDefault()}AN.element.find(".k-event-active").removeClass("k-event-active");AR.currentTarget.addClass("k-event-active")});AN._moveDraggable.userEvents.bind("press",function(AR){AR.preventDefault()})}}},_resizable:function(){var AJ;var AL;var AM;var AI;var AG;var AH=this;function AK(AN){var AP={"k-resize-e":"east","k-resize-w":"west","k-resize-n":"north","k-resize-s":"south"};for(var AO in AP){if(AN.hasClass(AO)){return AP[AO]}}}AH._resizeDraggable=new Ai.ui.Draggable(AH.element,{distance:0,filter:".k-resize-handle",dragstart:function(AO){var AP=C(AO.currentTarget);var AN=AP.closest(".k-event");var AQ=AN.attr(Ai.attr("uid"));var AR=AH.view();AM=AH.occurrenceByUid(AQ);AI=AM.clone();AR._updateEventForResize(AI);AG=AR._slotByPosition(AO.x.startLocation,AO.y.startLocation);if(AH.trigger("resizeStart",{event:AM})){AO.preventDefault()}AJ=Ai.date.toUtcTime(AI.start);AL=Ai.date.toUtcTime(AI.end)},drag:function(AO){if(!AG){return}var AP=C(AO.currentTarget);var AN=AK(AP);var AQ=AH.view();var AT=AQ._slotByPosition(AO.x.location,AO.y.location);if(!AT||AG.groupIndex!=AT.groupIndex){return}AG=AT;var AR=AJ;var AS=AL;if(AN=="south"){if(!AG.isDaySlot&&AG.end-Ai.date.toUtcTime(AI.start)>=AQ._timeSlotInterval()){if(AI.isAllDay){AL=AG.startOffset(AO.x.location,AO.y.location,AH.options.snap)}else{AL=AG.endOffset(AO.x.location,AO.y.location,AH.options.snap)}}}else{if(AN=="north"){if(!AG.isDaySlot&&Ai.date.toUtcTime(AI.end)-AG.start>=AQ._timeSlotInterval()){AJ=AG.startOffset(AO.x.location,AO.y.location,AH.options.snap)}}else{if(AN=="east"){if(AG.isDaySlot&&Ai.date.toUtcTime(Ai.date.getDate(AG.endDate()))>=Ai.date.toUtcTime(Ai.date.getDate(AI.start))){if(AI.isAllDay){AL=AG.startOffset(AO.x.location,AO.y.location,AH.options.snap)}else{AL=AG.endOffset(AO.x.location,AO.y.location,AH.options.snap)}}else{if(!AG.isDaySlot&&AG.end-Ai.date.toUtcTime(AI.start)>=AQ._timeSlotInterval()){AL=AG.endOffset(AO.x.location,AO.y.location,AH.options.snap)}}}else{if(AN=="west"){if(AG.isDaySlot&&Ai.date.toUtcTime(Ai.date.getDate(AI.end))>=Ai.date.toUtcTime(Ai.date.getDate(AG.startDate()))){AJ=AG.startOffset(AO.x.location,AO.y.location,AH.options.snap)}else{if(!AG.isDaySlot&&Ai.date.toUtcTime(AI.end)-AG.start>=AQ._timeSlotInterval()){AJ=AG.startOffset(AO.x.location,AO.y.location,AH.options.snap)}}}}}}if(!AH.trigger("resize",{event:AM,slot:{element:AG.element,start:AG.startDate(),end:AG.endDate()},start:Ai.timezone.toLocalDate(AJ),end:Ai.timezone.toLocalDate(AL),resources:AQ._resourceBySlot(AG)})){AQ._updateResizeHint(AI,AG.groupIndex,AJ,AL)}else{AJ=AR;AL=AS}},dragend:function(AO){var AQ=C(AO.currentTarget);var AS=new Date(AI.start.getTime());var AR=new Date(AI.end.getTime());var AN=AK(AQ);AH.view()._removeResizeHint();if(AN=="south"){AR=Ai.timezone.toLocalDate(AL)}else{if(AN=="north"){AS=Ai.timezone.toLocalDate(AJ)}else{if(AN=="east"){if(AG.isDaySlot){AR=Ai.date.getDate(Ai.timezone.toLocalDate(AL))}else{AR=Ai.timezone.toLocalDate(AL)}}else{if(AN=="west"){if(AG.isDaySlot){AS=new Date(Ai.timezone.toLocalDate(AJ));AS.setHours(0);AS.setMinutes(0)}else{AS=Ai.timezone.toLocalDate(AJ)}}}}}var AP=AH.trigger("resizeEnd",{event:AM,slot:{element:AG.element,start:AG.startDate(),end:AG.endDate()},start:AS,end:AR,resources:AH.view()._resourceBySlot(AG)});if(!AP&&AR.getTime()>=AS.getTime()){if(AI.start.getTime()!=AS.getTime()||AI.end.getTime()!=AR.getTime()){AH.view()._updateEventForResize(AM);AH._updateEvent(AN,AM,{start:AS,end:AR})}}AG=null;AM=null},dragcancel:function(){AH.view()._removeResizeHint();AG=null;AM=null}})},_updateEvent:function(AH,AK,AJ){var AL=this;var AM=function(AQ,AP){try{AL._preventRefresh=true;AQ.update(AJ);AL._convertDates(AQ)}finally{AL._preventRefresh=false}if(!AL.trigger(Au,{event:AQ})){if(AP){AP()}AL._updateSelection(AQ);AL.dataSource.sync()}};var AO=function(AP){if(AP.recurrenceRule){return AL.dataSource.getByUid(AP.uid)}else{return AL.dataSource.get(AP.recurrenceId)}};var AI=function(){var AP=AO(AK);if(AH=="south"||AH=="north"){if(AJ.start){var AR=Ai.date.getDate(AP.start);Ai.date.setTime(AR,y(AJ.start));AJ.start=AR}if(AJ.end){var AQ=Ai.date.getDate(AP.end);Ai.date.setTime(AQ,y(AJ.end));AJ.end=AQ}}AL.dataSource._removeExceptions(AP);AM(AP)};var AG=function(){var AR=AO(AK);var AP=function(){AL._convertDates(AR)};var AQ=AR.toOccurrence({start:AK.start,end:AK.end});AM(AL.dataSource.add(AQ),AP)};if(AK.recurrenceRule||AK.isOccurrence()){var AN=AL.options.messages.recurrenceMessages;AL._showRecurringDialog(AK,AG,AI,{title:AN.editWindowTitle,text:AN.editRecurring?AN.editRecurring:o,occurrenceText:AN.editWindowOccurrence,seriesText:AN.editWindowSeries})}else{AM(AL.dataSource.getByUid(AK.uid))}},_modelForContainer:function(AG){AG=C(AG).closest("["+Ai.attr("uid")+"]");return this.dataSource.getByUid(AG.attr(Ai.attr("uid")))},showDialog:function(AG){this._editor.showDialog(AG)},focus:function(){this.wrapper.focus()},_confirmation:function(AG,AM){var AH=this.options.editable;if(AH===true||AH.confirmation!==false){var AN=this.options.messages;var AK=AN.deleteWindowTitle;var AJ=typeof AH.confirmation===Ay?AH.confirmation:AN.editable.confirmation;if(this._isEditorOpened()&&AM.isRecurring()){var AL=this.options.messages.recurrenceMessages;AK=AL.deleteWindowTitle;if(AM.isException()){AJ=AL.deleteRecurringConfirmation?AL.deleteRecurringConfirmation:E}else{AJ=AL.deleteSeriesConfirmation?AL.deleteSeriesConfirmation:B}}var AI=[{name:"destroy",text:AN.destroy,click:function(){AG()}}];if(!(this._isMobile()&&Ai.mobile.ui.Pane)){AI.push({name:"canceledit",text:AN.cancel,click:function(){AG(true)}})}this._unbindResize();this.showDialog({model:AM,text:AJ,title:AK,buttons:AI});this._bindResize()}else{AG()}},addEvent:function(AK){var AG=this._editor.editable;var AI=this.dataSource;var AJ;AK=AK||{};var AH=this.trigger("add",{event:AK});if(!AH&&((AG&&AG.end())||!AG)){this.cancelEvent();if(AK&&AK.toJSON){AK=AK.toJSON()}AJ=AI.add(AK);if(AJ){this.cancelEvent();this._editEvent(AJ)}}},saveEvent:function(){var AI=this._editor;if(!AI){return}var AG=AI.editable;var AH=AI.container;var AJ=this._modelForContainer(AH);if(AH&&AG&&AG.end()&&!this.trigger(Au,{container:AH,event:AJ})){if(AJ.isRecurrenceHead()){this.dataSource._removeExceptions(AJ)}if(!AJ.dirty&&!AJ.isOccurrence()){this._convertDates(AJ,"remove")}this.dataSource.sync()}},cancelEvent:function(){var AH=this._editor;var AG=AH.container;var AI;if(AG){AI=this._modelForContainer(AG);if(AI&&AI.isOccurrence()){this._convertDates(AI,"remove");this._convertDates(this.dataSource.get(AI.recurrenceId),"remove")}this.dataSource.cancelChanges(AI);AH.close()}},editEvent:function(AG){var AH=typeof AG=="string"?this.occurrenceByUid(AG):AG;if(!AH){return}this.cancelEvent();if(AH.isRecurring()){this._editRecurringDialog(AH)}else{this._editEvent(AH)}},_editEvent:function(AG){this._unbindResize();this._createPopupEditor(AG);this._bindResize()},_editRecurringDialog:function(AK){var AI=this;var AJ=function(){if(AK.isException()){AI._editEvent(AK)}else{AI.addEvent(AK)}};var AG=function(){if(AK.recurrenceId){AK=AI.dataSource.get(AK.recurrenceId)}AI._editEvent(AK)};var AH=AI.options.messages.recurrenceMessages;AI._showRecurringDialog(AK,AJ,AG,{title:AH.editWindowTitle,text:AH.editRecurring?AH.editRecurring:o,occurrenceText:AH.editWindowOccurrence,seriesText:AH.editWindowSeries})},_showRecurringDialog:function(AM,AL,AG,AI){var AJ=this;var AH=AJ.options.editable;var AK=AA(AH)?AH.editRecurringMode:"dialog";if(AK==="series"){AG()}else{if(AK==="occurrence"){AL()}else{this._unbindResize();AJ.showDialog({model:AM,title:AI.title,text:AI.text,buttons:[{text:AI.occurrenceText,click:AL},{text:AI.seriesText,click:AG}]});this._bindResize()}}},_createButton:function(AJ){var AI=AJ.template||c,AG=typeof AJ===Ay?AJ:AJ.name||AJ.text,AH={className:"k-scheduler-"+(AG||"").replace(/\s/g,""),text:AG,attr:""};if(!AG&&!(AA(AJ)&&AJ.template)){throw new Error("Custom commands should have name specified")}if(AA(AJ)){if(AJ.className){AJ.className+=" "+AH.className}if(AG==="edit"&&AA(AJ.text)){AJ=X(true,{},AJ);AJ.text=AJ.text.edit}AH=X(true,AH,AC[AG],AJ)}else{AH=X(true,AH,AC[AG])}return Ai.template(AI)(AH)},_convertDates:function(AL,AJ){var AH=this.dataSource.reader.timezone;var AG=AL.startTimezone;var AI=AL.endTimezone;var AM=AL.start;var AK=AL.start;AJ=AJ||"apply";AG=AG||AI;AI=AI||AG;if(AG){if(AH){if(AJ==="apply"){AM=Ai.timezone.convert(AL.start,AH,AG);AK=Ai.timezone.convert(AL.end,AH,AI)}else{AM=Ai.timezone.convert(AL.start,AG,AH);AK=Ai.timezone.convert(AL.end,AI,AH)}}else{AM=Ai.timezone[AJ](AL.start,AG);AK=Ai.timezone[AJ](AL.end,AI)}AL._set("start",AM);AL._set("end",AK)}},_createEditor:function(){var AG=this;var AH;if(this._isMobile()&&Ai.mobile.ui.Pane){AH=AG._editor=new D(this.wrapper,X({},this.options,{target:this,timezone:AG.dataSource.reader.timezone,resources:AG.resources,createButton:Q(this._createButton,this)}))}else{AH=AG._editor=new u(this.wrapper,X({},this.options,{target:this,createButton:Q(this._createButton,this),timezone:AG.dataSource.reader.timezone,resources:AG.resources}))}AH.bind("cancel",function(AI){if(AG.trigger("cancel",{container:AI.container,event:AI.model})){AI.preventDefault();return}AG.cancelEvent();AG.focus()});AH.bind("edit",function(AI){if(AG.trigger(n,{container:AI.container,event:AI.model})){AI.preventDefault()}});AH.bind("save",function(){AG.saveEvent()});AH.bind("remove",function(AI){AG.removeEvent(AI.model)})},_createPopupEditor:function(AH){var AG=this._editor;if(!AH.isNew()||AH.isOccurrence()){if(AH.isOccurrence()){this._convertDates(AH.recurrenceId?this.dataSource.get(AH.recurrenceId):AH)}this._convertDates(AH)}this.editable=AG.editEvent(AH)},removeEvent:function(AH){var AG=this,AI=typeof AH=="string"?AG.occurrenceByUid(AH):AH;if(!AI){return}if(AI.isRecurring()){AG._deleteRecurringDialog(AI)}else{AG._confirmation(function(AJ){if(!AJ){AG._removeEvent(AI)}},AI)}},occurrenceByUid:function(AH){var AG=this.dataSource.getByUid(AH);if(!AG){AG=K(this._data,AH)}return AG},occurrencesInRange:function(AH,AG){return new Ai.data.Query(this._data).filter({logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:AH},{field:"end",operator:"gte",value:AH},{field:"start",operator:"lt",value:AG}]},{logic:"and",filters:[{field:"start",operator:"lte",value:AH},{field:"end",operator:"gt",value:AH}]}]}).toArray()},_removeEvent:function(AG){if(!this.trigger(Ae,{event:AG})){if(this.dataSource.remove(AG)){this.dataSource.sync()}}},_deleteRecurringDialog:function(AR){var AM=this;var AO=AR;var AH=AM.options.editable;var AI;var AL;var AJ;var AP;var AK=AA(AH)?AH.editRecurringMode:"dialog";AI=function(){var AS=AO.recurrenceId?AO:AO.toOccurrence();var AT=AM.dataSource.get(AS.recurrenceId);AM._convertDates(AT);AM._removeEvent(AS)};AL=function(){if(AO.recurrenceId){AO=AM.dataSource.get(AO.recurrenceId)}AM._removeEvent(AO)};if(AK!="dialog"||AM._isEditorOpened()){AJ=function(){AM._confirmation(function(AS){if(!AS){AI()}},AO)};AP=function(){AM._confirmation(function(AS){if(!AS){AL()}},AO)}}var AN=AP||AL;var AG=AJ||AI;if(AM._isEditorOpened()){if(AR.isException()){AG()}else{AN()}}else{var AQ=AM.options.messages.recurrenceMessages;AM._showRecurringDialog(AR,AG,AN,{title:AQ.deleteWindowTitle,text:AQ.deleteRecurring?AQ.deleteRecurring:Az,occurrenceText:AQ.deleteWindowOccurrence,seriesText:AQ.deleteWindowSeries})}},_isEditorOpened:function(){return !!this._editor.container},_unbindView:function(AH){var AG=this;AG.angular("cleanup",function(){return{elements:AG.items()}});AH.destroy()},_bindView:function(AH){var AG=this;if(AG.options.editable){if(AG._viewRemoveHandler){AH.unbind(Ae,AG._viewRemoveHandler)}AG._viewRemoveHandler=function(AI){AG.removeEvent(AI.uid)};AH.bind(Ae,AG._viewRemoveHandler);if(AG._viewAddHandler){AH.unbind(d,AG._viewAddHandler)}AG._viewAddHandler=function(AI){AG.addEvent(AI.eventInfo)};AH.bind(d,this._viewAddHandler);if(AG._viewEditHandler){AH.unbind(n,AG._viewEditHandler)}AG._viewEditHandler=function(AI){AG.editEvent(AI.uid)};AH.bind(n,this._viewEditHandler)}if(AG._viewNavigateHandler){AH.unbind("navigate",AG._viewNavigateHandler)}AG._viewNavigateHandler=function(AJ){if(AJ.view){var AK="isWorkDay" in AJ;var AI=AK?"changeWorkDay":"changeView";if(!AG.trigger("navigate",{view:AJ.view,isWorkDay:AJ.isWorkDay,action:AI,date:AJ.date})){if(AK){AG._workDayMode=AJ.isWorkDay}AG._selectView(AJ.view);AG.date(AJ.date)}}};AH.bind("navigate",AG._viewNavigateHandler);if(AG._viewActivateHandler){AH.unbind("activate",AG._viewActivateHandler)}AG._viewActivateHandler=function(){var AI=this;if(AG._selection){AI.constrainSelection(AG._selection);AG._select();AG._adjustSelectedDate()}};AH.bind("activate",AG._viewActivateHandler)},_selectView:function(AJ){var AI=this;if(AJ&&AI.views[AJ]){if(AI._selectedView){AI._unbindView(AI._selectedView)}AI._selectedView=AI._renderView(AJ);AI._selectedViewName=AJ;if(AI._viewsCount>1){var AH=Y({views:AI.views,view:AJ,ns:Ai.ns});var AK=AI.toolbar.find(".k-scheduler-views li:first-child");if(AK.is(".k-current-view")){AK.replaceWith(AH)}else{AI.toolbar.find(".k-scheduler-views").prepend(AH)}var AG=AI.toolbar.find(".k-scheduler-views li").removeClass("k-state-selected");AG.end().find(".k-view-"+AJ.replace(/\./g,"\\.").toLowerCase()).addClass("k-state-selected")}}},view:function(AH){var AG=this;if(AH){AG._selectView(AH);AG.rebind();return}return AG._selectedView},viewName:function(){return this.view().name},_renderView:function(AG){var AH=this._initializeView(AG);this._bindView(AH);this._model.set("formattedDate",AH.dateForTitle());this._model.set("formattedShortDate",AH.shortDateForTitle());return AH},resize:function(AI){var AG=this.getSize();var AJ=this._size;var AH=this.view();if(!AH||!AH.groups){return}if(AI||!AJ||AG.width!==AJ.width||AG.height!==AJ.height){this.refresh({action:"resize"});this._size=AG}},_adjustSelectedDate:function(){var AH=this._model.selectedDate,AG=this._selection,AI=AG.start;if(AI&&!Ai.date.isInDateRange(AH,v(AI),v(AG.end))){AH.setFullYear(AI.getFullYear(),AI.getMonth(),AI.getDate())}},_initializeView:function(AH){var AJ=this.views[AH];if(AJ){var AI=AA(AJ),AG=AJ.type;if(typeof AG===Ay){AG=Ai.getter(AJ.type)(window)}if(AG){AJ=new AG(this.wrapper,Z(X(true,{},this.options,AI?AJ:{},{resources:this.resources,date:this.date(),showWorkHours:this._workDayMode})))}else{throw new Error("There is no such view")}}return AJ},_views:function(){var AI=this.options.views;var AG;var AO;var AL;var AM;var AH;var AP;var AJ;var AK;this.views={};this._viewsCount=0;for(AJ=0,AK=AI.length;AJ<AK;AJ++){var AN=false;AG=AI[AJ];AM=AA(AG);if(AM){AP=AH=AG.type?AG.type:AG;if(typeof AP!==Ay){AH=AG.title;AN=true}}else{AP=AH=AG}AO=g[AH];if(AO&&!AN){AG.type=AO.type;AO.title=this.options.messages.views[AH];if(AO.type==="day"){AO.messages={allDay:this.options.messages.allDay}}else{if(AO.type==="agenda"){AO.messages={event:this.options.messages.event,date:this.options.messages.date,time:this.options.messages.time}}}}AG=X({title:AH},AO,AM?AG:{});if(AH){this.views[AH]=AG;this._viewsCount++;if(!AL||AG.selected){AL=AH}}}if(AL){this._selectedViewName=AL}},rebind:function(){this.dataSource.fetch()},_dataSource:function(){var AG=this,AI=AG.options,AH=AI.dataSource;AH=h(AH)?{data:AH}:AH;if(AI.timezone&&!(AH instanceof b)){AH=X(true,AH,{schema:{timezone:AI.timezone}})}else{if(AH instanceof b){AI.timezone=AH.options.schema?AH.options.schema.timezone:""}}if(AG.dataSource&&AG._refreshHandler){AG.dataSource.unbind(G,AG._refreshHandler).unbind("progress",AG._progressHandler).unbind("error",AG._errorHandler)}else{AG._refreshHandler=Q(AG.refresh,AG);AG._progressHandler=Q(AG._requestStart,AG);AG._errorHandler=Q(AG._error,AG)}AG.dataSource=Ai.data.SchedulerDataSource.create(AH).bind(G,AG._refreshHandler).bind("progress",AG._progressHandler).bind("error",AG._errorHandler);AG.options.dataSource=AG.dataSource},_error:function(){this._progress(false)},_requestStart:function(){this._progress(true)},_progress:function(AG){var AH=this.element.find(".k-scheduler-content");Ai.ui.progress(AH,AG)},_resources:function(){var AH=this;var AJ=AH.options.resources;for(var AL=0;AL<AJ.length;AL++){var AK=AJ[AL];var AM=AK.field;var AI=AK.dataSource;if(!AM||!AI){throw new Error('The "field" and "dataSource" options of the scheduler resource are mandatory.')}AH.resources.push({field:AM,name:AK.name||AM,title:AK.title||AM,dataTextField:AK.dataTextField||"text",dataValueField:AK.dataValueField||"value",dataColorField:AK.dataColorField||"color",valuePrimitive:AK.valuePrimitive!=null?AK.valuePrimitive:true,multiple:AK.multiple||false,dataSource:Ai.data.DataSource.create(AI)})}var AG=C.map(AH.resources,function(AN){return AN.dataSource.fetch()});C.when.apply(null,AG).then(function(){if(AH.options.autoBind){AH.view(AH._selectedViewName)}else{AH._selectView(AH._selectedViewName)}})},_initModel:function(){var AG=this;AG._model=Ai.observable({selectedDate:new Date(this.options.date),formattedDate:"",formattedShortDate:""});AG._model.bind("change",function(AH){if(AH.field==="selectedDate"){AG.view(AG._selectedViewName)}})},_wrapper:function(){var AH=this;var AI=AH.options;var AG=AI.height;var AJ=AI.width;AH.wrapper=AH.element.addClass("k-widget k-scheduler k-floatwrap").attr("role","grid").attr("aria-multiselectable",true);if(AH._isMobile()){AH.wrapper.addClass("k-scheduler-mobile")}if(AH._isMobilePhoneView()){AH.wrapper.addClass("k-scheduler-phone")}if(AG){AH.wrapper.height(AG)}if(AJ){AH.wrapper.width(AJ)}},date:function(AG){if(AG!=null&&v(AG)>=v(this.options.min)&&v(AG)<=v(this.options.max)){this._model.set("selectedDate",AG)}return v(this._model.get("selectedDate"))},_toolbar:function(){var AH=this;var AI=AH.options;var AJ=[];if(AI.toolbar){AJ=C.isArray(AI.toolbar)?AI.toolbar:[AI.toolbar]}var AK=this._isMobilePhoneView()?x:J;var AG=C(AK({messages:AI.messages,pdf:C.grep(AJ,function(AL){return AL=="pdf"||AL.name=="pdf"}).length>0,ns:Ai.ns,views:AH.views,viewsCount:AH._viewsCount}));AH.wrapper.append(AG);AH.toolbar=AG;Ai.bind(AH.toolbar,AH._model);AG.on(O+p,".k-pdf",function(AL){AL.preventDefault();AH.saveAsPDF()});AG.on(O+p,".k-scheduler-navigation li",function(AM){var AN=C(this);var AO=new Date(AH.date());var AL="";AM.preventDefault();if(AN.hasClass("k-nav-today")){AL="today";AO=new Date()}else{if(AN.hasClass("k-nav-next")){AL="next";AO=AH.view().nextDate()}else{if(AN.hasClass("k-nav-prev")){AL="previous";AO=AH.view().previousDate()}else{if(AN.hasClass("k-nav-current")&&!AH._isMobilePhoneView()){AH._showCalendar();return}}}}if(!AH.trigger("navigate",{view:AH._selectedViewName,action:AL,date:AO})){AH.date(AO)}});AG.on(O+p,".k-scheduler-views li, .k-scheduler-refresh",function(AL){AL.preventDefault();var AM=C(this).attr(Ai.attr("name"));if(!AH.trigger("navigate",{view:AM,action:"changeView",date:AH.date()})){AH.view(AM);AH.element.find(".k-state-expanded").removeClass("k-state-expanded")}});AG.on(O+p,".k-scheduler-views li.k-current-view",function(AL){AH.element.find(".k-scheduler-views").toggleClass("k-state-expanded")});AG.find("li").hover(function(){C(this).addClass("k-state-hover")},function(){C(this).removeClass("k-state-hover")})},_showCalendar:function(){var AH=this,AI=AH.toolbar.find(".k-nav-current"),AG=C('<div class="k-calendar-container"><div class="k-scheduler-calendar"/></div>');if(!AH.popup){AH.popup=new f(AG,{anchor:AI,activate:function(){if(!AH.calendar){AH.calendar=new w(this.element.find(".k-scheduler-calendar"),{change:function(){var AJ=this.value();if(!AH.trigger("navigate",{view:AH._selectedViewName,action:"changeDate",date:AJ})){AH.date(AJ);AH.popup.close()}},min:AH.options.min,max:AH.options.max})}AH.calendar.value(AH.date())},copyAnchorStyles:false})}AH.popup.open()},refresh:function(AG){var AH=this;var AI=this.view();this._progress(false);this.angular("cleanup",function(){return{elements:AH.items()}});AG=AG||{};if(!AI){return}if(AG&&AG.action==="itemchange"&&(this._editor.editable||this._preventRefresh)){return}if(this.trigger("dataBinding",{action:AG.action||"rebind",index:AG.index,items:AG.items})){return}if(!(AG&&AG.action==="resize")&&this._editor){this._editor.close()}this._data=this.dataSource.expand(AI.startDate(),AI.endDate());AI.render(this._data);this.trigger("dataBound")},slotByPosition:function(AI,AJ){var AH=this.view();if(!AH._slotByPosition){return null}var AG=AH._slotByPosition(AI,AJ);if(!AG){return null}return{startDate:AG.startDate(),endDate:AG.endDate(),groupIndex:AG.groupIndex,element:AG.element,isDaySlot:AG.isDaySlot}},slotByElement:function(AH){var AG=C(AH).offset();return this.slotByPosition(AG.left,AG.top)},resourcesBySlot:function(AG){return this.view()._resourceBySlot(AG)}});var g={day:{type:"kendo.ui.DayView"},week:{type:"kendo.ui.WeekView"},workWeek:{type:"kendo.ui.WorkWeekView"},agenda:{type:"kendo.ui.AgendaView"},month:{type:"kendo.ui.MonthView"},timeline:{type:"kendo.ui.TimelineView"},timelineWeek:{type:"kendo.ui.TimelineWeekView"},timelineWorkWeek:{type:"kendo.ui.TimelineWorkWeekView"},timelineMonth:{type:"kendo.ui.TimelineMonthView"}};a.plugin(L);if(Ai.PDFMixin){Ai.PDFMixin.extend(L.prototype);var Ab="k-scheduler-pdf-export";L.fn._drawPDF=function(){var AH=this.wrapper;var AJ=AH[0].style.cssText;AH.css({width:AH.width(),height:AH.height()});AH.addClass(Ab);this.resize(true);var AI=this._drawPDFShadow();var AG=this;AI.always(function(){AH[0].style.cssText=AJ;AH.removeClass(Ab);AG.resize(true)});return AI}}var r=j.extend({init:function(AI,AH){var AG=this,AJ=Ai.timezone.windows_zones;if(!AJ||!Ai.timezone.zones_titles){throw new Error("kendo.timezones.min.js is not included.")}j.fn.init.call(AG,AI,AH);AG.wrapper=AG.element;AG._zonesQuery=new Ai.data.Query(AJ);AG._zoneTitleId=Ai.guid();AG._zoneTitlePicker();AG._zonePicker();AG._zoneTitle.bind("cascade",function(){if(!this.value()){AG._zone.wrapper.hide()}});AG._zone.bind("cascade",function(){AG._value=this.value();AG.trigger("change")});AG.value(AG.options.value)},options:{name:"TimezoneEditor",value:"",optionLabel:"No timezone"},events:["change"],_zoneTitlePicker:function(){var AH=this,AG=C('<input id="'+AH._zoneTitleId+'"/>').appendTo(AH.wrapper);AH._zoneTitle=new Ai.ui.DropDownList(AG,{dataSource:Ai.timezone.zones_titles,dataValueField:"other_zone",dataTextField:"name",optionLabel:AH.options.optionLabel})},_zonePicker:function(){var AH=this,AG=C("<input />").appendTo(this.wrapper);AH._zone=new Ai.ui.DropDownList(AG,{dataValueField:"zone",dataTextField:"territory",dataSource:AH._zonesQuery.data,cascadeFrom:AH._zoneTitleId,dataBound:function(){AH._value=this.value();this.wrapper.toggle(this.dataSource.view().length>1)}});AH._zone.wrapper.hide()},destroy:function(){j.fn.destroy.call(this);Ai.destroy(this.wrapper)},value:function(AI){var AH=this,AG;if(AI===z){return AH._value}AG=AH._zonesQuery.filter({field:"zone",operator:"eq",value:AI}).data[0];if(AG){AH._zoneTitle.value(AG.other_zone);AH._zone.value(AG.zone)}else{AH._zoneTitle.select(0)}}});a.plugin(r);var Ak=Ai.template('<option value="#=other_zone#">#=name#</option>');var Al=Ai.template('<option value="#=zone#">#=territory#</option>');var T=j.extend({init:function(AI,AH){var AG=this,AJ=Ai.timezone.windows_zones;if(!AJ||!Ai.timezone.zones_titles){throw new Error("kendo.timezones.min.js is not included.")}j.fn.init.call(AG,AI,AH);AG.wrapper=AG.element;AG._zonesQuery=new Ai.data.Query(AJ);AG._zoneTitlePicker();AG._zonePicker();AG.value(AG.options.value)},options:{name:"MobileTimezoneEditor",optionLabel:"No timezone",value:""},events:["change"],_bindZones:function(AG){var AH=AG?this._filter(AG):[];this._zone.html(this._options(AH,Al))},_filter:function(AG){return this._zonesQuery.filter({field:"other_zone",operator:"eq",value:AG}).data},_options:function(AL,AI,AK){var AJ=0;var AG="";var AH=AL.length;if(AK){AG+=AI({other_zone:"",name:AK})}for(;AJ<AH;AJ++){AG+=AI(AL[AJ])}return AG},_zoneTitlePicker:function(){var AG=this;var AH=AG._options(Ai.timezone.zones_titles,Ak,AG.options.optionLabel);AG._zoneTitle=C("<select>"+AH+"</select>").appendTo(AG.wrapper).change(function(){var AJ=this.value;var AI=AG._zone;AG._bindZones(AJ);if(AJ&&AI[0].children.length>1){AI.show()}else{AI.hide()}AG._value=AI[0].value;AG.trigger("change")})},_zonePicker:function(){var AG=this;AG._zone=C('<select style="display:none"></select>').appendTo(this.wrapper).change(function(){AG._value=this.value;AG.trigger("change")});AG._bindZones(AG._zoneTitle.val());AG._value=AG._zone[0].value},destroy:function(){j.fn.destroy.call(this);Ai.destroy(this.wrapper)},value:function(AJ){var AH=this;var AG=AH._zone;var AK="";var AL="";var AI;if(AJ===z){return AH._value}AI=AH._zonesQuery.filter({field:"zone",operator:"eq",value:AJ}).data[0];if(AI){AL=AI.zone;AK=AI.other_zone}AH._zoneTitle.val(AK);AH._bindZones(AK);AG.val(AL);AL=AG[0].value;if(AL&&AG[0].children.length>1){AG.show()}else{AG.hide()}AH._value=AL}});a.plugin(T)})(window.kendo.jQuery);(function(F,A){var B=window.kendo,H=B.ui.Widget,C=F.proxy,E=Math.abs,D=20;var G=H.extend({init:function(M,K){var J=this;H.fn.init.call(J,M,K);K=J.options;M=J.element;J.wrapper=M;function I(N){return function(O){J._triggerTouch(N,O)}}function L(N){return function(O){J.trigger(N,{touches:O.touches,distance:O.distance,center:O.center,event:O.event})}}J.events=new B.UserEvents(M,{filter:K.filter,surface:K.surface,minHold:K.minHold,multiTouch:K.multiTouch,allowSelection:true,press:I("touchstart"),hold:I("hold"),tap:C(J,"_tap"),gesturestart:L("gesturestart"),gesturechange:L("gesturechange"),gestureend:L("gestureend")});if(K.enableSwipe){J.events.bind("start",C(J,"_swipestart"));J.events.bind("move",C(J,"_swipemove"))}else{J.events.bind("start",C(J,"_dragstart"));J.events.bind("move",I("drag"));J.events.bind("end",I("dragend"))}B.notify(J)},events:["touchstart","dragstart","drag","dragend","tap","doubletap","hold","swipe","gesturestart","gesturechange","gestureend"],options:{name:"Touch",surface:null,global:false,multiTouch:false,enableSwipe:false,minXDelta:30,maxYDelta:20,maxDuration:1000,minHold:800,doubleTapTimeout:800},cancel:function(){this.events.cancel()},_triggerTouch:function(I,J){if(this.trigger(I,{touch:J.touch,event:J.event})){J.preventDefault()}},_tap:function(J){var K=this,I=K.lastTap,L=J.touch;if(I&&(L.endTime-I.endTime<K.options.doubleTapTimeout)&&B.touchDelta(L,I).distance<D){K._triggerTouch("doubletap",J);K.lastTap=null}else{K._triggerTouch("tap",J);K.lastTap=L}},_dragstart:function(I){this._triggerTouch("dragstart",I)},_swipestart:function(I){if(E(I.x.velocity)*2>=E(I.y.velocity)){I.sender.capture()}},_swipemove:function(I){var J=this,K=J.options,M=I.touch,L=I.event.timeStamp-M.startTime,N=M.x.initialDelta>0?"right":"left";if(E(M.x.initialDelta)>=K.minXDelta&&E(M.y.initialDelta)<K.maxYDelta&&L<K.maxDuration){J.trigger("swipe",{direction:N,touch:I.touch});M.cancel()}}});B.ui.plugin(G)})(window.kendo.jQuery);(function(T){var E=window.kendo;var J=E.dom;var G=J.element;var N=J.text;var B=E.support.browser;var A=E.support.mobileOS;var D=E.ui;var S=D.Widget;var L=T.extend;var R=T.map;var M=T.isFunction;var P=E.keys;var Q={"title":"Title","start":"Start Time","end":"End Time","percentComplete":"% Done","parentId":"Predecessor ID","id":"ID","orderId":"Order ID"};var V="string";var O=".kendoGanttList";var U="click";var K=".";var C={wrapper:"k-treelist k-grid k-widget",header:"k-header",alt:"k-alt",editCell:"k-edit-cell",group:"k-treelist-group",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",selected:"k-state-selected",icon:"k-icon",iconCollapse:"k-i-collapse",iconExpand:"k-i-expand",iconHidden:"k-i-none",iconPlaceHolder:"k-icon k-i-none",input:"k-input",dropPositions:"k-insert-top k-insert-bottom k-add k-insert-middle",dropTop:"k-insert-top",dropBottom:"k-insert-bottom",dropAdd:"k-add",dropMiddle:"k-insert-middle",dropDenied:"k-denied",dragStatus:"k-drag-status",dragClue:"k-drag-clue",dragClueText:"k-clue-text"};function H(Z){var a=[];var W=Z.className;for(var X=0,Y=Z.level;X<Y;X++){a.push(G("span",{className:W}))}return a}function I(){var W=E._activeElement();if(W.nodeName.toLowerCase()!=="body"){T(W).blur()}}var F=D.GanttList=S.extend({init:function(X,W){S.fn.init.call(this,X,W);if(this.options.columns.length===0){this.options.columns.push("title")}this.dataSource=this.options.dataSource;this._columns();this._layout();this._domTrees();this._header();this._sortable();this._editable();this._selectable();this._draggable();this._attachEvents();this._adjustHeight()},_adjustHeight:function(){this.content.height(this.element.height()-this.header.parent().outerHeight())},destroy:function(){S.fn.destroy.call(this);if(this._reorderDraggable){this._reorderDraggable.destroy()}if(this._tableDropArea){this._tableDropArea.destroy()}if(this._contentDropArea){this._contentDropArea.destroy()}if(this.touch){this.touch.destroy()}if(this.timer){clearTimeout(this.timer)}this.content.off(O);this.header=null;this.content=null;this.levels=null;E.destroy(this.element)},options:{name:"GanttList",selectable:true,editable:true},_attachEvents:function(){var X=this;var W=F.styles;X.content.on(U+O,"td > span."+W.icon+":not(."+W.iconHidden+")",function(Y){var Z=T(this);var a=X._modelFromElement(Z);a.set("expanded",!a.get("expanded"));Y.stopPropagation()})},_domTrees:function(){this.headerTree=new J.Tree(this.header[0]);this.contentTree=new J.Tree(this.content[0])},_columns:function(){var Y=this.options.columns;var X;var W=function(){this.field="";this.title="";this.editable=false;this.sortable=false};this.columns=R(Y,function(Z){Z=typeof Z==="string"?{field:Z,title:Q[Z]}:Z;return L(new W(),Z)})},_layout:function(){var X=this.element;var W=F.styles;X.addClass(W.wrapper).append("<div class='"+W.gridHeader+"'><div class='"+W.gridHeaderWrap+"'></div></div>").append("<div class='"+W.gridContentWrap+"'></div>");this.header=X.find(K+W.gridHeaderWrap);this.content=X.find(K+W.gridContent)},_header:function(){var Z=this.headerTree;var X;var W;var Y;X=G("colgroup",null,this._cols());W=G("thead",{"role":"rowgroup"},[G("tr",{"role":"row"},this._ths())]);Y=G("table",{"style":{"minWidth":this.options.listWidth+"px"},"role":"grid"},[X,W]);Z.render([Y])},_render:function(W){var X;var Y;var Z;this.levels=[{field:null,value:0}];X=G("colgroup",null,this._cols());Y=G("tbody",{"role":"rowgroup"},this._trs(W));Z=G("table",{"style":{"minWidth":this.options.listWidth+"px"},"tabIndex":0,"role":"treegrid"},[X,Y]);this.contentTree.render([Z]);this.trigger("render")},_ths:function(){var b=this.columns;var a;var Y;var Z=[];for(var W=0,X=b.length;W<X;W++){a=b[W];Y={"data-field":a.field,"data-title":a.title,className:F.styles.header,"role":"columnheader"};Z.push(G("th",Y,[N(a.title)]))}return Z},_cols:function(){var c=this.columns;var b;var Z;var a;var X=[];for(var W=0,Y=c.length;W<Y;W++){b=c[W];a=b.width;if(a&&parseInt(a,10)!==0){Z={style:{width:typeof a===V?a:a+"px"}}}else{Z=null}X.push(G("col",Z,[]))}return X},_trs:function(a){var X;var W=[];var Y;var c=[];var d;var e=F.styles;for(var b=0,Z=a.length;b<Z;b++){X=a[b];d=this._levels({idx:X.parentId,id:X.id,summary:X.summary});Y={"data-uid":X.uid,"data-level":d,"role":"row"};if(X.summary){Y["aria-expanded"]=X.expanded}if(b%2!==0){c.push(e.alt)}if(X.summary){c.push(e.group)}if(c.length){Y.className=c.join(" ")}W.push(this._tds({task:X,attr:Y,level:d}));c=[]}return W},_tds:function(Z){var b=[];var X=this.columns;var a;for(var W=0,Y=X.length;W<Y;W++){a=X[W];b.push(this._td({task:Z.task,column:a,level:Z.level}))}return G("tr",Z.attr,b)},_td:function(e){var Z=[];var W=this.options.resourcesField;var a=F.styles;var Y=e.task;var X=e.column;var c=Y.get(X.field)||[];var b;if(X.field==W){b=[];for(var d=0;d<c.length;d++){b.push(E.format("{0} [{1}]",c[d].get("name"),c[d].get("formatedValue")))}b=b.join(", ")}else{b=X.format?E.format(X.format,c):c}var f;if(X.field==="title"){Z=H({level:e.level,className:a.iconPlaceHolder});Z.push(G("span",{className:a.icon+" "+(Y.summary?(Y.expanded?a.iconCollapse:a.iconExpand):a.iconHidden)}));f=E.format("{0}, {1:P0}",b,Y.percentComplete)}Z.push(G("span",{"aria-label":f},[N(b)]));return G("td",{"role":"gridcell"},Z)},_levels:function(Z){var c=this.levels;var b;var d=Z.summary;var W=Z.idx;var a=Z.id;for(var Y=0,X=c.length;Y<X;Y++){b=c[Y];if(b.field==W){if(d){c.push({field:a,value:b.value+1})}return b.value}}},_sortable:function(){var W=this.options.resourcesField;var Y=this.columns;var X;var b;var c=this.header.find("th");var d;for(var Z=0,a=c.length;Z<a;Z++){X=Y[Z];if(X.sortable&&X.field!==W){d=c.eq(Z);b=d.data("kendoColumnSorter");if(b){b.destroy()}d.attr("data-"+E.ns+"field",X.field).kendoColumnSorter({dataSource:this.dataSource})}}c=null},_selectable:function(){var W=this;var X=this.options.selectable;if(X){this.content.on(U+O,"tr",function(Y){var Z=T(this);if(!Y.ctrlKey){W.select(Z)}else{W.clearSelection()}})}},select:function(X){var Y=this.content.find(X);var W=F.styles.selected;if(Y.length){Y.siblings(K+W).removeClass(W).attr("aria-selected",false).end().addClass(W).attr("aria-selected",true);this.trigger("change");return}return this.content.find(K+W)},clearSelection:function(){var W=this.select();if(W.length){W.removeClass(F.styles.selected);this.trigger("change")}},_setDataSource:function(W){this.dataSource=W},_editable:function(){var X=this;var W=F.styles;var Y="span."+W.icon+":not("+W.iconHidden+")";var a=function(){if(X.editable&&X.editable.end()){X._closeCell()}};var Z=function(b){var c=T(b.currentTarget);if(!c.hasClass(W.editCell)){I()}};if(!this.options.editable){return}this._startEditHandler=function(b){var c=b.currentTarget?T(b.currentTarget):b;var d=X._columnFromElement(c);if(X.editable){return}if(d.editable){X._editCell({cell:c,column:d})}};X.content.on("focusin"+O,function(){clearTimeout(X.timer);X.timer=null}).on("focusout"+O,function(){X.timer=setTimeout(a,1)}).on("keydown"+O,function(c){var b=c.keyCode;var d;var f;switch(b){case P.ENTER:I();a();break;case P.ESC:if(X.editable){d=X._editableContainer;f=X._modelFromElement(d);if(!X.trigger("cancel",{model:f,cell:d})){X._closeCell(true)}}break}});if(!A){X.content.on("mousedown"+O,"td",function(b){Z(b)}).on("dblclick"+O,"td",function(b){if(!T(b.target).is(Y)){X._startEditHandler(b)}})}else{X.touch=X.content.kendoTouch({filter:"td",touchstart:function(b){Z(b.touch)},doubletap:function(b){if(!T(b.touch.initialTouch).is(Y)){X._startEditHandler(b.touch)}}}).data("kendoTouch")}},_editCell:function(d){var W=this.options.resourcesField;var b=F.styles;var j=d.cell;var Z=d.column;var h=this._modelFromElement(j);var g=this.dataSource._createNewModel(h.toJSON());var X=g.fields[Z.field]||g[Z.field];var e=X.validation;var a=E.attr("type");var f=E.attr("bind");var c={"name":Z.field,"required":X.validation?X.validation.required===true:false};var Y;if(Z.field===W){Z.editor(j,g);return}this._editableContent=j.children().detach();this._editableContainer=j;j.data("modelCopy",g);if((X.type==="date"||T.type(X)==="date")&&/H|m|s|F|g|u/.test(Z.format)){if(Z.field==="start"){delete X.validation.dateCompare}c[f]="value:"+Z.field;c[a]="date";Y=function(l,k){T('<input type="text"/>').attr(c).appendTo(l).kendoDateTimePicker({format:k.format})}}this.editable=j.addClass(b.editCell).kendoEditable({fields:{field:Z.field,format:Z.format,editor:Z.editor||Y},model:g,clearContainer:false}).data("kendoEditable");if(e&&e.dateCompare&&M(e.dateCompare)&&e.message){T("<span "+E.attr("for")+'="'+Z.field+'" class="k-invalid-msg"/>').hide().appendTo(j);j.find("[name="+Z.field+"]").attr(E.attr("dateCompare-msg"),e.message)}if(this.trigger("edit",{model:h,cell:j})){this._closeCell(true)}},_closeCell:function(a){var Y=F.styles;var d=this._editableContainer;var c=this._modelFromElement(d);var W=this._columnFromElement(d);var Z=W.field;var b=d.data("modelCopy");var X={};X[Z]=b.get(Z);d.empty().removeData("modelCopy").removeClass(Y.editCell).append(this._editableContent);this.editable.destroy();this.editable=null;this._editableContainer=null;this._editableContent=null;if(!a){if(Z==="start"){X.end=new Date(X.start.getTime()+c.duration())}this.trigger("update",{task:c,updateInfo:X})}},_draggable:function(){var a=this;var Y=null;var c=true;var h;var Z=F.styles;var d="tr["+E.attr("level")+" = 0]:last";var g={};var X=function(){Y=null;h=null;c=true;g={}};var f=function(j){var k=j;while(k){if(Y.get("id")===k.get("id")){c=false;break}k=a.dataSource.taskParent(k)}};var W=function(){var j=T(h).height();var k=E.getOffset(h).top;L(h,{beforeLimit:k+j*0.25,afterLimit:k+j*0.75})};var b=function(l){var k=l.location;var m=Z.dropAdd;var n="add";var j=parseInt(h.attr(E.attr("level")),10);var o;if(k<=h.beforeLimit){o=h.prev();m=Z.dropTop;n="insert-before"}else{if(k>=h.afterLimit){o=h.next();m=Z.dropBottom;n="insert-after"}}if(o&&parseInt(o.attr(E.attr("level")),10)===j){m=Z.dropMiddle}g.className=m;g.command=n};var e=function(){return a._reorderDraggable.hint.children(K+Z.dragStatus).removeClass(Z.dropPositions)};if(!this.options.editable){return}this._reorderDraggable=this.content.kendoDraggable({distance:10,holdToDrag:A,group:"listGroup",filter:"tr[data-uid]",ignore:K+Z.input,hint:function(j){return T('<div class="'+Z.header+" "+Z.dragClue+'"/>').css({width:300,paddingLeft:j.css("paddingLeft"),paddingRight:j.css("paddingRight"),lineHeight:j.height()+"px",paddingTop:j.css("paddingTop"),paddingBottom:j.css("paddingBottom")}).append('<span class="'+Z.icon+" "+Z.dragStatus+'" /><span class="'+Z.dragClueText+'"/>')},cursorOffset:{top:-20,left:0},container:this.content,"dragstart":function(j){if(a.editable){j.preventDefault()}Y=a._modelFromElement(j.currentTarget);this.hint.children(K+Z.dragClueText).text(Y.get("title"))},"drag":function(j){if(c){b(j.y);e().addClass(g.className)}},"dragend":function(j){X()},"dragcancel":function(j){X()}}).data("kendoDraggable");this._tableDropArea=this.content.kendoDropTargetArea({distance:0,group:"listGroup",filter:"tr[data-uid]","dragenter":function(j){h=j.dropTarget;f(a._modelFromElement(h));W();e().toggleClass(Z.dropDenied,!c)},"dragleave":function(j){c=true;e()},"drop":function(k){var m=a._modelFromElement(h);var j=m.orderId;var l={parentId:m.parentId};if(c){switch(g.command){case"add":l.parentId=m.id;break;case"insert-before":if(m.parentId===Y.parentId&&m.orderId>Y.orderId){l.orderId=j-1}else{l.orderId=j}break;case"insert-after":if(m.parentId===Y.parentId&&m.orderId>Y.orderId){l.orderId=j}else{l.orderId=j+1}break}a.trigger("update",{task:Y,updateInfo:l})}}}).data("kendoDropTargetArea");this._contentDropArea=this.element.kendoDropTargetArea({distance:0,group:"listGroup",filter:K+Z.gridContent,"drop":function(k){var m=a._modelFromElement(a.content.find(d));var j=m.orderId;var l={parentId:null,orderId:Y.parentId!==null?j+1:j};a.trigger("update",{task:Y,updateInfo:l})}}).data("kendoDropTargetArea")},_modelFromElement:function(X){var W=X.closest("tr");var Y=this.dataSource.getByUid(W.attr(E.attr("uid")));return Y},_columnFromElement:function(Z){var X=Z.closest("td");var W=X.parent();var Y=W.children().index(X);return this.columns[Y]}});L(true,D.GanttList,{styles:C})})(window.kendo.jQuery);(function(T){var I=kendo.ui.Widget;var S=kendo.dom.element;var d=kendo.dom.text;var O=T.isPlainObject;var h=T.extend;var l=T.proxy;var C=kendo.support.browser;var A=kendo.support.mobileOS;var c=false;var K=kendo.keys;var E=kendo.data.Query;var j=".kendoGanttTimeline";var N="click";var Q="dblclick";var V="mousemove";var R="mouseenter";var Y="mouseleave";var B="keydown";var P=".";var L=kendo.template("#=kendo.toString(start, 't')#");var D=kendo.template("#=kendo.toString(start, 'ddd M/dd')#");var k=kendo.template("#=kendo.toString(start, 'ddd M/dd')# - #=kendo.toString(kendo.date.addDays(end, -1), 'ddd M/dd')#");var a=kendo.template("#=kendo.toString(start, 'MMM')#");var H=kendo.template("#=kendo.toString(start, 'yyyy')#");var X=kendo.template('<div class="#=styles.marquee#"><div class="#=styles.marqueeColor#"></div></div>');var b=kendo.template('<div style="z-index: 100002;" class="#=styles.tooltipWrapper#"><div class="#=styles.tooltipContent#"><div>#=messages.start#: #=kendo.toString(start, format)#</div><div>#=messages.end#: #=kendo.toString(end, format)#</div></div></div>');var G=kendo.template('<div style="z-index: 100002;" class="#=styles.tooltipWrapper#" ><div class="#=styles.tooltipContent#">#=text#%</div><div class="#=styles.tooltipCallout#" style="left:13px;"></div></div>');var g=kendo.template('<div class="#=styles.taskDetails#"><strong>#=task.title#</strong><div class="#=styles.taskDetailsPercent#">#=kendo.toString(task.percentComplete, "p0")#</div><ul class="#=styles.reset#"><li>#=messages.start#: #=kendo.toString(task.start, "h:mm tt ddd, MMM d")#</li><li>#=messages.end#: #=kendo.toString(task.end, "h:mm tt ddd, MMM d")#</li></ul></div>');var U={day:{type:"kendo.ui.GanttDayView"},week:{type:"kendo.ui.GanttWeekView"},month:{type:"kendo.ui.GanttMonthView"},year:{type:"kendo.ui.GanttYearView"}};function e(m){delete m.name;delete m.prefix;delete m.views;return m}function F(m){var o=[];var n=m.workWeekStart;o.push(n);while(m.workWeekEnd!=n){if(n>6){n-=7}else{n++}o.push(n)}return o}function J(){var m=kendo._activeElement();if(m.nodeName.toLowerCase()!=="body"){T(m).blur()}}var f={alt:"k-alt",reset:"k-reset",nonWorking:"k-nonwork-hour",header:"k-header",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",tasksWrapper:"k-gantt-tables",rowsTable:"k-gantt-rows",columnsTable:"k-gantt-columns",tasksTable:"k-gantt-tasks",dependenciesWrapper:"k-gantt-dependencies",resource:"k-resource",resourceAlt:"k-resource k-alt",task:"k-task",taskSingle:"k-task-single",taskMilestone:"k-task-milestone",taskSummary:"k-task-summary",taskWrap:"k-task-wrap",taskMilestoneWrap:"k-milestone-wrap",resourcesWrap:"k-resources-wrap",taskDot:"k-task-dot",taskDotStart:"k-task-start",taskDotEnd:"k-task-end",taskDragHandle:"k-task-draghandle",taskContent:"k-task-content",taskTemplate:"k-task-template",taskActions:"k-task-actions",taskDelete:"k-task-delete",taskComplete:"k-task-complete",taskDetails:"k-task-details",taskDetailsPercent:"k-task-pct",link:"k-link",icon:"k-icon",iconDelete:"k-si-close",taskResizeHandle:"k-resize-handle",taskResizeHandleWest:"k-resize-w",taskResizeHandleEast:"k-resize-e",taskSummaryProgress:"k-task-summary-progress",taskSummaryComplete:"k-task-summary-complete",line:"k-line",lineHorizontal:"k-line-h",lineVertical:"k-line-v",arrowWest:"k-arrow-w",arrowEast:"k-arrow-e",dragHint:"k-drag-hint",dependencyHint:"k-dependency-hint",tooltipWrapper:"k-widget k-tooltip k-popup k-group k-reset",tooltipContent:"k-tooltip-content",tooltipCallout:"k-callout k-callout-s",callout:"k-callout",marquee:"k-marquee k-gantt-marquee",marqueeColor:"k-marquee-color"};var M=kendo.ui.GanttView=I.extend({init:function(n,m){I.fn.init.call(this,n,m);this.title=this.options.title||this.options.name;this.header=this.element.find(P+M.styles.gridHeader);this.content=this.element.find(P+M.styles.gridContent);this.contentWidth=this.content.width();this._workDays=F(this.options);this._headerTree=m.headerTree;this._taskTree=m.taskTree;this._dependencyTree=m.dependencyTree;this._taskCoordinates={};this._currentTime()},destroy:function(){I.fn.destroy.call(this);clearTimeout(this._tooltipTimeout);this.headerRow=null;this.header=null;this.content=null;this._dragHint=null;this._resizeHint=null;this._resizeTooltip=null;this._taskTooltip=null;this._percentCompleteResizeTooltip=null;this._headerTree=null;this._taskTree=null;this._dependencyTree=null},options:{showWorkHours:false,showWorkDays:false,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,hourSpan:1,slotSize:100,currentTimeMarker:{updateInterval:10000}},renderLayout:function(){this._slots=this._createSlots();this._tableWidth=this._calculateTableWidth();this.createLayout(this._layout());this._slotDimensions();this._adjustHeight();this.content.find(P+M.styles.dependenciesWrapper).width(this._tableWidth)},_adjustHeight:function(){this.content.height(this.element.height()-this.header.outerHeight())},createLayout:function(q){var m=this._headers(q);var o=this._colgroup();var n=this._headerTree;var r=S("thead",null,m);var p=S("table",{style:{width:this._tableWidth+"px"}},[o,r]);n.render([p]);this.headerRow=this.header.find("table:first tr").last()},_slotDimensions:function(){var m=this.headerRow[0].children;var r=this._timeSlots();var o;var q;for(var n=0,p=m.length;n<p;n++){q=m[n];o=r[n];o.offsetLeft=q.offsetLeft;o.offsetWidth=q.offsetWidth}},render:function(q){var s=q.length;var n=M.styles;var p;var o=this._rowsTable(s);var t=this._columnsTable(s);var r=this._tasksTable(q);var m=this.options.currentTimeMarker;this._taskTree.render([o,t,r]);p=this.content.find(P+n.rowsTable);this._contentHeight=p.height();this._rowHeight=this._contentHeight/p.find("tr").length;this.content.find(P+n.columnsTable).height(this._contentHeight);if(m!==false&&m.updateInterval!==undefined){this._renderCurrentTime()}},_rowsTable:function(o){var p=[];var n;var q=M.styles;var r=[null,{className:q.alt}];for(var m=0;m<o;m++){n=S("tr",r[m%2],[S("td",null,[d("\u00a0")])]);p.push(n)}return this._createTable(1,p,{className:q.rowsTable})},_columnsTable:function(w){var t=[];var r;var n=M.styles;var s=this._timeSlots();var o=s.length;var v;var u;var m=0;var p;for(var q=0;q<o;q++){v=s[q];p={};u=v.span;m+=u;if(u!==1){p.colspan=u}if(v.isNonWorking){p.className=n.nonWorking}t.push(S("td",p,[d("\u00a0")]))}r=S("tr",null,t);return this._createTable(m,[r],{className:n.columnsTable})},_tasksTable:function(u){var Ac=[];var Ae;var x;var Ab;var t;var z=M.styles;var y=this._taskCoordinates={};var q=this._calculateMilestoneWidth();var n=Math.round(q.width);var o=this.options.resourcesField;var w=[z.resource,z.resourceAlt];var v;var Aa=this._calculateResourcesMargin();var r=this._calculateTaskBorderWidth();var p;var m=function(Af){var Ag;var Ah;Ag=Ab.left;Ah=Ag+Ab.width;if(t.isMilestone()){Ag-=n/2;Ah=Ag+n}y[t.id]={start:Ag,end:Ah,rowIndex:Af}};for(var s=0,Ad=u.length;s<Ad;s++){t=u[s];Ab=this._taskPosition(t);Ab.borderWidth=r;Ae=S("tr",null);x=S("td",null,[this._renderTask(u[s],Ab)]);if(t[o]&&t[o].length){if(c){v=this._tableWidth-Ab.left}else{v=Math.max((Ab.width||q.clientWidth),0)+Ab.left}p={width:(this._tableWidth-(v+Aa))+"px"};p[c?"right":"left"]=v+"px";x.children.push(S("div",{className:z.resourcesWrap,style:p},this._renderResources(t[o],w[s%2])))}Ae.children.push(x);Ac.push(Ae);m(s)}return this._createTable(1,Ac,{className:M.styles.tasksTable})},_createTable:function(s,p,q){var n=[];var o;var r;for(var m=0;m<s;m++){n.push(S("col"))}o=S("colgroup",null,n);r=S("tbody",null,p);if(!q.style){q.style={}}q.style.width=this._tableWidth+"px";return S("table",q,[o,r])},_calculateTableWidth:function(){var r=this._timeSlots();var n=0;var q=0;var s;var p;for(var m=0,o=r.length;m<o;m++){s=r[m].span;q+=s;if(s>n){n=s}}p=Math.round((q*this.options.slotSize)/n);return p},_calculateMilestoneWidth:function(){var m;var n=M.styles.task+" "+M.styles.taskMilestone;var p=T("<div class='"+n+"' style='visibility: hidden; position: absolute'>");var o;this.content.append(p);o=p[0].getBoundingClientRect();m={"width":o.right-o.left,"clientWidth":p[0].clientWidth};p.remove();return m},_calculateResourcesMargin:function(){var m;var n=T("<div class='"+M.styles.resourcesWrap+"' style='visibility: hidden; position: absolute'>");this.content.append(n);m=parseInt(n.css(c?"margin-right":"margin-left"),10);n.remove();return m},_calculateTaskBorderWidth:function(){var p;var m=M.styles.task+" "+M.styles.taskSingle;var n=T("<div class='"+m+"' style='visibility: hidden; position: absolute'>");var o;this.content.append(n);o=kendo.getComputedStyles(n[0],["border-left-width"]);p=parseFloat(o["border-left-width"],10);n.remove();return p},_renderTask:function(p,t){var u;var o;var n=this.options.editable;var q;var v=t.left;var m=M.styles;var s=m.taskWrap;var r={};if(p.summary){o=this._renderSummary(p,t)}else{if(p.isMilestone()){o=this._renderMilestone(p,t);s+=" "+m.taskMilestoneWrap}else{o=this._renderSingleTask(p,t)}}u=S("div",{className:s,style:{left:v+"px"}},[o]);if(n){u.children.push(S("div",{className:m.taskDot+" "+m.taskDotStart}));u.children.push(S("div",{className:m.taskDot+" "+m.taskDotEnd}))}if(!p.summary&&!p.isMilestone()&&n){q=Math.round(t.width*p.percentComplete);r[c?"right":"left"]=q+"px";u.children.push(S("div",{className:m.taskDragHandle,style:r}))}return u},_renderSingleTask:function(q,n){var o=M.styles;var p=Math.round(n.width*q.percentComplete);var m=S("div",{className:o.taskContent},[S("div",{className:o.taskTemplate},[d(q.title)])]);if(this.options.editable){m.children.push(S("span",{className:o.taskActions},[S("a",{className:o.link+" "+o.taskDelete,href:"#"},[S("span",{className:o.icon+" "+o.iconDelete})])]));m.children.push(S("span",{className:o.taskResizeHandle+" "+o.taskResizeHandleWest}));m.children.push(S("span",{className:o.taskResizeHandle+" "+o.taskResizeHandleEast}))}var r=S("div",{className:o.task+" "+o.taskSingle,"data-uid":q.uid,style:{width:Math.max((n.width-n.borderWidth*2),0)+"px"}},[S("div",{className:o.taskComplete,style:{width:p+"px"}}),m]);return r},_renderMilestone:function(p,n){var o=M.styles;var m=S("div",{className:o.task+" "+o.taskMilestone,"data-uid":p.uid});return m},_renderSummary:function(q,n){var o=M.styles;var p=Math.round(n.width*q.percentComplete);var m=S("div",{className:o.task+" "+o.taskSummary,"data-uid":q.uid,style:{width:n.width+"px"}},[S("div",{className:o.taskSummaryProgress,style:{width:p+"px"}},[S("div",{className:o.taskSummaryComplete,style:{width:n.width+"px"}})])]);return m},_renderResources:function(p,m){var r=[];var q;for(var n=0,o=p.length;n<o;n++){q=p[n];r.push(S("span",{className:m,style:{"color":q.get("color")}},[d(q.get("name"))]))}if(c){r.reverse()}return r},_taskPosition:function(o){var n=Math.round;var m=n(this._offset(c?o.end:o.start));var p=n(this._offset(c?o.start:o.end));return{left:m,width:p-m}},_offset:function(s){var r=this._timeSlots();var o;var m;var q;var n=0;var p;if(!r.length){return 0}p=this._slotIndex("start",s);o=r[p];if(o.end<s){n=o.offsetWidth}else{if(o.start<=s){m=s-o.start;q=o.end-o.start;n=(m/q)*o.offsetWidth}}if(c){n=(o.offsetWidth+1)-n}return o.offsetLeft+n},_slotIndex:function(q,m,n){var r=this._timeSlots();var s=0;var o=r.length-1;var p;if(n){r=[].slice.call(r).reverse()}do{p=Math.ceil((o+s)/2);if(r[p][q]<m){s=p}else{if(p===o){p--}o=p}}while(s!==o);if(n){s=(r.length-1)-s}return s},_timeByPosition:function(p,r,m){var n=this._slotByPosition(p);if(r){return m?n.end:n.start}var o=p-T(P+M.styles.tasksTable).offset().left;var s=n.end-n.start;var q=o-n.offsetLeft;if(c){q=n.offsetWidth-q}return new Date(n.start.getTime()+(s*(q/n.offsetWidth)))},_slotByPosition:function(n){var m=n-T(P+M.styles.tasksTable).offset().left;var o=this._slotIndex("offsetLeft",m,c);return this._timeSlots()[o]},_renderDependencies:function(o){var q=[];var m=this._dependencyTree;for(var n=0,p=o.length;n<p;n++){q.push.apply(q,this._renderDependency(o[n]))}m.render(q)},_renderDependency:function(p){var s=this._taskCoordinates[p.predecessorId];var m=this._taskCoordinates[p.successorId];var o;var r;if(!s||!m){return[]}r="_render"+["FF","FS","SF","SS"][c?3-p.type:p.type];o=this[r](s,m);for(var n=0,q=o.length;n<q;n++){o[n].attr["data-uid"]=p.uid}return o},_renderFF:function(m,n){var o=this._dependencyFF(m,n,false);o[o.length-1].children[0]=this._arrow(true);return o},_renderSS:function(m,n){var o=this._dependencyFF(n,m,true);o[0].children[0]=this._arrow(false);return o.reverse()},_renderFS:function(m,n){var o=this._dependencyFS(m,n,false);o[o.length-1].children[0]=this._arrow(false);return o},_renderSF:function(m,n){var o=this._dependencyFS(n,m,true);o[0].children[0]=this._arrow(true);return o.reverse()},_dependencyFF:function(t,m,w){var Ac=this;var u=[];var z=0;var y=0;var v=0;var Ad=0;var q=w?"start":"end";var s;var r=2;var Aa=1;var o=this._rowHeight;var Ab=10;var p=t.rowIndex*o+Math.floor(o/2)-1;var n=m.rowIndex*o+Math.floor(o/2)-1;var x=M.styles;var Af=function(){u.push(Ac._line(x.line+" "+x.lineHorizontal,{left:z+"px",top:y+"px",width:v+"px"}))};var Ae=function(){u.push(Ac._line(x.line+" "+x.lineVertical,{left:z+"px",top:y+"px",height:Ad+"px"}))};z=t[q];y=p;v=Ab;s=m[q]-t[q];if((s)>0!==w){v=Math.abs(s)+Ab}if(w){z-=v;v-=Aa;Af()}else{Af();z+=v-r}if(n<y){Ad=y-n;Ad+=r;y=n;Ae()}else{Ad=n-y;Ad+=r;Ae();y+=(Ad-r)}v=Math.abs(z-m[q]);if(!w){v-=Aa;z-=v}Af();return u},_dependencyFS:function(u,m,q){var Ad=this;var w=[];var Aa=0;var z=0;var x=0;var Ae=0;var o=this._rowHeight;var p=Math.floor(o/2);var Ac=10;var v=2*Ac;var s=m.start-u.end;var r=2;var Ab=1;var y=u.rowIndex*o+Math.floor(o/2)-1;var n=m.rowIndex*o+Math.floor(o/2)-1;var Af=M.styles;var Ag=function(){w.push(Ad._line(Af.line+" "+Af.lineHorizontal,{left:Aa+"px",top:z+"px",width:x+"px"}))};var t=function(){w.push(Ad._line(Af.line+" "+Af.lineVertical,{left:Aa+"px",top:z+"px",height:Ae+"px"}))};Aa=u.end;z=y;x=Ac;if(q){Aa+=Ab;if(s>v){x=s-(Ac-r)}x-=Ab}Ag();Aa+=x-r;if((s)<=v){Ae=q?Math.abs(n-y)-p:p;if(n<y){z-=Ae;Ae+=r;t()}else{t();z+=Ae}x=(u.end-m.start)+v;if(x<Ac){x=Ac}Aa-=x-r;Ag()}if(n<y){Ae=z-n;z=n;Ae+=r;t()}else{Ae=n-z;t();z+=Ae}x=m.start-Aa;if(!q){x-=Ab}Ag();return w},_line:function(m,n){return S("div",{className:m,style:n})},_arrow:function(m){return S("span",{className:m?M.styles.arrowWest:M.styles.arrowEast})},_colgroup:function(){var q=this._timeSlots();var o=q.length;var r=[];for(var n=0;n<o;n++){for(var m=0,p=q[n].span;m<p;m++){r.push(S("col"))}}return S("colgroup",null,r)},_createDragHint:function(m){this._dragHint=m.clone().addClass(M.styles.dragHint).css("cursor","move");m.parent().append(this._dragHint)},_updateDragHint:function(n){var m=this._offset(n);this._dragHint.css({"left":m})},_removeDragHint:function(){this._dragHint.remove();this._dragHint=null},_createResizeHint:function(r){var p=M.styles;var n=this._taskCoordinates[r.id].rowIndex*this._rowHeight;var q;var s;var o=this.options;var m=o.messages;this._resizeHint=T(X({styles:p})).css({"top":0,"height":this._contentHeight});this.content.append(this._resizeHint);this._resizeTooltip=T(b({styles:p,start:r.start,end:r.end,messages:m.views,format:o.resizeTooltipFormat})).css({"top":0,"left":0});this.content.append(this._resizeTooltip);this._resizeTooltipWidth=this._resizeTooltip.outerWidth();q=this._resizeTooltip.outerHeight();s=n-q;if(s<0){s=n+this._rowHeight}this._resizeTooltipTop=s},_updateResizeHint:function(m,n,v){var p=this._offset(c?n:m);var w=this._offset(c?m:n);var t=w-p;var s=(v!==c)?p:w;var o=this._tableWidth-kendo.support.scrollbar();var u=this._resizeTooltipWidth;var r=this.options;var x=r.messages;var q=T(P+M.styles.tasksTable).offset().left-T(P+M.styles.tasksWrapper).offset().left;if(c){p+=q}this._resizeHint.css({"left":p,"width":t});if(this._resizeTooltip){this._resizeTooltip.remove()}s-=Math.round(u/2);if(s<0){s=0}else{if(s+u>o){s=o-u}}if(c){s+=q}this._resizeTooltip=T(b({styles:M.styles,start:m,end:n,messages:x.views,format:r.resizeTooltipFormat})).css({"top":this._resizeTooltipTop,"left":s,"min-width":u}).appendTo(this.content)},_removeResizeHint:function(){this._resizeHint.remove();this._resizeHint=null;this._resizeTooltip.remove();this._resizeTooltip=null},_updatePercentCompleteTooltip:function(p,o,r){this._removePercentCompleteTooltip();var q=this._percentCompleteResizeTooltip=T(G({styles:M.styles,text:r})).appendTo(this.element);var m=Math.round(q.outerWidth()/2);var s=q.find(P+M.styles.callout);var n=Math.round(s.outerWidth()/2);q.css({"top":p-(q.outerHeight()+n),"left":o-m});s.css("left",m-n)},_removePercentCompleteTooltip:function(){if(this._percentCompleteResizeTooltip){this._percentCompleteResizeTooltip.remove()}this._percentCompleteResizeTooltip=null},_updateDependencyDragHint:function(m,n,o){this._removeDependencyDragHint();if(o){this._creteVmlDependencyDragHint(m,n)}else{this._creteDependencyDragHint(m,n)}},_creteDependencyDragHint:function(m,n){var p=M.styles;var q=n.x-m.x;var o=n.y-m.y;var r=Math.sqrt(q*q+o*o);var s=Math.atan(o/q);if(q<0){s+=Math.PI}T("<div class='"+p.line+" "+p.lineHorizontal+" "+p.dependencyHint+"'></div>").css({"top":m.y,"left":m.x,"width":r,"transform-origin":"0% 0","-ms-transform-origin":"0% 0","-webkit-transform-origin":"0% 0","transform":"rotate("+s+"rad)","-ms-transform":"rotate("+s+"rad)","-webkit-transform":"rotate("+s+"rad)"}).appendTo(this.content)},_creteVmlDependencyDragHint:function(n,o){var m=T("<kvml:line class='"+M.styles.dependencyHint+"' style='position:absolute; top: 0px; left: 0px;' strokecolor='black' strokeweight='2px' from='"+n.x+"px,"+n.y+"px' to='"+o.x+"px,"+o.y+"px'></kvml:line>").appendTo(this.content);m[0].outerHTML=m[0].outerHTML},_removeDependencyDragHint:function(){this.content.find(P+M.styles.dependencyHint).remove()},_createTaskTooltip:function(s,o,Aa){var q=M.styles;var x=this.options;var Ab=this.content;var p=Ab.offset();var y=Ab.width();var r=Ab.scrollLeft();var w=T(o).parents("tr").first();var n=w.offset();var t=(x.tooltip&&x.tooltip.template)?kendo.template(x.tooltip.template):g;var v=Aa-(p.left-Ab.scrollLeft());var u=(n.top+w.outerHeight()-p.top)+Ab.scrollTop();var m=this._taskTooltip=T('<div style="z-index: 100002;" class="'+q.tooltipWrapper+'" ><div class="'+q.taskContent+'"></div></div>');var z;m.css({"left":v,"top":u}).appendTo(Ab).find(P+q.taskContent).append(t({styles:q,task:s,messages:x.messages.views}));if(m.outerHeight()<n.top-p.top){m.css("top",((n.top-p.top)-m.outerHeight())+Ab.scrollTop())}z=m.outerWidth();if((z+v)-r>y){v-=z;if(v<r){v=(r+y)-(z+17)}m.css("left",v)}},_removeTaskTooltip:function(){if(this._taskTooltip){this._taskTooltip.remove()}this._taskTooltip=null},_scrollTo:function(y){var n=y.offset().left;var o=y.width();var v=n+o;var Ac=y.closest("tr");var m=Ac.offset().top;var p=Ac.height();var s=m+p;var t=this.content;var r=t.offset();var u=r.top;var q=t.height();var Ab=u+q;var x=r.left;var z=t.width();var Aa=x+z;var w=kendo.support.scrollbar();if(m<u){t.scrollTop(t.scrollTop()+(m-u))}else{if(s>Ab){t.scrollTop(t.scrollTop()+(s+w-Ab))}}if(n<x&&o>z&&v<Aa||v>Aa&&o<z){t.scrollLeft(t.scrollLeft()+(v+w-Aa))}else{if(v>Aa&&o>z&&n>x||n<x&&o<z){t.scrollLeft(t.scrollLeft()+(n-x))}}},_timeSlots:function(){if(!this._slots||!this._slots.length){return[]}return this._slots[this._slots.length-1]},_headers:function(w){var m=[];var u;var q;var o;var s;var p=M.styles;for(var t=0,n=w.length;t<n;t++){u=w[t];q=[];for(var v=0,r=u.length;v<r;v++){o=u[v];s=d(o.text);q.push(S("th",{colspan:o.span,className:p.header+(o.isNonWorking?(" "+p.nonWorking):"")},[s]))}m.push(S("tr",null,q))}return m},_hours:function(o,p){var u;var t=[];var s=this.options;var q=s.workDayStart.getHours();var v=s.workDayEnd.getHours();var m;var n;var r=s.hourSpan;o=new Date(o);p=new Date(p);while(o<p){u=new Date(o);n=u.getHours();m=n>=q&&n<v;u.setHours(u.getHours()+r);if(n==u.getHours()){u.setHours(u.getHours()+2*r)}if(!s.showWorkHours||m){t.push({start:o,end:u,isNonWorking:!m,span:1})}o=u}return t},_days:function(q,p){var o;var n=[];var m;q=new Date(q);p=new Date(p);while(q<p){o=kendo.date.nextDay(q);m=this._isWorkDay(q);if(!this.options.showWorkDays||m){n.push({start:q,end:o,isNonWorking:!m,span:1})}q=o}return n},_weeks:function(r,q){var p;var o=[];var s=this.calendarInfo().firstDay;var n;var m;r=new Date(r);q=new Date(q);while(r<q){p=kendo.date.dayOfWeek(kendo.date.addDays(r,1),s,1);if(p>q){p=q}n=this._days(r,p);m=n.length;if(m>0){o.push({start:n[0].start,end:n[m-1].end,span:m})}r=p}return o},_months:function(r,q){var p;var o=[];var n;var m;r=new Date(r);q=new Date(q);while(r<q){p=new Date(r);p.setMonth(p.getMonth()+1);n=this._days(r,p);m=n.length;if(m>0){o.push({start:n[0].start,end:n[m-1].end,span:m})}r=p}return o},_years:function(p,o){var n;var m=[];p=new Date(p);o=new Date(o);while(p<o){n=new Date(p);n.setFullYear(n.getFullYear()+1);m.push({start:p,end:n,span:12});p=n}return m},_slotHeaders:function(q,p){var r=[];var n;for(var m=0,o=q.length;m<o;m++){n=q[m];r.push({text:p(n),isNonWorking:!!n.isNonWorking,span:n.span})}return r},_isWorkDay:function(p){var n=p.getDay();var q=this._workDays;for(var m=0,o=q.length;m<o;m++){if(q[m]===n){return true}}return false},calendarInfo:function(){return kendo.getCulture().calendars.standard},_renderCurrentTime:function(){var p=this._getCurrentTime();var o=this._offset(p);var r=T("<div class='k-current-time'></div>");var m=M.styles;var s=T(P+m.tasksWrapper);var q=T(P+m.tasksTable);var n;if(!this.content||!this._timeSlots().length){return}this.content.find(".k-current-time").remove();n=this._timeSlots()[this._slotIndex("start",p)];if(p<n.start||p>n.end){return}if(s.length&&q.length){o+=q.offset().left-s.offset().left}r.css({left:o+"px",top:"0px",width:"1px",height:this._contentHeight+"px"}).appendTo(this.content)},_getCurrentTime:function(){return new Date()},_currentTime:function(){var m=this.options.currentTimeMarker;if(m!==false&&m.updateInterval!==undefined){this._renderCurrentTime();this._currentTimeUpdateTimer=setInterval(l(this._renderCurrentTime,this),m.updateInterval)}}});h(true,M,{styles:f});kendo.ui.GanttDayView=M.extend({name:"day",options:{timeHeaderTemplate:L,dayHeaderTemplate:D,resizeTooltipFormat:"h:mm tt ddd, MMM d"},range:function(m){this.start=kendo.date.getDate(m.start);this.end=kendo.date.getDate(m.end);if(kendo.date.getMilliseconds(m.end)>0||this.end.getTime()===this.start.getTime()){this.end=kendo.date.addDays(this.end,1)}},_createSlots:function(){var o;var r;var m;var p;var s=[];o=this._days(this.start,this.end);m=[];for(var n=0,q=o.length;n<q;n++){r=o[n];p=this._hours(r.start,r.end);r.span=p.length;m.push.apply(m,p)}s.push(o);s.push(m);return s},_layout:function(){var n=[];var m=this.options;n.push(this._slotHeaders(this._slots[0],kendo.template(m.dayHeaderTemplate)));n.push(this._slotHeaders(this._slots[1],kendo.template(m.timeHeaderTemplate)));return n}});kendo.ui.GanttWeekView=M.extend({name:"week",options:{dayHeaderTemplate:D,weekHeaderTemplate:k,resizeTooltipFormat:"h:mm tt ddd, MMM d"},range:function(p){var o=this.calendarInfo();var n=o.firstDay;var m=p.end;if(n===m.getDay()){m.setDate(m.getDate()+7)}this.start=kendo.date.getDate(kendo.date.dayOfWeek(p.start,n,-1));this.end=kendo.date.getDate(kendo.date.dayOfWeek(m,n,1))},_createSlots:function(){var m=[];m.push(this._weeks(this.start,this.end));m.push(this._days(this.start,this.end));return m},_layout:function(){var n=[];var m=this.options;n.push(this._slotHeaders(this._slots[0],kendo.template(m.weekHeaderTemplate)));n.push(this._slotHeaders(this._slots[1],kendo.template(m.dayHeaderTemplate)));return n}});kendo.ui.GanttMonthView=M.extend({name:"month",options:{weekHeaderTemplate:k,monthHeaderTemplate:a,resizeTooltipFormat:"dddd, MMM d, yyyy"},range:function(m){this.start=kendo.date.firstDayOfMonth(m.start);this.end=kendo.date.addDays(kendo.date.getDate(kendo.date.lastDayOfMonth(m.end)),1)},_createSlots:function(){var m=[];m.push(this._months(this.start,this.end));m.push(this._weeks(this.start,this.end));return m},_layout:function(){var n=[];var m=this.options;n.push(this._slotHeaders(this._slots[0],kendo.template(m.monthHeaderTemplate)));n.push(this._slotHeaders(this._slots[1],kendo.template(m.weekHeaderTemplate)));return n}});kendo.ui.GanttYearView=M.extend({name:"year",options:{yearHeaderTemplate:H,monthHeaderTemplate:a,resizeTooltipFormat:"dddd, MMM d, yyyy"},range:function(m){this.start=kendo.date.firstDayOfMonth(new Date(m.start.setMonth(0)));this.end=kendo.date.firstDayOfMonth(new Date(m.end.setMonth(12)))},_createSlots:function(){var n=[];var m=this._months(this.start,this.end);T(m).each(function(p,o){o.span=1});n.push(this._years(this.start,this.end));n.push(m);return n},_layout:function(){var n=[];var m=this.options;n.push(this._slotHeaders(this._slots[0],kendo.template(m.yearHeaderTemplate)));n.push(this._slotHeaders(this._slots[1],kendo.template(m.monthHeaderTemplate)));return n}});var Z={wrapper:"k-timeline k-grid k-widget",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",tasksWrapper:"k-gantt-tables",dependenciesWrapper:"k-gantt-dependencies",task:"k-task",line:"k-line",taskResizeHandle:"k-resize-handle",taskResizeHandleWest:"k-resize-w",taskDragHandle:"k-task-draghandle",taskComplete:"k-task-complete",taskDelete:"k-task-delete",taskWrapActive:"k-task-wrap-active",taskWrap:"k-task-wrap",taskDot:"k-task-dot",taskDotStart:"k-task-start",taskDotEnd:"k-task-end",hovered:"k-state-hover",selected:"k-state-selected",origin:"k-origin"};var W=kendo.ui.GanttTimeline=I.extend({init:function(n,m){I.fn.init.call(this,n,m);if(!this.options.views||!this.options.views.length){this.options.views=["day","week","month"]}c=kendo.support.isRtl(n);this._wrapper();this._domTrees();this._views();this._selectable();this._draggable();this._resizable();this._percentResizeDraggable();this._createDependencyDraggable();this._attachEvents();this._tooltip()},options:{name:"GanttTimeline",messages:{views:{day:"Day",week:"Week",month:"Month",year:"Year",start:"Start",end:"End"}},snap:true,selectable:true,editable:true},destroy:function(){I.fn.destroy.call(this);clearTimeout(this._tooltipTimeout);if(this._currentTimeUpdateTimer){clearInterval(this._currentTimeUpdateTimer)}this._unbindView(this._selectedView);if(this._moveDraggable){this._moveDraggable.destroy()}if(this._resizeDraggable){this._resizeDraggable.destroy()}if(this._percentDraggable){this._percentDraggable.destroy()}if(this._dependencyDraggable){this._dependencyDraggable.destroy()}if(this.touch){this.touch.destroy()}this._headerTree=null;this._taskTree=null;this._dependencyTree=null;this.wrapper.off(j);kendo.destroy(this.wrapper)},_wrapper:function(){var m=W.styles;this.wrapper=this.element.addClass(m.wrapper).append("<div class='"+m.gridHeader+"'><div class='"+m.gridHeaderWrap+"'></div></div>").append("<div class='"+m.gridContentWrap+"'><div class='"+m.tasksWrapper+"'></div><div class='"+m.dependenciesWrapper+"'></div></div>")},_domTrees:function(){var o=W.styles;var m=kendo.dom.Tree;var n=this.wrapper;this._headerTree=new m(n.find(P+o.gridHeaderWrap)[0]);this._taskTree=new m(n.find(P+o.tasksWrapper)[0]);this._dependencyTree=new m(n.find(P+o.dependenciesWrapper)[0])},_views:function(){var o=this.options.views;var m;var r;var n;var s;var q;this.views={};for(var p=0,t=o.length;p<t;p++){m=o[p];r=O(m);if(r&&m.selectable===false){continue}n=r?((typeof m.type!=="string")?m.title:m.type):m;s=U[n];if(s){if(r){m.type=s.type}s.title=this.options.messages.views[n]}m=h({title:n},s,r?m:{});if(n){this.views[n]=m;if(!q||m.selected){q=n}}}if(q){this._selectedViewName=q}},view:function(m){if(m){this._selectView(m);this.trigger("navigate",{view:m,action:"changeView"})}return this._selectedView},_selectView:function(m){if(m&&this.views[m]){if(this._selectedView){this._unbindView(this._selectedView)}this._selectedView=this._initializeView(m);this._selectedViewName=m}},_viewByIndex:function(o){var n;var m=this.views;for(n in m){if(!o){return n}o--}},_initializeView:function(n){var o=this.views[n];if(o){var m=o.type;if(typeof m==="string"){m=kendo.getter(o.type)(window)}if(m){o=new m(this.wrapper,e(h(true,{headerTree:this._headerTree,taskTree:this._taskTree,dependencyTree:this._dependencyTree},o,this.options)))}else{throw new Error("There is no such view")}}return o},_unbindView:function(m){if(m){m.destroy()}},_range:function(m){var o={field:"start",dir:"asc"};var n={field:"end",dir:"desc"};if(!m||!m.length){return{start:new Date(),end:new Date()}}var q=new E(m).sort(o).toArray()[0].start||new Date();var p=new E(m).sort(n).toArray()[0].end||new Date();return{start:new Date(q),end:new Date(p)}},_render:function(m){var n=this.view();var o=this._range(m);this._tasks=m;n.range(o);n.renderLayout();n.render(m)},_renderDependencies:function(m){this.view()._renderDependencies(m)},_taskByUid:function(p){var n=this._tasks;var m=n.length;var q;for(var o=0;o<m;o++){q=n[o];if(q.uid===p){return q}}},_draggable:function(){var p=this;var m;var o;var q;var t;var r=this.options.snap;var n=W.styles;var s=function(){p.view()._removeDragHint();if(m){m.css("opacity",1)}m=null;o=null;p.dragInProgress=false};if(!this.options.editable){return}this._moveDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:P+n.task,holdToDrag:kendo.support.mobileOS,ignore:P+n.taskResizeHandle});this._moveDraggable.bind("dragstart",function(u){var v=p.view();m=u.currentTarget.parent();o=p._taskByUid(u.currentTarget.attr("data-uid"));if(p.trigger("moveStart",{task:o})){u.preventDefault();return}q=o.start;t=v._timeByPosition(u.x.location,r)-q;v._createDragHint(m);m.css("opacity",0.5);clearTimeout(p._tooltipTimeout);p.dragInProgress=true}).bind("drag",kendo.throttle(function(u){if(!p.dragInProgress){return}var w=p.view();var x=new Date(w._timeByPosition(u.x.location,r)-t);var v=x;if(!p.trigger("move",{task:o,start:x})){q=x;if(c){v=new Date(q.getTime()+o.duration())}w._updateDragHint(v)}},15)).bind("dragend",function(u){p.trigger("moveEnd",{task:o,start:q});s()}).bind("dragcancel",function(u){s()}).userEvents.bind("select",function(u){J()})},_resizable:function(){var q=this;var m;var o;var r;var s;var p;var t=this.options.snap;var n=W.styles;var u=function(){q.view()._removeResizeHint();m=null;o=null;q.dragInProgress=false};if(!this.options.editable){return}this._resizeDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:P+n.taskResizeHandle,holdToDrag:false});this._resizeDraggable.bind("dragstart",function(v){p=v.currentTarget.hasClass(n.taskResizeHandleWest);if(c){p=!p}m=v.currentTarget.closest(P+n.task);o=q._taskByUid(m.attr("data-uid"));if(q.trigger("resizeStart",{task:o})){v.preventDefault();return}r=o.start;s=o.end;q.view()._createResizeHint(o);clearTimeout(q._tooltipTimeout);q.dragInProgress=true}).bind("drag",kendo.throttle(function(v){if(!q.dragInProgress){return}var w=q.view();var x=w._timeByPosition(v.x.location,t,!p);if(p){if(x<s){r=x}else{r=s}}else{if(x>r){s=x}else{s=r}}if(!q.trigger("resize",{task:o,start:r,end:s})){w._updateResizeHint(r,s,p)}},15)).bind("dragend",function(v){q.trigger("resizeEnd",{task:o,resizeStart:p,start:r,end:s});u()}).bind("dragcancel",function(v){u()}).userEvents.bind("select",function(v){J()})},_percentResizeDraggable:function(){var t=this;var q;var o;var n;var u;var s;var r;var p;var w;var z;var m=W.styles;var y;var x=function(){t.view()._removePercentCompleteTooltip();o=null;q=null;t.dragInProgress=false};var v=function(Aa){o.find(P+m.taskComplete).width(Aa).end().siblings(P+m.taskDragHandle).css(c?"right":"left",Aa)};if(!this.options.editable){return}this._percentDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:P+m.taskDragHandle,holdToDrag:false});this._percentDraggable.bind("dragstart",function(Aa){o=Aa.currentTarget.siblings(P+m.task);q=t._taskByUid(o.attr("data-uid"));p=q.percentComplete;n=o.offset();u=this.element.offset();s=o.find(P+m.taskComplete).width();r=o.outerWidth();clearTimeout(t._tooltipTimeout);t.dragInProgress=true}).bind("drag",kendo.throttle(function(Aa){if(!t.dragInProgress){return}y=c?-Aa.x.initialDelta:Aa.x.initialDelta;var Ab=Math.max(0,Math.min(r,s+y));p=Math.round((Ab/r)*100);v(Ab);w=n.top-u.top;z=n.left+Ab-u.left;if(c){z+=(r-2*Ab)}t.view()._updatePercentCompleteTooltip(w,z,p)},15)).bind("dragend",function(Aa){t.trigger("percentResizeEnd",{task:q,percentComplete:p/100});x()}).bind("dragcancel",function(Aa){v(s);x()}).userEvents.bind("select",function(Aa){J()})},_createDependencyDraggable:function(){var r=this;var m;var n=T();var p=T();var q;var s;var t=C.msie&&C.version<9;var o=W.styles;var u=function(){m.css("display","").removeClass(o.hovered);m.parent().removeClass(o.origin);m=null;v(false);p=T();n=T();r.view()._removeDependencyDragHint();r.dragInProgress=false};var v=function(w){if(!p.hasClass(o.origin)){p.find(P+o.taskDot).css("display",w?"block":"");n.toggleClass(o.hovered,w)}};if(!this.options.editable){return}if(t&&document.namespaces){document.namespaces.add("kvml","urn:schemas-microsoft-com:vml","#default#VML")}this._dependencyDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:P+o.taskDot,holdToDrag:false});this._dependencyDraggable.bind("dragstart",function(x){m=x.currentTarget.css("display","block").addClass(o.hovered);m.parent().addClass(o.origin);var y=m.offset();var w=T(P+o.tasksWrapper).offset();q=Math.round(y.left-w.left+(m.outerHeight()/2));s=Math.round(y.top-w.top+(m.outerWidth()/2));clearTimeout(r._tooltipTimeout);r.dragInProgress=true}).bind("drag",kendo.throttle(function(x){if(!r.dragInProgress){return}r.view()._removeDependencyDragHint();var Aa=T(kendo.elementUnderCursor(x));var w=T(P+o.tasksWrapper).offset();var z=x.x.location-w.left;var y=x.y.location-w.top;r.view()._updateDependencyDragHint({x:q,y:s},{x:z,y:y},t);v(false);n=(Aa.hasClass(o.taskDot))?Aa:T();p=Aa.closest(P+o.taskWrap);v(true)},15)).bind("dragend",function(x){if(n.length){var y=m.hasClass(o.taskDotStart);var Aa=n.hasClass(o.taskDotStart);var w=y?(Aa?3:2):(Aa?1:0);var Ab=r._taskByUid(m.siblings(P+o.task).attr("data-uid"));var z=r._taskByUid(n.siblings(P+o.task).attr("data-uid"));if(Ab!==z){r.trigger("dependencyDragEnd",{type:w,predecessor:Ab,successor:z})}}u()}).bind("dragcancel",function(w){u()}).userEvents.bind("select",function(w){J()})},_selectable:function(){var m=this;var n=W.styles;if(this.options.selectable){this.wrapper.on(N+j,P+n.task,function(o){o.stopPropagation();if(!o.ctrlKey){m.trigger("select",{uid:T(this).attr("data-uid")})}else{m.trigger("clear")}}).on(N+j,P+n.taskWrap,function(o){o.stopPropagation();T(this).css("z-index","0");var p=T(document.elementFromPoint(o.clientX,o.clientY));if(p.hasClass(n.line)){p.click()}T(this).css("z-index","")}).on(N+j,P+n.tasksWrapper,function(o){if(m.selectDependency().length>0){m.clearSelection()}else{m.trigger("clear")}}).on(N+j,P+n.line,function(o){o.stopPropagation();m.selectDependency(this)})}},select:function(n){var o=this.wrapper.find(n);var m=W.styles;if(o.length){this.clearSelection();o.addClass(m.selected);if(kendo.support.mobileOS){o.parent().addClass(m.taskWrapActive)}return}return this.wrapper.find(P+m.task+P+m.selected)},selectDependency:function(o){var p=this.wrapper.find(o);var m;var n=W.styles;if(p.length){this.clearSelection();this.trigger("clear");m=T(p).attr("data-uid");this.wrapper.find(P+n.line+"[data-uid='"+m+"']").addClass(n.selected);return}return this.wrapper.find(P+n.line+P+n.selected)},clearSelection:function(){var m=W.styles;this.wrapper.find(P+m.selected).removeClass(m.selected);if(kendo.support.mobileOS){this.wrapper.find(P+m.taskWrapActive).removeClass(m.taskWrapActive)}},_attachEvents:function(){var m=this;var n=W.styles;if(this.options.editable){this._tabindex();this.wrapper.on(N+j,P+n.taskDelete,function(o){m.trigger("removeTask",{uid:T(this).closest(P+n.task).attr("data-uid")});o.stopPropagation();o.preventDefault()}).on(B+j,function(p){var o;if(p.keyCode===K.DELETE){o=m.selectDependency();if(o.length){m.trigger("removeDependency",{uid:o.attr("data-uid")});m.clearSelection()}}});if(!A){this.wrapper.on(Q+j,P+n.task,function(o){m.trigger("editTask",{uid:T(this).attr("data-uid")});o.stopPropagation();o.preventDefault()})}else{this.touch=this.wrapper.kendoTouch({filter:P+n.task,doubletap:function(o){m.trigger("editTask",{uid:T(o.touch.currentTarget).attr("data-uid")})}}).data("kendoTouch")}}},_tooltip:function(){var m=this;var q=this.options.tooltip;var o=W.styles;var p;var n=function(r){p=r.clientX};if(q&&q.visible===false){return}this.wrapper.on(R+j,P+o.task,function(r){var t=this;var s=m._taskByUid(T(this).attr("data-uid"));if(m.dragInProgress){return}m._tooltipTimeout=setTimeout(function(){m.view()._createTaskTooltip(s,t,p)},800);T(this).on(V,n)}).on(Y+j,P+o.task,function(r){clearTimeout(m._tooltipTimeout);m.view()._removeTaskTooltip();T(this).off(V,n)})}});h(true,W,{styles:Z})})(window.kendo.jQuery);(function(g,h){var W=window.kendo;var B=W.support.browser;var e=W.Observable;var S=W.ui.Widget;var k=W.data.DataSource;var C=W.data.ObservableObject;var U=W.data.ObservableArray;var G=W.data.Query;var y=g.isArray;var F=g.inArray;var A=W.isFunction;var Ad=g.proxy;var Aa=g.extend;var Y=g.isPlainObject;var v=g.map;var V=W.keys;var Ab=".kendoGantt";var K="p0";var w="tabIndex";var X="click";var o="width";var Ac="string";var P={"down":{origin:"bottom center",position:"top center"},"up":{origin:"top center",position:"bottom center"}};var n="aria-activedescendant";var f="gantt_active_cell";var D="action-option-focused";var Z=".";var t="Are you sure you want to delete this task?";var J="Are you sure you want to delete this dependency?";var N='<button class="#=styles.button# #=className#" #if (action) {#data-action="#=action#"#}#><span class="#=iconClass#"></span>#=text#</button>';var s='<a class="#=className#" #=attr# href="\\#">#=text#</a>';var x=W.template('<ul class="#=styles.viewsWrapper#">#for(var view in views){#<li class="#=styles.viewButtonDefault# #=styles.viewButton#-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a href="\\#" class="#=styles.link#">#=views[view].title#</a></li>#}#</ul>');var E=W.template('<div class="#=styles.popupWrapper#"><ul class="#=styles.popupList#" role="listbox">#for(var i = 0, l = actions.length; i < l; i++){#<li class="#=styles.item#" data-action="#=actions[i].data#" role="option">#=actions[i].text#</span>#}#</ul></div>');var j=function(Af,Ae){var Ah={name:Ae.field};var Ag=Ae.model.fields[Ae.field].validation;if(Ag&&Y(Ag)&&Ag.message){Ah[W.attr("dateCompare-msg")]=Ag.message}g('<input type="text" required '+W.attr("type")+'="date" '+W.attr("role")+'="datetimepicker" '+W.attr("bind")+'="value:'+Ae.field+'" '+W.attr("validate")+"='true' />").attr(Ah).appendTo(Af);g("<span "+W.attr("for")+'="'+Ae.field+'" class="k-invalid-msg"/>').hide().appendTo(Af)};var M=function(Af,Ae){g('<a href="#" class="'+Ae.styles.button+'">'+Ae.messages.assignButton+"</a>").click(Ae.click).appendTo(Af)};var L={wrapper:"k-widget k-gantt",listWrapper:"k-gantt-layout k-gantt-treelist",list:"k-gantt-treelist",timelineWrapper:"k-gantt-layout k-gantt-timeline",timeline:"k-gantt-timeline",splitBarWrapper:"k-splitbar k-state-default k-splitbar-horizontal k-splitbar-draggable-horizontal k-gantt-layout",splitBar:"k-splitbar",splitBarHover:"k-splitbar-horizontal-hover",popupWrapper:"k-list-container",popupList:"k-list k-reset",resizeHandle:"k-resize-handle",icon:"k-icon",item:"k-item",line:"k-line",buttonDelete:"k-gantt-delete",buttonCancel:"k-gantt-cancel",buttonSave:"k-gantt-update",primary:"k-primary",hovered:"k-state-hover",selected:"k-state-selected",focused:"k-state-focused",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",popup:{form:"k-popup-edit-form",editForm:"k-gantt-edit-form",formContainer:"k-edit-form-container",resourcesFormContainer:"k-resources-form-container",message:"k-popup-message",buttonsContainer:"k-edit-buttons k-state-default",button:"k-button",editField:"k-edit-field",editLabel:"k-edit-label",resourcesField:"k-gantt-resources"},toolbar:{headerWrapper:"k-floatwrap k-header k-gantt-toolbar",footerWrapper:"k-floatwrap k-header k-gantt-toolbar",toolbar:"k-gantt-toolbar",views:"k-gantt-views",viewsWrapper:"k-reset k-header k-gantt-views",actions:"k-gantt-actions",button:"k-button k-button-icontext",iconPlus:"k-icon k-i-plus",iconPdf:"k-icon k-i-pdf",viewButtonDefault:"k-state-default",viewButton:"k-view",link:"k-link",pdfButton:"k-gantt-pdf",appendButton:"k-gantt-create"}};function c(Ae){return"["+W.attr("uid")+(Ae?"='"+Ae+"']":"]")}function m(Ae){delete Ae.name;delete Ae.prefix;delete Ae.remove;delete Ae.edit;delete Ae.add;delete Ae.navigate;return Ae}function Q(Ai){if(Ai.filter("[name=end], [name=start]").length){var Aj=Ai.attr("name");var Af=W.widgetInstance(Ai,W.ui);var Ag={};var Ah=Ai;var Ak;var Ae;while(Ah!==window&&!Ak){Ah=Ah.parent();Ak=Ah.data("kendoEditable")}Ae=Ak?Ak.options.model:null;if(!Ae){return true}Ag.start=Ae.start;Ag.end=Ae.end;Ag[Aj]=Af?Af.value():W.parseDate(Ai.value());return Ag.start<=Ag.end}return true}function l(Ai,Ag){var Af=Ai.parents("["+W.attr("role")+'="gantt"]');var Aj=[];var Ae=H(Af);Ai.attr(w,0);if(Ag){Ae.each(function(Ak,Al){Aj[Ak]=g(Al).scrollTop()})}try{Ai[0].setActive()}catch(Ah){Ai[0].focus()}if(Ag){Ae.each(function(Ak,Al){g(Al).scrollTop(Aj[Ak])})}}function H(Ae){return g(Ae).parentsUntil("body").filter(function(Ag,Ah){var Af=W.getComputedStyles(Ah,["overflow"]);return Af.overflow!="visible"}).add(window)}var b={append:{text:"Add Task",action:"add",className:L.toolbar.appendButton,iconClass:L.toolbar.iconPlus},pdf:{text:"Export to PDF",className:L.toolbar.pdfButton,iconClass:L.toolbar.iconPdf}};var d=e.extend({init:function(Af,Ae){e.fn.init.call(this);this.element=Af;this.options=Aa(true,{},this.options,Ae);this._popup()},options:{direction:"down",navigatable:false},_current:function(Ag){var Ah=a.styles;var Af=this.list.find(Z+Ah.focused);var Ae=Af[Ag]();if(Ae.length){Af.removeClass(Ah.focused).removeAttr("id");Ae.addClass(Ah.focused).attr("id",D);this.list.find("ul").removeAttr(n).attr(n,D)}},_popup:function(){var Ae=this;var Ai=a.styles;var Ag="li"+Z+Ai.item;var Ah=this.options.messages.actions;var Af=this.options.navigatable;this.list=g(E({styles:Ai,actions:[{data:"add",text:Ah.addChild},{data:"insert-before",text:Ah.insertBefore},{data:"insert-after",text:Ah.insertAfter}]}));this.element.append(this.list);this.popup=new W.ui.Popup(this.list,Aa({anchor:this.element,open:function(Aj){Ae._adjustListWidth()},animation:this.options.animation},P[this.options.direction]));this.element.on(X+Ab,Z+Ai.toolbar.appendButton,function(Ak){var Al=g(this);var Aj=Al.attr(W.attr("action"));Ak.preventDefault();if(Aj){Ae.trigger("command",{type:Aj})}else{Ae.popup.open();if(Af){Ae.list.find("li:first").addClass(Ai.focused).attr("id",D).end().find("ul").attr({TABINDEX:0,"aria-activedescendant":D}).focus()}}});this.list.find(Ag).hover(function(){g(this).addClass(Ai.hovered)},function(){g(this).removeClass(Ai.hovered)}).end().on(X+Ab,Ag,function(Aj){Ae.trigger("command",{type:g(this).attr(W.attr("action"))});Ae.popup.close()});if(Af){this.popup.bind("close",function(){Ae.list.find(Ag).removeClass(Ai.focused).end().find("ul").attr(w,0);Ae.element.parents("["+W.attr("role")+'="gantt"]').find(Z+Ai.gridContent+" > table:first").focus()});this.list.find("ul").on("keydown"+Ab,function(Ak){var Aj=Ak.keyCode;switch(Aj){case V.UP:Ak.preventDefault();Ae._current("prev");break;case V.DOWN:Ak.preventDefault();Ae._current("next");break;case V.ENTER:Ae.list.find(Z+Ai.focused).click();break;case V.ESC:Ak.preventDefault();Ae.popup.close();break}})}},_adjustListWidth:function(){var Ah=this.list;var Ai=Ah[0].style.width;var Ae=this.element;var Af;var Ag;if(!Ah.data(o)&&Ai){return}Af=window.getComputedStyle?window.getComputedStyle(Ae[0],null):0;Ag=Af?parseFloat(Af.width):Ae.outerWidth();if(Af&&(B.mozilla||B.msie)){Ag+=parseFloat(Af.paddingLeft)+parseFloat(Af.paddingRight)+parseFloat(Af.borderLeftWidth)+parseFloat(Af.borderRightWidth)}if(Ah.css("box-sizing")!=="border-box"){Ai=Ag-(Ah.outerWidth()-Ah.width())}else{Ai=Ag}Ah.css({fontFamily:Ae.css("font-family"),width:Ai}).data(o,Ai)},destroy:function(){clearTimeout(this._focusTimeout);this.popup.destroy();this.element.off(Ab);this.list.off(Ab);this.unbind()}});var z=function(Ae,Af){return function(Ah){Ah=y(Ag)?{data:Ah}:Ah;var Ag=Ah||{};var Ai=Ag.data;Ag.data=Ai;if(!(Ag instanceof Ae)&&Ag instanceof k){throw new Error("Incorrect DataSource type. Only "+Af+" instances are supported")}return Ag instanceof Ae?Ag:new Ae(Ag)}};var u=W.data.Model.define({id:"id",fields:{id:{type:"number"},predecessorId:{type:"number"},successorId:{type:"number"},type:{type:"number"}}});var q=k.extend({init:function(Ae){k.fn.init.call(this,Aa(true,{},{schema:{modelBase:u,model:u}},Ae))},successors:function(Ae){return this._dependencies("predecessorId",Ae)},predecessors:function(Ae){return this._dependencies("successorId",Ae)},dependencies:function(Ag){var Ae=this.predecessors(Ag);var Af=this.successors(Ag);Ae.push.apply(Ae,Af);return Ae},_dependencies:function(Ag,Ah){var Ae=this.view();var Af={field:Ag,operator:"eq",value:Ah};Ae=new G(Ae).filter(Af).toArray();return Ae}});q.create=z(q,"GanttDependencyDataSource");var O=W.data.Model.define({duration:function(){var Ae=this.end;var Af=this.start;return Ae-Af},isMilestone:function(){return this.duration()===0},_offset:function(Af){var Ag=["start","end"];var Ah;for(var Ae=0;Ae<Ag.length;Ae++){Ah=new Date(this.get(Ag[Ae]).getTime()+Af);this.set(Ag[Ae],Ah)}},id:"id",fields:{id:{type:"number"},parentId:{type:"number",defaultValue:null,validation:{required:true}},orderId:{type:"number",validation:{required:true}},title:{type:"string",defaultValue:""},start:{type:"date",validation:{required:true,dateCompare:Q,message:"Start date should be before or equal to the end date"}},end:{type:"date",validation:{required:true,dateCompare:Q,message:"End date should be after or equal to the start date"}},percentComplete:{type:"number",validation:{required:true,min:0,max:1,step:0.01}},summary:{type:"boolean"},expanded:{type:"boolean",defaultValue:true}}});var p=k.extend({init:function(Ae){k.fn.init.call(this,Aa(true,{},{schema:{modelBase:O,model:O}},Ae))},remove:function(Af){var Ae=Af.get("parentId");var Ag=this.taskAllChildren(Af);this._removeItems(Ag);Af=k.fn.remove.call(this,Af);this._childRemoved(Ae,Af.get("orderId"));return Af},add:function(Ae){if(!Ae){return}Ae=this._toGanttTask(Ae);return this.insert(this.taskSiblings(Ae).length,Ae)},insert:function(Ae,Af){if(!Af){return}Af=this._toGanttTask(Af);Af.set("orderId",Ae);Af=k.fn.insert.call(this,Ae,Af);this._reorderSiblings(Af,this.taskSiblings(Af).length-1);this._resolveSummaryFields(this.taskParent(Af));return Af},taskChildren:function(Ah){var Ai=this.view();var Ag={field:"parentId",operator:"eq",value:null};var Af=this._sort||{field:"orderId",dir:"asc"};var Ae;if(!!Ah){Ae=Ah.get("id");if(Ae===h||Ae===null||Ae===""){return[]}Ag.value=Ae}Ai=new G(Ai).filter(Ag).sort(Af).toArray();return Ai},taskAllChildren:function(Ag){var Ah=[];var Af=this;var Ae=function(Aj){var Ai=Af.taskChildren(Aj);Ah.push.apply(Ah,Ai);v(Ai,Ae)};if(!!Ag){Ae(Ag)}else{Ah=this.view()}return Ah},taskSiblings:function(Ae){if(!Ae){return null}var Af=this.taskParent(Ae);return this.taskChildren(Af)},taskParent:function(Ae){if(!Ae||Ae.get("parentId")===null){return null}return this.get(Ae.parentId)},taskLevel:function(Af){var Ae=0;var Ag=this.taskParent(Af);while(Ag!==null){Ae+=1;Ag=this.taskParent(Ag)}return Ae},taskTree:function(Aj){var Ak=[];var Ai;var Ag=this.taskChildren(Aj);for(var Af=0,Ah=Ag.length;Af<Ah;Af++){Ai=Ag[Af];Ak.push(Ai);if(Ai.get("expanded")){var Ae=this.taskTree(Ai);Ak.push.apply(Ak,Ae)}}return Ak},update:function(Ai,Ae){var Af=this;var Aj;var Ag=function(An,Al){var Ap=Af.taskAllChildren(An);for(var Am=0,Ao=Ap.length;Am<Ao;Am++){Ap[Am]._offset(Al)}};var Ah=function(Al){var Am=Al.field;var An=Al.sender;switch(Am){case"start":Af._resolveSummaryStart(Af.taskParent(An));Ag(An,An.get(Am).getTime()-Aj.getTime());break;case"end":Af._resolveSummaryEnd(Af.taskParent(An));break;case"percentComplete":Af._resolveSummaryPercentComplete(Af.taskParent(An));break;case"orderId":Af._reorderSiblings(An,Aj);break}};if(Ae.parentId!==h){Aj=Ai.get("parentId");if(Aj!==Ae.parentId){Ai.set("parentId",Ae.parentId);Af._childRemoved(Aj,Ai.get("orderId"));Ai.set("orderId",Af.taskSiblings(Ai).length-1);Af._resolveSummaryFields(Af.taskParent(Ai))}delete Ae.parentId}Ai.bind("change",Ah);for(var Ak in Ae){Aj=Ai.get(Ak);Ai.set(Ak,Ae[Ak])}Ai.unbind("change",Ah)},_resolveSummaryFields:function(Ae){if(!Ae){return}this._updateSummary(Ae);if(!this.taskChildren(Ae).length){return}this._resolveSummaryStart(Ae);this._resolveSummaryEnd(Ae);this._resolveSummaryPercentComplete(Ae)},_resolveSummaryStart:function(Ae){var Af=this;var Ag=function(Aj){var Am=Af.taskChildren(Aj);var Ah=Am[0].start.getTime();var Al;for(var Ai=1,Ak=Am.length;Ai<Ak;Ai++){Al=Am[Ai].start.getTime();if(Al<Ah){Ah=Al}}return new Date(Ah)};this._updateSummaryRecursive(Ae,"start",Ag)},_resolveSummaryEnd:function(Ae){var Af=this;var Ag=function(Aj){var Am=Af.taskChildren(Aj);var Al=Am[0].end.getTime();var Ah;for(var Ai=1,Ak=Am.length;Ai<Ak;Ai++){Ah=Am[Ai].end.getTime();if(Ah>Al){Al=Ah}}return new Date(Al)};this._updateSummaryRecursive(Ae,"end",Ag)},_resolveSummaryPercentComplete:function(Ae){var Ag=this;var Af=function(Ah){var Aj=Ag.taskChildren(Ah);var Ai=new G(Aj).aggregate([{field:"percentComplete",aggregate:"average"}]);return Ai.percentComplete.average};this._updateSummaryRecursive(Ae,"percentComplete",Af)},_updateSummaryRecursive:function(Af,Ah,Ae){if(!Af){return}var Ag=Ae(Af);Af.set(Ah,Ag);var Ai=this.taskParent(Af);if(Ai){this._updateSummaryRecursive(Ai,Ah,Ae)}},_childRemoved:function(Af,Ah){var Ai=Af===null?null:this.get(Af);var Aj=this.taskChildren(Ai);for(var Ae=Ah,Ag=Aj.length;Ae<Ag;Ae++){Aj[Ae].set("orderId",Ae)}this._resolveSummaryFields(Ai)},_reorderSiblings:function(Ag,Am){var Aj=Ag.get("orderId");var Af=Aj>Am;var Ae=Af?Am:Aj;var Ak=Af?Aj:Am;var Ai=Af?Ae:Ae+1;var Al=this.taskSiblings(Ag);Ak=Math.min(Ak,Al.length-1);for(var Ah=Ae;Ah<=Ak;Ah++){if(Al[Ah]===Ag){continue}Al[Ah].set("orderId",Ai);Ai+=1}},_updateSummary:function(Af){if(Af!==null){var Ae=this.taskChildren(Af).length;Af.set("summary",Ae>0)}},_toGanttTask:function(Af){if(!(Af instanceof O)){var Ae=Af;Af=this._createNewModel();Af.accept(Ae)}return Af}});p.create=z(p,"GanttDataSource");Aa(true,W.data,{GanttDataSource:p,GanttTask:O,GanttDependencyDataSource:q,GanttDependency:u});var r={desktop:{dateRange:j,resources:M}};var R=W.Observable.extend({init:function(Af,Ae){W.Observable.fn.init.call(this);this.element=Af;this.options=Aa(true,{},this.options,Ae);this.createButton=this.options.createButton},fields:function(Af,Ak){var Ag=this;var Ah=this.options;var Al=Ah.messages.editor;var Ae=Ah.resources;var Aj;var Ai=function(Am){Am.preventDefault();Ae.editor(Ag.container.find(Z+a.styles.popup.resourcesField),Ak)};if(Ah.editable.template){Aj=g.map(Ak.fields,function(An,Am){return{field:Am}})}else{Aj=[{field:"title",title:Al.title},{field:"start",title:Al.start,editor:Af.dateRange},{field:"end",title:Al.end,editor:Af.dateRange},{field:"percentComplete",title:Al.percentComplete,format:K}];if(Ak.get(Ae.field)){Aj.push({field:Ae.field,title:Al.resources,messages:Al,editor:Af.resources,click:Ai,styles:a.styles.popup})}}return Aj},_buildEditTemplate:function(Ap,Ao,Al){var Aq=this.options.resources;var Af=this.options.editable.template;var An=Aa({},W.Template,this.options.templateSettings);var Ae=An.paramName;var Aj=a.styles.popup;var Ag="";if(Af){if(typeof Af===Ac){Af=window.unescape(Af)}Ag+=(W.template(Af,An))(Ap)}else{for(var Am=0,Ai=Ao.length;Am<Ai;Am++){var Ak=Ao[Am];Ag+='<div class="'+Aj.editLabel+'"><label for="'+Ak.field+'">'+(Ak.title||Ak.field||"")+"</label></div>";if(Ak.field===Aq.field){Ag+='<div class="'+Aj.resourcesField+'" style="display:none"></div>'}if((!Ap.editable||Ap.editable(Ak.field))){Al.push(Ak);Ag+="<div "+W.attr("container-for")+'="'+Ak.field+'" class="'+Aj.editField+'"></div>'}else{var Ah="#:";if(Ak.field){Ak=W.expr(Ak.field,Ae);Ah+=Ak+"==null?'':"+Ak}else{Ah+="''"}Ah+="#";Ah=W.template(Ah,An);Ag+='<div class="'+Aj.editField+'">'+Ah(Ap)+"</div>"}}}return Ag}});var T=R.extend({destroy:function(){this.close();this.unbind()},editTask:function(Ae){this.editable=this._createPopupEditor(Ae)},close:function(){var Ae=this;var Af=function(){if(Ae.editable){Ae.editable.destroy();Ae.editable=null;Ae.container=null}if(Ae.popup){Ae.popup.destroy();Ae.popup=null}};if(this.editable&&this.container.is(":visible")){this.container.data("kendoWindow").bind("deactivate",Af).close()}else{Af()}},showDialog:function(Ah){var Al=Ah.buttons;var Ag=a.styles.popup;var Ae=W.format('<div class="{0}"><div class="{1}"><p class="{2}">{3}</p><div class="{4}">',Ag.form,Ag.formContainer,Ag.message,Ah.text,Ag.buttonsContainer);for(var Ai=0,Af=Al.length;Ai<Af;Ai++){Ae+=this.createButton(Al[Ai])}Ae+="</div></div></div>";var Ak=this.element;if(this.popup){this.popup.destroy()}var Aj=this.popup=g(Ae).appendTo(Ak).eq(0).on("click",Z+Ag.button,function(Am){Am.preventDefault();Aj.close();var An=g(Am.currentTarget).index();Al[An].click()}).kendoWindow({modal:true,resizable:false,draggable:false,title:Ah.title,visible:false,close:function(){this.destroy();Ak.focus()}}).getKendoWindow();Aj.center().open()},_createPopupEditor:function(Af){var Ai=this;var Aj={};var Ae=this.options.messages;var Ao=a.styles;var Ah=Ao.popup;var An=W.format('<div {0}="{1}" class="{2} {3}"><div class="{4}">',W.attr("uid"),Af.uid,Ah.form,Ah.editForm,Ah.formContainer);var Al=this.fields(r.desktop,Af);var Ag=[];An+=this._buildEditTemplate(Af,Al,Ag);An+='<div class="'+Ah.buttonsContainer+'">';An+=this.createButton({name:"update",text:Ae.save,className:a.styles.primary});An+=this.createButton({name:"cancel",text:Ae.cancel});An+=this.createButton({name:"delete",text:Ae.destroy});An+="</div></div></div>";var Ak=this.container=g(An).appendTo(this.element).eq(0).kendoWindow(Aa({modal:true,resizable:false,draggable:true,title:Ae.editor.editorTitle,visible:false,close:function(Ap){if(Ap.userTriggered){if(Ai.trigger("cancel",{container:Ak,model:Af})){Ap.preventDefault()}}}},Aj));var Am=Ak.kendoEditable({fields:Ag,model:Af,clearContainer:false,validateOnBlur:true,target:Ai.options.target}).data("kendoEditable");W.cycleForm(Ak);if(!this.trigger("edit",{container:Ak,model:Af})){Ak.data("kendoWindow").center().open();Ak.on(X+Ab,Z+Ao.buttonCancel,function(Ap){Ap.preventDefault();Ap.stopPropagation();Ai.trigger("cancel",{container:Ak,model:Af})});Ak.on(X+Ab,Z+Ao.buttonSave,function(Aq){Aq.preventDefault();Aq.stopPropagation();var Au=Ai.fields(r.desktop,Af);var At={};var As;for(var Ap=0,Ar=Au.length;Ap<Ar;Ap++){As=Au[Ap].field;At[As]=Af.get(As)}Ai.trigger("save",{container:Ak,model:Af,updateInfo:At})});Ak.on(X+Ab,Z+Ao.buttonDelete,function(Ap){Ap.preventDefault();Ap.stopPropagation();Ai.trigger("remove",{container:Ak,model:Af})})}else{Ai.trigger("cancel",{container:Ak,model:Af})}return Am}});var I=S.extend({init:function(Af,Ae){S.fn.init.call(this,Af,Ae);this.wrapper=this.element;this.model=this.options.model;this.resourcesField=this.options.resourcesField;this.createButton=this.options.createButton;this._initContainer();this._attachHandlers()},events:["save"],open:function(){this.window.center().open();this.grid.resize(true)},close:function(){this.window.bind("deactivate",Ad(this.destroy,this)).close()},destroy:function(){this._dettachHandlers();this.grid.destroy();this.grid=null;this.window.destroy();this.window=null;S.fn.destroy.call(this);W.destroy(this.wrapper);this.element=this.wrapper=null},_attachHandlers:function(){var Ag=a.styles;var Ae=this.grid;var Af=this._cancelProxy=Ad(this._cancel,this);this.container.on(X+Ab,Z+Ag.buttonCancel,this._cancelProxy);this._saveProxy=Ad(this._save,this);this.container.on(X+Ab,Z+Ag.buttonSave,this._saveProxy);this.window.bind("close",function(Ah){if(Ah.userTriggered){Af(Ah)}});Ae.wrapper.on(X+Ab,"input[type='checkbox']",function(Ah){var Ak=g(this);var Ai=g(Ak).closest("tr");var Al=Ae.dataSource.getByUid(Ai.attr(W.attr("uid")));var Aj=g(Ak).is(":checked")?1:"";Al.set("value",Aj)})},_dettachHandlers:function(){this._cancelProxy=null;this._saveProxy=null;this.container.off(Ab);this.grid.wrapper.off()},_cancel:function(Ae){Ae.preventDefault();this.close()},_save:function(Ae){Ae.preventDefault();this._updateModel();if(!this.wrapper.is(Z+a.styles.popup.resourcesField)){this.trigger("save",{container:this.wrapper,model:this.model})}this.close()},_initContainer:function(){var Af=a.styles.popup;var Ae=W.format('<div class="{0} {1}"><div class="{2} {3}"/></div>"',Af.form,Af.editForm,Af.formContainer,Af.resourcesFormContainer);Ae=g(Ae);this.container=Ae.find(Z+Af.resourcesFormContainer);this.window=Ae.kendoWindow({modal:true,resizable:false,draggable:true,visible:false,title:this.options.messages.resourcesEditorTitle}).data("kendoWindow");this._resourceGrid();this._createButtons()},_resourceGrid:function(){var Af=this;var Ae=this.options.messages;var Ag=g('<div id="resources-grid"/>').appendTo(this.container);this.grid=new W.ui.Grid(Ag,{columns:[{field:"name",title:Ae.resourcesHeader,template:"<label><input type='checkbox' value='#=name#'# if (value > 0 && value !== null) {#checked='checked'# } #/>#=name#</labe>"},{field:"value",title:Ae.unitsHeader,template:function(Ah){var Ai=Ah.format;var Aj=Ah.value!==null?Ah.value:"";return Ai?W.toString(Aj,Ai):Aj}}],height:280,sortable:true,editable:true,filterable:true,dataSource:{data:Af.options.data,schema:{model:{id:"id",fields:{id:{from:"id"},name:{from:"name",type:"string",editable:false},value:{from:"value",type:"number",defaultValue:""},format:{from:"format",type:"string"}}}}},save:function(Ah){var Ai=!!Ah.values.value;Ah.container.parent().find("input[type='checkbox']").prop("checked",Ai)}})},_createButtons:function(){var Ah=this.options.buttons;var Ae='<div class="'+a.styles.popup.buttonsContainer+'">';for(var Af=0,Ag=Ah.length;Af<Ag;Af++){Ae+=this.createButton(Ah[Af])}Ae+="</div>";this.container.append(Ae)},_updateModel:function(){var Ag=[];var Ah;var Ai=this.grid.dataSource.data();for(var Ae=0,Af=Ai.length;Ae<Af;Ae++){Ah=Ai[Ae].get("value");if(Ah!==null&&Ah>0){Ag.push(Ai[Ae])}}this.model[this.resourcesField]=Ag}});var a=S.extend({init:function(Af,Ae){if(y(Ae)){Ae={dataSource:Ae}}S.fn.init.call(this,Af,Ae);this._wrapper();this._resources();this._timeline();this._toolbar();this._footer();this._adjustDimensions();this._preventRefresh=true;this.view(this.timeline._selectedViewName);this._preventRefresh=false;this._dataSource();this._assignments();this._dropDowns();this._list();this._dependencies();this._resizable();this._scrollable();this._dataBind();this._attachEvents();this._createEditor();W.notify(this)},events:["dataBinding","dataBound","add","edit","remove","cancel","save","change","navigate","moveStart","move","moveEnd","resizeStart","resize","resizeEnd"],options:{name:"Gantt",autoBind:true,navigatable:false,selectable:true,editable:true,columns:[],views:[],dataSource:{},dependencies:{},resources:{},assignments:{},messages:{save:"Save",cancel:"Cancel",destroy:"Delete",deleteTaskConfirmation:t,deleteDependencyConfirmation:J,deleteTaskWindowTitle:"Delete task",deleteDependencyWindowTitle:"Delete dependency",views:{day:"Day",week:"Week",month:"Month",year:"Year",start:"Start",end:"End"},actions:{append:"Add Task",addChild:"Add Child",insertBefore:"Add Above",insertAfter:"Add Below",pdf:"Export to PDF"},editor:{editorTitle:"Task",resourcesEditorTitle:"Resources",title:"Title",start:"Start",end:"End",percentComplete:"Complete",resources:"Resources",assignButton:"Assign",resourcesHeader:"Resources",unitsHeader:"Units"}},showWorkHours:true,showWorkDays:true,toolbar:null,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,hourSpan:1,snap:true,height:600,listWidth:"30%"},select:function(Af){var Ae=this.list;if(!Af){return Ae.select()}Ae.select(Af);return},clearSelection:function(){this.list.clearSelection()},destroy:function(){S.fn.destroy.call(this);if(this.dataSource){this.dataSource.unbind("change",this._refreshHandler);this.dataSource.unbind("progress",this._progressHandler);this.dataSource.unbind("error",this._errorHandler)}if(this.dependencies){this.dependencies.unbind("change",this._dependencyRefreshHandler);this.dependencies.unbind("error",this._dependencyErrorHandler)}if(this.timeline){this.timeline.unbind();this.timeline.destroy()}if(this.list){this.list.unbind();this.list.destroy()}if(this.footerDropDown){this.footerDropDown.destroy()}if(this.headerDropDown){this.headerDropDown.destroy()}if(this._editor){this._editor.destroy()}if(this._resizeDraggable){this._resizeDraggable.destroy()}this.toolbar.off(Ab);g(window).off("resize"+Ab,this._resizeHandler);g(this.wrapper).off(Ab);this.toolbar=null;this.footer=null},_attachEvents:function(){this._resizeHandler=Ad(this.resize,this,false);g(window).on("resize"+Ab,this._resizeHandler)},_wrapper:function(){var Ai=a.styles;var Af=[Ai.icon,Ai.resizeHandle].join(" ");var Ag=this.options;var Ae=Ag.height;var Ah=Ag.width;this.wrapper=this.element.addClass(Ai.wrapper).append("<div class='"+Ai.listWrapper+"'><div></div></div>").append("<div class='"+Ai.splitBarWrapper+"'><div class='"+Af+"'></div></div>").append("<div class='"+Ai.timelineWrapper+"'><div></div></div>");this.wrapper.find(Z+Ai.list).width(Ag.listWidth);if(Ae){this.wrapper.height(Ae)}if(Ah){this.wrapper.width(Ah)}},_toolbar:function(){var Ai=this;var Am=a.styles;var Al=Z+Am.toolbar.views+" > li";var Aj=Z+Am.toolbar.pdfButton;var Af=Am.hovered;var Ah=this.options.toolbar;var Ag=g("<div class='"+Am.toolbar.actions+"'>");var Ak;var Ae;if(!A(Ah)){Ah=(typeof Ah===Ac?Ah:this._actions(Ah));Ah=Ad(W.template(Ah),this)}Ae=g(x({ns:W.ns,views:this.timeline.views,styles:Am.toolbar}));Ag.append(Ah({}));Ak=g("<div class='"+Am.toolbar.headerWrapper+"'>").append(Ag).append(Ae);this.wrapper.prepend(Ak);this.toolbar=Ak;Ak.on(X+Ab,Al,function(An){An.preventDefault();var Ao=g(this).attr(W.attr("name"));if(!Ai.trigger("navigate",{view:Ao})){Ai.view(Ao)}}).on(X+Ab,Aj,function(An){Ai.saveAsPDF()});this.wrapper.find(Z+Am.toolbar.toolbar+" li").hover(function(){g(this).addClass(Af)},function(){g(this).removeClass(Af)})},_actions:function(){var Ah=this.options;var Ai=Ah.toolbar;var Ae="";if(!y(Ai)){if(Ah.editable){Ai=["append"]}else{return Ae}}for(var Af=0,Ag=Ai.length;Af<Ag;Af++){Ae+=this._createButton(Ai[Af])}return Ae},_footer:function(){if(!this.options.editable){return}var Ai=a.styles.toolbar;var Af=this.options.messages.actions;var Ae=g(W.template(N)(Aa(true,{styles:Ai},b.append,{text:Af.append})));var Ah=g("<div class='"+Ai.actions+"'>").append(Ae);var Ag=g("<div class='"+Ai.footerWrapper+"'>").append(Ah);this.wrapper.append(Ag);this.footer=Ag},_createButton:function(Aj){var Ai=Aj.template||N;var Ag=this.options.messages.actions;var Ae=typeof Aj===Ac?Aj:Aj.name||Aj.text;var Af=b[Ae]?b[Ae].className:"k-gantt-"+(Ae||"").replace(/\s/g,"");var Ah={iconClass:"",action:"",text:Ae,className:Af,styles:a.styles.toolbar};if(!Ae&&!(Y(Aj)&&Aj.template)){throw new Error("Custom commands should have name specified")}Ah=Aa(true,Ah,b[Ae],{text:Ag[Ae]});if(Y(Aj)){if(Aj.className&&F(Ah.className,Aj.className.split(" "))<0){Aj.className+=" "+Ah.className}Ah=Aa(true,Ah,Aj)}return W.template(Ai)(Ah)},_adjustDimensions:function(){var Ae=this.element;var Ao=a.styles;var Ak=Z+Ao.list;var Al=Z+Ao.timeline;var Ai=Z+Ao.splitBar;var Aj=this.toolbar.outerHeight();var Af=this.footer?this.footer.outerHeight():0;var Ag=Ae.height();var Am=Ae.width();var Ah=Ae.find(Ai).outerWidth();var An=Ae.find(Ak).outerWidth();Ae.children([Ak,Al,Ai].join(",")).height(Ag-(Aj+Af)).end().children(Al).width(Am-(Ah+An))},_scrollTo:function(Ah){var Af=this.timeline.view();var Ai=W.attr("uid");var Ae=typeof Ah==="string"?Ah:Ah.closest("tr"+c()).attr(Ai);var Ag=Af.content.find(c(Ae));if(Ag.length!==0){Af._scrollTo(Ag)}},_dropDowns:function(){var Af=this;var Aj=Z+a.styles.toolbar.actions;var Ah=this.options.messages.actions;var Ag=this.dataSource;var Ae=this.timeline;var Ai=function(Ak){var Aq=Ak.type;var Ap;var Am=Ag._createNewModel();var An=Af.dataItem(Af.select());var Ar=Ag.taskParent(An);var Al=Ae.view()._timeSlots()[0];var Ao=Aq==="add"?An:Ar;Am.set("title","New task");if(Ao){Am.set("parentId",Ao.get("id"));Am.set("start",Ao.get("start"));Am.set("end",Ao.get("end"))}else{Am.set("start",Al.start);Am.set("end",Al.end)}if(Aq!=="add"){Ap=An.get("orderId");Ap=Aq==="insert-before"?Ap:Ap+1}Af._createTask(Am,Ap)};if(!this.options.editable){return}this.footerDropDown=new d(this.footer.children(Aj).eq(0),{messages:{actions:Ah},direction:"up",animation:{open:{effects:"slideIn:up"}},navigatable:Af.options.navigatable});this.headerDropDown=new d(this.toolbar.children(Aj).eq(0),{messages:{actions:Ah},navigatable:Af.options.navigatable});this.footerDropDown.bind("command",Ai);this.headerDropDown.bind("command",Ai)},_list:function(){var Ak=this;var Am=Ak.options.navigatable;var Ao=a.styles;var Al=this.wrapper.find(Z+Ao.list);var Ae=Al.find("> div");var Ah=this.wrapper.find(Z+Ao.toolbar.actions+" > button");var Ai={columns:this.options.columns||[],dataSource:this.dataSource,selectable:this.options.selectable,editable:this.options.editable,listWidth:Al.outerWidth(),resourcesField:this.resources.field};var Ag=Ai.columns;var Af;var An=function(){if(Am){Ak._current(Ak._cachedCurrent);l(Ak.list.content.find("table"),true)}delete Ak._cachedCurrent};for(var Aj=0;Aj<Ag.length;Aj++){Af=Ag[Aj];if(Af.field===this.resources.field&&typeof Af.editor!=="function"){Af.editor=Ad(this._createResourceEditor,this)}}this.list=new W.ui.GanttList(Ae,Ai);this.list.bind("render",function(){Ak._navigatable()},true).bind("edit",function(Ap){Ak._cachedCurrent=Ap.cell;if(Ak.trigger("edit",{task:Ap.model,container:Ap.cell})){Ap.preventDefault()}}).bind("cancel",function(Ap){if(Ak.trigger("cancel",{task:Ap.model,container:Ap.cell})){Ap.preventDefault()}An()}).bind("update",function(Ap){Ak._updateTask(Ap.task,Ap.updateInfo);An()}).bind("change",function(){Ak.trigger("change");var Ap=Ak.list.select();if(Ap.length){Ah.removeAttr("data-action","add");Ak.timeline.select("[data-uid='"+Ap.attr("data-uid")+"']")}else{Ah.attr("data-action","add");Ak.timeline.clearSelection()}})},_timeline:function(){var Ae=this;var Ah=a.styles;var Af=m(Aa(true,{resourcesField:this.resources.field},this.options));var Ag=this.wrapper.find(Z+Ah.timeline+" > div");this.timeline=new W.ui.GanttTimeline(Ag,Af);this.timeline.bind("navigate",function(Ai){Ae.toolbar.find(Z+Ah.toolbar.views+" > li").removeClass(Ah.selected).end().find(Z+Ah.toolbar.viewButton+"-"+Ai.view.replace(/\./g,"\\.").toLowerCase()).addClass(Ah.selected);Ae.refresh()}).bind("moveStart",function(Ai){if(Ae.trigger("moveStart",{task:Ai.task})){Ai.preventDefault()}}).bind("move",function(Ai){var Ak=Ai.task;var Al=Ai.start;var Aj=new Date(Al.getTime()+Ak.duration());if(Ae.trigger("move",{task:Ak,start:Al,end:Aj})){Ai.preventDefault()}}).bind("moveEnd",function(Ai){var Ak=Ai.task;var Al=Ai.start;var Aj=new Date(Al.getTime()+Ak.duration());if(!Ae.trigger("moveEnd",{task:Ak,start:Al,end:Aj})){Ae._updateTask(Ae.dataSource.getByUid(Ak.uid),{start:Al,end:Aj})}}).bind("resizeStart",function(Ai){if(Ae.trigger("resizeStart",{task:Ai.task})){Ai.preventDefault()}}).bind("resize",function(Ai){if(Ae.trigger("resize",{task:Ai.task,start:Ai.start,end:Ai.end})){Ai.preventDefault()}}).bind("resizeEnd",function(Aj){var Ak=Aj.task;var Ai={};if(Aj.resizeStart){Ai.start=Aj.start}else{Ai.end=Aj.end}if(!Ae.trigger("resizeEnd",{task:Ak,start:Aj.start,end:Aj.end})){Ae._updateTask(Ae.dataSource.getByUid(Ak.uid),Ai)}}).bind("percentResizeEnd",function(Ai){Ae._updateTask(Ae.dataSource.getByUid(Ai.task.uid),{percentComplete:Ai.percentComplete})}).bind("dependencyDragEnd",function(Ai){var Aj=Ae.dependencies._createNewModel({type:Ai.type,predecessorId:Ai.predecessor.id,successorId:Ai.successor.id});Ae._createDependency(Aj)}).bind("select",function(Ai){Ae.select("[data-uid='"+Ai.uid+"']")}).bind("editTask",function(Ai){Ae.editTask(Ai.uid)}).bind("clear",function(Ai){Ae.clearSelection()}).bind("removeTask",function(Ai){Ae.removeTask(Ae.dataSource.getByUid(Ai.uid))}).bind("removeDependency",function(Ai){Ae.removeDependency(Ae.dependencies.getByUid(Ai.uid))})},_dataSource:function(){var Af=this.options;var Ae=Af.dataSource;Ae=y(Ae)?{data:Ae}:Ae;if(this.dataSource&&this._refreshHandler){this.dataSource.unbind("change",this._refreshHandler).unbind("progress",this._progressHandler).unbind("error",this._errorHandler)}else{this._refreshHandler=Ad(this.refresh,this);this._progressHandler=Ad(this._requestStart,this);this._errorHandler=Ad(this._error,this)}this.dataSource=W.data.GanttDataSource.create(Ae).bind("change",this._refreshHandler).bind("progress",this._progressHandler).bind("error",this._errorHandler)},_dependencies:function(){var Ae=this.options.dependencies||{};var Af=y(Ae)?{data:Ae}:Ae;if(this.dependencies&&this._dependencyRefreshHandler){this.dependencies.unbind("change",this._dependencyRefreshHandler).unbind("error",this._dependencyErrorHandler)}else{this._dependencyRefreshHandler=Ad(this.refreshDependencies,this);this._dependencyErrorHandler=Ad(this._error,this)}this.dependencies=W.data.GanttDependencyDataSource.create(Af).bind("change",this._dependencyRefreshHandler).bind("error",this._dependencyErrorHandler)},_resources:function(){var Af=this.options.resources;var Ae=Af.dataSource||{};this.resources={field:"resources",dataTextField:"name",dataColorField:"color",dataFormatField:"format"};Aa(this.resources,Af);this.resources.dataSource=W.data.DataSource.create(Ae)},_assignments:function(){var Af=this.options.assignments;var Ae=Af.dataSource||{};if(this.assignments){this.assignments.dataSource.unbind("change",this._assignmentsRefreshHandler)}else{this._assignmentsRefreshHandler=Ad(this.refresh,this)}this.assignments={dataTaskIdField:"taskId",dataResourceIdField:"resourceId",dataValueField:"value"};Aa(this.assignments,Af);this.assignments.dataSource=W.data.DataSource.create(Ae);this.assignments.dataSource.bind("change",this._assignmentsRefreshHandler)},_createEditor:function(Af){var Ae=this;var Ag=this._editor=new T(this.wrapper,Aa({},this.options,{target:this,resources:{field:this.resources.field,editor:Ad(this._createResourceEditor,this)},createButton:Ad(this._createPopupButton,this)}));Ag.bind("cancel",function(Ah){var Ai=Ae.dataSource.getByUid(Ah.model.uid);if(Ae.trigger("cancel",{container:Ah.container,task:Ai})){Ah.preventDefault();return}Ae.cancelTask()}).bind("edit",function(Ah){var Ai=Ae.dataSource.getByUid(Ah.model.uid);if(Ae.trigger("edit",{container:Ah.container,task:Ai})){Ah.preventDefault()}}).bind("save",function(Ah){var Ai=Ae.dataSource.getByUid(Ah.model.uid);Ae.saveTask(Ai,Ah.updateInfo)}).bind("remove",function(Ah){Ae.removeTask(Ah.model.uid)})},_createResourceEditor:function(Ai,Ah){var Ag=this;var Ak=Ah instanceof C?Ah:Ah.model;var Aj=Ak.get("id");var Al=this.options.messages;var Ae=Ag.resources.field;var Af=this._resourceEditor=new I(Ai,{resourcesField:Ae,data:this._wrapResourceData(Aj),model:Ak,messages:Aa({},Al.editor),buttons:[{name:"update",text:Al.save,className:a.styles.primary},{name:"cancel",text:Al.cancel}],createButton:Ad(this._createPopupButton,this),save:function(Am){Ag._updateAssignments(Am.model.get("id"),Am.model.get(Ae))}});Af.open()},_createPopupButton:function(Ag){var Ae=Ag.name||Ag.text;var Af={className:a.styles.popup.button+" k-gantt-"+(Ae||"").replace(/\s/g,""),text:Ae,attr:""};if(!Ae&&!(Y(Ag)&&Ag.template)){throw new Error("Custom commands should have name specified")}if(Y(Ag)){if(Ag.className){Ag.className+=" "+Af.className}Af=Aa(true,Af,Ag)}return W.template(s)(Af)},view:function(Ae){return this.timeline.view(Ae)},dataItem:function(Af){if(!Af){return null}var Ae=this.list;var Ag=Ae.content.find(Af);return Ae._modelFromElement(Ag)},setDataSource:function(Ae){this.options.dataSource=Ae;this._dataSource();this.list._setDataSource(this.dataSource);if(this.options.autoBind){Ae.fetch()}},setDependenciesDataSource:function(Ae){this.options.dependencies=Ae;this._dependencies();if(this.options.autoBind){Ae.fetch()}},items:function(){return this.wrapper.children(".k-task")},_updateAssignments:function(Ao,Ar){var Ae=this.assignments.dataSource;var Ah=this.assignments.dataTaskIdField;var Aq=this.assignments.dataResourceIdField;var Ap=false;var Af=new G(Ae.view()).filter({field:Ah,operator:"eq",value:Ao}).toArray();var Am;var Ai;var Ak;while(Af.length){Am=Af[0];for(var Al=0,Aj=Ar.length;Al<Aj;Al++){Ai=Ar[Al];if(Am.get(Aq)===Ai.get("id")){Ak=Ar[Al].get("value");this._updateAssignment(Am,Ak);Ar.splice(Al,1);Ap=true;break}}if(!Ap){this._removeAssignment(Am)}Ap=false;Af.shift()}for(var An=0,Ag=Ar.length;An<Ag;An++){Ai=Ar[An];this._createAssignment(Ai,Ao)}Ae.sync()},cancelTask:function(){var Af=this._editor;var Ae=Af.container;if(Ae){Af.close()}},editTask:function(Ae){var Ag=typeof Ae==="string"?this.dataSource.getByUid(Ae):Ae;if(!Ag){return}var Af=this.dataSource._createNewModel(Ag.toJSON());Af.uid=Ag.uid;this.cancelTask();this._editTask(Af)},_editTask:function(Ae){this._editor.editTask(Ae)},saveTask:function(Ai,Ae){var Ah=this._editor;var Ag=Ah.container;var Af=Ah.editable;if(Ag&&Af&&Af.end()){this._updateTask(Ai,Ae)}},_updateTask:function(Ag,Ae){var Af=this.resources.field;if(!this.trigger("save",{task:Ag,values:Ae})){this._preventRefresh=true;this.dataSource.update(Ag,Ae);if(Ae[Af]){this._updateAssignments(Ag.get("id"),Ae[Af])}this._syncDataSource()}},_updateAssignment:function(Ae,Ag){var Af=this.assignments.dataValueField;Ae.set(Af,Ag)},removeTask:function(Af){var Ae=this;var Ag=typeof Af==="string"?this.dataSource.getByUid(Af):Af;if(!Ag){return}this._taskConfirm(function(Ah){if(!Ah){Ae._removeTask(Ag)}},Ag)},_createTask:function(Ag,Af){if(!this.trigger("add",{task:Ag,dependency:null})){var Ae=this.dataSource;this._preventRefresh=true;if(Af===h){Ae.add(Ag)}else{Ae.insert(Af,Ag)}this._scrollToUid=Ag.uid;this._syncDataSource()}},_createDependency:function(Ae){if(!this.trigger("add",{task:null,dependency:Ae})){this._preventDependencyRefresh=true;this.dependencies.add(Ae);this._preventDependencyRefresh=false;this.dependencies.sync()}},_createAssignment:function(Ah,Aj){var Af=this.assignments;var Al=Af.dataSource;var Ag=Af.dataTaskIdField;var Ak=Af.dataResourceIdField;var Ae=Af.dataValueField;var Ai=Al._createNewModel();Ai[Ag]=Aj;Ai[Ak]=Ah.get("id");Ai[Ae]=Ah.get("value");Al.add(Ai)},removeDependency:function(Ag){var Ae=this;var Af=typeof Ag==="string"?this.dependencies.getByUid(Ag):Ag;if(!Af){return}this._dependencyConfirm(function(Ah){if(!Ah){Ae._removeDependency(Af)}},Af)},_removeTaskDependencies:function(Ah,Ag){this._preventDependencyRefresh=true;for(var Ae=0,Af=Ag.length;Ae<Af;Ae++){this.dependencies.remove(Ag[Ae])}this._preventDependencyRefresh=false;this.dependencies.sync()},_removeTaskAssignments:function(Ai){var Ag=this.assignments.dataSource;var Ah=Ag.view();var Aj={field:this.assignments.dataTaskIdField,operator:"eq",value:Ai.get("id")};Ah=new G(Ah).filter(Aj).toArray();this._preventRefresh=true;for(var Ae=0,Af=Ah.length;Ae<Af;Ae++){Ag.remove(Ah[Ae])}this._preventRefresh=false;Ag.sync()},_removeTask:function(Af){var Ae=this.dependencies.dependencies(Af.id);if(!this.trigger("remove",{task:Af,dependencies:Ae})){this._removeTaskDependencies(Af,Ae);this._removeTaskAssignments(Af);this._preventRefresh=true;if(this.dataSource.remove(Af)){this._syncDataSource()}this._preventRefresh=false}},_removeDependency:function(Ae){if(!this.trigger("remove",{task:null,dependencies:[Ae]})){if(this.dependencies.remove(Ae)){this.dependencies.sync()}}},_removeAssignment:function(Ae){this.assignments.dataSource.remove(Ae)},_taskConfirm:function(Ae,Ag){var Af=this.options.messages;this._confirm(Ae,{model:Ag,text:Af.deleteTaskConfirmation,title:Af.deleteTaskWindowTitle})},_dependencyConfirm:function(Ae,Ag){var Af=this.options.messages;this._confirm(Ae,{model:Ag,text:Af.deleteDependencyConfirmation,title:Af.deleteDependencyWindowTitle})},_confirm:function(Ae,Ah){var Af=this.options.editable;var Ag;var Ai;if(Af===true||Af.confirmation!==false){Ag=this.options.messages;Ai=[{name:"delete",text:Ag.destroy,className:a.styles.primary,click:function(){Ae()}},{name:"cancel",text:Ag.cancel,click:function(){Ae(true)}}];this.showDialog(Aa(true,{},Ah,{buttons:Ai}))}else{Ae()}},showDialog:function(Ae){this._editor.showDialog(Ae)},refresh:function(Af){if(this._preventRefresh||this.list.editable){return}this._progress(false);var Ag=this.dataSource;var Ah=Ag.taskTree();var Aj=this._scrollToUid;var Ai;var Ae;var Ak=-1;if(this.current){Ae=this.current.closest("tr").attr(W.attr("uid"));Ak=this.current.index()}if(this.trigger("dataBinding")){return}if(this.resources.dataSource.data().length!==0){this._assignResources(Ah)}if(this._editor){this._editor.close()}this.clearSelection();this.list._render(Ah);this.timeline._render(Ah);this.timeline._renderDependencies(this.dependencies.view());if(Aj){this._scrollTo(Aj);this.select(c(Aj))}if((Aj||Ae)&&Ak>=0){Ai=this.list.content.find("tr"+c((Aj||Ae))+" > td:eq("+Ak+")");this._current(Ai)}this._scrollToUid=null;this.trigger("dataBound")},refreshDependencies:function(Ae){if(this._preventDependencyRefresh){return}if(this.trigger("dataBinding")){return}this.timeline._renderDependencies(this.dependencies.view());this.trigger("dataBound")},_assignResources:function(Am){var Ak=this;var An=this.resources;var Ae=this.assignments;var Al=function(){var Ap=Ae.dataSource.view();var Ao={field:Ae.dataTaskIdField};Ap=new G(Ap).group(Ao).toArray();return Ap};var Ag=Al();var Af=function(As,Ao){var Ar=As.get("id");W.setter(An.field)(As,new U([]));for(var Ap=0,Aq=Ag.length;Ap<Aq;Ap++){if(Ag[Ap].value===Ar){Ao(As,Ag[Ap].items)}}};var Ah=function(Ar,Aw){for(var As=0,At=Aw.length;As<At;As++){var Ax=Aw[As];var Ao=An.dataSource.get(Ax.get(Ae.dataResourceIdField));var Ap=Ax.get(Ae.dataValueField);var Aq=Ax.get(Ae.dataResourceIdField);var Au=Ao.get(An.dataFormatField)||K;var Av=W.toString(Ap,Au);Ar[An.field].push(new C({id:Aq,name:Ao.get(An.dataTextField),color:Ao.get(An.dataColorField),value:Ap,formatedValue:Av}))}};for(var Aj=0,Ai=Am.length;Aj<Ai;Aj++){Af(Am[Aj],Ah)}},_wrapResourceData:function(Al){var Ak=this;var Af=[];var Ah;var An=this.resources.dataSource.view();var Ag=this.assignments.dataSource.view();var Am=new G(Ag).filter({field:Ak.assignments.dataTaskIdField,operator:"eq",value:Al}).toArray();var Ae=function(Ap){var Ao=null;new G(Am).filter({field:Ak.assignments.dataResourceIdField,operator:"eq",value:Ap}).select(function(Aq){Ao+=Aq.get(Ak.assignments.dataValueField)});return Ao};for(var Aj=0,Ai=An.length;Aj<Ai;Aj++){Ah=An[Aj];Af.push({id:Ah.get("id"),name:Ah.get(Ak.resources.dataTextField),format:Ah.get(Ak.resources.dataFormatField)||K,value:Ae(Ah.id)})}return Af},_syncDataSource:function(){this._preventRefresh=false;this._requestStart();this.dataSource.sync()},_requestStart:function(){this._progress(true)},_error:function(){this._progress(false)},_progress:function(Ae){W.ui.progress(this.element,Ae)},_resizable:function(){var Ah=this;var Ai=this.wrapper;var Am=a.styles;var Al=Z+Am.gridContent;var Ae=Ai.find(Z+Am.list);var Af=Ai.find(Z+Am.timeline);var Aj;var Ag;var Ak;this._resizeDraggable=Ai.find(Z+Am.splitBar).height(Ae.height()).hover(function(An){g(this).addClass(Am.splitBarHover)},function(An){g(this).removeClass(Am.splitBarHover)}).end().kendoResizable({orientation:"horizontal",handle:Z+Am.splitBar,"start":function(An){Aj=Ae.width();Ag=Af.width();Ak=Af.find(Al).scrollLeft()},"resize":function(Ao){var An=Ao.x.initialDelta;if(W.support.isRtl(Ai)){An*=-1}if(Aj+An<0||Ag-An<0){return}Ae.width(Aj+An);Af.width(Ag-An);Af.find(Al).scrollLeft(Ak+An);Ah.timeline.view()._renderCurrentTime()}}).data("kendoResizable")},_scrollable:function(){var Ai=a.styles;var Af=Z+Ai.gridContent;var Ae=Z+Ai.gridHeaderWrap;var Ag=this.timeline.element;var Ah=this.list.element;Ag.find(Af).on("scroll",function(Aj){Ag.find(Ae).scrollLeft(this.scrollLeft);Ah.find(Af).scrollTop(this.scrollTop)});Ah.find(Af).on("scroll",function(Aj){Ah.find(Ae).scrollLeft(this.scrollLeft)}).on("DOMMouseScroll"+Ab+" mousewheel"+Ab,function(Ak){var Am=Ag.find(Af);var Al=Am.scrollTop();var Aj=W.wheelDeltaY(Ak);if(Aj){Ak.preventDefault();g(Ak.currentTarget).one("wheel"+Ab,false);Am.scrollTop(Al+(-Aj))}})},_navigatable:function(){var As=this;var Ar=this.options.navigatable;var Au=this.options.editable;var At=this.list.header.find("table");var Ae=this.list.content.find("table");var Aj=a.styles;var Ag=W.support.isRtl(this.wrapper);var Ah=this.timeline.element.find(Z+Aj.gridContent);var Ap=At.add(Ae);var Ak=c();var Af;var Aq={collapse:false,expand:true};var Al=function(Av){var Aw=As.timeline.view()._timeSlots()[0].offsetWidth;Ah.scrollLeft(Ah.scrollLeft()+(Av?-Aw:Aw))};var An=function(Aw){var Ay=As.current.parent("tr"+c());var Ax=As.current.index();var Av=Ay[Aw]();if(As.select().length!==0){As.clearSelection()}if(Av.length!==0){As._current(Av.children("td:eq("+Ax+")"));As._scrollTo(As.current)}else{if(As.current.is("td")&&Aw=="prev"){l(At)}else{if(As.current.is("th")&&Aw=="next"){l(Ae)}}}};var Ai=function(Aw){var Av=As.current[Aw]();if(Av.length!==0){As._current(Av);Af=As.current.index()}};var Ao=function(Av){var Aw=As.dataItem(As.current);if(Aw.summary&&Aw.expanded!==Av){Aw.set("expanded",Av)}};var Am=function(){if(!As.options.editable||As.list.editable){return}var Aw=As.select();var Av=W.attr("uid");if(Aw.length){As.removeTask(Aw.attr(Av))}};g(this.wrapper).on("mousedown"+Ab,"tr"+Ak+", div"+Ak+":not("+Z+Aj.line+")",function(Av){var Ax=g(Av.currentTarget);var Ay=g(Av.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap");var Aw;if(Av.ctrlKey){return}if(Ar){if(Ax.is("tr")){Aw=g(Av.target).closest("td")}else{Aw=As.list.content.find("tr"+c(Ax.attr(W.attr("uid")))+" > td:first")}As._current(Aw)}if((Ar||Au)&&!Ay){As._focusTimeout=setTimeout(function(){l(As.list.content.find("table"),true)},2)}});if(Ar!==true){Ae.on("keydown"+Ab,function(Av){if(Av.keyCode==V.DELETE){Am()}});return}Ap.on("focus"+Ab,function(Av){var Ay=this===Ae.get(0)?"td":"th";var Az=g(this);var Aw=As.select();var Ax=As.current||g((Aw.length?Aw:this)).find(Ay+":eq("+(Af||0)+")");As._current(Ax)}).on("blur"+Ab,function(){As._current();if(this==At){g(this).attr(w,-1)}}).on("keydown"+Ab,function(Aw){var Av=Aw.keyCode;var Ax;if(!As.current){return}Ax=As.current.is("td");switch(Av){case V.RIGHT:Aw.preventDefault();if(Aw.altKey){Al()}else{if(Aw.ctrlKey){Ao(Ag?Aq.collapse:Aq.expand)}else{Ai(Ag?"prev":"next")}}break;case V.LEFT:Aw.preventDefault();if(Aw.altKey){Al(true)}else{if(Aw.ctrlKey){Ao(Ag?Aq.expand:Aq.collapse)}else{Ai(Ag?"next":"prev")}}break;case V.UP:Aw.preventDefault();An("prev");break;case V.DOWN:Aw.preventDefault();An("next");break;case V.SPACEBAR:Aw.preventDefault();if(Ax){As.select(As.current.closest("tr"))}break;case V.ENTER:Aw.preventDefault();if(Ax){if(As.options.editable){As._cachedCurrent=As.current;As.list._startEditHandler(As.current);Aw.stopPropagation()}}else{As.current.children("a.k-link").click()}break;case V.ESC:Aw.stopPropagation();break;case V.DELETE:if(Ax){Am()}break;default:if(Av>=49&&Av<=57){As.view(As.timeline._viewByIndex(Av-49))}break}})},_current:function(Af){var Ag=a.styles;var Ae;if(this.current&&this.current.length){this.current.removeClass(Ag.focused).removeAttr("id")}if(Af&&Af.length){this.current=Af.addClass(Ag.focused).attr("id",f);Ae=g(W._activeElement());if(Ae.is("table")&&this.wrapper.find(Ae).length>0){Ae.removeAttr(n).attr(n,f)}}else{this.current=null}},_dataBind:function(){var Af=this;if(Af.options.autoBind){this._preventRefresh=true;this._preventDependencyRefresh=true;var Ae=g.map([this.dataSource,this.dependencies,this.resources.dataSource,this.assignments.dataSource],function(Ag){return Ag.fetch()});g.when.apply(null,Ae).done(function(){Af._preventRefresh=false;Af._preventDependencyRefresh=false;Af.refresh()})}},_resize:function(){this._adjustDimensions();this.timeline.view()._adjustHeight();this.timeline.view()._renderCurrentTime();this.list._adjustHeight()}});if(W.PDFMixin){W.PDFMixin.extend(a.fn);a.fn._drawPDF=function(){var Ag="."+L.list;var Af=this.wrapper.find(Ag).width();var Ae=this.wrapper.clone();Ae.find(Ag).css("width",Af);return this._drawPDFShadow({content:Ae})}}W.ui.plugin(a);Aa(true,a,{styles:L})})(window.kendo.jQuery);(function(k,l){var y=kendo.data;var Ac=k.extend;var n=kendo.dom;var j=n.element;var u=n.text;var h=n.html;var r=kendo.ui;var Ab=r.DataBoundWidget;var z=y.DataSource;var U=y.ObservableArray;var J=y.Query;var M=y.Model;var Ah=k.proxy;var x=k.map;var d=k.grep;var R=k.inArray;var Y=k.isPlainObject;var G=Array.prototype.push;var Af="string";var c="change";var m="error";var P="progress";var Z=".";var Ad=".kendoTreeList";var V="click";var p="mousedown";var D="edit";var Q="save";var H="expand";var Ae="collapse";var b="remove";var K="dataBinding";var e="dataBound";var w="cancel";var Ag="filterMenuInit";var X="columnHide";var W="columnShow";var q="th.k-header";var L="columnReorder";var S="columnResize";var A="columnMenuInit";var B="columnLock";var f="columnUnlock";var o={wrapper:"k-treelist k-grid k-widget",header:"k-header",button:"k-button",alt:"k-alt",editCell:"k-edit-cell",group:"k-treelist-group",gridToolbar:"k-grid-toolbar",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",gridFilter:"k-grid-filter",footerTemplate:"k-footer-template",loading:"k-loading",refresh:"k-i-refresh",retry:"k-request-retry",selected:"k-state-selected",status:"k-status",link:"k-link",withIcon:"k-with-icon",filterable:"k-filterable",icon:"k-icon",iconFilter:"k-filter",iconCollapse:"k-i-collapse",iconExpand:"k-i-expand",iconHidden:"k-i-none",iconPlaceHolder:"k-icon k-i-none",input:"k-input",dropPositions:"k-insert-top k-insert-bottom k-add k-insert-middle",dropTop:"k-insert-top",dropBottom:"k-insert-bottom",dropAdd:"k-add",dropMiddle:"k-insert-middle",dropDenied:"k-denied",dragStatus:"k-drag-status",dragClue:"k-drag-clue",dragClueText:"k-clue-text"};var a={create:{imageClass:"k-add",className:"k-grid-add",methodName:"addRow"},createchild:{imageClass:"k-add",className:"k-grid-add",methodName:"addRow"},destroy:{imageClass:"k-delete",className:"k-grid-delete",methodName:"removeRow"},edit:{imageClass:"k-edit",className:"k-grid-edit",methodName:"editRow"},update:{imageClass:"k-update",className:"k-primary k-grid-update",methodName:"saveRow"},canceledit:{imageClass:"k-cancel",className:"k-grid-cancel",methodName:"_cancelEdit"},excel:{imageClass:"k-i-excel",className:"k-grid-excel",methodName:"saveAsExcel"},pdf:{imageClass:"k-i-pdf",className:"k-grid-pdf",methodName:"saveAsPDF"}};var Aa=M.define({id:"id",fields:{id:{type:"number"},parentId:{type:"number",nullable:true}},init:function(Ai){M.fn.init.call(this,Ai);this._loaded=false},loaded:function(Ai){if(Ai!==l){this._loaded=Ai}else{return this._loaded}},shouldSerialize:function(Ai){return M.fn.shouldSerialize.call(this,Ai)&&Ai!=="_loaded"&&Ai!="_error"&&Ai!="_edit"}});function F(Ai){return function(Aj){return Aj[Ai]}}function s(Ai){return function(Aj){return !Ai(Aj)}}var t=z.extend({init:function(Ai){z.fn.init.call(this,Ac(true,{},{schema:{modelBase:Aa,model:Aa}},Ai))},_createNewModel:function(Ak){var Aj={};var Ai=Ak instanceof M;if(Ai){Aj=Ak}Aj=z.fn._createNewModel.call(this,Aj);if(!Ai){Aj.accept(Ak)}return Aj},_shouldWrap:function(Ai){return true},_readData:function(Ai){var Aj=this.data();Ai=z.fn._readData.call(this,Ai);this._concat(Ai,Aj);if(Ai instanceof U){return Ai}return Aj},_concat:function(Aj,Ak){var Al=Ak.length;for(var Ai=0;Ai<Aj.length;Ai++){Ak[Al++]=Aj[Ai]}Ak.length=Al},_readAggregates:function(Aj){var Ai=Ac(this._aggregateResult,this.reader.aggregates(Aj));if("" in Ai){Ai[this._defaultParentId()]=Ai[""];delete Ai[""]}return Ai},remove:function(Ai){var Aj=this._subtree(this._childrenMap(this.data()),Ai.id);this._removeItems(Aj);z.fn.remove.call(this,Ai)},_filterCallback:function(Am){var Ai,Al;var Aj={};var Ak=[];var An=Am.toArray();for(Ai=0;Ai<An.length;Ai++){Al=An[Ai];while(Al){if(!Aj[Al.id]){Aj[Al.id]=true;Ak.push(Al)}if(!Aj[Al.parentId]){Aj[Al.parentId]=true;Al=this.parentNode(Al);if(Al){Ak.push(Al)}}else{break}}}return new J(Ak)},_subtree:function(Aj,An){var Ak=Aj[An]||[];var Am=this._defaultParentId();for(var Ai=0,Al=Ak.length;Ai<Al;Ai++){if(Ak[Ai].id!==Am){Ak=Ak.concat(this._subtree(Aj,Ak[Ai].id))}}return Ak},_childrenMap:function(An){var Aj={};var Ai,Al,Am,Ak;An=this._observeView(An);for(Ai=0;Ai<An.length;Ai++){Al=An[Ai];Am=Al.id;Ak=Al.parentId;Aj[Am]=Aj[Am]||[];Aj[Ak]=Aj[Ak]||[];Aj[Ak].push(Al)}return Aj},_calculateAggregates:function(Ak,An){An=An||{};var Ai={};var Ar,Aj,Am,Ap,Ao;var Al=An.filter;if(Al){Ak=J.process(Ak,{filter:Al,filterCallback:Ah(this._filterCallback,this)}).data}var Aq=this._childrenMap(Ak);Ai[this._defaultParentId()]=new J(this._subtree(Aq,this._defaultParentId())).aggregate(An.aggregate);for(Am=0;Am<Ak.length;Am++){Ar=Ak[Am];Aj=this._subtree(Aq,Ar.id);Ai[Ar.id]=new J(Aj).aggregate(An.aggregate)}return Ai},_queryProcess:function(Ak,An){An=An||{};An.filterCallback=Ah(this._filterCallback,this);var Ao=this._defaultParentId();var Aj=J.process(Ak,An);var Ap=this._childrenMap(Aj.data);var Ai,Am,Aq,Al;Ak=Ap[Ao]||[];for(Am=0;Am<Ak.length;Am++){Aq=Ak[Am];if(Aq.id===Ao){continue}Al=Ap[Aq.id];Ai=!!(Al&&Al.length);if(!Aq.loaded()){Aq.loaded(Ai||!Aq.hasChildren)}if(Aq.loaded()||Aq.hasChildren!==true){Aq.hasChildren=Ai}if(Ai){Ak=Ak.slice(0,Am+1).concat(Al,Ak.slice(Am+1))}}Aj.data=Ak;return Aj},_queueRequest:function(Aj,Ai){Ai.call(this)},_modelLoaded:function(Aj){var Ai=this.get(Aj);Ai.loaded(true);Ai.hasChildren=this.childNodes(Ai).length>0},_modelError:function(Aj,Ai){this.get(Aj)._error=Ai},success:function(Aj,Ai){if(!Ai||!Ai.id){this._data=this._observe([])}return z.fn.success.call(this,Aj,Ai)},load:function(Ak){var Ai="_query";var Al=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates;var Aj=k.Deferred().resolve().promise();if(Ak.loaded()){if(Al){return Aj}}else{if(Ak.hasChildren){Ai="read"}}return this[Ai]({id:Ak.id}).then(Ah(this._modelLoaded,this,Ak.id),Ah(this._modelError,this,Ak.id))},contains:function(Ai,Aj){var Ak=Ai.id;while(Aj){if(Aj.parentId===Ak){return true}Aj=this.parentNode(Aj)}return false},_byParentId:function(An,Am){var Aj=[];var Ak=this.view();var Al;if(An===Am){return[]}for(var Ai=0;Ai<Ak.length;Ai++){Al=Ak.at(Ai);if(Al.parentId==An){Aj.push(Al)}}return Aj},_defaultParentId:function(){return this.reader.model.fn.defaults.parentId},childNodes:function(Ai){return this._byParentId(Ai.id,this._defaultParentId())},rootNodes:function(){return this._byParentId(this._defaultParentId())},parentNode:function(Ai){return this.get(Ai.parentId)},level:function(Aj){var Ai=-1;if(!(Aj instanceof Aa)){Aj=this.get(Aj)}do{Aj=this.parentNode(Aj);Ai++}while(Aj);return Ai},filter:function(Aj){var Ai=z.fn.filter;if(Aj===l){return Ai.call(this,Aj)}Ai.call(this,Aj)}});t.create=function(Ai){if(k.isArray(Ai)){Ai={data:Ai}}else{if(Ai instanceof U){Ai={data:Ai.toJSON()}}}return Ai instanceof t?Ai:new t(Ai)};function O(){return this.style.display!=="none"}function E(Ak){var Am=Ak.find(">tr:not(.k-filter-row)");var Al=function(){var An=k(this);return !An.hasClass("k-group-cell")&&!An.hasClass("k-hierarchy-cell")};var Aj=k();if(Am.length>1){Aj=Am.find("th").filter(Al).filter(function(){return this.rowSpan>1})}Aj=Aj.add(Am.last().find("th").filter(Al));var Ai=kendo.attr("index");Aj.sort(function(Aq,Ao){Aq=k(Aq);Ao=k(Ao);var Ap=Aq.attr(Ai);var An=Ao.attr(Ai);if(Ap===l){Ap=k(Aq).index()}if(An===l){An=k(Ao).index()}Ap=parseInt(Ap,10);An=parseInt(An,10);return Ap>An?1:(Ap<An?-1:0)});return Aj}function v(Al){var Am=[];var Ai=Al.className;for(var Aj=0,Ak=Al.level;Aj<Ak;Aj++){Am.push(j("span",{className:Ai}))}return Am}function I(Aj){var Ak,Am=0;for(var Al=0,Ai=Aj.length;Al<Ai;Al++){Ak=Aj[Al].style.width;if(Ak&&Ak.indexOf("%")==-1){Am+=parseInt(Ak,10)}}return Am}function C(An,Al){An=An[0];Al=Al[0];if(An.rows.length!==Al.rows.length){var Ai=An.offsetHeight;var Aj=Al.offsetHeight;var Ak;var Am;if(Ai>Aj){Ak=Al.rows[Al.rows.length-1];Am=Ai-Aj}else{Ak=An.rows[An.rows.length-1];Am=Aj-Ai}Ak.style.height=Ak.offsetHeight+Am+"px"}}var g=kendo.Observable.extend({init:function(Aj,Ai){kendo.Observable.fn.init.call(this);Ai=this.options=Ac(true,{},this.options,Ai);this.element=Aj;this.bind(this.events,Ai);this.model=this.options.model;this.fields=this._fields(this.options.columns);this._initContainer();this.createEditable()},events:[],_initContainer:function(){this.wrapper=this.element},createEditable:function(){var Ai=this.options;this.editable=new r.Editable(this.wrapper,{fields:this.fields,target:Ai.target,clearContainer:Ai.clearContainer,model:this.model})},_isEditable:function(Ai){return Ai.field&&this.model.editable(Ai.field)},_fields:function(Am){var Ak=[];var Aj,Ai,Al;for(Aj=0,Ai=Am.length;Aj<Ai;Aj++){Al=Am[Aj];if(this._isEditable(Al)){Ak.push({field:Al.field,format:Al.format,editor:Al.editor})}}return Ak},end:function(){return this.editable.end()},close:function(){this.destroy()},destroy:function(){this.editable.destroy();this.editable.element.find("["+kendo.attr("container-for")+"]").empty().end().removeAttr(kendo.attr("role"));this.model=this.wrapper=this.element=this.columns=this.editable=null}});var T=g.extend({init:function(Aj,Ai){g.fn.init.call(this,Aj,Ai);this._attachHandlers();kendo.cycleForm(this.wrapper);this.open()},events:[w,Q],options:{window:{modal:true,resizable:false,draggable:true,title:"Edit",visible:false}},_initContainer:function(){var Ai=this.options;var Aj=[];this.wrapper=k('<div class="k-popup-edit-form"/>').attr(kendo.attr("uid"),this.model.uid).append('<div class="k-edit-form-container"/>');if(Ai.template){this._appendTemplate(Aj);this.fields=[]}else{this._appendFields(Aj)}this._appendButtons(Aj);new n.Tree(this.wrapper.children()[0]).render(Aj);this.wrapper.appendTo(Ai.appendTo);this.window=new r.Window(this.wrapper,Ai.window)},_appendTemplate:function(Ai){var Aj=this.options.template;if(typeof Aj===Af){Aj=window.unescape(Aj)}Aj=kendo.template(Aj)(this.model);Ai.push(h(Aj))},_appendFields:function(Aj){var Al,Ai,Am;var Ak=this.model;var An=this.options.columns;for(Al=0,Ai=An.length;Al<Ai;Al++){Am=An[Al];if(Am.command){continue}Aj.push(h('<div class="k-edit-label"><label for="'+Am.field+'">'+(Am.title||Am.field||"")+"</label></div>"));if(this._isEditable(Am)){Aj.push(h("<div "+kendo.attr("container-for")+'="'+Am.field+'" class="k-edit-field"></div>'))}else{Aj.push(j("div",{"class":"k-edit-field"},[this.options.fieldRenderer(Am,this.model)]))}}},_appendButtons:function(Ai){Ai.push(j("div",{"class":"k-edit-buttons k-state-default"},this.options.commandRenderer()))},_attachHandlers:function(){var Ai=this._cancelProxy=Ah(this._cancel,this);this.wrapper.on(V+Ad,".k-grid-cancel",this._cancelProxy);this._saveProxy=Ah(this._save,this);this.wrapper.on(V+Ad,".k-grid-update",this._saveProxy);this.window.bind("close",function(Aj){if(Aj.userTriggered){Ai(Aj)}})},_dettachHandlers:function(){this._cancelProxy=null;this._saveProxy=null;this.wrapper.off(Ad)},_cancel:function(Ai){this.trigger(w,Ai)},_save:function(Ai){this.trigger(Q)},open:function(){this.window.center().open()},close:function(){this.window.bind("deactivate",Ah(this.destroy,this)).close()},destroy:function(){this.window.destroy();this.window=null;this._dettachHandlers();g.fn.destroy.call(this)}});var N=Ab.extend({init:function(Ak,Ai){Ab.fn.init.call(this,Ak,Ai);this._dataSource(this.options.dataSource);this._columns();this._layout();this._selectable();this._sortable();this._resizable();this._filterable();this._attachEvents();this._toolbar();this._scrollable();this._reorderable();this._columnMenu();this._minScreenSupport();this._draggable();if(this.options.autoBind){this.dataSource.fetch()}if(this._hasLockedColumns){var Aj=this;this.wrapper.addClass("k-grid-lockedcolumns");this._resizeHandler=function(){Aj.resize()};k(window).on("resize"+Ad,this._resizeHandler)}kendo.notify(this)},_draggable:function(){var Ai=this.options.editable;if(!Ai||!Ai.move){return}this._dragging=new kendo.ui.HierarchicalDragAndDrop(this.wrapper,{$angular:this.$angular,autoScroll:true,filter:"tbody>tr",itemSelector:"tr",allowedContainers:"#"+this.wrapper.attr("id"),hintText:function(Aj){var Al=function(){return k(this).text()};var Ak="<span class='k-header k-drag-separator' />";return Aj.children("td").map(Al).toArray().join(Ak)},contains:Ah(function(Al,Aj){var Ak=this.dataItem(Aj);var Am=this.dataItem(Al);return Am==Ak||this.dataSource.contains(Am,Ak)},this),itemFromTarget:function(Ak){var Aj=Ak.closest("tr");return{item:Aj,content:Aj}},dragstart:Ah(function(){this.wrapper.addClass("k-treelist-dragging")},this),drop:Ah(function(){this.wrapper.removeClass("k-treelist-dragging")},this),dragend:Ah(function(Ak){var Aj=this.dataItem(Ak.destination);var Al=this.dataItem(Ak.source);Al.set("parentId",Aj?Aj.id:null)},this),reorderable:false,dropHintContainer:function(Aj){return Aj.children("td:eq(1)")},dropPositionFrom:function(Aj){return Aj.prevAll(".k-i-none").length>0?"after":"before"}})},_scrollable:function(){if(this.options.scrollable){var Ak=this.thead.closest(".k-grid-header-wrap");var Aj=k(this.lockedContent).bind("DOMMouseScroll"+Ad+" mousewheel"+Ad,Ah(this._wheelScroll,this));this.content.bind("scroll"+Ad,function(){Ak.scrollLeft(this.scrollLeft);Aj.scrollTop(this.scrollTop)});var Ai=kendo.touchScroller(this.content);if(Ai&&Ai.movable){this._touchScroller=Ai;Ai.movable.bind("change",function(Al){Ak.scrollLeft(-Al.sender.x);if(Aj){Aj.scrollTop(-Al.sender.y)}})}}},_wheelScroll:function(Aj){if(Aj.ctrlKey){return}var Ai=kendo.wheelDeltaY(Aj);if(Ai){Aj.preventDefault();k(Aj.currentTarget).one("wheel"+Ad,false);this.content.scrollTop(this.content.scrollTop()+(-Ai))}},_progress:function(){var Ai=this.options.messages;if(!this.tbody.find("tr").length){this._showStatus(kendo.template("<span class='#= className #' /> #: messages.loading #")({className:o.icon+" "+o.loading,messages:Ai}))}},_error:function(Ai){if(!this.dataSource.rootNodes().length){this._render({error:Ai})}},refresh:function(Ai){Ai=Ai||{};if(Ai.action=="itemchange"&&this.editor){return}if(this.trigger(K)){return}this._cancelEditor();this._render();this._adjustHeight();this.trigger(e)},_angularFooters:function(Am){var Aj,Al,Ai;var An=this.dataSource.aggregates();var Ak=this._footerItems();for(Aj=0;Aj<Ak.length;Aj++){Al=Ak.eq(Aj);Ai=An[Al.attr("data-parentId")];this._angularFooter(Am,Al.find("td").get(),Ai)}},_angularFooter:function(Ak,Aj,Ai){var Al=this.columns;this.angular(Ak,function(){return{elements:Aj,data:x(Al,function(An,Am){return{column:An,aggregate:Ai&&Ai[An.field]}})}})},items:function(){if(this._hasLockedColumns){return this._items(this.tbody).add(this._items(this.lockedTable))}else{return this._items(this.tbody)}},_items:function(Ai){return Ai.find("tr").filter(function(){return !k(this).hasClass(o.footerTemplate)})},_footerItems:function(){var Ai=this.tbody;if(this._hasLockedColumns){Ai=Ai.add(this.lockedTable)}return Ai.find("tr").filter(function(){return k(this).hasClass(o.footerTemplate)})},dataItems:function(){var Aj=kendo.ui.DataBoundWidget.fn.dataItems.call(this);if(this._hasLockedColumns){var Ak=Aj.length,Ai=new Array(2*Ak);for(var Al=Ak;--Al>=0;){Ai[Al]=Ai[Al+Ak]=Aj[Al]}Aj=Ai}return Aj},_showStatus:function(Ak){var Ai=this.element.find(".k-status");var Aj=k(this.content).add(this.lockedContent);if(!Ai.length){Ai=k("<div class='k-status' />").appendTo(this.element)}this._contentTree.render([]);if(this._hasLockedColumns){this._lockedContentTree.render([])}Aj.hide();Ai.html(Ak)},_hideStatus:function(){this.element.find(".k-status").remove();k(this.content).add(this.lockedContent).show()},_adjustHeight:function(){var An=this.element;var Aj=An.find(Z+o.gridContentWrap);var Al=An.find(Z+o.gridHeader);var Ai=An.find(Z+o.gridToolbar);var Am;var Ao=kendo.support.scrollbar();An.height(this.options.height);var Ak=function(Ap){var Ar,Aq;if(Ap[0].style.height){return true}else{Ar=Ap.height()}Ap.height("auto");Aq=Ap.height();Ap.height("");return(Ar!=Aq)};if(Ak(An)){Am=An.height()-Al.outerHeight()-Ai.outerHeight();Aj.height(Am);if(this._hasLockedColumns){Ao=this.table[0].offsetWidth>this.table.parent()[0].clientWidth?Ao:0;this.lockedContent.height(Am-Ao)}}},_resize:function(){this._applyLockedContainersWidth();this._adjustHeight()},_minScreenSupport:function(){var Ai=this.hideMinScreenCols();if(Ai){this.minScreenResizeHandler=Ah(this.hideMinScreenCols,this);k(window).on("resize",this.minScreenResizeHandler)}},hideMinScreenCols:function(){var Aj=this.columns,An=false,Al=(window.innerWidth>0)?window.innerWidth:screen.width;for(var Ai=0;Ai<Aj.length;Ai++){var Am=Aj[Ai];var Ak=Am.minScreenWidth;if(Ak!==l&&Ak!==null){An=true;if(Ak>Al){this.hideColumn(Am)}else{this.showColumn(Am)}}}return An},destroy:function(){Ab.fn.destroy.call(this);var Ai=this.dataSource;Ai.unbind(c,this._refreshHandler);Ai.unbind(m,this._errorHandler);Ai.unbind(P,this._progressHandler);if(this._resizeHandler){k(window).off("resize"+Ad,this._resizeHandler)}if(this._dragging){this._dragging.destroy();this._dragging=null}if(this.resizable){this.resizable.destroy();this.resizable=null}if(this.reorderable){this.reorderable.destroy();this.reorderable=null}if(this._draggableInstance&&this._draggableInstance.element){this._draggableInstance.destroy();this._draggableInstance=null}if(this.minScreenResizeHandler){k(window).off("resize",this.minScreenResizeHandler)}this._destroyEditor();this.element.off(Ad);if(this._touchScroller){this._touchScroller.destroy()}this._autoExpandable=null;this._refreshHandler=this._errorHandler=this._progressHandler=null;this.thead=this.content=this.tbody=this.table=this.element=this.lockedHeader=this.lockedContent=null;this._statusTree=this._headerTree=this._contentTree=this._lockedHeaderColsTree=this._lockedContentColsTree=this._lockedHeaderTree=this._lockedContentTree=null},options:{name:"TreeList",columns:[],autoBind:true,scrollable:true,selectable:false,sortable:false,toolbar:null,height:null,columnMenu:false,messages:{noRows:"No records to display",loading:"Loading...",requestFailed:"Request failed.",retry:"Retry",commands:{edit:"Edit",update:"Update",canceledit:"Cancel",create:"Add new record",createchild:"Add child record",destroy:"Delete",excel:"Export to Excel",pdf:"Export to PDF"}},excel:{hierarchy:true},resizable:false,filterable:false,editable:false,reorderable:false},events:[c,D,Q,b,H,Ae,K,e,w,Ag,X,W,L,S,A,B,f],_toggle:function(Ak,Aj){var Ai=Ak.loaded();if(Ak._error){Ak.expanded=false;Ak._error=l}if(!Ai&&Ak.expanded){return}if(typeof Aj=="undefined"){Aj=!Ak.expanded}Ak.expanded=Aj;if(!Ai){this.dataSource.load(Ak).always(Ah(function(){this._render();this._syncLockedContentHeight()},this))}this._render();this._syncLockedContentHeight()},expand:function(Ai){this._toggle(this.dataItem(Ai),true)},collapse:function(Ai){this._toggle(this.dataItem(Ai),false)},_toggleChildren:function(Ai){var Ak=k(Ai.currentTarget);var Al=this.dataItem(Ak);var Aj=!Al.expanded?H:Ae;if(!this.trigger(Aj,{model:Al})){this._toggle(Al)}Ai.preventDefault()},_attachEvents:function(){var Ai=Z+o.iconCollapse+", ."+o.iconExpand+", ."+o.refresh;var Ak=Z+o.retry;var Aj=this.dataSource;this.element.on(p+Ad,Ai,Ah(this._toggleChildren,this)).on(V+Ad,Ak,Ah(Aj.fetch,Aj)).on(V+Ad,".k-button[data-command]",Ah(this._commandClick,this))},_commandByName:function(Ak){var Ao=this.columns;var Am=k.isArray(this.options.toolbar)?this.options.toolbar:[];var Aj,An,Al,Ai;Ak=Ak.toLowerCase();if(a[Ak]){return a[Ak]}for(Aj=0;Aj<Ao.length;Aj++){Al=Ao[Aj].command;if(Al){for(An=0;An<Al.length;An++){Ai=Al[An].name;if(!Ai){continue}if(Ai.toLowerCase()==Ak){return Al[An]}}}}for(Aj=0;Aj<Am.length;Aj++){Ai=Am[Aj].name;if(!Ai){continue}if(Ai.toLowerCase()==Ak){return Am[Aj]}}},_commandClick:function(Ak){var Aj=k(Ak.currentTarget);var Ai=Aj.attr("data-command");var Am=this._commandByName(Ai);var Al=Aj.parentsUntil(this.wrapper,"tr");Al=Al.length?Al:l;if(Am){if(Am.methodName){this[Am.methodName](Al)}else{if(Am.click){Am.click.call(this,Ak)}}Ak.preventDefault()}},_ensureExpandableColumn:function(){if(this._autoExpandable){delete this._autoExpandable.expandable}var Ai=d(this.columns,s(F("hidden")));var Aj=d(Ai,F("expandable"));if(this.columns.length&&!Aj.length){this._autoExpandable=Ai[0];Ai[0].expandable=true}},_columns:function(){var Aj=this.options.columns||[];this.columns=x(Aj,function(Ak){Ak=(typeof Ak==="string")?{field:Ak}:Ak;return Ac({encoded:true},Ak)});var Ai=this._lockedColumns();if(Ai.length>0){this._hasLockedColumns=true;this.columns=Ai.concat(this._nonLockedColumns())}this._ensureExpandableColumn();this._columnTemplates();this._columnAttributes()},_columnTemplates:function(){var Aj,Ai,Ak;var Al=this.columns;for(Aj=0,Ai=Al.length;Aj<Ai;Aj++){Ak=Al[Aj];if(Ak.template){Ak.template=kendo.template(Ak.template)}if(Ak.headerTemplate){Ak.headerTemplate=kendo.template(Ak.headerTemplate)}if(Ak.footerTemplate){Ak.footerTemplate=kendo.template(Ak.footerTemplate)}}},_columnAttributes:function(){var Ak,Ai,Al;var Am=this.columns;function Aj(Ar){var Ap,An,Ao;if(Ar&&Ar.style){Ap=Ar.style.split(";");Ar.style={};for(An=0;An<Ap.length;An++){Ao=Ap[An].split(":");var Aq=k.trim(Ao[0]);if(Aq){Ar.style[k.camelCase(Aq)]=k.trim(Ao[1])}}}}for(Ak=0,Ai=Am.length;Ak<Ai;Ak++){Aj(Am[Ak].attributes);Aj(Am[Ak].headerAttributes)}},_layout:function(){var Am=this.columns;var Al=this.element;var Ak="";this.wrapper=Al.addClass(o.wrapper);Ak="<div class='#= gridHeader #' style=\"padding-right: "+kendo.support.scrollbar()+'px;">';if(this._hasLockedColumns){Ak+="<div class='k-grid-header-locked'><table role='grid'><colgroup></colgroup><thead role='rowgroup' /></table></div>"}Ak+="<div class='#= gridHeaderWrap #'><table role='grid'><colgroup></colgroup><thead role='rowgroup' /></table></div></div>";if(this._hasLockedColumns){Ak+="<div class='k-grid-content-locked'><table role='treegrid' tabindex='0'><colgroup></colgroup><tbody /></table></div>"}Ak+="<div class='#= gridContentWrap #'><table role='treegrid' tabindex='0'><colgroup></colgroup><tbody /></table></div>";if(!this.options.scrollable){Ak="<table role='treegrid' tabindex='0'><colgroup></colgroup><thead class='#= gridHeader #' role='rowgroup' /><tbody /></table>"}if(this.options.toolbar){Ak="<div class='#= header # #= gridToolbar #' />"+Ak}Al.append(kendo.template(Ak)(o)+"<div class='k-status' />");this.toolbar=Al.find(Z+o.gridToolbar);var Aj=Al.find(Z+o.gridHeader).find("thead").addBack().filter("thead");this.thead=Aj.last();var Ai=Al.find(Z+o.gridContentWrap);if(!Ai.length){Ai=Al}else{this.content=Ai}this.table=Ai.find(">table");this.tbody=this.table.find(">tbody");if(this._hasLockedColumns){this.lockedHeader=Aj.first().closest(".k-grid-header-locked");this.lockedContent=Al.find(".k-grid-content-locked");this.lockedTable=this.lockedContent.children()}this._initVirtualTrees();this._renderCols();this._renderHeader();this.angular("compile",function(){return{elements:Aj.find("th.k-header").get(),data:x(Am,function(An){return{column:An}})}})},_initVirtualTrees:function(){this._headerColsTree=new n.Tree(this.thead.prev()[0]);this._contentColsTree=new n.Tree(this.tbody.prev()[0]);this._headerTree=new n.Tree(this.thead[0]);this._contentTree=new n.Tree(this.tbody[0]);this._statusTree=new n.Tree(this.element.children(".k-status")[0]);if(this.lockedHeader){this._lockedHeaderColsTree=new n.Tree(this.lockedHeader.find("colgroup")[0]);this._lockedContentColsTree=new n.Tree(this.lockedTable.find(">colgroup")[0]);this._lockedHeaderTree=new n.Tree(this.lockedHeader.find("thead")[0]);this._lockedContentTree=new n.Tree(this.lockedTable.find(">tbody")[0])}},_toolbar:function(){var Aj=this.options.toolbar;var Al=this.toolbar;if(!Aj){return}if(k.isArray(Aj)){var Ai,Ak=[];for(Ai=0;Ai<Aj.length;Ai++){if(Aj[Ai].template){Al.append(kendo.template(Aj[Ai].template)({}))}else{Ak.push(this._button(Aj[Ai],true))}}new n.Tree(Al[0]).render(Ak)}else{Al.append(kendo.template(Aj)({}))}this.angular("compile",function(){return{elements:Al.get()}})},_lockedColumns:function(){return d(this.columns,F("locked"))},_nonLockedColumns:function(){return d(this.columns,s(F("locked")))},_render:function(Al){Al=Al||{};var Ak=this.options.messages;var Am=this.dataSource.rootNodes();var Ai=this.dataSource.aggregates();var Aj=this.select().map(function(Ao,An){return k(An).attr("data-uid")});this._absoluteIndex=0;this._angularItems("cleanup");this._angularFooters("cleanup");if(Al.error){this._showStatus(kendo.template("#: messages.requestFailed # <button class='#= buttonClass #'>#: messages.retry #</button>")({buttonClass:[o.button,o.retry].join(" "),messages:Ak}))}else{if(!Am.length){this._showStatus(kendo.htmlEncode(Ak.noRows))}else{this._hideStatus();this._contentTree.render(this._trs({columns:this._nonLockedColumns(),aggregates:Al.aggregates,selected:Aj,data:Am,visible:true,level:0}));if(this._hasLockedColumns){this._absoluteIndex=0;this._lockedContentTree.render(this._trs({columns:this._lockedColumns(),aggregates:Al.aggregates,selected:Aj,data:Am,visible:true,level:0}))}}}if(this._touchScroller){this._touchScroller.contentResized()}this._angularItems("compile");this._angularFooters("compile");this._adjustRowsHeight()},_adjustRowsHeight:function(){if(!this._hasLockedColumns){return}var Av=this.table;var Am=this.lockedTable;var Aj=Av[0].rows;var Ao=Aj.length;var An;var At=Am[0].rows;var Ai=Av.add(Am);var Aq=Ai.length;var Ap=[];var Au=this.lockedHeader.find("tr");var As=this.thead.find("tr");Au.add(As).height("auto").height(Math.max(Au.height(),As.height()));for(An=0;An<Ao;An++){if(!At[An]){break}if(Aj[An].style.height){Aj[An].style.height=At[An].style.height=""}var Ak=Aj[An].offsetHeight;var Ar=At[An].offsetHeight;var Al=0;if(Ak>Ar){Al=Ak}else{if(Ak<Ar){Al=Ar}}Ap.push(Al)}for(An=0;An<Aq;An++){Ai[An].style.display="none"}for(An=0;An<Ao;An++){if(Ap[An]){Aj[An].style.height=At[An].style.height=(Ap[An]+1)+"px"}}for(An=0;An<Aq;An++){Ai[An].style.display=""}},_ths:function(Al){var An=this.options.filterable;var Ap=[];var Ak,Ar,Am,Aj,Ao,Ai;for(var Aq=0,As=Al.length;Aq<As;Aq++){Ak=Al[Aq];Am=[];Aj=[o.header];if(Ak.headerTemplate){Ar=Ak.headerTemplate({})}else{Ar=Ak.title||Ak.field||""}if(Ak.headerTemplate){Ai=h(Ar)}else{Ai=u(Ar)}if(Ak.sortable){Am.push(j("a",{href:"#",className:o.link},[Ai]))}else{Am.push(Ai)}Ao={"data-field":Ak.field,"data-title":Ak.title,"style":Ak.hidden===true?{"display":"none"}:{},className:Aj.join(" "),"role":"columnheader"};Ao=Ac(true,{},Ao,Ak.headerAttributes);Ap.push(j("th",Ao,Am))}return Ap},_cols:function(Am){var Aj=[];var Al,Ak;for(var Ai=0;Ai<Am.length;Ai++){if(Am[Ai].hidden===true){continue}Al=Am[Ai].width;Ak={};if(Al&&parseInt(Al,10)!==0){Ak.style={width:typeof Al==="string"?Al:Al+"px"}}Aj.push(j("col",Ak))}return Aj},_renderCols:function(){var Ai=this._nonLockedColumns();this._headerColsTree.render(this._cols(Ai));if(this.options.scrollable){this._contentColsTree.render(this._cols(Ai))}if(this._hasLockedColumns){Ai=this._lockedColumns();this._lockedHeaderColsTree.render(this._cols(Ai));this._lockedContentColsTree.render(this._cols(Ai))}},_renderHeader:function(){var Ai=this._nonLockedColumns();this._headerTree.render([j("tr",{"role":"row"},this._ths(Ai))]);if(this._hasLockedColumns){Ai=this._lockedColumns();this._lockedHeaderTree.render([j("tr",{"role":"row"},this._ths(Ai))]);this._applyLockedContainersWidth()}},_applyLockedContainersWidth:function(){if(!this._hasLockedColumns){return}var Am=I(this.lockedHeader.find(">table>colgroup>col"));var Aj=this.thead.parent();var Al=I(Aj.find(">colgroup>col"));var Ai=this.wrapper[0].clientWidth;var Ak=kendo.support.scrollbar();if(Am>=Ai){Am=Ai-3*Ak}this.lockedHeader.add(this.lockedContent).width(Am);Aj.add(this.table).width(Al);var An=Ai-Am-2;this.content.width(An);Aj.parent().width(An-Ak)},_trs:function(Ar){var Aw,Ao,Au,Ap,Am,Aq,Av,As;var Aj=[];var At=Ar.level;var Ai=Ar.data;var Ak=this.dataSource;var Al=Ak.aggregates()||{};var An=Ar.columns;for(Aq=0,Av=Ai.length;Aq<Av;Aq++){Au=[];Aw=Ai[Aq];Am=Aw.loaded()&&Ak.childNodes(Aw);Ap=Am&&Am.length;Ao={"data-uid":Aw.uid,"role":"row"};if(Ap){Ao["aria-expanded"]=!!Aw.expanded}if(Ar.visible){if(this._absoluteIndex%2!==0){Au.push(o.alt)}this._absoluteIndex++}else{Ao.style={display:"none"}}if(k.inArray(Aw.uid,Ar.selected)>=0){Au.push(o.selected)}if(Ap){Au.push(o.group)}if(Aw._edit){Au.push("k-grid-edit-row")}Ao.className=Au.join(" ");Aj.push(this._tds({model:Aw,attr:Ao,level:At},An,Ah(this._td,this)));if(Ap){Aj=Aj.concat(this._trs({columns:An,parentId:Aw.id,aggregates:Al,selected:Ar.selected,visible:Ar.visible&&!!Aw.expanded,data:Am,level:At+1}))}}if(this._hasFooterTemplate()){As=Ar.parentId||null;Ao={className:o.footerTemplate,"data-parentId":As};if(!Ar.visible){Ao.style={display:"none"}}Aj.push(this._tds({model:Al[As],attr:Ao,level:At},An,this._footerTd))}return Aj},_footerTd:function(Aj){var Al=[];var Am=Aj.column;var Ak=Aj.column.footerTemplate||k.noop;var Ai=Aj.model[Am.field]||{};var An={"role":"gridcell","style":Am.hidden===true?{"display":"none"}:{}};if(Am.expandable){Al=Al.concat(v({level:Aj.level+1,className:o.iconPlaceHolder}))}if(Am.attributes){Ac(An,Am.attributes)}Al.push(h(Ak(Ai)||""));return j("td",An,Al)},_hasFooterTemplate:function(){return !!d(this.columns,function(Ai){return Ai.footerTemplate}).length},_tds:function(Al,Ao,Am){var Ai=[];var An;for(var Aj=0,Ak=Ao.length;Aj<Ak;Aj++){An=Ao[Aj];Ai.push(Am({model:Al.model,column:An,level:Al.level}))}return j("tr",Al.attr,Ai)},_td:function(Al){var An=[];var Am=Al.model;var Aj=Al.column;var Ai;var Ak={"role":"gridcell","style":Aj.hidden===true?{"display":"none"}:{}};if(Am._edit&&Aj.field&&Am.editable(Aj.field)){Ak[kendo.attr("container-for")]=Aj.field}else{if(Aj.expandable){An=v({level:Al.level,className:o.iconPlaceHolder});Ai=[o.icon];if(Am.hasChildren){Ai.push(Am.expanded?o.iconCollapse:o.iconExpand)}else{Ai.push(o.iconHidden)}if(Am._error){Ai.push(o.refresh)}else{if(!Am.loaded()&&Am.expanded){Ai.push(o.loading)}}An.push(j("span",{className:Ai.join(" ")}));Ak.style["white-space"]="nowrap"}if(Aj.attributes){Ac(true,Ak,Aj.attributes)}if(Aj.command){if(Am._edit){An=this._buildCommands(["update","canceledit"])}else{An=this._buildCommands(Aj.command)}}else{An.push(this._cellContent(Aj,Am))}}return j("td",Ak,An)},_cellContent:function(Ak,Ai){var Aj;if(Ak.template){Aj=Ak.template(Ai)}else{if(Ak.field){Aj=Ai.get(Ak.field);if(Ak.format){Aj=kendo.format(Ak.format,Aj)}}}if(Aj===null||typeof Aj=="undefined"){Aj=""}if(Ak.template||!Ak.encoded){return h(Aj)}else{return u(Aj)}},_buildCommands:function(Ak,Al){var Ai,Aj=[];for(Ai=0;Ai<Ak.length;Ai++){Aj.push(this._button(Ak[Ai],Al))}return Aj},_button:function(Al,Ak){var Aj=(Al.name||Al).toLowerCase();var Am=this.options.messages.commands[Aj];var Ai=[];Al=Ac({},a[Aj],{text:Am},Al);iconClass=Al.iconClass;if(Ak){if(iconClass||Al.imageClass){Ai.push(j("span",{className:[iconClass,Al.imageClass].join(" ")}))}return j("button",{"data-command":Aj,"onclick":Al.click,className:["k-button","k-button-icontext",Al.className].join(" ")},Ai.concat([u(Al.text||Al.name)]))}else{if(iconClass||Al.imageClass){Ai.push(j("span",{className:[iconClass,Al.imageClass].join(" ")}))}return j("button",{"data-command":Aj,title:Al.title,className:["k-button","k-button-icontext","e-command",Al.className].join(" ")},Ai)}},_positionResizeHandle:function(Ai){var Ar=k(Ai.currentTarget);var Aq=3;var Ak=this.resizeHandle;var Ao=Ar.position();var Al=Ao.left;var Aj=Ar.outerWidth();var Ap=Ar.closest(".k-grid-header-wrap,.k-grid-header-locked,.k-treelist");Al+=Ap.scrollLeft();if(!Ak){Ak=this.resizeHandle=k('<div class="k-resize-handle"><div class="k-resize-handle-inner" /></div>')}Ap.append(Ak);if(Ai.clientX>Al+Aj/2){Al+=Aj}else{Ar=Ar.prev()}var Am=!!Ar.length&&Al>Aq;Ak.toggle(Am).css({top:Ao.top,left:Al-Aq-1,height:Ar.outerHeight(),width:Aq*3}).data("th",Ar);var An=this;Ak.off("dblclick"+Ad).on("dblclick"+Ad,function(){var As=Ar.index();if(k.contains(An.thead[0],Ar[0])){As+=d(An.columns,function(Au,At){return Au.locked&&!Au.hidden}).length}An.autoFitColumn(As)})},autoFitColumn:function(Au){var AD=this,Az=AD.options,At=AD.columns,Al,Aj=kendo.support.browser,An,Ao,Av,Ak,AB=AD.lockedHeader?E(AD.lockedHeader.find(">table>thead")).filter(O).length:0,AF;if(typeof Au=="number"){Au=At[Au]}else{if(Y(Au)){Au=d(At,function(AH){return AH===Au})[0]}else{Au=d(At,function(AH){return AH.field===Au})[0]}}if(!Au||Au.hidden){return}Al=R(Au,At);Ak=Au.locked;if(Ak){Av=AD.lockedHeader.children("table")}else{Av=AD.thead.parent()}An=Av.find("[data-index='"+Al+"']");var Ay=Ak?AD.lockedTable:AD.table,Ax=AD.footer||k();if(AD.footer&&AD.lockedContent){Ax=Ak?AD.footer.children(".k-grid-footer-locked"):AD.footer.children(".k-grid-footer-wrap")}var Ar=Ax.find("table").first();if(AD.lockedHeader&&AB>=Al&&!Ak){Al-=AB}for(var Am=0;Am<At.length;Am++){if(At[Am]===Au){break}else{if(At[Am].hidden){Al--}}}if(Az.scrollable){AF=Av.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+Al+")").add(Ay.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+Al+")")).add(Ar.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+Al+")"))}else{AF=Ay.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+Al+")")}var Aw=Av.add(Ay).add(Ar);var Ap=An.outerWidth();AF.width("");Aw.css("table-layout","fixed");AF.width("auto");Aw.addClass("k-autofitting");Aw.css("table-layout","");var AA=Math.max(Av.width(),Ay.width(),Ar.width());var As=Math.ceil(Math.max(An.outerWidth(),Ay.find("tr").eq(0).children("td:visible").eq(Al).outerWidth(),Ar.find("tr").eq(0).children("td:visible").eq(Al).outerWidth()));AF.width(As);Au.width=As;if(Az.scrollable){var AC=Av.find("col"),Aq,AG=0;for(var AE=0,Ai=AC.length;AE<Ai;AE+=1){Aq=AC[AE].style.width;if(Aq&&Aq.indexOf("%")==-1){AG+=parseInt(Aq,10)}else{AG=0;break}}if(AG){Aw.each(function(){this.style.width=AG+"px"})}}if(Aj.msie&&Aj.version==8){Aw.css("display","inline-table");setTimeout(function(){Aw.css("display","table")},1)}Aw.removeClass("k-autofitting");AD.trigger(S,{column:Au,oldWidth:Ap,newWidth:As});AD._applyLockedContainersWidth();AD._syncLockedContentHeight();AD._syncLockedHeaderHeight()},_adjustLockedHorizontalScrollBar:function(){var Ak=this.table,Aj=Ak.parent();var Ai=Ak[0].offsetWidth>Aj[0].clientWidth?kendo.support.scrollbar():0;this.lockedContent.height(Aj.height()-Ai)},_syncLockedContentHeight:function(){if(this.lockedTable){if(!this._touchScroller){this._adjustLockedHorizontalScrollBar()}this._adjustRowsHeight(this.table,this.lockedTable)}},_syncLockedHeaderHeight:function(){if(this.lockedHeader){var Ai=this.lockedHeader.children("table");var Aj=this.thead.parent();this._adjustRowsHeight(Ai,Aj);C(Ai,Aj)}},_resizable:function(){if(!this.options.resizable){return}if(this.resizable){this.resizable.destroy()}var Ai=this;k(this.lockedHeader).find("thead").add(this.thead).on("mousemove"+Ad,"th",k.proxy(this._positionResizeHandle,this));this.resizable=new kendo.ui.Resizable(this.wrapper,{handle:".k-resize-handle",start:function(Aj){var Am=k(Aj.currentTarget).data("th");var An="col:eq("+Am.index()+")";var Al,Ak;Ai.wrapper.addClass("k-grid-column-resizing");if(Ai.lockedHeader&&k.contains(Ai.lockedHeader[0],Am[0])){Al=Ai.lockedHeader;Ak=Ai.lockedTable}else{Al=Ai.thead.parent();Ak=Ai.table}this.col=Ak.children("colgroup").find(An).add(Al.find(An));this.th=Am;this.startLocation=Aj.x.location;this.columnWidth=Am.outerWidth();this.table=this.col.closest("table");this.totalWidth=this.table.width()},resize:function(Ak){var Aj=11;var Al=Ak.x.location-this.startLocation;if(this.columnWidth+Al<Aj){Al=Aj-this.columnWidth}this.table.width(this.totalWidth+Al);this.col.width(this.columnWidth+Al)},resizeend:function(){Ai.wrapper.removeClass("k-grid-column-resizing");var Ak=this.th.attr("data-field");var Al=d(Ai.columns,function(Am){return Am.field==Ak});var Aj=Math.floor(this.th.outerWidth());Al[0].width=Aj;Ai._resize();Ai._adjustRowsHeight();Ai.trigger(S,{column:Al,oldWidth:this.columnWidth,newWidth:Aj});this.table=this.col=this.th=null}})},_sortable:function(){var Aj=this.columns;var Ai;var Am;var An=k(this.lockedHeader).add(this.thead).find("th");var Aq,Ak,Al;var Ap=kendo.attr("field");var Ao=this.options.sortable;if(!Ao){return}for(Ak=0,Al=An.length;Ak<Al;Ak++){Ai=Aj[Ak];if(Ai.sortable!==false&&!Ai.command&&Ai.field){Aq=An.eq(Ak);Am=Aq.data("kendoColumnSorter");if(Am){Am.destroy()}Aq.attr(Ap,Ai.field).kendoColumnSorter(Ac({},Ao,Ai.sortable,{dataSource:this.dataSource}))}}},_filterable:function(){var An=k(this.lockedHeader).add(this.thead).find("th");var Al=this.options.filterable;var Ak,Ao,Aj,Ap,Am;if(!Al||this.options.columnMenu){return}var Ai=Ah(function(Aq){this.trigger(Ag,{field:Aq.field,container:Aq.container})},this);for(Ak=0,Ao=An.length;Ak<Ao;Ak++){Aj=this.columns[Ak];Ap=An.eq(Ak);Am=Ap.data("kendoFilterMenu");if(Am){Am.destroy()}if(Aj.command||Aj.filterable===false){continue}Ap.kendoFilterMenu(Ac(true,{},Al,Aj.filterable,{dataSource:this.dataSource,init:Ai}))}},_change:function(){this.trigger(c)},_selectable:function(){var Ai=this.options.selectable;var Aj;var Ak=this.table;var Al;if(Ai){Ai=kendo.ui.Selectable.parseOptions(Ai);if(this._hasLockedColumns){Ak=Ak.add(this.lockedTable);Al=Ai.multiple&&Ai.cell}Aj=">tbody>tr:not(.k-footer-template)";if(Ai.cell){Aj=Aj+">td"}this.selectable=new kendo.ui.Selectable(Ak,{filter:Aj,aria:true,multiple:Ai.multiple,change:Ah(this._change,this),useAllItems:Al,continuousItems:Ah(this._continuousItems,this,Aj,Ai.cell),relatedTarget:!Ai.cell&&this._hasLockedColumns?Ah(this._selectableTarget,this):l})}},_continuousItems:function(Ao,Ap){if(!this.lockedContent){return}var An=k(Ao,this.lockedTable);var Am=k(Ao,this.table);var Aj=Ap?this._lockedColumns().length:1;var Al=Ap?this.columns.length-Aj:1;var Ai=[];for(var Ak=0;Ak<An.length;Ak+=Aj){G.apply(Ai,An.slice(Ak,Ak+Aj));G.apply(Ai,Am.splice(0,Al))}return Ai},_selectableTarget:function(Al){var Ai;var Ak=k();for(var Am=0,Aj=Al.length;Am<Aj;Am++){Ai=this._relatedRow(Al[Am]);if(R(Ai[0],Al)<0){Ak=Ak.add(Ai)}}return Ak},_relatedRow:function(Aj){var Ai=this.lockedTable;Aj=k(Aj);if(!Ai){return Aj}var Al=Aj.closest(this.table.add(this.lockedTable));var Ak=Al.find(">tbody>tr").index(Aj);Al=Al[0]===this.table[0]?Ai:this.table;return Al.find(">tbody>tr").eq(Ak)},select:function(Aj){var Ai=this.selectable;if(!Ai){return k()}if(typeof Aj!=="undefined"){if(!Ai.options.multiple){Ai.clear();Aj=Aj.first()}if(this._hasLockedColumns){Aj=Aj.add(k.map(Aj,Ah(this._relatedRow,this)))}}return Ai.value(Aj)},clearSelection:function(){var Ai=this.select();if(Ai.length){this.selectable.clear();this.trigger(c)}},_dataSource:function(Aj){var Ai=this.dataSource;if(Ai){Ai.unbind(c,this._refreshHandler);Ai.unbind(m,this._errorHandler);Ai.unbind(P,this._progressHandler)}this._refreshHandler=Ah(this.refresh,this);this._errorHandler=Ah(this._error,this);this._progressHandler=Ah(this._progress,this);Ai=this.dataSource=t.create(Aj);Ai.bind(c,this._refreshHandler);Ai.bind(m,this._errorHandler);Ai.bind(P,this._progressHandler)},setDataSource:function(Ai){this._dataSource(Ai);this._sortable();this._filterable();this._contentTree.render([]);if(this.options.autoBind){this.dataSource.fetch()}},dataItem:function(Aj){var Ai=k(Aj).closest("tr");var Ak=this.dataSource.getByUid(Ai.attr(kendo.attr("uid")));return Ak},editRow:function(Ai){var Aj;if(typeof Ai===Af){Ai=this.tbody.find(Ai)}Aj=this.dataItem(Ai);if(!Aj){return}if(this._editMode()!="popup"){Aj._edit=true}this._cancelEditor();this._render();this._createEditor(Aj);this.trigger(D,{container:this.editor.wrapper,model:Aj})},_cancelEdit:function(Ai){Ai=Ac(Ai,{container:this.editor.wrapper,model:this.editor.model});if(this.trigger(w,Ai)){return}this.cancelRow()},cancelRow:function(){this._cancelEditor();this._render()},saveRow:function(){var Ai=this.editor;var Aj;if(!Ai){return}Aj={model:Ai.model,container:Ai.wrapper};if(Ai.end()&&!this.trigger(Q,Aj)){this.dataSource.sync()}},addRow:function(Ak){var Aj=this.editor;var Ai=0;var Al={};if(Aj&&!Aj.end()){return}if(Ak){if(!(Ak instanceof Aa)){Ak=this.dataItem(Ak)}Al.parentId=Ak.id;Ai=this.dataSource.indexOf(Ak)+1;Ak.set("expanded",true);this.dataSource.load(Ak).then(Ah(this._insertAt,this,Al,Ai));return}this._insertAt(Al,Ai)},_insertAt:function(Ak,Aj){Ak=this.dataSource.insert(Aj,Ak);var Ai=this.tbody.find("["+kendo.attr("uid")+"="+Ak.uid+"]");this.editRow(Ai)},removeRow:function(Ai){var Aj=this.dataItem(Ai);var Ak={model:Aj,row:Ai};if(Aj&&!this.trigger(b,Ak)){this.dataSource.remove(Aj);this.dataSource.sync()}},_cancelEditor:function(){var Aj;var Ai=this.editor;if(Ai){Aj=Ai.model;this._destroyEditor();this.dataSource.cancelChanges(Aj);Aj._edit=false}},_destroyEditor:function(){if(!this.editor){return}this.editor.close();this.editor=null},_createEditor:function(Al){var Ak=this.tbody.find("["+kendo.attr("uid")+"="+Al.uid+"]");Ak=Ak.add(this._relatedRow(Ak));var Ai=this._editMode();var Aj={columns:this.columns,model:Al,target:this,clearContainer:false,template:this.options.editable.template};if(Ai=="inline"){this.editor=new g(Ak,Aj)}else{Ac(Aj,{window:this.options.editable.window,commandRenderer:Ah(function(){return this._buildCommands(["update","canceledit"],false)},this),fieldRenderer:this._cellContent,save:Ah(this.saveRow,this),cancel:Ah(this._cancelEdit,this),appendTo:this.wrapper});this.editor=new T(Ak,Aj)}},_editMode:function(){var Ai="inline",Aj=this.options.editable;if(Aj!==true){if(typeof Aj=="string"){Ai=Aj}else{Ai=Aj.mode||Ai}}return Ai.toLowerCase()},hideColumn:function(Ai){this._toggleColumnVisibility(Ai,true)},showColumn:function(Ai){this._toggleColumnVisibility(Ai,false)},_toggleColumnVisibility:function(Ai,Aj){Ai=this._findColumn(Ai);if(!Ai||Ai.hidden===Aj){return}Ai.hidden=Aj;this._ensureExpandableColumn();this._renderCols();this._renderHeader();this._render();this._adjustTablesWidth();this.trigger(Aj?X:W,{column:Ai});if(!Aj&&!Ai.width){this.table.add(this.thead.closest("table")).width("")}},_findColumn:function(Ai){if(typeof Ai=="number"){Ai=this.columns[Ai]}else{if(Y(Ai)){Ai=d(this.columns,function(Aj){return Aj===Ai})[0]}else{Ai=d(this.columns,function(Aj){return Aj.field===Ai})[0]}}return Ai},_adjustTablesWidth:function(){var Al,Ai;var Aj=this.thead.prev().children();var Ak,Am=0;for(Al=0,Ai=Aj.length;Al<Ai;Al++){Ak=Aj[Al].style.width;if(Ak&&Ak.indexOf("%")==-1){Am+=parseInt(Ak,10)}else{Am=0;break}}if(Am){this.table.add(this.thead.closest("table")).width(Am)}},_reorderable:function(){if(!this.options.reorderable){return}var Ai=this.options.scrollable===true;var Ak=(Ai?".k-grid-header:first ":"table:first>.k-grid-header ")+q;var Aj=this;this._draggableInstance=new r.Draggable(this.wrapper,{group:kendo.guid(),filter:Ak,hint:function(Al){return k('<div class="k-header k-drag-clue" />').css({width:Al.width(),paddingLeft:Al.css("paddingLeft"),paddingRight:Al.css("paddingRight"),lineHeight:Al.height()+"px",paddingTop:Al.css("paddingTop"),paddingBottom:Al.css("paddingBottom")}).html(Al.attr(kendo.attr("title"))||Al.attr(kendo.attr("field"))||Al.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}});this.reorderable=new r.Reorderable(this.wrapper,{draggable:this._draggableInstance,dragOverContainers:Ah(this._allowDragOverContainers,this),inSameContainer:function(Al){return k(Al.source).parent()[0]===k(Al.target).parent()[0]},change:function(Al){var Ao=Al.newIndex;var Am=Al.oldIndex;var An=Al.position==="before";var Ap=Aj.columns[Am];Aj.trigger(L,{newIndex:Ao,oldIndex:Am,column:Ap});Aj.reorderColumn(Ao,Ap,An)}})},_allowDragOverContainers:function(Ai){return this.columns[Ai].lockable!==false},reorderColumn:function(Ap,Aj,As){var Aq;var Al=this.columns;var Ar=R(Aj,Al);var An=Al[Ap];var Ao=!!An.locked;var Ai=this._nonLockedColumns().length;if(Ar===Ap){return}if(Ao&&!Aj.locked&&Ai==1){return}if(!Ao&&Aj.locked&&(Al.length-Ai==1)){return}if(As===l){As=Ap<Ar}Aq=!!Aj.locked;Aq=Aq!=Ao;Aj.locked=Ao;Al.splice(As?Ap:Ap+1,0,Aj);Al.splice(Ar<Ap?Ar:Ar+1,1);this._renderCols();var Am=k(this.lockedHeader).add(this.thead).find("th");Am.eq(Ar)[As?"insertBefore":"insertAfter"](Am.eq(Ap));var Ak=this._headerTree.children[0].children;if(this._hasLockedColumns){Ak=this._lockedHeaderTree.children[0].children.concat(Ak)}Ak.splice(As?Ap:Ap+1,0,Ak[Ar]);Ak.splice(Ar<Ap?Ar:Ar+1,1);if(this._hasLockedColumns){this._lockedHeaderTree.children[0].children=Ak.splice(0,this._lockedColumns().length);this._headerTree.children[0].children=Ak}this._applyLockedContainersWidth();this.refresh();if(!Aq){return}if(Ao){this.trigger(B,{column:Aj})}else{this.trigger(f,{column:Aj})}},lockColumn:function(Aj){var Ak=this.columns;if(typeof Aj=="number"){Aj=Ak[Aj]}else{Aj=d(Ak,function(Al){return Al.field===Aj})[0]}if(!Aj||Aj.hidden){return}var Ai=this._lockedColumns().length-1;this.reorderColumn(Ai,Aj,false)},unlockColumn:function(Aj){var Ak=this.columns;if(typeof Aj=="number"){Aj=Ak[Aj]}else{Aj=d(Ak,function(Al){return Al.field===Aj})[0]}if(!Aj||Aj.hidden){return}var Ai=this._lockedColumns().length;this.reorderColumn(Ai,Aj,true)},_columnMenu:function(){var An=k(this.lockedHeader).add(this.thead).find("th");var Al=this.columns;var Ao=this.options;var Ai=Ao.columnMenu;var Aj,Ar,Aq,As,Am;var Ap=Ah(this._columnMenuInit,this);var Ak=this._lockedColumns().length;if(!Ai){return}if(typeof Ai=="boolean"){Ai={}}for(var At=0;At<An.length;At++){Aj=Al[At];if(!Aj.field){continue}Ar=An.eq(At).data("kendoColumnMenu");if(Ar){Ar.destroy()}As=false;if(Aj.sortable!==false&&Ai.sortable!==false&&Ao.sortable!==false){As=Ac({},Ao.sortable,{compare:(Aj.sortable||{}).compare})}Am=false;if(Ao.filterable&&Aj.filterable!==false&&Ai.filterable!==false){Am=Ac({pane:this.pane},Aj.filterable,Ao.filterable)}Aq={dataSource:this.dataSource,values:Aj.values,columns:Ai.columns,sortable:As,filterable:Am,messages:Ai.messages,owner:this,closeCallback:k.noop,init:Ap,pane:this.pane,lockedColumns:Aj.lockable!==false&&Ak>0};if(Ao.$angular){Aq.$angular=Ao.$angular}An.eq(At).kendoColumnMenu(Aq)}},_columnMenuInit:function(Ai){this.trigger(A,{field:Ai.field,container:Ai.container})}});if(kendo.ExcelMixin){kendo.ExcelMixin.extend(N.prototype)}if(kendo.PDFMixin){kendo.PDFMixin.extend(N.prototype)}Ac(true,kendo.data,{TreeListDataSource:t,TreeListModel:Aa});Ac(true,kendo.ui,{TreeList:N});r.plugin(N)})(window.kendo.jQuery);(function(K,A){var C=window.kendo,L=C.ui,I=L.Widget,M=".kendoPivotConfigurator",O="mouseenter"+M+" mouseleave"+M,H=C.template('<p class="k-reset"><span class="k-icon #=icon#"></span>${name}</p><div class="k-list-container k-reset"/>');function J(S){var R;var Q=0;var P=S.length;for(;Q<P;Q++){if(S[Q].type==2){R=true;break}}if(R){S.splice(Q+1,0,{caption:"KPIs",defaultHierarchy:"[KPIs]",name:"KPIs",uniqueName:"[KPIs]"})}}function E(P){return{name:P.uniqueName,type:P.type}}function N(R){for(var Q=0,P=R.length;Q<P;Q++){R[Q].uniqueName=R[Q].name;R[Q].type="kpi"}return R}function B(P){var Q=K(P).closest(".k-pivot-setting");if(Q.length){return Q.data("kendoPivotSettingTarget")}return null}var F=I.extend({init:function(Q,P){I.fn.init.call(this,Q,P);this.element.addClass("k-widget k-fieldselector k-alt k-edit-form-container");this._dataSource();this._layout();this.refresh();C.notify(this)},events:[],options:{name:"PivotConfigurator",filterable:false,sortable:false,messages:{measures:"Drop Data Fields Here",columns:"Drop Column Fields Here",rows:"Drop Rows Fields Here",measuresLabel:"Measures",columnsLabel:"Columns",rowsLabel:"Rows",fieldsLabel:"Fields"}},_dataSource:function(){var P=this;if(P.dataSource&&P._refreshHandler){P.dataSource.unbind("change",P._refreshHandler).unbind("error",P._errorHandler).unbind("progress",P._progressHandler)}else{P._errorHandler=K.proxy(P._error,P);P._refreshHandler=K.proxy(P.refresh,P);P._progressHandler=K.proxy(P._requestStart,P)}P.dataSource=C.data.PivotDataSource.create(P.options.dataSource);P.dataSource.bind("change",P._refreshHandler).bind("error",P._errorHandler).bind("progress",P._progressHandler)},setDataSource:function(P){this.options.dataSource=P;this._dataSource();if(this.measures){this.measures.setDataSource(P)}if(this.rows){this.rows.setDataSource(P)}if(this.columns){this.columns.setDataSource(P)}this.refresh()},_treeViewDataSource:function(){var P=this;return C.data.HierarchicalDataSource.create({schema:{model:{id:"uniqueName",hasChildren:function(Q){return !("hierarchyUniqueName" in Q)&&!("aggregator" in Q)}}},transport:{read:function(S){var Q;var R;var T;if(K.isEmptyObject(S.data)){Q=P.dataSource.schemaDimensions();Q.done(function(U){if(!P.dataSource.cubeBuilder){J(U)}S.success(U)}).fail(S.error)}else{R=P.treeView.dataSource.get(S.data.uniqueName);if(R.uniqueName==="[KPIs]"){T=true;Q=P.dataSource.schemaKPIs();Q.done(function(U){S.success(N(U))}).fail(S.error)}else{if(R.type=="kpi"){T=true;S.success(D(R))}}if(!T){if(R.type==2){Q=P.dataSource.schemaMeasures()}else{if(R.dimensionUniqueName){Q=P.dataSource.schemaLevels(S.data.uniqueName)}else{Q=P.dataSource.schemaHierarchies(S.data.uniqueName)}}Q.done(S.success).fail(S.error)}}}}})},_progress:function(P){C.ui.progress(this.element,P)},_error:function(){this._progress(false)},_requestStart:function(){this._progress(true)},_layout:function(){this.form=K('<div class="k-columns k-state-default k-floatwrap"/>').appendTo(this.element);this._fields();this._targets()},_fields:function(){var Q=K('<div class="k-state-default"><p class="k-reset"><span class="k-icon k-i-group"></span>'+this.options.messages.fieldsLabel+"</p></div>").appendTo(this.form);var P=this;var R='# if (item.type == 2 || item.uniqueName == "[KPIs]") { #<span class="k-icon k-i-#= (item.type == 2 ? "sum" : "kpi") #"></span># } else if (item.type && item.type !== "kpi") { #<span class="k-icon k-i-dimension"></span># } ##: item.caption || item.name #';this.treeView=K("<div/>").appendTo(Q).kendoTreeView({template:R,dataTextField:"caption",dragAndDrop:true,autoBind:false,dataSource:this._treeViewDataSource(),dragstart:function(S){var T=this.dataItem(S.sourceNode);if((!T.hasChildren&&!T.aggregator&&!T.measure)||(T.type==2)||T.uniqueName==="[KPIs]"){S.preventDefault()}},drag:function(S){var T="k-denied";var U=B(S.dropTarget);if(U&&U.validate(this.dataItem(S.sourceNode))){T="k-add"}S.setStatusClass(T)},drop:function(T){T.preventDefault();var V=B(T.dropTarget);var U=this.dataItem(T.sourceNode);var X,S,Y;var W;if(V&&V.validate(U)){W=U.defaultHierarchy||U.uniqueName;if(U.type==="kpi"){Y=D(U);S=Y.length;W=[];for(X=0;X<S;X++){W.push(E(Y[X]))}}else{if(U.kpi){W=[E(U)]}}V.add(W)}}}).data("kendoTreeView")},_createTarget:function(T,R){var S='<li class="k-item k-header" data-'+C.ns+'name="${data.name}">${data.name}';var Q=R.sortable;var P="";if(Q){P+="#if (data.sortIcon) {#";P+='<span class="k-icon ${data.sortIcon} k-setting-sort"></span>';P+="#}#"}if(R.filterable||Q){P+='<span class="k-icon k-i-arrowhead-s k-setting-fieldmenu"></span>'}P+='<span class="k-icon k-si-close k-setting-delete"></span>';S+='<span class="k-field-actions">'+P+"</span></li>";return new C.ui.PivotSettingTarget(T,K.extend({dataSource:this.dataSource,hint:function(V){var U=K('<div class="k-fieldselector"><ul class="k-list k-reset"></ul></div>');U.find(".k-list").append(V.clone());return U},template:S,emptyTemplate:'<li class="k-item k-empty">${data}</li>'},R))},_targets:function(){var U=K('<div class="k-state-default"/>').appendTo(this.form);var S=K(H({name:this.options.messages.columnsLabel,icon:"k-i-vbars"})).appendTo(U);var Q=K('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(S.last());var W=K(H({name:this.options.messages.rowsLabel,icon:"k-i-hbars"})).appendTo(U);var P=K('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(W.last());var V=K(H({name:this.options.messages.measuresLabel,icon:"k-i-sum"})).appendTo(U);var R=K('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(V.last());var T=this.options;this.columns=this._createTarget(Q,{filterable:T.filterable,sortable:T.sortable,connectWith:P,messages:{empty:T.messages.columns,fieldMenu:T.messages.fieldMenu}});this.rows=this._createTarget(P,{filterable:T.filterable,setting:"rows",connectWith:Q,messages:{empty:this.options.messages.rows,fieldMenu:this.options.messages.fieldMenu}});this.measures=this._createTarget(R,{setting:"measures",messages:{empty:T.messages.measures}});Q.add(P).add(R).on(O,".k-item:not(.k-empty)",this._toggleHover)},_toggleHover:function(P){K(P.currentTarget).toggleClass("k-state-hover",P.type==="mouseenter")},_resize:function(){var R=this.element;var Q=this.options.height;var P,S;if(!Q){return}if(R.is(":visible")){R.height(Q);S=R.children(".k-columns").children("div.k-state-default");P=(R.outerHeight()-R.innerHeight())/2;Q=Q-(S.outerHeight(true)-S.height())-P;S.height(Q)}},refresh:function(){var P=this.dataSource;if(P.cubeBuilder||this._cube!==P.cube()||this._catalog!==P.catalog()){this.treeView.dataSource.fetch()}this._catalog=this.dataSource.catalog();this._cube=this.dataSource.cube();this._resize();this._progress(false)},destroy:function(){I.fn.destroy.call(this);this.dataSource.unbind("change",this._refreshHandler);this.form.find(".k-list").off(M);this.rows.destroy();this.columns.destroy();this.measures.destroy();this.treeView.destroy();this.element=null;this._refreshHandler=null}});function G(Q,R,P){return{hierarchyUniqueName:Q,uniqueName:R,caption:R,measure:R,name:R,type:P,kpi:true}}function D(P){var Q=P.name;return[G(Q,P.value,"value"),G(Q,P.goal,"goal"),G(Q,P.status,"status"),G(Q,P.trend,"trend")]}L.plugin(F)})(window.kendo.jQuery);(function(W,H,X){if(!H){return}var e=H.module("kendo.directives",[]),k=H.injector(["ng"]),L=k.get("$parse"),h=k.get("$timeout"),f,c=k.get("$log");function A(n){var m=h;try{h=function(o){return o()};return n()}finally{h=m}}var F;var l=(function(){var m={TreeList:"TreeListDataSource",TreeView:"HierarchicalDataSource",Scheduler:"SchedulerDataSource",PanelBar:"$PLAIN",Menu:"$PLAIN",ContextMenu:"$PLAIN"};var n=function(p,o){if(o=="$PLAIN"){return p}return kendo.data[o].create(p)};return function(s,t,r,q){var o=m[r]||"DataSource";var p=n(s.$eval(q),o);s.$watch(q,function(w,v){if(w!==v){var u=n(w,o);var x=P(t);if(x&&typeof x.setDataSource=="function"){x.setDataSource(u)}}});return p}}());var N={kDataSource:true,kOptions:true,kRebind:true,kNgModel:true,kNgDelay:true};var E={name:true,title:true,style:true};function Z(p,n,o,m){n[o]=H.copy(p.$eval(m));if(n[o]===X&&m.match(/^\w*$/)){c.warn(o+" attribute resolved to undefined. Maybe you meant to use a string literal like: '"+m+"'?")}}function S(q,s,p,w,n,o){if(!(s instanceof jQuery)){throw new Error("The Kendo UI directives require jQuery to be available before AngularJS. Please include jquery before angular in the document.")}var m=p.kNgDelay,t=q.$eval(m);o=o||[];var r=o[0],u=o[1];if(m&&!t){var v=q.$root||q;var x=function(){var z=q.$watch(m,function(Ab,Aa){if(Ab!==Aa){z();s.removeAttr(p.$attr.kNgDelay);m=null;h(y)}})};if(/^\$(digest|apply)$/.test(v.$$phase)){x()}else{q.$apply(x)}return}else{return y()}function y(){var Ad;if(p.kRebind){Ad=W(W(s)[0].cloneNode(true))}var Aj=w.replace(/^kendo/,"");var Ag=H.extend({},p.defaultOptions,q.$eval(p.kOptions||p.options));var Ac=W(s)[w];if(!Ac){window.console.error("Could not find: "+w);return null}var z=Ac.widget.prototype.options;var Ab=Ac.widget.prototype.events;W.each(p,function(Ap,Aq){if(Ap==="source"||Ap==="kDataSource"||Ap==="kScopeField"){return}var Ao="data"+Ap.charAt(0).toUpperCase()+Ap.slice(1);if(Ap.indexOf("on")===0){var Ar=Ap.replace(/^on./,function(As){return As.charAt(2).toLowerCase()});if(Ab.indexOf(Ar)>-1){Ag[Ar]=Aq}}if(z.hasOwnProperty(Ao)){Z(q,Ag,Ao,Aq)}else{if(z.hasOwnProperty(Ap)&&!E[Ap]){Z(q,Ag,Ap,Aq)}else{if(!N[Ap]){var An=Ap.match(/^k(On)?([A-Z].*)/);if(An){var Am=An[2].charAt(0).toLowerCase()+An[2].slice(1);if(An[1]&&Ap!="kOnLabel"){Ag[Am]=Aq}else{if(Ap=="kOnLabel"){Am="onLabel"}Z(q,Ag,Am,Aq)}}}}}});var Al=p.kDataSource||p.source;if(Al){Ag.dataSource=l(q,s,Aj,Al)}Ag.$angular=[q];if(s.is("select")){(function(Am){if(Am.length>0){var An=W(Am[0]);if(!/\S/.test(An.text())&&/^\?/.test(An.val())){An.remove()}}}(s[0].options))}var Ah=Ac.call(s,F=Ag).data(w);O(Ah,q,p,w,n);q.$emit("kendoWidgetCreated",Ah);var Af=Q(q,Ah);if(p.kRebind){a(Ah,q,s,Ad,p.kRebind,Af,p)}if(p.kNgDisabled){var Ae=p.kNgDisabled;var Ak=q.$eval(Ae);if(Ak){Ah.enable(!Ak)}d(Ah,q,s,Ae)}if(p.kNgReadonly){var Ai=p.kNgReadonly;var Aa=q.$eval(Ai);if(Aa){Ah.readonly(Aa)}g(Ah,q,s,Ai)}if(p.kNgModel){Y(Ah,q,p.kNgModel)}if(r){b(Ah,q,s,r,u)}if(Ah){B(Ah,s)}return Ah}}function d(p,o,n,m){if((kendo.ui.PanelBar&&p instanceof kendo.ui.PanelBar)||(kendo.ui.Menu&&p instanceof kendo.ui.Menu)){c.warn("k-ng-disabled specified on a widget that does not have the enable() method: "+(p.options.name));return}o.$apply(function(){o.$watch(m,function(r,q){if(r!=q){p.enable(!r)}})})}function g(p,o,m,n){if(typeof p.readonly!="function"){c.warn("k-ng-readonly specified on a widget that does not have the readonly() method: "+(p.options.name));return}o.$apply(function(){o.$watch(n,function(r,q){if(r!=q){p.readonly(r)}})})}function O(q,p,n,m,o){if(n[o]){var r=L(n[o]).assign;if(r){r(p,q)}else{throw new Error(o+" attribute used but expression in it is not assignable: "+n[m])}}}function C(m){if(/checkbox|radio/i.test(m.attr("type"))){return m.prop("checked")}return m.val()}var G=/^(input|select|textarea)$/i;function j(m){return G.test(m[0].tagName)}function b(t,n,m,o,p){if(!t.value){return}var q;if(j(m)){q=function(){return C(m)}}else{q=function(){return t.value()}}o.$render=function(){var v=o.$viewValue;if(v===X){v=o.$modelValue}if(v===X){v=null}setTimeout(function(){if(t){t.value(v)}},0)};var s=false;if(j(m)){m.on("change",function(){s=true})}var r=function(v){return function(){var w;if(s){return}s=false;if(v&&p){w=p.$pristine}o.$setViewValue(q());if(v){o.$setPristine();if(w){p.$setPristine()}}M(n)}};t.first("change",r(false));if(!(kendo.ui.AutoComplete&&t instanceof kendo.ui.AutoComplete)){t.first("dataBound",r(true))}var u=q();if(u!=o.$viewValue){if(!o.$isEmpty(o.$viewValue)){t.value(o.$viewValue)}else{if(u!=null&&u!==""&&u!=o.$viewValue){o.$setViewValue(u)}}}o.$setPristine()}function Y(t,o,m){if(typeof t.value!="function"){c.warn("k-ng-model specified on a widget that does not have the value() method: "+(t.options.name));return}var n=W(t.element).parents("form");var q=o[n.attr("name")];var p=L(m);var r=p.assign;var s=false;t.$angular_setLogicValue(p(o));var u=function(w,v){if(w===X){w=null}if(s){return}if(w===v){return}t.$angular_setLogicValue(w)};if(kendo.ui.MultiSelect&&t instanceof kendo.ui.MultiSelect){o.$watchCollection(m,u)}else{o.$watch(m,u)}t.first("change",function(){s=true;if(q&&q.$pristine){q.$setDirty()}o.$apply(function(){r(o,t.$angular_getLogicValue())});s=false})}function Q(n,o){var m=n.$on("$destroy",function(){m();if(o){if(o.element){o=P(o.element);if(o){o.destroy()}}o=null}});return m}function B(q,n){if(!(window.MutationObserver&&q.wrapper)){return}var p=[].slice.call(W(n)[0].classList);var m=new MutationObserver(function(s){o();if(!q){return}s.forEach(function(t){var u=W(q.wrapper)[0];switch(t.attributeName){case"class":var v=[].slice.call(t.target.classList);v.forEach(function(w){if(p.indexOf(w)<0){u.classList.add(w);if(kendo.ui.ComboBox&&q instanceof kendo.ui.ComboBox){q.input[0].classList.add(w)}}});p.forEach(function(w){if(v.indexOf(w)<0){u.classList.remove(w);if(kendo.ui.ComboBox&&q instanceof kendo.ui.ComboBox){q.input[0].classList.remove(w)}}});p=v;break;case"disabled":if(typeof q.enable=="function"){q.enable(!W(t.target).attr("disabled"))}break;case"readonly":if(typeof q.readonly=="function"){q.readonly(!!W(t.target).attr("readonly"))}break}});r()});function o(){m.disconnect()}function r(){m.observe(W(n)[0],{attributes:true})}r();q.first("destroy",o)}function a(t,p,n,r,m,s,o){var q=p.$watch(m,function(z,v){if(z!==v){q();var x=U[t.options.name];if(x){x.forEach(function(Aa){var Ab=p.$eval(o["k"+Aa]);if(Ab){r.append(W(Ab).attr(kendo.toHyphens("k"+Aa),""))}})}var u=W(t.wrapper)[0];var w=W(t.element)[0];var y=n.injector().get("$compile");t.destroy();if(s){s()}t=null;if(u&&w){u.parentNode.replaceChild(w,u);W(n).replaceWith(r)}y(r)(p)}},true);M(p)}e.factory("directiveFactory",["$compile",function(n){var p;var m=false;f=n;var o=function(q,r){return{restrict:"AC",require:["?ngModel","^?form"],scope:false,controller:["$scope","$attrs","$element",function(u,t,v){var s=this;s.template=function(w,x){t[w]=kendo.stringify(x)};u.$on("$destroy",function(){s.template=null;s=null})}],link:function(v,w,t,y){var s=W(w);var x=q.replace(/([A-Z])/g,"-$1");s.attr(x,s.attr("data-"+x));s[0].removeAttribute("data-"+x);var u=S(v,w,t,q,r,y);if(!u){return}if(p){clearTimeout(p)}p=setTimeout(function(){v.$emit("kendoRendered");if(!m){m=true;W("form").each(function(){var z=W(this).controller("form");if(z){z.$setPristine()}})}})}}};return{create:o}}]);var J={Editor:"textarea",NumericTextBox:"input",DatePicker:"input",DateTimePicker:"input",TimePicker:"input",AutoComplete:"input",ColorPicker:"input",MaskedTextBox:"input",MultiSelect:"input",Upload:"input",Validator:"form",Button:"button",MobileButton:"a",MobileBackButton:"a",MobileDetailButton:"a",ListView:"ul",MobileListView:"ul",TreeView:"ul",Menu:"ul",ContextMenu:"ul",ActionSheet:"ul"};var I=["MobileView","MobileLayout","MobileSplitView","MobilePane","MobileModalView"];var R=["MobileApplication","MobileView","MobileModalView","MobileLayout","MobileActionSheet","MobileDrawer","MobileSplitView","MobilePane","MobileScrollView","MobilePopOver"];H.forEach(["MobileNavBar","MobileButton","MobileBackButton","MobileDetailButton","MobileTabStrip","MobileScrollView","MobileScroller"],function(m){R.push(m);m="kendo"+m;e.directive(m,function(){return{restrict:"A",link:function(o,p,n,q){S(o,p,n,m,m)}}})});function D(s,p){function m(v,u){e.directive(v,["directiveFactory",function(w){return w.create(u,v)}])}var n=p?"Mobile":"";n+=s.fn.options.name;var t=n;var r="kendo"+n.charAt(0)+n.substr(1).toLowerCase();n="kendo"+n;var q=n.replace(/([A-Z])/g,"-$1");if(I.indexOf(n.replace("kendo",""))==-1){var o=n===r?[n]:[n,r];H.forEach(o,function(u){e.directive(u,function(){return{restrict:"E",replace:true,template:function(x,w){var v=J[t]||"div";var y=w.kScopeField;return"<"+v+" "+q+(y?('="'+y+'"'):"")+">"+x.html()+"</"+v+">"}}})})}if(R.indexOf(n.replace("kendo",""))>-1){return}m(n,n);if(r!=n){m(r,n)}}(function(){function m(n){return function(o){H.forEach(o,function(p){if(p.fn&&p.fn.options&&p.fn.options.name&&(/^[A-Z]/).test(p.fn.options.name)){D(p,n)}})}}H.forEach([kendo.ui,kendo.dataviz&&kendo.dataviz.ui],m(false));H.forEach([kendo.mobile&&kendo.mobile.ui],m(true))})();function P(m){m=W(m);return kendo.widgetInstance(m,kendo.ui)||kendo.widgetInstance(m,kendo.mobile.ui)||kendo.widgetInstance(m,kendo.dataviz.ui)}function M(o,m){var n=o.$root||o;var p=/^\$(digest|apply)$/.test(n.$$phase);if(m){if(p){m()}else{n.$apply(m)}}else{if(!p){n.$digest()}}}function V(n,m){n.$destroy();if(m){W(m).removeData("$scope").removeData("$$kendoScope").removeData("$isolateScope").removeData("$isolateScopeNoTemplate").removeClass("ng-scope")}}var T=[];function K(q,o,n){if(W.isArray(q)){return H.forEach(q,function(s){K(s,o,n)})}if(typeof q=="string"){var r=q.split(".");var p=kendo;while(p&&r.length>0){p=p[r.shift()]}if(!p){T.push([q,o,n]);return false}q=p.prototype}var m=q[o];q[o]=function(){var s=this,t=arguments;return n.apply({self:s,next:function(){return m.apply(s,arguments.length>0?arguments:t)}},t)};return true}K(kendo.ui,"plugin",function(o,n,m){this.next();T=W.grep(T,function(p){return !K.apply(null,p)});D(o,m=="Mobile")});K(["ui.Widget","mobile.ui.Widget"],"angular",function(o,n){var m=this.self;if(o=="init"){if(!n&&F){n=F}F=null;if(n&&n.$angular){m.$angular_scope=n.$angular[0];m.$angular_init(m.element,n)}return}var p=m.$angular_scope;if(p){A(function(){var t=n(),s=t.elements,u=t.data;if(s.length>0){switch(o){case"cleanup":H.forEach(s,function(v){var w=W(v).data("$$kendoScope");if(w&&w!==p&&w.$$kendoScope){V(w,v)}});break;case"compile":var q=m.element.injector();var r=q?q.get("$compile"):f;H.forEach(s,function(v,w){var y;if(t.scopeFrom){y=t.scopeFrom}else{var x=u&&u[w];if(x!==X){y=W.extend(p.$new(),x);y.$$kendoScope=true}else{y=p}}W(v).data("$$kendoScope",y);r(v)(y)});M(p);break}}})}});K("ui.Widget","$angular_getLogicValue",function(){return this.self.value()});K("ui.Widget","$angular_setLogicValue",function(m){this.self.value(m)});K("ui.Select","$angular_getLogicValue",function(){var n=this.self.dataItem(),m=this.self.options.dataValueField;if(n){if(this.self.options.valuePrimitive){if(!!m){return n[m]}else{return n}}else{return n.toJSON()}}else{return null}});K("ui.Select","$angular_setLogicValue",function(q){var n=this.self;var p=n.options;var o=p.dataValueField;var m=p.text||"";if(q===X){q=""}if(o&&!p.valuePrimitive&&q){m=q[p.dataTextField]||"";q=q[o||p.dataTextField]}if(n.options.autoBind===false&&!n.listView.isBound()){if(!m&&q&&p.valuePrimitive){n.value(q)}else{n._preselect(q,m)}}else{n.value(q)}});K("ui.MultiSelect","$angular_getLogicValue",function(){var n=this.self.dataItems().slice(0);var m=this.self.options.dataValueField;if(m&&this.self.options.valuePrimitive){n=W.map(n,function(o){return o[m]})}return n});K("ui.MultiSelect","$angular_setLogicValue",function(p){if(p==null){p=[]}var m=this.self;var o=m.options;var n=o.dataValueField;var q=p;if(n&&!o.valuePrimitive){p=W.map(p,function(r){return r[n]})}if(o.autoBind===false&&!o.valuePrimitive&&!m.listView.isBound()){m._preselect(q,p)}else{m.value(p)}});K("ui.AutoComplete","$angular_getLogicValue",function(){var s=this.self.options;var t=this.self.value().split(s.separator);var n=s.valuePrimitive;var m=this.self.dataSource.data();var o=[];for(var p=0,q=m.length;p<q;p++){var v=m[p];var u=s.dataTextField?v[s.dataTextField]:v;for(var r=0;r<t.length;r++){if(u===t[r]){if(n){o.push(u)}else{o.push(v.toJSON())}break}}}return o});K("ui.AutoComplete","$angular_setLogicValue",function(o){if(o==null){o=[]}var n=this.self,m=n.options.dataTextField;if(m&&!n.options.valuePrimitive){o=W.map(o,function(p){return p[m]})}n.value(o)});K("ui.Widget","$angular_init",function(s,p){var n=this.self;if(p&&!W.isArray(p)){var r=n.$angular_scope;for(var m=n.events.length;--m>=0;){var q=n.events[m];var o=p[q];if(o&&typeof o=="string"){p[q]=n.$angular_makeEventHandler(q,r,o)}}}});K("ui.Widget","$angular_makeEventHandler",function(n,o,m){m=L(m);return function(p){M(o,function(){m(o,{kendoEvent:p})})}});K(["ui.Grid","ui.ListView","ui.TreeView"],"$angular_makeEventHandler",function(n,o,m){if(n!="change"){return this.next()}m=L(m);return function(q){var x=q.sender;var v=x.options;var Ab,w,y={kendoEvent:q},z,p,r,t;if(H.isString(v.selectable)){Ab=v.selectable.indexOf("cell")!==-1;w=v.selectable.indexOf("multiple")!==-1}z=y.selected=this.select();p=y.data=[];r=y.columns=[];for(var u=0;u<z.length;u++){var s=Ab?z[u].parentNode:z[u];var Aa=x.dataItem(s);if(Ab){if(H.element.inArray(Aa,p)<0){p.push(Aa)}t=H.element(z[u]).index();if(H.element.inArray(t,r)<0){r.push(t)}}else{p.push(Aa)}}if(!w){y.dataItem=y.data=p[0];y.selected=z[0]}M(o,function(){m(o,y)})}});K("ui.Grid","$angular_init",function(o,m){this.next();if(m.columns){var n=W.extend({},kendo.Template,m.templateSettings);H.forEach(m.columns,function(p){if(p.field&&!p.template&&!p.format&&!p.values&&(p.encoded===X||p.encoded)){p.template="<span ng-bind='"+kendo.expr(p.field,"dataItem")+"'>#: "+kendo.expr(p.field,n.paramName)+"#</span>"}})}});K("mobile.ui.ButtonGroup","value",function(n){var m=this.self;if(n!=null){m.select(m.element.children("li.km-button").eq(n));m.trigger("change");m.trigger("select",{index:m.selectedIndex})}return m.selectedIndex});K("mobile.ui.ButtonGroup","_select",function(){this.next();this.self.trigger("change")});e.directive("kendoMobileApplication",function(){return{terminal:true,link:function(n,o,m,p){S(n,o,m,"kendoMobileApplication","kendoMobileApplication")}}}).directive("kendoMobileView",function(){return{scope:true,link:{pre:function(n,o,m,p){m.defaultOptions=n.viewOptions;m._instance=S(n,o,m,"kendoMobileView","kendoMobileView")},post:function(n,o,m){m._instance._layout();m._instance._scroller()}}}}).directive("kendoMobileDrawer",function(){return{scope:true,link:{pre:function(n,o,m,p){m.defaultOptions=n.viewOptions;m._instance=S(n,o,m,"kendoMobileDrawer","kendoMobileDrawer")},post:function(n,o,m){m._instance._layout();m._instance._scroller()}}}}).directive("kendoMobileModalView",function(){return{scope:true,link:{pre:function(n,o,m,p){m.defaultOptions=n.viewOptions;m._instance=S(n,o,m,"kendoMobileModalView","kendoMobileModalView")},post:function(n,o,m){m._instance._layout();m._instance._scroller()}}}}).directive("kendoMobileSplitView",function(){return{terminal:true,link:{pre:function(n,o,m,p){m.defaultOptions=n.viewOptions;m._instance=S(n,o,m,"kendoMobileSplitView","kendoMobileSplitView")},post:function(n,o,m){m._instance._layout()}}}}).directive("kendoMobilePane",function(){return{terminal:true,link:{pre:function(n,o,m,p){m.defaultOptions=n.viewOptions;S(n,o,m,"kendoMobilePane","kendoMobilePane")}}}}).directive("kendoMobileLayout",function(){return{link:{pre:function(n,o,m,p){S(n,o,m,"kendoMobileLayout","kendoMobileLayout")}}}}).directive("kendoMobileActionSheet",function(){return{restrict:"A",link:function(n,o,m,p){o.find("a[k-action]").each(function(){W(this).attr("data-"+kendo.ns+"action",W(this).attr("k-action"))});S(n,o,m,"kendoMobileActionSheet","kendoMobileActionSheet")}}}).directive("kendoMobilePopOver",function(){return{terminal:true,link:{pre:function(n,o,m,p){m.defaultOptions=n.viewOptions;S(n,o,m,"kendoMobilePopOver","kendoMobilePopOver")}}}}).directive("kendoViewTitle",function(){return{restrict:"E",replace:true,template:function(n,m){return"<span data-"+kendo.ns+"role='view-title'>"+n.html()+"</span>"}}}).directive("kendoMobileHeader",function(){return{restrict:"E",link:function(n,o,m,p){o.addClass("km-header").attr("data-role","header")}}}).directive("kendoMobileFooter",function(){return{restrict:"E",link:function(n,o,m,p){o.addClass("km-footer").attr("data-role","footer")}}}).directive("kendoMobileScrollViewPage",function(){return{restrict:"E",replace:true,template:function(n,m){return"<div data-"+kendo.ns+"role='page'>"+n.html()+"</div>"}}});H.forEach(["align","icon","rel","transition","actionsheetContext"],function(n){var m="k"+n.slice(0,1).toUpperCase()+n.slice(1);e.directive(m,function(){return{restrict:"A",priority:2,link:function(p,q,o){q.attr(kendo.attr(kendo.toHyphens(n)),p.$eval(o[m]))}}})});var U={"TreeMap":["Template"],"MobileListView":["HeaderTemplate","Template"],"MobileScrollView":["EmptyTemplate","Template"],"Grid":["AltRowTemplate","DetailTemplate","RowTemplate"],"ListView":["EditTemplate","Template","AltTemplate"],"Pager":["SelectTemplate","LinkTemplate"],"PivotGrid":["ColumnHeaderTemplate","DataCellTemplate","RowHeaderTemplate"],"Scheduler":["AllDayEventTemplate","DateHeaderTemplate","EventTemplate","MajorTimeHeaderTemplate","MinorTimeHeaderTemplate"],"TreeView":["Template"],"Validator":["ErrorTemplate"]};(function(){var m={};H.forEach(U,function(n,o){H.forEach(n,function(p){if(!m[p]){m[p]=[]}m[p].push("?^^kendo"+o)})});H.forEach(m,function(o,n){var p="k"+n;var q=kendo.toHyphens(p);e.directive(p,function(){return{restrict:"A",require:o,terminal:true,compile:function(s,r){if(r[p]!==""){return}s.removeAttr(q);var t=s[0].outerHTML;return function(w,x,u,y){var v;while(!v&&y.length){v=y.shift()}if(!v){c.warn(q+" without a matching parent widget found. It can be one of the following: "+o.join(", "))}else{v.template(p,t);s.remove()}}}}})})})()})(window.kendo.jQuery,window.angular);(function(W,V){var T=window.kendo,B=T.ui.Widget,M=T._activeElement,O=W.proxy,J=T.ui,Y="search",A="change",C="clear",E=".kendoSearchbox",D="<span/>",X="click"+E,P="disabled",K="readonly",N="aria-disabled",I="aria-readonly",F="k-state-default",R="k-state-focused",Q="k-state-hover",H="k-state-disabled",L="mouseenter"+E+" mouseleave"+E,U="mousedown"+E;var S=B.extend({init:function(d,c){var b=this,Z;B.fn.init.call(b,d,c);d=b.element;c=b.options;b._wrapper();b._icons();b._reset();try{d[0].setAttribute("type","text")}catch(a){d[0].type="text"}d.addClass("k-input").attr({"role":"searchbox","aria-haspopup":false,"aria-expanded":false});Z=d.is("[disabled]");if(Z){b.enable(false)}else{b.readonly(true)}b._old=b._update(c.value||b.element.val());b._oldText=d.val();T.notify(b)},events:[Y,C,A],options:{name:"Searchbox",value:null,clear:function(){var Z=this;Z.value("")}},setOptions:function(a){var Z=this;B.fn.setOptions.call(Z,a);a=Z.options},_editable:function(c){var b=this,Z=b.element.off(E),d=b._clearIcon.off(E),a=b._searchIcon.off(E),f=b._inputWrapper.off(E),e=c.readonly,g=c.disable;if(e){f.addClass(F).removeClass(H).on(L,b._toggleHover);Z.attr(P,g).attr(K,e);d.on(U,G).on(X,function(){b._clear(Z);if(!T.support.touch&&Z[0]!==M()){Z.focus()}});a.on(U,G).on(X,function(){b._search(Z);if(!T.support.touch&&Z[0]!==M()){Z.focus()}})}else{if(g){f.addClass(g?H:F).removeClass(g?F:H);Z.attr(P,g).attr(K,e).attr(N,g).attr(I,e)}else{f.addClass(F).removeClass(H).on(L,b._toggleHover);Z.removeAttr(P).removeAttr(K).on("keydown"+E,W.proxy(b._keydown,b)).on("focus"+E,function(){b._inputWrapper.addClass(R)}).on("blur"+E,function(){b._inputWrapper.removeClass(R);if(Z.val()!==b._oldText){b._change(Z.val())}});d.on(U,G).on(X,function(){b._clear(Z);if(!T.support.touch&&Z[0]!==M()){Z.focus()}});a.on(U,G).on(X,function(){b._search(Z);if(!T.support.touch&&Z[0]!==M()){Z.focus()}})}}},readonly:function(Z){this._editable({readonly:Z===V?true:Z,disable:false})},enable:function(Z){this._editable({readonly:false,disable:!(Z=Z===V?true:Z)})},destroy:function(){var Z=this;B.fn.destroy.call(Z);Z.element.off(E);Z._clearIcon.off(E);Z._searchIcon.off(E);Z._inputWrapper.off(E);if(Z._form){Z._form.off("reset",Z._resetHandler)}},value:function(a){var Z=this;if(a===V){return Z._value}Z._old=Z._update(a);if(Z._old===null){Z.element.val("")}Z._oldText=Z.element.val()},_search:function(Z){this.trigger(Y,{event:Z})},_clear:function(Z){var a=this;a._update("");this.trigger(C,{event:Z})},_change:function(a){var Z=this;a=Z._update(a);if(+Z._old!=+a){Z._old=a;Z._oldText=Z.element.val();Z.trigger(A);Z.element.trigger(A)}},_update:function(b){var Z=this,a=Z.options;Z._value=b;Z.element.val(b).attr("aria-valuenow",b)},_wrapper:function(){var a=this,b=a.element,Z;Z=b.parents(".k-combobox");if(!Z[0]){Z=b.wrap(D).parent().addClass("k-picker-wrap k-state-default");Z=Z.wrap(D).parent()}Z[0].style.cssText=b[0].style.cssText;b.css({width:"100%",height:b[0].style.height});a.wrapper=Z.addClass("k-widget k-combobox k-searchbox k-header");a._inputWrapper=W(Z[0].firstChild)},_icons:function(){var a=this,b=a.element,Z;Z=b.next("span.k-select");if(!Z[0]){Z=W('<span class="k-select k-delete-btn" style="margin-right: 22px;border-left: none;"><span class="k-icon k-i-close"></span></span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-search">select</span></span>').insertAfter(b)}Z=Z.children();a._clearIcon=Z.eq(0).attr({"role":"button"});a._searchIcon=Z.eq(1).attr({"role":"button"})},_reset:function(){var b=this,c=b.element,a=c.attr("cform"),Z=a?W("#"+a):c.closest("form");if(Z[0]){b._resetHandler=function(){b.value(c[0].defaultValue)};b._form=Z.on("reset",b._resetHandler)}},_toggleHover:function(Z){W(Z.currentTarget).toggleClass(Q,Z.type==="mouseenter")}});function G(Z){Z.preventDefault()}J.plugin(S)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(B,A){A()});